import _objectSpread from "@babel/runtime/helpers/esm/objectSpread2";
import { expect } from 'chai';
import React from 'react';
import sinon from 'sinon';
import { mount } from 'enzyme';
import WithArtifact from '../WithArtifact';
describe('WithArtifact', function () {
  var Dummy = function Dummy(props) {
    return React.createElement("div", null, props.text);
  }; // eslint-disable-line react/prop-types


  var AlignedDummy = WithArtifact(Dummy);
  var artifact = {
    artifactType: 'quizzes.quiz',
    artifactId: '1'
  };

  function makeProps() {
    var props = arguments.length > 0 && arguments[0] !== void 0 ? arguments[0] : {};
    return _objectSpread({
      loadArtifact: sinon.spy()
    }, artifact, {}, props);
  }

  it('renders the inner component with props', function () {
    var wrapper = mount(React.createElement(AlignedDummy, makeProps({
      text: 'foo'
    })));
    expect(wrapper.text()).to.match(/foo/);
  });
  it('loads alignments on mount', function () {
    var props = makeProps();
    mount(React.createElement(AlignedDummy, props));
    expect(props.loadArtifact.calledOnce).to.be.true;
    expect(props.loadArtifact.calledWith(artifact)).to.be.true;
  });
});