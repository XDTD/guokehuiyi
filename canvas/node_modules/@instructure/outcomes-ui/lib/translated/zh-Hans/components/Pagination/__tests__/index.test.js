"use strict";

var _interopRequireDefault = require("@babel/runtime/helpers/interopRequireDefault");

var _chai = require("chai");

var _react = _interopRequireDefault(require("react"));

var _sinon = _interopRequireDefault(require("sinon"));

var _enzyme = require("enzyme");

var _uiPagination = require("@instructure/ui-pagination");

var _index = _interopRequireDefault(require("../index"));

describe('Pagination', function () {
  function makeProps() {
    var props = arguments.length > 0 && arguments[0] !== void 0 ? arguments[0] : {};
    return Object.assign({
      numPages: 2,
      page: 1,
      updatePage: _sinon.default.spy()
    }, props);
  }

  it('renders page numbers', function () {
    var wrapper = (0, _enzyme.mount)(_react.default.createElement(_index.default, makeProps()));
    (0, _chai.expect)(wrapper.find(_uiPagination.Pagination.Page)).to.have.length(2);
  });
  it('calls updatePage when a page is clicked', function () {
    var props = makeProps();
    var wrapper = (0, _enzyme.mount)(_react.default.createElement(_index.default, props));
    wrapper.find(_uiPagination.Pagination.Page).last().simulate('click');
    (0, _chai.expect)(props.updatePage.calledWith(2)).to.be.true;
  });
  it('does not include pagination for 0 results', function () {
    var props = makeProps({
      numPages: 0
    });
    var wrapper = (0, _enzyme.mount)(_react.default.createElement(_index.default, props), {
      disableLifecycleMethods: true
    });
    var nextPageButton = wrapper.find('button').findWhere(function (z) {
      return z.text() == 'Next Page';
    });
    (0, _chai.expect)(nextPageButton).to.have.length(0);
  });
});