!function(t,e){if("object"==typeof exports&&"object"==typeof module)module.exports=e(require("react"),require("prop-types"),require("data-uri-to-blob"));else if("function"==typeof define&&define.amd)define(["react","prop-types","data-uri-to-blob"],e);else{var n="object"==typeof exports?e(require("react"),require("prop-types"),require("data-uri-to-blob")):e(t.react,t["prop-types"],t["data-uri-to-blob"]);for(var o in n)("object"==typeof exports?exports:t)[o]=n[o]}}(window,function(t,e,n){return function(t){var e={};function n(o){if(e[o])return e[o].exports;var r=e[o]={i:o,l:!1,exports:{}};return t[o].call(r.exports,r,r.exports,n),r.l=!0,r.exports}return n.m=t,n.c=e,n.d=function(t,e,o){n.o(t,e)||Object.defineProperty(t,e,{enumerable:!0,get:o})},n.r=function(t){"undefined"!=typeof Symbol&&Symbol.toStringTag&&Object.defineProperty(t,Symbol.toStringTag,{value:"Module"}),Object.defineProperty(t,"__esModule",{value:!0})},n.t=function(t,e){if(1&e&&(t=n(t)),8&e)return t;if(4&e&&"object"==typeof t&&t&&t.__esModule)return t;var o=Object.create(null);if(n.r(o),Object.defineProperty(o,"default",{enumerable:!0,value:t}),2&e&&"string"!=typeof t)for(var r in t)n.d(o,r,function(e){return t[e]}.bind(null,r));return o},n.n=function(t){var e=t&&t.__esModule?function(){return t.default}:function(){return t};return n.d(e,"a",e),e},n.o=function(t,e){return Object.prototype.hasOwnProperty.call(t,e)},n.p="",n(n.s=8)}([function(e,n){e.exports=t},function(t,n){t.exports=e},function(t,e){t.exports=n},function(t,e,n){var o=n(4);"string"==typeof o&&(o=[[t.i,o,""]]);var r={hmr:!0,transform:void 0,insertInto:void 0};n(6)(o,r);o.locals&&(t.exports=o.locals)},function(t,e,n){(t.exports=n(5)(!1)).push([t.i,".Cropper {\n  position: relative;\n  display: inline-block;\n  max-width:100%;\n  max-height:100%;\n}\n\n.box {\n  position: absolute;\n  top: 0;\n  left: 0;\n  bottom: 0;\n  right: 0;\n}\n\n.Cropper-box {\n  position: absolute;\n  top: 0;\n  left: 0;\n  bottom: 0;\n  right: 0;\n  cursor: move;\n  border: #fff solid 1px;\n}\n\n.Cropper-canvas {\n  visibility: hidden;\n  position: absolute;\n}\n\n.Cropper-image {\n  vertical-align: middle;\n  max-width: 100%;\n  position: relative;\n  transform: translate(-50%, -50%);\n  left: 50%;\n}\n\n.resize-handle {\n  position: absolute;\n  background-color: #ECEEEF;\n  border: #8295AB solid 1px;\n  width: 13px;\n  height: 13px;\n  z-index: 1;\n}\n\n.resize-handle-se {\n  bottom: 0;\n  right: 0;\n  cursor: nwse-resize;\n  transform: translate(50%, 50%);\n}\n.resize-handle-ne {\n  right: 0;\n  top: 0;\n  cursor: nesw-resize;\n  transform: translate(50%, -50%);\n}\n.resize-handle-sw {\n  bottom: 0;\n  left: 0;\n  cursor: nesw-resize;\n  transform: translate(-50%, 50%);\n}\n.resize-handle-nw {\n  top: 0;\n  bottom: 0;\n  cursor: nwse-resize;\n  transform: translate(-50%, -50%);\n}\n\n.DraggableResizable {\n  position: relative;\n  width: 100%;\n  height: 100%;\n}\n\n.DraggableResizable-controls {\n  border: 0;\n  clip: rect(0 0 0 0);\n  height: 1px;\n  margin: -1px;\n  overflow: hidden;\n  padding: 0;\n  position: absolute;\n  width: 1px;\n}\n\n.DraggableResizable-top,\n.DraggableResizable-left,\n.DraggableResizable-bottom,\n.DraggableResizable-right {\n  position: absolute;\n  background-color: rgba(0,0,0,.7);\n}\n\n.DraggableResizable-top {\n  top: 0;\n  left: 0;\n  right: 0;\n}\n.DraggableResizable-bottom {\n  bottom: 0;\n  left: 0;\n  right: 0;\n}\n.DraggableResizable-left {\n  left: 0;\n}\n.DraggableResizable-right {\n  right: 0;\n}\n",""])},function(t,e){t.exports=function(t){var e=[];return e.toString=function(){return this.map(function(e){var n=function(t,e){var n=t[1]||"",o=t[3];if(!o)return n;if(e&&"function"==typeof btoa){var r=function(t){return"/*# sourceMappingURL=data:application/json;charset=utf-8;base64,"+btoa(unescape(encodeURIComponent(JSON.stringify(t))))+" */"}(o),i=o.sources.map(function(t){return"/*# sourceURL="+o.sourceRoot+t+" */"});return[n].concat(i).concat([r]).join("\n")}return[n].join("\n")}(e,t);return e[2]?"@media "+e[2]+"{"+n+"}":n}).join("")},e.i=function(t,n){"string"==typeof t&&(t=[[null,t,""]]);for(var o={},r=0;r<this.length;r++){var i=this[r][0];"number"==typeof i&&(o[i]=!0)}for(r=0;r<t.length;r++){var a=t[r];"number"==typeof a[0]&&o[a[0]]||(n&&!a[2]?a[2]=n:n&&(a[2]="("+a[2]+") and ("+n+")"),e.push(a))}},e}},function(t,e,n){var o={},r=function(t){var e;return function(){return void 0===e&&(e=t.apply(this,arguments)),e}}(function(){return window&&document&&document.all&&!window.atob}),i=function(t){var e={};return function(t,n){if("function"==typeof t)return t();if(void 0===e[t]){var o=function(t,e){return e?e.querySelector(t):document.querySelector(t)}.call(this,t,n);if(window.HTMLIFrameElement&&o instanceof window.HTMLIFrameElement)try{o=o.contentDocument.head}catch(t){o=null}e[t]=o}return e[t]}}(),a=null,s=0,l=[],u=n(7);function c(t,e){for(var n=0;n<t.length;n++){var r=t[n],i=o[r.id];if(i){i.refs++;for(var a=0;a<i.parts.length;a++)i.parts[a](r.parts[a]);for(;a<r.parts.length;a++)i.parts.push(m(r.parts[a],e))}else{var s=[];for(a=0;a<r.parts.length;a++)s.push(m(r.parts[a],e));o[r.id]={id:r.id,refs:1,parts:s}}}}function p(t,e){for(var n=[],o={},r=0;r<t.length;r++){var i=t[r],a=e.base?i[0]+e.base:i[0],s={css:i[1],media:i[2],sourceMap:i[3]};o[a]?o[a].parts.push(s):n.push(o[a]={id:a,parts:[s]})}return n}function h(t,e){var n=i(t.insertInto);if(!n)throw new Error("Couldn't find a style target. This probably means that the value for the 'insertInto' parameter is invalid.");var o=l[l.length-1];if("top"===t.insertAt)o?o.nextSibling?n.insertBefore(e,o.nextSibling):n.appendChild(e):n.insertBefore(e,n.firstChild),l.push(e);else if("bottom"===t.insertAt)n.appendChild(e);else{if("object"!=typeof t.insertAt||!t.insertAt.before)throw new Error("[Style Loader]\n\n Invalid value for parameter 'insertAt' ('options.insertAt') found.\n Must be 'top', 'bottom', or Object.\n (https://github.com/webpack-contrib/style-loader#insertat)\n");var r=i(t.insertAt.before,n);n.insertBefore(e,r)}}function f(t){if(null===t.parentNode)return!1;t.parentNode.removeChild(t);var e=l.indexOf(t);e>=0&&l.splice(e,1)}function d(t){var e=document.createElement("style");if(void 0===t.attrs.type&&(t.attrs.type="text/css"),void 0===t.attrs.nonce){var o=function(){0;return n.nc}();o&&(t.attrs.nonce=o)}return b(e,t.attrs),h(t,e),e}function b(t,e){Object.keys(e).forEach(function(n){t.setAttribute(n,e[n])})}function m(t,e){var n,o,r,i;if(e.transform&&t.css){if(!(i=e.transform(t.css)))return function(){};t.css=i}if(e.singleton){var l=s++;n=a||(a=d(e)),o=v.bind(null,n,l,!1),r=v.bind(null,n,l,!0)}else t.sourceMap&&"function"==typeof URL&&"function"==typeof URL.createObjectURL&&"function"==typeof URL.revokeObjectURL&&"function"==typeof Blob&&"function"==typeof btoa?(n=function(t){var e=document.createElement("link");return void 0===t.attrs.type&&(t.attrs.type="text/css"),t.attrs.rel="stylesheet",b(e,t.attrs),h(t,e),e}(e),o=function(t,e,n){var o=n.css,r=n.sourceMap,i=void 0===e.convertToAbsoluteUrls&&r;(e.convertToAbsoluteUrls||i)&&(o=u(o));r&&(o+="\n/*# sourceMappingURL=data:application/json;base64,"+btoa(unescape(encodeURIComponent(JSON.stringify(r))))+" */");var a=new Blob([o],{type:"text/css"}),s=t.href;t.href=URL.createObjectURL(a),s&&URL.revokeObjectURL(s)}.bind(null,n,e),r=function(){f(n),n.href&&URL.revokeObjectURL(n.href)}):(n=d(e),o=function(t,e){var n=e.css,o=e.media;o&&t.setAttribute("media",o);if(t.styleSheet)t.styleSheet.cssText=n;else{for(;t.firstChild;)t.removeChild(t.firstChild);t.appendChild(document.createTextNode(n))}}.bind(null,n),r=function(){f(n)});return o(t),function(e){if(e){if(e.css===t.css&&e.media===t.media&&e.sourceMap===t.sourceMap)return;o(t=e)}else r()}}t.exports=function(t,e){if("undefined"!=typeof DEBUG&&DEBUG&&"object"!=typeof document)throw new Error("The style-loader cannot be used in a non-browser environment");(e=e||{}).attrs="object"==typeof e.attrs?e.attrs:{},e.singleton||"boolean"==typeof e.singleton||(e.singleton=r()),e.insertInto||(e.insertInto="head"),e.insertAt||(e.insertAt="bottom");var n=p(t,e);return c(n,e),function(t){for(var r=[],i=0;i<n.length;i++){var a=n[i];(s=o[a.id]).refs--,r.push(s)}t&&c(p(t,e),e);for(i=0;i<r.length;i++){var s;if(0===(s=r[i]).refs){for(var l=0;l<s.parts.length;l++)s.parts[l]();delete o[s.id]}}}};var g=function(){var t=[];return function(e,n){return t[e]=n,t.filter(Boolean).join("\n")}}();function v(t,e,n,o){var r=n?"":o.css;if(t.styleSheet)t.styleSheet.cssText=g(e,r);else{var i=document.createTextNode(r),a=t.childNodes;a[e]&&t.removeChild(a[e]),a.length?t.insertBefore(i,a[e]):t.appendChild(i)}}},function(t,e){t.exports=function(t){var e="undefined"!=typeof window&&window.location;if(!e)throw new Error("fixUrls requires window.location");if(!t||"string"!=typeof t)return t;var n=e.protocol+"//"+e.host,o=n+e.pathname.replace(/\/[^\/]*$/,"/");return t.replace(/url\s*\(((?:[^)(]|\((?:[^)(]+|\([^)(]*\))*\))*)\)/gi,function(t,e){var r,i=e.trim().replace(/^"(.*)"$/,function(t,e){return e}).replace(/^'(.*)'$/,function(t,e){return e});return/^(#|data:|http:\/\/|https:\/\/|file:\/\/\/|\s*$)/i.test(i)?t:(r=0===i.indexOf("//")?i:0===i.indexOf("/")?n+i:o+i.replace(/^\.\//,""),"url("+JSON.stringify(r)+")")})}},function(t,e,n){"use strict";n.r(e);var o=n(1),r=n.n(o),i=n(0),a=n.n(i);function s(t){return(s="function"==typeof Symbol&&"symbol"==typeof Symbol.iterator?function(t){return typeof t}:function(t){return t&&"function"==typeof Symbol&&t.constructor===Symbol&&t!==Symbol.prototype?"symbol":typeof t})(t)}function l(t,e){return function(t){if(Array.isArray(t))return t}(t)||function(t,e){var n=[],o=!0,r=!1,i=void 0;try{for(var a,s=t[Symbol.iterator]();!(o=(a=s.next()).done)&&(n.push(a.value),!e||n.length!==e);o=!0);}catch(t){r=!0,i=t}finally{try{o||null==s.return||s.return()}finally{if(r)throw i}}return n}(t,e)||function(){throw new TypeError("Invalid attempt to destructure non-iterable instance")}()}function u(t,e){for(var n=0;n<e.length;n++){var o=e[n];o.enumerable=o.enumerable||!1,o.configurable=!0,"value"in o&&(o.writable=!0),Object.defineProperty(t,o.key,o)}}function c(t){return(c=Object.setPrototypeOf?Object.getPrototypeOf:function(t){return t.__proto__||Object.getPrototypeOf(t)})(t)}function p(t,e){return(p=Object.setPrototypeOf||function(t,e){return t.__proto__=e,t})(t,e)}function h(t){if(void 0===t)throw new ReferenceError("this hasn't been initialised - super() hasn't been called");return t}function f(t,e,n){return e in t?Object.defineProperty(t,e,{value:n,enumerable:!0,configurable:!0,writable:!0}):t[e]=n,t}var d=function(t){function e(t,n){var o;!function(t,e){if(!(t instanceof e))throw new TypeError("Cannot call a class as a function")}(this,e),f(h(h(o=function(t,e){return!e||"object"!==s(e)&&"function"!=typeof e?h(t):e}(this,c(e).call(this,t,n)))),"calculateDimensions",function(t){var e=t.top,n=t.left,r=t.bottom,i=t.right;return{width:o.props.width-n-i,height:o.props.height-e-r}}),f(h(h(o)),"preserveAspectRatio",function(t,e){o.props.minConstraints&&(t=Math.max(t,o.props.minConstraints[0]),e=Math.max(e,o.props.minConstraints[1]));var n=t/e;return n<o.props.aspectRatio?[t,t/o.props.aspectRatio]:n>o.props.aspectRatio?[e*o.props.aspectRatio,e]:[t,e]}),f(h(h(o)),"constrainBoundary",function(t){return t<0?0:t}),f(h(h(o)),"getClientCoordinates",function(t){return t.touches?{clientX:t.touches[0].clientX,clientY:t.touches[0].clientY}:{clientX:t.clientX,clientY:t.clientY}}),f(h(h(o)),"eventMove",function(t){o.state.resizing?o.onResize(t):o.state.moving&&o.eventMoveBox(t)}),f(h(h(o)),"eventEnd",function(t){o.state.resizing?o.stopResize(t):o.state.moving&&o.stopMove(t)}),f(h(h(o)),"startResize",function(t,e){e.stopPropagation(),e.preventDefault(),o.setState({resizing:!0,corner:t})}),f(h(h(o)),"stopResize",function(){o.setState({resizing:!1})}),f(h(h(o)),"nw",function(t,e){var n=Object.assign({},o.state,{top:o.constrainBoundary(t.clientY-e.top),left:o.constrainBoundary(t.clientX-e.left)}),r=o.calculateDimensions(n),i=l(o.preserveAspectRatio(r.width,r.height),2),a=i[0],s=i[1];return n.top=o.props.height-n.bottom-s,n.left=o.props.width-n.right-a,n}),f(h(h(o)),"ne",function(t,e){var n=Object.assign({},o.state,{top:o.constrainBoundary(t.clientY-e.top),right:o.constrainBoundary(e.right-t.clientX)}),r=o.calculateDimensions(n),i=l(o.preserveAspectRatio(r.width,r.height),2),a=i[0],s=i[1];return n.top=o.props.height-n.bottom-s,n.right=o.props.width-n.left-a,n}),f(h(h(o)),"se",function(t,e){var n=Object.assign({},o.state,{bottom:o.constrainBoundary(e.bottom-t.clientY),right:o.constrainBoundary(e.right-t.clientX)}),r=o.calculateDimensions(n),i=l(o.preserveAspectRatio(r.width,r.height),2),a=i[0],s=i[1];return n.bottom=o.props.height-n.top-s,n.right=o.props.width-n.left-a,n}),f(h(h(o)),"sw",function(t,e){var n=Object.assign({},o.state,{bottom:o.constrainBoundary(e.bottom-t.clientY),left:o.constrainBoundary(t.clientX-e.left)}),r=o.calculateDimensions(n),i=l(o.preserveAspectRatio(r.width,r.height),2),a=i[0],s=i[1];return n.bottom=o.props.height-n.top-s,n.left=o.props.width-n.right-a,n}),f(h(h(o)),"onResize",function(t){var e=o.box.parentElement.parentElement.getBoundingClientRect(),n=o.getClientCoordinates(t),r=o[o.state.corner](n,e);o.resize(r,n)}),f(h(h(o)),"controlsResize",function(t){var e=o.box.parentElement.parentElement.getBoundingClientRect(),n="width"===t.target.name?+t.target.value:+t.target.value*o.props.aspectRatio,r="height"===t.target.name?+t.target.value:+t.target.value/o.props.aspectRatio,i=o.preserveAspectRatio(n,r);if(n=i[0],r=i[1],!(n>e.width-o.state.left||r>e.height-o.state.top)){var a=o.state.width-n,s=o.state.height-r,l=Object.assign({},o.state,{right:o.state.right+a,bottom:o.state.bottom+s}),u={clientX:e.right-l.right,clientY:e.bottom-l.bottom};o.resize(l,u)}}),f(h(h(o)),"resize",function(t,e){var n=o.calculateDimensions(t),r=n.width!==o.state.width,i=n.height!==o.state.height;(r||i)&&o.setState(Object.assign({},e,t,n),function(){o.props.onChange({top:t.top,left:t.left},n)})}),f(h(h(o)),"startMove",function(t){var e=o.getClientCoordinates(t),n=e.clientX,r=e.clientY;o.setState({moving:!0,clientX:n,clientY:r})}),f(h(h(o)),"stopMove",function(t){o.setState({moving:!1})}),f(h(h(o)),"eventMoveBox",function(t){t.preventDefault();var e=o.getClientCoordinates(t),n=e.clientX,r=e.clientY,i=n-o.state.clientX,a=r-o.state.clientY;o.moveBox(n,r,i,a)}),f(h(h(o)),"controlsMoveBox",function(t){var e="x"===t.target.name?t.target.value-o.state.left:0,n="y"===t.target.name?t.target.value-o.state.top:0;o.moveBox(0,0,e,n)}),f(h(h(o)),"moveBox",function(t,e,n,r){var i={top:o.constrainBoundary(o.state.top+r),left:o.constrainBoundary(o.state.left+n),bottom:o.constrainBoundary(o.state.bottom-r),right:o.constrainBoundary(o.state.right-n)};i.top||(i.bottom=o.props.height-o.state.height),i.bottom||(i.top=o.props.height-o.state.height),i.left||(i.right=o.props.width-o.state.width),i.right||(i.left=o.props.width-o.state.width),o.setState(Object.assign({},{clientX:t,clientY:e},i),function(){o.props.onChange({top:i.top,left:i.left},o.calculateDimensions(i))})}),f(h(h(o)),"keyboardResize",function(t){if(!(o.state.right-t<0||o.state.bottom-t<0)){var e=l(o.preserveAspectRatio(o.state.width+t,o.state.height+t),2),n=e[0],r=e[1],i=n-o.state.width,a=r-o.state.height;o.setState({bottom:o.state.bottom-a,right:o.state.right-i,width:n,height:r})}}),f(h(h(o)),"handleKey",function(t){t.shiftKey?"ArrowUp"===t.key||38===t.keyCode?(o.keyboardResize(-10),t.preventDefault()):"ArrowDown"===t.key||40===t.keyCode?(o.keyboardResize(10),t.preventDefault()):"ArrowLeft"===t.key||37===t.keyCode?(o.keyboardResize(-10),t.preventDefault()):"ArrowRight"!==t.key&&39!==t.keyCode||(o.keyboardResize(10),t.preventDefault()):"ArrowUp"===t.key||38===t.keyCode?(o.moveBox(o.state.clientX,o.state.clientY,0,-10),t.preventDefault()):"ArrowDown"===t.key||40===t.keyCode?(o.moveBox(o.state.clientX,o.state.clientY,0,10),t.preventDefault()):"ArrowLeft"===t.key||37===t.keyCode?(o.moveBox(o.state.clientX,o.state.clientY,-10,0),t.preventDefault()):"ArrowRight"!==t.key&&39!==t.keyCode||(o.moveBox(o.state.clientX,o.state.clientY,10,0),t.preventDefault())});var r=l(o.preserveAspectRatio(t.width,t.height),2),i=r[0],a=r[1],u=(t.height-a)/2,p=(t.width-i)/2;return o.state={top:u,left:p,bottom:u,right:p,width:i,height:a},o}return function(t,e){if("function"!=typeof e&&null!==e)throw new TypeError("Super expression must either be null or a function");t.prototype=Object.create(e&&e.prototype,{constructor:{value:t,writable:!0,configurable:!0}}),e&&p(t,e)}(e,a.a.Component),function(t,e,n){e&&u(t.prototype,e),n&&u(t,n)}(e,[{key:"componentDidMount",value:function(){document.addEventListener("mousemove",this.eventMove),document.addEventListener("mouseup",this.eventEnd),document.addEventListener("touchmove",this.eventMove),document.addEventListener("touchend",this.eventEnd),document.addEventListener("keydown",this.handleKey),this.props.onChange({top:this.state.top,left:this.state.left},{width:this.state.width,height:this.state.height})}},{key:"componentWillUnmount",value:function(){document.removeEventListener("mousemove",this.eventMove),document.removeEventListener("mouseup",this.eventEnd),document.removeEventListener("touchmove",this.eventMove),document.removeEventListener("touchend",this.eventEnd),document.removeEventListener("keydown",this.handleKey)}},{key:"render",value:function(){var t=this,e={position:"absolute",top:this.state.top,left:this.state.left,right:this.state.right,bottom:this.state.bottom},n=this.calculateDimensions(this.state),o=n.width,r=n.height,i={height:this.state.top},s={height:this.state.bottom},l={top:this.state.top,right:o+this.state.right,bottom:this.state.bottom},u={top:this.state.top,left:o+this.state.left,bottom:this.state.bottom};return a.a.createElement("div",{ref:function(e){return t.box=e},className:"DraggableResizable"},a.a.createElement("div",{className:"DraggableResizable-controls"},a.a.createElement("label",null,this.props.offsetXLabel,a.a.createElement("input",{name:"x",value:Math.round(this.state.left),onChange:this.controlsMoveBox,tabIndex:"-1",type:"number"})),a.a.createElement("label",null,this.props.offsetYLabel,a.a.createElement("input",{name:"y",value:Math.round(this.state.top),onChange:this.controlsMoveBox,tabIndex:"-1",type:"number"})),a.a.createElement("label",null,this.props.widthLabel,a.a.createElement("input",{name:"width",value:Math.round(o),type:"number",tabIndex:"-1",onChange:this.controlsResize})),a.a.createElement("label",null,this.props.heightLabel,a.a.createElement("input",{value:Math.round(r),type:"number",name:"height",tabIndex:"-1",onChange:this.controlsResize}))),a.a.createElement("div",{className:"DraggableResizable-top",style:i}),a.a.createElement("div",{className:"DraggableResizable-left",style:l}),a.a.createElement("div",{style:e,onMouseDown:this.startMove,onTouchStart:this.startMove},this.props.children,a.a.createElement("div",{className:"resize-handle resize-handle-se",onMouseDown:this.startResize.bind(null,"se"),onTouchStart:this.startResize.bind(null,"se")}),a.a.createElement("div",{className:"resize-handle resize-handle-ne",onMouseDown:this.startResize.bind(null,"ne"),onTouchStart:this.startResize.bind(null,"ne")}),a.a.createElement("div",{className:"resize-handle resize-handle-sw",onMouseDown:this.startResize.bind(null,"sw"),onTouchStart:this.startResize.bind(null,"sw")}),a.a.createElement("div",{className:"resize-handle resize-handle-nw",onMouseDown:this.startResize.bind(null,"nw"),onTouchStart:this.startResize.bind(null,"nw")})),a.a.createElement("div",{className:"DraggableResizable-right",style:u}),a.a.createElement("div",{className:"DraggableResizable-bottom",style:s}))}}]),e}();f(d,"propTypes",{aspectRatio:r.a.number.isRequired,width:r.a.number.isRequired,height:r.a.number.isRequired,onChange:r.a.func,offset:r.a.array,minConstraints:r.a.array,children:r.a.node,widthLabel:r.a.string,heightLabel:r.a.string,offsetXLabel:r.a.string,offsetYLabel:r.a.string}),f(d,"defaultProps",{widthLabel:"Width",heightLabel:"Height",offsetXLabel:"Offset X",offsetYLabel:"Offset Y"});var b=n(2),m=n.n(b);n(3);function g(t){return(g="function"==typeof Symbol&&"symbol"==typeof Symbol.iterator?function(t){return typeof t}:function(t){return t&&"function"==typeof Symbol&&t.constructor===Symbol&&t!==Symbol.prototype?"symbol":typeof t})(t)}function v(t,e){for(var n=0;n<e.length;n++){var o=e[n];o.enumerable=o.enumerable||!1,o.configurable=!0,"value"in o&&(o.writable=!0),Object.defineProperty(t,o.key,o)}}function y(t){return(y=Object.setPrototypeOf?Object.getPrototypeOf:function(t){return t.__proto__||Object.getPrototypeOf(t)})(t)}function w(t,e){return(w=Object.setPrototypeOf||function(t,e){return t.__proto__=e,t})(t,e)}function R(t){if(void 0===t)throw new ReferenceError("this hasn't been initialised - super() hasn't been called");return t}function x(t,e,n){return e in t?Object.defineProperty(t,e,{value:n,enumerable:!0,configurable:!0,writable:!0}):t[e]=n,t}n.d(e,"default",function(){return L});var L=function(t){function e(){var t,n;!function(t,e){if(!(t instanceof e))throw new TypeError("Cannot call a class as a function")}(this,e);for(var o=arguments.length,r=new Array(o),i=0;i<o;i++)r[i]=arguments[i];return x(R(R(n=function(t,e){return!e||"object"!==g(e)&&"function"!=typeof e?R(t):e}(this,(t=y(e)).call.apply(t,[this].concat(r))))),"state",{imageLoaded:!1,width:n.props.width,height:n.props.height,url:window.URL.createObjectURL(n.props.image)}),x(R(R(n)),"onLoad",function(t){var e=n.box.getBoundingClientRect();n.setState({imageLoaded:!0,width:e.width,height:e.height},function(){var t=n.image;n.props.onImageLoaded&&n.props.onImageLoaded(t)})}),x(R(R(n)),"cropImage",function(){return new Promise(function(t,e){var o=new Image;o.onload=function(){var e=n.canvas,o=n.image,r=e.getContext("2d"),i=o.naturalWidth/n.state.width,a=o.naturalHeight/n.state.height,s=i<1?0:n.state.offset.left*i,l=a<1?0:n.state.offset.top*a,u=i<1?o.naturalWidth:n.state.dimensions.width*i,c=a<1?o.naturalHeight:n.state.dimensions.height*a,p=i<1?Math.floor((n.state.dimensions.width-o.naturalWidth)/2):0,h=a<1?Math.floor((n.state.dimensions.height-o.naturalHeight)/2):0,f=i<1?o.naturalWidth:n.props.width,d=a<1?o.naturalHeight:n.props.height;r.clearRect(0,0,n.props.width,n.props.height),r.drawImage(o,s,l,u,c,p,h,f,d),t(m()(e.toDataURL()))},o.src=window.URL.createObjectURL(n.props.image)})}),x(R(R(n)),"onChange",function(t,e){n.setState({offset:t,dimensions:e})}),n}return function(t,e){if("function"!=typeof e&&null!==e)throw new TypeError("Super expression must either be null or a function");t.prototype=Object.create(e&&e.prototype,{constructor:{value:t,writable:!0,configurable:!0}}),e&&w(t,e)}(e,a.a.Component),function(t,e,n){e&&v(t.prototype,e),n&&v(t,n)}(e,[{key:"componentWillReceiveProps",value:function(t){this.props.image!==t.image&&this.setState({url:window.URL.createObjectURL(t.image),imageLoaded:!1})}},{key:"shouldComponentUpdate",value:function(t,e){var n=this.props.image;return t.image.size!==n.size||t.image.name!==n.name||t.image.type!==n.type||e.imageLoaded!==this.state.imageLoaded}},{key:"render",value:function(){var t=this;return a.a.createElement("div",{ref:function(e){return t.box=e},className:"Cropper",style:{minWidth:this.props.width,minHeight:this.props.height}},a.a.createElement("canvas",{className:"Cropper-canvas",ref:function(e){return t.canvas=e},width:this.props.width,height:this.props.height}),a.a.createElement("img",{ref:function(e){return t.image=e},src:this.state.url,className:"Cropper-image",onLoad:this.onLoad,style:{top:this.state.height/2}}),this.state.imageLoaded&&a.a.createElement("div",{className:"box"},a.a.createElement(d,{aspectRatio:this.props.width/this.props.height,width:this.state.width,height:this.state.height,minConstraints:this.props.minConstraints,onChange:this.onChange,widthLabel:this.props.widthLabel,heightLabel:this.props.heightLabel,offsetXLabel:this.props.offsetXLabel,offsetYLabel:this.props.offsetYLabel},a.a.createElement("div",{className:"Cropper-box"}))))}}]),e}();x(L,"propTypes",{width:r.a.number.isRequired,height:r.a.number.isRequired,center:r.a.bool,image:r.a.any,widthLabel:r.a.string,heightLabel:r.a.string,offsetXLabel:r.a.string,offsetYLabel:r.a.string,onImageLoaded:r.a.func,minConstraints:r.a.arrayOf(r.a.number)}),x(L,"defaultProps",{center:!1,width:"Width",height:"Height",offsetXLabel:"Offset X",offsetYLabel:"Offset Y"})}])});