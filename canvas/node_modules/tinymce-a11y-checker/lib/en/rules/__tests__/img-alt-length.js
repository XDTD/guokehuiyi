"use strict";

var _interopRequireDefault = require("@babel/runtime/helpers/interopRequireDefault").default;

var _imgAltLength = _interopRequireDefault(require("../img-alt-length"));

let el;
beforeEach(() => {
  el = document.createElement("img");
});
describe("test", () => {
  test("returns true if alt text is shorter than max length", () => {
    el.setAttribute("alt", "some text");
    expect(_imgAltLength.default.test(el)).toBeTruthy();
  });
  test("returns true if not image tag", () => {
    const div = document.createElement("div");
    expect(_imgAltLength.default.test(div)).toBeTruthy();
  });
  test("returns true if element has no alt attribute", () => {
    expect(_imgAltLength.default.test(el)).toBeTruthy();
  });
  test("returns false if alt is longer than max length", () => {
    const moreThanMaxString = Array(_imgAltLength.default["max-alt-length"] + 2).join("x");
    el.setAttribute("alt", moreThanMaxString);
    expect(_imgAltLength.default.test(el)).toBeFalsy();
  });
});
describe("data", () => {
  test("returns alt text", () => {
    el.setAttribute("alt", "some text");
    expect(_imgAltLength.default.data(el).alt).toBe("some text");
  });
  test("returns empty alt text if no alt attribute", () => {
    expect(_imgAltLength.default.data(el).alt).toBe("");
  });
});
describe("form", () => {
  test("returns the proper object", () => {
    expect(_imgAltLength.default.form()).toMatchSnapshot();
  });
});
describe("update", () => {
  test("returns same element", () => {
    expect(_imgAltLength.default.update(el, {})).toBe(el);
  });
  test("set alt text to value", () => {
    const text = "some text";
    expect(_imgAltLength.default.update(el, {
      alt: text
    }).getAttribute("alt")).toBe(text);
  });
});
describe("message", () => {
  test("returns the proper message", () => {
    expect(_imgAltLength.default.message()).toMatchSnapshot();
  });
});
describe("why", () => {
  test("returns the proper why message", () => {
    expect(_imgAltLength.default.why()).toMatchSnapshot();
  });
});