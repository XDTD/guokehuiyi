"use strict";

var _interopRequireDefault = require("@babel/runtime/helpers/interopRequireDefault").default;

var _canvasRce = require("canvas-rce");

var _canvasTheme = _interopRequireDefault(require("@instructure/canvas-theme"));

var _plugin = require("./plugin");

require("tinymce/plugins/image");

(0, _plugin.getInstance)(instance => instance.setConfig({
  disableContrastCheck: false
}));
const lang = (/lang=([^&]+)/.exec(window.location.search) || {})[1];
(0, _plugin.setLocale)(lang || "en");

_canvasTheme.default.use();

function renderEditor(editorEl, textareaId) {
  (0, _canvasRce.renderIntoDiv)(editorEl, {
    defaultContent: document.getElementById(textareaId).value,
    editorOptions: () => {
      return {
        height: "600px",
        plugins: "link, image, textcolor, table, a11y_checker",
        menubar: true,
        toolbar: ["bold,italic,underline,|,link,image,|,forecolor,backcolor,|,alignleft,aligncenter,alignright,|,outdent,indent,|,bullist,numlist,|,fontsizeselect,formatselect,|,check_a11y"]
      };
    },
    textareaId
  });
}

renderEditor(document.getElementById("editor1"), "textarea1");
renderEditor(document.getElementById("editor2"), "textarea2");