<!DOCTYPE html>
<html>
  <head>
    <meta name="Content-Type" content="text/html;charset=UTF-8">
<meta charset="UTF-8">
<title>Introduction
 - Canvas LMS REST API Documentation</title>
<link rel="stylesheet" href="css/common.css" type="text/css" media="screen" charset="utf-8" />
<link href="css/prettify.css" rel="stylesheet" type="text/css" media="screen" />
<script src="js/jquery.min.js" type="text/javascript"></script>
<script src="js/prettify.js" type="text/javascript"></script>
<script type="text/javascript">
$(function() {
  // set up pretty-printing in static docs generated from .md files
  $('pre.code.bash').addClass('prettyprint language-bash');
  $('pre.code.html').addClass('prettyprint language-html');
  $('pre.code.xml').addClass('prettyprint language-xml');
  $('pre.code.json').addClass('prettyprint language-js');
  $('pre.code.javascript').addClass('prettyprint language-js');
  prettyPrint();
});
</script>

  </head>
  <body>

    <div id="header">
      <h1>
  <a href="index.html">Canvas LMS - REST API and Extensions Documentation</a>
</h1>
    </div>

    <div id="sidebar">
      <nav>
  <h2 class='first'>Basics</h2>
  <a href="file.graphql.html" class="">GraphQL</a>
  <a href="file.changelog.html" class="">API Change Log</a>
  <a href="file.object_ids.html" class="">SIS IDs</a>
  <a href="file.pagination.html" class="">Pagination</a>
  <a href="file.throttling.html" class="">Throttling</a>
  <a href="file.compound_documents.html" class="">Compound Documents</a>
  <a href="file.file_uploads.html" class="">File Uploads</a>
  <a href="file.endpoint_attributes.html" class="">API Endpoint Attributes</a>
  <a href="file.masquerading.html" class="">Masquerading</a>
  <h2>OAuth2</h2>
  <a href="file.oauth.html" class="">OAuth2 Overview</a>
  <a href="file.oauth_endpoints.html" class="">OAuth2 Endpoints</a>
  <a href="file.developer_keys.html" class="">Developer Keys</a>
  <h2>Resources</h2>
  <a  href="all_resources.html">All Resources Reference</a>
  
    
    <a class="" href="api_token_scopes.html">API Token Scopes</a>
  
    
    <a class="" href="account_notifications.html">Account Notifications</a>
  
    
    <a class="" href="account_reports.html">Account Reports</a>
  
    
    <a class="" href="accounts.html">Accounts</a>
  
    
    <a class="" href="accounts_(lti).html">Accounts (LTI)</a>
  
    
    <a class="" href="admins.html">Admins</a>
  
    
    <a class="" href="announcement_external_feeds.html">Announcement External Feeds</a>
  
    
    <a class="" href="announcements.html">Announcements</a>
  
    
    <a class="" href="appointment_groups.html">Appointment Groups</a>
  
    
    <a class="" href="assignment_extensions.html">Assignment Extensions</a>
  
    
    <a class="" href="assignment_groups.html">Assignment Groups</a>
  
    
    <a class="" href="assignments.html">Assignments</a>
  
    
    <a class="" href="authentication_providers.html">Authentication Providers</a>
  
    
    <a class="" href="authentications_log.html">Authentications Log</a>
  
    
    <a class="" href="blueprint_courses.html">Blueprint Courses</a>
  
    
    <a class="" href="bookmarks.html">Bookmarks</a>
  
    
    <a class="" href="brand_configs.html">Brand Configs</a>
  
    
    <a class="" href="calendar_events.html">Calendar Events</a>
  
    
    <a class="" href="collaborations.html">Collaborations</a>
  
    
    <a class="" href="comm_messages.html">CommMessages</a>
  
    
    <a class="" href="communication_channels.html">Communication Channels</a>
  
    
    <a class="" href="conferences.html">Conferences</a>
  
    
    <a class="" href="content_exports.html">Content Exports</a>
  
    
    <a class="" href="content_migrations.html">Content Migrations</a>
  
    
    <a class="" href="content_security_policy_settings.html">Content Security Policy Settings</a>
  
    
    <a class="" href="content_shares.html">Content Shares</a>
  
    
    <a class="" href="conversations.html">Conversations</a>
  
    
    <a class="" href="course_audit_log.html">Course Audit log</a>
  
    
    <a class="" href="course_quiz_extensions.html">Course Quiz Extensions</a>
  
    
    <a class="" href="courses.html">Courses</a>
  
    
    <a class="" href="custom_gradebook_columns.html">Custom Gradebook Columns</a>
  
    
    <a class="" href="discussion_topics.html">Discussion Topics</a>
  
    
    <a class="" href="enrollment_terms.html">Enrollment Terms</a>
  
    
    <a class="" href="enrollments.html">Enrollments</a>
  
    
    <a class="" href="error_reports.html">Error Reports</a>
  
    
    <a class="" href="external_tools.html">External Tools</a>
  
    
    <a class="" href="favorites.html">Favorites</a>
  
    
    <a class="" href="feature_flags.html">Feature Flags</a>
  
    
    <a class="" href="files.html">Files</a>
  
    
    <a class="" href="grade_change_log.html">Grade Change Log</a>
  
    
    <a class="" href="gradebook_history.html">Gradebook History</a>
  
    
    <a class="" href="grading_periods.html">Grading Periods</a>
  
    
    <a class="" href="grading_standards.html">Grading Standards</a>
  
    
    <a class="" href="group_categories.html">Group Categories</a>
  
    
    <a class="" href="groups.html">Groups</a>
  
    
    <a class="" href="history.html">History</a>
  
    
    <a class="" href="image_search.html">Image Search</a>
  
    
    <a class="" href="immersive_reader.html">Immersive Reader</a>
  
    
    <a class="" href="inst_access_tokens.html">InstAccess tokens</a>
  
    
    <a class="" href="jw_ts.html">JWTs</a>
  
    
    <a class="" href="late_policy.html">Late Policy</a>
  
    
    <a class="" href="line_items.html">Line Items</a>
  
    
    <a class="" href="live_assessments.html">LiveAssessments</a>
  
    
    <a class="" href="logins.html">Logins</a>
  
    
    <a class="" href="media_objects.html">Media Objects</a>
  
    
    <a class="" href="moderated_grading.html">Moderated Grading</a>
  
    
    <a class="" href="modules.html">Modules</a>
  
    
    <a class="" href="names_and_role.html">Names and Role</a>
  
    
    <a class="" href="notification_preferences.html">Notification Preferences</a>
  
    
    <a class="" href="originality_reports.html">Originality Reports</a>
  
    
    <a class="" href="outcome_groups.html">Outcome Groups</a>
  
    
    <a class="" href="outcome_imports.html">Outcome Imports</a>
  
    
    <a class="" href="outcome_results.html">Outcome Results</a>
  
    
    <a class="" href="outcomes.html">Outcomes</a>
  
    
    <a class="" href="pages.html">Pages</a>
  
    
    <a class="" href="peer_reviews.html">Peer Reviews</a>
  
    
    
    
    
    <a class="" href="planner.html">Planner</a>
  
    
    <a class="" href="poll_sessions.html">Poll Sessions</a>
  
    
    <a class="" href="poll_choices.html">PollChoices</a>
  
    
    <a class="" href="poll_submissions.html">PollSubmissions</a>
  
    
    <a class="" href="polls.html">Polls</a>
  
    
    <a class="" href="proficiency_ratings.html">Proficiency Ratings</a>
  
    
    <a class="" href="progress.html">Progress</a>
  
    
    <a class="" href="public_jwk.html">Public JWK</a>
  
    
    <a class="" href="quiz_assignment_overrides.html">Quiz Assignment Overrides</a>
  
    
    <a class="" href="quiz_extensions.html">Quiz Extensions</a>
  
    
    <a class="" href="quiz_ip_filters.html">Quiz IP Filters</a>
  
    
    <a class="" href="quiz_question_groups.html">Quiz Question Groups</a>
  
    
    <a class="" href="quiz_questions.html">Quiz Questions</a>
  
    
    <a class="" href="quiz_reports.html">Quiz Reports</a>
  
    
    <a class="" href="quiz_statistics.html">Quiz Statistics</a>
  
    
    <a class="" href="quiz_submission_events.html">Quiz Submission Events</a>
  
    
    <a class="" href="quiz_submission_files.html">Quiz Submission Files</a>
  
    
    <a class="" href="quiz_submission_questions.html">Quiz Submission Questions</a>
  
    
    <a class="" href="quiz_submission_user_list.html">Quiz Submission User List</a>
  
    
    <a class="" href="quiz_submissions.html">Quiz Submissions</a>
  
    
    <a class="" href="quizzes.html">Quizzes</a>
  
    
    <a class="" href="result.html">Result</a>
  
    
    <a class="" href="roles.html">Roles</a>
  
    
    <a class="" href="rubrics.html">Rubrics</a>
  
    
    <a class="" href="sis_import_errors.html">SIS Import Errors</a>
  
    
    <a class="" href="sis_imports.html">SIS Imports</a>
  
    
    <a class="" href="sis_integration.html">SIS Integration</a>
  
    
    <a class="" href="score.html">Score</a>
  
    
    <a class="" href="search.html">Search</a>
  
    
    <a class="" href="sections.html">Sections</a>
  
    
    <a class="" href="services.html">Services</a>
  
    
    <a class="" href="shared_brand_configs.html">Shared Brand Configs</a>
  
    
    <a class="" href="submission_comments.html">Submission Comments</a>
  
    
    <a class="" href="submissions.html">Submissions</a>
  
    
    <a class="" href="tabs.html">Tabs</a>
  
    
    <a class="" href="user_observees.html">User Observees</a>
  
    
    <a class="" href="users.html">Users</a>
  
    
    
    <a class="" href="e_pub_exports.html">ePub Exports</a>
  
  <h2>Outcomes</h2>
  <a href="file.outcomes_csv.html" class="">Outcomes CSV Format</a>
  <h2>Group Categories</h2>
  <a href="file.group_category_csv.html" class="">Group Categories CSV Format</a>
  <h2>SIS</h2>
  <a href="file.sis_csv.html" class="">SIS CSV Format</a>
  <h2>External Tools</h2>
  <td>
    <li><h4>LTI</h4>
      <a href="file.tools_intro.html" class="">Introduction</a>
      <a href="file.lti_dev_key_config.html" class="">Configuring</a>
      <a href="file.tools_variable_substitutions.html" class="">Variable Substitutions</a>
      <a href="file.content_item.html" class="">Deep Linking</a>
      <a href="" class="current">Grading</a>
      <a href="file.provisioning.html" class="">Provisioning</a>
      <a href="file.lti_window_post_message.html" class="">window.PostMessage</a>
        <ul><h4>Placements</h4>
                <a href="file.navigation_tools.html" class="">Navigation</a>
                <a href="file.homework_submission_placement.html" class="">Homework Submission</a>
                <a href="file.editor_button_placement.html" class="">Editor Button</a>
                <a href="file.migration_selection_placement.html" class="">Migration Selection</a>
                <a href="file.link_selection_placement.html" class="">Link Selection (Modules)</a>
                <a href="file.assignment_selection_placement.html" class="">Assignment Selection</a>
                <a href="file.collaborations_placement.html" class="">Collaborations</a>
        </ul >
      <a href="file.xapi.html" class="">xAPI</a>
    </li >
    <li><h4>Plagiarism Detection Platform</h4>
      <a href="file.plagiarism_platform.html" class="">Overview</a>
      
        
        
        
        
        
        
        
        
        
        
        
        
        
        
        
        
        
        
        
        
        
        
        
        
        
        
        
        
        
        
        
        
        
        
        
        
        
        
        
        
        
        
        
        
        
        
        
        
        
        
        
        
        
        
        
        
        
        
        
        
        
        
        
        
        
        
        
        <a class="" href="plagiarism_detection_platform_assignments.html">Plagiarism Detection Platform Assignments</a>
      
        
        <a class="" href="plagiarism_detection_platform_users.html">Plagiarism Detection Platform Users</a>
      
        
        <a class="" href="plagiarism_detection_submissions.html">Plagiarism Detection Submissions</a>
      
        
        
        
        
        
        
        
        
        
        
        
        
        
        
        
        
        
        
        
        
        
        
        
        
        
        
        
        
        
        
        
        
        
        
        
        
        
        
        <a class="" href="webhooks_subscriptions_for_plagiarism_platform.html">Webhooks Subscriptions for Plagiarism Platform</a>
      
        
      <a href="file.jwt_access_tokens.html" class="">JWT Access Tokens</a>
    </li >
  </td>
  <h2>Data Services</h2>
  <td>
    <li>
      <h4>Live Events</h4>
      <ul>
        <h4>Overview</h4>
        <a href="file.data_service_introduction.html" class="">Introduction</a>
        <a href="file.data_service_setup.html" class="">Setup</a>
        <a href="file.data_service_canvas_event_metadata.html" class="">Metadata</a>
      </ul>

      <ul>
        <h4>Event Format</h4>
        <li>
          <h4>Canvas</h4>
          
            <a href="file.data_service_canvas_account.html" class="">Account</a>
          
            <a href="file.data_service_canvas_asset.html" class="">Asset</a>
          
            <a href="file.data_service_canvas_assignment.html" class="">Assignment</a>
          
            <a href="file.data_service_canvas_attachment.html" class="">Attachment</a>
          
            <a href="file.data_service_canvas_content.html" class="">Content</a>
          
            <a href="file.data_service_canvas_conversation.html" class="">Conversation</a>
          
            <a href="file.data_service_canvas_course.html" class="">Course</a>
          
            <a href="file.data_service_canvas_discussion.html" class="">Discussion</a>
          
            <a href="file.data_service_canvas_enrollment.html" class="">Enrollment</a>
          
            <a href="file.data_service_canvas_grade.html" class="">Grade</a>
          
            <a href="file.data_service_canvas_group.html" class="">Group</a>
          
            <a href="file.data_service_canvas_learning.html" class="">Learning</a>
          
            <a href="file.data_service_canvas_logged.html" class="">Logged</a>
          
            <a href="file.data_service_canvas_module.html" class="">Module</a>
          
            <a href="file.data_service_canvas_outcome.html" class="">Outcome</a>
          
            <a href="file.data_service_canvas_plagiarism.html" class="">Plagiarism</a>
          
            <a href="file.data_service_canvas_quiz.html" class="">Quiz</a>
          
            <a href="file.data_service_canvas_sis.html" class="">Sis</a>
          
            <a href="file.data_service_canvas_submission.html" class="">Submission</a>
          
            <a href="file.data_service_canvas_syllabus.html" class="">Syllabus</a>
          
            <a href="file.data_service_canvas_user.html" class="">User</a>
          
            <a href="file.data_service_canvas_wiki.html" class="">Wiki</a>
          
        </li>
        <li>
          <h4>Caliper IMS 1.1</h4>
          
            <a href="file.data_service_caliper_assessment.html" class="">Assessment</a>
          
            <a href="file.data_service_caliper_basic.html" class="">Basic</a>
          
            <a href="file.data_service_caliper_forum.html" class="">Forum</a>
          
            <a href="file.data_service_caliper_grading.html" class="">Grading</a>
          
            <a href="file.data_service_caliper_navigation_events.html" class="">Navigation Events</a>
          
            <a href="file.data_service_caliper_session.html" class="">Session</a>
          
        </li>
      </ul>
    </li>
  </td>
</nav>

    </div>

    <div id="content"><div id='filecontents'><h1 id="introduction">Introduction</h1>

<p>External tools can be associated with Canvas assignments so that students are
able to experience an integrated offering of the tool. Tools can also leverage
LTI services to return submissions and/or scores back to the Canvas gradebook.</p>

<p>The specifics for how grading is achieved depend on the LTI version being used:</p>

<ul>
<li><a href="#lti_advantage">LTI Advantage: Assignment and Grading Services</a></li>
<li><a href="#outcomes_service">LTI 1.1 Grade Passback Tools</a></li>
</ul>

<p>Tools become associated with Canvas assignments either through the UI during
<a href="https://community.canvaslms.com/t5/Instructor-Guide/How-do-I-add-an-assignment-using-an-external-app/ta-p/656"
target="_blank">assignment creation</a>, or by the tool using the
<a href="/doc/api/line_items.html" target="_blank">Line Items Service</a> to
create assignments.</p>

<p>If configured in via the Canvas UI, Course Designers (Admins/Instructors) will
see a submission type called &quot;External Tool&quot; during assignment creation where
they can select a tool configuration to use for the assignment. The
<a href="file.assignment_selection_placement.html" target="_blank">
assignment_selection placement</a> is often used in conjunction with the
<a href="file.content_item.html" target="_blank">deep linking specification</a>
to allow an Instructor or Course Designer to launch out to the tool and select a
specific resource to be associated to the assignment. When students view
the assignment, instead of seeing a standard Canvas assignment they&#39;ll see
the tool loaded in an iframe on the page.</p>

<p><a name="lti_advantage"></a></p>

<h1 id="lti-advantage-assignment-and-grading-services">LTI Advantage: Assignment and Grading Services</h1>

<p>LTI 1.3 tools can be configured to have access to the
<a href="https://www.imsglobal.org/spec/lti-ags/v2p0/" target="_blank">
Assignment and Grading Services</a> (AGS). Assignment and Grading Services
are a powerful way for tools  to interact with the LMS gradebook to save
time for instructors and students.</p>

<p>Some examples of use cases that are uniquely solvable using AGS that were not
resolvable by the LTI 1.1 Outcomes Service include:</p>

<ul>
<li>External tools can return scores for assignments without the need of students
ever accessing the tool.</li>
<li>Using the Line Items service tools can create columns to store grades in
the gradebook without the need for instructors to manually create them using
<a href="file.assignment_selection_placement.html" target="_blank">deep linking
and the assignment_selection placement</a>.</li>
<li>Previously returned scores can be cleared out.</li>
</ul>

<p>In addition to permitting these use cases, many more use cases are described in
the <a
href="https://www.imsglobal.org/spec/lti/v1p3/impl#lti-advantage-use-cases"
target="_blank">IMS LTI Advantage Implementation Guide</a>.</p>

<h2 id="configuring">Configuring</h2>

<p>To configure an LTI 1.3 tool that has access to AGS, an
<a href="https://community.canvaslms.com/t5/Admin-Guide/How-do-I-configure-an-LTI-key-for-an-account/ta-p/140"
target="_blank">LTI Developer Key must be created</a> with the desired scopes
enabled. This can either be done via the &quot;Manual&quot; method, or by providing raw
JSON or a secure URL that hosts JSON. A full list and description of available
scopes is described in the <a href="https://www.imsglobal.org/spec/lti-ags/v2p0/" target="_blank">
AGS documentation</a>.</p>

<p>For example, the following JSON would create an LTI 1.3 tool that has access to
read and write scores, check for existing scores, and manage line items (ex.
assignments) that are associated with the tool:</p>

<pre class="code"><code class=""><span class='lbrace'>{</span>  
   <span class='tstring'><span class='tstring_beg'>&quot;</span><span class='tstring_content'>title</span><span class='label_end'>&quot;:</span><span class='tstring'><span class='tstring_beg'>&quot;</span><span class='tstring_content'>Cool AGS Tool </span><span class='tstring_end'>&quot;</span></span><span class='comma'>,</span>
   <span class='tstring'><span class='tstring_beg'>&quot;</span><span class='tstring_content'>scopes</span><span class='label_end'>&quot;:</span><span class='lbracket'>[</span>
      <span class='tstring'><span class='tstring_beg'>&quot;</span><span class='tstring_content'>https://purl.imsglobal.org/spec/lti-ags/scope/lineitem</span><span class='tstring_end'>&quot;</span></span><span class='comma'>,</span>
      <span class='tstring'><span class='tstring_beg'>&quot;</span><span class='tstring_content'>https://purl.imsglobal.org/spec/lti-ags/scope/result.readonly</span><span class='tstring_end'>&quot;</span></span><span class='comma'>,</span>
      <span class='tstring'><span class='tstring_beg'>&quot;</span><span class='tstring_content'>https://purl.imsglobal.org/spec/lti-ags/scope/score</span><span class='tstring_end'>&quot;</span></span>
      <span class='rbracket'>]</span><span class='comma'>,</span>
   <span class='tstring'><span class='tstring_beg'>&quot;</span><span class='tstring_content'>extensions</span><span class='label_end'>&quot;:</span><span class='lbracket'>[</span>  
      <span class='lbrace'>{</span>  
         <span class='tstring'><span class='tstring_beg'>&quot;</span><span class='tstring_content'>domain</span><span class='label_end'>&quot;:</span><span class='tstring'><span class='tstring_beg'>&quot;</span><span class='tstring_content'>agsexample.com</span><span class='tstring_end'>&quot;</span></span><span class='comma'>,</span>
         <span class='tstring'><span class='tstring_beg'>&quot;</span><span class='tstring_content'>tool_id</span><span class='label_end'>&quot;:</span><span class='tstring'><span class='tstring_beg'>&quot;</span><span class='tstring_content'>ags-tool-123</span><span class='tstring_end'>&quot;</span></span><span class='comma'>,</span>
         <span class='tstring'><span class='tstring_beg'>&quot;</span><span class='tstring_content'>platform</span><span class='label_end'>&quot;:</span><span class='tstring'><span class='tstring_beg'>&quot;</span><span class='tstring_content'>canvas.instructure.com</span><span class='tstring_end'>&quot;</span></span><span class='comma'>,</span>
         <span class='tstring'><span class='tstring_beg'>&quot;</span><span class='tstring_content'>settings</span><span class='label_end'>&quot;:</span><span class='lbrace'>{</span>  
            <span class='tstring'><span class='tstring_beg'>&quot;</span><span class='tstring_content'>text</span><span class='label_end'>&quot;:</span><span class='tstring'><span class='tstring_beg'>&quot;</span><span class='tstring_content'>Cool AGS Text</span><span class='tstring_end'>&quot;</span></span><span class='comma'>,</span>
            <span class='tstring'><span class='tstring_beg'>&quot;</span><span class='tstring_content'>icon_url</span><span class='label_end'>&quot;:</span><span class='tstring'><span class='tstring_beg'>&quot;</span><span class='tstring_content'>https://some.icon.url</span><span class='tstring_end'>&quot;</span></span><span class='comma'>,</span>
            <span class='tstring'><span class='tstring_beg'>&quot;</span><span class='tstring_content'>placements</span><span class='label_end'>&quot;:</span><span class='lbracket'>[</span>                 
               <span class='lbrace'>{</span>  
                  <span class='tstring'><span class='tstring_beg'>&quot;</span><span class='tstring_content'>text</span><span class='label_end'>&quot;:</span><span class='tstring'><span class='tstring_beg'>&quot;</span><span class='tstring_content'>Embed Tool Content as a Canvas Assignment</span><span class='tstring_end'>&quot;</span></span><span class='comma'>,</span>
                  <span class='tstring'><span class='tstring_beg'>&quot;</span><span class='tstring_content'>enabled</span><span class='label_end'>&quot;:</span><span class='kw'>true</span><span class='comma'>,</span>
                  <span class='tstring'><span class='tstring_beg'>&quot;</span><span class='tstring_content'>icon_url</span><span class='label_end'>&quot;:</span><span class='tstring'><span class='tstring_beg'>&quot;</span><span class='tstring_content'>https://some.icon.url</span><span class='tstring_end'>&quot;</span></span><span class='comma'>,</span>
                  <span class='tstring'><span class='tstring_beg'>&quot;</span><span class='tstring_content'>placement</span><span class='label_end'>&quot;:</span><span class='tstring'><span class='tstring_beg'>&quot;</span><span class='tstring_content'>assignment_selection</span><span class='tstring_end'>&quot;</span></span><span class='comma'>,</span>
                  <span class='tstring'><span class='tstring_beg'>&quot;</span><span class='tstring_content'>message_type</span><span class='label_end'>&quot;:</span><span class='tstring'><span class='tstring_beg'>&quot;</span><span class='tstring_content'>LtiDeepLinkingRequest</span><span class='tstring_end'>&quot;</span></span><span class='comma'>,</span>
                  <span class='tstring'><span class='tstring_beg'>&quot;</span><span class='tstring_content'>target_link_uri</span><span class='label_end'>&quot;:</span><span class='tstring'><span class='tstring_beg'>&quot;</span><span class='tstring_content'>https://your.target_link_uri/deeplinkexample</span><span class='tstring_end'>&quot;</span></span>
               <span class='rbrace'>}</span>
            <span class='rbracket'>]</span>
         <span class='rbrace'>}</span>
      <span class='rbrace'>}</span>
   <span class='rbracket'>]</span><span class='comma'>,</span>
   <span class='tstring'><span class='tstring_beg'>&quot;</span><span class='tstring_content'>public_jwk</span><span class='label_end'>&quot;:</span><span class='lbrace'>{</span>  
      <span class='tstring'><span class='tstring_beg'>&quot;</span><span class='tstring_content'>kty</span><span class='label_end'>&quot;:</span><span class='tstring'><span class='tstring_beg'>&quot;</span><span class='tstring_content'>RSA</span><span class='tstring_end'>&quot;</span></span><span class='comma'>,</span>
      <span class='tstring'><span class='tstring_beg'>&quot;</span><span class='tstring_content'>alg</span><span class='label_end'>&quot;:</span><span class='tstring'><span class='tstring_beg'>&quot;</span><span class='tstring_content'>RS256</span><span class='tstring_end'>&quot;</span></span><span class='comma'>,</span>
      <span class='tstring'><span class='tstring_beg'>&quot;</span><span class='tstring_content'>e</span><span class='label_end'>&quot;:</span><span class='tstring'><span class='tstring_beg'>&quot;</span><span class='tstring_content'>AQAB</span><span class='tstring_end'>&quot;</span></span><span class='comma'>,</span>
      <span class='tstring'><span class='tstring_beg'>&quot;</span><span class='tstring_content'>kid</span><span class='label_end'>&quot;:</span><span class='tstring'><span class='tstring_beg'>&quot;</span><span class='tstring_content'>8f796169-0ac4-48a3-a202-fa4f3d814fcd</span><span class='tstring_end'>&quot;</span></span><span class='comma'>,</span>
      <span class='tstring'><span class='tstring_beg'>&quot;</span><span class='tstring_content'>n</span><span class='label_end'>&quot;:</span><span class='tstring'><span class='tstring_beg'>&quot;</span><span class='tstring_content'>nZD7QWmIwj-3N_RZ1qJjX6CdibU87y2l02yMay4KunambalP9g0fU9yZLwLX9WYJINcXZDUf6QeZ-SSbblET-h8Q4OvfSQ7iuu0WqcvBGy8M0qoZ7I-NiChw8dyybMJHgpiP_AyxpCQnp3bQ6829kb3fopbb4cAkOilwVRBYPhRLboXma0cwcllJHPLvMp1oGa7Ad8osmmJhXhM9qdFFASg_OCQdPnYVzp8gOFeOGwlXfSFEgt5vgeU25E-ycUOREcnP7BnMUk7wpwYqlE537LWGOV5z_1Dqcqc9LmN-z4HmNV7b23QZW4_mzKIOY4IqjmnUGgLU9ycFj5YGDCts7Q</span><span class='tstring_end'>&quot;</span></span><span class='comma'>,</span>
      <span class='tstring'><span class='tstring_beg'>&quot;</span><span class='tstring_content'>use</span><span class='label_end'>&quot;:</span><span class='tstring'><span class='tstring_beg'>&quot;</span><span class='tstring_content'>sig</span><span class='tstring_end'>&quot;</span></span>
   <span class='rbrace'>}</span><span class='comma'>,</span>
   <span class='tstring'><span class='tstring_beg'>&quot;</span><span class='tstring_content'>description</span><span class='label_end'>&quot;:</span><span class='tstring'><span class='tstring_beg'>&quot;</span><span class='tstring_content'>1.3 Test Tool</span><span class='tstring_end'>&quot;</span></span><span class='comma'>,</span>
   <span class='tstring'><span class='tstring_beg'>&quot;</span><span class='tstring_content'>target_link_uri</span><span class='label_end'>&quot;:</span><span class='tstring'><span class='tstring_beg'>&quot;</span><span class='tstring_content'>https://your.target_link_uri</span><span class='tstring_end'>&quot;</span></span><span class='comma'>,</span>
   <span class='tstring'><span class='tstring_beg'>&quot;</span><span class='tstring_content'>oidc_initiation_url</span><span class='label_end'>&quot;:</span><span class='tstring'><span class='tstring_beg'>&quot;</span><span class='tstring_content'>https://your.oidc_initiation_url</span><span class='tstring_end'>&quot;</span></span>
<span class='rbrace'>}</span>
</code></pre>

<p>NOTE: Using AGS does not require configuration of any specific placements, so
the placement(s) here could be any placement(s).</p>

<h2 id="available-services">Available Services</h2>

<p>Canvas supports the following AGS services:</p>

<ul>
<li><a href="/doc/api/line_items.html" target="_blank">Line Items</a></li>
<li><a href="/doc/api/score.html" target="_blank">Score</a></li>
<li><a href="/doc/api/result.html" target="_blank">Result</a></li>
</ul>

<h2 id="accessing-ags">Accessing AGS</h2>

<p>Before a tool can run AGS requests, it must be available in the course that it
wishes to interact with, and also complete the
<a href="file.oauth.html#accessing-lti-advantage-services" target="_blank">
OAuth2 Client Credentials</a> grant to obtain an access token. This covered in
depth in the <a href="https://www.imsglobal.org/spec/security/v1p0/#securing_web_services" target="_blank">
IMS LTI Security Framework, SEC 4</a>.</p>

<h2 id="extensions">Extensions</h2>

<p>Canvas has extended several AGS endpoints to support deeper grading
integrations. Here, we will focus on these extensions and describe how tools can
be configured to leverage AGS in Canvas.</p>

<h3 id="line-item-extension-creating-deep-linked-assignments">Line Item Extension: Creating deep linked assignments</h3>

<p>The <a href="/doc/api/line_items.html" target="_blank">Line Item service</a> has been extended
to allow an external tool to not only create gradebook columns (i.e. assignments)
in Canvas, but also connect the column/assignment to a specific LTI resource on
the external tool. This means that when the student accesses the assignment from
Canvas, they are able to see the external tool content directly in the page,
complete their assessment on the tool side, and have grades returned without
the instructor having to manually create assignments in Canvas.</p>

<p>This also allows tools to introduce new workflows, such as allowing instructors
to launch from a Course Navigation Placement, select multiple resources, and
import them into their course.</p>

<h3 id="score-extension-creating-submission-data">Score Extension: Creating submission data</h3>

<p>The <a href="/doc/api/score.html" target="_blank">Score service</a> has been extended to allow
an external tool to submission data back to the Canvas Gradebook. This data is
then exposed in the Submission Details and Speedgrader Views so that both
students and teachers can see what was submitted to the external tool without
leaving Canvas. Support for basic urls, text, and LTI links are supported.</p>

<p><a name="outcomes_service"></a></p>

<h1 id="lti-1-1-grade-passback-tools">LTI 1.1 Grade Passback Tools</h1>

<p>Tools can know that they have been launched in a graded context because
additional parameters are sent across when a student accesses the external
tool assignment. Specifically, the <code>lis_outcome_service_url</code> and
<code>lis_result_sourced_id</code> are sent as specified in the LTI 1.1 specification.
Grades are passed back to Canvas from the tool&#39;s servers using the
<a href="http://www.imsglobal.org/LTI/v1p1/ltiIMGv1p1.html#_Toc319560472">
outcomes component of LTI 1.1</a>. Notably, one of the major limitations of the
LTI 1.1 Outcomes Service is the inability of tools to return grades <em>before</em> a
student accesses the assignment from Canvas. If this functionality is desirable,
you should upgrade to LTI Advantage&#39;s Assignment and Grading Services.</p>

<p><strong>Note</strong> that in the past Canvas would return a 200 HTTP response code, even if the
XML in the body of the response indicated failure. This behavior has changed,
and now if the <code>imsx_codeMajor</code> in the XML response is not <code>success</code>, then
Canvas will return a 422 (Unprocessable Entity) HTTP response code.</p>

<h2 id="data-return-extension">Data Return Extension</h2>

<p>Canvas sends an extension parameter for assignment launches that allows the tool
provider to pass back values as submission text in canvas.
The key is <code>ext_outcome_data_values_accepted</code> and the value is a comma separated list of
types of data accepted. The currently available data types are <code>url</code> and <code>text</code>.
The added launch parameter will look like this:</p>

<p><code>ext_outcome_data_values_accepted=url,text</code></p>

<h3 id="returning-data-values-from-tool-provider">Returning Data Values from Tool Provider</h3>

<p>If the external tool wants to supply these values, it can augment the POX sent
with the grading value. <a href="http://www.imsglobal.org/LTI/v1p1/ltiIMGv1p1.html#_Toc319560473">LTI replaceResult POX</a></p>

<p>Only one type of resultData should be sent, if multiple types are sent the tool
consumer behavior is undefined and is implementation-specific. Canvas will take
the text value and ignore the url value if both are sent.</p>

<h4 id="text">Text</h4>

<p>Add a <code>resultData</code> node with a <code>text</code> node of plain text in the same encoding as
the rest of the document within it like this:</p>

<pre class="code xml"><code class="xml">&lt;?xml version = &quot;1.0&quot; encoding = &quot;UTF-8&quot;?&gt;
&lt;imsx_POXEnvelopeRequest xmlns=&quot;http://www.imsglobal.org/services/ltiv1p1/xsd/imsoms_v1p0&quot;&gt;
  &lt;imsx_POXHeader&gt;
    &lt;imsx_POXRequestHeaderInfo&gt;
      &lt;imsx_version&gt;V1.0&lt;/imsx_version&gt;
      &lt;imsx_messageIdentifier&gt;999999123&lt;/imsx_messageIdentifier&gt;
    &lt;/imsx_POXRequestHeaderInfo&gt;
  &lt;/imsx_POXHeader&gt;
  &lt;imsx_POXBody&gt;
    &lt;replaceResultRequest&gt;
      &lt;resultRecord&gt;
        &lt;sourcedGUID&gt;
          &lt;sourcedId&gt;3124567&lt;/sourcedId&gt;
        &lt;/sourcedGUID&gt;
        &lt;result&gt;
          &lt;resultScore&gt;
            &lt;language&gt;en&lt;/language&gt;
            &lt;textString&gt;0.92&lt;/textString&gt;
          &lt;/resultScore&gt;
          &lt;!-- Added element --&gt;
          &lt;resultData&gt;
            &lt;text&gt;text data for canvas submission&lt;/text&gt;
          &lt;/resultData&gt;
        &lt;/result&gt;
      &lt;/resultRecord&gt;
    &lt;/replaceResultRequest&gt;
  &lt;/imsx_POXBody&gt;
&lt;/imsx_POXEnvelopeRequest&gt;
</code></pre>

<h4 id="url">URL</h4>

<p>Add a <code>resultData</code> node with a <code>url</code> node within it like this:</p>

<pre class="code xml"><code class="xml">&lt;?xml version = &quot;1.0&quot; encoding = &quot;UTF-8&quot;?&gt;
&lt;imsx_POXEnvelopeRequest xmlns=&quot;http://www.imsglobal.org/services/ltiv1p1/xsd/imsoms_v1p0&quot;&gt;
  &lt;imsx_POXHeader&gt;
    &lt;imsx_POXRequestHeaderInfo&gt;
      &lt;imsx_version&gt;V1.0&lt;/imsx_version&gt;
      &lt;imsx_messageIdentifier&gt;999999123&lt;/imsx_messageIdentifier&gt;
    &lt;/imsx_POXRequestHeaderInfo&gt;
  &lt;/imsx_POXHeader&gt;
  &lt;imsx_POXBody&gt;
    &lt;replaceResultRequest&gt;
      &lt;resultRecord&gt;
        &lt;sourcedGUID&gt;
          &lt;sourcedId&gt;3124567&lt;/sourcedId&gt;
        &lt;/sourcedGUID&gt;
        &lt;result&gt;
          &lt;resultScore&gt;
            &lt;language&gt;en&lt;/language&gt;
            &lt;textString&gt;0.92&lt;/textString&gt;
          &lt;/resultScore&gt;
          &lt;!-- Added element --&gt;
          &lt;resultData&gt;
            &lt;url&gt;https://www.example.com/cool_lti_link_submission&lt;/url&gt;
          &lt;/resultData&gt;
        &lt;/result&gt;
      &lt;/resultRecord&gt;
    &lt;/replaceResultRequest&gt;
  &lt;/imsx_POXBody&gt;
&lt;/imsx_POXEnvelopeRequest&gt;
</code></pre>

<h4 id="lti-launch-url">LTI Launch URL</h4>

<p>Add a <code>resultData</code> node with a <code>ltiLaunchUrl</code> node like this:</p>

<pre class="code xml"><code class="xml">&lt;?xml version = &quot;1.0&quot; encoding = &quot;UTF-8&quot;?&gt;
&lt;imsx_POXEnvelopeRequest xmlns=&quot;http://www.imsglobal.org/services/ltiv1p1/xsd/imsoms_v1p0&quot;&gt;
  &lt;imsx_POXHeader&gt;
    &lt;imsx_POXRequestHeaderInfo&gt;
      &lt;imsx_version&gt;V1.0&lt;/imsx_version&gt;
      &lt;imsx_messageIdentifier&gt;999999123&lt;/imsx_messageIdentifier&gt;
    &lt;/imsx_POXRequestHeaderInfo&gt;
  &lt;/imsx_POXHeader&gt;
  &lt;imsx_POXBody&gt;
    &lt;replaceResultRequest&gt;
      &lt;resultRecord&gt;
        &lt;sourcedGUID&gt;
          &lt;sourcedId&gt;3124567&lt;/sourcedId&gt;
        &lt;/sourcedGUID&gt;
        &lt;result&gt;
          &lt;resultScore&gt;
            &lt;language&gt;en&lt;/language&gt;
            &lt;textString&gt;0.92&lt;/textString&gt;
          &lt;/resultScore&gt;
          &lt;!-- Added element --&gt;
          &lt;resultData&gt;
            &lt;ltiLaunchUrl&gt;https://some.launch.url/launch?lti_submission_id=42&lt;/ltiLaunchUrl&gt;
          &lt;/resultData&gt;
        &lt;/result&gt;
      &lt;/resultRecord&gt;
    &lt;/replaceResultRequest&gt;
  &lt;/imsx_POXBody&gt;
&lt;/imsx_POXEnvelopeRequest&gt;
</code></pre>

<h2 id="total-score-return-extension">Total Score Return Extension</h2>

<p>Canvas sends an extension parameter for assignment launches that allows the tool
provider to pass back a raw score value instead of a percentage.
The key is <code>ext_outcome_result_total_score_accepted</code> and the value is <code>true</code>.
The added launch parameter will look like this:</p>

<p><code>ext_outcome_result_total_score_accepted=true</code></p>

<h3 id="returning-total-score-from-tool-provider">Returning Total Score from Tool Provider</h3>

<p>If the external tool wants to supply this value, it can augment the POX sent
with the grading value. <a href="http://www.imsglobal.org/LTI/v1p1/ltiIMGv1p1.html#_Toc319560473">LTI replaceResult POX</a></p>

<p>Simply add a node called <code>resultTotalScore</code> instead of <code>resultScore</code>. If both are
sent, then <code>resultScore</code> will be ignored. The <code>textString</code> value  should be
an Integer or Float value.</p>

<pre class="code xml"><code class="xml">&lt;?xml version = &quot;1.0&quot; encoding = &quot;UTF-8&quot;?&gt;
&lt;imsx_POXEnvelopeRequest xmlns=&quot;http://www.imsglobal.org/services/ltiv1p1/xsd/imsoms_v1p0&quot;&gt;
  &lt;imsx_POXHeader&gt;
    &lt;imsx_POXRequestHeaderInfo&gt;
      &lt;imsx_version&gt;V1.0&lt;/imsx_version&gt;
      &lt;imsx_messageIdentifier&gt;999999123&lt;/imsx_messageIdentifier&gt;
    &lt;/imsx_POXRequestHeaderInfo&gt;
  &lt;/imsx_POXHeader&gt;
  &lt;imsx_POXBody&gt;
    &lt;replaceResultRequest&gt;
      &lt;resultRecord&gt;
        &lt;sourcedGUID&gt;
          &lt;sourcedId&gt;3124567&lt;/sourcedId&gt;
        &lt;/sourcedGUID&gt;
        &lt;result&gt;
          &lt;!-- Added element --&gt;
          &lt;resultTotalScore&gt;
            &lt;language&gt;en&lt;/language&gt;
            &lt;textString&gt;50&lt;/textString&gt;
          &lt;/resultTotalScore&gt;
        &lt;/result&gt;
      &lt;/resultRecord&gt;
    &lt;/replaceResultRequest&gt;
  &lt;/imsx_POXBody&gt;
&lt;/imsx_POXEnvelopeRequest&gt;
</code></pre>

<h1 id="submission-details-return-extension">Submission Details Return Extension</h1>

<p>Canvas sends an extension parameter for assignment launches that allows the tool
provider to pass back submission metadata not directly related to the result.</p>

<p>Details about the submission the external tool wants to supply
should augment the POX sent with the grading value. <a href="http://www.imsglobal.org/LTI/v1p1/ltiIMGv1p1.html#_Toc319560473">LTI replaceResult POX</a>
Simply add a node called <code>submissionDetails</code> to the <code>replaceResultRequest</code> node. Any data regarding
the submission that is not related directly to the result will be included in this node.</p>

<pre class="code xml"><code class="xml">&lt;?xml version = &quot;1.0&quot; encoding = &quot;UTF-8&quot;?&gt;
&lt;imsx_POXEnvelopeRequest xmlns=&quot;http://www.imsglobal.org/services/ltiv1p1/xsd/imsoms_v1p0&quot;&gt;
  &lt;imsx_POXHeader&gt;
    &lt;imsx_POXRequestHeaderInfo&gt;
      &lt;imsx_version&gt;V1.0&lt;/imsx_version&gt;
      &lt;imsx_messageIdentifier&gt;999999123&lt;/imsx_messageIdentifier&gt;
    &lt;/imsx_POXRequestHeaderInfo&gt;
  &lt;/imsx_POXHeader&gt;
  &lt;imsx_POXBody&gt;
    &lt;replaceResultRequest&gt;
      &lt;!-- Added element --&gt;
      &lt;submissionDetails&gt;
        ...
      &lt;/submissionDetails&gt;
      &lt;resultRecord&gt;
        &lt;sourcedGUID&gt;
          &lt;sourcedId&gt;3124567&lt;/sourcedId&gt;
        &lt;/sourcedGUID&gt;
        &lt;result&gt;
          &lt;resultScore&gt;
            &lt;language&gt;en&lt;/language&gt;
            &lt;textString&gt;0.92&lt;/textString&gt;
          &lt;/resultScore&gt;
        &lt;/result&gt;
      &lt;/resultRecord&gt;
    &lt;/replaceResultRequest&gt;
  &lt;/imsx_POXBody&gt;
&lt;/imsx_POXEnvelopeRequest&gt;
</code></pre>

<h2 id="submission-submitted-at-timestamp-extension">Submission Submitted At Timestamp Extension</h2>

<p>Canvas sends an extension parameter for assignment launches that allows the tool
provider to pass back the submission submitted at timestamp.
The key is <code>ext_outcome_submission_submitted_at_accepted</code> and the value is <code>true</code>.
The added launch parameter will look like this:</p>

<p><code>ext_outcome_submission_submitted_at_accepted=true</code></p>

<h3 id="submission-submitted-at-timestamp-from-tool-provider">Submission Submitted At Timestamp from Tool Provider</h3>

<p>If the external tool wants to supply this value, it can augment the POX sent
with the submission submitted at value. <a href="http://www.imsglobal.org/LTI/v1p1/ltiIMGv1p1.html#_Toc319560473">LTI replaceResult POX</a></p>

<p>Simply add a node called <code>submittedAt</code> to the <code>submissionDetails</code> node. The text
string must be an <a href="https://tools.ietf.org/html/rfc3339">iso8601 formatted timestamp</a>.
If included, then it will override any existing submitted_at value on the submission even when
result score or result total score are not present.</p>

<pre class="code xml"><code class="xml">&lt;?xml version = &quot;1.0&quot; encoding = &quot;UTF-8&quot;?&gt;
&lt;imsx_POXEnvelopeRequest xmlns=&quot;http://www.imsglobal.org/services/ltiv1p1/xsd/imsoms_v1p0&quot;&gt;
  &lt;imsx_POXHeader&gt;
    &lt;imsx_POXRequestHeaderInfo&gt;
      &lt;imsx_version&gt;V1.0&lt;/imsx_version&gt;
      &lt;imsx_messageIdentifier&gt;999999123&lt;/imsx_messageIdentifier&gt;
    &lt;/imsx_POXRequestHeaderInfo&gt;
  &lt;/imsx_POXHeader&gt;
  &lt;imsx_POXBody&gt;
    &lt;replaceResultRequest&gt;
      &lt;submissionDetails&gt;
        &lt;!-- Added element --&gt;
        &lt;submittedAt&gt;
          2017-04-16T18:54:36.736+00:00
        &lt;/submittedAt&gt;
      &lt;/submissionDetails&gt;
      &lt;resultRecord&gt;
        &lt;sourcedGUID&gt;
          &lt;sourcedId&gt;3124567&lt;/sourcedId&gt;
        &lt;/sourcedGUID&gt;
        &lt;result&gt;
          &lt;resultScore&gt;
            &lt;language&gt;en&lt;/language&gt;
            &lt;textString&gt;0.92&lt;/textString&gt;
          &lt;/resultScore&gt;
        &lt;/result&gt;
      &lt;/resultRecord&gt;
    &lt;/replaceResultRequest&gt;
  &lt;/imsx_POXBody&gt;
&lt;/imsx_POXEnvelopeRequest&gt;
</code></pre>
</div></div>

    <script type="text/javascript">
  $('h2.api_method_name').each(function(i, el) {
    var subtopic = $(el).data('subtopic');
    var $a = $(el).find('a');
    if ($.trim($a[0].innerHTML) == '')
      return;
    var $row = $('table#quicklinks tr').filter(function() { return $(this).data('subtopic') == subtopic; });
    if ($row.length == 0) {
      $row = $('<tr/>').appendTo($('table#quicklinks'));
      $row.data('subtopic', subtopic);
      $('<th/>').append(subtopic).appendTo($row);
      $('<td/>').appendTo($row);
    }
    var link = $('<a/>').attr('href', '#'+$(el).attr('name')).append($.trim($a[0].innerHTML));
    $row.find('td').append(link);
  });
</script>
<div id="footer">
  &copy; Instructure, Inc. Generated on Mon Nov  8 20:12:58 2021<br>
  This documentation is generated directly from the Canvas LMS source code, available <a href="https://github.com/instructure/canvas-lms">on Github</a>.
</div>

  </body>
</html>
