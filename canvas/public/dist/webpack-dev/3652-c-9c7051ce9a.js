(window["canvasWebpackJsonp"] = window["canvasWebpackJsonp"] || []).push([[3652],{

/***/ "3jyj":
/*!***************************************************!*\
  !*** ./ui/shared/files/backbone/models/Folder.js ***!
  \***************************************************/
/*! exports provided: default */
/***/ (function(module, __webpack_exports__, __webpack_require__) {

"use strict";
eval("__webpack_require__.r(__webpack_exports__);\n/* harmony import */ var _FilesystemObject_coffee__WEBPACK_IMPORTED_MODULE_0__ = __webpack_require__(/*! ./FilesystemObject.coffee */ \"QYKH\");\n/* harmony import */ var backbone_identity_map__WEBPACK_IMPORTED_MODULE_1__ = __webpack_require__(/*! backbone-identity-map */ \"4xnm\");\n/* harmony import */ var _canvas_pagination_backbone_collections_PaginatedCollection_coffee__WEBPACK_IMPORTED_MODULE_2__ = __webpack_require__(/*! @canvas/pagination/backbone/collections/PaginatedCollection.coffee */ \"TnsN\");\n/* harmony import */ var _collections_FilesCollection__WEBPACK_IMPORTED_MODULE_3__ = __webpack_require__(/*! ../collections/FilesCollection */ \"VXGR\");\n/* harmony import */ var _canvas_util_natcompare__WEBPACK_IMPORTED_MODULE_4__ = __webpack_require__(/*! @canvas/util/natcompare */ \"plYi\");\n/* harmony import */ var url_encoding__WEBPACK_IMPORTED_MODULE_5__ = __webpack_require__(/*! url-encoding */ \"LRs1\");\n//\n// Copyright (C) 2012 - present Instructure, Inc.\n//\n// This file is part of Canvas.\n//\n// Canvas is free software: you can redistribute it and/or modify it under\n// the terms of the GNU Affero General Public License as published by the Free\n// Software Foundation, version 3 of the License.\n//\n// Canvas is distributed in the hope that it will be useful, but WITHOUT ANY\n// WARRANTY; without even the implied warranty of MERCHANTABILITY or FITNESS FOR\n// A PARTICULAR PURPOSE. See the GNU Affero General Public License for more\n// details.\n//\n// You should have received a copy of the GNU Affero General Public License along\n// with this program. If not, see <http://www.gnu.org/licenses/>.\n\n\n\n\n\n // `full_name` will be something like \"course files/some folder/another\".\n// For routing in the react app in the browser, we want something that will take that \"course files\"\n// out. because urls will end up being /courses/2/files/folder/some folder/another\n\nconst EVERYTHING_BEFORE_THE_FIRST_SLASH = /^[^\\/]+\\/?/;\nlet filesEnv = null;\n\nfunction getSortProp(model, sortProp) {\n  // if we are sorting by name use 'display_name' for files and 'name' for folders.\n  if (sortProp === 'name' && !(model instanceof Folder)) {\n    return model.get('display_name');\n  } else if (sortProp === 'user') {\n    return __guard__(model.get('user'), x => x.display_name) || '';\n  } else if (sortProp === 'usage_rights') {\n    return __guard__(model.get('usage_rights'), x1 => x1.license_name) || '';\n  } else {\n    return model.get(sortProp);\n  }\n}\n\nclass __Folder extends _FilesystemObject_coffee__WEBPACK_IMPORTED_MODULE_0__[\"default\"] {\n  initialize(options) {\n    if (!this.contentTypes) this.contentTypes = options != null ? options.contentTypes : void 0;\n    if (!this.useVerifiers) this.useVerifiers = options != null ? options.useVerifiers : void 0;\n    this.setUpFilesAndFoldersIfNeeded();\n    this.on('change:sort change:order', this.setQueryStringParams);\n    return super.initialize(...arguments);\n  }\n\n  url() {\n    if (this.isNew()) {\n      return super.url(...arguments);\n    } else {\n      return `/api/v1/folders/${this.id}`;\n    }\n  }\n\n  parse(response) {\n    const json = super.parse(...arguments);\n    if (!this.contentTypes) this.contentTypes = response.contentTypes;\n    if (!this.useVerifiers) this.useVerifiers = response.useVerifiers;\n    this.setUpFilesAndFoldersIfNeeded();\n    this.folders.url = response.folders_url;\n    this.files.url = response.files_url;\n    return json;\n  }\n\n  setUpFilesAndFoldersIfNeeded() {\n    if (!this.folders) {\n      this.folders = new FoldersCollection([], {\n        parentFolder: this\n      });\n    }\n\n    if (!this.files) {\n      return this.files = new _collections_FilesCollection__WEBPACK_IMPORTED_MODULE_3__[\"default\"]([], {\n        parentFolder: this\n      });\n    }\n  }\n\n  getSubtrees() {\n    return this.folders;\n  }\n\n  getItems() {\n    return this.files;\n  }\n\n  expand(force = false, options = {}) {\n    let fetchDfd;\n    this.isExpanded = true;\n    this.trigger('expanded');\n\n    if (this.expandDfd || force) {\n      return $.when();\n    }\n\n    this.isExpanding = true;\n    this.trigger('beginexpanding');\n    this.expandDfd = $.Deferred().done(() => {\n      this.isExpanding = false;\n      return this.trigger('endexpanding');\n    });\n    const selfHasntBeenFetched = this.folders.url === this.folders.constructor.prototype.url || this.files.url === this.files.constructor.prototype.url;\n\n    if (selfHasntBeenFetched || force) {\n      fetchDfd = this.fetch();\n    }\n\n    return $.when(fetchDfd).done(() => {\n      let filesDfd, foldersDfd;\n\n      if (this.get('folders_count') !== 0) {\n        foldersDfd = this.folders.fetch();\n      }\n\n      if (this.get('files_count') !== 0 && !options.onlyShowSubtrees) {\n        filesDfd = this.files.fetch();\n      }\n\n      return $.when(foldersDfd, filesDfd).done(this.expandDfd.resolve);\n    });\n  }\n\n  collapse() {\n    this.isExpanded = false;\n    return this.trigger('collapsed');\n  }\n\n  toggle(options) {\n    if (this.isExpanded) {\n      return this.collapse();\n    } else {\n      return this.expand(false, options);\n    }\n  }\n\n  previewUrl() {\n    let needle;\n\n    if (needle = this.get('context_type'), ['Course', 'Group'].includes(needle)) {\n      return `/${`${this.get('context_type').toLowerCase()}s`}/${this.get('context_id')}/files/{{id}}/preview`;\n    }\n  }\n\n  isEmpty() {\n    return !!(this.files.loadedAll && this.files.length === 0) && this.folders.loadedAll && this.folders.length === 0;\n  }\n\n  urlPath() {\n    let relativePath = (this.get('full_name') || '').replace(EVERYTHING_BEFORE_THE_FIRST_SLASH, '');\n    relativePath = url_encoding__WEBPACK_IMPORTED_MODULE_5__[\"default\"].encodeSpecialChars(relativePath);\n    relativePath = relativePath.split('/').map(component => encodeURIComponent(component)).join('/');\n    if (!filesEnv) filesEnv = __webpack_require__(/*! ../../react/modules/filesEnv */ \"m452\").default; // circular dep\n    // when we are viewing all files we need to pad the context_asset_string on the front of the url\n    // so it would be something like /files/folder/users_1/some/sub/folder\n\n    if (filesEnv.showingAllContexts) {\n      const assetString = `${__guard__(this.get('context_type'), x => x.toLowerCase())}s_${this.get('context_id')}`;\n      relativePath = `${assetString}/${relativePath}`;\n    }\n\n    return relativePath;\n  } // #\n  // Special sorter for handling sorting with special properties\n  // It's been enhanced to sort naturally when certain sortProps\n  // are used.\n\n\n  childrenSorter(sortProp = 'name', sortOrder = 'asc', a, b) {\n    // Only use natural mode for instances we expect strings in.\n    let res;\n    const naturalMode = ['name', 'user', 'usage_rights'].includes(sortProp); // Get actual values for the properties we are sorting by.\n\n    a = getSortProp(a, sortProp);\n    b = getSortProp(b, sortProp);\n\n    if (naturalMode) {\n      res = _canvas_util_natcompare__WEBPACK_IMPORTED_MODULE_4__[\"default\"].strings(a, b);\n    } else {\n      res = (() => {\n        if (a === b) {\n          return 0;\n        } else if (a > b || a === void 0) {\n          return 1;\n        } else if (a < b || b === void 0) {\n          return -1;\n        } else {\n          throw new Error('wat? error sorting');\n        }\n      })();\n    }\n\n    if (sortOrder === 'desc') {\n      res = 0 - res;\n    }\n\n    return res;\n  }\n\n  children({\n    sort,\n    order\n  }) {\n    return this.folders.toArray().concat(this.files.toArray()).sort(this.childrenSorter.bind(null, sort, order));\n  }\n\n}\n\n__Folder.resolvePath = function (contextType, contextId, folderPath) {\n  folderPath = url_encoding__WEBPACK_IMPORTED_MODULE_5__[\"default\"].decodeSpecialChars(folderPath);\n  const url = `/api/v1/${contextType}/${contextId}/folders/by_path${folderPath}`;\n  return $.getJSON(url).pipe(folders => folders.map(folderAttrs => new Folder(folderAttrs, {\n    parse: true\n  })));\n};\n\n__Folder.prototype.defaults = {\n  name: ''\n};\nconst Folder = Object(backbone_identity_map__WEBPACK_IMPORTED_MODULE_1__[\"default\"])(__Folder);\n/* harmony default export */ __webpack_exports__[\"default\"] = (Folder);\n\nclass FoldersCollection extends _canvas_pagination_backbone_collections_PaginatedCollection_coffee__WEBPACK_IMPORTED_MODULE_2__[\"default\"] {\n  static initClass() {\n    this.optionProperty('parentFolder');\n    this.prototype.model = Folder;\n  }\n\n  parse(response) {\n    if (response) {\n      response.forEach(folder => {\n        folder.contentTypes = this.parentFolder.contentTypes;\n        return folder.useVerifiers = this.parentFolder.useVerifiers;\n      });\n    }\n\n    return super.parse(...arguments);\n  }\n\n}\n\nFoldersCollection.initClass(); // FoldersCollection is defined inside of this file, and not where it\n// should be, because RequireJS sucks at figuring out circular dependencies.\n// '../collections/FoldersCollection' just grabs this and re-exports it.\n\nFolder.FoldersCollection = FoldersCollection;\n\nfunction __guard__(value, transform) {\n  return typeof value !== 'undefined' && value !== null ? transform(value) : void 0;\n}\n\n//# sourceURL=webpack:///./ui/shared/files/backbone/models/Folder.js?");

/***/ }),

/***/ "4xnm":
/*!*************************************************!*\
  !*** ./packages/backbone-identity-map/index.js ***!
  \*************************************************/
/*! exports provided: default */
/***/ (function(module, __webpack_exports__, __webpack_require__) {

"use strict";
eval("__webpack_require__.r(__webpack_exports__);\n/* harmony import */ var _canvas_backbone__WEBPACK_IMPORTED_MODULE_0__ = __webpack_require__(/*! @canvas/backbone */ \"mX+G\");\n/* harmony import */ var _canvas_backbone__WEBPACK_IMPORTED_MODULE_0___default = /*#__PURE__*/__webpack_require__.n(_canvas_backbone__WEBPACK_IMPORTED_MODULE_0__);\n/* harmony import */ var underscore__WEBPACK_IMPORTED_MODULE_1__ = __webpack_require__(/*! underscore */ \"Y/W1\");\n/* harmony import */ var underscore__WEBPACK_IMPORTED_MODULE_1___default = /*#__PURE__*/__webpack_require__.n(underscore__WEBPACK_IMPORTED_MODULE_1__);\n// from https://github.com/shinetech/backbone-identity-map/blob/d9d1b5faf8f5cf4ef05b358f65347745f0df2693/backbone-identity-map.js\n\n/**\n * Identity Map for Backbone models.\n *\n * Usage:\n *\n *    var NewModel = IdentityMap(Backbone.Model.extend(\n *      {...},\n *      {...}\n *    ));\n *\n * A model that is wrapped in IdentityMap will cache models by their\n * ID. Any time you call new NewModel(), and you pass in an id\n * attribute, IdentityMap will check the cache to see if that object\n * has already been created. If so, that existing object will be\n * returned. Otherwise, a new model will be instantiated.\n *\n * Any models that are created without an ID will instantiate a new\n * object. If that model is subsequently assigned an ID, it will add\n * itself to the cache with this ID. If by that point another object\n * has already been assigned to the cache with the same ID, then\n * that object will be overridden.\n */\n\n\n\n  // Stores cached models:\n  // key: (unique identifier per class) + ':' + (model id)\n  // value: model object\n  var cache = {};\n\n  /**\n   * realConstructor: a backbone model constructor function\n   * returns a constructor function that acts like realConstructor,\n   * but returns cached objects if possible.\n   */\n  var IdentityMap = function(realConstructor) {\n    var classCacheKey = underscore__WEBPACK_IMPORTED_MODULE_1___default.a.uniqueId();\n    var modelConstructor = underscore__WEBPACK_IMPORTED_MODULE_1___default.a.extend(function(attributes, options) {\n      // creates a new object (used if the object isn't found in\n      // the cache)\n      var create = function() {\n        return new realConstructor(attributes, options);\n      };\n      var objectId = attributes &&\n        attributes[realConstructor.prototype.idAttribute];\n      // if there is an ID, check if that object exists in the\n      // cache already\n      if (objectId) {\n        var cacheKey = classCacheKey + ':' + objectId;\n        if (!cache[cacheKey]) {\n          // the object has an ID, but isn't found in the cache\n          cache[cacheKey] = create();\n        } else {\n          // the object was in the cache\n          var object = cache[cacheKey];\n          // set up the object just like new Backbone.Model() would\n          if (options && options.parse) {\n            attributes = object.parse(attributes);\n          }\n          object.set(attributes);\n        }\n        return cache[cacheKey];\n      } else {\n        var obj = create();\n        // when an object's id is set, add it to the cache\n        obj.on('change:' + realConstructor.prototype.idAttribute,\n          function(model, objectId) {\n            cache[classCacheKey + ':' + objectId] = obj;\n            obj.off(null, null, this);\n          },\n        this);\n        return obj;\n      }\n    }, realConstructor);\n    modelConstructor.prototype = realConstructor.prototype;\n    return modelConstructor;\n  };\n\n  /**\n   * Clears the cache. (useful for unit testing)\n   */\n  IdentityMap.resetCache = function() {\n    cache = {};\n  };\n\n  /* harmony default export */ __webpack_exports__[\"default\"] = (IdentityMap);\n\n\n\n\n//# sourceURL=webpack:///./packages/backbone-identity-map/index.js?");

/***/ }),

/***/ "BcBy":
/*!***********************************************!*\
  !*** ./ui/shared/files/util/getFileStatus.js ***!
  \***********************************************/
/*! exports provided: default */
/***/ (function(module, __webpack_exports__, __webpack_require__) {

"use strict";
eval("__webpack_require__.r(__webpack_exports__);\n/* harmony export (binding) */ __webpack_require__.d(__webpack_exports__, \"default\", function() { return getFileStatus; });\n/* harmony import */ var _canvas_backbone__WEBPACK_IMPORTED_MODULE_0__ = __webpack_require__(/*! @canvas/backbone */ \"mX+G\");\n/* harmony import */ var _canvas_backbone__WEBPACK_IMPORTED_MODULE_0___default = /*#__PURE__*/__webpack_require__.n(_canvas_backbone__WEBPACK_IMPORTED_MODULE_0__);\n/* harmony import */ var i18n_file_status__WEBPACK_IMPORTED_MODULE_1__ = __webpack_require__(/*! i18n!file_status */ \"WZul\");\n/*\n * Copyright (C) 2014 - present Instructure, Inc.\n *\n * This file is part of Canvas.\n *\n * Canvas is free software: you can redistribute it and/or modify it under\n * the terms of the GNU Affero General Public License as published by the Free\n * Software Foundation, version 3 of the License.\n *\n * Canvas is distributed in the hope that it will be useful, but WITHOUT ANY\n * WARRANTY; without even the implied warranty of MERCHANTABILITY or FITNESS FOR\n * A PARTICULAR PURPOSE. See the GNU Affero General Public License for more\n * details.\n *\n * You should have received a copy of the GNU Affero General Public License along\n * with this program. If not, see <http://www.gnu.org/licenses/>.\n */\n\n // Handles getting the status for a file.\n//\n// Returns an internationalized string describing the status of a file.\n//\n// model is a Backbone file model.\n\nfunction getFileStatus(model) {\n  // Error handling to return an empty string should a Backbone model not\n  // be provided, or if it is currently undefined/null.\n  if (model == null || !(model instanceof _canvas_backbone__WEBPACK_IMPORTED_MODULE_0___default.a.Model)) return ''; // Determine what the file status is\n\n  const status = {\n    published: !model.get('locked'),\n    restricted: !!model.get('lock_at') || !!model.get('unlock_at'),\n    hidden: !!model.get('hidden')\n  };\n\n  if (status.published && status.restricted) {\n    return i18n_file_status__WEBPACK_IMPORTED_MODULE_1__[\"default\"].t('restricted_status', 'Available from %{from_date} until %{until_date}', {\n      from_date: $.datetimeString(model.get('unlock_at')),\n      until_date: $.datetimeString(model.get('lock_at'))\n    });\n  } else if (status.published && status.hidden) {\n    return i18n_file_status__WEBPACK_IMPORTED_MODULE_1__[\"default\"].t('hidden_status', 'Hidden. Available with a link');\n  } else if (status.published) {\n    return i18n_file_status__WEBPACK_IMPORTED_MODULE_1__[\"default\"].t('published_status', 'Published');\n  } else {\n    return i18n_file_status__WEBPACK_IMPORTED_MODULE_1__[\"default\"].t('unpublished_status', 'Unpublished');\n  }\n}\n\n//# sourceURL=webpack:///./ui/shared/files/util/getFileStatus.js?");

/***/ }),

/***/ "C4hU":
/*!***************************************************!*\
  !*** ./ui/shared/files/util/collectionHandler.js ***!
  \***************************************************/
/*! exports provided: default */
/***/ (function(module, __webpack_exports__, __webpack_require__) {

"use strict";
eval("__webpack_require__.r(__webpack_exports__);\n/* harmony import */ var _canvas_backbone__WEBPACK_IMPORTED_MODULE_0__ = __webpack_require__(/*! @canvas/backbone */ \"mX+G\");\n/* harmony import */ var _canvas_backbone__WEBPACK_IMPORTED_MODULE_0___default = /*#__PURE__*/__webpack_require__.n(_canvas_backbone__WEBPACK_IMPORTED_MODULE_0__);\n/*\n * Copyright (C) 2014 - present Instructure, Inc.\n *\n * This file is part of Canvas.\n *\n * Canvas is free software: you can redistribute it and/or modify it under\n * the terms of the GNU Affero General Public License as published by the Free\n * Software Foundation, version 3 of the License.\n *\n * Canvas is distributed in the hope that it will be useful, but WITHOUT ANY\n * WARRANTY; without even the implied warranty of MERCHANTABILITY or FITNESS FOR\n * A PARTICULAR PURPOSE. See the GNU Affero General Public License for more\n * details.\n *\n * You should have received a copy of the GNU Affero General Public License along\n * with this program. If not, see <http://www.gnu.org/licenses/>.\n */\n// Handles navigation through a collection.\n\n/* harmony default export */ __webpack_exports__[\"default\"] = ({\n  isBackboneCollection(collection) {\n    return collection instanceof _canvas_backbone__WEBPACK_IMPORTED_MODULE_0___default.a.Collection;\n  },\n\n  // Get the previous item in a collection.\n  getPreviousInRelationTo(collection, collectionItem) {\n    const isBackbone = this.isBackboneCollection(collection);\n    const itemIndex = collection.indexOf(collectionItem); // Return null if the item wasn't found.\n\n    if (!(itemIndex >= 0)) {\n      return null;\n    }\n\n    const nextIndex = itemIndex - 1; // Return the last item if we were at the first.\n\n    if (nextIndex < 0) {\n      if (isBackbone) {\n        return collection.at(collection.length - 1);\n      } else {\n        return collection[collection.length - 1];\n      }\n    } // Otherwise let's just return the previous item.\n\n\n    if (isBackbone) {\n      return collection.at(nextIndex);\n    } else {\n      return collection[nextIndex];\n    }\n  },\n\n  // Get the next item in a collection.\n  getNextInRelationTo(collection, collectionItem) {\n    const isBackbone = this.isBackboneCollection(collection);\n    const itemIndex = collection.indexOf(collectionItem); // Return null if the item wasn't found.\n\n    if (!(itemIndex >= 0)) return null;\n    const nextIndex = itemIndex + 1; // Return the first item if we were at the last.\n\n    if (nextIndex > collection.length - 1) {\n      if (isBackbone) {\n        return collection.at(0);\n      } else {\n        return collection[0];\n      }\n    } // Otherwise let's just return the next item.\n\n\n    if (isBackbone) {\n      return collection.at(nextIndex);\n    } else {\n      return collection[nextIndex];\n    }\n  }\n\n});\n\n//# sourceURL=webpack:///./ui/shared/files/util/collectionHandler.js?");

/***/ }),

/***/ "C8i9":
/*!*****************************************************!*\
  !*** ./ui/shared/files/backbone/models/File.coffee ***!
  \*****************************************************/
/*! exports provided: default */
/***/ (function(module, __webpack_exports__, __webpack_require__) {

"use strict";
eval("__webpack_require__.r(__webpack_exports__);\n/* harmony import */ var jquery__WEBPACK_IMPORTED_MODULE_0__ = __webpack_require__(/*! jquery */ \"ouhR\");\n/* harmony import */ var jquery__WEBPACK_IMPORTED_MODULE_0___default = /*#__PURE__*/__webpack_require__.n(jquery__WEBPACK_IMPORTED_MODULE_0__);\n/* harmony import */ var underscore__WEBPACK_IMPORTED_MODULE_1__ = __webpack_require__(/*! underscore */ \"Y/W1\");\n/* harmony import */ var underscore__WEBPACK_IMPORTED_MODULE_1___default = /*#__PURE__*/__webpack_require__.n(underscore__WEBPACK_IMPORTED_MODULE_1__);\n/* harmony import */ var _FilesystemObject_coffee__WEBPACK_IMPORTED_MODULE_2__ = __webpack_require__(/*! ./FilesystemObject.coffee */ \"QYKH\");\n/* harmony import */ var _canvas_upload_file__WEBPACK_IMPORTED_MODULE_3__ = __webpack_require__(/*! @canvas/upload-file */ \"EyBU\");\n/* harmony import */ var _canvas_jquery_jquery_ajaxJSON__WEBPACK_IMPORTED_MODULE_4__ = __webpack_require__(/*! @canvas/jquery/jquery.ajaxJSON */ \"dhbk\");\nvar File,\n  bind = function(fn, me){ return function(){ return fn.apply(me, arguments); }; },\n  extend = function(child, parent) { for (var key in parent) { if (hasProp.call(parent, key)) child[key] = parent[key]; } function ctor() { this.constructor = child; } ctor.prototype = parent.prototype; child.prototype = new ctor(); child.__super__ = parent.prototype; return child; },\n  hasProp = {}.hasOwnProperty,\n  slice = [].slice;\n\n\n\n\n\n\n\n\n\n\n\n/* harmony default export */ __webpack_exports__[\"default\"] = (File = (function(superClass) {\n  extend(File, superClass);\n\n  function File() {\n    this.externalToolEnabled = bind(this.externalToolEnabled, this);\n    return File.__super__.constructor.apply(this, arguments);\n  }\n\n  File.prototype.url = function() {\n    if (this.isNew()) {\n      return File.__super__.url.apply(this, arguments);\n    } else {\n      return \"/api/v1/files/\" + this.id;\n    }\n  };\n\n  File.prototype.initialize = function(attributes, options) {\n    if (options == null) {\n      options = {};\n    }\n    this.preflightUrl = options.preflightUrl;\n    return File.__super__.initialize.apply(this, arguments);\n  };\n\n  File.prototype.save = function(attrs, options) {\n    var dfrd, file, filename, onError, onUpload, preflightData;\n    if (attrs == null) {\n      attrs = {};\n    }\n    if (options == null) {\n      options = {};\n    }\n    if (!this.get('file')) {\n      return File.__super__.save.apply(this, arguments);\n    }\n    this.set(attrs);\n    dfrd = jquery__WEBPACK_IMPORTED_MODULE_0___default.a.Deferred();\n    onUpload = (function(_this) {\n      return function(data) {\n        _this.set(data);\n        dfrd.resolve(data);\n        return typeof options.success === \"function\" ? options.success(data) : void 0;\n      };\n    })(this);\n    onError = (function(_this) {\n      return function(error) {\n        dfrd.reject(error);\n        return typeof options.error === \"function\" ? options.error(error) : void 0;\n      };\n    })(this);\n    file = this.get('file');\n    filename = (file.value || file.name).split(/[\\/\\\\]/).pop();\n    file = file.files[0];\n    preflightData = {\n      name: filename,\n      on_duplicate: 'rename'\n    };\n    Object(_canvas_upload_file__WEBPACK_IMPORTED_MODULE_3__[\"uploadFile\"])(this.preflightUrl, preflightData, file).then(onUpload)[\"catch\"](onError);\n    return dfrd;\n  };\n\n  File.prototype.isFile = true;\n\n  File.prototype.toJSON = function() {\n    var ref;\n    if (!this.get('file')) {\n      return File.__super__.toJSON.apply(this, arguments);\n    }\n    return underscore__WEBPACK_IMPORTED_MODULE_1___default.a.pick.apply(underscore__WEBPACK_IMPORTED_MODULE_1___default.a, [this.attributes, 'file'].concat(slice.call(underscore__WEBPACK_IMPORTED_MODULE_1___default.a.keys((ref = this.uploadParams) != null ? ref : {}))));\n  };\n\n  File.prototype.present = function() {\n    return underscore__WEBPACK_IMPORTED_MODULE_1___default.a.clone(this.attributes);\n  };\n\n  File.prototype.externalToolEnabled = function(tool) {\n    var content_type;\n    if (tool.accept_media_types && tool.accept_media_types.length > 0) {\n      content_type = this.get('content-type');\n      return underscore__WEBPACK_IMPORTED_MODULE_1___default.a.find(tool.accept_media_types.split(\",\"), function(t) {\n        var regex;\n        regex = new RegExp(\"^\" + (t.replace('*', '.*')) + \"$\");\n        return content_type.match(regex);\n      });\n    } else {\n      return true;\n    }\n  };\n\n  return File;\n\n})(_FilesystemObject_coffee__WEBPACK_IMPORTED_MODULE_2__[\"default\"]));\n\n\n//# sourceURL=webpack:///./ui/shared/files/backbone/models/File.coffee?");

/***/ }),

/***/ "Cm+D":
/*!**************************************************************************!*\
  !*** ./frontend_build/i18n.js?mimeClass!./ui/shims/dummyI18nResource.js ***!
  \**************************************************************************/
/*! exports provided: default */
/***/ (function(module, __webpack_exports__, __webpack_require__) {

"use strict";
eval("__webpack_require__.r(__webpack_exports__);\n/* harmony import */ var _canvas_i18n_i18nObj__WEBPACK_IMPORTED_MODULE_0__ = __webpack_require__(/*! @canvas/i18n/i18nObj */ \"HGxv\");\n/* harmony import */ var translations_core_en__WEBPACK_IMPORTED_MODULE_1__ = __webpack_require__(/*! translations/_core_en */ \"0sPK\");\n\n    \n    \n    \n\n    /* harmony default export */ __webpack_exports__[\"default\"] = (_canvas_i18n_i18nObj__WEBPACK_IMPORTED_MODULE_0__[\"default\"].scoped('mimeClass'));\n  \n\n//# sourceURL=webpack:///./ui/shims/dummyI18nResource.js?./frontend_build/i18n.js?mimeClass");

/***/ }),

/***/ "LRs1":
/*!****************************************!*\
  !*** ./packages/url-encoding/index.js ***!
  \****************************************/
/*! exports provided: default */
/***/ (function(module, __webpack_exports__, __webpack_require__) {

"use strict";
eval("__webpack_require__.r(__webpack_exports__);\n/*\n * Copyright (C) 2016 - present Instructure, Inc.\n *\n * This file is part of Canvas.\n *\n * Canvas is free software: you can redistribute it and/or modify it under\n * the terms of the GNU Affero General Public License as published by the Free\n * Software Foundation, version 3 of the License.\n *\n * Canvas is distributed in the hope that it will be useful, but WITHOUT ANY\n * WARRANTY; without even the implied warranty of MERCHANTABILITY or FITNESS FOR\n * A PARTICULAR PURPOSE. See the GNU Affero General Public License for more\n * details.\n *\n * You should have received a copy of the GNU Affero General Public License along\n * with this program. If not, see <http://www.gnu.org/licenses/>.\n */\n\n/* harmony default export */ __webpack_exports__[\"default\"] = ({\n  encodeSpecialChars: url => url.replace(/%/g, '&#37;'),\n  decodeSpecialChars: url =>\n    url\n      .split('/')\n      .map(component => encodeURIComponent(decodeURIComponent(component).replace(/&#37;/, '%')))\n      .join('/')\n});\n\n\n//# sourceURL=webpack:///./packages/url-encoding/index.js?");

/***/ }),

/***/ "Lg2F":
/*!**********************************************************!*\
  !*** ./ui/shared/files/react/modules/customPropTypes.js ***!
  \**********************************************************/
/*! exports provided: default */
/***/ (function(module, __webpack_exports__, __webpack_require__) {

"use strict";
eval("__webpack_require__.r(__webpack_exports__);\n/* harmony import */ var prop_types__WEBPACK_IMPORTED_MODULE_0__ = __webpack_require__(/*! prop-types */ \"17x9\");\n/* harmony import */ var prop_types__WEBPACK_IMPORTED_MODULE_0___default = /*#__PURE__*/__webpack_require__.n(prop_types__WEBPACK_IMPORTED_MODULE_0__);\n/* harmony import */ var _backbone_models_Folder__WEBPACK_IMPORTED_MODULE_1__ = __webpack_require__(/*! ../../backbone/models/Folder */ \"3jyj\");\n/* harmony import */ var _backbone_models_FilesystemObject_coffee__WEBPACK_IMPORTED_MODULE_2__ = __webpack_require__(/*! ../../backbone/models/FilesystemObject.coffee */ \"QYKH\");\n/*\n * Copyright (C) 2014 - present Instructure, Inc.\n *\n * This file is part of Canvas.\n *\n * Canvas is free software: you can redistribute it and/or modify it under\n * the terms of the GNU Affero General Public License as published by the Free\n * Software Foundation, version 3 of the License.\n *\n * Canvas is distributed in the hope that it will be useful, but WITHOUT ANY\n * WARRANTY; without even the implied warranty of MERCHANTABILITY or FITNESS FOR\n * A PARTICULAR PURPOSE. See the GNU Affero General Public License for more\n * details.\n *\n * You should have received a copy of the GNU Affero General Public License along\n * with this program. If not, see <http://www.gnu.org/licenses/>.\n */\n\n\n\n/* harmony default export */ __webpack_exports__[\"default\"] = ({\n  contextType: prop_types__WEBPACK_IMPORTED_MODULE_0___default.a.oneOf(['users', 'groups', 'accounts', 'courses']),\n  contextId: prop_types__WEBPACK_IMPORTED_MODULE_0___default.a.oneOfType([prop_types__WEBPACK_IMPORTED_MODULE_0___default.a.string, prop_types__WEBPACK_IMPORTED_MODULE_0___default.a.number]),\n  folder: prop_types__WEBPACK_IMPORTED_MODULE_0___default.a.instanceOf(_backbone_models_Folder__WEBPACK_IMPORTED_MODULE_1__[\"default\"]),\n  filesystemObject: prop_types__WEBPACK_IMPORTED_MODULE_0___default.a.instanceOf(_backbone_models_FilesystemObject_coffee__WEBPACK_IMPORTED_MODULE_2__[\"default\"])\n});\n\n//# sourceURL=webpack:///./ui/shared/files/react/modules/customPropTypes.js?");

/***/ }),

/***/ "Llkk":
/*!*********************************************************!*\
  !*** ./ui/shared/files/react/components/FilePreview.js ***!
  \*********************************************************/
/*! exports provided: default */
/***/ (function(module, __webpack_exports__, __webpack_require__) {

"use strict";
eval("__webpack_require__.r(__webpack_exports__);\n/* harmony export (binding) */ __webpack_require__.d(__webpack_exports__, \"default\", function() { return FilePreview; });\n/* harmony import */ var react__WEBPACK_IMPORTED_MODULE_0__ = __webpack_require__(/*! react */ \"q1tI\");\n/* harmony import */ var react__WEBPACK_IMPORTED_MODULE_0___default = /*#__PURE__*/__webpack_require__.n(react__WEBPACK_IMPORTED_MODULE_0__);\n/* harmony import */ var page__WEBPACK_IMPORTED_MODULE_1__ = __webpack_require__(/*! page */ \"KVl8\");\n/* harmony import */ var page__WEBPACK_IMPORTED_MODULE_1___default = /*#__PURE__*/__webpack_require__.n(page__WEBPACK_IMPORTED_MODULE_1__);\n/* harmony import */ var jquery__WEBPACK_IMPORTED_MODULE_2__ = __webpack_require__(/*! jquery */ \"ouhR\");\n/* harmony import */ var jquery__WEBPACK_IMPORTED_MODULE_2___default = /*#__PURE__*/__webpack_require__.n(jquery__WEBPACK_IMPORTED_MODULE_2__);\n/* harmony import */ var classnames__WEBPACK_IMPORTED_MODULE_3__ = __webpack_require__(/*! classnames */ \"TSYQ\");\n/* harmony import */ var classnames__WEBPACK_IMPORTED_MODULE_3___default = /*#__PURE__*/__webpack_require__.n(classnames__WEBPACK_IMPORTED_MODULE_3__);\n/* harmony import */ var _instructure_ui_overlays__WEBPACK_IMPORTED_MODULE_4__ = __webpack_require__(/*! @instructure/ui-overlays */ \"vWls\");\n/* harmony import */ var _FilePreviewInfoPanel__WEBPACK_IMPORTED_MODULE_5__ = __webpack_require__(/*! ./FilePreviewInfoPanel */ \"jFkK\");\n/* harmony import */ var _util_collectionHandler__WEBPACK_IMPORTED_MODULE_6__ = __webpack_require__(/*! ../../util/collectionHandler */ \"C4hU\");\n/* harmony import */ var prevent_default__WEBPACK_IMPORTED_MODULE_7__ = __webpack_require__(/*! prevent-default */ \"qqwe\");\n/* harmony import */ var underscore__WEBPACK_IMPORTED_MODULE_8__ = __webpack_require__(/*! underscore */ \"Y/W1\");\n/* harmony import */ var underscore__WEBPACK_IMPORTED_MODULE_8___default = /*#__PURE__*/__webpack_require__.n(underscore__WEBPACK_IMPORTED_MODULE_8__);\n/* harmony import */ var prop_types__WEBPACK_IMPORTED_MODULE_9__ = __webpack_require__(/*! prop-types */ \"17x9\");\n/* harmony import */ var prop_types__WEBPACK_IMPORTED_MODULE_9___default = /*#__PURE__*/__webpack_require__.n(prop_types__WEBPACK_IMPORTED_MODULE_9__);\n/* harmony import */ var _modules_customPropTypes__WEBPACK_IMPORTED_MODULE_10__ = __webpack_require__(/*! ../modules/customPropTypes */ \"Lg2F\");\n/* harmony import */ var i18n_file_preview__WEBPACK_IMPORTED_MODULE_11__ = __webpack_require__(/*! i18n!file_preview */ \"aq4X\");\n/* harmony import */ var _backbone_models_File_coffee__WEBPACK_IMPORTED_MODULE_12__ = __webpack_require__(/*! ../../backbone/models/File.coffee */ \"C8i9\");\n/* harmony import */ var _backbone_models_FilesystemObject_coffee__WEBPACK_IMPORTED_MODULE_13__ = __webpack_require__(/*! ../../backbone/models/FilesystemObject.coffee */ \"QYKH\");\n/* harmony import */ var _jquery_codeToRemoveLater__WEBPACK_IMPORTED_MODULE_14__ = __webpack_require__(/*! ../../jquery/codeToRemoveLater */ \"TjAh\");\n/* harmony import */ var _canvas_rails_flash_notifications__WEBPACK_IMPORTED_MODULE_15__ = __webpack_require__(/*! @canvas/rails-flash-notifications */ \"r2Yr\");\n/*\n * Copyright (C) 2015 - present Instructure, Inc.\n *\n * This file is part of Canvas.\n *\n * Canvas is free software: you can redistribute it and/or modify it under\n * the terms of the GNU Affero General Public License as published by the Free\n * Software Foundation, version 3 of the License.\n *\n * Canvas is distributed in the hope that it will be useful, but WITHOUT ANY\n * WARRANTY; without even the implied warranty of MERCHANTABILITY or FITNESS FOR\n * A PARTICULAR PURPOSE. See the GNU Affero General Public License for more\n * details.\n *\n * You should have received a copy of the GNU Affero General Public License along\n * with this program. If not, see <http://www.gnu.org/licenses/>.\n */\n\n\n\n\n\n\n\n\n\n\n\n\n\n\n\n\nclass FilePreview extends react__WEBPACK_IMPORTED_MODULE_0___default.a.PureComponent {\n  constructor(...args) {\n    super(...args);\n    this.state = {\n      showInfoPanel: false,\n      displayedItem: null\n    };\n\n    this.getRouteIdentifier = () => {\n      if (this.props.query && this.props.query.search_term) {\n        return '/search';\n      } else if (this.props.splat) {\n        return `/folder/${this.props.splat}`;\n      } else {\n        return '';\n      }\n    };\n\n    this.getNavigationParams = (opts = {\n      id: null,\n      except: []\n    }) => {\n      const obj = {\n        preview: opts && opts.id,\n        search_term: this.props.query.search_term || void 0,\n        only_preview: this.props.query.only_preview || void 0,\n        sort: this.props.query.sort || void 0,\n        order: this.props.query.order || void 0\n      };\n\n      underscore__WEBPACK_IMPORTED_MODULE_8___default.a.each(obj, (v, k) => {\n        if (!v || opts.except && opts.except.length && (opts.except === k || opts.except.includes(k))) {\n          delete obj[k];\n        }\n      });\n\n      return obj;\n    };\n\n    this.getItemsToView = (props, cb) => {\n      if (typeof cb !== 'function') throw new Error('getItemsToView(props: obj, callback: fn) requires `callback` to be a function'); // Sets up our collection that we will be using.\n\n      let initialItem = null;\n      const onlyIdsToPreview = props.query.only_preview && props.query.only_preview.split(',');\n      const files = props.query.search_term ? props.collection.models : props.currentFolder.files.models;\n      const otherItems = files.filter(file => {\n        if (!onlyIdsToPreview) return true;\n        return onlyIdsToPreview.includes(file.id);\n      });\n\n      const visibleFile = props.query.preview && underscore__WEBPACK_IMPORTED_MODULE_8___default.a.findWhere(files, {\n        id: props.query.preview\n      });\n\n      if (!visibleFile) {\n        const responseDataRequested = ['enhanced_preview_url'];\n\n        if (props.usageRightsRequiredForContext) {\n          responseDataRequested.push('usage_rights');\n        }\n\n        new _backbone_models_File_coffee__WEBPACK_IMPORTED_MODULE_12__[\"default\"]({\n          id: props.query.preview\n        }, {\n          preflightUrl: 'no/url/needed'\n        }).fetch({\n          data: jquery__WEBPACK_IMPORTED_MODULE_2___default.a.param({\n            include: responseDataRequested\n          })\n        }).success(file => {\n          initialItem = new _backbone_models_FilesystemObject_coffee__WEBPACK_IMPORTED_MODULE_13__[\"default\"](file);\n          return cb({\n            initialItem,\n            otherItems\n          });\n        });\n      } else {\n        initialItem = visibleFile || (files.length ? files[0] : void 0);\n        cb({\n          initialItem,\n          otherItems\n        });\n      }\n    };\n\n    this.setUpOtherItemsQuery = otherItems => otherItems.map(item => item.id).join(',');\n\n    this.toggle = key => {\n      const newState = {};\n      newState[key] = !this.state[key];\n      return () => {\n        this.setState(newState, function () {\n          if (key === 'showInfoPanel' && this.state.showInfoPanel) {\n            jquery__WEBPACK_IMPORTED_MODULE_2___default.a.screenReaderFlashMessage(i18n_file_preview__WEBPACK_IMPORTED_MODULE_11__[\"default\"].t('Info panel displayed'));\n          } else {\n            jquery__WEBPACK_IMPORTED_MODULE_2___default.a.screenReaderFlashMessage(i18n_file_preview__WEBPACK_IMPORTED_MODULE_11__[\"default\"].t('Info panel hidden'));\n          }\n        });\n      };\n    };\n\n    this.handleKeyboardNavigation = event => {\n      if (!(event.keyCode === jquery__WEBPACK_IMPORTED_MODULE_2___default.a.ui.keyCode.LEFT || event.keyCode === jquery__WEBPACK_IMPORTED_MODULE_2___default.a.ui.keyCode.RIGHT)) {\n        return null;\n      }\n\n      let nextItem = null;\n\n      if (event.keyCode === jquery__WEBPACK_IMPORTED_MODULE_2___default.a.ui.keyCode.LEFT) {\n        nextItem = _util_collectionHandler__WEBPACK_IMPORTED_MODULE_6__[\"default\"].getPreviousInRelationTo(this.state.otherItems, this.state.displayedItem);\n      }\n\n      if (event.keyCode === jquery__WEBPACK_IMPORTED_MODULE_2___default.a.ui.keyCode.RIGHT) {\n        nextItem = _util_collectionHandler__WEBPACK_IMPORTED_MODULE_6__[\"default\"].getNextInRelationTo(this.state.otherItems, this.state.displayedItem);\n      }\n\n      page__WEBPACK_IMPORTED_MODULE_1___default()(`${this.getRouteIdentifier()}?${jquery__WEBPACK_IMPORTED_MODULE_2___default.a.param(this.getNavigationParams({\n        id: nextItem.id\n      }))}`);\n    };\n\n    this.closeModal = () => {\n      this.props.closePreview(`${this.getRouteIdentifier()}?${jquery__WEBPACK_IMPORTED_MODULE_2___default.a.param(this.getNavigationParams({\n        except: 'only_preview'\n      }))}`);\n    };\n\n    this.stateProperties = items => ({\n      initialItem: items.initialItem,\n      displayedItem: items.initialItem,\n      otherItems: items.otherItems\n    });\n\n    this.renderArrowLink = direction => {\n      const nextItem = direction === 'left' ? _util_collectionHandler__WEBPACK_IMPORTED_MODULE_6__[\"default\"].getPreviousInRelationTo(this.state.otherItems, this.state.displayedItem) : _util_collectionHandler__WEBPACK_IMPORTED_MODULE_6__[\"default\"].getNextInRelationTo(this.state.otherItems, this.state.displayedItem);\n\n      if (!nextItem) {\n        return null;\n      }\n\n      const linkText = direction === 'left' ? i18n_file_preview__WEBPACK_IMPORTED_MODULE_11__[\"default\"].t('View previous file') : i18n_file_preview__WEBPACK_IMPORTED_MODULE_11__[\"default\"].t('View next file');\n      const baseUrl = page__WEBPACK_IMPORTED_MODULE_1___default.a.base();\n      return /*#__PURE__*/react__WEBPACK_IMPORTED_MODULE_0___default.a.createElement(\"div\", {\n        className: \"col-xs-1 ef-file-arrow_container\"\n      }, /*#__PURE__*/react__WEBPACK_IMPORTED_MODULE_0___default.a.createElement(\"a\", {\n        href: `${baseUrl}${this.getRouteIdentifier()}?${jquery__WEBPACK_IMPORTED_MODULE_2___default.a.param(this.getNavigationParams({\n          id: nextItem.id\n        }))}`,\n        className: \"ef-file-preview-container-arrow-link\",\n        onClick: e => page__WEBPACK_IMPORTED_MODULE_1___default.a.clickHandler(e.nativeEvent)\n      }, /*#__PURE__*/react__WEBPACK_IMPORTED_MODULE_0___default.a.createElement(\"div\", {\n        className: \"ef-file-preview-arrow-link\"\n      }, /*#__PURE__*/react__WEBPACK_IMPORTED_MODULE_0___default.a.createElement(\"span\", {\n        className: \"screenreader-only\"\n      }, linkText), /*#__PURE__*/react__WEBPACK_IMPORTED_MODULE_0___default.a.createElement(\"i\", {\n        \"aria-hidden\": \"true\",\n        className: `icon-arrow-open-${direction}`\n      }))));\n    };\n\n    this.renderPreview = () => {\n      if (this.state.displayedItem && this.state.displayedItem.get('preview_url')) {\n        const html = this.state.displayedItem.get('content-type') === 'text/html';\n        const iFrameClasses = classnames__WEBPACK_IMPORTED_MODULE_3___default()({\n          'ef-file-preview-frame': true,\n          'ef-file-preview-frame-html': html,\n          'attachment-html-iframe': html\n        });\n        return /*#__PURE__*/react__WEBPACK_IMPORTED_MODULE_0___default.a.createElement(\"iframe\", {\n          allowFullScreen: true,\n          title: i18n_file_preview__WEBPACK_IMPORTED_MODULE_11__[\"default\"].t('File Preview'),\n          src: this.state.displayedItem.get('preview_url'),\n          className: iFrameClasses\n        });\n      } else {\n        return /*#__PURE__*/react__WEBPACK_IMPORTED_MODULE_0___default.a.createElement(\"div\", {\n          className: \"ef-file-not-found ef-file-preview-frame\"\n        }, /*#__PURE__*/react__WEBPACK_IMPORTED_MODULE_0___default.a.createElement(\"i\", {\n          className: \"media-object ef-not-found-icon FilesystemObjectThumbnail mimeClass-file\"\n        }), i18n_file_preview__WEBPACK_IMPORTED_MODULE_11__[\"default\"].t('File not found'));\n      }\n    };\n  }\n\n  componentWillMount() {\n    if (this.props.isOpen) {\n      this.getItemsToView(this.props, items => this.setState(this.stateProperties(items)));\n    }\n  }\n\n  componentDidMount() {\n    return _jquery_codeToRemoveLater__WEBPACK_IMPORTED_MODULE_14__[\"default\"].hideFileTreeFromPreviewInJaws();\n  }\n\n  componentWillReceiveProps(newProps) {\n    if (newProps.isOpen) {\n      this.getItemsToView(newProps, items => this.setState(this.stateProperties(items)));\n    }\n  }\n\n  componentWillUnmount() {\n    jquery__WEBPACK_IMPORTED_MODULE_2___default()(this.previewOverlay).on('keydown', this.handleKeyboardNavigation);\n    return _jquery_codeToRemoveLater__WEBPACK_IMPORTED_MODULE_14__[\"default\"].revertJawsChangesBackToNormal();\n  }\n\n  render() {\n    const showInfoPanelClasses = classnames__WEBPACK_IMPORTED_MODULE_3___default()({\n      'ef-file-preview-header-info': true,\n      'ef-file-preview-button': true,\n      'ef-file-preview-button--active': this.state.showInfoPanel\n    });\n    return /*#__PURE__*/react__WEBPACK_IMPORTED_MODULE_0___default.a.createElement(_instructure_ui_overlays__WEBPACK_IMPORTED_MODULE_4__[\"Overlay\"], {\n      ref: e => this.previewOverlay = e,\n      open: this.props.isOpen,\n      onDismiss: this.closeModal,\n      onKeyDown: this.handleKeyboardNavigation,\n      label: i18n_file_preview__WEBPACK_IMPORTED_MODULE_11__[\"default\"].t('File Preview Overlay'),\n      defaultFocusElement: () => this.closeButton,\n      shouldContainFocus: true,\n      shouldReturnFocus: true,\n      unmountOnExit: true\n    }, /*#__PURE__*/react__WEBPACK_IMPORTED_MODULE_0___default.a.createElement(_instructure_ui_overlays__WEBPACK_IMPORTED_MODULE_4__[\"Mask\"], {\n      theme: {\n        background: 'rgba(0, 0, 0, 0.75)'\n      }\n    }, /*#__PURE__*/react__WEBPACK_IMPORTED_MODULE_0___default.a.createElement(\"div\", {\n      className: \"ef-file-preview-overlay\"\n    }, /*#__PURE__*/react__WEBPACK_IMPORTED_MODULE_0___default.a.createElement(\"div\", {\n      className: \"ef-file-preview-header\"\n    }, /*#__PURE__*/react__WEBPACK_IMPORTED_MODULE_0___default.a.createElement(\"h1\", {\n      className: \"ef-file-preview-header-filename\"\n    }, this.state.initialItem ? this.state.initialItem.displayName() : ''), /*#__PURE__*/react__WEBPACK_IMPORTED_MODULE_0___default.a.createElement(\"div\", {\n      className: \"ef-file-preview-header-buttons\"\n    }, this.state.displayedItem && !this.state.displayedItem.get('locked_for_user') && /*#__PURE__*/react__WEBPACK_IMPORTED_MODULE_0___default.a.createElement(\"a\", {\n      href: this.state.displayedItem.get('url'),\n      download: true,\n      className: \"ef-file-preview-header-download ef-file-preview-button\"\n    }, /*#__PURE__*/react__WEBPACK_IMPORTED_MODULE_0___default.a.createElement(\"i\", {\n      className: \"icon-download\"\n    }), /*#__PURE__*/react__WEBPACK_IMPORTED_MODULE_0___default.a.createElement(\"span\", {\n      className: \"hidden-phone\"\n    }, ` ${i18n_file_preview__WEBPACK_IMPORTED_MODULE_11__[\"default\"].t('Download')}`)), /*#__PURE__*/react__WEBPACK_IMPORTED_MODULE_0___default.a.createElement(\"button\", {\n      type: \"button\",\n      className: showInfoPanelClasses,\n      ref: e => this.infoButton = e,\n      onClick: this.toggle('showInfoPanel')\n    }, /*#__PURE__*/react__WEBPACK_IMPORTED_MODULE_0___default.a.createElement(\"div\", null, /*#__PURE__*/react__WEBPACK_IMPORTED_MODULE_0___default.a.createElement(\"i\", {\n      className: \"icon-info\"\n    }), /*#__PURE__*/react__WEBPACK_IMPORTED_MODULE_0___default.a.createElement(\"span\", {\n      className: \"hidden-phone\"\n    }, ` ${i18n_file_preview__WEBPACK_IMPORTED_MODULE_11__[\"default\"].t('Info')}`))), /*#__PURE__*/react__WEBPACK_IMPORTED_MODULE_0___default.a.createElement(\"button\", {\n      type: \"button\",\n      onClick: Object(prevent_default__WEBPACK_IMPORTED_MODULE_7__[\"default\"])(this.closeModal),\n      ref: e => this.closeButton = e,\n      className: \"ef-file-preview-header-close ef-file-preview-button\"\n    }, /*#__PURE__*/react__WEBPACK_IMPORTED_MODULE_0___default.a.createElement(\"i\", {\n      className: \"icon-end\"\n    }), /*#__PURE__*/react__WEBPACK_IMPORTED_MODULE_0___default.a.createElement(\"span\", {\n      className: \"hidden-phone\"\n    }, ` ${i18n_file_preview__WEBPACK_IMPORTED_MODULE_11__[\"default\"].t('Close')}`)))), /*#__PURE__*/react__WEBPACK_IMPORTED_MODULE_0___default.a.createElement(\"div\", {\n      className: \"ef-file-preview-stretch\"\n    }, this.state.otherItems && this.state.otherItems.length && this.renderArrowLink('left'), this.renderPreview(), this.state.otherItems && this.state.otherItems.length && this.renderArrowLink('right'), this.state.showInfoPanel && /*#__PURE__*/react__WEBPACK_IMPORTED_MODULE_0___default.a.createElement(_FilePreviewInfoPanel__WEBPACK_IMPORTED_MODULE_5__[\"default\"], {\n      displayedItem: this.state.displayedItem,\n      getStatusMessage: this.getStatusMessage,\n      usageRightsRequiredForContext: this.props.usageRightsRequiredForContext\n    })))));\n  }\n\n}\nFilePreview.propTypes = {\n  currentFolder: _modules_customPropTypes__WEBPACK_IMPORTED_MODULE_10__[\"default\"].folder,\n  query: prop_types__WEBPACK_IMPORTED_MODULE_9___default.a.object,\n  collection: prop_types__WEBPACK_IMPORTED_MODULE_9___default.a.object,\n  params: prop_types__WEBPACK_IMPORTED_MODULE_9___default.a.object,\n  isOpen: prop_types__WEBPACK_IMPORTED_MODULE_9___default.a.bool,\n  closePreview: prop_types__WEBPACK_IMPORTED_MODULE_9___default.a.func,\n  splat: prop_types__WEBPACK_IMPORTED_MODULE_9___default.a.string,\n  usageRightsRequiredForContext: prop_types__WEBPACK_IMPORTED_MODULE_9___default.a.bool\n};\n\n//# sourceURL=webpack:///./ui/shared/files/react/components/FilePreview.js?");

/***/ }),

/***/ "QYKH":
/*!*****************************************************************!*\
  !*** ./ui/shared/files/backbone/models/FilesystemObject.coffee ***!
  \*****************************************************************/
/*! exports provided: default */
/***/ (function(module, __webpack_exports__, __webpack_require__) {

"use strict";
eval("__webpack_require__.r(__webpack_exports__);\n/* harmony import */ var _canvas_backbone__WEBPACK_IMPORTED_MODULE_0__ = __webpack_require__(/*! @canvas/backbone */ \"mX+G\");\n/* harmony import */ var _canvas_backbone__WEBPACK_IMPORTED_MODULE_0___default = /*#__PURE__*/__webpack_require__.n(_canvas_backbone__WEBPACK_IMPORTED_MODULE_0__);\n/* harmony import */ var underscore__WEBPACK_IMPORTED_MODULE_1__ = __webpack_require__(/*! underscore */ \"Y/W1\");\n/* harmony import */ var underscore__WEBPACK_IMPORTED_MODULE_1___default = /*#__PURE__*/__webpack_require__.n(underscore__WEBPACK_IMPORTED_MODULE_1__);\n/* harmony import */ var _canvas_util_splitAssetString__WEBPACK_IMPORTED_MODULE_2__ = __webpack_require__(/*! @canvas/util/splitAssetString */ \"s9Pr\");\nvar FilesystemObject,\n  extend = function(child, parent) { for (var key in parent) { if (hasProp.call(parent, key)) child[key] = parent[key]; } function ctor() { this.constructor = child; } ctor.prototype = parent.prototype; child.prototype = new ctor(); child.__super__ = parent.prototype; return child; },\n  hasProp = {}.hasOwnProperty;\n\n\n\n\n\n\n\n/* harmony default export */ __webpack_exports__[\"default\"] = (FilesystemObject = (function(superClass) {\n  extend(FilesystemObject, superClass);\n\n  function FilesystemObject() {\n    return FilesystemObject.__super__.constructor.apply(this, arguments);\n  }\n\n  FilesystemObject.prototype.displayName = function() {\n    return this.get('display_name') || this.get('name');\n  };\n\n  FilesystemObject.prototype.destinationIsSameContext = function(destination) {\n    var assetString, contextId, contextType, ref, ref1, ref2, ref3, ref4;\n    ref3 = (assetString = this.get(\"context_asset_string\")) ? Object(_canvas_util_splitAssetString__WEBPACK_IMPORTED_MODULE_2__[\"default\"])(assetString, false) : [(ref = this.collection.parentFolder) != null ? ref.get(\"context_type\") : void 0, (ref1 = this.collection.parentFolder) != null ? (ref2 = ref1.get(\"context_id\")) != null ? ref2.toString() : void 0 : void 0], contextType = ref3[0], contextId = ref3[1];\n    return contextType && contextId && contextType.toLowerCase() === destination.get(\"context_type\").toLowerCase() && contextId === ((ref4 = destination.get(\"context_id\")) != null ? ref4.toString() : void 0);\n  };\n\n  FilesystemObject.prototype.moveTo = function(newFolder, options) {\n    if (options == null) {\n      options = {};\n    }\n    if (this.destinationIsSameContext(newFolder)) {\n      return this.moveToFolder(newFolder, options);\n    } else {\n      return this.copyToContext(newFolder, options);\n    }\n  };\n\n  FilesystemObject.prototype.moveToFolder = function(newFolder, options) {\n    var attrs;\n    if (options == null) {\n      options = {};\n    }\n    attrs = this.setAttributes({\n      parent_folder_id: newFolder.id\n    }, options);\n    $.extend(attrs, {\n      parent_folder_id: newFolder.id\n    });\n    return this.save({}, {\n      attrs: attrs\n    }).then((function(_this) {\n      return function() {\n        _this.collection.remove(_this);\n        return _this.updateCollection(_this, newFolder, options);\n      };\n    })(this));\n  };\n\n  FilesystemObject.prototype.copyToContext = function(newFolder, options) {\n    var attrs, clonedModel, collection, endpoint, type, url;\n    if (options == null) {\n      options = {};\n    }\n    attrs = this.setAttributes($.extend({}, this.attributes), options);\n    type = this.isFile ? \"file\" : \"folder\";\n    attrs[\"source_\" + type + \"_id\"] = attrs.id;\n    delete attrs.id;\n    clonedModel = new this.constructor(underscore__WEBPACK_IMPORTED_MODULE_1___default.a.omit(attrs, 'id', 'parent_folder_id', 'parent_folder_path'));\n    collection = this.updateCollection(clonedModel, newFolder, options);\n    clonedModel.url = collection.url;\n    this.set('url', collection.url);\n    endpoint = \"copy_\" + type;\n    url = \"/api/v1/folders/\" + newFolder.attributes.id + \"/\" + endpoint;\n    return clonedModel.save(attrs, {\n      url: url\n    });\n  };\n\n  FilesystemObject.prototype.setAttributes = function(attrs, options) {\n    if (attrs == null) {\n      attrs = {};\n    }\n    if (options == null) {\n      options = {};\n    }\n    if (options.dup === 'overwrite') {\n      $.extend(attrs, {\n        on_duplicate: 'overwrite'\n      });\n    } else if (options.dup === 'rename') {\n      if (options.name) {\n        $.extend(attrs, {\n          display_name: options.name,\n          name: options.name,\n          on_duplicate: 'rename'\n        });\n      } else {\n        $.extend(attrs, {\n          on_duplicate: 'rename'\n        });\n      }\n    }\n    return attrs;\n  };\n\n  FilesystemObject.prototype.updateCollection = function(model, newFolder, options) {\n    var collection, objectType;\n    objectType = this.isFile ? 'files' : 'folders';\n    collection = newFolder[objectType];\n    if (options.dup === 'overwrite') {\n      collection.remove(collection.where({\n        display_name: model.get('display_name')\n      }));\n    }\n    collection.add(model, {\n      merge: true\n    });\n    return collection;\n  };\n\n  return FilesystemObject;\n\n})(_canvas_backbone__WEBPACK_IMPORTED_MODULE_0___default.a.Model));\n\n\n//# sourceURL=webpack:///./ui/shared/files/backbone/models/FilesystemObject.coffee?");

/***/ }),

/***/ "TjAh":
/*!*****************************************************!*\
  !*** ./ui/shared/files/jquery/codeToRemoveLater.js ***!
  \*****************************************************/
/*! exports provided: default */
/***/ (function(module, __webpack_exports__, __webpack_require__) {

"use strict";
eval("__webpack_require__.r(__webpack_exports__);\n/* harmony import */ var jquery__WEBPACK_IMPORTED_MODULE_0__ = __webpack_require__(/*! jquery */ \"ouhR\");\n/* harmony import */ var jquery__WEBPACK_IMPORTED_MODULE_0___default = /*#__PURE__*/__webpack_require__.n(jquery__WEBPACK_IMPORTED_MODULE_0__);\n/*\n * Copyright (C) 2015 - present Instructure, Inc.\n *\n * This file is part of Canvas.\n *\n * Canvas is free software: you can redistribute it and/or modify it under\n * the terms of the GNU Affero General Public License as published by the Free\n * Software Foundation, version 3 of the License.\n *\n * Canvas is distributed in the hope that it will be useful, but WITHOUT ANY\n * WARRANTY; without even the implied warranty of MERCHANTABILITY or FITNESS FOR\n * A PARTICULAR PURPOSE. See the GNU Affero General Public License for more\n * details.\n *\n * You should have received a copy of the GNU Affero General Public License along\n * with this program. If not, see <http://www.gnu.org/licenses/>.\n */\n\n/* This file contains code specific to weird edge cases that can be removed later. For instance, if you\n * are writing some weird code around something that is broken in Jaws, it can live here\n */\n\nconst codeToRemoveLater = {\n  hideFileTreeFromPreviewInJaws() {\n    jquery__WEBPACK_IMPORTED_MODULE_0___default()(\"aside ul[role='tree']\").attr('role', 'presentation');\n  },\n\n  revertJawsChangesBackToNormal() {\n    jquery__WEBPACK_IMPORTED_MODULE_0___default()(\"aside ul[role='presentation']\").attr('role', 'tree');\n  }\n\n};\n/* harmony default export */ __webpack_exports__[\"default\"] = (codeToRemoveLater);\n\n//# sourceURL=webpack:///./ui/shared/files/jquery/codeToRemoveLater.js?");

/***/ }),

/***/ "TnsN":
/*!******************************************************************************!*\
  !*** ./ui/shared/pagination/backbone/collections/PaginatedCollection.coffee ***!
  \******************************************************************************/
/*! exports provided: default */
/***/ (function(module, __webpack_exports__, __webpack_require__) {

"use strict";
eval("__webpack_require__.r(__webpack_exports__);\n/* harmony import */ var jquery__WEBPACK_IMPORTED_MODULE_0__ = __webpack_require__(/*! jquery */ \"ouhR\");\n/* harmony import */ var jquery__WEBPACK_IMPORTED_MODULE_0___default = /*#__PURE__*/__webpack_require__.n(jquery__WEBPACK_IMPORTED_MODULE_0__);\n/* harmony import */ var _canvas_backbone__WEBPACK_IMPORTED_MODULE_1__ = __webpack_require__(/*! @canvas/backbone */ \"mX+G\");\n/* harmony import */ var _canvas_backbone__WEBPACK_IMPORTED_MODULE_1___default = /*#__PURE__*/__webpack_require__.n(_canvas_backbone__WEBPACK_IMPORTED_MODULE_1__);\n/* harmony import */ var underscore__WEBPACK_IMPORTED_MODULE_2__ = __webpack_require__(/*! underscore */ \"Y/W1\");\n/* harmony import */ var underscore__WEBPACK_IMPORTED_MODULE_2___default = /*#__PURE__*/__webpack_require__.n(underscore__WEBPACK_IMPORTED_MODULE_2__);\nvar PaginatedCollection, capitalize,\n  bind = function(fn, me){ return function(){ return fn.apply(me, arguments); }; },\n  extend = function(child, parent) { for (var key in parent) { if (hasProp.call(parent, key)) child[key] = parent[key]; } function ctor() { this.constructor = child; } ctor.prototype = parent.prototype; child.prototype = new ctor(); child.__super__ = parent.prototype; return child; },\n  hasProp = {}.hasOwnProperty,\n  slice = [].slice,\n  indexOf = [].indexOf || function(item) { for (var i = 0, l = this.length; i < l; i++) { if (i in this && this[i] === item) return i; } return -1; };\n\n\n\n\n\n\n\ncapitalize = function(string) {\n  if (string == null) {\n    string = '';\n  }\n  return string.charAt(0).toUpperCase() + string.substring(1).toLowerCase();\n};\n\n/* harmony default export */ __webpack_exports__[\"default\"] = (PaginatedCollection = (function(superClass) {\n  extend(PaginatedCollection, superClass);\n\n  function PaginatedCollection() {\n    this._setStateAfterFetch = bind(this._setStateAfterFetch, this);\n    return PaginatedCollection.__super__.constructor.apply(this, arguments);\n  }\n\n  PaginatedCollection.prototype.nameRegex = /rel=\"([a-z]+)/;\n\n  PaginatedCollection.prototype.linkRegex = /^<([^>]+)/;\n\n  PaginatedCollection.prototype.pageRegex = /\\Wpage=(\\d+)/;\n\n  PaginatedCollection.prototype.perPageRegex = /\\Wper_page=(\\d+)/;\n\n  PaginatedCollection.prototype.initialize = function() {\n    PaginatedCollection.__super__.initialize.apply(this, arguments);\n    return this.urls = {};\n  };\n\n  PaginatedCollection.prototype.fetch = function(options) {\n    var dfd, exclusionFlag, ref, xhr;\n    if (options == null) {\n      options = {};\n    }\n    options = underscore__WEBPACK_IMPORTED_MODULE_2___default.a.clone(options);\n    this.loadedAll = false;\n    exclusionFlag = \"fetching\" + (capitalize(options.page)) + \"Page\";\n    this[exclusionFlag] = true;\n    if (options.page != null) {\n      if (options.remove == null) {\n        options.remove = false;\n      }\n      if ((ref = this.urls) != null ? ref[options.page] : void 0) {\n        options.url = this.urls[options.page];\n        options.data = '';\n      }\n    } else {\n      if (options.reset == null) {\n        options.reset = true;\n      }\n    }\n    if (options.fetchOptions != null) {\n      options.data = options.fetchOptions;\n    }\n    this.trigger('beforeFetch', this, options);\n    if (options.page != null) {\n      this.trigger(\"beforeFetch:\" + options.page, this, options);\n    }\n    xhr = null;\n    options.dataFilter = (function(_this) {\n      return function(data) {\n        _this[exclusionFlag] = false;\n        _this._setStateAfterFetch(xhr, options);\n        return data;\n      };\n    })(this);\n    dfd = options.dfd || jquery__WEBPACK_IMPORTED_MODULE_0___default.a.Deferred();\n    xhr = PaginatedCollection.__super__.fetch.call(this, options).done((function(_this) {\n      return function(response, text, xhr) {\n        var ref1;\n        _this.trigger('fetch', _this, response, options);\n        if (options.page != null) {\n          _this.trigger(\"fetch:\" + options.page, _this, response, options);\n        }\n        if (!((ref1 = _this.urls) != null ? ref1.next : void 0)) {\n          _this.trigger.apply(_this, ['fetched:last'].concat(slice.call(arguments)));\n        }\n        if (_this.loadAll && (_this.urls.next != null)) {\n          return setTimeout(function() {\n            return _this.fetch({\n              page: 'next',\n              dfd: dfd\n            });\n          });\n        } else {\n          return dfd.resolve(response, text, xhr);\n        }\n      };\n    })(this));\n    dfd.abort = xhr.abort;\n    dfd.success = dfd.done;\n    dfd.error = dfd.fail;\n    return dfd;\n  };\n\n  PaginatedCollection.prototype.canFetch = function(page) {\n    return (this.urls != null) && (this.urls[page] != null);\n  };\n\n  PaginatedCollection.prototype._setStateAfterFetch = function(xhr, options) {\n    var base, firstRequest, match, oldUrls, perPage, ref, ref1, ref2, ref3, ref4, setBottom, setTop, url, urlIsNotCached;\n    if (this._urlCache == null) {\n      this._urlCache = [];\n    }\n    urlIsNotCached = (ref = options.url, indexOf.call(this._urlCache, ref) < 0);\n    if (!urlIsNotCached) {\n      this._urlCache.push(options.url);\n    }\n    firstRequest = !this.atLeastOnePageFetched;\n    setBottom = firstRequest || (((ref1 = options.page) === 'next' || ref1 === 'bottom') && urlIsNotCached);\n    setTop = firstRequest || (((ref2 = options.page) === 'prev' || ref2 === 'top') && urlIsNotCached);\n    oldUrls = this.urls;\n    this.urls = this._parsePageLinks(xhr);\n    if (setBottom && (this.urls.next != null)) {\n      this.urls.bottom = this.urls.next;\n    } else if (!this.urls.next) {\n      delete this.urls.bottom;\n    } else {\n      this.urls.bottom = oldUrls.bottom;\n    }\n    if (setTop && (this.urls.prev != null)) {\n      this.urls.top = this.urls.prev;\n    } else if (!this.urls.prev) {\n      delete this.urls.top;\n    } else {\n      this.urls.top = oldUrls.top;\n    }\n    url = (ref3 = this.urls.first) != null ? ref3 : this.urls.next;\n    if (url != null) {\n      perPage = parseInt(url.match(this.perPageRegex)[1], 10);\n      ((base = (this.options != null ? this.options : this.options = {})).params != null ? base.params : base.params = {}).per_page = perPage;\n    }\n    if (this.urls.last && (match = this.urls.last.match(this.pageRegex))) {\n      this.totalPages = parseInt(match[1], 10);\n    }\n    if (!((ref4 = this.urls) != null ? ref4.next : void 0)) {\n      this.loadedAll = true;\n    }\n    return this.atLeastOnePageFetched = true;\n  };\n\n  PaginatedCollection.prototype._parsePageLinks = function(xhr) {\n    var linkHeader, ref;\n    linkHeader = (ref = xhr.getResponseHeader('link')) != null ? ref.split(',') : void 0;\n    if (linkHeader == null) {\n      linkHeader = [];\n    }\n    return underscore__WEBPACK_IMPORTED_MODULE_2___default.a.reduce(linkHeader, (function(_this) {\n      return function(links, link) {\n        var key, val;\n        key = link.match(_this.nameRegex)[1];\n        val = link.match(_this.linkRegex)[1];\n        links[key] = val;\n        return links;\n      };\n    })(this), {});\n  };\n\n  return PaginatedCollection;\n\n})(_canvas_backbone__WEBPACK_IMPORTED_MODULE_1___default.a.Collection));\n\n\n//# sourceURL=webpack:///./ui/shared/pagination/backbone/collections/PaginatedCollection.coffee?");

/***/ }),

/***/ "VXGR":
/*!*****************************************************************!*\
  !*** ./ui/shared/files/backbone/collections/FilesCollection.js ***!
  \*****************************************************************/
/*! exports provided: default */
/***/ (function(module, __webpack_exports__, __webpack_require__) {

"use strict";
eval("__webpack_require__.r(__webpack_exports__);\n/* harmony export (binding) */ __webpack_require__.d(__webpack_exports__, \"default\", function() { return FilesCollection; });\n/* harmony import */ var _canvas_pagination_backbone_collections_PaginatedCollection_coffee__WEBPACK_IMPORTED_MODULE_0__ = __webpack_require__(/*! @canvas/pagination/backbone/collections/PaginatedCollection.coffee */ \"TnsN\");\n/* harmony import */ var underscore__WEBPACK_IMPORTED_MODULE_1__ = __webpack_require__(/*! underscore */ \"Y/W1\");\n/* harmony import */ var underscore__WEBPACK_IMPORTED_MODULE_1___default = /*#__PURE__*/__webpack_require__.n(underscore__WEBPACK_IMPORTED_MODULE_1__);\n/* harmony import */ var _models_File_coffee__WEBPACK_IMPORTED_MODULE_2__ = __webpack_require__(/*! ../models/File.coffee */ \"C8i9\");\n//\n// Copyright (C) 2012 - present Instructure, Inc.\n//\n// This file is part of Canvas.\n//\n// Canvas is free software: you can redistribute it and/or modify it under\n// the terms of the GNU Affero General Public License as published by the Free\n// Software Foundation, version 3 of the License.\n//\n// Canvas is distributed in the hope that it will be useful, but WITHOUT ANY\n// WARRANTY; without even the implied warranty of MERCHANTABILITY or FITNESS FOR\n// A PARTICULAR PURPOSE. See the GNU Affero General Public License for more\n// details.\n//\n// You should have received a copy of the GNU Affero General Public License along\n// with this program. If not, see <http://www.gnu.org/licenses/>.\n//\n\n\n\nclass FilesCollection extends _canvas_pagination_backbone_collections_PaginatedCollection_coffee__WEBPACK_IMPORTED_MODULE_0__[\"default\"] {\n  initialize() {\n    this.on('change:sort change:order', this.setQueryStringParams);\n    return super.initialize(...arguments);\n  }\n\n  fetch(options = {}) {\n    let res;\n    options.data = underscore__WEBPACK_IMPORTED_MODULE_1___default.a.extend({\n      content_types: this.parentFolder != null ? this.parentFolder.contentTypes : void 0\n    }, options.data || {});\n\n    if (this.parentFolder != null ? this.parentFolder.useVerifiers : void 0) {\n      options.data.use_verifiers = 1;\n    }\n\n    return res = super.fetch(options);\n  }\n\n  parse(response) {\n    if (response && this.parentFolder) {\n      const previewUrl = this.parentFolder.previewUrl();\n\n      underscore__WEBPACK_IMPORTED_MODULE_1___default.a.each(response, file => file.rce_preview_url = previewUrl ? previewUrl.replace('{{id}}', file.id.toString()) : file.url);\n    }\n\n    return super.parse(...arguments);\n  } // TODO: This is duplicate code from Folder.coffee, can we DRY?\n\n\n  setQueryStringParams() {\n    const newParams = {\n      include: ['user'],\n      per_page: 20,\n      sort: this.get('sort'),\n      order: this.get('order')\n    };\n    if (this.loadedAll) return;\n    const url = new URL(this.url);\n    const params = deparam(url.search);\n    url.search = $.param(underscore__WEBPACK_IMPORTED_MODULE_1___default.a.extend(params, newParams));\n    this.url = url.toString();\n    return this.reset();\n  }\n\n}\nFilesCollection.optionProperty('parentFolder');\nFilesCollection.prototype.model = _models_File_coffee__WEBPACK_IMPORTED_MODULE_2__[\"default\"];\n\n//# sourceURL=webpack:///./ui/shared/files/backbone/collections/FilesCollection.js?");

/***/ }),

/***/ "WZul":
/*!****************************************************************************!*\
  !*** ./frontend_build/i18n.js?file_status!./ui/shims/dummyI18nResource.js ***!
  \****************************************************************************/
/*! exports provided: default */
/***/ (function(module, __webpack_exports__, __webpack_require__) {

"use strict";
eval("__webpack_require__.r(__webpack_exports__);\n/* harmony import */ var _canvas_i18n_i18nObj__WEBPACK_IMPORTED_MODULE_0__ = __webpack_require__(/*! @canvas/i18n/i18nObj */ \"HGxv\");\n/* harmony import */ var translations_core_en__WEBPACK_IMPORTED_MODULE_1__ = __webpack_require__(/*! translations/_core_en */ \"0sPK\");\n\n    \n    \n    \n\n    /* harmony default export */ __webpack_exports__[\"default\"] = (_canvas_i18n_i18nObj__WEBPACK_IMPORTED_MODULE_0__[\"default\"].scoped('file_status'));\n  \n\n//# sourceURL=webpack:///./ui/shims/dummyI18nResource.js?./frontend_build/i18n.js?file_status");

/***/ }),

/***/ "YeKM":
/*!****************************************************************************************!*\
  !*** ./frontend_build/i18n.js?standalone_file_preview!./ui/shims/dummyI18nResource.js ***!
  \****************************************************************************************/
/*! exports provided: default */
/***/ (function(module, __webpack_exports__, __webpack_require__) {

"use strict";
eval("__webpack_require__.r(__webpack_exports__);\n/* harmony import */ var _canvas_i18n_i18nObj__WEBPACK_IMPORTED_MODULE_0__ = __webpack_require__(/*! @canvas/i18n/i18nObj */ \"HGxv\");\n/* harmony import */ var translations_core_en__WEBPACK_IMPORTED_MODULE_1__ = __webpack_require__(/*! translations/_core_en */ \"0sPK\");\n\n    \n    \n    \n\n    /* harmony default export */ __webpack_exports__[\"default\"] = (_canvas_i18n_i18nObj__WEBPACK_IMPORTED_MODULE_0__[\"default\"].scoped('standalone_file_preview'));\n  \n\n//# sourceURL=webpack:///./ui/shims/dummyI18nResource.js?./frontend_build/i18n.js?standalone_file_preview");

/***/ }),

/***/ "ZDrK":
/*!*****************************************************************!*\
  !*** ./ui/shared/datetime/react/components/FriendlyDatetime.js ***!
  \*****************************************************************/
/*! exports provided: default */
/***/ (function(module, __webpack_exports__, __webpack_require__) {

"use strict";
eval("__webpack_require__.r(__webpack_exports__);\n/* harmony import */ var _babel_runtime_helpers_esm_objectSpread2__WEBPACK_IMPORTED_MODULE_0__ = __webpack_require__(/*! @babel/runtime/helpers/esm/objectSpread2 */ \"VTBJ\");\n/* harmony import */ var _babel_runtime_helpers_esm_objectWithoutProperties__WEBPACK_IMPORTED_MODULE_1__ = __webpack_require__(/*! @babel/runtime/helpers/esm/objectWithoutProperties */ \"Ff2n\");\n/* harmony import */ var react__WEBPACK_IMPORTED_MODULE_2__ = __webpack_require__(/*! react */ \"q1tI\");\n/* harmony import */ var react__WEBPACK_IMPORTED_MODULE_2___default = /*#__PURE__*/__webpack_require__.n(react__WEBPACK_IMPORTED_MODULE_2__);\n/* harmony import */ var prop_types__WEBPACK_IMPORTED_MODULE_3__ = __webpack_require__(/*! prop-types */ \"17x9\");\n/* harmony import */ var prop_types__WEBPACK_IMPORTED_MODULE_3___default = /*#__PURE__*/__webpack_require__.n(prop_types__WEBPACK_IMPORTED_MODULE_3__);\n/* harmony import */ var _canvas_timezone__WEBPACK_IMPORTED_MODULE_4__ = __webpack_require__(/*! @canvas/timezone */ \"3H9/\");\n/* harmony import */ var underscore__WEBPACK_IMPORTED_MODULE_5__ = __webpack_require__(/*! underscore */ \"Y/W1\");\n/* harmony import */ var underscore__WEBPACK_IMPORTED_MODULE_5___default = /*#__PURE__*/__webpack_require__.n(underscore__WEBPACK_IMPORTED_MODULE_5__);\n/* harmony import */ var jquery__WEBPACK_IMPORTED_MODULE_6__ = __webpack_require__(/*! jquery */ \"ouhR\");\n/* harmony import */ var jquery__WEBPACK_IMPORTED_MODULE_6___default = /*#__PURE__*/__webpack_require__.n(jquery__WEBPACK_IMPORTED_MODULE_6__);\n/* harmony import */ var _jquery_index__WEBPACK_IMPORTED_MODULE_7__ = __webpack_require__(/*! ../../jquery/index */ \"7svE\");\n/* harmony import */ var _instructure_ui_a11y_content__WEBPACK_IMPORTED_MODULE_8__ = __webpack_require__(/*! @instructure/ui-a11y-content */ \"9+/z\");\n\n\nconst _excluded = [\"showTime\"];\n\n/*\n * Copyright (C) 2015 - present Instructure, Inc.\n *\n * This file is part of Canvas.\n *\n * Canvas is free software: you can redistribute it and/or modify it under\n * the terms of the GNU Affero General Public License as published by the Free\n * Software Foundation, version 3 of the License.\n *\n * Canvas is distributed in the hope that it will be useful, but WITHOUT ANY\n * WARRANTY; without even the implied warranty of MERCHANTABILITY or FITNESS FOR\n * A PARTICULAR PURPOSE. See the GNU Affero General Public License for more\n * details.\n *\n * You should have received a copy of the GNU Affero General Public License along\n * with this program. If not, see <http://www.gnu.org/licenses/>.\n */\n\n\n\n\n\n\n\n\nclass FriendlyDatetime extends react__WEBPACK_IMPORTED_MODULE_2__[\"Component\"] {\n  constructor(...args) {\n    super(...args);\n    this.render = underscore__WEBPACK_IMPORTED_MODULE_5___default.a.memoize(() => {\n      // Separate props not used by the `time` element\n      const _this$props = this.props,\n            showTime = _this$props.showTime,\n            timeElementProps = Object(_babel_runtime_helpers_esm_objectWithoutProperties__WEBPACK_IMPORTED_MODULE_1__[\"default\"])(_this$props, _excluded);\n\n      let datetime = this.props.dateTime;\n\n      if (!datetime) {\n        return /*#__PURE__*/react__WEBPACK_IMPORTED_MODULE_2___default.a.createElement(\"time\", null);\n      }\n\n      if (!underscore__WEBPACK_IMPORTED_MODULE_5___default.a.isDate(datetime)) {\n        datetime = _canvas_timezone__WEBPACK_IMPORTED_MODULE_4__[\"default\"].parse(datetime);\n      }\n\n      const fudged = jquery__WEBPACK_IMPORTED_MODULE_6___default.a.fudgeDateForProfileTimezone(datetime);\n      let friendly;\n\n      if (this.props.format) {\n        friendly = _canvas_timezone__WEBPACK_IMPORTED_MODULE_4__[\"default\"].format(datetime, this.props.format);\n      } else if (showTime) {\n        friendly = jquery__WEBPACK_IMPORTED_MODULE_6___default.a.datetimeString(datetime);\n      } else {\n        friendly = jquery__WEBPACK_IMPORTED_MODULE_6___default.a.friendlyDatetime(fudged);\n      }\n\n      const timeProps = Object(_babel_runtime_helpers_esm_objectSpread2__WEBPACK_IMPORTED_MODULE_0__[\"default\"])(Object(_babel_runtime_helpers_esm_objectSpread2__WEBPACK_IMPORTED_MODULE_0__[\"default\"])({}, timeElementProps), {}, {\n        title: jquery__WEBPACK_IMPORTED_MODULE_6___default.a.datetimeString(datetime),\n        dateTime: datetime.toISOString()\n      });\n\n      let fixedPrefix = this.props.prefix;\n\n      if (fixedPrefix && !fixedPrefix.endsWith(' ')) {\n        fixedPrefix += ' ';\n      }\n\n      let fixedPrefixMobile = this.props.prefixMobile;\n\n      if (fixedPrefixMobile && !fixedPrefixMobile.endsWith(' ')) {\n        fixedPrefixMobile += ' ';\n      }\n\n      return /*#__PURE__*/react__WEBPACK_IMPORTED_MODULE_2___default.a.createElement(\"span\", {\n        \"data-testid\": \"friendly-date-time\"\n      }, /*#__PURE__*/react__WEBPACK_IMPORTED_MODULE_2___default.a.createElement(_instructure_ui_a11y_content__WEBPACK_IMPORTED_MODULE_8__[\"ScreenReaderContent\"], null, fixedPrefix + friendly), /*#__PURE__*/react__WEBPACK_IMPORTED_MODULE_2___default.a.createElement(\"time\", Object.assign({}, timeProps, {\n        ref: c => {\n          this.time = c;\n        },\n        \"aria-hidden\": \"true\"\n      }), /*#__PURE__*/react__WEBPACK_IMPORTED_MODULE_2___default.a.createElement(\"span\", {\n        className: \"visible-desktop\"\n      }, fixedPrefix + friendly), /*#__PURE__*/react__WEBPACK_IMPORTED_MODULE_2___default.a.createElement(\"span\", {\n        className: \"hidden-desktop\"\n      }, (fixedPrefixMobile || '') + fudged.toLocaleDateString())));\n    }, () => this.props.dateTime);\n  }\n\n}\n\nFriendlyDatetime.propTypes = {\n  dateTime: prop_types__WEBPACK_IMPORTED_MODULE_3___default.a.oneOfType([prop_types__WEBPACK_IMPORTED_MODULE_3___default.a.string, prop_types__WEBPACK_IMPORTED_MODULE_3___default.a.instanceOf(Date)]).isRequired,\n  format: prop_types__WEBPACK_IMPORTED_MODULE_3___default.a.string,\n  prefix: prop_types__WEBPACK_IMPORTED_MODULE_3___default.a.string,\n  prefixMobile: prop_types__WEBPACK_IMPORTED_MODULE_3___default.a.string,\n  showTime: prop_types__WEBPACK_IMPORTED_MODULE_3___default.a.bool\n};\nFriendlyDatetime.defaultProps = {\n  format: null,\n  prefix: '',\n  prefixMobile: null,\n  showTime: false\n};\n/* harmony default export */ __webpack_exports__[\"default\"] = (FriendlyDatetime);\n\n//# sourceURL=webpack:///./ui/shared/datetime/react/components/FriendlyDatetime.js?");

/***/ }),

/***/ "aq4X":
/*!*****************************************************************************!*\
  !*** ./frontend_build/i18n.js?file_preview!./ui/shims/dummyI18nResource.js ***!
  \*****************************************************************************/
/*! exports provided: default */
/***/ (function(module, __webpack_exports__, __webpack_require__) {

"use strict";
eval("__webpack_require__.r(__webpack_exports__);\n/* harmony import */ var _canvas_i18n_i18nObj__WEBPACK_IMPORTED_MODULE_0__ = __webpack_require__(/*! @canvas/i18n/i18nObj */ \"HGxv\");\n/* harmony import */ var translations_core_en__WEBPACK_IMPORTED_MODULE_1__ = __webpack_require__(/*! translations/_core_en */ \"0sPK\");\n\n    \n    \n    \n\n    /* harmony default export */ __webpack_exports__[\"default\"] = (_canvas_i18n_i18nObj__WEBPACK_IMPORTED_MODULE_0__[\"default\"].scoped('file_preview'));\n  \n\n//# sourceURL=webpack:///./ui/shims/dummyI18nResource.js?./frontend_build/i18n.js?file_preview");

/***/ }),

/***/ "i7z/":
/*!****************************************************************!*\
  !*** ./ui/features/navigation_header/react/showFilePreview.js ***!
  \****************************************************************/
/*! exports provided: showFilePreview */
/***/ (function(module, __webpack_exports__, __webpack_require__) {

"use strict";
eval("__webpack_require__.r(__webpack_exports__);\n/* harmony export (binding) */ __webpack_require__.d(__webpack_exports__, \"showFilePreview\", function() { return showFilePreview; });\n/* harmony import */ var _babel_runtime_helpers_esm_slicedToArray__WEBPACK_IMPORTED_MODULE_0__ = __webpack_require__(/*! @babel/runtime/helpers/esm/slicedToArray */ \"ODXe\");\n/* harmony import */ var react__WEBPACK_IMPORTED_MODULE_1__ = __webpack_require__(/*! react */ \"q1tI\");\n/* harmony import */ var react__WEBPACK_IMPORTED_MODULE_1___default = /*#__PURE__*/__webpack_require__.n(react__WEBPACK_IMPORTED_MODULE_1__);\n/* harmony import */ var react_dom__WEBPACK_IMPORTED_MODULE_2__ = __webpack_require__(/*! react-dom */ \"i8i4\");\n/* harmony import */ var react_dom__WEBPACK_IMPORTED_MODULE_2___default = /*#__PURE__*/__webpack_require__.n(react_dom__WEBPACK_IMPORTED_MODULE_2__);\n/* harmony import */ var prop_types__WEBPACK_IMPORTED_MODULE_3__ = __webpack_require__(/*! prop-types */ \"17x9\");\n/* harmony import */ var prop_types__WEBPACK_IMPORTED_MODULE_3___default = /*#__PURE__*/__webpack_require__.n(prop_types__WEBPACK_IMPORTED_MODULE_3__);\n/* harmony import */ var i18n_standalone_file_preview__WEBPACK_IMPORTED_MODULE_4__ = __webpack_require__(/*! i18n!standalone_file_preview */ \"YeKM\");\n/* harmony import */ var _canvas_alerts_react_FlashAlert__WEBPACK_IMPORTED_MODULE_5__ = __webpack_require__(/*! @canvas/alerts/react/FlashAlert */ \"uloQ\");\n/* harmony import */ var _canvas_files_react_components_FilePreview__WEBPACK_IMPORTED_MODULE_6__ = __webpack_require__(/*! @canvas/files/react/components/FilePreview */ \"Llkk\");\n/* harmony import */ var _canvas_files_backbone_models_File_coffee__WEBPACK_IMPORTED_MODULE_7__ = __webpack_require__(/*! @canvas/files/backbone/models/File.coffee */ \"C8i9\");\n/* harmony import */ var _instructure_js_utils__WEBPACK_IMPORTED_MODULE_8__ = __webpack_require__(/*! @instructure/js-utils */ \"1b+i\");\n\n\n/*\n * Copyright (C) 2021 - present Instructure, Inc.\n *\n * This file is part of Canvas.\n *\n * Canvas is free software: you can redistribute it and/or modify it under\n * the terms of the GNU Affero General Public License as published by the Free\n * Software Foundation, version 3 of the License.\n *\n * Canvas is distributed in the hope that it will be useful, but WITHOUT ANY\n * WARRANTY; without even the implied warranty of MERCHANTABILITY or FITNESS FOR\n * A PARTICULAR PURPOSE. See the GNU Affero General Public License for more\n * details.\n *\n * You should have received a copy of the GNU Affero General Public License along\n * with this program. If not, see <http://www.gnu.org/licenses/>.\n */\n\n\n\n\n\n\n\n // showFilePreview repurposes the file preview overlay from the Files\n// pages to show a single file in an arbitrary context. First use\n// is for canvas files users linked to using the RCE.\n\nfunction showFilePreview(file_id, verifier = '') {\n  let container = document.getElementById('file_preview_container');\n\n  if (!container) {\n    container = document.createElement('div');\n    container.id = 'file_preview_container';\n    document.body.appendChild(container);\n  }\n\n  Object(_instructure_js_utils__WEBPACK_IMPORTED_MODULE_8__[\"asJson\"])(fetch(`/api/v1/files/${file_id}?include[]=enhanced_preview_url&verifier=${verifier}&use_verifiers=1`, _instructure_js_utils__WEBPACK_IMPORTED_MODULE_8__[\"defaultFetchOptions\"])).then(file => {\n    const backboneFile = new _canvas_files_backbone_models_File_coffee__WEBPACK_IMPORTED_MODULE_7__[\"default\"](file);\n    react_dom__WEBPACK_IMPORTED_MODULE_2___default.a.render( /*#__PURE__*/react__WEBPACK_IMPORTED_MODULE_1___default.a.createElement(StandaloneFilePreview, {\n      preview_file: backboneFile\n    }), container);\n  }).catch(err => {\n    Object(_canvas_alerts_react_FlashAlert__WEBPACK_IMPORTED_MODULE_5__[\"showFlashAlert\"])({\n      message: i18n_standalone_file_preview__WEBPACK_IMPORTED_MODULE_4__[\"default\"].t('Failed getting file to preview'),\n      err\n    });\n  });\n}\n\nfunction StandaloneFilePreview({\n  preview_file\n}) {\n  const _useState = Object(react__WEBPACK_IMPORTED_MODULE_1__[\"useState\"])(true),\n        _useState2 = Object(_babel_runtime_helpers_esm_slicedToArray__WEBPACK_IMPORTED_MODULE_0__[\"default\"])(_useState, 2),\n        isOpen = _useState2[0],\n        setIsOpen = _useState2[1];\n\n  const _useState3 = Object(react__WEBPACK_IMPORTED_MODULE_1__[\"useState\"])(preview_file),\n        _useState4 = Object(_babel_runtime_helpers_esm_slicedToArray__WEBPACK_IMPORTED_MODULE_0__[\"default\"])(_useState3, 2),\n        file = _useState4[0],\n        setFile = _useState4[1];\n\n  Object(react__WEBPACK_IMPORTED_MODULE_1__[\"useEffect\"])(() => {\n    if ((preview_file === null || preview_file === void 0 ? void 0 : preview_file.id) !== (file === null || file === void 0 ? void 0 : file.id)) {\n      setFile(preview_file);\n    }\n\n    setIsOpen(!!file);\n  }, [file, preview_file]);\n  return file && /*#__PURE__*/react__WEBPACK_IMPORTED_MODULE_1___default.a.createElement(_canvas_files_react_components_FilePreview__WEBPACK_IMPORTED_MODULE_6__[\"default\"], {\n    isOpen: isOpen,\n    currentFolder: {\n      files: {\n        models: [file]\n      }\n    },\n    query:\n    /* the odd value for only_preview is to tease FilePreview into\n       not displaying the prev/next arrows */\n    {\n      only_preview: 'xyzzy',\n      preview: file.id\n    },\n    closePreview: () => setIsOpen(false)\n  });\n}\n\nStandaloneFilePreview.propTypes = {\n  preview_file: Object(prop_types__WEBPACK_IMPORTED_MODULE_3__[\"instanceOf\"])(_canvas_files_backbone_models_File_coffee__WEBPACK_IMPORTED_MODULE_7__[\"default\"])\n};\n\n//# sourceURL=webpack:///./ui/features/navigation_header/react/showFilePreview.js?");

/***/ }),

/***/ "itXk":
/*!***********************************************!*\
  !*** ./ui/shared/files/util/friendlyBytes.js ***!
  \***********************************************/
/*! exports provided: default */
/***/ (function(module, __webpack_exports__, __webpack_require__) {

"use strict";
eval("__webpack_require__.r(__webpack_exports__);\n/* harmony export (binding) */ __webpack_require__.d(__webpack_exports__, \"default\", function() { return friendlyBytes; });\n/* harmony import */ var _canvas_i18n__WEBPACK_IMPORTED_MODULE_0__ = __webpack_require__(/*! @canvas/i18n */ \"HGxv\");\n//\n// Copyright (C) 2014 - present Instructure, Inc.\n//\n// This file is part of Canvas.\n//\n// Canvas is free software: you can redistribute it and/or modify it under\n// the terms of the GNU Affero General Public License as published by the Free\n// Software Foundation, version 3 of the License.\n//\n// Canvas is distributed in the hope that it will be useful, but WITHOUT ANY\n// WARRANTY; without even the implied warranty of MERCHANTABILITY or FITNESS FOR\n// A PARTICULAR PURPOSE. See the GNU Affero General Public License for more\n// details.\n//\n// You should have received a copy of the GNU Affero General Public License along\n// with this program. If not, see <http://www.gnu.org/licenses/>.\n\nconst units = ['byte', 'bytes', 'KB', 'MB', 'GB', 'TB']; // converts bytes into a nice representation with unit. e.g. 13661855 -> 13.7 MB, 825399 -> 825 KB, 1396 -> 1 KB\n\nfunction friendlyBytes(value) {\n  let resInt, resValue;\n  const bytes = parseInt(value, 10);\n  if (bytes.toString() === 'NaN') return '--';\n\n  if (bytes === 0) {\n    resInt = resValue = 0;\n  } else {\n    resInt = Math.floor(Math.log(bytes) / Math.log(1000)); // base 10 (rather than 1024) matches Mac OS X\n\n    resValue = (bytes / Math.pow(1000, Math.floor(resInt))).toFixed(resInt < 2 ? 0 : 1); // no decimals for anything smaller than 1 MB\n\n    if (bytes === 1) resInt = -1; // 1 byte special case\n  }\n\n  return `${_canvas_i18n__WEBPACK_IMPORTED_MODULE_0__[\"default\"].n(resValue)} ${units[resInt + 1]}`;\n}\n\n//# sourceURL=webpack:///./ui/shared/files/util/friendlyBytes.js?");

/***/ }),

/***/ "jFkK":
/*!******************************************************************!*\
  !*** ./ui/shared/files/react/components/FilePreviewInfoPanel.js ***!
  \******************************************************************/
/*! exports provided: default */
/***/ (function(module, __webpack_exports__, __webpack_require__) {

"use strict";
eval("__webpack_require__.r(__webpack_exports__);\n/* harmony import */ var react__WEBPACK_IMPORTED_MODULE_0__ = __webpack_require__(/*! react */ \"q1tI\");\n/* harmony import */ var react__WEBPACK_IMPORTED_MODULE_0___default = /*#__PURE__*/__webpack_require__.n(react__WEBPACK_IMPORTED_MODULE_0__);\n/* harmony import */ var prop_types__WEBPACK_IMPORTED_MODULE_1__ = __webpack_require__(/*! prop-types */ \"17x9\");\n/* harmony import */ var prop_types__WEBPACK_IMPORTED_MODULE_1___default = /*#__PURE__*/__webpack_require__.n(prop_types__WEBPACK_IMPORTED_MODULE_1__);\n/* harmony import */ var i18n_file_preview__WEBPACK_IMPORTED_MODULE_2__ = __webpack_require__(/*! i18n!file_preview */ \"aq4X\");\n/* harmony import */ var _canvas_datetime_react_components_FriendlyDatetime__WEBPACK_IMPORTED_MODULE_3__ = __webpack_require__(/*! @canvas/datetime/react/components/FriendlyDatetime */ \"ZDrK\");\n/* harmony import */ var _util_friendlyBytes__WEBPACK_IMPORTED_MODULE_4__ = __webpack_require__(/*! ../../util/friendlyBytes */ \"itXk\");\n/* harmony import */ var _modules_customPropTypes__WEBPACK_IMPORTED_MODULE_5__ = __webpack_require__(/*! ../modules/customPropTypes */ \"Lg2F\");\n/* harmony import */ var _util_getFileStatus__WEBPACK_IMPORTED_MODULE_6__ = __webpack_require__(/*! ../../util/getFileStatus */ \"BcBy\");\n/* harmony import */ var _canvas_mime_mimeClass__WEBPACK_IMPORTED_MODULE_7__ = __webpack_require__(/*! @canvas/mime/mimeClass */ \"scx4\");\n/*\n * Copyright (C) 2015 - present Instructure, Inc.\n *\n * This file is part of Canvas.\n *\n * Canvas is free software: you can redistribute it and/or modify it under\n * the terms of the GNU Affero General Public License as published by the Free\n * Software Foundation, version 3 of the License.\n *\n * Canvas is distributed in the hope that it will be useful, but WITHOUT ANY\n * WARRANTY; without even the implied warranty of MERCHANTABILITY or FITNESS FOR\n * A PARTICULAR PURPOSE. See the GNU Affero General Public License for more\n * details.\n *\n * You should have received a copy of the GNU Affero General Public License along\n * with this program. If not, see <http://www.gnu.org/licenses/>.\n */\n\n\n\n\n\n\n\n\n\nclass FilePreviewInfoPanel extends react__WEBPACK_IMPORTED_MODULE_0___default.a.Component {\n  render() {\n    return /*#__PURE__*/react__WEBPACK_IMPORTED_MODULE_0___default.a.createElement(\"div\", {\n      className: \"ef-file-preview-information-container\"\n    }, /*#__PURE__*/react__WEBPACK_IMPORTED_MODULE_0___default.a.createElement(\"table\", {\n      className: \"ef-file-preview-infotable\"\n    }, /*#__PURE__*/react__WEBPACK_IMPORTED_MODULE_0___default.a.createElement(\"tbody\", null, /*#__PURE__*/react__WEBPACK_IMPORTED_MODULE_0___default.a.createElement(\"tr\", null, /*#__PURE__*/react__WEBPACK_IMPORTED_MODULE_0___default.a.createElement(\"th\", {\n      scope: \"row\"\n    }, i18n_file_preview__WEBPACK_IMPORTED_MODULE_2__[\"default\"].t('Name')), /*#__PURE__*/react__WEBPACK_IMPORTED_MODULE_0___default.a.createElement(\"td\", {\n      ref: \"displayName\"\n    }, this.props.displayedItem.displayName())), /*#__PURE__*/react__WEBPACK_IMPORTED_MODULE_0___default.a.createElement(\"tr\", null, /*#__PURE__*/react__WEBPACK_IMPORTED_MODULE_0___default.a.createElement(\"th\", {\n      scope: \"row\"\n    }, i18n_file_preview__WEBPACK_IMPORTED_MODULE_2__[\"default\"].t('Status')), /*#__PURE__*/react__WEBPACK_IMPORTED_MODULE_0___default.a.createElement(\"td\", {\n      ref: \"status\"\n    }, Object(_util_getFileStatus__WEBPACK_IMPORTED_MODULE_6__[\"default\"])(this.props.displayedItem))), /*#__PURE__*/react__WEBPACK_IMPORTED_MODULE_0___default.a.createElement(\"tr\", null, /*#__PURE__*/react__WEBPACK_IMPORTED_MODULE_0___default.a.createElement(\"th\", {\n      scope: \"row\"\n    }, i18n_file_preview__WEBPACK_IMPORTED_MODULE_2__[\"default\"].t('Kind')), /*#__PURE__*/react__WEBPACK_IMPORTED_MODULE_0___default.a.createElement(\"td\", {\n      ref: \"contentType\"\n    }, _canvas_mime_mimeClass__WEBPACK_IMPORTED_MODULE_7__[\"default\"].displayName(this.props.displayedItem.get('content-type')))), /*#__PURE__*/react__WEBPACK_IMPORTED_MODULE_0___default.a.createElement(\"tr\", null, /*#__PURE__*/react__WEBPACK_IMPORTED_MODULE_0___default.a.createElement(\"th\", {\n      scope: \"row\"\n    }, i18n_file_preview__WEBPACK_IMPORTED_MODULE_2__[\"default\"].t('Size')), /*#__PURE__*/react__WEBPACK_IMPORTED_MODULE_0___default.a.createElement(\"td\", {\n      ref: \"size\"\n    }, Object(_util_friendlyBytes__WEBPACK_IMPORTED_MODULE_4__[\"default\"])(this.props.displayedItem.get('size')))), /*#__PURE__*/react__WEBPACK_IMPORTED_MODULE_0___default.a.createElement(\"tr\", null, /*#__PURE__*/react__WEBPACK_IMPORTED_MODULE_0___default.a.createElement(\"th\", {\n      scope: \"row\"\n    }, i18n_file_preview__WEBPACK_IMPORTED_MODULE_2__[\"default\"].t('Date Modified')), /*#__PURE__*/react__WEBPACK_IMPORTED_MODULE_0___default.a.createElement(\"td\", {\n      id: \"dateModified\",\n      ref: \"dateModified\"\n    }, /*#__PURE__*/react__WEBPACK_IMPORTED_MODULE_0___default.a.createElement(_canvas_datetime_react_components_FriendlyDatetime__WEBPACK_IMPORTED_MODULE_3__[\"default\"], {\n      dateTime: this.props.displayedItem.get('updated_at')\n    }))), this.props.displayedItem.get('user') && /*#__PURE__*/react__WEBPACK_IMPORTED_MODULE_0___default.a.createElement(\"tr\", null, /*#__PURE__*/react__WEBPACK_IMPORTED_MODULE_0___default.a.createElement(\"th\", {\n      scope: \"row\"\n    }, i18n_file_preview__WEBPACK_IMPORTED_MODULE_2__[\"default\"].t('Last Modified By')), /*#__PURE__*/react__WEBPACK_IMPORTED_MODULE_0___default.a.createElement(\"td\", {\n      ref: \"modifedBy\"\n    }, /*#__PURE__*/react__WEBPACK_IMPORTED_MODULE_0___default.a.createElement(\"a\", {\n      href: this.props.displayedItem.get('user').html_url\n    }, this.props.displayedItem.get('user').display_name))), /*#__PURE__*/react__WEBPACK_IMPORTED_MODULE_0___default.a.createElement(\"tr\", null, /*#__PURE__*/react__WEBPACK_IMPORTED_MODULE_0___default.a.createElement(\"th\", {\n      scope: \"row\"\n    }, i18n_file_preview__WEBPACK_IMPORTED_MODULE_2__[\"default\"].t('Date Created')), /*#__PURE__*/react__WEBPACK_IMPORTED_MODULE_0___default.a.createElement(\"td\", {\n      id: \"dateCreated\"\n    }, /*#__PURE__*/react__WEBPACK_IMPORTED_MODULE_0___default.a.createElement(_canvas_datetime_react_components_FriendlyDatetime__WEBPACK_IMPORTED_MODULE_3__[\"default\"], {\n      dateTime: this.props.displayedItem.get('created_at')\n    }))), this.props.usageRightsRequiredForContext && /*#__PURE__*/react__WEBPACK_IMPORTED_MODULE_0___default.a.createElement(\"tr\", {\n      className: \"FilePreviewInfoPanel__usageRights\"\n    }, /*#__PURE__*/react__WEBPACK_IMPORTED_MODULE_0___default.a.createElement(\"th\", {\n      scope: \"row\"\n    }, i18n_file_preview__WEBPACK_IMPORTED_MODULE_2__[\"default\"].t('Usage Rights')), /*#__PURE__*/react__WEBPACK_IMPORTED_MODULE_0___default.a.createElement(\"td\", null, this.props.displayedItem && this.props.displayedItem.get('usage_rights') && this.props.displayedItem.get('usage_rights').license_name && /*#__PURE__*/react__WEBPACK_IMPORTED_MODULE_0___default.a.createElement(\"div\", {\n      ref: \"licenseName\"\n    }, this.props.displayedItem.get('usage_rights').license_name), this.props.displayedItem && this.props.displayedItem.get('usage_rights') && this.props.displayedItem.get('usage_rights').legal_copyright && /*#__PURE__*/react__WEBPACK_IMPORTED_MODULE_0___default.a.createElement(\"div\", {\n      ref: \"legalCopyright\"\n    }, this.props.displayedItem.get('usage_rights').legal_copyright))))));\n  }\n\n}\n\nFilePreviewInfoPanel.displayName = 'FilePreviewInfoPanel';\nFilePreviewInfoPanel.propTypes = {\n  displayedItem: _modules_customPropTypes__WEBPACK_IMPORTED_MODULE_5__[\"default\"].filesystemObject.isRequired,\n  usageRightsRequiredForContext: prop_types__WEBPACK_IMPORTED_MODULE_1___default.a.bool\n};\n/* harmony default export */ __webpack_exports__[\"default\"] = (FilePreviewInfoPanel);\n\n//# sourceURL=webpack:///./ui/shared/files/react/components/FilePreviewInfoPanel.js?");

/***/ }),

/***/ "m452":
/*!***************************************************!*\
  !*** ./ui/shared/files/react/modules/filesEnv.js ***!
  \***************************************************/
/*! exports provided: default */
/***/ (function(module, __webpack_exports__, __webpack_require__) {

"use strict";
eval("__webpack_require__.r(__webpack_exports__);\n/* harmony import */ var _babel_runtime_helpers_esm_slicedToArray__WEBPACK_IMPORTED_MODULE_0__ = __webpack_require__(/*! @babel/runtime/helpers/esm/slicedToArray */ \"ODXe\");\n/* harmony import */ var _backbone_models_Folder__WEBPACK_IMPORTED_MODULE_1__ = __webpack_require__(/*! ../../backbone/models/Folder */ \"3jyj\");\n/* harmony import */ var _canvas_util_splitAssetString__WEBPACK_IMPORTED_MODULE_2__ = __webpack_require__(/*! @canvas/util/splitAssetString */ \"s9Pr\");\n\n\n/*\n * Copyright (C) 2014 - present Instructure, Inc.\n *\n * This file is part of Canvas.\n *\n * Canvas is free software: you can redistribute it and/or modify it under\n * the terms of the GNU Affero General Public License as published by the Free\n * Software Foundation, version 3 of the License.\n *\n * Canvas is distributed in the hope that it will be useful, but WITHOUT ANY\n * WARRANTY; without even the implied warranty of MERCHANTABILITY or FITNESS FOR\n * A PARTICULAR PURPOSE. See the GNU Affero General Public License for more\n * details.\n *\n * You should have received a copy of the GNU Affero General Public License along\n * with this program. If not, see <http://www.gnu.org/licenses/>.\n */\n\n\nconst fileContexts = ENV.FILES_CONTEXTS || [];\nconst filesEnv = {\n  contexts: fileContexts,\n  contextsDictionary: fileContexts.reduce((dict, context) => {\n    const _Array$from = Array.from(Object(_canvas_util_splitAssetString__WEBPACK_IMPORTED_MODULE_2__[\"default\"])(context.asset_string)),\n          _Array$from2 = Object(_babel_runtime_helpers_esm_slicedToArray__WEBPACK_IMPORTED_MODULE_0__[\"default\"])(_Array$from, 2),\n          contextType = _Array$from2[0],\n          contextId = _Array$from2[1];\n\n    context.contextType = contextType;\n    context.contextId = contextId;\n    dict[[contextType, contextId].join('_')] = context;\n    return dict;\n  }, {}),\n  showingAllContexts: window.location.pathname.match(/^\\/files/),\n  contextType: fileContexts[0] != null ? fileContexts[0].contextType : void 0,\n  contextId: fileContexts[0] != null ? fileContexts[0].contextId : void 0,\n  rootFolders: fileContexts.map(contextData => {\n    if (ENV.current_user_id) {\n      const folder = new _backbone_models_Folder__WEBPACK_IMPORTED_MODULE_1__[\"default\"]({\n        custom_name: contextData.name,\n        context_type: contextData.contextType.replace(/s$/, ''),\n        context_id: contextData.contextId\n      });\n      folder.url = `/api/v1/${contextData.contextType}/${contextData.contextId}/folders/root`;\n      folder.fetch();\n      return folder;\n    }\n  })\n};\n\nfilesEnv.contextFor = function (folderOrFile) {\n  let assetString;\n\n  if (folderOrFile.collection && folderOrFile.collection.parentFolder) {\n    folderOrFile = folderOrFile.collection.parentFolder;\n  }\n\n  if (folderOrFile instanceof _backbone_models_Folder__WEBPACK_IMPORTED_MODULE_1__[\"default\"]) {\n    const folder = folderOrFile;\n    assetString = `${folder && folder.get('context_type')}s_${folder && folder.get('context_id')}`.toLowerCase();\n  } else if (folderOrFile.contextType && folderOrFile.contextId) {\n    assetString = `${folderOrFile.contextType}_${folderOrFile.contextId}`.toLowerCase();\n  }\n\n  return filesEnv.contextsDictionary && filesEnv.contextsDictionary[assetString];\n};\n\nfilesEnv.userHasPermission = function (folderOrFile, action) {\n  if (!folderOrFile) return false;\n  return filesEnv.contextFor(folderOrFile) && filesEnv.contextFor(folderOrFile).permissions && filesEnv.contextFor(folderOrFile).permissions[action];\n};\n\nfilesEnv.baseUrl = filesEnv.showingAllContexts ? '/files' : `/${filesEnv.contextType}/${filesEnv.contextId}/files`;\n/* harmony default export */ __webpack_exports__[\"default\"] = (filesEnv);\n\n//# sourceURL=webpack:///./ui/shared/files/react/modules/filesEnv.js?");

/***/ }),

/***/ "plYi":
/*!**************************************!*\
  !*** ./ui/shared/util/natcompare.js ***!
  \**************************************/
/*! exports provided: default */
/***/ (function(module, __webpack_exports__, __webpack_require__) {

"use strict";
eval("__webpack_require__.r(__webpack_exports__);\n/* harmony import */ var _canvas_i18n__WEBPACK_IMPORTED_MODULE_0__ = __webpack_require__(/*! @canvas/i18n */ \"HGxv\");\n//\n// Copyright (C) 2014 - present Instructure, Inc.\n//\n// This file is part of Canvas.\n//\n// Canvas is free software: you can redistribute it and/or modify it under\n// the terms of the GNU Affero General Public License as published by the Free\n// Software Foundation, version 3 of the License.\n//\n// Canvas is distributed in the hope that it will be useful, but WITHOUT ANY\n// WARRANTY; without even the implied warranty of MERCHANTABILITY or FITNESS FOR\n// A PARTICULAR PURPOSE. See the GNU Affero General Public License for more\n// details.\n//\n// You should have received a copy of the GNU Affero General Public License along\n// with this program. If not, see <http://www.gnu.org/licenses/>.\n\n/* harmony default export */ __webpack_exports__[\"default\"] = ({\n  strings(x, y) {\n    let locale = _canvas_i18n__WEBPACK_IMPORTED_MODULE_0__[\"default\"].locale || 'en-US';\n    const locale_map = {\n      zh_Hant: 'zh-Hant'\n    };\n    locale = locale_map[locale] || locale; // if you change these settings, also match the settings in best_unicode_collation_key\n    // and Canvas::ICU.collator\n\n    return x.localeCompare(y, locale, {\n      sensitivity: 'variant',\n      ignorePunctuation: false,\n      numeric: true\n    });\n  },\n\n  by(f) {\n    return (x, y) => this.strings(f(x), f(y));\n  },\n\n  byKey(key) {\n    return this.by(x => x[key]);\n  },\n\n  byGet(key) {\n    return this.by(x => x.get(key));\n  }\n\n});\n\n//# sourceURL=webpack:///./ui/shared/util/natcompare.js?");

/***/ }),

/***/ "scx4":
/*!*************************************!*\
  !*** ./ui/shared/mime/mimeClass.js ***!
  \*************************************/
/*! exports provided: default */
/***/ (function(module, __webpack_exports__, __webpack_require__) {

"use strict";
eval("__webpack_require__.r(__webpack_exports__);\n/* harmony export (binding) */ __webpack_require__.d(__webpack_exports__, \"default\", function() { return mimeClass; });\n/* harmony import */ var i18n_mimeClass__WEBPACK_IMPORTED_MODULE_0__ = __webpack_require__(/*! i18n!mimeClass */ \"Cm+D\");\n//\n// Copyright (C) 2012 - present Instructure, Inc.\n//\n// This file is part of Canvas.\n//\n// Canvas is free software: you can redistribute it and/or modify it under\n// the terms of the GNU Affero General Public License as published by the Free\n// Software Foundation, version 3 of the License.\n//\n// Canvas is distributed in the hope that it will be useful, but WITHOUT ANY\n// WARRANTY; without even the implied warranty of MERCHANTABILITY or FITNESS FOR\n// A PARTICULAR PURPOSE. See the GNU Affero General Public License for more\n// details.\n//\n// You should have received a copy of the GNU Affero General Public License along\n// with this program. If not, see <http://www.gnu.org/licenses/>.\n // this module works together with app/stylesheets/components/_MimeClassIcons.scss\n// so, given the mime-type of a file you can give it a css class name that corresponds to it.\n// eg: somefile.pdf would get the css class .mimeClass-pdf and a little icon with the acrobat logo in it.\n// if there is a file format that is common enough, go ahead and add an entry to one of these:\n// If you need to make a new class, make sure to also make an svg for it in public/images/mimeClassIcons/\n// and a class name in app/stylesheets/components/_MimeClassIcons.scss\n// (and app/stylesheets/components/deprecated/_fancy_links.scss if it is still being used)\n\nconst mimeClasses = {\n  audio: {\n    get displayName() {\n      return i18n_mimeClass__WEBPACK_IMPORTED_MODULE_0__[\"default\"].t('Audio');\n    },\n\n    mimeTypes: ['audio/x-mpegurl', 'audio/x-pn-realaudio', 'audio/x-aiff', 'audio/3gpp', 'audio/mid', 'audio/x-wav', 'audio/basic', 'audio/mpeg']\n  },\n  code: {\n    get displayName() {\n      return i18n_mimeClass__WEBPACK_IMPORTED_MODULE_0__[\"default\"].t('Source code');\n    },\n\n    mimeTypes: ['text/xml', 'text/css', 'text/x-yaml', 'application/xml', 'application/javascript', 'text/x-csharp']\n  },\n  doc: {\n    get displayName() {\n      return i18n_mimeClass__WEBPACK_IMPORTED_MODULE_0__[\"default\"].t('Text document');\n    },\n\n    mimeTypes: ['application/x-docx', 'text/rtf', 'application/msword', 'application/rtf', 'application/vnd.oasis.opendocument.text', 'application/vnd.openxmlformats-officedocument.wordprocessingml.document']\n  },\n  flash: {\n    get displayName() {\n      return i18n_mimeClass__WEBPACK_IMPORTED_MODULE_0__[\"default\"].t('Flash');\n    },\n\n    mimeTypes: ['application/x-shockwave-flash']\n  },\n  html: {\n    get displayName() {\n      return i18n_mimeClass__WEBPACK_IMPORTED_MODULE_0__[\"default\"].t('Web page');\n    },\n\n    mimeTypes: ['text/html', 'application/xhtml+xml']\n  },\n  image: {\n    get displayName() {\n      return i18n_mimeClass__WEBPACK_IMPORTED_MODULE_0__[\"default\"].t('Image');\n    },\n\n    mimeTypes: ['image/png', 'image/x-psd', 'image/gif', 'image/pjpeg', 'image/jpeg']\n  },\n  ppt: {\n    get displayName() {\n      return i18n_mimeClass__WEBPACK_IMPORTED_MODULE_0__[\"default\"].t('Presentation');\n    },\n\n    mimeTypes: ['application/vnd.openxmlformats-officedocument.presentationml.presentation', 'application/vnd.ms-powerpoint']\n  },\n  pdf: {\n    get displayName() {\n      return i18n_mimeClass__WEBPACK_IMPORTED_MODULE_0__[\"default\"].t('PDF');\n    },\n\n    mimeTypes: ['application/pdf']\n  },\n  text: {\n    get displayName() {\n      return i18n_mimeClass__WEBPACK_IMPORTED_MODULE_0__[\"default\"].t('Plain text');\n    },\n\n    mimeTypes: ['text', 'text/plain']\n  },\n  video: {\n    get displayName() {\n      return i18n_mimeClass__WEBPACK_IMPORTED_MODULE_0__[\"default\"].t('Video');\n    },\n\n    mimeTypes: ['video/mp4', 'video/x-ms-asf', 'video/x-msvideo', 'video/x-sgi-movie', 'video/mpeg', 'video/quicktime', 'video/x-la-asf', 'video/3gpp', 'video/webm', 'video/avi']\n  },\n  xls: {\n    get displayName() {\n      return i18n_mimeClass__WEBPACK_IMPORTED_MODULE_0__[\"default\"].t('Spreadsheet');\n    },\n\n    mimeTypes: ['application/vnd.oasis.opendocument.spreadsheet', 'text/csv', 'application/vnd.openxmlformats-officedocument.spreadsheetml.sheet', 'application/vnd.ms-excel']\n  },\n  zip: {\n    get displayName() {\n      return i18n_mimeClass__WEBPACK_IMPORTED_MODULE_0__[\"default\"].t('Archive');\n    },\n\n    mimeTypes: ['application/x-rar-compressed', 'application/x-zip-compressed', 'application/zip', 'application/x-zip', 'application/x-rar']\n  }\n};\nfunction mimeClass(contentType) {\n  return mimeClass.mimeClasses[contentType] || 'file';\n}\n\nmimeClass.displayName = function (contentType) {\n  const found = mimeClasses[mimeClass(contentType)];\n  return found && found.displayName || i18n_mimeClass__WEBPACK_IMPORTED_MODULE_0__[\"default\"].t('Unknown');\n};\n\nmimeClass.mimeClasses = {};\n\nfor (const cls in mimeClasses) {\n  const value = mimeClasses[cls];\n  value.mimeTypes.forEach(mimeType => mimeClass.mimeClasses[mimeType] = cls);\n}\n\n//# sourceURL=webpack:///./ui/shared/mime/mimeClass.js?");

/***/ })

}]);