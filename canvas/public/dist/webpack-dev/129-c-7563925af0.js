(window["canvasWebpackJsonp"] = window["canvasWebpackJsonp"] || []).push([[129],{

/***/ "65XS":
/*!***********************************************************!*\
  !*** ./ui/shared/rubrics/react/components/RubricPanel.js ***!
  \***********************************************************/
/*! exports provided: default */
/***/ (function(module, __webpack_exports__, __webpack_require__) {

"use strict";
eval("__webpack_require__.r(__webpack_exports__);\n/* harmony export (binding) */ __webpack_require__.d(__webpack_exports__, \"default\", function() { return RubricPanel; });\n/* harmony import */ var react__WEBPACK_IMPORTED_MODULE_0__ = __webpack_require__(/*! react */ \"q1tI\");\n/* harmony import */ var react__WEBPACK_IMPORTED_MODULE_0___default = /*#__PURE__*/__webpack_require__.n(react__WEBPACK_IMPORTED_MODULE_0__);\n/* harmony import */ var jquery__WEBPACK_IMPORTED_MODULE_1__ = __webpack_require__(/*! jquery */ \"ouhR\");\n/* harmony import */ var jquery__WEBPACK_IMPORTED_MODULE_1___default = /*#__PURE__*/__webpack_require__.n(jquery__WEBPACK_IMPORTED_MODULE_1__);\n/*\n * Copyright (C) 2018 - present Instructure, Inc.\n *\n * This file is part of Canvas.\n *\n * Canvas is free software: you can redistribute it and/or modify it under\n * the terms of the GNU Affero General Public License as published by the Free\n * Software Foundation, version 3 of the License.\n *\n * Canvas is distributed in the hope that it will be useful, but WITHOUT ANY\n * WARRANTY; without even the implied warranty of MERCHANTABILITY or FITNESS FOR\n * A PARTICULAR PURPOSE. See the GNU Affero General Public License for more\n * details.\n *\n * You should have received a copy of the GNU Affero General Public License along\n * with this program. If not, see <http://www.gnu.org/licenses/>.\n */\n\n\nclass RubricPanel extends react__WEBPACK_IMPORTED_MODULE_0___default.a.Component {\n  componentDidMount() {\n    jquery__WEBPACK_IMPORTED_MODULE_1___default()('#right-side-wrapper').show();\n    jquery__WEBPACK_IMPORTED_MODULE_1___default()('#rubrics').detach().appendTo('#new_rubrics');\n  }\n\n  componentWillUnmount() {\n    jquery__WEBPACK_IMPORTED_MODULE_1___default()('#right-side-wrapper').hide();\n    jquery__WEBPACK_IMPORTED_MODULE_1___default()('#rubrics').detach().appendTo('#rubric_attic');\n  }\n\n  render() {\n    return /*#__PURE__*/react__WEBPACK_IMPORTED_MODULE_0___default.a.createElement(\"div\", {\n      id: \"new_rubrics\"\n    });\n  }\n\n}\n\n//# sourceURL=webpack:///./ui/shared/rubrics/react/components/RubricPanel.js?");

/***/ }),

/***/ "6BiX":
/*!*********************************************************************************!*\
  !*** ./frontend_build/i18n.js?RubricManagement!./ui/shims/dummyI18nResource.js ***!
  \*********************************************************************************/
/*! exports provided: default */
/***/ (function(module, __webpack_exports__, __webpack_require__) {

"use strict";
eval("__webpack_require__.r(__webpack_exports__);\n/* harmony import */ var _canvas_i18n_i18nObj__WEBPACK_IMPORTED_MODULE_0__ = __webpack_require__(/*! @canvas/i18n/i18nObj */ \"HGxv\");\n/* harmony import */ var translations_core_en__WEBPACK_IMPORTED_MODULE_1__ = __webpack_require__(/*! translations/_core_en */ \"0sPK\");\n\n    \n    \n    \n\n    /* harmony default export */ __webpack_exports__[\"default\"] = (_canvas_i18n_i18nObj__WEBPACK_IMPORTED_MODULE_0__[\"default\"].scoped('RubricManagement'));\n  \n\n//# sourceURL=webpack:///./ui/shims/dummyI18nResource.js?./frontend_build/i18n.js?RubricManagement");

/***/ }),

/***/ "6KAQ":
/*!*****************************************************************!*\
  !*** ./ui/shared/rubrics/react/components/ProficiencyRating.js ***!
  \*****************************************************************/
/*! exports provided: default */
/***/ (function(module, __webpack_exports__, __webpack_require__) {

"use strict";
eval("__webpack_require__.r(__webpack_exports__);\n/* harmony export (binding) */ __webpack_require__.d(__webpack_exports__, \"default\", function() { return ProficiencyRating; });\n/* harmony import */ var react__WEBPACK_IMPORTED_MODULE_0__ = __webpack_require__(/*! react */ \"q1tI\");\n/* harmony import */ var react__WEBPACK_IMPORTED_MODULE_0___default = /*#__PURE__*/__webpack_require__.n(react__WEBPACK_IMPORTED_MODULE_0__);\n/* harmony import */ var prop_types__WEBPACK_IMPORTED_MODULE_1__ = __webpack_require__(/*! prop-types */ \"17x9\");\n/* harmony import */ var prop_types__WEBPACK_IMPORTED_MODULE_1___default = /*#__PURE__*/__webpack_require__.n(prop_types__WEBPACK_IMPORTED_MODULE_1__);\n/* harmony import */ var _instructure_ui_buttons__WEBPACK_IMPORTED_MODULE_2__ = __webpack_require__(/*! @instructure/ui-buttons */ \"K6WN\");\n/* harmony import */ var _instructure_ui_table__WEBPACK_IMPORTED_MODULE_3__ = __webpack_require__(/*! @instructure/ui-table */ \"+DUA\");\n/* harmony import */ var i18n_ProficiencyRating__WEBPACK_IMPORTED_MODULE_4__ = __webpack_require__(/*! i18n!ProficiencyRating */ \"8eFD\");\n/* harmony import */ var _instructure_ui_icons__WEBPACK_IMPORTED_MODULE_5__ = __webpack_require__(/*! @instructure/ui-icons */ \"oMAr\");\n/* harmony import */ var _instructure_ui_popover__WEBPACK_IMPORTED_MODULE_6__ = __webpack_require__(/*! @instructure/ui-popover */ \"Rmpe\");\n/* harmony import */ var _instructure_ui_radio_input__WEBPACK_IMPORTED_MODULE_7__ = __webpack_require__(/*! @instructure/ui-radio-input */ \"2n2h\");\n/* harmony import */ var _instructure_ui_text_input__WEBPACK_IMPORTED_MODULE_8__ = __webpack_require__(/*! @instructure/ui-text-input */ \"/09A\");\n/* harmony import */ var _instructure_ui_a11y_content__WEBPACK_IMPORTED_MODULE_9__ = __webpack_require__(/*! @instructure/ui-a11y-content */ \"9+/z\");\n/* harmony import */ var _canvas_color_picker__WEBPACK_IMPORTED_MODULE_10__ = __webpack_require__(/*! @canvas/color-picker */ \"X3ed\");\n/*\n * Copyright (C) 2018 - present Instructure, Inc.\n *\n * This file is part of Canvas.\n *\n * Canvas is free software: you can redistribute it and/or modify it under\n * the terms of the GNU Affero General Public License as published by the Free\n * Software Foundation, version 3 of the License.\n *\n * Canvas is distributed in the hope that it will be useful, but WITHOUT ANY\n * WARRANTY; without even the implied warranty of MERCHANTABILITY or FITNESS FOR\n * A PARTICULAR PURPOSE. See the GNU Affero General Public License for more\n * details.\n *\n * You should have received a copy of the GNU Affero General Public License along\n * with this program. If not, see <http://www.gnu.org/licenses/>.\n */\n\n/*\n  TODO: Duplicated and modified within jsx/outcomes/MasteryScale for use there\n        Remove when feature flag account_level_mastery_scales is enabled\n*/\n\n\n\n\n\n\n\n\n\n\n\n\nfunction formatColor(color) {\n  if (color[0] !== '#') {\n    return `#${color}`;\n  }\n\n  return color;\n}\n\nclass ProficiencyRating extends react__WEBPACK_IMPORTED_MODULE_0___default.a.Component {\n  constructor(props) {\n    super(props);\n\n    this.setDescriptionRef = element => {\n      this.descriptionInput = element;\n    };\n\n    this.setPointsRef = element => {\n      this.pointsInput = element;\n    };\n\n    this.setTrashRef = element => {\n      this.trashButton = element;\n    };\n\n    this.setColorRef = element => {\n      this.colorButton = element;\n    };\n\n    this.setColor = (unformattedColor, _successFn, _errorFn) => {\n      const color = formatColor(unformattedColor);\n      this.setState({\n        showColorPopover: false\n      });\n      this.props.onColorChange(color);\n    };\n\n    this.handleDescriptionChange = e => {\n      this.props.onDescriptionChange(e.target.value);\n    };\n\n    this.handleMasteryChange = _e => {\n      this.props.onMasteryChange();\n    };\n\n    this.handlePointChange = e => {\n      this.props.onPointsChange(e.target.value);\n    };\n\n    this.handleMenuToggle = show => {\n      this.setState({\n        showColorPopover: show\n      });\n    };\n\n    this.handleMenuClose = () => {\n      this.setState({\n        showColorPopover: false\n      });\n    };\n\n    this.handleDelete = () => {\n      this.props.onDelete();\n    };\n\n    this.errorMessage = error => error ? [{\n      text: error,\n      type: 'error'\n    }] : null;\n\n    this.state = {\n      showColorPopover: false\n    };\n    this.descriptionInput = null;\n    this.pointsInput = null;\n    this.trashButton = null;\n    this.colorButton = null;\n  }\n\n  componentDidMount() {\n    if (this.props.focusField === 'mastery') {\n      this.radioInput.focus();\n    }\n  }\n\n  componentDidUpdate() {\n    if (this.props.focusField === 'trash') {\n      setTimeout(() => this.props.disableDelete ? this.colorButton.focus() : this.trashButton.focus(), 700);\n    } else if (this.props.focusField === 'description') {\n      this.descriptionInput.focus();\n    } else if (this.props.focusField === 'points') {\n      this.pointsInput.focus();\n    }\n  }\n\n  render() {\n    const _this$props = this.props,\n          color = _this$props.color,\n          description = _this$props.description,\n          descriptionError = _this$props.descriptionError,\n          disableDelete = _this$props.disableDelete,\n          mastery = _this$props.mastery,\n          points = _this$props.points,\n          pointsError = _this$props.pointsError;\n    return /*#__PURE__*/react__WEBPACK_IMPORTED_MODULE_0___default.a.createElement(_instructure_ui_table__WEBPACK_IMPORTED_MODULE_3__[\"Table\"].Row, null, /*#__PURE__*/react__WEBPACK_IMPORTED_MODULE_0___default.a.createElement(_instructure_ui_table__WEBPACK_IMPORTED_MODULE_3__[\"Table\"].Cell, {\n      textAlign: \"center\"\n    }, /*#__PURE__*/react__WEBPACK_IMPORTED_MODULE_0___default.a.createElement(\"div\", {\n      style: {\n        display: 'inline-block'\n      }\n    }, /*#__PURE__*/react__WEBPACK_IMPORTED_MODULE_0___default.a.createElement(_instructure_ui_radio_input__WEBPACK_IMPORTED_MODULE_7__[\"RadioInput\"], {\n      ref: input => {\n        this.radioInput = input;\n      },\n      label: /*#__PURE__*/react__WEBPACK_IMPORTED_MODULE_0___default.a.createElement(_instructure_ui_a11y_content__WEBPACK_IMPORTED_MODULE_9__[\"ScreenReaderContent\"], null, i18n_ProficiencyRating__WEBPACK_IMPORTED_MODULE_4__[\"default\"].t('Change mastery')),\n      checked: mastery,\n      onChange: this.handleMasteryChange\n    }))), /*#__PURE__*/react__WEBPACK_IMPORTED_MODULE_0___default.a.createElement(_instructure_ui_table__WEBPACK_IMPORTED_MODULE_3__[\"Table\"].Cell, null, /*#__PURE__*/react__WEBPACK_IMPORTED_MODULE_0___default.a.createElement(_instructure_ui_text_input__WEBPACK_IMPORTED_MODULE_8__[\"TextInput\"], {\n      ref: this.setDescriptionRef,\n      renderLabel: /*#__PURE__*/react__WEBPACK_IMPORTED_MODULE_0___default.a.createElement(_instructure_ui_a11y_content__WEBPACK_IMPORTED_MODULE_9__[\"ScreenReaderContent\"], null, i18n_ProficiencyRating__WEBPACK_IMPORTED_MODULE_4__[\"default\"].t('Change description')),\n      messages: this.errorMessage(descriptionError),\n      onChange: this.handleDescriptionChange,\n      defaultValue: description\n    })), /*#__PURE__*/react__WEBPACK_IMPORTED_MODULE_0___default.a.createElement(_instructure_ui_table__WEBPACK_IMPORTED_MODULE_3__[\"Table\"].Cell, null, /*#__PURE__*/react__WEBPACK_IMPORTED_MODULE_0___default.a.createElement(_instructure_ui_text_input__WEBPACK_IMPORTED_MODULE_8__[\"TextInput\"], {\n      ref: this.setPointsRef,\n      renderLabel: /*#__PURE__*/react__WEBPACK_IMPORTED_MODULE_0___default.a.createElement(_instructure_ui_a11y_content__WEBPACK_IMPORTED_MODULE_9__[\"ScreenReaderContent\"], null, i18n_ProficiencyRating__WEBPACK_IMPORTED_MODULE_4__[\"default\"].t('Change points')),\n      messages: this.errorMessage(pointsError),\n      onChange: this.handlePointChange,\n      defaultValue: i18n_ProficiencyRating__WEBPACK_IMPORTED_MODULE_4__[\"default\"].n(points),\n      width: \"4rem\"\n    })), /*#__PURE__*/react__WEBPACK_IMPORTED_MODULE_0___default.a.createElement(_instructure_ui_table__WEBPACK_IMPORTED_MODULE_3__[\"Table\"].Cell, null, /*#__PURE__*/react__WEBPACK_IMPORTED_MODULE_0___default.a.createElement(\"span\", {\n      style: {\n        whiteSpace: 'nowrap'\n      }\n    }, /*#__PURE__*/react__WEBPACK_IMPORTED_MODULE_0___default.a.createElement(_instructure_ui_popover__WEBPACK_IMPORTED_MODULE_6__[\"Popover\"], {\n      on: \"click\",\n      show: this.state.showColorPopover,\n      onToggle: this.handleMenuToggle\n    }, /*#__PURE__*/react__WEBPACK_IMPORTED_MODULE_0___default.a.createElement(_instructure_ui_popover__WEBPACK_IMPORTED_MODULE_6__[\"Popover\"].Trigger, null, /*#__PURE__*/react__WEBPACK_IMPORTED_MODULE_0___default.a.createElement(_instructure_ui_buttons__WEBPACK_IMPORTED_MODULE_2__[\"Button\"], {\n      ref: this.setColorRef,\n      variant: \"link\"\n    }, /*#__PURE__*/react__WEBPACK_IMPORTED_MODULE_0___default.a.createElement(\"div\", null, /*#__PURE__*/react__WEBPACK_IMPORTED_MODULE_0___default.a.createElement(\"span\", {\n      className: \"colorPickerIcon\",\n      style: {\n        background: formatColor(color)\n      }\n    }), i18n_ProficiencyRating__WEBPACK_IMPORTED_MODULE_4__[\"default\"].t('Change')))), /*#__PURE__*/react__WEBPACK_IMPORTED_MODULE_0___default.a.createElement(_instructure_ui_popover__WEBPACK_IMPORTED_MODULE_6__[\"Popover\"].Content, null, /*#__PURE__*/react__WEBPACK_IMPORTED_MODULE_0___default.a.createElement(_canvas_color_picker__WEBPACK_IMPORTED_MODULE_10__[\"default\"], {\n      parentComponent: \"ProficiencyRating\",\n      colors: _canvas_color_picker__WEBPACK_IMPORTED_MODULE_10__[\"PREDEFINED_COLORS\"],\n      currentColor: formatColor(color),\n      isOpen: true,\n      hidePrompt: true,\n      nonModal: true,\n      hideOnScroll: false,\n      withAnimation: false,\n      withBorder: false,\n      withBoxShadow: false,\n      withArrow: false,\n      focusOnMount: false,\n      afterClose: this.handleMenuClose,\n      setStatusColor: this.setColor\n    }))), /*#__PURE__*/react__WEBPACK_IMPORTED_MODULE_0___default.a.createElement(\"div\", {\n      className: \"delete\"\n    }, /*#__PURE__*/react__WEBPACK_IMPORTED_MODULE_0___default.a.createElement(_instructure_ui_buttons__WEBPACK_IMPORTED_MODULE_2__[\"Button\"], {\n      disabled: disableDelete,\n      buttonRef: this.setTrashRef,\n      onClick: this.handleDelete,\n      variant: \"icon\",\n      icon: /*#__PURE__*/react__WEBPACK_IMPORTED_MODULE_0___default.a.createElement(_instructure_ui_icons__WEBPACK_IMPORTED_MODULE_5__[\"IconTrashLine\"], null)\n    }, /*#__PURE__*/react__WEBPACK_IMPORTED_MODULE_0___default.a.createElement(_instructure_ui_a11y_content__WEBPACK_IMPORTED_MODULE_9__[\"ScreenReaderContent\"], null, i18n_ProficiencyRating__WEBPACK_IMPORTED_MODULE_4__[\"default\"].t('Delete proficiency rating')))))));\n  }\n\n}\nProficiencyRating.propTypes = {\n  color: prop_types__WEBPACK_IMPORTED_MODULE_1___default.a.string.isRequired,\n  description: prop_types__WEBPACK_IMPORTED_MODULE_1___default.a.string.isRequired,\n  descriptionError: prop_types__WEBPACK_IMPORTED_MODULE_1___default.a.string,\n  disableDelete: prop_types__WEBPACK_IMPORTED_MODULE_1___default.a.bool.isRequired,\n  focusField: prop_types__WEBPACK_IMPORTED_MODULE_1___default.a.oneOf(['description', 'points', 'mastery', 'trash']),\n  mastery: prop_types__WEBPACK_IMPORTED_MODULE_1___default.a.bool.isRequired,\n  onColorChange: prop_types__WEBPACK_IMPORTED_MODULE_1___default.a.func.isRequired,\n  onDelete: prop_types__WEBPACK_IMPORTED_MODULE_1___default.a.func.isRequired,\n  onDescriptionChange: prop_types__WEBPACK_IMPORTED_MODULE_1___default.a.func.isRequired,\n  onMasteryChange: prop_types__WEBPACK_IMPORTED_MODULE_1___default.a.func.isRequired,\n  onPointsChange: prop_types__WEBPACK_IMPORTED_MODULE_1___default.a.func.isRequired,\n  points: prop_types__WEBPACK_IMPORTED_MODULE_1___default.a.string.isRequired,\n  pointsError: prop_types__WEBPACK_IMPORTED_MODULE_1___default.a.string\n};\nProficiencyRating.defaultProps = {\n  descriptionError: null,\n  focusField: null,\n  pointsError: null\n};\nProficiencyRating.displayName = 'Row';\n\n//# sourceURL=webpack:///./ui/shared/rubrics/react/components/ProficiencyRating.js?");

/***/ }),

/***/ "8F5N":
/*!****************************************!*\
  !*** ./ui/shared/rubrics/react/api.js ***!
  \****************************************/
/*! exports provided: fetchProficiency, saveProficiency */
/***/ (function(module, __webpack_exports__, __webpack_require__) {

"use strict";
eval("__webpack_require__.r(__webpack_exports__);\n/* harmony export (binding) */ __webpack_require__.d(__webpack_exports__, \"fetchProficiency\", function() { return fetchProficiency; });\n/* harmony export (binding) */ __webpack_require__.d(__webpack_exports__, \"saveProficiency\", function() { return saveProficiency; });\n/* harmony import */ var _canvas_axios__WEBPACK_IMPORTED_MODULE_0__ = __webpack_require__(/*! @canvas/axios */ \"BrAc\");\n/*\n * Copyright (C) 2018 - present Instructure, Inc.\n *\n * This file is part of Canvas.\n *\n * Canvas is free software: you can redistribute it and/or modify it under\n * the terms of the GNU Affero General Public License as published by the Free\n * Software Foundation, version 3 of the License.\n *\n * Canvas is distributed in the hope that it will be useful, but WITHOUT ANY\n * WARRANTY; without even the implied warranty of MERCHANTABILITY or FITNESS FOR\n * A PARTICULAR PURPOSE. See the GNU Affero General Public License for more\n * details.\n *\n * You should have received a copy of the GNU Affero General Public License along\n * with this program. If not, see <http://www.gnu.org/licenses/>.\n */\n\n/*\n  TODO: Duplicated and modified within jsx/outcomes/MasteryScale for use there\n        Remove when feature flag account_level_mastery_scales is enabled\n*/\n\nconst fetchProficiency = accountId => _canvas_axios__WEBPACK_IMPORTED_MODULE_0__[\"default\"].get(`/api/v1/accounts/${accountId}/outcome_proficiency`);\nconst saveProficiency = (accountId, config) => _canvas_axios__WEBPACK_IMPORTED_MODULE_0__[\"default\"].post(`/api/v1/accounts/${accountId}/outcome_proficiency`, config);\n\n//# sourceURL=webpack:///./ui/shared/rubrics/react/api.js?");

/***/ }),

/***/ "8eFD":
/*!**********************************************************************************!*\
  !*** ./frontend_build/i18n.js?ProficiencyRating!./ui/shims/dummyI18nResource.js ***!
  \**********************************************************************************/
/*! exports provided: default */
/***/ (function(module, __webpack_exports__, __webpack_require__) {

"use strict";
eval("__webpack_require__.r(__webpack_exports__);\n/* harmony import */ var _canvas_i18n_i18nObj__WEBPACK_IMPORTED_MODULE_0__ = __webpack_require__(/*! @canvas/i18n/i18nObj */ \"HGxv\");\n/* harmony import */ var translations_core_en__WEBPACK_IMPORTED_MODULE_1__ = __webpack_require__(/*! translations/_core_en */ \"0sPK\");\n\n    \n    \n    \n\n    /* harmony default export */ __webpack_exports__[\"default\"] = (_canvas_i18n_i18nObj__WEBPACK_IMPORTED_MODULE_0__[\"default\"].scoped('ProficiencyRating'));\n  \n\n//# sourceURL=webpack:///./ui/shims/dummyI18nResource.js?./frontend_build/i18n.js?ProficiencyRating");

/***/ }),

/***/ "8yL5":
/*!****************************************************************!*\
  !*** ./ui/shared/rubrics/react/components/RubricManagement.js ***!
  \****************************************************************/
/*! exports provided: default */
/***/ (function(module, __webpack_exports__, __webpack_require__) {

"use strict";
eval("__webpack_require__.r(__webpack_exports__);\n/* harmony import */ var _babel_runtime_helpers_esm_slicedToArray__WEBPACK_IMPORTED_MODULE_0__ = __webpack_require__(/*! @babel/runtime/helpers/esm/slicedToArray */ \"ODXe\");\n/* harmony import */ var react__WEBPACK_IMPORTED_MODULE_1__ = __webpack_require__(/*! react */ \"q1tI\");\n/* harmony import */ var react__WEBPACK_IMPORTED_MODULE_1___default = /*#__PURE__*/__webpack_require__.n(react__WEBPACK_IMPORTED_MODULE_1__);\n/* harmony import */ var prop_types__WEBPACK_IMPORTED_MODULE_2__ = __webpack_require__(/*! prop-types */ \"17x9\");\n/* harmony import */ var prop_types__WEBPACK_IMPORTED_MODULE_2___default = /*#__PURE__*/__webpack_require__.n(prop_types__WEBPACK_IMPORTED_MODULE_2__);\n/* harmony import */ var i18n_RubricManagement__WEBPACK_IMPORTED_MODULE_3__ = __webpack_require__(/*! i18n!RubricManagement */ \"6BiX\");\n/* harmony import */ var _instructure_ui_tabs__WEBPACK_IMPORTED_MODULE_4__ = __webpack_require__(/*! @instructure/ui-tabs */ \"pjPr\");\n/* harmony import */ var _ProficiencyTable__WEBPACK_IMPORTED_MODULE_5__ = __webpack_require__(/*! ./ProficiencyTable */ \"9SMd\");\n/* harmony import */ var _RubricPanel__WEBPACK_IMPORTED_MODULE_6__ = __webpack_require__(/*! ./RubricPanel */ \"65XS\");\n\n\n/*\n * Copyright (C) 2018 - present Instructure, Inc.\n *\n * This file is part of Canvas.\n *\n * Canvas is free software: you can redistribute it and/or modify it under\n * the terms of the GNU Affero General Public License as published by the Free\n * Software Foundation, version 3 of the License.\n *\n * Canvas is distributed in the hope that it will be useful, but WITHOUT ANY\n * WARRANTY; without even the implied warranty of MERCHANTABILITY or FITNESS FOR\n * A PARTICULAR PURPOSE. See the GNU Affero General Public License for more\n * details.\n *\n * You should have received a copy of the GNU Affero General Public License along\n * with this program. If not, see <http://www.gnu.org/licenses/>.\n */\n\n/* TODO: Remove when feature flag account_level_mastery_scales is enabled */\n\n\n\n\n\n\n\nfunction RubricManagement(props) {\n  const _useState = Object(react__WEBPACK_IMPORTED_MODULE_1__[\"useState\"])('tab-panel-rubrics'),\n        _useState2 = Object(_babel_runtime_helpers_esm_slicedToArray__WEBPACK_IMPORTED_MODULE_0__[\"default\"])(_useState, 2),\n        tab = _useState2[0],\n        setTab = _useState2[1];\n\n  const masteryTab = Object(react__WEBPACK_IMPORTED_MODULE_1__[\"useRef\"])(null);\n\n  function changeTab(_ev, {\n    id\n  }) {\n    setTab(id);\n  }\n\n  function focusMasteryTab() {\n    if (masteryTab.current) masteryTab.current.focus();\n  }\n\n  return /*#__PURE__*/react__WEBPACK_IMPORTED_MODULE_1___default.a.createElement(_instructure_ui_tabs__WEBPACK_IMPORTED_MODULE_4__[\"Tabs\"], {\n    onRequestTabChange: changeTab\n  }, /*#__PURE__*/react__WEBPACK_IMPORTED_MODULE_1___default.a.createElement(_instructure_ui_tabs__WEBPACK_IMPORTED_MODULE_4__[\"Tabs\"].Panel, {\n    renderTitle: i18n_RubricManagement__WEBPACK_IMPORTED_MODULE_3__[\"default\"].t('Account Rubrics'),\n    id: \"tab-panel-rubrics\",\n    isSelected: tab === 'tab-panel-rubrics'\n  }, /*#__PURE__*/react__WEBPACK_IMPORTED_MODULE_1___default.a.createElement(_RubricPanel__WEBPACK_IMPORTED_MODULE_6__[\"default\"], null)), /*#__PURE__*/react__WEBPACK_IMPORTED_MODULE_1___default.a.createElement(_instructure_ui_tabs__WEBPACK_IMPORTED_MODULE_4__[\"Tabs\"].Panel, {\n    renderTitle: i18n_RubricManagement__WEBPACK_IMPORTED_MODULE_3__[\"default\"].t('Learning Mastery'),\n    id: \"tab-panel-mastery\",\n    isSelected: tab === 'tab-panel-mastery',\n    elementRef: ref => {\n      masteryTab.current = ref;\n    }\n  }, /*#__PURE__*/react__WEBPACK_IMPORTED_MODULE_1___default.a.createElement(_ProficiencyTable__WEBPACK_IMPORTED_MODULE_5__[\"default\"], {\n    focusTab: focusMasteryTab,\n    accountId: props.accountId\n  })));\n}\n\nRubricManagement.propTypes = {\n  accountId: prop_types__WEBPACK_IMPORTED_MODULE_2__[\"string\"].isRequired\n};\n/* harmony default export */ __webpack_exports__[\"default\"] = (RubricManagement);\n\n//# sourceURL=webpack:///./ui/shared/rubrics/react/components/RubricManagement.js?");

/***/ }),

/***/ "9SMd":
/*!****************************************************************!*\
  !*** ./ui/shared/rubrics/react/components/ProficiencyTable.js ***!
  \****************************************************************/
/*! exports provided: default */
/***/ (function(module, __webpack_exports__, __webpack_require__) {

"use strict";
eval("__webpack_require__.r(__webpack_exports__);\n/* harmony export (binding) */ __webpack_require__.d(__webpack_exports__, \"default\", function() { return ProficiencyTable; });\n/* harmony import */ var jquery__WEBPACK_IMPORTED_MODULE_0__ = __webpack_require__(/*! jquery */ \"ouhR\");\n/* harmony import */ var jquery__WEBPACK_IMPORTED_MODULE_0___default = /*#__PURE__*/__webpack_require__.n(jquery__WEBPACK_IMPORTED_MODULE_0__);\n/* harmony import */ var react__WEBPACK_IMPORTED_MODULE_1__ = __webpack_require__(/*! react */ \"q1tI\");\n/* harmony import */ var react__WEBPACK_IMPORTED_MODULE_1___default = /*#__PURE__*/__webpack_require__.n(react__WEBPACK_IMPORTED_MODULE_1__);\n/* harmony import */ var prop_types__WEBPACK_IMPORTED_MODULE_2__ = __webpack_require__(/*! prop-types */ \"17x9\");\n/* harmony import */ var prop_types__WEBPACK_IMPORTED_MODULE_2___default = /*#__PURE__*/__webpack_require__.n(prop_types__WEBPACK_IMPORTED_MODULE_2__);\n/* harmony import */ var _instructure_ui_billboard__WEBPACK_IMPORTED_MODULE_3__ = __webpack_require__(/*! @instructure/ui-billboard */ \"CEBC\");\n/* harmony import */ var _instructure_ui_buttons__WEBPACK_IMPORTED_MODULE_4__ = __webpack_require__(/*! @instructure/ui-buttons */ \"K6WN\");\n/* harmony import */ var _instructure_ui_icons__WEBPACK_IMPORTED_MODULE_5__ = __webpack_require__(/*! @instructure/ui-icons */ \"oMAr\");\n/* harmony import */ var i18n_ProficiencyTable__WEBPACK_IMPORTED_MODULE_6__ = __webpack_require__(/*! i18n!ProficiencyTable */ \"szzU\");\n/* harmony import */ var _instructure_ui_a11y_content__WEBPACK_IMPORTED_MODULE_7__ = __webpack_require__(/*! @instructure/ui-a11y-content */ \"9+/z\");\n/* harmony import */ var _instructure_ui_table__WEBPACK_IMPORTED_MODULE_8__ = __webpack_require__(/*! @instructure/ui-table */ \"+DUA\");\n/* harmony import */ var _instructure_ui_spinner__WEBPACK_IMPORTED_MODULE_9__ = __webpack_require__(/*! @instructure/ui-spinner */ \"cPO5\");\n/* harmony import */ var _ProficiencyRating__WEBPACK_IMPORTED_MODULE_10__ = __webpack_require__(/*! ./ProficiencyRating */ \"6KAQ\");\n/* harmony import */ var uuid_v1__WEBPACK_IMPORTED_MODULE_11__ = __webpack_require__(/*! uuid/v1 */ \"xDdU\");\n/* harmony import */ var uuid_v1__WEBPACK_IMPORTED_MODULE_11___default = /*#__PURE__*/__webpack_require__.n(uuid_v1__WEBPACK_IMPORTED_MODULE_11__);\n/* harmony import */ var underscore__WEBPACK_IMPORTED_MODULE_12__ = __webpack_require__(/*! underscore */ \"Y/W1\");\n/* harmony import */ var underscore__WEBPACK_IMPORTED_MODULE_12___default = /*#__PURE__*/__webpack_require__.n(underscore__WEBPACK_IMPORTED_MODULE_12__);\n/* harmony import */ var immutable__WEBPACK_IMPORTED_MODULE_13__ = __webpack_require__(/*! immutable */ \"JPcv\");\n/* harmony import */ var immutable__WEBPACK_IMPORTED_MODULE_13___default = /*#__PURE__*/__webpack_require__.n(immutable__WEBPACK_IMPORTED_MODULE_13__);\n/* harmony import */ var _api__WEBPACK_IMPORTED_MODULE_14__ = __webpack_require__(/*! ../api */ \"8F5N\");\n/* harmony import */ var _canvas_i18n_numberHelper__WEBPACK_IMPORTED_MODULE_15__ = __webpack_require__(/*! @canvas/i18n/numberHelper */ \"FdVj\");\n/* harmony import */ var _canvas_svg_wrapper__WEBPACK_IMPORTED_MODULE_16__ = __webpack_require__(/*! @canvas/svg-wrapper */ \"kjuU\");\n/*\n * Copyright (C) 2018 - present Instructure, Inc.\n *\n * This file is part of Canvas.\n *\n * Canvas is free software: you can redistribute it and/or modify it under\n * the terms of the GNU Affero General Public License as published by the Free\n * Software Foundation, version 3 of the License.\n *\n * Canvas is distributed in the hope that it will be useful, but WITHOUT ANY\n * WARRANTY; without even the implied warranty of MERCHANTABILITY or FITNESS FOR\n * A PARTICULAR PURPOSE. See the GNU Affero General Public License for more\n * details.\n *\n * You should have received a copy of the GNU Affero General Public License along\n * with this program. If not, see <http://www.gnu.org/licenses/>.\n */\n\n/*\n  TODO: Duplicated and modified within jsx/outcomes/MasteryScale for use there\n        Remove when feature flag account_level_mastery_scales is enabled\n*/\n\n\n\n\n\n\n\n\n\n\n\n\n\n\n\n\n\nconst ADD_DEFAULT_COLOR = 'EF4437';\n\nfunction unformatColor(color) {\n  if (color[0] === '#') {\n    return color.substring(1);\n  }\n\n  return color;\n}\n\nclass ProficiencyTable extends react__WEBPACK_IMPORTED_MODULE_1___default.a.Component {\n  constructor(props) {\n    super(props);\n\n    this.fetchRatings = () => {\n      Object(_api__WEBPACK_IMPORTED_MODULE_14__[\"fetchProficiency\"])(this.props.accountId).then(response => {\n        if (response.status === 200) {\n          this.configToState(response.data);\n        } else {\n          jquery__WEBPACK_IMPORTED_MODULE_0___default.a.flashError(i18n_ProficiencyTable__WEBPACK_IMPORTED_MODULE_6__[\"default\"].t('An error occurred while loading account proficiency ratings'));\n          this.setState({\n            loading: false\n          });\n        }\n      }).catch(e => {\n        // 404 status means no custom ratings, so use defaults without an alert\n        if (e.response && e.response.status !== 404) {\n          jquery__WEBPACK_IMPORTED_MODULE_0___default.a.flashError(i18n_ProficiencyTable__WEBPACK_IMPORTED_MODULE_6__[\"default\"].t('An error occurred while loading account proficiency ratings: %{m}', {\n            m: e.response.statusText\n          }));\n        }\n\n        this.setState({\n          billboard: true,\n          loading: false\n        });\n      });\n    };\n\n    this.configToState = data => {\n      const rows = Object(immutable__WEBPACK_IMPORTED_MODULE_13__[\"List\"])(data.ratings.map(rating => this.createRating(rating.description, rating.points, rating.color)));\n      const masteryIndex = data.ratings.findIndex(rating => rating.mastery);\n      this.setState({\n        loading: false,\n        masteryIndex,\n        rows: Object(immutable__WEBPACK_IMPORTED_MODULE_13__[\"fromJS\"])(rows)\n      });\n    };\n\n    this.fieldWithFocus = () => this.state.rows.some(row => row.get('focusField'));\n\n    this.createRating = (description, points, color, focusField = null) => Object(immutable__WEBPACK_IMPORTED_MODULE_13__[\"fromJS\"])({\n      description,\n      points,\n      key: uuid_v1__WEBPACK_IMPORTED_MODULE_11___default()(),\n      color,\n      focusField\n    });\n\n    this.addRow = () => {\n      let points = 0.0;\n      const last = this.state.rows.last();\n\n      if (last) {\n        points = last.get('points') - 1.0;\n      }\n\n      if (points < 0.0 || Number.isNaN(points)) {\n        points = 0.0;\n      }\n\n      const newRow = this.createRating('', points, ADD_DEFAULT_COLOR, 'mastery');\n      this.setState(oldState => {\n        const rows = oldState.rows.push(newRow);\n        return {\n          rows\n        };\n      });\n      jquery__WEBPACK_IMPORTED_MODULE_0___default.a.screenReaderFlashMessage(i18n_ProficiencyTable__WEBPACK_IMPORTED_MODULE_6__[\"default\"].t('Added new proficiency rating'));\n    };\n\n    this.handleMasteryChange = underscore__WEBPACK_IMPORTED_MODULE_12___default.a.memoize(index => () => {\n      this.setState({\n        masteryIndex: index\n      });\n    });\n    this.handleDescriptionChange = underscore__WEBPACK_IMPORTED_MODULE_12___default.a.memoize(index => value => {\n      this.setState(oldState => {\n        let rows = oldState.rows;\n\n        if (!this.invalidDescription(value)) {\n          rows = rows.removeIn([index, 'descriptionError']);\n        }\n\n        rows = rows.setIn([index, 'description'], value);\n        return {\n          rows\n        };\n      });\n    });\n    this.handlePointsChange = underscore__WEBPACK_IMPORTED_MODULE_12___default.a.memoize(index => value => {\n      const parsed = _canvas_i18n_numberHelper__WEBPACK_IMPORTED_MODULE_15__[\"default\"].parse(value);\n      this.setState(oldState => {\n        let rows = oldState.rows;\n\n        if (!this.invalidPoints(parsed) && parsed >= 0) {\n          rows = rows.removeIn([index, 'pointsError']);\n        }\n\n        rows = rows.setIn([index, 'points'], parsed);\n        return {\n          rows\n        };\n      });\n    });\n    this.handleColorChange = underscore__WEBPACK_IMPORTED_MODULE_12___default.a.memoize(index => value => {\n      this.setState(oldState => {\n        const rows = oldState.rows.update(index, row => row.set('color', unformatColor(value)));\n        return {\n          rows\n        };\n      });\n    });\n    this.handleDelete = underscore__WEBPACK_IMPORTED_MODULE_12___default.a.memoize(index => () => {\n      const masteryIndex = this.state.masteryIndex;\n      const rows = this.state.rows.delete(index);\n\n      if (masteryIndex >= index && masteryIndex > 0) {\n        this.setState({\n          masteryIndex: masteryIndex - 1\n        });\n      }\n\n      if (index === 0) {\n        this.setState({\n          rows\n        });\n\n        if (this.props.focusTab) {\n          setTimeout(this.props.focusTab, 700);\n        }\n      } else {\n        this.setState({\n          rows: rows.setIn([index - 1, 'focusField'], 'trash')\n        });\n      }\n\n      jquery__WEBPACK_IMPORTED_MODULE_0___default.a.screenReaderFlashMessage(i18n_ProficiencyTable__WEBPACK_IMPORTED_MODULE_6__[\"default\"].t('Proficiency Rating deleted'));\n    });\n\n    this.isStateValid = () => !this.state.rows.some(row => this.invalidPoints(row.get('points')) || row.get('points') < 0 || this.invalidDescription(row.get('description')));\n\n    this.stateToConfig = () => ({\n      ratings: this.state.rows.map((row, idx) => ({\n        description: row.get('description'),\n        points: row.get('points'),\n        mastery: idx === this.state.masteryIndex,\n        color: row.get('color')\n      })).toJS()\n    });\n\n    this.handleSubmit = () => {\n      if (!this.checkForErrors()) {\n        // eslint-disable-next-line promise/catch-or-return\n        Object(_api__WEBPACK_IMPORTED_MODULE_14__[\"saveProficiency\"])(this.props.accountId, this.stateToConfig()).then(response => {\n          if (response.status === 200) {\n            jquery__WEBPACK_IMPORTED_MODULE_0___default.a.flashMessage(i18n_ProficiencyTable__WEBPACK_IMPORTED_MODULE_6__[\"default\"].t('Account proficiency ratings saved'));\n          } else {\n            jquery__WEBPACK_IMPORTED_MODULE_0___default.a.flashError(i18n_ProficiencyTable__WEBPACK_IMPORTED_MODULE_6__[\"default\"].t('An error occurred while saving account proficiency ratings'));\n          }\n        });\n      }\n    };\n\n    this.checkForErrors = () => {\n      let previousPoints = null;\n      let firstError = true;\n      const rows = this.state.rows.map(row => {\n        let r = row;\n\n        if (this.invalidDescription(row.get('description'))) {\n          r = r.set('descriptionError', i18n_ProficiencyTable__WEBPACK_IMPORTED_MODULE_6__[\"default\"].t('Missing required description'));\n\n          if (firstError) {\n            r = r.set('focusField', 'description');\n            firstError = false;\n          }\n        }\n\n        if (this.invalidPoints(row.get('points'))) {\n          previousPoints = null;\n          r = r.set('pointsError', i18n_ProficiencyTable__WEBPACK_IMPORTED_MODULE_6__[\"default\"].t('Invalid points'));\n\n          if (firstError) {\n            r = r.set('focusField', 'points');\n            firstError = false;\n          }\n        } else if (row.get('points') < 0) {\n          r = r.set('pointsError', i18n_ProficiencyTable__WEBPACK_IMPORTED_MODULE_6__[\"default\"].t('Negative points'));\n\n          if (firstError) {\n            r = r.set('focusField', 'points');\n            firstError = false;\n          }\n        } else {\n          const currentPoints = row.get('points');\n\n          if (previousPoints !== null && previousPoints <= currentPoints) {\n            r = r.set('pointsError', i18n_ProficiencyTable__WEBPACK_IMPORTED_MODULE_6__[\"default\"].t('Points must be less than previous rating'));\n\n            if (firstError) {\n              r = r.set('focusField', 'points');\n              firstError = false;\n            }\n          }\n\n          previousPoints = currentPoints;\n        }\n\n        return r;\n      });\n\n      if (!firstError) {\n        this.setState({\n          rows\n        });\n      }\n\n      return !firstError;\n    };\n\n    this.invalidPoints = points => Number.isNaN(points);\n\n    this.invalidDescription = description => !description || description.trim().length === 0;\n\n    this.removeBillboard = () => {\n      this.setState({\n        billboard: false\n      });\n    };\n\n    this.state = {\n      loading: true,\n      masteryIndex: 1,\n      rows: Object(immutable__WEBPACK_IMPORTED_MODULE_13__[\"List\"])([this.createRating('Exceeds Mastery', 4, '127A1B'), this.createRating('Mastery', 3, '00AC18'), this.createRating('Near Mastery', 2, 'FAB901'), this.createRating('Below Mastery', 1, 'FD5D10'), this.createRating('Well Below Mastery', 0, 'EE0612')])\n    };\n  }\n\n  componentDidMount() {\n    this.fetchRatings();\n  }\n\n  componentDidUpdate() {\n    if (this.fieldWithFocus()) {\n      // eslint-disable-next-line react/no-did-update-set-state\n      this.setState(oldState => {\n        const rows = oldState.rows.map(row => row.delete('focusField'));\n        return {\n          rows\n        };\n      });\n    }\n  }\n\n  renderSpinner() {\n    return /*#__PURE__*/react__WEBPACK_IMPORTED_MODULE_1___default.a.createElement(\"div\", {\n      style: {\n        textAlign: 'center'\n      }\n    }, /*#__PURE__*/react__WEBPACK_IMPORTED_MODULE_1___default.a.createElement(_instructure_ui_spinner__WEBPACK_IMPORTED_MODULE_9__[\"Spinner\"], {\n      renderTitle: i18n_ProficiencyTable__WEBPACK_IMPORTED_MODULE_6__[\"default\"].t('Loading'),\n      size: \"large\",\n      margin: \"0 0 0 medium\"\n    }));\n  }\n\n  renderBillboard() {\n    const styles = {\n      width: '10rem',\n      margin: '0 auto'\n    };\n    const divStyle = {\n      textAlign: 'center'\n    };\n    return /*#__PURE__*/react__WEBPACK_IMPORTED_MODULE_1___default.a.createElement(\"div\", {\n      style: divStyle\n    }, /*#__PURE__*/react__WEBPACK_IMPORTED_MODULE_1___default.a.createElement(_instructure_ui_billboard__WEBPACK_IMPORTED_MODULE_3__[\"Billboard\"], {\n      headingAs: \"h2\",\n      headingLevel: \"h2\",\n      ref: d => {\n        this.triggerRoot = d;\n      },\n      hero: /*#__PURE__*/react__WEBPACK_IMPORTED_MODULE_1___default.a.createElement(\"div\", {\n        style: styles\n      }, /*#__PURE__*/react__WEBPACK_IMPORTED_MODULE_1___default.a.createElement(_instructure_ui_a11y_content__WEBPACK_IMPORTED_MODULE_7__[\"PresentationContent\"], null, /*#__PURE__*/react__WEBPACK_IMPORTED_MODULE_1___default.a.createElement(_canvas_svg_wrapper__WEBPACK_IMPORTED_MODULE_16__[\"default\"], {\n        url: \"/images/trophy.svg\"\n      }))),\n      heading: i18n_ProficiencyTable__WEBPACK_IMPORTED_MODULE_6__[\"default\"].t('Customize Learning Mastery Ratings'),\n      message: i18n_ProficiencyTable__WEBPACK_IMPORTED_MODULE_6__[\"default\"].t(`\n            Set up how your Proficiency Ratings appear inside of Learning Mastery Gradebook.\n            Adjust number of ratings, mastery level, points, and colors.\n          `).trim()\n    }), /*#__PURE__*/react__WEBPACK_IMPORTED_MODULE_1___default.a.createElement(_instructure_ui_buttons__WEBPACK_IMPORTED_MODULE_4__[\"Button\"], {\n      variant: \"primary\",\n      onClick: this.removeBillboard\n    }, i18n_ProficiencyTable__WEBPACK_IMPORTED_MODULE_6__[\"default\"].t('Get Started')));\n  }\n\n  renderTable() {\n    const masteryIndex = this.state.masteryIndex;\n    return /*#__PURE__*/react__WEBPACK_IMPORTED_MODULE_1___default.a.createElement(\"div\", null, /*#__PURE__*/react__WEBPACK_IMPORTED_MODULE_1___default.a.createElement(_instructure_ui_table__WEBPACK_IMPORTED_MODULE_8__[\"Table\"], {\n      caption: i18n_ProficiencyTable__WEBPACK_IMPORTED_MODULE_6__[\"default\"].t('Proficiency ratings')\n    }, /*#__PURE__*/react__WEBPACK_IMPORTED_MODULE_1___default.a.createElement(_instructure_ui_table__WEBPACK_IMPORTED_MODULE_8__[\"Table\"].Head, null, /*#__PURE__*/react__WEBPACK_IMPORTED_MODULE_1___default.a.createElement(_instructure_ui_table__WEBPACK_IMPORTED_MODULE_8__[\"Table\"].Row, null, /*#__PURE__*/react__WEBPACK_IMPORTED_MODULE_1___default.a.createElement(_instructure_ui_table__WEBPACK_IMPORTED_MODULE_8__[\"Table\"].ColHeader, {\n      id: \"mastery-column\",\n      width: \"1%\"\n    }, i18n_ProficiencyTable__WEBPACK_IMPORTED_MODULE_6__[\"default\"].t('Mastery')), /*#__PURE__*/react__WEBPACK_IMPORTED_MODULE_1___default.a.createElement(_instructure_ui_table__WEBPACK_IMPORTED_MODULE_8__[\"Table\"].ColHeader, {\n      id: \"rating-column\"\n    }, i18n_ProficiencyTable__WEBPACK_IMPORTED_MODULE_6__[\"default\"].t('Proficiency Rating')), /*#__PURE__*/react__WEBPACK_IMPORTED_MODULE_1___default.a.createElement(_instructure_ui_table__WEBPACK_IMPORTED_MODULE_8__[\"Table\"].ColHeader, {\n      id: \"points-column\",\n      width: \"1%\"\n    }, i18n_ProficiencyTable__WEBPACK_IMPORTED_MODULE_6__[\"default\"].t('Points')), /*#__PURE__*/react__WEBPACK_IMPORTED_MODULE_1___default.a.createElement(_instructure_ui_table__WEBPACK_IMPORTED_MODULE_8__[\"Table\"].ColHeader, {\n      id: \"color-column\",\n      width: \"1%\"\n    }, i18n_ProficiencyTable__WEBPACK_IMPORTED_MODULE_6__[\"default\"].t('Color')))), /*#__PURE__*/react__WEBPACK_IMPORTED_MODULE_1___default.a.createElement(_instructure_ui_table__WEBPACK_IMPORTED_MODULE_8__[\"Table\"].Body, null, this.state.rows.map((rating, index) => /*#__PURE__*/react__WEBPACK_IMPORTED_MODULE_1___default.a.createElement(_ProficiencyRating__WEBPACK_IMPORTED_MODULE_10__[\"default\"], {\n      key: rating.get('key'),\n      color: rating.get('color'),\n      description: rating.get('description'),\n      descriptionError: rating.get('descriptionError'),\n      disableDelete: this.state.rows.size === 1,\n      focusField: rating.get('focusField') || (index === 0 ? 'mastery' : null),\n      points: rating.get('points').toString(),\n      pointsError: rating.get('pointsError'),\n      mastery: index === masteryIndex,\n      onColorChange: this.handleColorChange(index),\n      onDelete: this.handleDelete(index),\n      onDescriptionChange: this.handleDescriptionChange(index),\n      onMasteryChange: this.handleMasteryChange(index),\n      onPointsChange: this.handlePointsChange(index)\n    })), /*#__PURE__*/react__WEBPACK_IMPORTED_MODULE_1___default.a.createElement(_instructure_ui_table__WEBPACK_IMPORTED_MODULE_8__[\"Table\"].Row, null, /*#__PURE__*/react__WEBPACK_IMPORTED_MODULE_1___default.a.createElement(_instructure_ui_table__WEBPACK_IMPORTED_MODULE_8__[\"Table\"].Cell, {\n      colSpan: \"4\",\n      textAlign: \"center\"\n    }, /*#__PURE__*/react__WEBPACK_IMPORTED_MODULE_1___default.a.createElement(_instructure_ui_buttons__WEBPACK_IMPORTED_MODULE_4__[\"Button\"], {\n      onClick: this.addRow,\n      icon: /*#__PURE__*/react__WEBPACK_IMPORTED_MODULE_1___default.a.createElement(_instructure_ui_icons__WEBPACK_IMPORTED_MODULE_5__[\"IconPlusLine\"], null),\n      variant: \"circle-primary\"\n    }, /*#__PURE__*/react__WEBPACK_IMPORTED_MODULE_1___default.a.createElement(_instructure_ui_a11y_content__WEBPACK_IMPORTED_MODULE_7__[\"ScreenReaderContent\"], null, i18n_ProficiencyTable__WEBPACK_IMPORTED_MODULE_6__[\"default\"].t('Add proficiency rating'))))))), /*#__PURE__*/react__WEBPACK_IMPORTED_MODULE_1___default.a.createElement(\"div\", {\n      className: \"save\"\n    }, /*#__PURE__*/react__WEBPACK_IMPORTED_MODULE_1___default.a.createElement(_instructure_ui_buttons__WEBPACK_IMPORTED_MODULE_4__[\"Button\"], {\n      variant: \"primary\",\n      onClick: this.handleSubmit\n    }, i18n_ProficiencyTable__WEBPACK_IMPORTED_MODULE_6__[\"default\"].t('Save Learning Mastery'))));\n  }\n\n  render() {\n    const _this$state = this.state,\n          billboard = _this$state.billboard,\n          loading = _this$state.loading;\n\n    if (loading) {\n      return this.renderSpinner();\n    } else if (billboard) {\n      return this.renderBillboard();\n    } else {\n      return this.renderTable();\n    }\n  }\n\n}\nProficiencyTable.propTypes = {\n  accountId: prop_types__WEBPACK_IMPORTED_MODULE_2___default.a.string.isRequired,\n  focusTab: prop_types__WEBPACK_IMPORTED_MODULE_2___default.a.func\n};\nProficiencyTable.defaultProps = {\n  focusTab: null\n};\n\n//# sourceURL=webpack:///./ui/shared/rubrics/react/components/ProficiencyTable.js?");

/***/ }),

/***/ "B1U/":
/*!*************************************************************************!*\
  !*** ./ui/shared/rubrics/react/components/RubricAddCriterionPopover.js ***!
  \*************************************************************************/
/*! exports provided: default */
/***/ (function(module, __webpack_exports__, __webpack_require__) {

"use strict";
eval("__webpack_require__.r(__webpack_exports__);\n/* harmony import */ var react__WEBPACK_IMPORTED_MODULE_0__ = __webpack_require__(/*! react */ \"q1tI\");\n/* harmony import */ var react__WEBPACK_IMPORTED_MODULE_0___default = /*#__PURE__*/__webpack_require__.n(react__WEBPACK_IMPORTED_MODULE_0__);\n/* harmony import */ var prop_types__WEBPACK_IMPORTED_MODULE_1__ = __webpack_require__(/*! prop-types */ \"17x9\");\n/* harmony import */ var prop_types__WEBPACK_IMPORTED_MODULE_1___default = /*#__PURE__*/__webpack_require__.n(prop_types__WEBPACK_IMPORTED_MODULE_1__);\n/* harmony import */ var _instructure_ui_menu__WEBPACK_IMPORTED_MODULE_2__ = __webpack_require__(/*! @instructure/ui-menu */ \"SLhh\");\n/* harmony import */ var _instructure_ui_text__WEBPACK_IMPORTED_MODULE_3__ = __webpack_require__(/*! @instructure/ui-text */ \"iE3e\");\n/* harmony import */ var i18n_RubricAddCriterionPopover__WEBPACK_IMPORTED_MODULE_4__ = __webpack_require__(/*! i18n!RubricAddCriterionPopover */ \"vnSM\");\n/* harmony import */ var jquery__WEBPACK_IMPORTED_MODULE_5__ = __webpack_require__(/*! jquery */ \"ouhR\");\n/* harmony import */ var jquery__WEBPACK_IMPORTED_MODULE_5___default = /*#__PURE__*/__webpack_require__.n(jquery__WEBPACK_IMPORTED_MODULE_5__);\n/*\n * Copyright (C) 2017 - present Instructure, Inc.\n *\n * This file is part of Canvas.\n *\n * Canvas is free software: you can redistribute it and/or modify it under\n * the terms of the GNU Affero General Public License as published by the Free\n * Software Foundation, version 3 of the License.\n *\n * Canvas is distributed in the hope that it will be useful, but WITHOUT ANY\n * WARRANTY; without even the implied warranty of MERCHANTABILITY or FITNESS FOR\n * A PARTICULAR PURPOSE. See the GNU Affero General Public License for more\n * details.\n *\n * You should have received a copy of the GNU Affero General Public License along\n * with this program. If not, see <http://www.gnu.org/licenses/>.\n */\n\n\n\n\n\n\n\nclass RubricAddCriterionPopover extends react__WEBPACK_IMPORTED_MODULE_0___default.a.Component {\n  render() {\n    const _this$props = this.props,\n          rubric = _this$props.rubric,\n          duplicateFunction = _this$props.duplicateFunction;\n    const rubric_data = rubric.find('.criterion:not(.blank)').map(function (i) {\n      const $criterion = jquery__WEBPACK_IMPORTED_MODULE_5___default()(this);\n      const vals = $criterion.getTemplateData({\n        textValues: ['description']\n      });\n      return {\n        index: i,\n        description: vals.description\n      };\n    }).toArray();\n    return /*#__PURE__*/react__WEBPACK_IMPORTED_MODULE_0___default.a.createElement(\"span\", null, /*#__PURE__*/react__WEBPACK_IMPORTED_MODULE_0___default.a.createElement(_instructure_ui_menu__WEBPACK_IMPORTED_MODULE_2__[\"Menu\"], {\n      placement: \"bottom\",\n      trigger:\n      /*#__PURE__*/\n      // eslint-disable-next-line jsx-a11y/anchor-is-valid\n      react__WEBPACK_IMPORTED_MODULE_0___default.a.createElement(\"a\", {\n        className: \"icon-plus\",\n        href: \"#\"\n      }, i18n_RubricAddCriterionPopover__WEBPACK_IMPORTED_MODULE_4__[\"default\"].t('Criterion'))\n    }, /*#__PURE__*/react__WEBPACK_IMPORTED_MODULE_0___default.a.createElement(_instructure_ui_menu__WEBPACK_IMPORTED_MODULE_2__[\"Menu\"].Item, {\n      id: \"add_criterion_button\",\n      onClick: () => jquery__WEBPACK_IMPORTED_MODULE_5___default()('#add_criterion_link').trigger('click')\n    }, /*#__PURE__*/react__WEBPACK_IMPORTED_MODULE_0___default.a.createElement(_instructure_ui_text__WEBPACK_IMPORTED_MODULE_3__[\"Text\"], {\n      size: \"small\",\n      weight: \"bold\"\n    }, i18n_RubricAddCriterionPopover__WEBPACK_IMPORTED_MODULE_4__[\"default\"].t('New Criterion'))), /*#__PURE__*/react__WEBPACK_IMPORTED_MODULE_0___default.a.createElement(_instructure_ui_menu__WEBPACK_IMPORTED_MODULE_2__[\"Menu\"].Separator, null), /*#__PURE__*/react__WEBPACK_IMPORTED_MODULE_0___default.a.createElement(_instructure_ui_menu__WEBPACK_IMPORTED_MODULE_2__[\"Menu\"].Group, {\n      id: \"criterion_duplicate_menu\",\n      label: i18n_RubricAddCriterionPopover__WEBPACK_IMPORTED_MODULE_4__[\"default\"].t('Duplicate')\n    }, rubric_data.map(item => /*#__PURE__*/react__WEBPACK_IMPORTED_MODULE_0___default.a.createElement(_instructure_ui_menu__WEBPACK_IMPORTED_MODULE_2__[\"Menu\"].Item, {\n      onClick: () => duplicateFunction(rubric, item.index),\n      key: item.index\n    }, /*#__PURE__*/react__WEBPACK_IMPORTED_MODULE_0___default.a.createElement(\"div\", {\n      className: \"ellipsis popover_menu_width\"\n    }, item.description))))), /*#__PURE__*/react__WEBPACK_IMPORTED_MODULE_0___default.a.createElement(\"a\", {\n      href: \"#\",\n      id: \"add_learning_outcome_link\",\n      className: \"icon-search find_outcome_link outcome\"\n    }, i18n_RubricAddCriterionPopover__WEBPACK_IMPORTED_MODULE_4__[\"default\"].t('Find Outcome')), /*#__PURE__*/react__WEBPACK_IMPORTED_MODULE_0___default.a.createElement(\"a\", {\n      href: \"#\",\n      id: \"add_criterion_link\",\n      className: \"hidden icon-plus add_criterion_link\"\n    }, i18n_RubricAddCriterionPopover__WEBPACK_IMPORTED_MODULE_4__[\"default\"].t('New Criterion')));\n  }\n\n}\n\nRubricAddCriterionPopover.propTypes = {\n  rubric: prop_types__WEBPACK_IMPORTED_MODULE_1___default.a.instanceOf(jquery__WEBPACK_IMPORTED_MODULE_5___default.a).isRequired,\n  duplicateFunction: prop_types__WEBPACK_IMPORTED_MODULE_1___default.a.func.isRequired\n};\n/* harmony default export */ __webpack_exports__[\"default\"] = (RubricAddCriterionPopover);\n\n//# sourceURL=webpack:///./ui/shared/rubrics/react/components/RubricAddCriterionPopover.js?");

/***/ }),

/***/ "FNyU":
/*!**************************************************************************************************************!*\
  !*** ./frontend_build/i18n.js?change_points_possible_to_match_rubric_dialog!./ui/shims/dummyI18nResource.js ***!
  \**************************************************************************************************************/
/*! exports provided: default */
/***/ (function(module, __webpack_exports__, __webpack_require__) {

"use strict";
eval("__webpack_require__.r(__webpack_exports__);\n/* harmony import */ var _canvas_i18n_i18nObj__WEBPACK_IMPORTED_MODULE_0__ = __webpack_require__(/*! @canvas/i18n/i18nObj */ \"HGxv\");\n/* harmony import */ var translations_core_en__WEBPACK_IMPORTED_MODULE_1__ = __webpack_require__(/*! translations/_core_en */ \"0sPK\");\n\n    \n    \n    \n\n    /* harmony default export */ __webpack_exports__[\"default\"] = (_canvas_i18n_i18nObj__WEBPACK_IMPORTED_MODULE_0__[\"default\"].scoped('change_points_possible_to_match_rubric_dialog'));\n  \n\n//# sourceURL=webpack:///./ui/shims/dummyI18nResource.js?./frontend_build/i18n.js?change_points_possible_to_match_rubric_dialog");

/***/ }),

/***/ "K9RY":
/*!**************************************************************************************!*\
  !*** ./frontend_build/i18n.js?calendar_color_picker!./ui/shims/dummyI18nResource.js ***!
  \**************************************************************************************/
/*! exports provided: default */
/***/ (function(module, __webpack_exports__, __webpack_require__) {

"use strict";
eval("__webpack_require__.r(__webpack_exports__);\n/* harmony import */ var _canvas_i18n_i18nObj__WEBPACK_IMPORTED_MODULE_0__ = __webpack_require__(/*! @canvas/i18n/i18nObj */ \"HGxv\");\n/* harmony import */ var translations_core_en__WEBPACK_IMPORTED_MODULE_1__ = __webpack_require__(/*! translations/_core_en */ \"0sPK\");\n\n    \n    \n    \n\n    /* harmony default export */ __webpack_exports__[\"default\"] = (_canvas_i18n_i18nObj__WEBPACK_IMPORTED_MODULE_0__[\"default\"].scoped('calendar_color_picker'));\n  \n\n//# sourceURL=webpack:///./ui/shims/dummyI18nResource.js?./frontend_build/i18n.js?calendar_color_picker");

/***/ }),

/***/ "Nx3M":
/*!*******************************************************************************!*\
  !*** ./frontend_build/i18n.js?EditRubricPage!./ui/shims/dummyI18nResource.js ***!
  \*******************************************************************************/
/*! exports provided: default */
/***/ (function(module, __webpack_exports__, __webpack_require__) {

"use strict";
eval("__webpack_require__.r(__webpack_exports__);\n/* harmony import */ var _canvas_i18n_i18nObj__WEBPACK_IMPORTED_MODULE_0__ = __webpack_require__(/*! @canvas/i18n/i18nObj */ \"HGxv\");\n/* harmony import */ var translations_core_en__WEBPACK_IMPORTED_MODULE_1__ = __webpack_require__(/*! translations/_core_en */ \"0sPK\");\n\n    \n    \n    \n\n    /* harmony default export */ __webpack_exports__[\"default\"] = (_canvas_i18n_i18nObj__WEBPACK_IMPORTED_MODULE_0__[\"default\"].scoped('EditRubricPage'));\n  \n\n//# sourceURL=webpack:///./ui/shims/dummyI18nResource.js?./frontend_build/i18n.js?EditRubricPage");

/***/ }),

/***/ "QdxV":
/*!****************************************************************************!*\
  !*** ./frontend_build/i18n.js?edit_rubric!./ui/shims/dummyI18nResource.js ***!
  \****************************************************************************/
/*! exports provided: default */
/***/ (function(module, __webpack_exports__, __webpack_require__) {

"use strict";
eval("__webpack_require__.r(__webpack_exports__);\n/* harmony import */ var _canvas_i18n_i18nObj__WEBPACK_IMPORTED_MODULE_0__ = __webpack_require__(/*! @canvas/i18n/i18nObj */ \"HGxv\");\n/* harmony import */ var translations_core_en__WEBPACK_IMPORTED_MODULE_1__ = __webpack_require__(/*! translations/_core_en */ \"0sPK\");\n\n    \n    \n    \n\n    /* harmony default export */ __webpack_exports__[\"default\"] = (_canvas_i18n_i18nObj__WEBPACK_IMPORTED_MODULE_0__[\"default\"].scoped('edit_rubric'));\n  \n\n//# sourceURL=webpack:///./ui/shims/dummyI18nResource.js?./frontend_build/i18n.js?edit_rubric");

/***/ }),

/***/ "SG4G":
/*!*******************************************************!*\
  !*** ./ui/shared/rubrics/jquery/rubricEditBinding.js ***!
  \*******************************************************/
/*! no exports provided */
/***/ (function(module, __webpack_exports__, __webpack_require__) {

"use strict";
eval("__webpack_require__.r(__webpack_exports__);\n/* harmony import */ var _edit_rubric__WEBPACK_IMPORTED_MODULE_0__ = __webpack_require__(/*! ./edit_rubric */ \"b4Tx\");\n/* harmony import */ var _backbone_views_EditRubricPage__WEBPACK_IMPORTED_MODULE_1__ = __webpack_require__(/*! ../backbone/views/EditRubricPage */ \"j9NL\");\n/*\n * Copyright (C) 2015 - present Instructure, Inc.\n *\n * This file is part of Canvas.\n *\n * Canvas is free software: you can redistribute it and/or modify it under\n * the terms of the GNU Affero General Public License as published by the Free\n * Software Foundation, version 3 of the License.\n *\n * Canvas is distributed in the hope that it will be useful, but WITHOUT ANY\n * WARRANTY; without even the implied warranty of MERCHANTABILITY or FITNESS FOR\n * A PARTICULAR PURPOSE. See the GNU Affero General Public License for more\n * details.\n *\n * You should have received a copy of the GNU Affero General Public License along\n * with this program. If not, see <http://www.gnu.org/licenses/>.\n */\n\n\ndocument.addEventListener('rubricEditDataReady', e => {\n  new _backbone_views_EditRubricPage__WEBPACK_IMPORTED_MODULE_1__[\"default\"]();\n  _edit_rubric__WEBPACK_IMPORTED_MODULE_0__[\"default\"].init();\n});\n\n//# sourceURL=webpack:///./ui/shared/rubrics/jquery/rubricEditBinding.js?");

/***/ }),

/***/ "Udtz":
/*!*************************************************************************************!*\
  !*** ./frontend_build/i18n.js?course_nickname_edit!./ui/shims/dummyI18nResource.js ***!
  \*************************************************************************************/
/*! exports provided: default */
/***/ (function(module, __webpack_exports__, __webpack_require__) {

"use strict";
eval("__webpack_require__.r(__webpack_exports__);\n/* harmony import */ var _canvas_i18n_i18nObj__WEBPACK_IMPORTED_MODULE_0__ = __webpack_require__(/*! @canvas/i18n/i18nObj */ \"HGxv\");\n/* harmony import */ var translations_core_en__WEBPACK_IMPORTED_MODULE_1__ = __webpack_require__(/*! translations/_core_en */ \"0sPK\");\n\n    \n    \n    \n\n    /* harmony default export */ __webpack_exports__[\"default\"] = (_canvas_i18n_i18nObj__WEBPACK_IMPORTED_MODULE_0__[\"default\"].scoped('course_nickname_edit'));\n  \n\n//# sourceURL=webpack:///./ui/shims/dummyI18nResource.js?./frontend_build/i18n.js?course_nickname_edit");

/***/ }),

/***/ "X3ed":
/*!***********************************************!*\
  !*** ./ui/shared/color-picker/react/index.js ***!
  \***********************************************/
/*! exports provided: PREDEFINED_COLORS, default */
/***/ (function(module, __webpack_exports__, __webpack_require__) {

"use strict";
eval("__webpack_require__.r(__webpack_exports__);\n/* harmony export (binding) */ __webpack_require__.d(__webpack_exports__, \"PREDEFINED_COLORS\", function() { return PREDEFINED_COLORS; });\n/* harmony import */ var jquery__WEBPACK_IMPORTED_MODULE_0__ = __webpack_require__(/*! jquery */ \"ouhR\");\n/* harmony import */ var jquery__WEBPACK_IMPORTED_MODULE_0___default = /*#__PURE__*/__webpack_require__.n(jquery__WEBPACK_IMPORTED_MODULE_0__);\n/* harmony import */ var react__WEBPACK_IMPORTED_MODULE_1__ = __webpack_require__(/*! react */ \"q1tI\");\n/* harmony import */ var react__WEBPACK_IMPORTED_MODULE_1___default = /*#__PURE__*/__webpack_require__.n(react__WEBPACK_IMPORTED_MODULE_1__);\n/* harmony import */ var create_react_class__WEBPACK_IMPORTED_MODULE_2__ = __webpack_require__(/*! create-react-class */ \"fhzG\");\n/* harmony import */ var create_react_class__WEBPACK_IMPORTED_MODULE_2___default = /*#__PURE__*/__webpack_require__.n(create_react_class__WEBPACK_IMPORTED_MODULE_2__);\n/* harmony import */ var react_dom__WEBPACK_IMPORTED_MODULE_3__ = __webpack_require__(/*! react-dom */ \"i8i4\");\n/* harmony import */ var react_dom__WEBPACK_IMPORTED_MODULE_3___default = /*#__PURE__*/__webpack_require__.n(react_dom__WEBPACK_IMPORTED_MODULE_3__);\n/* harmony import */ var prop_types__WEBPACK_IMPORTED_MODULE_4__ = __webpack_require__(/*! prop-types */ \"17x9\");\n/* harmony import */ var prop_types__WEBPACK_IMPORTED_MODULE_4___default = /*#__PURE__*/__webpack_require__.n(prop_types__WEBPACK_IMPORTED_MODULE_4__);\n/* harmony import */ var _canvas_react_modal__WEBPACK_IMPORTED_MODULE_5__ = __webpack_require__(/*! @canvas/react-modal */ \"JHuN\");\n/* harmony import */ var _instructure_ui_buttons__WEBPACK_IMPORTED_MODULE_6__ = __webpack_require__(/*! @instructure/ui-buttons */ \"K6WN\");\n/* harmony import */ var _instructure_ui_text_input__WEBPACK_IMPORTED_MODULE_7__ = __webpack_require__(/*! @instructure/ui-text-input */ \"/09A\");\n/* harmony import */ var _instructure_ui_a11y_content__WEBPACK_IMPORTED_MODULE_8__ = __webpack_require__(/*! @instructure/ui-a11y-content */ \"9+/z\");\n/* harmony import */ var i18n_calendar_color_picker__WEBPACK_IMPORTED_MODULE_9__ = __webpack_require__(/*! i18n!calendar_color_picker */ \"K9RY\");\n/* harmony import */ var _CourseNicknameEdit__WEBPACK_IMPORTED_MODULE_10__ = __webpack_require__(/*! ./CourseNicknameEdit */ \"jOfn\");\n/* harmony import */ var classnames__WEBPACK_IMPORTED_MODULE_11__ = __webpack_require__(/*! classnames */ \"TSYQ\");\n/* harmony import */ var classnames__WEBPACK_IMPORTED_MODULE_11___default = /*#__PURE__*/__webpack_require__.n(classnames__WEBPACK_IMPORTED_MODULE_11__);\n/* harmony import */ var _canvas_i18n_rtlHelper__WEBPACK_IMPORTED_MODULE_12__ = __webpack_require__(/*! @canvas/i18n/rtlHelper */ \"uYtQ\");\n/* harmony import */ var _canvas_rails_flash_notifications__WEBPACK_IMPORTED_MODULE_13__ = __webpack_require__(/*! @canvas/rails-flash-notifications */ \"r2Yr\");\n/* harmony import */ var _instructure_ui_tooltip__WEBPACK_IMPORTED_MODULE_14__ = __webpack_require__(/*! @instructure/ui-tooltip */ \"HU+D\");\n/* harmony import */ var _instructure_ui_icons__WEBPACK_IMPORTED_MODULE_15__ = __webpack_require__(/*! @instructure/ui-icons */ \"oMAr\");\n/*\n * Copyright (C) 2015 - present Instructure, Inc.\n *\n * This file is part of Canvas.\n *\n * Canvas is free software: you can redistribute it and/or modify it under\n * the terms of the GNU Affero General Public License as published by the Free\n * Software Foundation, version 3 of the License.\n *\n * Canvas is distributed in the hope that it will be useful, but WITHOUT ANY\n * WARRANTY; without even the implied warranty of MERCHANTABILITY or FITNESS FOR\n * A PARTICULAR PURPOSE. See the GNU Affero General Public License for more\n * details.\n *\n * You should have received a copy of the GNU Affero General Public License along\n * with this program. If not, see <http://www.gnu.org/licenses/>.\n */\n\n\n\n\n\n\n\n\n\n\n\n\n\n\n\n\nconst PREDEFINED_COLORS = [{\n  hexcode: '#BD3C14',\n\n  get name() {\n    return i18n_calendar_color_picker__WEBPACK_IMPORTED_MODULE_9__[\"default\"].t('Brick');\n  }\n\n}, {\n  hexcode: '#FF2717',\n\n  get name() {\n    return i18n_calendar_color_picker__WEBPACK_IMPORTED_MODULE_9__[\"default\"].t('Red');\n  }\n\n}, {\n  hexcode: '#E71F63',\n\n  get name() {\n    return i18n_calendar_color_picker__WEBPACK_IMPORTED_MODULE_9__[\"default\"].t('Magenta');\n  }\n\n}, {\n  hexcode: '#8F3E97',\n\n  get name() {\n    return i18n_calendar_color_picker__WEBPACK_IMPORTED_MODULE_9__[\"default\"].t('Purple');\n  }\n\n}, {\n  hexcode: '#65499D',\n\n  get name() {\n    return i18n_calendar_color_picker__WEBPACK_IMPORTED_MODULE_9__[\"default\"].t('Deep Purple');\n  }\n\n}, {\n  hexcode: '#4554A4',\n\n  get name() {\n    return i18n_calendar_color_picker__WEBPACK_IMPORTED_MODULE_9__[\"default\"].t('Indigo');\n  }\n\n}, {\n  hexcode: '#1770AB',\n\n  get name() {\n    return i18n_calendar_color_picker__WEBPACK_IMPORTED_MODULE_9__[\"default\"].t('Blue');\n  }\n\n}, {\n  hexcode: '#0B9BE3',\n\n  get name() {\n    return i18n_calendar_color_picker__WEBPACK_IMPORTED_MODULE_9__[\"default\"].t('Light Blue');\n  }\n\n}, {\n  hexcode: '#06A3B7',\n\n  get name() {\n    return i18n_calendar_color_picker__WEBPACK_IMPORTED_MODULE_9__[\"default\"].t('Cyan');\n  }\n\n}, {\n  hexcode: '#009688',\n\n  get name() {\n    return i18n_calendar_color_picker__WEBPACK_IMPORTED_MODULE_9__[\"default\"].t('Teal');\n  }\n\n}, {\n  hexcode: '#009606',\n\n  get name() {\n    return i18n_calendar_color_picker__WEBPACK_IMPORTED_MODULE_9__[\"default\"].t('Green');\n  }\n\n}, {\n  hexcode: '#8D9900',\n\n  get name() {\n    return i18n_calendar_color_picker__WEBPACK_IMPORTED_MODULE_9__[\"default\"].t('Olive');\n  }\n\n}, {\n  hexcode: '#D97900',\n\n  get name() {\n    return i18n_calendar_color_picker__WEBPACK_IMPORTED_MODULE_9__[\"default\"].t('Pumpkin');\n  }\n\n}, {\n  hexcode: '#FD5D10',\n\n  get name() {\n    return i18n_calendar_color_picker__WEBPACK_IMPORTED_MODULE_9__[\"default\"].t('Orange');\n  }\n\n}, {\n  hexcode: '#F06291',\n\n  get name() {\n    return i18n_calendar_color_picker__WEBPACK_IMPORTED_MODULE_9__[\"default\"].t('Pink');\n  }\n\n}];\n\nfunction shouldApplySwatchBorderColor(color) {\n  return this.props.withBoxShadow || this.state.currentColor !== color.hexcode;\n}\n\nfunction shouldApplySelectedStyle(color) {\n  return this.state.currentColor === color.hexcode;\n}\n\nconst ColorPicker = create_react_class__WEBPACK_IMPORTED_MODULE_2___default()({\n  // ===============\n  //     CONFIG\n  // ===============\n  displayName: 'ColorPicker',\n  propTypes: {\n    parentComponent: prop_types__WEBPACK_IMPORTED_MODULE_4___default.a.string.isRequired,\n    colors: prop_types__WEBPACK_IMPORTED_MODULE_4___default.a.arrayOf(prop_types__WEBPACK_IMPORTED_MODULE_4___default.a.shape({\n      hexcode: prop_types__WEBPACK_IMPORTED_MODULE_4___default.a.string.isRequired,\n      name: prop_types__WEBPACK_IMPORTED_MODULE_4___default.a.string.isRequired\n    }).isRequired),\n    isOpen: prop_types__WEBPACK_IMPORTED_MODULE_4___default.a.bool,\n    afterUpdateColor: prop_types__WEBPACK_IMPORTED_MODULE_4___default.a.func,\n    afterClose: prop_types__WEBPACK_IMPORTED_MODULE_4___default.a.func,\n    assetString: (props, propName, componentName) => {\n      if (props.parentComponent === 'DashboardCardMenu' && props[propName] == null) {\n        return new Error(`Invalid prop '${propName}' supplied to '${componentName}'. ` + `Prop '${propName}' must be present when 'parentComponent' ` + \"is 'DashboardCardMenu'. Vaidation failed.\");\n      }\n\n      return void 0;\n    },\n    hideOnScroll: prop_types__WEBPACK_IMPORTED_MODULE_4___default.a.bool,\n    positions: prop_types__WEBPACK_IMPORTED_MODULE_4___default.a.object,\n    nonModal: prop_types__WEBPACK_IMPORTED_MODULE_4___default.a.bool,\n    hidePrompt: prop_types__WEBPACK_IMPORTED_MODULE_4___default.a.bool,\n    currentColor: prop_types__WEBPACK_IMPORTED_MODULE_4___default.a.string,\n    nicknameInfo: prop_types__WEBPACK_IMPORTED_MODULE_4___default.a.object,\n    withAnimation: prop_types__WEBPACK_IMPORTED_MODULE_4___default.a.bool,\n    withArrow: prop_types__WEBPACK_IMPORTED_MODULE_4___default.a.bool,\n    withBorder: prop_types__WEBPACK_IMPORTED_MODULE_4___default.a.bool,\n    withBoxShadow: prop_types__WEBPACK_IMPORTED_MODULE_4___default.a.bool,\n    withDarkCheck: prop_types__WEBPACK_IMPORTED_MODULE_4___default.a.bool,\n    setStatusColor: prop_types__WEBPACK_IMPORTED_MODULE_4___default.a.func,\n    allowWhite: prop_types__WEBPACK_IMPORTED_MODULE_4___default.a.bool,\n    focusOnMount: prop_types__WEBPACK_IMPORTED_MODULE_4___default.a.bool\n  },\n  hexInputRef: null,\n\n  // ===============\n  //    LIFECYCLE\n  // ===============\n  getInitialState() {\n    return {\n      isOpen: this.props.isOpen,\n      currentColor: this.props.currentColor,\n      saveInProgress: false\n    };\n  },\n\n  getDefaultProps() {\n    return {\n      currentColor: '#efefef',\n      // hideOnScroll exists because the modal doesn't track its target\n      // when the page scrolls, so we just chose to close it.  However on\n      // mobile, focusing on the hex color textbox opens the keyboard which\n      // triggers a scroll and the modal closed. To work around this, init\n      // hideOnScroll to false if we're on a mobile device, which we detect,\n      // somewhat loosely, by seeing if a TouchEven exists.  The result isn't\n      // great, but it's better than before.\n      // A more permenant fix is in the works, pending a fix to INSTUI Popover.\n      hideOnScroll: function () {\n        try {\n          document.createEvent('TouchEvent');\n          return false;\n        } catch (e) {\n          return true;\n        }\n      }(),\n      withAnimation: true,\n      withArrow: true,\n      withBorder: true,\n      withBoxShadow: true,\n      withDarkCheck: false,\n      colors: PREDEFINED_COLORS,\n      setStatusColor: () => {},\n      allowWhite: false,\n      focusOnMount: true\n    };\n  },\n\n  componentDidMount() {\n    if (this.props.focusOnMount) {\n      this.setFocus();\n    }\n\n    jquery__WEBPACK_IMPORTED_MODULE_0___default()(window).on('scroll', this.handleScroll);\n  },\n\n  componentWillUnmount() {\n    jquery__WEBPACK_IMPORTED_MODULE_0___default()(window).off('scroll', this.handleScroll);\n  },\n\n  componentWillReceiveProps(nextProps) {\n    this.setState({\n      isOpen: nextProps.isOpen\n    }, () => {\n      if (this.state.isOpen) {\n        this.setFocus();\n      }\n    });\n  },\n\n  setFocus() {\n    // focus course nickname input first if it's there, otherwise the first\n    // color swatch\n    if (this.refs.courseNicknameEdit) {\n      this.refs.courseNicknameEdit.focus();\n    } else if (this.refs.colorSwatch0) {\n      react_dom__WEBPACK_IMPORTED_MODULE_3___default.a.findDOMNode(this.refs.colorSwatch0).focus();\n    }\n  },\n\n  // ===============\n  //     ACTIONS\n  // ===============\n  closeModal() {\n    if (this.isMounted()) {\n      this.setState({\n        isOpen: false\n      });\n\n      if (this.props.afterClose) {\n        this.props.afterClose();\n      }\n    }\n  },\n\n  setCurrentColor(color) {\n    this.setState({\n      currentColor: color\n    });\n  },\n\n  setInputColor(event) {\n    const value = event.target.value || event.target.placeholder;\n    event.preventDefault();\n    this.setCurrentColor(value);\n  },\n\n  setColorForCalendar(color) {\n    // Remove the hex if needed\n    color = color.replace('#', '');\n\n    if (color !== this.props.currentColor.replace('#', '')) {\n      return jquery__WEBPACK_IMPORTED_MODULE_0___default.a.ajax({\n        url: '/api/v1/users/' + window.ENV.current_user_id + '/colors/' + this.props.assetString,\n        type: 'PUT',\n        data: {\n          hexcode: color\n        },\n        success: () => {\n          this.props.afterUpdateColor(color);\n        },\n        error: () => {}\n      });\n    }\n  },\n\n  isValidHex(color) {\n    if (!this.props.allowWhite) {\n      // prevent selection of white (#fff or #ffffff)\n      const whiteHexRe = /^#?([fF]{3}|[fF]{6})$/;\n\n      if (whiteHexRe.test(color)) {\n        return false;\n      }\n    } // ensure hex is valid\n\n\n    const validHexRe = /^#?([A-Fa-f0-9]{6}|[A-Fa-f0-9]{3})$/;\n    return validHexRe.test(color);\n  },\n\n  warnIfInvalid() {\n    if (!this.isValidHex(this.state.currentColor)) {\n      jquery__WEBPACK_IMPORTED_MODULE_0___default.a.screenReaderFlashMessage(i18n_calendar_color_picker__WEBPACK_IMPORTED_MODULE_9__[\"default\"].t(\"'%{chosenColor}' is not a valid color. Enter a valid hexcode before saving.\", {\n        chosenColor: this.state.currentColor\n      }));\n    }\n  },\n\n  setCourseNickname() {\n    if (this.refs.courseNicknameEdit) {\n      return this.refs.courseNicknameEdit.setCourseNickname();\n    }\n  },\n\n  onApply(color, _event) {\n    const doneSaving = () => {\n      if (this.isMounted()) {\n        this.setState({\n          saveInProgress: false\n        });\n      }\n    };\n\n    const handleSuccess = () => {\n      doneSaving();\n      this.closeModal();\n    };\n\n    const handleFailure = () => {\n      doneSaving();\n      jquery__WEBPACK_IMPORTED_MODULE_0___default.a.flashError(i18n_calendar_color_picker__WEBPACK_IMPORTED_MODULE_9__[\"default\"].t(\"Could not save '%{chosenColor}'\", {\n        chosenColor: color\n      }));\n    };\n\n    if (this.isValidHex(color)) {\n      this.setState({\n        saveInProgress: true\n      }, () => {\n        // this is pretty hacky, however until ColorPicker is extracted into an instructure-ui\n        // component this is the simplest way to avoid extracting Course Color specific code\n        if (this.props.parentComponent === 'StatusColorListItem' || this.props.parentComponent === 'ProficiencyRating') {\n          this.props.setStatusColor(this.state.currentColor, handleSuccess, handleFailure);\n        } else {\n          // both API calls update the same User model and thus need to be performed serially\n          jquery__WEBPACK_IMPORTED_MODULE_0___default.a.when(this.setColorForCalendar(color)).then(() => {\n            jquery__WEBPACK_IMPORTED_MODULE_0___default.a.when(this.setCourseNickname()).then(handleSuccess, handleFailure);\n          }, handleFailure);\n        }\n      });\n    } else {\n      jquery__WEBPACK_IMPORTED_MODULE_0___default.a.flashWarning(i18n_calendar_color_picker__WEBPACK_IMPORTED_MODULE_9__[\"default\"].t(\"'%{chosenColor}' is not a valid color.\", {\n        chosenColor: this.state.currentColor\n      }));\n    }\n  },\n\n  onCancel() {\n    // reset to the cards current actual displaying color\n    this.setCurrentColor(this.props.currentColor);\n    this.closeModal();\n  },\n\n  handleScroll() {\n    if (this.props.hideOnScroll) {\n      this.closeModal();\n    } else if (this.state.isOpen) {\n      this.hexInputRef.scrollIntoView();\n    }\n  },\n\n  // ===============\n  //    RENDERING\n  // ===============\n  checkMarkIfMatchingColor(colorCode) {\n    if (this.state.currentColor === colorCode) {\n      return /*#__PURE__*/react__WEBPACK_IMPORTED_MODULE_1___default.a.createElement(\"i\", {\n        className: \"icon-check\"\n      });\n    }\n  },\n\n  renderColorRows() {\n    return this.props.colors.map((color, idx) => {\n      const colorSwatchStyle = {\n        backgroundColor: color.hexcode\n      };\n\n      if (color.hexcode !== '#FFFFFF') {\n        if (shouldApplySwatchBorderColor.call(this, color)) {\n          colorSwatchStyle.borderColor = color.hexcode;\n        }\n      }\n\n      if (shouldApplySelectedStyle.call(this, color)) {\n        colorSwatchStyle.borderColor = '#73818C';\n        colorSwatchStyle.borderWidth = '2px';\n      }\n\n      const title = color.name + ' (' + color.hexcode + ')';\n      const ref = 'colorSwatch' + idx;\n      const colorBlockStyles = classnames__WEBPACK_IMPORTED_MODULE_11___default()({\n        ColorPicker__ColorBlock: true,\n        'with-dark-check': this.props.withDarkCheck\n      });\n      return /*#__PURE__*/react__WEBPACK_IMPORTED_MODULE_1___default.a.createElement(\"button\", {\n        className: colorBlockStyles,\n        ref: ref,\n        role: \"radio\",\n        \"aria-checked\": this.state.currentColor === color.hexcode,\n        style: colorSwatchStyle,\n        title: title,\n        onClick: this.setCurrentColor.bind(null, color.hexcode),\n        key: color.hexcode\n      }, color.hexcode === '#FFFFFF' && /*#__PURE__*/react__WEBPACK_IMPORTED_MODULE_1___default.a.createElement(\"svg\", {\n        className: \"ColorPicker__ColorBlock-line\"\n      }, /*#__PURE__*/react__WEBPACK_IMPORTED_MODULE_1___default.a.createElement(\"line\", {\n        x1: \"100%\",\n        y1: \"0\",\n        x2: \"0\",\n        y2: \"100%\"\n      })), this.checkMarkIfMatchingColor(color.hexcode), /*#__PURE__*/react__WEBPACK_IMPORTED_MODULE_1___default.a.createElement(\"span\", {\n        className: \"screenreader-only\"\n      }, title));\n    });\n  },\n\n  nicknameEdit() {\n    if (this.props.nicknameInfo) {\n      return /*#__PURE__*/react__WEBPACK_IMPORTED_MODULE_1___default.a.createElement(_CourseNicknameEdit__WEBPACK_IMPORTED_MODULE_10__[\"default\"], {\n        ref: \"courseNicknameEdit\",\n        nicknameInfo: this.props.nicknameInfo,\n        onEnter: this.onApply.bind(null, this.state.currentColor)\n      });\n    }\n  },\n\n  prompt() {\n    if (!this.props.hidePrompt) {\n      return /*#__PURE__*/react__WEBPACK_IMPORTED_MODULE_1___default.a.createElement(\"div\", {\n        className: \"ColorPicker__Header\"\n      }, /*#__PURE__*/react__WEBPACK_IMPORTED_MODULE_1___default.a.createElement(\"h3\", {\n        className: \"ColorPicker__Title\"\n      }, i18n_calendar_color_picker__WEBPACK_IMPORTED_MODULE_9__[\"default\"].t('Select Course Color')));\n    }\n  },\n\n  colorPreview() {\n    let previewColor = this.isValidHex(this.state.currentColor) ? this.state.currentColor : '#FFFFFF';\n\n    if (previewColor.indexOf('#') < 0) {\n      previewColor = '#' + previewColor;\n    }\n\n    const inputColorStyle = {\n      color: previewColor,\n      backgroundColor: previewColor\n    };\n    return /*#__PURE__*/react__WEBPACK_IMPORTED_MODULE_1___default.a.createElement(\"div\", {\n      className: \"ic-Input-group__add-on ColorPicker__ColorPreview\",\n      title: this.state.currentColor,\n      style: inputColorStyle,\n      role: \"presentation\",\n      \"aria-hidden\": \"true\",\n      tabIndex: \"-1\"\n    }, !this.isValidHex(this.state.currentColor) && /*#__PURE__*/react__WEBPACK_IMPORTED_MODULE_1___default.a.createElement(_instructure_ui_tooltip__WEBPACK_IMPORTED_MODULE_14__[\"Tooltip\"], {\n      tip: i18n_calendar_color_picker__WEBPACK_IMPORTED_MODULE_9__[\"default\"].t('Invalid hexcode')\n    }, /*#__PURE__*/react__WEBPACK_IMPORTED_MODULE_1___default.a.createElement(_instructure_ui_icons__WEBPACK_IMPORTED_MODULE_15__[\"IconWarningSolid\"], {\n      color: \"warning\",\n      id: \"ColorPicker__InvalidHex\"\n    })));\n  },\n\n  pickerBody() {\n    const containerClasses = classnames__WEBPACK_IMPORTED_MODULE_11___default()({\n      ColorPicker__Container: true,\n      'with-animation': this.props.withAnimation,\n      'with-arrow': this.props.withArrow,\n      'with-border': this.props.withBorder,\n      'with-box-shadow': this.props.withBoxShadow\n    });\n    const inputId = 'ColorPickerCustomInput-' + this.props.assetString;\n    return /*#__PURE__*/react__WEBPACK_IMPORTED_MODULE_1___default.a.createElement(\"div\", {\n      className: containerClasses,\n      ref: \"pickerBody\"\n    }, this.prompt(), this.nicknameEdit(), /*#__PURE__*/react__WEBPACK_IMPORTED_MODULE_1___default.a.createElement(\"div\", {\n      className: \"ColorPicker__ColorContainer\",\n      role: \"radiogroup\",\n      \"aria-label\": i18n_calendar_color_picker__WEBPACK_IMPORTED_MODULE_9__[\"default\"].t('Select a predefined color.')\n    }, this.renderColorRows()), /*#__PURE__*/react__WEBPACK_IMPORTED_MODULE_1___default.a.createElement(\"div\", {\n      className: \"ColorPicker__CustomInputContainer\"\n    }, this.colorPreview(), /*#__PURE__*/react__WEBPACK_IMPORTED_MODULE_1___default.a.createElement(_instructure_ui_text_input__WEBPACK_IMPORTED_MODULE_7__[\"TextInput\"], {\n      label: /*#__PURE__*/react__WEBPACK_IMPORTED_MODULE_1___default.a.createElement(_instructure_ui_a11y_content__WEBPACK_IMPORTED_MODULE_8__[\"ScreenReaderContent\"], null, this.isValidHex(this.state.currentColor) ? i18n_calendar_color_picker__WEBPACK_IMPORTED_MODULE_9__[\"default\"].t('Enter a hexcode here to use a custom color.') : i18n_calendar_color_picker__WEBPACK_IMPORTED_MODULE_9__[\"default\"].t('Invalid hexcode. Enter a valid hexcode here to use a custom color.')),\n      id: inputId,\n      value: this.state.currentColor,\n      onChange: this.setInputColor,\n      onBlur: this.warnIfInvalid,\n      size: \"small\",\n      margin: \"0 0 0 x-small\",\n      inputRef: r => {\n        this.hexInputRef = r;\n      }\n    })), /*#__PURE__*/react__WEBPACK_IMPORTED_MODULE_1___default.a.createElement(\"div\", {\n      className: \"ColorPicker__Actions\"\n    }, /*#__PURE__*/react__WEBPACK_IMPORTED_MODULE_1___default.a.createElement(_instructure_ui_buttons__WEBPACK_IMPORTED_MODULE_6__[\"Button\"], {\n      size: \"small\",\n      onClick: this.onCancel\n    }, i18n_calendar_color_picker__WEBPACK_IMPORTED_MODULE_9__[\"default\"].t('Cancel')), /*#__PURE__*/react__WEBPACK_IMPORTED_MODULE_1___default.a.createElement(_instructure_ui_buttons__WEBPACK_IMPORTED_MODULE_6__[\"Button\"], {\n      variant: \"primary\",\n      id: \"ColorPicker__Apply\",\n      size: \"small\",\n      onClick: this.onApply.bind(null, this.state.currentColor),\n      disabled: this.state.saveInProgress || !this.isValidHex(this.state.currentColor),\n      margin: \"0 0 0 xxx-small\"\n    }, i18n_calendar_color_picker__WEBPACK_IMPORTED_MODULE_9__[\"default\"].t('Apply'))));\n  },\n\n  modalWrapping(body) {\n    // TODO: The non-computed styles below could possibly moved out to the\n    //       proper stylesheets in the future.\n    const styleObj = {\n      content: {\n        position: 'absolute',\n        top: this.props.positions.top - 96,\n        right: 'auto',\n        left: Object(_canvas_i18n_rtlHelper__WEBPACK_IMPORTED_MODULE_12__[\"isRTL\"])() ? 100 - this.props.positions.left : this.props.positions.left - 174,\n        bottom: 0,\n        overflow: 'visible',\n        padding: 0,\n        borderRadius: '0'\n      }\n    };\n    return /*#__PURE__*/react__WEBPACK_IMPORTED_MODULE_1___default.a.createElement(_canvas_react_modal__WEBPACK_IMPORTED_MODULE_5__[\"default\"], {\n      ref: \"reactModal\",\n      style: styleObj,\n      isOpen: this.state.isOpen,\n      onRequestClose: this.closeModal,\n      className: \"ColorPicker__Content-Modal right middle horizontal\",\n      overlayClassName: \"ColorPicker__Overlay\"\n    }, body);\n  },\n\n  render() {\n    const body = this.pickerBody();\n    return this.props.nonModal ? body : this.modalWrapping(body);\n  }\n\n});\n\nColorPicker.getColorName = colorHex => {\n  const colorWithoutHash = colorHex.replace('#', '');\n  const definedColor = PREDEFINED_COLORS.find(color => color.hexcode.replace('#', '') === colorWithoutHash);\n\n  if (definedColor) {\n    return definedColor.name;\n  }\n};\n\n/* harmony default export */ __webpack_exports__[\"default\"] = (ColorPicker);\n\n//# sourceURL=webpack:///./ui/shared/color-picker/react/index.js?");

/***/ }),

/***/ "b4Tx":
/*!*************************************************!*\
  !*** ./ui/shared/rubrics/jquery/edit_rubric.js ***!
  \*************************************************/
/*! exports provided: default */
/***/ (function(module, __webpack_exports__, __webpack_require__) {

"use strict";
eval("__webpack_require__.r(__webpack_exports__);\n/* harmony import */ var _babel_runtime_helpers_esm_objectSpread2__WEBPACK_IMPORTED_MODULE_0__ = __webpack_require__(/*! @babel/runtime/helpers/esm/objectSpread2 */ \"VTBJ\");\n/* harmony import */ var react__WEBPACK_IMPORTED_MODULE_1__ = __webpack_require__(/*! react */ \"q1tI\");\n/* harmony import */ var react__WEBPACK_IMPORTED_MODULE_1___default = /*#__PURE__*/__webpack_require__.n(react__WEBPACK_IMPORTED_MODULE_1__);\n/* harmony import */ var react_dom__WEBPACK_IMPORTED_MODULE_2__ = __webpack_require__(/*! react-dom */ \"i8i4\");\n/* harmony import */ var react_dom__WEBPACK_IMPORTED_MODULE_2___default = /*#__PURE__*/__webpack_require__.n(react_dom__WEBPACK_IMPORTED_MODULE_2__);\n/* harmony import */ var _react_components_RubricAddCriterionPopover__WEBPACK_IMPORTED_MODULE_3__ = __webpack_require__(/*! ../react/components/RubricAddCriterionPopover */ \"B1U/\");\n/* harmony import */ var _react_components_RubricManagement__WEBPACK_IMPORTED_MODULE_4__ = __webpack_require__(/*! ../react/components/RubricManagement */ \"8yL5\");\n/* harmony import */ var i18n_edit_rubric__WEBPACK_IMPORTED_MODULE_5__ = __webpack_require__(/*! i18n!edit_rubric */ \"QdxV\");\n/* harmony import */ var _jst_changePointsPossibleToMatchRubricDialog_handlebars__WEBPACK_IMPORTED_MODULE_6__ = __webpack_require__(/*! ../jst/changePointsPossibleToMatchRubricDialog.handlebars */ \"pQKa\");\n/* harmony import */ var jquery__WEBPACK_IMPORTED_MODULE_7__ = __webpack_require__(/*! jquery */ \"ouhR\");\n/* harmony import */ var jquery__WEBPACK_IMPORTED_MODULE_7___default = /*#__PURE__*/__webpack_require__.n(jquery__WEBPACK_IMPORTED_MODULE_7__);\n/* harmony import */ var underscore__WEBPACK_IMPORTED_MODULE_8__ = __webpack_require__(/*! underscore */ \"Y/W1\");\n/* harmony import */ var underscore__WEBPACK_IMPORTED_MODULE_8___default = /*#__PURE__*/__webpack_require__.n(underscore__WEBPACK_IMPORTED_MODULE_8__);\n/* harmony import */ var html_escape__WEBPACK_IMPORTED_MODULE_9__ = __webpack_require__(/*! html-escape */ \"gI0r\");\n/* harmony import */ var _canvas_i18n_numberHelper__WEBPACK_IMPORTED_MODULE_10__ = __webpack_require__(/*! @canvas/i18n/numberHelper */ \"FdVj\");\n/* harmony import */ var _canvas_outcomes_find_outcome__WEBPACK_IMPORTED_MODULE_11__ = __webpack_require__(/*! @canvas/outcomes/find_outcome */ \"ESCk\");\n/* harmony import */ var _canvas_jquery_jquery_ajaxJSON__WEBPACK_IMPORTED_MODULE_12__ = __webpack_require__(/*! @canvas/jquery/jquery.ajaxJSON */ \"dhbk\");\n/* harmony import */ var _canvas_forms_jquery_jquery_instructure_forms__WEBPACK_IMPORTED_MODULE_13__ = __webpack_require__(/*! @canvas/forms/jquery/jquery.instructure_forms */ \"Dhso\");\n/* harmony import */ var jqueryui_dialog__WEBPACK_IMPORTED_MODULE_14__ = __webpack_require__(/*! jqueryui/dialog */ \"ESjL\");\n/* harmony import */ var _canvas_jquery_jquery_instructure_misc_helpers__WEBPACK_IMPORTED_MODULE_15__ = __webpack_require__(/*! @canvas/jquery/jquery.instructure_misc_helpers */ \"8JEM\");\n/* harmony import */ var _canvas_jquery_jquery_instructure_misc_plugins__WEBPACK_IMPORTED_MODULE_16__ = __webpack_require__(/*! @canvas/jquery/jquery.instructure_misc_plugins */ \"aq8L\");\n/* harmony import */ var _canvas_loading_image__WEBPACK_IMPORTED_MODULE_17__ = __webpack_require__(/*! @canvas/loading-image */ \"lBOK\");\n/* harmony import */ var _canvas_util_templateData__WEBPACK_IMPORTED_MODULE_18__ = __webpack_require__(/*! @canvas/util/templateData */ \"TvTI\");\n/* harmony import */ var _canvas_rails_flash_notifications__WEBPACK_IMPORTED_MODULE_19__ = __webpack_require__(/*! @canvas/rails-flash-notifications */ \"r2Yr\");\n/* harmony import */ var jquery_tinypubsub__WEBPACK_IMPORTED_MODULE_20__ = __webpack_require__(/*! jquery-tinypubsub */ \"XKWA\");\n/* harmony import */ var jquery_tinypubsub__WEBPACK_IMPORTED_MODULE_20___default = /*#__PURE__*/__webpack_require__.n(jquery_tinypubsub__WEBPACK_IMPORTED_MODULE_20__);\n/* harmony import */ var jquery_scroll_to_visible_jquery_scrollTo__WEBPACK_IMPORTED_MODULE_21__ = __webpack_require__(/*! jquery-scroll-to-visible/jquery.scrollTo */ \"w2hD\");\n/* harmony import */ var _canvas_util_jquery_fixDialogButtons__WEBPACK_IMPORTED_MODULE_22__ = __webpack_require__(/*! @canvas/util/jquery/fixDialogButtons */ \"897F\");\n\n\n/*\n * Copyright (C) 2011 - present Instructure, Inc.\n *\n * This file is part of Canvas.\n *\n * Canvas is free software: you can redistribute it and/or modify it under\n * the terms of the GNU Affero General Public License as published by the Free\n * Software Foundation, version 3 of the License.\n *\n * Canvas is distributed in the hope that it will be useful, but WITHOUT ANY\n * WARRANTY; without even the implied warranty of MERCHANTABILITY or FITNESS FOR\n * A PARTICULAR PURPOSE. See the GNU Affero General Public License for more\n * details.\n *\n * You should have received a copy of the GNU Affero General Public License along\n * with this program. If not, see <http://www.gnu.org/licenses/>.\n */\n\n\n\n\n\n\n\n\n\n\n\n\n\n/* formSubmit, fillFormData, getFormData */\n\n\n\n/* replaceTags */\n\n\n/* confirmDelete, showIf */\n\n\n\n/* fillTemplateData, getTemplateData */\n\n\n\n\n\nconst rubricEditing = {\n  htmlBody: null,\n  hidePoints: (...args) => {\n    args.forEach($el => {\n      $el.find('.toggle_for_hide_points').addClass('hidden');\n    });\n  },\n  showPoints: (...args) => {\n    args.forEach($el => {\n      $el.find('.toggle_for_hide_points').removeClass('hidden');\n    });\n  },\n\n  localizedPoints(points) {\n    return i18n_edit_rubric__WEBPACK_IMPORTED_MODULE_5__[\"default\"].n(points, {\n      precision: 2,\n      strip_insignificant_zeros: true\n    });\n  },\n\n  updateCriteria($rubric) {\n    $rubric.find('.criterion:not(.blank)').each(function (i) {\n      jquery__WEBPACK_IMPORTED_MODULE_7___default()(this).attr('id', 'criterion_' + (i + 1));\n    });\n  },\n\n  updateAddCriterionLinks($rubric, focusTarget = null) {\n    if (!$rubric.is(':visible') || $rubric.find('#add_criterion_holder').length === 0) {\n      return;\n    }\n\n    jquery__WEBPACK_IMPORTED_MODULE_7___default()('#add_criterion_container').remove();\n    $rubric.find('#add_criterion_holder').append(jquery__WEBPACK_IMPORTED_MODULE_7___default()('<span/>').attr('id', 'add_criterion_container'));\n    setTimeout(() => {\n      react_dom__WEBPACK_IMPORTED_MODULE_2___default.a.render( /*#__PURE__*/react__WEBPACK_IMPORTED_MODULE_1___default.a.createElement(_react_components_RubricAddCriterionPopover__WEBPACK_IMPORTED_MODULE_3__[\"default\"], {\n        rubric: $rubric,\n        duplicateFunction: rubricEditing.copyCriterion\n      }), document.getElementById('add_criterion_container'));\n\n      if (focusTarget) {\n        $rubric.find(`\"#add_criterion_container ${focusTarget}:visible`).focus();\n      }\n    }, 0);\n  },\n\n  copyCriterion($rubric, criterion_index) {\n    const $criterion = rubricEditing.addCriterion($rubric, criterion_index);\n    $criterion.removeClass('new_criterion');\n    $criterion.find('.criterion_id').text('blank');\n    $criterion.find('.rating_id').text('blank');\n    rubricEditing.editCriterion($criterion);\n  },\n\n  addCriterion($rubric, criterion_index) {\n    let $blank;\n\n    if (typeof criterion_index !== 'undefined') {\n      $blank = $rubric.find(`.criterion:not(.blank):eq(${criterion_index})`);\n    } else {\n      $blank = $rubric.find('.criterion.blank:first');\n    }\n\n    const $criterion = $blank.clone(true);\n    $criterion.addClass('new_criterion');\n    $criterion.removeClass('blank');\n    $rubric.find('.summary').before($criterion.show());\n    const focusTarget = $criterion.hasClass('learning_outcome_criterion') ? '.icon-plus' : null;\n    rubricEditing.updateCriteria($rubric);\n    rubricEditing.sizeRatings($criterion);\n    rubricEditing.updateAddCriterionLinks($rubric, focusTarget);\n    return $criterion;\n  },\n\n  addNewRatingColumn($this) {\n    const $rubric = $this.parents('.rubric');\n    $this.addClass('add_column');\n\n    if ($rubric.hasClass('editing')) {\n      const $td = $this.clone(true).removeClass('edge_rating'),\n            pts = _canvas_i18n_numberHelper__WEBPACK_IMPORTED_MODULE_10__[\"default\"].parse($this.find('.points').text()),\n            $criterion = $this.parents('.criterion'),\n            $criterionPoints = $criterion.find('.criterion_points'),\n            data = {\n        description: '',\n        rating_long_description: '',\n        min_points: pts\n      },\n            hasClassAddLeft = $this.hasClass('add_left');\n\n      if ($this.hasClass('add_left')) {\n        const more_points = _canvas_i18n_numberHelper__WEBPACK_IMPORTED_MODULE_10__[\"default\"].parse($this.prev('.rating').find('.points').text());\n        data.points = Math.round((pts + more_points) / 2);\n\n        if (data.points == pts || data.points == more_points) {\n          data.points = pts;\n        }\n      } else {\n        const less_points = _canvas_i18n_numberHelper__WEBPACK_IMPORTED_MODULE_10__[\"default\"].parse($this.next('.rating').find('.points').text());\n        data.min_points = less_points;\n        data.points = Math.round((pts + less_points) / 2);\n\n        if (data.points == pts || data.points == less_points) {\n          data.points = less_points;\n        }\n      }\n\n      $td.fillTemplateData({\n        data: Object(_babel_runtime_helpers_esm_objectSpread2__WEBPACK_IMPORTED_MODULE_0__[\"default\"])(Object(_babel_runtime_helpers_esm_objectSpread2__WEBPACK_IMPORTED_MODULE_0__[\"default\"])({}, data), {}, {\n          min_points: rubricEditing.localizedPoints(data.min_points),\n          points: rubricEditing.localizedPoints(data.points)\n        })\n      });\n      rubricEditing.flagInfinitesimalRating($td, $criterion.find('.criterion_use_range').attr('checked'));\n\n      if (hasClassAddLeft) {\n        $this.before($td);\n      } else {\n        $td.addClass('new_rating');\n        $this.after($td);\n      }\n\n      const $previousRating = $td.prev('.rating');\n\n      if ($previousRating) {\n        $previousRating.fillTemplateData({\n          data: {\n            min_points: data.points\n          }\n        });\n      }\n\n      rubricEditing.hideCriterionAdd($rubric);\n      rubricEditing.updateCriterionPoints($criterion, true);\n      rubricEditing.sizeRatings($criterion);\n      setTimeout(() => {\n        jquery__WEBPACK_IMPORTED_MODULE_7___default.a.screenReaderFlashMessageExclusive(i18n_edit_rubric__WEBPACK_IMPORTED_MODULE_5__[\"default\"].t('New Rating Created'));\n        jquery__WEBPACK_IMPORTED_MODULE_7___default()('.new_rating').find('.edit_rating_link').click();\n      }, 100);\n    }\n\n    return false;\n  },\n\n  onFindOutcome(outcome) {\n    let $rubric = jquery__WEBPACK_IMPORTED_MODULE_7___default()('.rubric table.rubric_table:visible:first'),\n        $criterion;\n    $rubric.find('.criterion.learning_outcome_' + outcome.id).find('.delete_criterion_link').click();\n    rubricEditing.addCriterion($rubric);\n    $criterion = $rubric.find('.criterion:not(.blank):last');\n    $criterion.removeClass('new_criterion');\n    $criterion.toggleClass('ignore_criterion_for_scoring', !outcome.useForScoring);\n    $criterion.find('.mastery_points').val(outcome.get('mastery_points'));\n    $criterion.addClass('learning_outcome_criterion');\n    $criterion.find('.outcome_sr_content').attr('aria-hidden', false);\n    $criterion.find('.learning_outcome_id').text(outcome.id);\n    $criterion.find('.hide_when_learning_outcome').hide();\n    $criterion.find('.criterion_points').val(outcome.get('ratings')[0].points).blur();\n\n    for (let i = 0; i < outcome.get('ratings').length - 2; i++) {\n      $criterion.find('.rating:not(.blank):first').addClass('add_column').click();\n    }\n\n    $criterion.find('.rating:not(.blank)').each(function (i) {\n      const rating = outcome.get('ratings')[i];\n      jquery__WEBPACK_IMPORTED_MODULE_7___default()(this).fillTemplateData({\n        data: rating\n      });\n    });\n    $criterion.find('.cancel_button').click();\n    $criterion.find('div.long_description').remove();\n    $criterion.find('textarea.long_description').text(outcome.get('description'));\n    $criterion.find('.long_description_holder').toggleClass('empty', !outcome.get('description'));\n    $criterion.find('.description_title').text(outcome.get('title'));\n    $criterion.find('.criterion_description').val(outcome.get('title')).focus().select();\n    $criterion.find('.mastery_points').text(outcome.get('mastery_points'));\n    $criterion.find('.edit_criterion_link').remove();\n    $criterion.find('.rating .links').remove();\n    rubricEditing.updateAddCriterionLinks($rubric, '.icon-search');\n    $criterion.find('.long_description_holder').show();\n  },\n\n  hideCriterionAdd($rubric) {\n    $rubric.find('.add_right, .add_left, .add_column').removeClass('add_left add_right add_column');\n  },\n\n  updateRubricPoints($rubric) {\n    let total = 0;\n    $rubric.find('.criterion:not(.blank):not(.ignore_criterion_for_scoring) .criterion_points').each(function () {\n      const points = _canvas_i18n_numberHelper__WEBPACK_IMPORTED_MODULE_10__[\"default\"].parse(jquery__WEBPACK_IMPORTED_MODULE_7___default()(this).val());\n\n      if (!isNaN(points)) {\n        total += points;\n      }\n    });\n    total = round(total, 2);\n    $rubric.find('.rubric_total').text(rubricEditing.localizedPoints(total));\n  },\n\n  updateCriterionPoints($criterion, baseOnRatings) {\n    const ratings = jquery__WEBPACK_IMPORTED_MODULE_7___default.a.makeArray($criterion.find('.rating')).reverse();\n    let rating_points = -1;\n    let points = _canvas_i18n_numberHelper__WEBPACK_IMPORTED_MODULE_10__[\"default\"].parse($criterion.find('.criterion_points').val());\n    const use_range = $criterion.find('.criterion_use_range').attr('checked');\n\n    if (Number.isNaN(points)) {\n      points = 5;\n    } else {\n      points = round(points, 2);\n    }\n\n    $criterion.find('.rating:first .points').text(rubricEditing.localizedPoints(points)); // From right to left, make sure points never decrease\n    // and round to 2 decimal places.\n\n    jquery__WEBPACK_IMPORTED_MODULE_7___default.a.each(ratings, (i, rating) => {\n      const $rating = jquery__WEBPACK_IMPORTED_MODULE_7___default()(rating);\n      const data = $rating.getTemplateData({\n        textValues: ['points']\n      });\n      data.points = _canvas_i18n_numberHelper__WEBPACK_IMPORTED_MODULE_10__[\"default\"].parse(data.points);\n\n      if (data.points < rating_points) {\n        data.points = rating_points;\n      }\n\n      data.points = round(data.points, 2);\n      rating_points = data.points;\n      data.points = rubricEditing.localizedPoints(data.points);\n      $rating.fillTemplateData({\n        data\n      });\n      rubricEditing.flagInfinitesimalRating($rating, use_range);\n    });\n\n    if (baseOnRatings && rating_points > points) {\n      points = rating_points;\n    }\n\n    $criterion.find('.criterion_points').val(rubricEditing.localizedPoints(points));\n    $criterion.find('.display_criterion_points').text(rubricEditing.localizedPoints(points));\n\n    if (!$criterion.data('criterion_points') || _canvas_i18n_numberHelper__WEBPACK_IMPORTED_MODULE_10__[\"default\"].parse($criterion.data('criterion_points')) !== points) {\n      if (!$criterion.data('criterion_points')) {\n        let max = $criterion.context.defaultValue;\n\n        if (baseOnRatings) {\n          max = $criterion.find('.rating:first .points').text();\n        }\n\n        $criterion.data('criterion_points', _canvas_i18n_numberHelper__WEBPACK_IMPORTED_MODULE_10__[\"default\"].parse(max));\n      }\n\n      const oldMax = $criterion.data('criterion_points');\n      const newMax = points;\n      const $ratingList = $criterion.find('.rating');\n      jquery__WEBPACK_IMPORTED_MODULE_7___default()($ratingList[0]).find('.points').text(rubricEditing.localizedPoints(points));\n      let lastPts = points; // From left to right, scale points proportionally to new range.\n      // So if originally they were 3,2,1 and now we increased the\n      // total possible to 9, they'd be 9,6,3\n\n      for (let i = 1; i < $ratingList.length; i++) {\n        const pts = _canvas_i18n_numberHelper__WEBPACK_IMPORTED_MODULE_10__[\"default\"].parse(jquery__WEBPACK_IMPORTED_MODULE_7___default()($ratingList[i]).find('.points').text());\n        let newPts = pts / oldMax * newMax; // if an element between [1, length - 1]\n        // is adjusting up from 0, evenly divide it within the range\n\n        if (Number.isNaN(pts) || pts === 0 && lastPts > 0 && i < $ratingList.length - 1) {\n          newPts = lastPts - Math.round(lastPts / ($ratingList.length - i));\n        }\n\n        if (Number.isNaN(newPts)) {\n          newPts = 0;\n        } else if (newPts > lastPts) {\n          newPts = lastPts - 1;\n        }\n\n        newPts = rubricEditing.localizedPoints(Math.max(0, newPts));\n        lastPts = newPts;\n        jquery__WEBPACK_IMPORTED_MODULE_7___default()($ratingList[i]).find('.points').text(newPts);\n        rubricEditing.flagInfinitesimalRating(jquery__WEBPACK_IMPORTED_MODULE_7___default()($ratingList[i]), use_range);\n\n        if (i > 0) {\n          jquery__WEBPACK_IMPORTED_MODULE_7___default()($ratingList[i - 1]).find('.min_points').text(newPts);\n          rubricEditing.flagInfinitesimalRating(jquery__WEBPACK_IMPORTED_MODULE_7___default()($ratingList[i - 1]), use_range);\n        }\n      }\n\n      $criterion.data('criterion_points', _canvas_i18n_numberHelper__WEBPACK_IMPORTED_MODULE_10__[\"default\"].parse(points));\n    }\n\n    rubricEditing.updateRubricPoints($criterion.parents('.rubric'));\n  },\n\n  flagInfinitesimalRating($rating, use_range) {\n    const data = $rating.getTemplateData({\n      textValues: ['points', 'min_points']\n    });\n\n    if (_canvas_i18n_numberHelper__WEBPACK_IMPORTED_MODULE_10__[\"default\"].parse(data.min_points) === _canvas_i18n_numberHelper__WEBPACK_IMPORTED_MODULE_10__[\"default\"].parse(data.points)) {\n      $rating.addClass('infinitesimal');\n      $rating.find('.range_rating').hide();\n    } else {\n      $rating.removeClass('infinitesimal');\n      $rating.find('.range_rating').showIf(use_range);\n    }\n  },\n\n  capPointChange(points, $neighbor, action, compare_target) {\n    const data = $neighbor.getTemplateData({\n      textValues: [compare_target]\n    });\n    return rubricEditing.localizedPoints(action(points, _canvas_i18n_numberHelper__WEBPACK_IMPORTED_MODULE_10__[\"default\"].parse(data[compare_target])));\n  },\n\n  editCriterion($criterion) {\n    if (!$criterion.parents('.rubric').hasClass('editing')) {\n      return;\n    }\n\n    if ($criterion.hasClass('learning_outcome_criterion')) {\n      return;\n    }\n\n    $criterion.find('.edit_criterion_link').click();\n  },\n\n  originalSizeRatings() {\n    const $visibleCriteria = jquery__WEBPACK_IMPORTED_MODULE_7___default()('.rubric:not(.rubric_summary) .criterion:visible');\n\n    if ($visibleCriteria.length) {\n      const scrollTop = jquery__WEBPACK_IMPORTED_MODULE_7___default.a.windowScrollTop();\n      $visibleCriteria.each(function () {\n        const $this = jquery__WEBPACK_IMPORTED_MODULE_7___default()(this),\n              $ratings = $this.find('.ratings:visible');\n\n        if ($ratings.length) {\n          const $ratingsContainers = $ratings.find('.rating .container').css('height', ''),\n                maxHeight = Math.max($ratings.height(), $this.find('.criterion_description .container .description_content').height()); // the -10 here is the padding on the .container.\n\n          $ratingsContainers.css('height', maxHeight - 10 + 'px');\n        }\n      });\n      rubricEditing.htmlBody.scrollTop(scrollTop);\n    }\n  },\n\n  rubricData($rubric) {\n    $rubric = $rubric.filter(':first');\n\n    if (!$rubric.hasClass('editing')) {\n      $rubric = $rubric.next('.editing');\n    }\n\n    $rubric.find('.criterion_points').each(function () {\n      const val = jquery__WEBPACK_IMPORTED_MODULE_7___default()(this).val();\n      jquery__WEBPACK_IMPORTED_MODULE_7___default()(this).parents('.criterion').find('.display_criterion_points').text(val);\n    });\n    var vals = $rubric.getFormData();\n    $rubric.find('.rubric_title .title').text(vals.title);\n    $rubric.find('.rubric_table caption .title').text(vals.title);\n    var vals = $rubric.getTemplateData({\n      textValues: ['title', 'description', 'rubric_total', 'rubric_association_id']\n    });\n    let data = {};\n    data['rubric[title]'] = vals.title;\n    data['rubric[points_possible]'] = vals.rubric_total;\n    data['rubric_association[use_for_grading]'] = $rubric.find('.grading_rubric_checkbox').attr('checked') ? '1' : '0';\n    data['rubric_association[hide_score_total]'] = '0';\n\n    if (data['rubric_association[use_for_grading]'] == '0') {\n      data['rubric_association[hide_score_total]'] = $rubric.find('.totalling_rubric_checkbox').attr('checked') ? '1' : '0';\n    }\n\n    data['rubric_association[hide_points]'] = $rubric.find('.hide_points_checkbox').attr('checked') ? '1' : '0';\n    data['rubric_association[hide_outcome_results]'] = $rubric.find('.hide_outcome_results_checkbox').attr('checked') ? '1' : '0';\n    data['rubric[free_form_criterion_comments]'] = $rubric.find('.rubric_custom_rating').attr('checked') ? '1' : '0';\n    data['rubric_association[id]'] = vals.rubric_association_id; // make sure the association is always updated, see the comment on\n    // RubricsController#update\n\n    data.rubric_association_id = vals.rubric_association_id;\n    let criterion_idx = 0;\n    $rubric.find('.criterion:not(.blank)').each(function () {\n      const $criterion = jquery__WEBPACK_IMPORTED_MODULE_7___default()(this);\n      const use_range = !!$criterion.find('.criterion_use_range').attr('checked');\n\n      if (!$criterion.hasClass('learning_outcome_criterion')) {\n        const masteryPoints = $criterion.find('input.mastery_points').val();\n        $criterion.find('span.mastery_points').text(_canvas_i18n_numberHelper__WEBPACK_IMPORTED_MODULE_10__[\"default\"].validate(masteryPoints) ? masteryPoints : 0);\n      }\n\n      const vals = $criterion.getTemplateData({\n        textValues: ['description', 'display_criterion_points', 'learning_outcome_id', 'mastery_points', 'long_description', 'criterion_id']\n      });\n\n      if ($criterion.hasClass('learning_outcome_criterion')) {\n        vals.long_description = $criterion.find('textarea.long_description').val();\n      }\n\n      vals.mastery_points = $criterion.find('span.mastery_points').text();\n      const pre_criterion = 'rubric[criteria][' + criterion_idx + ']';\n      data[pre_criterion + '[description]'] = vals.description;\n      data[pre_criterion + '[points]'] = vals.display_criterion_points;\n      data[pre_criterion + '[learning_outcome_id]'] = vals.learning_outcome_id;\n      data[pre_criterion + '[long_description]'] = vals.long_description;\n      data[pre_criterion + '[id]'] = vals.criterion_id;\n      data[pre_criterion + '[criterion_use_range]'] = use_range;\n\n      if ($criterion.hasClass('ignore_criterion_for_scoring')) {\n        data[pre_criterion + '[ignore_for_scoring]'] = '1';\n      }\n\n      if (vals.learning_outcome_id) {\n        data[pre_criterion + '[mastery_points]'] = vals.mastery_points;\n      }\n\n      let rating_idx = 0;\n      $criterion.find('.rating').each(function () {\n        const $rating = jquery__WEBPACK_IMPORTED_MODULE_7___default()(this);\n        const rating_vals = $rating.getTemplateData({\n          textValues: ['description', 'rating_long_description', 'points', 'rating_id']\n        });\n        const pre_rating = pre_criterion + '[ratings][' + rating_idx + ']';\n        data[pre_rating + '[description]'] = rating_vals.description;\n        data[pre_rating + '[long_description]'] = rating_vals.rating_long_description;\n        data[pre_rating + '[points]'] = _canvas_i18n_numberHelper__WEBPACK_IMPORTED_MODULE_10__[\"default\"].parse(rating_vals.points);\n        data[pre_rating + '[id]'] = rating_vals.rating_id;\n        rating_idx++;\n      });\n      criterion_idx++;\n    });\n    data.title = data['rubric[title]'];\n    data.points_possible = _canvas_i18n_numberHelper__WEBPACK_IMPORTED_MODULE_10__[\"default\"].parse(data['rubric[points_possible]']);\n    data.rubric_id = $rubric.attr('id').substring(7);\n    data = jquery__WEBPACK_IMPORTED_MODULE_7___default.a.extend(data, jquery__WEBPACK_IMPORTED_MODULE_7___default()('#rubrics #rubric_parameters').getFormData());\n    return data;\n  },\n\n  addRubric() {\n    const $rubric = jquery__WEBPACK_IMPORTED_MODULE_7___default()('#default_rubric').clone(true).attr('id', 'rubric_new').addClass('editing');\n    $rubric.find('.edit_rubric').remove();\n    const $tr = jquery__WEBPACK_IMPORTED_MODULE_7___default()('#edit_rubric').clone(true).show().removeAttr('id').addClass('edit_rubric');\n    const $form = $tr.find('#edit_rubric_form');\n    $rubric.find('.rubric_table').append($tr);\n    $form.attr('method', 'POST').attr('action', jquery__WEBPACK_IMPORTED_MODULE_7___default()('#add_rubric_url').attr('href')); // I believe this should only be visible on the assignment page (not\n    // rubric page or quiz page) but we need to audit uses of the add rubric\n    // dialog before we make it that restrictive\n\n    const $assignPoints = jquery__WEBPACK_IMPORTED_MODULE_7___default()('#assignment_show .points_possible,#rubrics.rubric_dialog .assignment_points_possible');\n    const $quizPage = jquery__WEBPACK_IMPORTED_MODULE_7___default()('#quiz_show,#quiz_edit_wrapper');\n    $form.find('.rubric_grading').showIf($assignPoints.length > 0 && $quizPage.length === 0);\n    return $rubric;\n  },\n\n  updateMasteryScale($rubric) {\n    var _ENV$MASTERY_SCALE;\n\n    if (!((_ENV$MASTERY_SCALE = ENV.MASTERY_SCALE) !== null && _ENV$MASTERY_SCALE !== void 0 && _ENV$MASTERY_SCALE.outcome_proficiency)) {\n      return;\n    }\n\n    const mastery_scale = ENV.MASTERY_SCALE.outcome_proficiency.ratings;\n    const mastery_points = mastery_scale.find(r => r.mastery).points;\n    const points_possible = mastery_scale[0].points;\n    $rubric.find('.criterion:not(.blank)').each(function () {\n      const $criterion = jquery__WEBPACK_IMPORTED_MODULE_7___default()(this);\n\n      if (!$criterion.hasClass('learning_outcome_criterion')) {\n        return;\n      }\n\n      $criterion.find('.criterion_points').val(points_possible).blur();\n      $criterion.find('.mastery_points').text(mastery_points);\n      const old_ratings = $criterion.find('.rating:not(.blank)');\n\n      if (old_ratings.length < mastery_scale.length) {\n        for (let i = old_ratings.length; i < mastery_scale.length; i++) {\n          $criterion.find('.rating:not(.blank):first').addClass('add_column').click();\n        }\n      }\n\n      $criterion.find('.rating:not(.blank)').each(function (i) {\n        const rating = ENV.MASTERY_SCALE.outcome_proficiency.ratings[i];\n\n        if (!rating) {\n          jquery__WEBPACK_IMPORTED_MODULE_7___default()(this).remove();\n        } else {\n          jquery__WEBPACK_IMPORTED_MODULE_7___default()(this).fillTemplateData({\n            data: rating\n          });\n        }\n      });\n    });\n  },\n\n  editRubric($original_rubric, url, useMasteryScale = false) {\n    let $rubric, data, $tr, $form;\n    jquery__WEBPACK_IMPORTED_MODULE_7___default()('#add_criterion_container').remove();\n    rubricEditing.isEditing = true;\n    $rubric = $original_rubric.clone(true).addClass('editing');\n    $rubric.find('.edit_rubric').remove();\n    data = $rubric.getTemplateData({\n      textValues: ['use_for_grading', 'free_form_criterion_comments', 'hide_score_total', 'hide_points', 'hide_outcome_results']\n    });\n    $original_rubric.hide().after($rubric.show());\n\n    if (useMasteryScale) {\n      rubricEditing.updateMasteryScale($rubric);\n    }\n\n    $tr = jquery__WEBPACK_IMPORTED_MODULE_7___default()('#edit_rubric').clone(true).show().removeAttr('id').addClass('edit_rubric');\n    $form = $tr.find('#edit_rubric_form');\n    $rubric.find('.rubric_table').append($tr);\n    $rubric.find(':text:first').focus().select();\n    $form.find('.grading_rubric_checkbox').attr('checked', data.use_for_grading === 'true').triggerHandler('change');\n    $form.find('.rubric_custom_rating').attr('checked', data.free_form_criterion_comments === 'true').triggerHandler('change');\n    $form.find('.totalling_rubric_checkbox').attr('checked', data.hide_score_total === 'true').triggerHandler('change');\n    $form.find('.hide_points_checkbox').attr('checked', data.hide_points === 'true').triggerHandler('change');\n    $form.find('.hide_outcome_results_checkbox').attr('checked', data.hide_outcome_results === 'true').triggerHandler('change');\n    const createText = i18n_edit_rubric__WEBPACK_IMPORTED_MODULE_5__[\"default\"].t('buttons.create_rubric', 'Create Rubric');\n    const updateText = i18n_edit_rubric__WEBPACK_IMPORTED_MODULE_5__[\"default\"].t('buttons.update_rubric', 'Update Rubric');\n    $form.find('.save_button').text($rubric.attr('id') == 'rubric_new' ? createText : updateText);\n    $form.attr('method', 'PUT').attr('action', url);\n    rubricEditing.sizeRatings();\n    rubricEditing.updateAddCriterionLinks($rubric);\n    return $rubric;\n  },\n\n  hideEditRubric($rubric, remove) {\n    rubricEditing.isEditing = false;\n    $rubric = $rubric.filter(':first');\n\n    if (!$rubric.hasClass('editing')) {\n      $rubric = $rubric.next('.editing');\n    }\n\n    $rubric.removeClass('editing');\n    $rubric.find('.edit_rubric').remove();\n\n    if (remove) {\n      if ($rubric.attr('id') != 'rubric_new') {\n        const $display_rubric = $rubric.prev('.rubric');\n        $display_rubric.show();\n        $display_rubric.find('.rubric_title .title').focus();\n      } else {\n        jquery__WEBPACK_IMPORTED_MODULE_7___default()('.add_rubric_link').show().focus();\n      }\n\n      $rubric.remove();\n    } else {\n      $rubric.find('.rubric_title .links').show();\n    }\n  },\n\n  updateRubric($rubric, rubric) {\n    $rubric.find('.criterion:not(.blank)').remove();\n    const $rating_template = $rubric.find('.rating:first').clone(true).removeAttr('id');\n    $rubric.fillTemplateData({\n      data: rubric,\n      id: 'rubric_' + rubric.id,\n      hrefValues: ['id', 'rubric_association_id'],\n      avoid: '.criterion'\n    });\n    $rubric.fillFormData(rubric);\n    rubricEditing.isEditing = false;\n    let url = jquery__WEBPACK_IMPORTED_MODULE_7___default.a.replaceTags($rubric.find('.edit_rubric_url').attr('href'), 'rubric_id', rubric.id);\n    $rubric.find('.edit_rubric_link').attr('href', url).showIf(rubric.permissions.update_association);\n    url = jquery__WEBPACK_IMPORTED_MODULE_7___default.a.replaceTags($rubric.find('.delete_rubric_url').attr('href'), 'association_id', rubric.rubric_association_id);\n    $rubric.find('.delete_rubric_link').attr('href', url).showIf(rubric.permissions.delete_association);\n    $rubric.find('.find_rubric_link').showIf(rubric.permissions.update_association && !jquery__WEBPACK_IMPORTED_MODULE_7___default()('#rubrics').hasClass('raw_listing'));\n    $rubric.find('.criterion:not(.blank) .ratings').empty();\n    rubric.criteria.forEach(criterion => {\n      criterion.display_criterion_points = rubricEditing.localizedPoints(criterion.points);\n      criterion.criterion_id = criterion.id;\n      const $criterion = $rubric.find('.criterion.blank:first').clone(true).show().removeAttr('id');\n      $criterion.removeClass('blank');\n      $criterion.fillTemplateData({\n        data: criterion,\n        htmlValues: ['long_description']\n      });\n      $criterion.find('.long_description_holder').toggleClass('empty', !criterion.long_description);\n      $criterion.find('.criterion_use_range').attr('checked', criterion.criterion_use_range === true);\n      $criterion.find('.ratings').empty();\n      $criterion.find('.hide_when_learning_outcome').showIf(!criterion.learning_outcome_id);\n      $criterion.toggleClass('learning_outcome_criterion', !!criterion.learning_outcome_id);\n      $criterion.toggleClass('ignore_criterion_for_scoring', !!criterion.ignore_for_scoring);\n      $criterion.find('.outcome_sr_content').attr('aria-hidden', !criterion.learning_outcome_id);\n\n      if (criterion.learning_outcome_id) {\n        $criterion.find('.long_description_holder').show();\n        $criterion.find('div.long_description').remove();\n\n        if (criterion.long_description) {\n          $criterion.find('.long_description_link').removeClass('hidden');\n        }\n      }\n\n      let count = 0;\n      criterion.ratings.forEach(rating => {\n        count++;\n        rating.rating_id = rating.id;\n        rating.rating_long_description = rating.long_description;\n        rating.min_points = 0;\n\n        if (count < criterion.ratings.length) {\n          rating.min_points = criterion.ratings[count].points;\n        }\n\n        const $rating = $rating_template.clone(true);\n        $rating.toggleClass('edge_rating', count === 1 || count === criterion.ratings.length);\n\n        if (count === criterion.ratings.length) {\n          $rating.find('.add_rating_link').remove();\n        }\n\n        $rating.fillTemplateData({\n          data: Object(_babel_runtime_helpers_esm_objectSpread2__WEBPACK_IMPORTED_MODULE_0__[\"default\"])(Object(_babel_runtime_helpers_esm_objectSpread2__WEBPACK_IMPORTED_MODULE_0__[\"default\"])({}, rating), {}, {\n            min_points: rubricEditing.localizedPoints(rating.min_points),\n            points: rubricEditing.localizedPoints(rating.points)\n          })\n        });\n        $rating.find('.range_rating').showIf(criterion.criterion_use_range === true && _canvas_i18n_numberHelper__WEBPACK_IMPORTED_MODULE_10__[\"default\"].parse(rating.min_points) !== _canvas_i18n_numberHelper__WEBPACK_IMPORTED_MODULE_10__[\"default\"].parse(rating.points));\n        $criterion.find('.ratings').append($rating);\n      });\n\n      if (criterion.learning_outcome_id) {\n        $criterion.find('.edit_criterion_link').remove();\n        $criterion.find('.rating .links').remove();\n      }\n\n      $rubric.find('.summary').before($criterion);\n      $criterion.find('.criterion_points').val(rubricEditing.localizedPoints(criterion.points));\n      $criterion.data('criterion_points', _canvas_i18n_numberHelper__WEBPACK_IMPORTED_MODULE_10__[\"default\"].parse(criterion.points));\n    });\n    $rubric.find('.criterion:not(.blank)').find('.ratings').showIf(!rubric.free_form_criterion_comments).end().find('.custom_ratings').showIf(rubric.free_form_criterion_comments);\n    $rubric.find('.rubric_title .title').focus();\n  }\n\n};\nrubricEditing.sizeRatings = underscore__WEBPACK_IMPORTED_MODULE_8___default.a.debounce(rubricEditing.originalSizeRatings, 10);\n\nvar round = function (number, precision) {\n  precision = Math.pow(10, precision || 0).toFixed(precision < 0 ? -precision : 0);\n  return Math.round(number * precision) / precision;\n};\n\nrubricEditing.init = function () {\n  const limitToOneRubric = !jquery__WEBPACK_IMPORTED_MODULE_7___default()('#rubrics').hasClass('raw_listing');\n  const $rubric_dialog = jquery__WEBPACK_IMPORTED_MODULE_7___default()('#rubric_dialog'),\n        $rubric_long_description_dialog = jquery__WEBPACK_IMPORTED_MODULE_7___default()('#rubric_long_description_dialog'),\n        $rubric_rating_dialog = jquery__WEBPACK_IMPORTED_MODULE_7___default()('#rubric_rating_dialog');\n  rubricEditing.htmlBody = jquery__WEBPACK_IMPORTED_MODULE_7___default()('html,body');\n  jquery__WEBPACK_IMPORTED_MODULE_7___default()('#rubrics').delegate('.edit_criterion_link, .long_description_link', 'click', function (event) {\n    event.preventDefault();\n    let editing = jquery__WEBPACK_IMPORTED_MODULE_7___default()(this).parents('.rubric').hasClass('editing'),\n        $criterion = jquery__WEBPACK_IMPORTED_MODULE_7___default()(this).parents('.criterion'),\n        isLearningOutcome = jquery__WEBPACK_IMPORTED_MODULE_7___default()(this).parents('.criterion').hasClass('learning_outcome_criterion'),\n        title = i18n_edit_rubric__WEBPACK_IMPORTED_MODULE_5__[\"default\"].t('Edit Criterion'),\n        data = $criterion.getTemplateData({\n      textValues: ['long_description', 'description']\n    });\n\n    if (editing && !isLearningOutcome) {\n      // Override the default description if this is a new criterion.\n      if ($criterion.hasClass('new_criterion')) {\n        data.description = '';\n        title = i18n_edit_rubric__WEBPACK_IMPORTED_MODULE_5__[\"default\"].t('Add Criterion');\n        $rubric_long_description_dialog.find('.save_button').text(i18n_edit_rubric__WEBPACK_IMPORTED_MODULE_5__[\"default\"].t('Create Criterion'));\n      } else {\n        $rubric_long_description_dialog.find('.save_button').text(i18n_edit_rubric__WEBPACK_IMPORTED_MODULE_5__[\"default\"].t('Update Criterion'));\n      }\n\n      $rubric_long_description_dialog.fillFormData(data).fillTemplateData({\n        data\n      }).hideErrors().find('.editing').show().end().find('.displaying').hide().end();\n    } else {\n      if (!isLearningOutcome) {\n        // We want to prevent XSS in this dialog but users expect to have line\n        // breaks preserved when they view the long description. Previously we\n        // were letting fillTemplateData do the htmlEscape dance but that\n        // wouldn't let us preserve the line breaks because it munged the <br>\n        // tags we were inserting.\n        //\n        // Finally, we're not making any changes in the case of this being a\n        // learning outcome criterion because they come from elsewhere in the\n        // app and may have legitimate markup in the text (at least according\n        // to the tests that broke while putting this together).\n        data.long_description = Object(html_escape__WEBPACK_IMPORTED_MODULE_9__[\"default\"])(data.long_description).replace(/(\\r?\\n)/g, '<br>$1');\n      }\n\n      title = i18n_edit_rubric__WEBPACK_IMPORTED_MODULE_5__[\"default\"].t('Criterion Long Description');\n      $rubric_long_description_dialog.fillTemplateData({\n        data,\n        htmlValues: ['description', 'long_description'],\n        avoid: 'textarea'\n      }).find('.displaying').show().end().find('.editing').hide().end();\n    }\n\n    const closeFunction = function () {\n      // If the criterion is still in the new state (user either canceled or closed dialog)\n      // delete the criterion.\n      if ($criterion.hasClass('new_criterion')) {\n        setTimeout(() => {\n          jquery__WEBPACK_IMPORTED_MODULE_7___default.a.screenReaderFlashMessageExclusive(i18n_edit_rubric__WEBPACK_IMPORTED_MODULE_5__[\"default\"].t('New Criterion Canceled'));\n        }, 100);\n        $criterion.find('.delete_criterion_link').click();\n      }\n    };\n\n    const beforeCloseFunction = function () {\n      if ($criterion.hasClass('new_criterion')) {\n        $criterion.parents('.rubric_container').first().find('#add_criterion_container .icon-plus').focus();\n      } else {\n        $criterion.find('.edit_criterion_link').focus();\n      }\n    };\n\n    $rubric_long_description_dialog.data('current_criterion', $criterion).dialog({\n      title,\n      width: 416,\n      buttons: [],\n      close: closeFunction,\n      beforeClose: beforeCloseFunction\n    });\n\n    if (editing && !isLearningOutcome) {\n      $rubric_long_description_dialog.fixDialogButtons();\n    }\n  }).delegate('.edit_rating_link', 'click', function (event) {\n    event.preventDefault();\n    const $criterion = jquery__WEBPACK_IMPORTED_MODULE_7___default()(this).parents('.criterion');\n    const $rating = jquery__WEBPACK_IMPORTED_MODULE_7___default()(this).parents('.rating');\n    const data = $rating.getTemplateData({\n      textValues: ['description', 'points', 'min_points', 'rating_long_description']\n    });\n    const criterion_data = $criterion.getTemplateData({\n      textValues: ['description']\n    });\n\n    if (!$rating.parents('.rubric').hasClass('editing')) {\n      return;\n    }\n\n    if ($rating.parents('.criterion').hasClass('learning_outcome_criterion')) {\n      return;\n    }\n\n    const $nextRating = $rating.closest('td').next('.rating');\n    const use_range = $rating.parents('.criterion').find('.criterion_use_range').attr('checked');\n    $rubric_rating_dialog.find('.range_rating').showIf(use_range);\n    $rubric_rating_dialog.find('.min_points').prop('disabled', !$nextRating.length);\n    rubricEditing.hideCriterionAdd($rating.parents('.rubric'));\n    $rubric_rating_dialog.find('#edit_rating_form_criterion_description').text(criterion_data.description);\n    const points_element = $rubric_rating_dialog.find('#points');\n\n    if (use_range) {\n      points_element.attr('aria-labelledby', 'rating_form_max_score_label');\n      points_element.attr('placeholder', i18n_edit_rubric__WEBPACK_IMPORTED_MODULE_5__[\"default\"].t('max'));\n    } else {\n      points_element.attr('aria-labelledby', 'rating_form_score_label');\n      points_element.removeAttr('placeholder');\n    }\n\n    const close_function = function () {\n      const $current_rating = $rubric_rating_dialog.data('current_rating'); // If the rating is still in the new state (user either canceled or closed dialog)\n      // delete the rating.\n\n      if ($current_rating.hasClass('new_rating')) {\n        setTimeout(() => {\n          jquery__WEBPACK_IMPORTED_MODULE_7___default.a.screenReaderFlashMessageExclusive(i18n_edit_rubric__WEBPACK_IMPORTED_MODULE_5__[\"default\"].t('New Rating Canceled'));\n        }, 100);\n        $current_rating.find('.delete_rating_link').click();\n      }\n    };\n\n    $rubric_rating_dialog.fillFormData(data).find('.editing').show().end().find('.displaying').hide().end();\n    $rubric_rating_dialog.data('current_criterion', $criterion).data('current_rating', $rating).hideErrors().dialog({\n      title: i18n_edit_rubric__WEBPACK_IMPORTED_MODULE_5__[\"default\"].t('titles.edit_rubric_rating', 'Edit Rating'),\n      width: 400,\n      buttons: [],\n      close: close_function\n    });\n    $rubric_rating_dialog.fixDialogButtons();\n  }).delegate('.find_rubric_link', 'click', event => {\n    event.preventDefault();\n    $rubric_dialog.dialog({\n      width: 800,\n      height: 380,\n      resizable: true,\n      title: i18n_edit_rubric__WEBPACK_IMPORTED_MODULE_5__[\"default\"].t('titles.find_existing_rubric', 'Find Existing Rubric')\n    });\n\n    if (!$rubric_dialog.hasClass('loaded')) {\n      $rubric_dialog.find('.loading_message').text(i18n_edit_rubric__WEBPACK_IMPORTED_MODULE_5__[\"default\"].t('messages.loading_rubric_groups', 'Loading rubric groups...'));\n      const url = $rubric_dialog.find('.grading_rubrics_url').attr('href');\n      jquery__WEBPACK_IMPORTED_MODULE_7___default.a.ajaxJSON(url, 'GET', {}, data => {\n        data.forEach(context => {\n          const $context = $rubric_dialog.find('.rubrics_dialog_context_select.blank:first').clone(true).removeClass('blank');\n          $context.fillTemplateData({\n            data: {\n              name: context.name,\n              context_code: context.context_code,\n              rubrics: context.rubrics + ' rubrics'\n            }\n          });\n          $rubric_dialog.find('.rubrics_dialog_contexts_select').append($context.show());\n        });\n        const codes = {};\n\n        if (data.length == 0) {\n          $rubric_dialog.find('.loading_message').text('No rubrics found');\n        } else {\n          $rubric_dialog.find('.loading_message').remove();\n        }\n\n        $rubric_dialog.find('.rubrics_dialog_rubrics_holder').slideDown();\n        $rubric_dialog.find('.rubrics_dialog_contexts_select .rubrics_dialog_context_select:visible:first').click();\n        $rubric_dialog.addClass('loaded');\n      }, data => {\n        $rubric_dialog.find('.loading_message').text(i18n_edit_rubric__WEBPACK_IMPORTED_MODULE_5__[\"default\"].t('errors.load_rubrics_failed', 'Loading rubrics failed, please try again'));\n      });\n    }\n  }).delegate('.edit_rubric_link', 'click', function (event) {\n    event.preventDefault();\n    const $link = jquery__WEBPACK_IMPORTED_MODULE_7___default()(this),\n          $rubric = $link.parents('.rubric'),\n          useMasteryScale = shouldUseMasteryScale($rubric);\n    if (rubricEditing.isEditing) return false;\n\n    if (!$link.hasClass('copy_edit') || confirm(getEditRubricPrompt(useMasteryScale))) {\n      rubricEditing.editRubric($rubric, $link.attr('href'), useMasteryScale);\n    }\n  }); // cant use delegate because events bound to a .delegate wont get triggered when you do .triggerHandler('click') because it wont bubble up.\n\n  jquery__WEBPACK_IMPORTED_MODULE_7___default()('.rubric .delete_rubric_link').bind('click', function (event, callback) {\n    event.preventDefault();\n    let message = i18n_edit_rubric__WEBPACK_IMPORTED_MODULE_5__[\"default\"].t('prompts.confirm_delete', 'Are you sure you want to delete this rubric?');\n\n    if (callback && callback.confirmationMessage) {\n      message = callback.confirmationMessage;\n    }\n\n    jquery__WEBPACK_IMPORTED_MODULE_7___default()(this).parents('.rubric').confirmDelete({\n      url: jquery__WEBPACK_IMPORTED_MODULE_7___default()(this).attr('href'),\n      message,\n\n      success() {\n        jquery__WEBPACK_IMPORTED_MODULE_7___default()(this).fadeOut(() => {\n          jquery__WEBPACK_IMPORTED_MODULE_7___default()('.add_rubric_link').show().focus();\n\n          if (callback && jquery__WEBPACK_IMPORTED_MODULE_7___default.a.isFunction(callback)) {\n            callback();\n          }\n        });\n      }\n\n    });\n  });\n  $rubric_long_description_dialog.find('.save_button').click(() => {\n    const long_description = $rubric_long_description_dialog.find('textarea.long_description').val(),\n          description = $rubric_long_description_dialog.find('textarea.description').val(),\n          $criterion = $rubric_long_description_dialog.data('current_criterion');\n    const valid = $rubric_long_description_dialog.validateForm({\n      required: ['description'],\n      labels: {\n        description: i18n_edit_rubric__WEBPACK_IMPORTED_MODULE_5__[\"default\"].t('Description')\n      }\n    });\n\n    if (!valid) {\n      return;\n    }\n\n    if ($criterion) {\n      $criterion.fillTemplateData({\n        data: {\n          long_description,\n          description_title: description\n        }\n      });\n      $criterion.find('textarea.long_description').val(long_description);\n      $criterion.find('textarea.description').val(description);\n      $criterion.find('.long_description_holder').toggleClass('empty', !long_description);\n      let screenreaderMessage = i18n_edit_rubric__WEBPACK_IMPORTED_MODULE_5__[\"default\"].t('Criterion Updated');\n\n      if ($criterion.hasClass('new_criterion')) {\n        screenreaderMessage = i18n_edit_rubric__WEBPACK_IMPORTED_MODULE_5__[\"default\"].t('Criterion Created');\n      }\n\n      $criterion.removeClass('new_criterion');\n      $criterion.show();\n      const $rubric = $criterion.parents('.rubric');\n      rubricEditing.updateCriteria($rubric);\n      rubricEditing.updateRubricPoints($rubric);\n      rubricEditing.updateAddCriterionLinks($rubric);\n      setTimeout(() => {\n        jquery__WEBPACK_IMPORTED_MODULE_7___default.a.screenReaderFlashMessageExclusive(screenreaderMessage);\n        $criterion.find('.edit_criterion_link').focus();\n      }, 100);\n    }\n\n    $rubric_long_description_dialog.dialog('close');\n  });\n  $rubric_long_description_dialog.find('.cancel_button').click(() => {\n    $rubric_long_description_dialog.dialog('close');\n  });\n  $rubric_rating_dialog.find('.save_button').click(event => {\n    event.preventDefault();\n    event.stopPropagation();\n    const data = $rubric_rating_dialog.find('#edit_rating_form').getFormData();\n    const valid = $rubric_rating_dialog.find('#edit_rating_form').validateForm({\n      data,\n      required: ['description'],\n      labels: {\n        description: i18n_edit_rubric__WEBPACK_IMPORTED_MODULE_5__[\"default\"].t('Rating Title')\n      }\n    });\n\n    if (!valid) {\n      return;\n    }\n\n    const $rating = $rubric_rating_dialog.data('current_rating');\n    const $criterion = $rubric_rating_dialog.data('current_criterion');\n    const $target = $rating.find('.edit_rating_link');\n    const use_range = $criterion.find('.criterion_use_range').attr('checked');\n    const $nextRating = $rating.next('.rating');\n    const $previousRating = $rating.prev('.rating');\n    data.points = round(_canvas_i18n_numberHelper__WEBPACK_IMPORTED_MODULE_10__[\"default\"].parse(data.points), 2);\n\n    if (isNaN(data.points)) {\n      data.points = _canvas_i18n_numberHelper__WEBPACK_IMPORTED_MODULE_10__[\"default\"].parse($criterion.find('.criterion_points').val());\n\n      if (isNaN(data.points)) {\n        data.points = 5;\n      }\n\n      if (data.points < 0) {\n        data.points = 0;\n      }\n    }\n\n    data.min_points = round(_canvas_i18n_numberHelper__WEBPACK_IMPORTED_MODULE_10__[\"default\"].parse(data.min_points), 2);\n\n    if (isNaN(data.min_points) || data.min_points < 0) {\n      data.min_points = 0;\n    }\n\n    if (use_range) {\n      // Fix up min and max if the user reversed them.\n      if (data.points < data.min_points) {\n        const tmp_points = data.points;\n        data.points = data.min_points;\n        data.min_points = tmp_points;\n      }\n\n      if ($previousRating && $previousRating.length !== 0) {\n        data.points = rubricEditing.capPointChange(data.points, $previousRating, Math.min, 'points');\n      }\n\n      if ($nextRating && $nextRating.length !== 0) {\n        data.min_points = rubricEditing.capPointChange(data.min_points, $nextRating, Math.max, 'min_points');\n      }\n    }\n\n    $rating.fillTemplateData({\n      data\n    });\n    rubricEditing.flagInfinitesimalRating($rating, use_range);\n\n    if ($rating.prev('.rating').length === 0) {\n      $criterion.find('.criterion_points').val(rubricEditing.localizedPoints(data.points));\n      $criterion.data('criterion_points', data.points);\n    }\n\n    if ($nextRating) {\n      $nextRating.fillTemplateData({\n        data: {\n          points: data.min_points\n        }\n      });\n      rubricEditing.flagInfinitesimalRating($nextRating, use_range);\n    }\n\n    if ($previousRating) {\n      $previousRating.fillTemplateData({\n        data: {\n          min_points: data.points\n        }\n      });\n      rubricEditing.flagInfinitesimalRating($previousRating, use_range);\n    }\n\n    rubricEditing.updateCriterionPoints($criterion, true);\n    rubricEditing.originalSizeRatings();\n    $rating.removeClass('new_rating');\n    $rubric_rating_dialog.dialog('close');\n    setTimeout(() => {\n      jquery__WEBPACK_IMPORTED_MODULE_7___default.a.screenReaderFlashMessageExclusive(i18n_edit_rubric__WEBPACK_IMPORTED_MODULE_5__[\"default\"].t('Rating Updated'));\n      $target.focus();\n    }, 100);\n  });\n  $rubric_rating_dialog.find('.cancel_button').click(() => {\n    $rubric_rating_dialog.dialog('close');\n  });\n  jquery__WEBPACK_IMPORTED_MODULE_7___default()('.add_rubric_link').click(event => {\n    event.preventDefault();\n\n    if (jquery__WEBPACK_IMPORTED_MODULE_7___default()('#rubric_new').length > 0) {\n      return;\n    }\n\n    if (limitToOneRubric && jquery__WEBPACK_IMPORTED_MODULE_7___default()('#rubrics .rubric:visible').length > 0) {\n      return;\n    }\n\n    const $rubric = rubricEditing.addRubric();\n    jquery__WEBPACK_IMPORTED_MODULE_7___default()('#rubrics').append($rubric.show());\n    jquery__WEBPACK_IMPORTED_MODULE_7___default()('.add_rubric_link').hide();\n    rubricEditing.updateAddCriterionLinks($rubric);\n    const $target = $rubric.find('.find_rubric_link:visible:first');\n\n    if ($target.length > 0) {\n      $target.focus();\n    } else {\n      $rubric.find(':text:first').focus().select();\n    }\n  });\n  jquery__WEBPACK_IMPORTED_MODULE_7___default()('#rubric_dialog').delegate('.rubrics_dialog_context_select', 'click', function (event) {\n    event.preventDefault();\n    jquery__WEBPACK_IMPORTED_MODULE_7___default()('.rubrics_dialog_contexts_select .selected_side_tab').removeClass('selected_side_tab');\n    const $link = jquery__WEBPACK_IMPORTED_MODULE_7___default()(this);\n    $link.addClass('selected_side_tab');\n    const context_code = $link.getTemplateData({\n      textValues: ['context_code']\n    }).context_code;\n\n    if ($link.hasClass('loaded')) {\n      $rubric_dialog.find('.rubrics_loading_message').hide();\n      $rubric_dialog.find('.rubrics_dialog_rubrics,.rubrics_dialog_rubrics_select').show();\n      $rubric_dialog.find('.rubrics_dialog_rubrics_select .rubrics_dialog_rubric_select').hide();\n      $rubric_dialog.find('.rubrics_dialog_rubrics_select .rubrics_dialog_rubric_select.' + context_code).show();\n      $rubric_dialog.find('.rubrics_dialog_rubrics_select .rubrics_dialog_rubric_select:visible:first').click();\n    } else {\n      $rubric_dialog.find('.rubrics_loading_message').text(i18n_edit_rubric__WEBPACK_IMPORTED_MODULE_5__[\"default\"].t('messages.loading_rubrics', 'Loading rubrics...')).show();\n      $rubric_dialog.find('.rubrics_dialog_rubrics,.rubrics_dialog_rubrics_select').hide();\n      const url = $rubric_dialog.find('.grading_rubrics_url').attr('href') + '?context_code=' + context_code;\n      jquery__WEBPACK_IMPORTED_MODULE_7___default.a.ajaxJSON(url, 'GET', {}, data => {\n        $link.addClass('loaded');\n        $rubric_dialog.find('.rubrics_loading_message').hide();\n        $rubric_dialog.find('.rubrics_dialog_rubrics,.rubrics_dialog_rubrics_select').show();\n        data.forEach(item => {\n          const association = item.rubric_association;\n          const rubric = association.rubric;\n          const $rubric_select = $rubric_dialog.find('.rubrics_dialog_rubric_select.blank:first').clone(true);\n          $rubric_select.addClass(association.context_code);\n          rubric.criterion_count = rubric.data.length;\n          $rubric_select.fillTemplateData({\n            data: rubric\n          }).removeClass('blank');\n          $rubric_dialog.find('.rubrics_dialog_rubrics_select').append($rubric_select.show());\n          const $rubric = $rubric_dialog.find('.rubrics_dialog_rubric.blank:first').clone(true);\n          $rubric.removeClass('blank');\n          $rubric.find('.criterion.blank').hide();\n          rubric.rubric_total = rubric.points_possible;\n          $rubric.fillTemplateData({\n            data: rubric,\n            id: 'rubric_dialog_' + rubric.id\n          });\n          rubric.data.forEach(criterion => {\n            criterion.criterion_points = criterion.points;\n            criterion.criterion_points_possible = criterion.points;\n            criterion.criterion_description = criterion.description;\n            const ratings = criterion.ratings;\n            delete criterion.ratings;\n            const $criterion = $rubric.find('.criterion.blank:first').clone().removeClass('blank');\n            $criterion.fillTemplateData({\n              data: criterion\n            });\n            $criterion.find('.rating_holder').addClass('blank');\n            ratings.forEach(rating => {\n              const $rating = $criterion.find('.rating_holder.blank:first').clone().removeClass('blank');\n              rating.rating = rating.description;\n              $rating.fillTemplateData({\n                data: rating\n              });\n              $criterion.find('.ratings').append($rating.show());\n            });\n            $criterion.find('.rating_holder.blank').remove();\n            $rubric.find('.rubric.rubric_summary tr.summary').before($criterion.show());\n          });\n          $rubric_dialog.find('.rubrics_dialog_rubrics').append($rubric);\n        });\n        $rubric_dialog.find('.rubrics_dialog_rubrics_select .rubrics_dialog_rubric_select').hide();\n        $rubric_dialog.find('.rubrics_dialog_rubrics_select .rubrics_dialog_rubric_select.' + context_code).show();\n        $rubric_dialog.find('.rubrics_dialog_rubrics_select .rubrics_dialog_rubric_select:visible:first').click();\n      }, data => {\n        $rubric_dialog.find('.rubrics_loading_message').text('Loading rubrics failed, please try again');\n      });\n    }\n  }).delegate('.rubrics_dialog_rubric_select', 'click', function (event) {\n    event.preventDefault();\n    const $select = jquery__WEBPACK_IMPORTED_MODULE_7___default()(this);\n    $select.find('a').focus();\n    const id = $select.getTemplateData({\n      textValues: ['id']\n    }).id;\n    jquery__WEBPACK_IMPORTED_MODULE_7___default()('.rubric_dialog .rubrics_dialog_rubric_select').removeClass('selected_side_tab'); // .css('fontWeight', 'normal');\n\n    $select.addClass('selected_side_tab');\n    jquery__WEBPACK_IMPORTED_MODULE_7___default()('.rubric_dialog .rubrics_dialog_rubric').hide();\n    jquery__WEBPACK_IMPORTED_MODULE_7___default()('.rubric_dialog #rubric_dialog_' + id).show();\n  }).delegate('.select_rubric_link', 'click', function (event) {\n    event.preventDefault();\n    const data = {};\n    const params = $rubric_dialog.getTemplateData({\n      textValues: ['rubric_association_type', 'rubric_association_id', 'rubric_association_purpose']\n    });\n    data['rubric_association[association_type]'] = params.rubric_association_type;\n    data['rubric_association[association_id]'] = params.rubric_association_id;\n    data['rubric_association[rubric_id]'] = jquery__WEBPACK_IMPORTED_MODULE_7___default()(this).parents('.rubrics_dialog_rubric').getTemplateData({\n      textValues: ['id']\n    }).id;\n    data['rubric_association[purpose]'] = params.rubric_association_purpose;\n    $rubric_dialog.loadingImage();\n    const url = $rubric_dialog.find('.select_rubric_url').attr('href');\n    jquery__WEBPACK_IMPORTED_MODULE_7___default.a.ajaxJSON(url, 'POST', data, data => {\n      var _rubric$permissions;\n\n      $rubric_dialog.loadingImage('remove');\n      let $rubric = jquery__WEBPACK_IMPORTED_MODULE_7___default()('#rubrics .rubric:visible:first');\n\n      if ($rubric.length === 0) {\n        $rubric = rubricEditing.addRubric();\n      }\n\n      const rubric = data.rubric;\n      rubric.rubric_association_id = data.rubric_association.id;\n      rubric.use_for_grading = data.rubric_association.use_for_grading;\n      rubric.permissions = rubric.permissions || {};\n\n      if (data.rubric_association.permissions) {\n        rubric.permissions.update_association = data.rubric_association.permissions.update;\n        rubric.permissions.delete_association = data.rubric_association.permissions.delete;\n      }\n\n      rubricEditing.updateRubric($rubric, rubric);\n      rubricEditing.updateRubricPoints($rubric);\n      rubricEditing.hideEditRubric($rubric, false);\n      $rubric_dialog.dialog('close'); // equivalent check in _rubric.html.erb\n\n      if (!((_rubric$permissions = rubric.permissions) !== null && _rubric$permissions !== void 0 && _rubric$permissions.update)) {\n        $rubric.find('.edit_rubric_link').addClass('copy_edit');\n      }\n    }, () => {\n      $rubric_dialog.loadingImage('remove');\n    });\n  });\n  $rubric_dialog.find('.cancel_find_rubric_link').click(event => {\n    event.preventDefault();\n    $rubric_dialog.dialog('close');\n  });\n  $rubric_dialog.find('.rubric_brief').find('.expand_data_link,.collapse_data_link').click(function (event) {\n    event.preventDefault();\n    jquery__WEBPACK_IMPORTED_MODULE_7___default()(this).parents('.rubric_brief').find('.expand_data_link,.collapse_data_link').toggle().end().find('.details').slideToggle();\n  });\n  let forceSubmit = false,\n      skipPointsUpdate = false;\n  jquery__WEBPACK_IMPORTED_MODULE_7___default()('#edit_rubric_form').formSubmit({\n    processData(data) {\n      const $rubric = jquery__WEBPACK_IMPORTED_MODULE_7___default()(this).parents('.rubric');\n      if (!$rubric.find('.criterion:not(.blank)').length) return false;\n      var data = rubricEditing.rubricData($rubric);\n\n      if (ENV.MASTER_COURSE_DATA && ENV.MASTER_COURSE_DATA.restricted_by_master_course && ENV.MASTER_COURSE_DATA.is_master_course_child_content && ENV.MASTER_COURSE_DATA.master_course_restrictions.points) {\n        skipPointsUpdate = true;\n      } else if (data['rubric_association[use_for_grading]'] == '1') {\n        let assignmentPoints = _canvas_i18n_numberHelper__WEBPACK_IMPORTED_MODULE_10__[\"default\"].parse(jquery__WEBPACK_IMPORTED_MODULE_7___default()('#assignment_show .points_possible, #rubrics.rubric_dialog .assignment_points_possible').text());\n\n        if (Number.isNaN(assignmentPoints)) {\n          // For N.Q assignments, we show the rubric from the assignment edit screen instead of\n          // the show screen used for other assignments.\n          assignmentPoints = _canvas_i18n_numberHelper__WEBPACK_IMPORTED_MODULE_10__[\"default\"].parse(jquery__WEBPACK_IMPORTED_MODULE_7___default()('#edit_assignment_header input[id=\"assignment_points_possible\"]').val());\n        }\n\n        const rubricPoints = parseFloat(data.points_possible);\n\n        if (assignmentPoints != null && assignmentPoints != void 0 && rubricPoints != assignmentPoints && !forceSubmit) {\n          const pointRatio = assignmentPoints === 0 ? rubricPoints : rubricPoints / assignmentPoints;\n          const $confirmDialog = jquery__WEBPACK_IMPORTED_MODULE_7___default()(Object(_jst_changePointsPossibleToMatchRubricDialog_handlebars__WEBPACK_IMPORTED_MODULE_6__[\"default\"])({\n            assignmentPoints,\n            rubricPoints,\n            pointRatio\n          }));\n\n          const closeDialog = function (skip) {\n            forceSubmit = true;\n            skipPointsUpdate = skip === true;\n            $confirmDialog.remove();\n            jquery__WEBPACK_IMPORTED_MODULE_7___default()('#edit_rubric_form').submit();\n          };\n\n          $confirmDialog.dialog({\n            dialogClass: 'edit-rubric-confirm-points-change',\n            buttons: [{\n              text: i18n_edit_rubric__WEBPACK_IMPORTED_MODULE_5__[\"default\"].t('change', 'Change'),\n              click: closeDialog\n            }, {\n              text: i18n_edit_rubric__WEBPACK_IMPORTED_MODULE_5__[\"default\"].t('leave_different', 'Leave different'),\n\n              click() {\n                closeDialog(true);\n              }\n\n            }],\n            width: 400,\n            resizable: false,\n            close: $confirmDialog.remove\n          });\n          return false;\n        }\n      }\n\n      data.skip_updating_points_possible = skipPointsUpdate;\n      skipPointsUpdate = false;\n      forceSubmit = false;\n      return data;\n    },\n\n    beforeSubmit(data) {\n      const $rubric = jquery__WEBPACK_IMPORTED_MODULE_7___default()(this).parents('.rubric');\n      $rubric.find('.rubric_title .title').text(data['rubric[title]']);\n      $rubric.find('.rubric_table caption .title').text(data['rubric[title]']);\n      $rubric.find('.rubric_total').text(rubricEditing.localizedPoints(data.points_possible));\n      $rubric.removeClass('editing');\n\n      if ($rubric.attr('id') == 'rubric_new') {\n        $rubric.attr('id', 'rubric_adding');\n      } else {\n        $rubric.prev('.rubric').remove();\n      }\n\n      jquery__WEBPACK_IMPORTED_MODULE_7___default()(this).parents('tr').hide();\n      $rubric.loadingImage();\n      return $rubric;\n    },\n\n    success(data, $rubric) {\n      const rubric = data.rubric;\n      $rubric.loadingImage('remove');\n      rubric.rubric_association_id = data.rubric_association.id;\n      rubric.use_for_grading = data.rubric_association.use_for_grading;\n      rubric.hide_points = data.rubric_association.hide_points;\n      rubric.hide_outcome_results = data.rubric_association.hide_outcome_results;\n      rubric.permissions = rubric.permissions || {};\n\n      if (data.rubric_association.permissions) {\n        rubric.permissions.update_association = data.rubric_association.permissions.update;\n        rubric.permissions.delete_association = data.rubric_association.permissions.delete;\n      }\n\n      rubricEditing.updateRubric($rubric, rubric);\n\n      if (data.rubric_association && data.rubric_association.use_for_grading && !data.rubric_association.skip_updating_points_possible) {\n        jquery__WEBPACK_IMPORTED_MODULE_7___default()('#assignment_show .points_possible').text(rubric.points_possible);\n        const discussion_points_text = i18n_edit_rubric__WEBPACK_IMPORTED_MODULE_5__[\"default\"].t('discussion_points_possible', {\n          one: '%{count} point possible',\n          other: '%{count} points possible'\n        }, {\n          count: rubric.points_possible || 0,\n          precision: 2,\n          strip_insignificant_zeros: true\n        });\n        jquery__WEBPACK_IMPORTED_MODULE_7___default()('.discussion-title .discussion-points').text(discussion_points_text);\n      }\n\n      if (!limitToOneRubric) {\n        jquery__WEBPACK_IMPORTED_MODULE_7___default()('.add_rubric_link').show();\n      }\n\n      $rubric.find('.rubric_title .links:not(.locked)').show();\n    }\n\n  });\n  jquery__WEBPACK_IMPORTED_MODULE_7___default()('#edit_rubric_form .cancel_button').click(function () {\n    rubricEditing.hideEditRubric(jquery__WEBPACK_IMPORTED_MODULE_7___default()(this).parents('.rubric'), true);\n  });\n  jquery__WEBPACK_IMPORTED_MODULE_7___default()('#rubrics').delegate('.add_criterion_link', 'click', function (event) {\n    const $criterion = rubricEditing.addCriterion(jquery__WEBPACK_IMPORTED_MODULE_7___default()(this).parents('.rubric')); // \"#default_rubric\"));\n\n    $criterion.hide();\n    rubricEditing.editCriterion($criterion);\n    return false;\n  }).delegate('.description_title', 'click', function () {\n    const $criterion = jquery__WEBPACK_IMPORTED_MODULE_7___default()(this).parents('.criterion');\n    rubricEditing.editCriterion($criterion);\n    return false;\n  }).delegate('.delete_criterion_link', 'click', function (event) {\n    const $criterion = jquery__WEBPACK_IMPORTED_MODULE_7___default()(this).parents('.criterion'); // this is annoying, but the current code doesn't care where in the list\n    // of rows the \"blank\" template element is, so we have to account for the\n    // fact that it could be the previous row\n\n    const $prevCriterion = $criterion.prevAll('.criterion:not(.blank)').first();\n    let $target = $prevCriterion.find('.edit_criterion_link');\n\n    if ($prevCriterion.length == 0) {\n      $target = $criterion.parents('.rubric_container').find('.rubric_title input');\n    }\n\n    const $rubric = $criterion.parents('.rubric');\n\n    if ($criterion.hasClass('new_criterion')) {\n      $criterion.remove();\n      rubricEditing.updateAddCriterionLinks($rubric, '.icon-plus');\n    } else {\n      // focusing before the fadeOut so safari\n      // screenreader can handle focus properly\n      $target.focus();\n      $criterion.fadeOut(() => {\n        $criterion.remove();\n        rubricEditing.updateCriteria($rubric);\n        rubricEditing.updateRubricPoints($rubric);\n        rubricEditing.updateAddCriterionLinks($rubric);\n      });\n    }\n\n    return false;\n  }).delegate('.rating_description_value', 'click', event => false).bind('mouseover', event => {\n    const $target = jquery__WEBPACK_IMPORTED_MODULE_7___default()(event.target);\n\n    if (!$target.closest('.ratings').length) {\n      rubricEditing.hideCriterionAdd($target.parents('.rubric'));\n    }\n  }).delegate('.delete_rating_link', 'click', function (event) {\n    const $rating_cell = jquery__WEBPACK_IMPORTED_MODULE_7___default()(this).closest('td');\n    const $target = $rating_cell.prev().find('.add_rating_link_after');\n    const $previousRating = $rating_cell.prev('.rating');\n    const previous_data = {\n      min_points: $rating_cell.next('.rating').find('.points').text()\n    };\n    $previousRating.fillTemplateData({\n      data: previous_data\n    });\n    event.preventDefault();\n    rubricEditing.hideCriterionAdd(jquery__WEBPACK_IMPORTED_MODULE_7___default()(this).parents('.rubric'));\n    jquery__WEBPACK_IMPORTED_MODULE_7___default()(this).parents('.rating').fadeOut(function () {\n      const $criterion = jquery__WEBPACK_IMPORTED_MODULE_7___default()(this).parents('.criterion');\n      rubricEditing.flagInfinitesimalRating($previousRating, $criterion.find('.criterion_use_range').attr('checked'));\n      jquery__WEBPACK_IMPORTED_MODULE_7___default()(this).remove();\n      rubricEditing.sizeRatings($criterion);\n      $target.focus();\n    });\n  }).delegate('.add_rating_link_after', 'click', function (event) {\n    event.preventDefault();\n    const $this = jquery__WEBPACK_IMPORTED_MODULE_7___default()(this).parents('td.rating');\n    $this.addClass('add_right');\n    rubricEditing.addNewRatingColumn($this);\n  }).delegate('.add_column', 'click', function (event) {\n    const $this = jquery__WEBPACK_IMPORTED_MODULE_7___default()(this);\n    rubricEditing.addNewRatingColumn($this);\n  });\n  jquery__WEBPACK_IMPORTED_MODULE_7___default()('.criterion_points').keydown(function (event) {\n    if (event.keyCode == 13) {\n      rubricEditing.updateCriterionPoints(jquery__WEBPACK_IMPORTED_MODULE_7___default()(this).parents('.criterion'));\n    }\n  }).blur(function (event) {\n    rubricEditing.updateCriterionPoints(jquery__WEBPACK_IMPORTED_MODULE_7___default()(this).parents('.criterion'));\n  });\n  jquery__WEBPACK_IMPORTED_MODULE_7___default()('#edit_rating').delegate('.cancel_button', 'click', function (event) {\n    const $target = jquery__WEBPACK_IMPORTED_MODULE_7___default()(this).closest('td.rating').find('.edit_rating_link');\n  });\n  jquery__WEBPACK_IMPORTED_MODULE_7___default()('#edit_rubric_form .rubric_custom_rating').change(function () {\n    jquery__WEBPACK_IMPORTED_MODULE_7___default()(this).parents('.rubric').find('tr.criterion').find('.ratings').showIf(!jquery__WEBPACK_IMPORTED_MODULE_7___default()(this).attr('checked')).end().find('.criterion_use_range_div').showIf(!jquery__WEBPACK_IMPORTED_MODULE_7___default()(this).attr('checked')).end().find('.custom_ratings').showIf(jquery__WEBPACK_IMPORTED_MODULE_7___default()(this).attr('checked'));\n  }).triggerHandler('change');\n  jquery__WEBPACK_IMPORTED_MODULE_7___default()('#edit_rubric_form #totalling_rubric').change(function () {\n    jquery__WEBPACK_IMPORTED_MODULE_7___default()(this).parents('.rubric').find('.total_points_holder').showIf(!jquery__WEBPACK_IMPORTED_MODULE_7___default()(this).attr('checked'));\n  });\n  jquery__WEBPACK_IMPORTED_MODULE_7___default()('#edit_rubric_form #hide_points').change(function (e) {\n    if (e.target.checked) {\n      rubricEditing.hidePoints(jquery__WEBPACK_IMPORTED_MODULE_7___default()(this).parents('.rubric'), jquery__WEBPACK_IMPORTED_MODULE_7___default()('#rubric_rating_dialog'));\n    } else {\n      rubricEditing.showPoints(jquery__WEBPACK_IMPORTED_MODULE_7___default()(this).parents('.rubric'), jquery__WEBPACK_IMPORTED_MODULE_7___default()('#rubric_rating_dialog'));\n    }\n  });\n  jquery__WEBPACK_IMPORTED_MODULE_7___default()('#edit_rubric_form .hide_points_checkbox').change(function () {\n    if (jquery__WEBPACK_IMPORTED_MODULE_7___default()(this).is(':visible')) {\n      const checked = jquery__WEBPACK_IMPORTED_MODULE_7___default()(this).attr('checked');\n\n      if (checked) {\n        jquery__WEBPACK_IMPORTED_MODULE_7___default()(this).parents('.rubric').find('.grading_rubric_checkbox').attr('checked', false);\n        jquery__WEBPACK_IMPORTED_MODULE_7___default()(this).parents('.rubric').find('.grading_rubric_checkbox').triggerHandler('change');\n      }\n\n      jquery__WEBPACK_IMPORTED_MODULE_7___default()(this).parents('.rubric').find('.rubric_grading').css('display', checked ? 'none' : '');\n      jquery__WEBPACK_IMPORTED_MODULE_7___default()(this).parents('.rubric').find('.totalling_rubric').css('display', checked ? 'none' : '');\n    }\n  });\n  jquery__WEBPACK_IMPORTED_MODULE_7___default()('#edit_rubric_form .grading_rubric_checkbox').change(function () {\n    if (jquery__WEBPACK_IMPORTED_MODULE_7___default()(this).is(':visible')) {\n      jquery__WEBPACK_IMPORTED_MODULE_7___default()(this).parents('.rubric').find('.totalling_rubric').css('visibility', jquery__WEBPACK_IMPORTED_MODULE_7___default()(this).attr('checked') ? 'hidden' : 'visible');\n      jquery__WEBPACK_IMPORTED_MODULE_7___default()(this).parents('.rubric').find('.totalling_rubric_checkbox').attr('checked', false);\n    }\n  }).triggerHandler('change');\n  jquery__WEBPACK_IMPORTED_MODULE_7___default()('.criterion_use_range').change(function () {\n    const checked = jquery__WEBPACK_IMPORTED_MODULE_7___default()(this).attr('checked');\n    jquery__WEBPACK_IMPORTED_MODULE_7___default()(this).parents('tr.criterion').find('.rating').each(function () {\n      const use_range = checked && !jquery__WEBPACK_IMPORTED_MODULE_7___default()(this).hasClass('infinitesimal') && _canvas_i18n_numberHelper__WEBPACK_IMPORTED_MODULE_10__[\"default\"].parse(jquery__WEBPACK_IMPORTED_MODULE_7___default()(this).find('.points').text()) !== _canvas_i18n_numberHelper__WEBPACK_IMPORTED_MODULE_10__[\"default\"].parse(jquery__WEBPACK_IMPORTED_MODULE_7___default()(this).find('.min_points').text());\n      jquery__WEBPACK_IMPORTED_MODULE_7___default()(this).find('.range_rating').showIf(use_range);\n    });\n  }).triggerHandler('change');\n  jquery__WEBPACK_IMPORTED_MODULE_7___default()('#criterion_blank').find('.criterion_points').val('5');\n\n  if (jquery__WEBPACK_IMPORTED_MODULE_7___default()('#default_rubric').find('.criterion').length <= 1) {\n    rubricEditing.addCriterion(jquery__WEBPACK_IMPORTED_MODULE_7___default()('#default_rubric'));\n    jquery__WEBPACK_IMPORTED_MODULE_7___default()('#default_rubric').find('.criterion').removeClass('new_criterion');\n  }\n\n  setInterval(rubricEditing.sizeRatings, 10000);\n  jquery__WEBPACK_IMPORTED_MODULE_7___default.a.publish('edit_rubric/initted');\n};\n\nif (document.getElementById('rubric_management') && ENV.NON_SCORING_RUBRICS && ENV.PERMISSIONS.manage_outcomes && !ENV.ACCOUNT_LEVEL_MASTERY_SCALES) {\n  jquery__WEBPACK_IMPORTED_MODULE_7___default()('h1').hide();\n  const contextId = ENV.context_asset_string.split('_')[1];\n  react_dom__WEBPACK_IMPORTED_MODULE_2___default.a.render( /*#__PURE__*/react__WEBPACK_IMPORTED_MODULE_1___default.a.createElement(_react_components_RubricManagement__WEBPACK_IMPORTED_MODULE_4__[\"default\"], {\n    accountId: contextId\n  }), document.getElementById('rubric_management'));\n}\n\nconst getEditRubricPrompt = useMasteryScale => {\n  if (!useMasteryScale) {\n    return i18n_edit_rubric__WEBPACK_IMPORTED_MODULE_5__[\"default\"].t(\"You can't edit this \" + \"rubric, either because you don't have permission \" + \"or it's being used in more than one place. Any \" + 'changes you make will result in a new rubric based on the old rubric. Continue anyway?');\n  }\n\n  if (ENV.context_asset_string.includes('course')) {\n    return i18n_edit_rubric__WEBPACK_IMPORTED_MODULE_5__[\"default\"].t(\"You can't edit this \" + \"rubric, either because you don't have permission \" + \"or it's being used in more than one place. Any \" + 'changes you make will result in a new rubric. Any associated outcome criteria will use the course mastery scale. Continue anyway?');\n  } else {\n    return i18n_edit_rubric__WEBPACK_IMPORTED_MODULE_5__[\"default\"].t(\"You can't edit this \" + \"rubric, either because you don't have permission \" + \"or it's being used in more than one place. Any \" + 'changes you make will result in a new rubric. Any associated outcome criteria will use the account mastery scale. Continue anyway?');\n  }\n};\n\nconst shouldUseMasteryScale = $rubric => {\n  if (!ENV.ACCOUNT_LEVEL_MASTERY_SCALES) {\n    return false;\n  }\n\n  return $rubric.find('.criterion').hasClass('learning_outcome_criterion');\n};\n\n/* harmony default export */ __webpack_exports__[\"default\"] = (rubricEditing);\n\n//# sourceURL=webpack:///./ui/shared/rubrics/jquery/edit_rubric.js?");

/***/ }),

/***/ "j9NL":
/*!************************************************************!*\
  !*** ./ui/shared/rubrics/backbone/views/EditRubricPage.js ***!
  \************************************************************/
/*! exports provided: default */
/***/ (function(module, __webpack_exports__, __webpack_require__) {

"use strict";
eval("__webpack_require__.r(__webpack_exports__);\n/* harmony export (binding) */ __webpack_require__.d(__webpack_exports__, \"default\", function() { return EditRubricPage; });\n/* harmony import */ var i18n_EditRubricPage__WEBPACK_IMPORTED_MODULE_0__ = __webpack_require__(/*! i18n!EditRubricPage */ \"Nx3M\");\n/* harmony import */ var jquery__WEBPACK_IMPORTED_MODULE_1__ = __webpack_require__(/*! jquery */ \"ouhR\");\n/* harmony import */ var jquery__WEBPACK_IMPORTED_MODULE_1___default = /*#__PURE__*/__webpack_require__.n(jquery__WEBPACK_IMPORTED_MODULE_1__);\n/* harmony import */ var _canvas_outcomes_backbone_models_OutcomeGroup_coffee__WEBPACK_IMPORTED_MODULE_2__ = __webpack_require__(/*! @canvas/outcomes/backbone/models/OutcomeGroup.coffee */ \"iM/W\");\n/* harmony import */ var _canvas_outcomes_backbone_views_FindDialog__WEBPACK_IMPORTED_MODULE_3__ = __webpack_require__(/*! @canvas/outcomes/backbone/views/FindDialog */ \"mDLF\");\n/* harmony import */ var _jquery_edit_rubric__WEBPACK_IMPORTED_MODULE_4__ = __webpack_require__(/*! ../../jquery/edit_rubric */ \"b4Tx\");\n//\n// Copyright (C) 2015 - present Instructure, Inc.\n//\n// This file is part of Canvas.\n//\n// Canvas is free software: you can redistribute it and/or modify it under\n// the terms of the GNU Affero General Public License as published by the Free\n// Software Foundation, version 3 of the License.\n//\n// Canvas is distributed in the hope that it will be useful, but WITHOUT ANY\n// WARRANTY; without even the implied warranty of MERCHANTABILITY or FITNESS FOR\n// A PARTICULAR PURPOSE. See the GNU Affero General Public License for more\n// details.\n//\n// You should have received a copy of the GNU Affero General Public License along\n// with this program. If not, see <http://www.gnu.org/licenses/>.\n\n\n\n\n\nclass EditRubricPage {\n  static initClass() {\n    this.prototype.$els = {};\n    this.prototype.translations = {\n      findOutcome: i18n_EditRubricPage__WEBPACK_IMPORTED_MODULE_0__[\"default\"].t('titles.find_outcomes', 'Find Outcomes')\n    };\n  }\n\n  constructor() {\n    this.onFindOutcome = e => {\n      e.preventDefault();\n\n      if (!this.dialogCreated) {\n        this.createDialog();\n      }\n\n      this.$els.dialog.show();\n      return this.$els.dialog.$el.find('.alert').focus();\n    };\n\n    this.rootOutcomeGroup = new _canvas_outcomes_backbone_models_OutcomeGroup_coffee__WEBPACK_IMPORTED_MODULE_2__[\"default\"](ENV.ROOT_OUTCOME_GROUP);\n    this.attachInitialEvent();\n    this.dialogCreated = false;\n  }\n\n  attachInitialEvent() {\n    this.$els.rubricWrapper = jquery__WEBPACK_IMPORTED_MODULE_1___default()('#rubrics');\n    return this.$els.rubricWrapper.on('click', 'a.find_outcome_link', this.onFindOutcome);\n  }\n\n  createDialog() {\n    this.$els.dialog = new _canvas_outcomes_backbone_views_FindDialog__WEBPACK_IMPORTED_MODULE_3__[\"default\"]({\n      title: this.translations.findOutcome,\n      selectedGroup: this.rootOutcomeGroup,\n      useForScoring: true,\n      shouldImport: false,\n      disableGroupImport: true,\n      rootOutcomeGroup: this.rootOutcomeGroup\n    });\n    this.$els.dialog.on('import', this.onOutcomeImport);\n    return this.dialogCreated = true;\n  }\n\n  onOutcomeImport(model) {\n    return _jquery_edit_rubric__WEBPACK_IMPORTED_MODULE_4__[\"default\"].onFindOutcome(model);\n  }\n\n}\nEditRubricPage.initClass();\n\n//# sourceURL=webpack:///./ui/shared/rubrics/backbone/views/EditRubricPage.js?");

/***/ }),

/***/ "jOfn":
/*!************************************************************!*\
  !*** ./ui/shared/color-picker/react/CourseNicknameEdit.js ***!
  \************************************************************/
/*! exports provided: default */
/***/ (function(module, __webpack_exports__, __webpack_require__) {

"use strict";
eval("__webpack_require__.r(__webpack_exports__);\n/* harmony import */ var jquery__WEBPACK_IMPORTED_MODULE_0__ = __webpack_require__(/*! jquery */ \"ouhR\");\n/* harmony import */ var jquery__WEBPACK_IMPORTED_MODULE_0___default = /*#__PURE__*/__webpack_require__.n(jquery__WEBPACK_IMPORTED_MODULE_0__);\n/* harmony import */ var react__WEBPACK_IMPORTED_MODULE_1__ = __webpack_require__(/*! react */ \"q1tI\");\n/* harmony import */ var react__WEBPACK_IMPORTED_MODULE_1___default = /*#__PURE__*/__webpack_require__.n(react__WEBPACK_IMPORTED_MODULE_1__);\n/* harmony import */ var prop_types__WEBPACK_IMPORTED_MODULE_2__ = __webpack_require__(/*! prop-types */ \"17x9\");\n/* harmony import */ var prop_types__WEBPACK_IMPORTED_MODULE_2___default = /*#__PURE__*/__webpack_require__.n(prop_types__WEBPACK_IMPORTED_MODULE_2__);\n/* harmony import */ var i18n_course_nickname_edit__WEBPACK_IMPORTED_MODULE_3__ = __webpack_require__(/*! i18n!course_nickname_edit */ \"Udtz\");\n/* harmony import */ var _instructure_ui_text_input__WEBPACK_IMPORTED_MODULE_4__ = __webpack_require__(/*! @instructure/ui-text-input */ \"/09A\");\n/*\n * Copyright (C) 2015 - present Instructure, Inc.\n *\n * This file is part of Canvas.\n *\n * Canvas is free software: you can redistribute it and/or modify it under\n * the terms of the GNU Affero General Public License as published by the Free\n * Software Foundation, version 3 of the License.\n *\n * Canvas is distributed in the hope that it will be useful, but WITHOUT ANY\n * WARRANTY; without even the implied warranty of MERCHANTABILITY or FITNESS FOR\n * A PARTICULAR PURPOSE. See the GNU Affero General Public License for more\n * details.\n *\n * You should have received a copy of the GNU Affero General Public License along\n * with this program. If not, see <http://www.gnu.org/licenses/>.\n */\n\n\n\n\n\n\nclass CourseNicknameEdit extends react__WEBPACK_IMPORTED_MODULE_1___default.a.Component {\n  // ===============\n  //     CONFIG\n  // ===============\n  constructor(props) {\n    super(props);\n\n    this.onKeyPress = event => {\n      if (this.props.onEnter && event.charCode == 13) {\n        this.props.onEnter();\n      }\n    };\n\n    this.handleChange = event => {\n      this.setState({\n        nickname: event.target.value\n      });\n    };\n\n    this.setCourseNickname = () => {\n      if (this.state.originalNickname != this.state.nickname) {\n        return jquery__WEBPACK_IMPORTED_MODULE_0___default.a.ajax({\n          url: `/api/v1/users/self/course_nicknames/${this.props.nicknameInfo.courseId}`,\n          type: this.state.nickname.length > 0 ? 'PUT' : 'DELETE',\n          data: {\n            nickname: this.state.nickname\n          },\n          success: data => {\n            this.props.nicknameInfo.onNicknameChange(data.nickname || data.name);\n          },\n          error: () => {}\n        });\n      }\n    };\n\n    this.focus = () => {\n      if (this.nicknameInput) {\n        this.nicknameInput.focus();\n      }\n    };\n\n    const nickname = props.nicknameInfo.nickname == props.nicknameInfo.originalName ? '' : props.nicknameInfo.nickname;\n    this.state = {\n      nickname,\n      originalNickname: nickname\n    };\n  }\n\n  componentDidMount() {\n    if (this.nicknameInput) {\n      this.nicknameInput.setAttribute('maxLength', '59');\n    }\n  } // ===============\n  //     ACTIONS\n  // ===============\n\n\n  // ===============\n  //    RENDERING\n  // ===============\n  render() {\n    return /*#__PURE__*/react__WEBPACK_IMPORTED_MODULE_1___default.a.createElement(_instructure_ui_text_input__WEBPACK_IMPORTED_MODULE_4__[\"TextInput\"], {\n      id: \"NicknameInput\",\n      label: i18n_course_nickname_edit__WEBPACK_IMPORTED_MODULE_3__[\"default\"].t('Nickname'),\n      placeholder: this.props.nicknameInfo.originalName,\n      value: this.state.nickname,\n      onChange: this.handleChange,\n      onKeyPress: this.onKeyPress,\n      inputRef: c => {\n        this.nicknameInput = c;\n      },\n      size: \"small\"\n    });\n  }\n\n}\n\nCourseNicknameEdit.displayName = 'CourseNicknameEdit';\nCourseNicknameEdit.propTypes = {\n  nicknameInfo: prop_types__WEBPACK_IMPORTED_MODULE_2___default.a.object.isRequired,\n  onEnter: prop_types__WEBPACK_IMPORTED_MODULE_2___default.a.func\n};\n/* harmony default export */ __webpack_exports__[\"default\"] = (CourseNicknameEdit);\n\n//# sourceURL=webpack:///./ui/shared/color-picker/react/CourseNicknameEdit.js?");

/***/ }),

/***/ "kjuU":
/*!**********************************************!*\
  !*** ./ui/shared/svg-wrapper/react/index.js ***!
  \**********************************************/
/*! exports provided: default */
/***/ (function(module, __webpack_exports__, __webpack_require__) {

"use strict";
eval("__webpack_require__.r(__webpack_exports__);\n/* harmony import */ var react__WEBPACK_IMPORTED_MODULE_0__ = __webpack_require__(/*! react */ \"q1tI\");\n/* harmony import */ var react__WEBPACK_IMPORTED_MODULE_0___default = /*#__PURE__*/__webpack_require__.n(react__WEBPACK_IMPORTED_MODULE_0__);\n/* harmony import */ var prop_types__WEBPACK_IMPORTED_MODULE_1__ = __webpack_require__(/*! prop-types */ \"17x9\");\n/* harmony import */ var prop_types__WEBPACK_IMPORTED_MODULE_1___default = /*#__PURE__*/__webpack_require__.n(prop_types__WEBPACK_IMPORTED_MODULE_1__);\n/* harmony import */ var jquery__WEBPACK_IMPORTED_MODULE_2__ = __webpack_require__(/*! jquery */ \"ouhR\");\n/* harmony import */ var jquery__WEBPACK_IMPORTED_MODULE_2___default = /*#__PURE__*/__webpack_require__.n(jquery__WEBPACK_IMPORTED_MODULE_2__);\n/*\n * Copyright (C) 2015 - present Instructure, Inc.\n *\n * This file is part of Canvas.\n *\n * Canvas is free software: you can redistribute it and/or modify it under\n * the terms of the GNU Affero General Public License as published by the Free\n * Software Foundation, version 3 of the License.\n *\n * Canvas is distributed in the hope that it will be useful, but WITHOUT ANY\n * WARRANTY; without even the implied warranty of MERCHANTABILITY or FITNESS FOR\n * A PARTICULAR PURPOSE. See the GNU Affero General Public License for more\n * details.\n *\n * You should have received a copy of the GNU Affero General Public License along\n * with this program. If not, see <http://www.gnu.org/licenses/>.\n */\n\n\n\nconst DOCUMENT_NODE = 9;\nconst ELEMENT_NODE = 1;\n\nclass SVGWrapper extends react__WEBPACK_IMPORTED_MODULE_0___default.a.Component {\n  componentDidMount() {\n    this.fetchSVG();\n  }\n\n  componentWillReceiveProps(newProps) {\n    if (newProps.url !== this.props.url) {\n      this.fetchSVG();\n    }\n  }\n\n  fetchSVG() {\n    if (false) {}\n    jquery__WEBPACK_IMPORTED_MODULE_2___default.a.ajax(this.props.url, {\n      success: data => {\n        this.svg = data;\n\n        if (data.nodeType === DOCUMENT_NODE) {\n          this.svg = data.firstChild;\n        }\n\n        if (this.svg.nodeType !== ELEMENT_NODE && this.svg.nodeName !== 'SVG') {\n          throw new Error(`SVGWrapper: SVG Element must be returned by request to ${this.props.url}`);\n        }\n\n        if (this.props.fillColor) {\n          this.svg.setAttribute('style', `fill:${this.props.fillColor}`);\n        }\n\n        this.svg.setAttribute('focusable', false);\n        this.rootSpan.appendChild(this.svg);\n      }\n    });\n  }\n\n  render() {\n    return /*#__PURE__*/react__WEBPACK_IMPORTED_MODULE_0___default.a.createElement(\"span\", {\n      ref: c => {\n        this.rootSpan = c;\n      }\n    });\n  }\n\n}\n\nSVGWrapper.propTypes = {\n  url: prop_types__WEBPACK_IMPORTED_MODULE_1___default.a.string.isRequired,\n  fillColor: prop_types__WEBPACK_IMPORTED_MODULE_1___default.a.string\n};\n/* harmony default export */ __webpack_exports__[\"default\"] = (SVGWrapper);\n\n//# sourceURL=webpack:///./ui/shared/svg-wrapper/react/index.js?");

/***/ }),

/***/ "lBOK":
/*!*************************************************!*\
  !*** ./ui/shared/loading-image/jquery/index.js ***!
  \*************************************************/
/*! no exports provided */
/***/ (function(module, __webpack_exports__, __webpack_require__) {

"use strict";
eval("__webpack_require__.r(__webpack_exports__);\n/* harmony import */ var jquery__WEBPACK_IMPORTED_MODULE_0__ = __webpack_require__(/*! jquery */ \"ouhR\");\n/* harmony import */ var jquery__WEBPACK_IMPORTED_MODULE_0___default = /*#__PURE__*/__webpack_require__.n(jquery__WEBPACK_IMPORTED_MODULE_0__);\n/*\n * Copyright (C) 2011 - present Instructure, Inc.\n *\n * This file is part of Canvas.\n *\n * Canvas is free software: you can redistribute it and/or modify it under\n * the terms of the GNU Affero General Public License as published by the Free\n * Software Foundation, version 3 of the License.\n *\n * Canvas is distributed in the hope that it will be useful, but WITHOUT ANY\n * WARRANTY; without even the implied warranty of MERCHANTABILITY or FITNESS FOR\n * A PARTICULAR PURPOSE. See the GNU Affero General Public License for more\n * details.\n *\n * You should have received a copy of the GNU Affero General Public License along\n * with this program. If not, see <http://www.gnu.org/licenses/>.\n */\n // Shows an ajax-loading image on the given object.\n\njquery__WEBPACK_IMPORTED_MODULE_0___default.a.fn.loadingImg = function (options) {\n  if (!this || this.length === 0) {\n    return this;\n  }\n\n  const dir = window.getComputedStyle(this[0]).direction || 'ltr';\n  const $obj = this.filter(':first');\n  let list;\n\n  if (options === 'hide' || options === 'remove') {\n    $obj.children('.loading_image').remove();\n    list = $obj.data('loading_images') || [];\n    list.forEach(item => {\n      if (item) {\n        item.remove();\n      }\n    });\n    $obj.data('loading_images', null);\n    this.css('margin-inline-end', '');\n    return this;\n  } else if (options === 'remove_once') {\n    $obj.children('.loading_image').remove();\n    list = $obj.data('loading_images') || [];\n    const img = list.pop();\n\n    if (img) {\n      img.remove();\n    }\n\n    $obj.data('loading_images', list);\n    return this;\n  } else if (options === 'register_image' && arguments.length === 3) {\n    jquery__WEBPACK_IMPORTED_MODULE_0___default.a.fn.loadingImg.image_files[arguments[1]] = arguments[2];\n    return this;\n  }\n\n  options = jquery__WEBPACK_IMPORTED_MODULE_0___default.a.extend({}, jquery__WEBPACK_IMPORTED_MODULE_0___default.a.fn.loadingImg.defaults, options);\n  let image = jquery__WEBPACK_IMPORTED_MODULE_0___default.a.fn.loadingImg.image_files.normal;\n\n  if (options.image_size && jquery__WEBPACK_IMPORTED_MODULE_0___default.a.fn.loadingImg.image_files[options.image_size]) {\n    image = jquery__WEBPACK_IMPORTED_MODULE_0___default.a.fn.loadingImg.image_files[options.image_size];\n  }\n\n  if (options.paddingTop) {\n    options.vertical = options.paddingTop;\n  }\n\n  let paddingTop = 0;\n\n  if (options.vertical) {\n    if (options.vertical === 'top') {// nothing to do\n    } else if (options.vertical === 'bottom') {\n      paddingTop = $obj.outerHeight();\n    } else if (options.vertical === 'middle') {\n      paddingTop = $obj.outerHeight() / 2 - image.height / 2;\n    } else {\n      paddingTop = parseInt(options.vertical, 10); // eslint-disable-next-line no-restricted-globals\n\n      if (isNaN(paddingTop)) {\n        paddingTop = 0;\n      }\n    }\n  }\n\n  let paddingLeft = 0;\n\n  if (options.horizontal) {\n    if (options.horizontal === 'left') {// nothing to do\n    } else if (options.horizontal === 'right') {\n      paddingLeft = $obj.outerWidth() - image.width;\n    } else if (options.horizontal === 'right!') {\n      paddingLeft = dir === 'ltr' ? $obj.outerWidth() + 5 : -5 - (image.width || 16);\n      this.css({\n        'margin-inline-end': '16px'\n      });\n    } else if (options.horizontal === 'middle') {\n      paddingLeft = $obj.outerWidth() / 2 - image.width / 2;\n    } else {\n      paddingLeft = parseInt(options.horizontal, 10); // eslint-disable-next-line no-restricted-globals\n\n      if (isNaN(paddingLeft)) {\n        paddingLeft = 0;\n      }\n    }\n  }\n\n  const zIndex = $obj.zIndex() + 1;\n  const $imageHolder = jquery__WEBPACK_IMPORTED_MODULE_0___default()(document.createElement('div')).addClass('loading_image_holder');\n  const $image = jquery__WEBPACK_IMPORTED_MODULE_0___default()(document.createElement('img')).attr('src', image.url);\n  $imageHolder.append($image);\n  list = $obj.data('loading_images') || [];\n  list.push($imageHolder);\n  $obj.data('loading_images', list);\n\n  if (!$obj.css('position') || $obj.css('position') === 'static') {\n    const offset = $obj.offset();\n    let top = offset.top,\n        left = offset.left;\n\n    if (options.vertical) {\n      top += paddingTop;\n    }\n\n    if (options.horizontal) {\n      left += paddingLeft;\n    }\n\n    $imageHolder.css({\n      zIndex,\n      position: 'absolute',\n      top,\n      left\n    });\n    jquery__WEBPACK_IMPORTED_MODULE_0___default()('body').append($imageHolder);\n  } else {\n    $imageHolder.css({\n      zIndex,\n      position: 'absolute',\n      top: paddingTop,\n      left: paddingLeft\n    });\n    $obj.append($imageHolder);\n  }\n\n  return jquery__WEBPACK_IMPORTED_MODULE_0___default()(this);\n};\n\njquery__WEBPACK_IMPORTED_MODULE_0___default.a.fn.loadingImg.defaults = {\n  paddingTop: 0,\n  image_size: 'normal',\n  vertical: 0,\n  horizontal: 0\n};\njquery__WEBPACK_IMPORTED_MODULE_0___default.a.fn.loadingImg.image_files = {\n  normal: {\n    url: '/images/ajax-loader.gif',\n    width: 32,\n    height: 32\n  },\n  small: {\n    url: '/images/ajax-loader-small.gif',\n    width: 16,\n    height: 16\n  }\n};\njquery__WEBPACK_IMPORTED_MODULE_0___default.a.fn.loadingImage = jquery__WEBPACK_IMPORTED_MODULE_0___default.a.fn.loadingImg;\n\n//# sourceURL=webpack:///./ui/shared/loading-image/jquery/index.js?");

/***/ }),

/***/ "pQKa":
/*!**********************************************************************************!*\
  !*** ./ui/shared/rubrics/jst/changePointsPossibleToMatchRubricDialog.handlebars ***!
  \**********************************************************************************/
/*! exports provided: default */
/***/ (function(module, __webpack_exports__, __webpack_require__) {

"use strict";
eval("__webpack_require__.r(__webpack_exports__);\n/* harmony import */ var handlebars_runtime__WEBPACK_IMPORTED_MODULE_0__ = __webpack_require__(/*! handlebars/runtime */ \"3O+N\");\n/* harmony import */ var handlebars_runtime__WEBPACK_IMPORTED_MODULE_0___default = /*#__PURE__*/__webpack_require__.n(handlebars_runtime__WEBPACK_IMPORTED_MODULE_0__);\n/* harmony import */ var i18n_change_points_possible_to_match_rubric_dialog__WEBPACK_IMPORTED_MODULE_1__ = __webpack_require__(/*! i18n!change_points_possible_to_match_rubric_dialog */ \"FNyU\");\n/* harmony import */ var _canvas_handlebars_helpers_index_coffee__WEBPACK_IMPORTED_MODULE_2__ = __webpack_require__(/*! @canvas/handlebars-helpers/index.coffee */ \"BGrI\");\n\n    \n    var Handlebars = handlebars_runtime__WEBPACK_IMPORTED_MODULE_0___default.a.default;\n    \n\n\n    var template = Handlebars.template, templates = Handlebars.templates = Handlebars.templates || {};\n    var name = '/home/td/workspace/canvas/ui/shared/rubrics/jst/changePointsPossibleToMatchRubricDialog';\n    templates[name] = template(function (Handlebars,depth0,helpers,partials,data) {\n  this.compilerInfo = [4,'>= 1.0.0'];\nhelpers = this.merge(helpers, Handlebars.helpers); data = data || {};\n  var buffer = \"\", stack1, helper, options, helperMissing=helpers.helperMissing, escapeExpression=this.escapeExpression;\n\n\n  buffer += \"<p title=\\\"\"\n    + escapeExpression((helper = helpers.t || (depth0 && depth0.t),options={hash:{\n    'scope': (\"change_points_possible_to_match_rubric_dialog\")\n  },data:data},helper ? helper.call(depth0, \"titles.update_assignment_points\", \"Change assignment points to match rubric?\", options) : helperMissing.call(depth0, \"t\", \"titles.update_assignment_points\", \"Change assignment points to match rubric?\", options)))\n    + \"\\\">\\n  \";\n  stack1 = (helper = helpers.toPercentage || (depth0 && depth0.toPercentage),options={hash:{},data:data},helper ? helper.call(depth0, (depth0 && depth0.pointRatio), options) : helperMissing.call(depth0, \"toPercentage\", (depth0 && depth0.pointRatio), options));\n  buffer += escapeExpression((helper = helpers.t || (depth0 && depth0.t),options={hash:{\n    'toPercentage_pointRatio': (stack1),\n    'assignmentPoints': ((depth0 && depth0.assignmentPoints)),\n    'rubricPoints': ((depth0 && depth0.rubricPoints)),\n    'scope': (\"change_points_possible_to_match_rubric_dialog\")\n  },data:data},helper ? helper.call(depth0, \"prompts.update_assignment_points\", \"Leaving the assignment's total points at %{assignmentPoints} and the rubric's total points at %{rubricPoints} will result in a maximum possible score of %{toPercentage_pointRatio} for student submissions graded with the rubric.\", options) : helperMissing.call(depth0, \"t\", \"prompts.update_assignment_points\", \"Leaving the assignment's total points at %{assignmentPoints} and the rubric's total points at %{rubricPoints} will result in a maximum possible score of %{toPercentage_pointRatio} for student submissions graded with the rubric.\", options)))\n    + \"\\n</p>\\n\";\n  return buffer;\n  });\n    ;\n    ;\n    /* harmony default export */ __webpack_exports__[\"default\"] = (templates[name]);\n  \n\n//# sourceURL=webpack:///./ui/shared/rubrics/jst/changePointsPossibleToMatchRubricDialog.handlebars?");

/***/ }),

/***/ "szzU":
/*!*********************************************************************************!*\
  !*** ./frontend_build/i18n.js?ProficiencyTable!./ui/shims/dummyI18nResource.js ***!
  \*********************************************************************************/
/*! exports provided: default */
/***/ (function(module, __webpack_exports__, __webpack_require__) {

"use strict";
eval("__webpack_require__.r(__webpack_exports__);\n/* harmony import */ var _canvas_i18n_i18nObj__WEBPACK_IMPORTED_MODULE_0__ = __webpack_require__(/*! @canvas/i18n/i18nObj */ \"HGxv\");\n/* harmony import */ var translations_core_en__WEBPACK_IMPORTED_MODULE_1__ = __webpack_require__(/*! translations/_core_en */ \"0sPK\");\n\n    \n    \n    \n\n    /* harmony default export */ __webpack_exports__[\"default\"] = (_canvas_i18n_i18nObj__WEBPACK_IMPORTED_MODULE_0__[\"default\"].scoped('ProficiencyTable'));\n  \n\n//# sourceURL=webpack:///./ui/shims/dummyI18nResource.js?./frontend_build/i18n.js?ProficiencyTable");

/***/ }),

/***/ "vnSM":
/*!******************************************************************************************!*\
  !*** ./frontend_build/i18n.js?RubricAddCriterionPopover!./ui/shims/dummyI18nResource.js ***!
  \******************************************************************************************/
/*! exports provided: default */
/***/ (function(module, __webpack_exports__, __webpack_require__) {

"use strict";
eval("__webpack_require__.r(__webpack_exports__);\n/* harmony import */ var _canvas_i18n_i18nObj__WEBPACK_IMPORTED_MODULE_0__ = __webpack_require__(/*! @canvas/i18n/i18nObj */ \"HGxv\");\n/* harmony import */ var translations_core_en__WEBPACK_IMPORTED_MODULE_1__ = __webpack_require__(/*! translations/_core_en */ \"0sPK\");\n\n    \n    \n    \n\n    /* harmony default export */ __webpack_exports__[\"default\"] = (_canvas_i18n_i18nObj__WEBPACK_IMPORTED_MODULE_0__[\"default\"].scoped('RubricAddCriterionPopover'));\n  \n\n//# sourceURL=webpack:///./ui/shims/dummyI18nResource.js?./frontend_build/i18n.js?RubricAddCriterionPopover");

/***/ })

}]);