(window["canvasWebpackJsonp"] = window["canvasWebpackJsonp"] || []).push([[71],{

/***/ "34di":
/*!***********************************************!*\
  !*** ./packages/k5uploader/es/file_filter.js ***!
  \***********************************************/
/*! exports provided: default */
/***/ (function(module, __webpack_exports__, __webpack_require__) {

"use strict";
eval("__webpack_require__.r(__webpack_exports__);\n/*\n * Copyright (C) 2019 - present Instructure, Inc.\n *\n * This file is part of Canvas.\n *\n * Canvas is free software: you can redistribute it and/or modify it under\n * the terms of the GNU Affero General Public License as published by the Free\n * Software Foundation, version 3 of the License.\n *\n * Canvas is distributed in the hope that it will be useful, but WITHOUT ANY\n * WARRANTY; without even the implied warranty of MERCHANTABILITY or FITNESS FOR\n * A PARTICULAR PURPOSE. See the GNU Affero General Public License for more\n * details.\n *\n * You should have received a copy of the GNU Affero General Public License along\n * with this program. If not, see <http://www.gnu.org/licenses/>.\n */\nfunction FileFilter(params) {\n  this.extensions = this.parseExtensions(params.extensions);\n  this.id = params.id;\n  this.description = params.description;\n  this.entryType = params.entryType;\n  this.mediaType = params.mediaType;\n  this.type = params.type;\n}\n\nFileFilter.prototype.parseExtensions = function (extString) {\n  return extString.split(';').map(ext => ext.substring(2));\n};\n\nFileFilter.prototype.includesExtension = function (extension) {\n  return this.extensions.indexOf(extension.toLowerCase()) !== -1;\n};\n\nFileFilter.prototype.toParams = function () {\n  const params = {\n    entry1_type: this.entryType,\n    entry1_mediaType: this.mediaType\n  };\n  return params;\n};\n\n/* harmony default export */ __webpack_exports__[\"default\"] = (FileFilter);\n\n//# sourceURL=webpack:///./packages/k5uploader/es/file_filter.js?");

/***/ }),

/***/ "58Nq":
/*!***************************************!*\
  !*** ./packages/k5uploader/es/md5.js ***!
  \***************************************/
/*! no static exports found */
/***/ (function(module, exports) {

eval("/*\n * A JavaScript implementation of the RSA Data Security, Inc. MD5 Message\n * Digest Algorithm, as defined in RFC 1321.\n * Version 2.2 Copyright (C) Paul Johnston 1999 - 2009\n * Other contributors: Greg Holt, Andrew Kepert, Ydnar, Lostinet\n * Distributed under the BSD License\n * See http://pajhome.org.uk/crypt/md5 for more info.\n */\n\n/*\n * Configurable variables. You may need to tweak these to be compatible with\n * the server-side, but the defaults work in most cases.\n */\nlet hexcase = 0;\n/* hex output format. 0 - lowercase; 1 - uppercase        */\n\nlet b64pad = '';\n/* base-64 pad character. \"=\" for strict RFC compliance   */\n\n/*\n * These are the functions you'll usually want to call\n * They take string arguments and return either hex or base-64 encoded strings\n */\n\nfunction hex_md5(s) {\n  return rstr2hex(rstr_md5(str2rstr_utf8(s)));\n}\n\nfunction b64_md5(s) {\n  return rstr2b64(rstr_md5(str2rstr_utf8(s)));\n}\n\nfunction any_md5(s, e) {\n  return rstr2any(rstr_md5(str2rstr_utf8(s)), e);\n}\n\nfunction hex_hmac_md5(k, d) {\n  return rstr2hex(rstr_hmac_md5(str2rstr_utf8(k), str2rstr_utf8(d)));\n}\n\nfunction b64_hmac_md5(k, d) {\n  return rstr2b64(rstr_hmac_md5(str2rstr_utf8(k), str2rstr_utf8(d)));\n}\n\nfunction any_hmac_md5(k, d, e) {\n  return rstr2any(rstr_hmac_md5(str2rstr_utf8(k), str2rstr_utf8(d)), e);\n}\n/*\n * Perform a simple self-test to see if the VM is working\n */\n\n\nfunction md5_vm_test() {\n  return hex_md5('abc').toLowerCase() == '900150983cd24fb0d6963f7d28e17f72';\n}\n/*\n * Calculate the MD5 of a raw string\n */\n\n\nfunction rstr_md5(s) {\n  return binl2rstr(binl_md5(rstr2binl(s), s.length * 8));\n}\n/*\n * Calculate the HMAC-MD5, of a key and some data (raw strings)\n */\n\n\nfunction rstr_hmac_md5(key, data) {\n  let bkey = rstr2binl(key);\n  if (bkey.length > 16) bkey = binl_md5(bkey, key.length * 8);\n  const ipad = Array(16),\n        opad = Array(16);\n\n  for (let i = 0; i < 16; i++) {\n    ipad[i] = bkey[i] ^ 0x36363636;\n    opad[i] = bkey[i] ^ 0x5c5c5c5c;\n  }\n\n  const hash = binl_md5(ipad.concat(rstr2binl(data)), 512 + data.length * 8);\n  return binl2rstr(binl_md5(opad.concat(hash), 512 + 128));\n}\n/*\n * Convert a raw string to a hex string\n */\n\n\nfunction rstr2hex(input) {\n  try {\n    hexcase;\n  } catch (e) {\n    hexcase = 0;\n  }\n\n  const hex_tab = hexcase ? '0123456789ABCDEF' : '0123456789abcdef';\n  let output = '';\n  let x;\n\n  for (let i = 0; i < input.length; i++) {\n    x = input.charCodeAt(i);\n    output += hex_tab.charAt(x >>> 4 & 0x0f) + hex_tab.charAt(x & 0x0f);\n  }\n\n  return output;\n}\n/*\n * Convert a raw string to a base-64 string\n */\n\n\nfunction rstr2b64(input) {\n  try {\n    b64pad;\n  } catch (e) {\n    b64pad = '';\n  }\n\n  const tab = 'ABCDEFGHIJKLMNOPQRSTUVWXYZabcdefghijklmnopqrstuvwxyz0123456789+/';\n  let output = '';\n  const len = input.length;\n\n  for (let i = 0; i < len; i += 3) {\n    const triplet = input.charCodeAt(i) << 16 | (i + 1 < len ? input.charCodeAt(i + 1) << 8 : 0) | (i + 2 < len ? input.charCodeAt(i + 2) : 0);\n\n    for (let j = 0; j < 4; j++) {\n      if (i * 8 + j * 6 > input.length * 8) output += b64pad;else output += tab.charAt(triplet >>> 6 * (3 - j) & 0x3f);\n    }\n  }\n\n  return output;\n}\n/*\n * Convert a raw string to an arbitrary string encoding\n */\n\n\nfunction rstr2any(input, encoding) {\n  const divisor = encoding.length;\n  let i, j, q, x, quotient;\n  /* Convert to an array of 16-bit big-endian values, forming the dividend */\n\n  let dividend = Array(Math.ceil(input.length / 2));\n\n  for (i = 0; i < dividend.length; i++) {\n    dividend[i] = input.charCodeAt(i * 2) << 8 | input.charCodeAt(i * 2 + 1);\n  }\n  /*\n   * Repeatedly perform a long division. The binary array forms the dividend,\n   * the length of the encoding is the divisor. Once computed, the quotient\n   * forms the dividend for the next step. All remainders are stored for later\n   * use.\n   */\n\n\n  const full_length = Math.ceil(input.length * 8 / (Math.log(encoding.length) / Math.log(2)));\n  const remainders = Array(full_length);\n\n  for (j = 0; j < full_length; j++) {\n    quotient = Array();\n    x = 0;\n\n    for (i = 0; i < dividend.length; i++) {\n      x = (x << 16) + dividend[i];\n      q = Math.floor(x / divisor);\n      x -= q * divisor;\n      if (quotient.length > 0 || q > 0) quotient[quotient.length] = q;\n    }\n\n    remainders[j] = x;\n    dividend = quotient;\n  }\n  /* Convert the remainders to the output string */\n\n\n  let output = '';\n\n  for (i = remainders.length - 1; i >= 0; i--) output += encoding.charAt(remainders[i]);\n\n  return output;\n}\n/*\n * Encode a string as utf-8.\n * For efficiency, this assumes the input is valid utf-16.\n */\n\n\nfunction str2rstr_utf8(input) {\n  let output = '';\n  let i = -1;\n  let x, y;\n\n  while (++i < input.length) {\n    /* Decode utf-16 surrogate pairs */\n    x = input.charCodeAt(i);\n    y = i + 1 < input.length ? input.charCodeAt(i + 1) : 0;\n\n    if (x >= 0xd800 && x <= 0xdbff && y >= 0xdc00 && y <= 0xdfff) {\n      x = 0x10000 + ((x & 0x03ff) << 10) + (y & 0x03ff);\n      i++;\n    }\n    /* Encode output as utf-8 */\n\n\n    if (x <= 0x7f) output += String.fromCharCode(x);else if (x <= 0x7ff) output += String.fromCharCode(0xc0 | x >>> 6 & 0x1f, 0x80 | x & 0x3f);else if (x <= 0xffff) output += String.fromCharCode(0xe0 | x >>> 12 & 0x0f, 0x80 | x >>> 6 & 0x3f, 0x80 | x & 0x3f);else if (x <= 0x1fffff) output += String.fromCharCode(0xf0 | x >>> 18 & 0x07, 0x80 | x >>> 12 & 0x3f, 0x80 | x >>> 6 & 0x3f, 0x80 | x & 0x3f);\n  }\n\n  return output;\n}\n/*\n * Encode a string as utf-16\n */\n\n\nfunction str2rstr_utf16le(input) {\n  let output = '';\n\n  for (let i = 0; i < input.length; i++) output += String.fromCharCode(input.charCodeAt(i) & 0xff, input.charCodeAt(i) >>> 8 & 0xff);\n\n  return output;\n}\n\nfunction str2rstr_utf16be(input) {\n  let output = '';\n\n  for (let i = 0; i < input.length; i++) output += String.fromCharCode(input.charCodeAt(i) >>> 8 & 0xff, input.charCodeAt(i) & 0xff);\n\n  return output;\n}\n/*\n * Convert a raw string to an array of little-endian words\n * Characters >255 have their high-byte silently ignored.\n */\n\n\nfunction rstr2binl(input) {\n  const output = Array(input.length >> 2);\n\n  for (var i = 0; i < output.length; i++) output[i] = 0;\n\n  for (var i = 0; i < input.length * 8; i += 8) output[i >> 5] |= (input.charCodeAt(i / 8) & 0xff) << i % 32;\n\n  return output;\n}\n/*\n * Convert an array of little-endian words to a string\n */\n\n\nfunction binl2rstr(input) {\n  let output = '';\n\n  for (let i = 0; i < input.length * 32; i += 8) output += String.fromCharCode(input[i >> 5] >>> i % 32 & 0xff);\n\n  return output;\n}\n/*\n * Calculate the MD5 of an array of little-endian words, and a bit length.\n */\n\n\nfunction binl_md5(x, len) {\n  /* append padding */\n  x[len >> 5] |= 0x80 << len % 32;\n  x[(len + 64 >>> 9 << 4) + 14] = len;\n  let a = 1732584193;\n  let b = -271733879;\n  let c = -1732584194;\n  let d = 271733878;\n\n  for (let i = 0; i < x.length; i += 16) {\n    const olda = a;\n    const oldb = b;\n    const oldc = c;\n    const oldd = d;\n    a = md5_ff(a, b, c, d, x[i + 0], 7, -680876936);\n    d = md5_ff(d, a, b, c, x[i + 1], 12, -389564586);\n    c = md5_ff(c, d, a, b, x[i + 2], 17, 606105819);\n    b = md5_ff(b, c, d, a, x[i + 3], 22, -1044525330);\n    a = md5_ff(a, b, c, d, x[i + 4], 7, -176418897);\n    d = md5_ff(d, a, b, c, x[i + 5], 12, 1200080426);\n    c = md5_ff(c, d, a, b, x[i + 6], 17, -1473231341);\n    b = md5_ff(b, c, d, a, x[i + 7], 22, -45705983);\n    a = md5_ff(a, b, c, d, x[i + 8], 7, 1770035416);\n    d = md5_ff(d, a, b, c, x[i + 9], 12, -1958414417);\n    c = md5_ff(c, d, a, b, x[i + 10], 17, -42063);\n    b = md5_ff(b, c, d, a, x[i + 11], 22, -1990404162);\n    a = md5_ff(a, b, c, d, x[i + 12], 7, 1804603682);\n    d = md5_ff(d, a, b, c, x[i + 13], 12, -40341101);\n    c = md5_ff(c, d, a, b, x[i + 14], 17, -1502002290);\n    b = md5_ff(b, c, d, a, x[i + 15], 22, 1236535329);\n    a = md5_gg(a, b, c, d, x[i + 1], 5, -165796510);\n    d = md5_gg(d, a, b, c, x[i + 6], 9, -1069501632);\n    c = md5_gg(c, d, a, b, x[i + 11], 14, 643717713);\n    b = md5_gg(b, c, d, a, x[i + 0], 20, -373897302);\n    a = md5_gg(a, b, c, d, x[i + 5], 5, -701558691);\n    d = md5_gg(d, a, b, c, x[i + 10], 9, 38016083);\n    c = md5_gg(c, d, a, b, x[i + 15], 14, -660478335);\n    b = md5_gg(b, c, d, a, x[i + 4], 20, -405537848);\n    a = md5_gg(a, b, c, d, x[i + 9], 5, 568446438);\n    d = md5_gg(d, a, b, c, x[i + 14], 9, -1019803690);\n    c = md5_gg(c, d, a, b, x[i + 3], 14, -187363961);\n    b = md5_gg(b, c, d, a, x[i + 8], 20, 1163531501);\n    a = md5_gg(a, b, c, d, x[i + 13], 5, -1444681467);\n    d = md5_gg(d, a, b, c, x[i + 2], 9, -51403784);\n    c = md5_gg(c, d, a, b, x[i + 7], 14, 1735328473);\n    b = md5_gg(b, c, d, a, x[i + 12], 20, -1926607734);\n    a = md5_hh(a, b, c, d, x[i + 5], 4, -378558);\n    d = md5_hh(d, a, b, c, x[i + 8], 11, -2022574463);\n    c = md5_hh(c, d, a, b, x[i + 11], 16, 1839030562);\n    b = md5_hh(b, c, d, a, x[i + 14], 23, -35309556);\n    a = md5_hh(a, b, c, d, x[i + 1], 4, -1530992060);\n    d = md5_hh(d, a, b, c, x[i + 4], 11, 1272893353);\n    c = md5_hh(c, d, a, b, x[i + 7], 16, -155497632);\n    b = md5_hh(b, c, d, a, x[i + 10], 23, -1094730640);\n    a = md5_hh(a, b, c, d, x[i + 13], 4, 681279174);\n    d = md5_hh(d, a, b, c, x[i + 0], 11, -358537222);\n    c = md5_hh(c, d, a, b, x[i + 3], 16, -722521979);\n    b = md5_hh(b, c, d, a, x[i + 6], 23, 76029189);\n    a = md5_hh(a, b, c, d, x[i + 9], 4, -640364487);\n    d = md5_hh(d, a, b, c, x[i + 12], 11, -421815835);\n    c = md5_hh(c, d, a, b, x[i + 15], 16, 530742520);\n    b = md5_hh(b, c, d, a, x[i + 2], 23, -995338651);\n    a = md5_ii(a, b, c, d, x[i + 0], 6, -198630844);\n    d = md5_ii(d, a, b, c, x[i + 7], 10, 1126891415);\n    c = md5_ii(c, d, a, b, x[i + 14], 15, -1416354905);\n    b = md5_ii(b, c, d, a, x[i + 5], 21, -57434055);\n    a = md5_ii(a, b, c, d, x[i + 12], 6, 1700485571);\n    d = md5_ii(d, a, b, c, x[i + 3], 10, -1894986606);\n    c = md5_ii(c, d, a, b, x[i + 10], 15, -1051523);\n    b = md5_ii(b, c, d, a, x[i + 1], 21, -2054922799);\n    a = md5_ii(a, b, c, d, x[i + 8], 6, 1873313359);\n    d = md5_ii(d, a, b, c, x[i + 15], 10, -30611744);\n    c = md5_ii(c, d, a, b, x[i + 6], 15, -1560198380);\n    b = md5_ii(b, c, d, a, x[i + 13], 21, 1309151649);\n    a = md5_ii(a, b, c, d, x[i + 4], 6, -145523070);\n    d = md5_ii(d, a, b, c, x[i + 11], 10, -1120210379);\n    c = md5_ii(c, d, a, b, x[i + 2], 15, 718787259);\n    b = md5_ii(b, c, d, a, x[i + 9], 21, -343485551);\n    a = safe_add(a, olda);\n    b = safe_add(b, oldb);\n    c = safe_add(c, oldc);\n    d = safe_add(d, oldd);\n  }\n\n  return Array(a, b, c, d);\n}\n/*\n * These functions implement the four basic operations the algorithm uses.\n */\n\n\nfunction md5_cmn(q, a, b, x, s, t) {\n  return safe_add(bit_rol(safe_add(safe_add(a, q), safe_add(x, t)), s), b);\n}\n\nfunction md5_ff(a, b, c, d, x, s, t) {\n  return md5_cmn(b & c | ~b & d, a, b, x, s, t);\n}\n\nfunction md5_gg(a, b, c, d, x, s, t) {\n  return md5_cmn(b & d | c & ~d, a, b, x, s, t);\n}\n\nfunction md5_hh(a, b, c, d, x, s, t) {\n  return md5_cmn(b ^ c ^ d, a, b, x, s, t);\n}\n\nfunction md5_ii(a, b, c, d, x, s, t) {\n  return md5_cmn(c ^ (b | ~d), a, b, x, s, t);\n}\n/*\n * Add integers, wrapping at 2^32. This uses 16-bit operations internally\n * to work around bugs in some JS interpreters.\n */\n\n\nfunction safe_add(x, y) {\n  const lsw = (x & 0xffff) + (y & 0xffff);\n  const msw = (x >> 16) + (y >> 16) + (lsw >> 16);\n  return msw << 16 | lsw & 0xffff;\n}\n/*\n * Bitwise rotate a 32-bit number to the left.\n */\n\n\nfunction bit_rol(num, cnt) {\n  return num << cnt | num >>> 32 - cnt;\n}\n\nmodule.exports = {\n  encrypt: hex_md5\n};\n\n//# sourceURL=webpack:///./packages/k5uploader/es/md5.js?");

/***/ }),

/***/ "5u4Q":
/*!*******************************************************!*\
  !*** ./packages/k5uploader/es/ui_config_from_node.js ***!
  \*******************************************************/
/*! exports provided: default */
/***/ (function(module, __webpack_exports__, __webpack_require__) {

"use strict";
eval("__webpack_require__.r(__webpack_exports__);\n/* harmony import */ var _ui_config__WEBPACK_IMPORTED_MODULE_0__ = __webpack_require__(/*! ./ui_config */ \"kGjN\");\n/* harmony import */ var _filter_from_node__WEBPACK_IMPORTED_MODULE_1__ = __webpack_require__(/*! ./filter_from_node */ \"ebz+\");\n/*\n * Copyright (C) 2019 - present Instructure, Inc.\n *\n * This file is part of Canvas.\n *\n * Canvas is free software: you can redistribute it and/or modify it under\n * the terms of the GNU Affero General Public License as published by the Free\n * Software Foundation, version 3 of the License.\n *\n * Canvas is distributed in the hope that it will be useful, but WITHOUT ANY\n * WARRANTY; without even the implied warranty of MERCHANTABILITY or FITNESS FOR\n * A PARTICULAR PURPOSE. See the GNU Affero General Public License for more\n * details.\n *\n * You should have received a copy of the GNU Affero General Public License along\n * with this program. If not, see <http://www.gnu.org/licenses/>.\n */\n\n\n/* harmony default export */ __webpack_exports__[\"default\"] = (function (xml) {\n  const limits = xml.find('limits');\n  const config = new _ui_config__WEBPACK_IMPORTED_MODULE_0__[\"default\"]({\n    maxUploads: limits.attr('maxUploads'),\n    maxFileSize: limits.attr('maxFileSize'),\n    maxTotalSize: limits.attr('maxTotalSize')\n  });\n  const filters = xml.find('fileFilters').children();\n\n  for (let i = 0, l = filters.length; i < l; i++) {\n    const filter = Object(_filter_from_node__WEBPACK_IMPORTED_MODULE_1__[\"default\"])(filters[i]);\n    config.addFileFilter(filter);\n  }\n\n  return config;\n});\n\n//# sourceURL=webpack:///./packages/k5uploader/es/ui_config_from_node.js?");

/***/ }),

/***/ "EsCX":
/*!***********************************************!*\
  !*** ./packages/k5uploader/es/message_bus.js ***!
  \***********************************************/
/*! exports provided: default */
/***/ (function(module, __webpack_exports__, __webpack_require__) {

"use strict";
eval("__webpack_require__.r(__webpack_exports__);\n/* harmony import */ var _messenger__WEBPACK_IMPORTED_MODULE_0__ = __webpack_require__(/*! ./messenger */ \"JPP1\");\n/*\n * Copyright (C) 2019 - present Instructure, Inc.\n *\n * This file is part of Canvas.\n *\n * Canvas is free software: you can redistribute it and/or modify it under\n * the terms of the GNU Affero General Public License as published by the Free\n * Software Foundation, version 3 of the License.\n *\n * Canvas is distributed in the hope that it will be useful, but WITHOUT ANY\n * WARRANTY; without even the implied warranty of MERCHANTABILITY or FITNESS FOR\n * A PARTICULAR PURPOSE. See the GNU Affero General Public License for more\n * details.\n *\n * You should have received a copy of the GNU Affero General Public License along\n * with this program. If not, see <http://www.gnu.org/licenses/>.\n */\n\n/* harmony default export */ __webpack_exports__[\"default\"] = (new _messenger__WEBPACK_IMPORTED_MODULE_0__[\"default\"]());\n\n//# sourceURL=webpack:///./packages/k5uploader/es/message_bus.js?");

/***/ }),

/***/ "IWXq":
/*!**************************************************!*\
  !*** ./packages/k5uploader/es/uiconf_service.js ***!
  \**************************************************/
/*! exports provided: default */
/***/ (function(module, __webpack_exports__, __webpack_require__) {

"use strict";
eval("__webpack_require__.r(__webpack_exports__);\n/* harmony import */ var _url_params__WEBPACK_IMPORTED_MODULE_0__ = __webpack_require__(/*! ./url_params */ \"bj/1\");\n/* harmony import */ var _signature_builder__WEBPACK_IMPORTED_MODULE_1__ = __webpack_require__(/*! ./signature_builder */ \"vLxW\");\n/* harmony import */ var _xml_parser__WEBPACK_IMPORTED_MODULE_2__ = __webpack_require__(/*! ./xml_parser */ \"dq43\");\n/* harmony import */ var _ui_config__WEBPACK_IMPORTED_MODULE_3__ = __webpack_require__(/*! ./ui_config */ \"kGjN\");\n/* harmony import */ var _ui_config_from_node__WEBPACK_IMPORTED_MODULE_4__ = __webpack_require__(/*! ./ui_config_from_node */ \"5u4Q\");\n/* harmony import */ var _message_bus__WEBPACK_IMPORTED_MODULE_5__ = __webpack_require__(/*! ./message_bus */ \"EsCX\");\n/* harmony import */ var _k5_options__WEBPACK_IMPORTED_MODULE_6__ = __webpack_require__(/*! ./k5_options */ \"upDA\");\n/*\n * Copyright (C) 2019 - present Instructure, Inc.\n *\n * This file is part of Canvas.\n *\n * Canvas is free software: you can redistribute it and/or modify it under\n * the terms of the GNU Affero General Public License as published by the Free\n * Software Foundation, version 3 of the License.\n *\n * Canvas is distributed in the hope that it will be useful, but WITHOUT ANY\n * WARRANTY; without even the implied warranty of MERCHANTABILITY or FITNESS FOR\n * A PARTICULAR PURPOSE. See the GNU Affero General Public License for more\n * details.\n *\n * You should have received a copy of the GNU Affero General Public License along\n * with this program. If not, see <http://www.gnu.org/licenses/>.\n */\n\n\n\n\n\n\n\n\nfunction UiconfService() {\n  this.xmlParser = new _xml_parser__WEBPACK_IMPORTED_MODULE_2__[\"default\"]();\n}\n\nUiconfService.prototype.load = function (sessionSettings) {\n  const data = sessionSettings.getSession();\n  data.kalsig = Object(_signature_builder__WEBPACK_IMPORTED_MODULE_1__[\"default\"])(data);\n  this.xhr = new XMLHttpRequest();\n  this.xhr.open('GET', _k5_options__WEBPACK_IMPORTED_MODULE_6__[\"default\"].uiconfUrl + Object(_url_params__WEBPACK_IMPORTED_MODULE_0__[\"default\"])(data));\n  this.xhr.addEventListener('load', this.onXhrLoad.bind(this));\n  this.xhr.send(data);\n};\n\nUiconfService.prototype.createUiConfig = function (xml) {\n  this.config = Object(_ui_config_from_node__WEBPACK_IMPORTED_MODULE_4__[\"default\"])(xml);\n};\n\nUiconfService.prototype.onXhrLoad = function (event) {\n  this.xmlParser.parseXML(this.xhr.response);\n  const conf = this.xmlParser.find('result').find('ui_conf').find('confFile').first().text();\n\n  if (conf) {\n    this.xmlParser = new _xml_parser__WEBPACK_IMPORTED_MODULE_2__[\"default\"]();\n    this.xmlParser.parseXML(conf);\n    this.config = Object(_ui_config_from_node__WEBPACK_IMPORTED_MODULE_4__[\"default\"])(this.xmlParser);\n    _message_bus__WEBPACK_IMPORTED_MODULE_5__[\"default\"].dispatchEvent('UiConf.complete', this.config, this);\n  } else {\n    _message_bus__WEBPACK_IMPORTED_MODULE_5__[\"default\"].dispatchEvent('UiConf.error', this.xhr.response, this);\n  }\n};\n\n/* harmony default export */ __webpack_exports__[\"default\"] = (UiconfService);\n\n//# sourceURL=webpack:///./packages/k5uploader/es/uiconf_service.js?");

/***/ }),

/***/ "JPP1":
/*!*********************************************!*\
  !*** ./packages/k5uploader/es/messenger.js ***!
  \*********************************************/
/*! exports provided: default */
/***/ (function(module, __webpack_exports__, __webpack_require__) {

"use strict";
eval("__webpack_require__.r(__webpack_exports__);\n/*\n * Copyright (C) 2019 - present Instructure, Inc.\n *\n * This file is part of Canvas.\n *\n * Canvas is free software: you can redistribute it and/or modify it under\n * the terms of the GNU Affero General Public License as published by the Free\n * Software Foundation, version 3 of the License.\n *\n * Canvas is distributed in the hope that it will be useful, but WITHOUT ANY\n * WARRANTY; without even the implied warranty of MERCHANTABILITY or FITNESS FOR\n * A PARTICULAR PURPOSE. See the GNU Affero General Public License for more\n * details.\n *\n * You should have received a copy of the GNU Affero General Public License along\n * with this program. If not, see <http://www.gnu.org/licenses/>.\n */\nMessenger.decorate = function (instance) {\n  instance.messenger = new Messenger();\n\n  instance.addEventListener = function (eventName, method) {\n    instance.messenger.addEventListener(eventName, method);\n  };\n\n  instance.dispatchEvent = function (eventName, data, context) {\n    instance.messenger.dispatchEvent(eventName, data, context);\n  };\n\n  instance.removeEventListener = function (eventName, targetMethod) {\n    instance.messenger.removeEventListener(eventName, targetMethod);\n  };\n};\n\nfunction Messenger() {\n  this.events = {};\n}\n\nMessenger.prototype.killAllListeners = function (eventName) {\n  if (this.events[eventName]) {\n    this.events[eventName] = [];\n  } else {\n    return false;\n  }\n};\n\nMessenger.prototype.destroy = function () {\n  this.events = {};\n};\n\nMessenger.prototype.dispatchEvent = function (eventName, data, context) {\n  if (this.events[eventName]) {\n    this.events[eventName].forEach(eventHandler => {\n      eventHandler.call(context, data);\n    });\n  }\n};\n\nMessenger.prototype.addEventListener = function (eventName, method) {\n  if (!method) {\n    return false;\n  }\n\n  if (!this.events[eventName]) {\n    this.events[eventName] = [];\n  }\n\n  this.events[eventName].push(method);\n  return method;\n};\n\nMessenger.prototype.removeEventListener = function (eventName, targetMethod) {\n  if (this.events[eventName]) {\n    const eventHandlers = this.events[eventName];\n    const removalQueue = [];\n    this.events[eventName].forEach((eventHandler, index) => {\n      if (eventHandler === targetMethod) {\n        removalQueue.push(index);\n      }\n    });\n\n    if (removalQueue.length > 0) {\n      removalQueue.forEach(element => {\n        eventHandlers.splice(element, 1);\n      });\n    }\n  }\n};\n\n/* harmony default export */ __webpack_exports__[\"default\"] = (Messenger);\n\n//# sourceURL=webpack:///./packages/k5uploader/es/messenger.js?");

/***/ }),

/***/ "QJfT":
/*!************************************************!*\
  !*** ./packages/k5uploader/es/object_merge.js ***!
  \************************************************/
/*! exports provided: default */
/***/ (function(module, __webpack_exports__, __webpack_require__) {

"use strict";
eval("__webpack_require__.r(__webpack_exports__);\n/*\n * Copyright (C) 2019 - present Instructure, Inc.\n *\n * This file is part of Canvas.\n *\n * Canvas is free software: you can redistribute it and/or modify it under\n * the terms of the GNU Affero General Public License as published by the Free\n * Software Foundation, version 3 of the License.\n *\n * Canvas is distributed in the hope that it will be useful, but WITHOUT ANY\n * WARRANTY; without even the implied warranty of MERCHANTABILITY or FITNESS FOR\n * A PARTICULAR PURPOSE. See the GNU Affero General Public License for more\n * details.\n *\n * You should have received a copy of the GNU Affero General Public License along\n * with this program. If not, see <http://www.gnu.org/licenses/>.\n */\n/* harmony default export */ __webpack_exports__[\"default\"] = (function (objs) {\n  if (!objs) {\n    return objs;\n  }\n\n  const combined = {};\n  objs = objs.reverse();\n  objs.forEach(obj => {\n    for (const prop in obj) {\n      combined[prop] = obj[prop];\n    }\n  });\n  return combined;\n});\n\n//# sourceURL=webpack:///./packages/k5uploader/es/object_merge.js?");

/***/ }),

/***/ "VAKy":
/*!**********************************************!*\
  !*** ./packages/k5uploader/es/k5uploader.js ***!
  \**********************************************/
/*! exports provided: default */
/***/ (function(module, __webpack_exports__, __webpack_require__) {

"use strict";
eval("__webpack_require__.r(__webpack_exports__);\n/* harmony import */ var _uploader__WEBPACK_IMPORTED_MODULE_0__ = __webpack_require__(/*! ./uploader */ \"meHm\");\n/* harmony import */ var _session_manager__WEBPACK_IMPORTED_MODULE_1__ = __webpack_require__(/*! ./session_manager */ \"XnLv\");\n/* harmony import */ var _kaltura_session__WEBPACK_IMPORTED_MODULE_2__ = __webpack_require__(/*! ./kaltura_session */ \"WEIX\");\n/* harmony import */ var _message_bus__WEBPACK_IMPORTED_MODULE_3__ = __webpack_require__(/*! ./message_bus */ \"EsCX\");\n/* harmony import */ var _messenger__WEBPACK_IMPORTED_MODULE_4__ = __webpack_require__(/*! ./messenger */ \"JPP1\");\n/* harmony import */ var _entry_service__WEBPACK_IMPORTED_MODULE_5__ = __webpack_require__(/*! ./entry_service */ \"pwF0\");\n/* harmony import */ var _uiconf_service__WEBPACK_IMPORTED_MODULE_6__ = __webpack_require__(/*! ./uiconf_service */ \"IWXq\");\n/* harmony import */ var _k5_options__WEBPACK_IMPORTED_MODULE_7__ = __webpack_require__(/*! ./k5_options */ \"upDA\");\n/*\n * Copyright (C) 2019 - present Instructure, Inc.\n *\n * This file is part of Canvas.\n *\n * Canvas is free software: you can redistribute it and/or modify it under\n * the terms of the GNU Affero General Public License as published by the Free\n * Software Foundation, version 3 of the License.\n *\n * Canvas is distributed in the hope that it will be useful, but WITHOUT ANY\n * WARRANTY; without even the implied warranty of MERCHANTABILITY or FITNESS FOR\n * A PARTICULAR PURPOSE. See the GNU Affero General Public License for more\n * details.\n *\n * You should have received a copy of the GNU Affero General Public License along\n * with this program. If not, see <http://www.gnu.org/licenses/>.\n */\n\n\n\n\n\n\n\n\n\nfunction K5Uploader(options) {\n  // set up instance as an event dispatcher\n  _messenger__WEBPACK_IMPORTED_MODULE_4__[\"default\"].decorate(this);\n  _k5_options__WEBPACK_IMPORTED_MODULE_7__[\"default\"].setOptions(options);\n  this.buildDependencies();\n  this.addListeners();\n  this.session.setSession(options.kaltura_session);\n  this.loadUiConf();\n}\n\nK5Uploader.prototype.destroy = function () {\n  _message_bus__WEBPACK_IMPORTED_MODULE_3__[\"default\"].destroy();\n  this.session = void 0;\n  this.entryService = void 0;\n  this.uiconfService = void 0;\n};\n\nK5Uploader.prototype.buildDependencies = function () {\n  this.session = new _kaltura_session__WEBPACK_IMPORTED_MODULE_2__[\"default\"]();\n  this.entryService = new _entry_service__WEBPACK_IMPORTED_MODULE_5__[\"default\"]();\n  this.uiconfService = new _uiconf_service__WEBPACK_IMPORTED_MODULE_6__[\"default\"]();\n};\n\nK5Uploader.prototype.addListeners = function () {\n  _message_bus__WEBPACK_IMPORTED_MODULE_3__[\"default\"].addEventListener('UiConf.error', this.onUiConfError.bind(this));\n  _message_bus__WEBPACK_IMPORTED_MODULE_3__[\"default\"].addEventListener('UiConf.complete', this.onUiConfComplete.bind(this));\n  _message_bus__WEBPACK_IMPORTED_MODULE_3__[\"default\"].addEventListener('Uploader.error', this.onUploadError.bind(this));\n  _message_bus__WEBPACK_IMPORTED_MODULE_3__[\"default\"].addEventListener('Uploader.success', this.onUploadSuccess.bind(this));\n  _message_bus__WEBPACK_IMPORTED_MODULE_3__[\"default\"].addEventListener('Uploader.progress', this.onProgress.bind(this));\n  _message_bus__WEBPACK_IMPORTED_MODULE_3__[\"default\"].addEventListener('Entry.success', this.onEntrySuccess.bind(this));\n  _message_bus__WEBPACK_IMPORTED_MODULE_3__[\"default\"].addEventListener('Entry.fail', this.onEntryFail.bind(this));\n};\n\nK5Uploader.prototype.onSessionLoaded = function (data) {\n  this.session = data;\n  this.loadUiConf();\n};\n\nK5Uploader.prototype.loadUiConf = function () {\n  this.uiconfService.load(this.session);\n};\n\nK5Uploader.prototype.onUiConfComplete = function (result) {\n  this.uiconfig = result;\n  this.dispatchEvent('K5.ready', {}, this);\n};\n\nK5Uploader.prototype.uploadFile = function (file) {\n  this.file = file;\n\n  if (!file) {\n    return;\n  }\n\n  if (this.uiconfig.acceptableFile(file, _k5_options__WEBPACK_IMPORTED_MODULE_7__[\"default\"].allowedMediaTypes) || ['webm', 'video/webm', 'audio/webm'].includes(file.type)) {\n    this.uploader = new _uploader__WEBPACK_IMPORTED_MODULE_0__[\"default\"]();\n    this.uploader.send(this.session, file);\n  } else {\n    const details = {\n      maxFileSize: this.uiconfig.maxFileSize,\n      file,\n      allowedMediaTypes: _k5_options__WEBPACK_IMPORTED_MODULE_7__[\"default\"].allowedMediaTypes\n    };\n    this.dispatchEvent('K5.fileError', details, this);\n  }\n};\n\nK5Uploader.prototype.onUploadSuccess = function (result) {\n  // combine all needed data and add an entry to kaltura\n  const allParams = [this.session.asEntryParams(), result.asEntryParams(), _k5_options__WEBPACK_IMPORTED_MODULE_7__[\"default\"].asEntryParams()];\n  this.entryService.addEntry(allParams);\n}; // Delegate to publicly available K5 events\n\n\nK5Uploader.prototype.onProgress = function (e) {\n  this.dispatchEvent('K5.progress', e, this);\n};\n\nK5Uploader.prototype.onUploadError = function (result) {\n  this.dispatchEvent('K5.error', result, this);\n};\n\nK5Uploader.prototype.onEntrySuccess = function (data) {\n  this.dispatchEvent('K5.complete', data, this);\n};\n\nK5Uploader.prototype.onEntryFail = function (data) {\n  this.dispatchEvent('K5.error', data, this);\n};\n\nK5Uploader.prototype.onUiConfError = function (result) {\n  this.dispatchEvent('K5.uiconfError', result, this);\n};\n\n/* harmony default export */ __webpack_exports__[\"default\"] = (K5Uploader);\n\n//# sourceURL=webpack:///./packages/k5uploader/es/k5uploader.js?");

/***/ }),

/***/ "WEIX":
/*!***************************************************!*\
  !*** ./packages/k5uploader/es/kaltura_session.js ***!
  \***************************************************/
/*! exports provided: default */
/***/ (function(module, __webpack_exports__, __webpack_require__) {

"use strict";
eval("__webpack_require__.r(__webpack_exports__);\n/* harmony import */ var _defaults__WEBPACK_IMPORTED_MODULE_0__ = __webpack_require__(/*! ./defaults */ \"zSD6\");\n/*\n * Copyright (C) 2019 - present Instructure, Inc.\n *\n * This file is part of Canvas.\n *\n * Canvas is free software: you can redistribute it and/or modify it under\n * the terms of the GNU Affero General Public License as published by the Free\n * Software Foundation, version 3 of the License.\n *\n * Canvas is distributed in the hope that it will be useful, but WITHOUT ANY\n * WARRANTY; without even the implied warranty of MERCHANTABILITY or FITNESS FOR\n * A PARTICULAR PURPOSE. See the GNU Affero General Public License for more\n * details.\n *\n * You should have received a copy of the GNU Affero General Public License along\n * with this program. If not, see <http://www.gnu.org/licenses/>.\n */\n\n\nfunction KalturaSession() {\n  this.ks = '';\n  this.subp_id = '';\n  this.partner_id = '';\n  this.uid = '';\n  this.serverTime = 0;\n}\n\nKalturaSession.prototype.setSession = function (obj) {\n  if (obj) {\n    Object(_defaults__WEBPACK_IMPORTED_MODULE_0__[\"default\"])('ks', this, obj);\n    Object(_defaults__WEBPACK_IMPORTED_MODULE_0__[\"default\"])('subp_id', this, obj);\n    Object(_defaults__WEBPACK_IMPORTED_MODULE_0__[\"default\"])('partner_id', this, obj);\n    Object(_defaults__WEBPACK_IMPORTED_MODULE_0__[\"default\"])('uid', this, obj);\n    Object(_defaults__WEBPACK_IMPORTED_MODULE_0__[\"default\"])('serverTime', this, obj);\n    Object(_defaults__WEBPACK_IMPORTED_MODULE_0__[\"default\"])('ui_conf_id', this, obj);\n  }\n};\n\nKalturaSession.prototype.getSession = function () {\n  return {\n    ks: this.ks,\n    subp_id: this.subp_id,\n    partner_id: this.partner_id,\n    uid: this.uid,\n    serverTime: this.serverTime,\n    ui_conf_id: this.ui_conf_id\n  };\n};\n\nKalturaSession.prototype.asEntryParams = function () {\n  return this.getSession();\n};\n\n/* harmony default export */ __webpack_exports__[\"default\"] = (KalturaSession);\n\n//# sourceURL=webpack:///./packages/k5uploader/es/kaltura_session.js?");

/***/ }),

/***/ "XnLv":
/*!***************************************************!*\
  !*** ./packages/k5uploader/es/session_manager.js ***!
  \***************************************************/
/*! exports provided: default */
/***/ (function(module, __webpack_exports__, __webpack_require__) {

"use strict";
eval("__webpack_require__.r(__webpack_exports__);\n/* harmony import */ var _message_bus__WEBPACK_IMPORTED_MODULE_0__ = __webpack_require__(/*! ./message_bus */ \"EsCX\");\n/* harmony import */ var _k5_options__WEBPACK_IMPORTED_MODULE_1__ = __webpack_require__(/*! ./k5_options */ \"upDA\");\n/* harmony import */ var _kaltura_session__WEBPACK_IMPORTED_MODULE_2__ = __webpack_require__(/*! ./kaltura_session */ \"WEIX\");\n/*\n * Copyright (C) 2019 - present Instructure, Inc.\n *\n * This file is part of Canvas.\n *\n * Canvas is free software: you can redistribute it and/or modify it under\n * the terms of the GNU Affero General Public License as published by the Free\n * Software Foundation, version 3 of the License.\n *\n * Canvas is distributed in the hope that it will be useful, but WITHOUT ANY\n * WARRANTY; without even the implied warranty of MERCHANTABILITY or FITNESS FOR\n * A PARTICULAR PURPOSE. See the GNU Affero General Public License for more\n * details.\n *\n * You should have received a copy of the GNU Affero General Public License along\n * with this program. If not, see <http://www.gnu.org/licenses/>.\n */\n\n\n\n\nfunction SessionManager() {\n  this.sessionData = new _kaltura_session__WEBPACK_IMPORTED_MODULE_2__[\"default\"]();\n}\n\nSessionManager.prototype.loadSession = function () {\n  const xhr = new XMLHttpRequest();\n  xhr.open('POST', _k5_options__WEBPACK_IMPORTED_MODULE_1__[\"default\"].sessionUrl, true);\n  xhr.responseType = 'json';\n  xhr.onload = this.onSessionLoaded.bind(this);\n  xhr.send();\n};\n\nSessionManager.prototype.onSessionLoaded = function (e) {\n  const xhr = e.target;\n\n  if (xhr.status == 200) {\n    this.sessionData.setSession(xhr.response);\n    _message_bus__WEBPACK_IMPORTED_MODULE_0__[\"default\"].dispatchEvent('SessionManager.complete', this.sessionData, this);\n  } else {\n    _message_bus__WEBPACK_IMPORTED_MODULE_0__[\"default\"].dispatchEvent('SessionManager.error');\n  }\n};\n\nSessionManager.prototype.getSession = function () {\n  return this.sessionData;\n};\n\n/* harmony default export */ __webpack_exports__[\"default\"] = (SessionManager);\n\n//# sourceURL=webpack:///./packages/k5uploader/es/session_manager.js?");

/***/ }),

/***/ "bTSf":
/*!***********************************************************!*\
  !*** ./packages/k5uploader/es/kaltura_request_builder.js ***!
  \***********************************************************/
/*! exports provided: default */
/***/ (function(module, __webpack_exports__, __webpack_require__) {

"use strict";
eval("__webpack_require__.r(__webpack_exports__);\n/* harmony import */ var _signature_builder__WEBPACK_IMPORTED_MODULE_0__ = __webpack_require__(/*! ./signature_builder */ \"vLxW\");\n/* harmony import */ var _url_params__WEBPACK_IMPORTED_MODULE_1__ = __webpack_require__(/*! ./url_params */ \"bj/1\");\n/* harmony import */ var _k5_options__WEBPACK_IMPORTED_MODULE_2__ = __webpack_require__(/*! ./k5_options */ \"upDA\");\n/*\n * Copyright (C) 2019 - present Instructure, Inc.\n *\n * This file is part of Canvas.\n *\n * Canvas is free software: you can redistribute it and/or modify it under\n * the terms of the GNU Affero General Public License as published by the Free\n * Software Foundation, version 3 of the License.\n *\n * Canvas is distributed in the hope that it will be useful, but WITHOUT ANY\n * WARRANTY; without even the implied warranty of MERCHANTABILITY or FITNESS FOR\n * A PARTICULAR PURPOSE. See the GNU Affero General Public License for more\n * details.\n *\n * You should have received a copy of the GNU Affero General Public License along\n * with this program. If not, see <http://www.gnu.org/licenses/>.\n */\n\n\n\n\nfunction KalturaRequestBuilder() {\n  this.settings, this.file;\n  this.xhr;\n}\n\nKalturaRequestBuilder.id = 1;\n\nKalturaRequestBuilder.prototype.createRequest = function () {\n  const xhr = new XMLHttpRequest();\n  xhr.open('POST', this.createUrl());\n  xhr.responseType = 'xml';\n  return xhr;\n};\n\nKalturaRequestBuilder.prototype.createFormData = function () {\n  const formData = new FormData();\n  formData.append('Filename', this.file.name);\n  formData.append('Filedata', this.file);\n  formData.append('Upload', 'Submit Query');\n  return formData;\n};\n\nKalturaRequestBuilder.prototype.createFileId = function () {\n  KalturaRequestBuilder.id += 1;\n  return Date.now().toString() + KalturaRequestBuilder.id.toString();\n}; // flash uploader sends these as GET query params\n// and file data as POST\n\n\nKalturaRequestBuilder.prototype.createUrl = function () {\n  const config = this.settings.getSession();\n  config.filename = this.createFileId();\n  config.kalsig = this.createSignature();\n  return _k5_options__WEBPACK_IMPORTED_MODULE_2__[\"default\"].uploadUrl + Object(_url_params__WEBPACK_IMPORTED_MODULE_1__[\"default\"])(config);\n};\n\nKalturaRequestBuilder.prototype.createSignature = function () {\n  return Object(_signature_builder__WEBPACK_IMPORTED_MODULE_0__[\"default\"])(this.settings.getSession());\n};\n\nKalturaRequestBuilder.prototype.buildRequest = function (settings, file) {\n  this.settings = settings;\n  this.file = file;\n  return this.createRequest();\n};\n\nKalturaRequestBuilder.prototype.getFile = function () {\n  return this.file;\n};\n\nKalturaRequestBuilder.prototype.getSettings = function () {\n  return this.settings;\n};\n\n/* harmony default export */ __webpack_exports__[\"default\"] = (KalturaRequestBuilder);\n\n//# sourceURL=webpack:///./packages/k5uploader/es/kaltura_request_builder.js?");

/***/ }),

/***/ "bj/1":
/*!**********************************************!*\
  !*** ./packages/k5uploader/es/url_params.js ***!
  \**********************************************/
/*! exports provided: default */
/***/ (function(module, __webpack_exports__, __webpack_require__) {

"use strict";
eval("__webpack_require__.r(__webpack_exports__);\n/*\n * Copyright (C) 2019 - present Instructure, Inc.\n *\n * This file is part of Canvas.\n *\n * Canvas is free software: you can redistribute it and/or modify it under\n * the terms of the GNU Affero General Public License as published by the Free\n * Software Foundation, version 3 of the License.\n *\n * Canvas is distributed in the hope that it will be useful, but WITHOUT ANY\n * WARRANTY; without even the implied warranty of MERCHANTABILITY or FITNESS FOR\n * A PARTICULAR PURPOSE. See the GNU Affero General Public License for more\n * details.\n *\n * You should have received a copy of the GNU Affero General Public License along\n * with this program. If not, see <http://www.gnu.org/licenses/>.\n */\n/* harmony default export */ __webpack_exports__[\"default\"] = (function (params) {\n  let queryUrl = '?';\n\n  for (const prop in params) {\n    queryUrl += prop + '=' + encodeURIComponent(params[prop]) + '&';\n  }\n\n  queryUrl = queryUrl.substring(0, queryUrl.length - 1);\n  return queryUrl;\n});\n\n//# sourceURL=webpack:///./packages/k5uploader/es/url_params.js?");

/***/ }),

/***/ "cICH":
/*!*************************************************!*\
  !*** ./packages/k5uploader/es/upload_result.js ***!
  \*************************************************/
/*! exports provided: default */
/***/ (function(module, __webpack_exports__, __webpack_require__) {

"use strict";
eval("__webpack_require__.r(__webpack_exports__);\n/* harmony import */ var _xml_parser__WEBPACK_IMPORTED_MODULE_0__ = __webpack_require__(/*! ./xml_parser */ \"dq43\");\n/*\n * Copyright (C) 2019 - present Instructure, Inc.\n *\n * This file is part of Canvas.\n *\n * Canvas is free software: you can redistribute it and/or modify it under\n * the terms of the GNU Affero General Public License as published by the Free\n * Software Foundation, version 3 of the License.\n *\n * Canvas is distributed in the hope that it will be useful, but WITHOUT ANY\n * WARRANTY; without even the implied warranty of MERCHANTABILITY or FITNESS FOR\n * A PARTICULAR PURPOSE. See the GNU Affero General Public License for more\n * details.\n *\n * You should have received a copy of the GNU Affero General Public License along\n * with this program. If not, see <http://www.gnu.org/licenses/>.\n */\n\n\nfunction UploadResult() {\n  this.xml = void 0;\n  this.isError = true;\n  this.token = void 0;\n  this.filename = '';\n  this.fileId = -1;\n  this.xmlParser = new _xml_parser__WEBPACK_IMPORTED_MODULE_0__[\"default\"]();\n}\n\nUploadResult.prototype.parseXML = function (xml) {\n  const $xml = this.xmlParser.parseXML(xml);\n  this.isError = this.xmlParser.isError;\n\n  if (!this.xmlParser.isError) {\n    this.pullData();\n  }\n};\n\nUploadResult.prototype.pullData = function () {\n  const $resultOk = this.xmlParser.find('result_ok');\n  this.token = this.xmlParser.nodeText('token', $resultOk, true);\n  this.fileId = this.xmlParser.nodeText('filename', $resultOk, true);\n  this.filename = this.xmlParser.nodeText('origFilename', $resultOk);\n};\n\nUploadResult.prototype.asEntryParams = function () {\n  return {\n    entry1_name: this.filename,\n    entry1_filename: this.fileId,\n    entry1_realFilename: this.filename\n  };\n};\n\n/* harmony default export */ __webpack_exports__[\"default\"] = (UploadResult);\n\n//# sourceURL=webpack:///./packages/k5uploader/es/upload_result.js?");

/***/ }),

/***/ "dq43":
/*!**********************************************!*\
  !*** ./packages/k5uploader/es/xml_parser.js ***!
  \**********************************************/
/*! exports provided: default */
/***/ (function(module, __webpack_exports__, __webpack_require__) {

"use strict";
eval("__webpack_require__.r(__webpack_exports__);\n/*\n * Copyright (C) 2019 - present Instructure, Inc.\n *\n * This file is part of Canvas.\n *\n * Canvas is free software: you can redistribute it and/or modify it under\n * the terms of the GNU Affero General Public License as published by the Free\n * Software Foundation, version 3 of the License.\n *\n * Canvas is distributed in the hope that it will be useful, but WITHOUT ANY\n * WARRANTY; without even the implied warranty of MERCHANTABILITY or FITNESS FOR\n * A PARTICULAR PURPOSE. See the GNU Affero General Public License for more\n * details.\n *\n * You should have received a copy of the GNU Affero General Public License along\n * with this program. If not, see <http://www.gnu.org/licenses/>.\n */\nfunction XmlParser() {}\n\nXmlParser.prototype.parseXML = function (xml) {\n  this.$xml = $(xml);\n  this.determineError();\n  return this.$xml;\n};\n\nXmlParser.prototype.determineError = function () {\n  this.isError = !!this.find('error').children().length;\n};\n\nXmlParser.prototype.find = function (nodeName) {\n  return this.$xml.find(nodeName);\n};\n\nXmlParser.prototype.findRecursive = function (nodes) {\n  var nodes = nodes.split(':');\n  let currentNode = this.$xml;\n  let found;\n\n  for (let i = 0, l = nodes.length; i < l; i++) {\n    found = currentNode.find(nodes[i])[0];\n\n    if (!found) {\n      currentNode = void 0;\n      break;\n    } else {\n      currentNode = $(found);\n    }\n  }\n\n  return currentNode;\n};\n\nXmlParser.prototype.nodeText = function (name, node, asNumber) {\n  let res;\n\n  if (node.find(name).text() != '') {\n    res = node.find(name).text();\n\n    if (asNumber === true) {\n      res = parseFloat(res);\n    }\n  }\n\n  return res;\n};\n\n/* harmony default export */ __webpack_exports__[\"default\"] = (XmlParser);\n\n//# sourceURL=webpack:///./packages/k5uploader/es/xml_parser.js?");

/***/ }),

/***/ "ebz+":
/*!****************************************************!*\
  !*** ./packages/k5uploader/es/filter_from_node.js ***!
  \****************************************************/
/*! exports provided: default */
/***/ (function(module, __webpack_exports__, __webpack_require__) {

"use strict";
eval("__webpack_require__.r(__webpack_exports__);\n/* harmony import */ var _file_filter__WEBPACK_IMPORTED_MODULE_0__ = __webpack_require__(/*! ./file_filter */ \"34di\");\n/*\n * Copyright (C) 2019 - present Instructure, Inc.\n *\n * This file is part of Canvas.\n *\n * Canvas is free software: you can redistribute it and/or modify it under\n * the terms of the GNU Affero General Public License as published by the Free\n * Software Foundation, version 3 of the License.\n *\n * Canvas is distributed in the hope that it will be useful, but WITHOUT ANY\n * WARRANTY; without even the implied warranty of MERCHANTABILITY or FITNESS FOR\n * A PARTICULAR PURPOSE. See the GNU Affero General Public License for more\n * details.\n *\n * You should have received a copy of the GNU Affero General Public License along\n * with this program. If not, see <http://www.gnu.org/licenses/>.\n */\n\n/* harmony default export */ __webpack_exports__[\"default\"] = (function (node) {\n  return new _file_filter__WEBPACK_IMPORTED_MODULE_0__[\"default\"]({\n    id: node.getAttribute('id'),\n    description: node.getAttribute('description'),\n    entryType: node.getAttribute('entryType'),\n    mediaType: node.getAttribute('mediaType'),\n    type: node.getAttribute('type'),\n    extensions: node.getAttribute('extensions')\n  });\n});\n\n//# sourceURL=webpack:///./packages/k5uploader/es/filter_from_node.js?");

/***/ }),

/***/ "kGjN":
/*!*********************************************!*\
  !*** ./packages/k5uploader/es/ui_config.js ***!
  \*********************************************/
/*! exports provided: default */
/***/ (function(module, __webpack_exports__, __webpack_require__) {

"use strict";
eval("__webpack_require__.r(__webpack_exports__);\n/*\n * Copyright (C) 2019 - present Instructure, Inc.\n *\n * This file is part of Canvas.\n *\n * Canvas is free software: you can redistribute it and/or modify it under\n * the terms of the GNU Affero General Public License as published by the Free\n * Software Foundation, version 3 of the License.\n *\n * Canvas is distributed in the hope that it will be useful, but WITHOUT ANY\n * WARRANTY; without even the implied warranty of MERCHANTABILITY or FITNESS FOR\n * A PARTICULAR PURPOSE. See the GNU Affero General Public License for more\n * details.\n *\n * You should have received a copy of the GNU Affero General Public License along\n * with this program. If not, see <http://www.gnu.org/licenses/>.\n */\nfunction UiConfig(params) {\n  this.fileFilters = [];\n  this.maxUploads = params.maxUploads;\n  this.maxFileSize = params.maxFileSize;\n  this.maxTotalSize = params.maxTotalSize;\n}\n\nUiConfig.prototype.addFileFilter = function (fileFilter) {\n  this.fileFilters.push(fileFilter);\n};\n\nUiConfig.prototype.filterFor = function (fileName) {\n  let filter, f;\n  const extension = fileName.split('.').pop();\n\n  for (let i = 0, len = this.fileFilters.length; i < len; i++) {\n    f = this.fileFilters[i];\n\n    if (f.includesExtension(extension)) {\n      filter = f;\n      break;\n    }\n  }\n\n  return filter;\n};\n\nUiConfig.prototype.asEntryParams = function (fileName) {\n  const currentFilter = this.filterFor(fileName);\n  return currentFilter.toParams();\n};\n\nUiConfig.prototype.acceptableFileSize = function (fileSize) {\n  return this.maxFileSize * 1024 * 1024 > fileSize;\n};\n\nUiConfig.prototype.acceptableFileType = function (fileName, types) {\n  const currentFilter = this.filterFor(fileName);\n\n  if (!currentFilter) {\n    return false;\n  }\n\n  return types.indexOf(currentFilter.id) !== -1;\n};\n\nUiConfig.prototype.acceptableFile = function (file, types) {\n  const type = this.acceptableFileType(file.name, types);\n  const size = this.acceptableFileSize(file.size);\n  return type && size;\n};\n\n/* harmony default export */ __webpack_exports__[\"default\"] = (UiConfig);\n\n//# sourceURL=webpack:///./packages/k5uploader/es/ui_config.js?");

/***/ }),

/***/ "meHm":
/*!********************************************!*\
  !*** ./packages/k5uploader/es/uploader.js ***!
  \********************************************/
/*! exports provided: default */
/***/ (function(module, __webpack_exports__, __webpack_require__) {

"use strict";
eval("__webpack_require__.r(__webpack_exports__);\n/* harmony import */ var _message_bus__WEBPACK_IMPORTED_MODULE_0__ = __webpack_require__(/*! ./message_bus */ \"EsCX\");\n/* harmony import */ var _upload_result__WEBPACK_IMPORTED_MODULE_1__ = __webpack_require__(/*! ./upload_result */ \"cICH\");\n/* harmony import */ var _kaltura_request_builder__WEBPACK_IMPORTED_MODULE_2__ = __webpack_require__(/*! ./kaltura_request_builder */ \"bTSf\");\n/*\n * Copyright (C) 2019 - present Instructure, Inc.\n *\n * This file is part of Canvas.\n *\n * Canvas is free software: you can redistribute it and/or modify it under\n * the terms of the GNU Affero General Public License as published by the Free\n * Software Foundation, version 3 of the License.\n *\n * Canvas is distributed in the hope that it will be useful, but WITHOUT ANY\n * WARRANTY; without even the implied warranty of MERCHANTABILITY or FITNESS FOR\n * A PARTICULAR PURPOSE. See the GNU Affero General Public License for more\n * details.\n *\n * You should have received a copy of the GNU Affero General Public License along\n * with this program. If not, see <http://www.gnu.org/licenses/>.\n */\n\n\n\n\nfunction Uploader() {\n  this.xhr = new XMLHttpRequest();\n  this.uploadResult = new _upload_result__WEBPACK_IMPORTED_MODULE_1__[\"default\"]();\n}\n\nUploader.prototype.isAvailable = function () {\n  return !!this.xhr.upload;\n};\n\nUploader.prototype.send = function (session, file) {\n  const kRequest = new _kaltura_request_builder__WEBPACK_IMPORTED_MODULE_2__[\"default\"]();\n  this.xhr = kRequest.buildRequest(session, file);\n  this.addEventListeners();\n  this.xhr.send(kRequest.createFormData());\n};\n\nUploader.prototype.addEventListeners = function () {\n  this.xhr.upload.addEventListener('progress', this.eventProxy.bind(this.xhr));\n  this.xhr.upload.addEventListener('load', this.eventProxy.bind(this.xhr));\n  this.xhr.upload.addEventListener('error', this.eventProxy.bind(this.xhr));\n  this.xhr.upload.addEventListener('abort', this.eventProxy.bind(this.xhr));\n  this.xhr.onload = this.onload.bind(this);\n};\n\nUploader.prototype.onload = function (event) {\n  this.uploadResult.parseXML(this.xhr.response);\n  const resultStatus = this.uploadResult.isError ? 'error' : 'success';\n  _message_bus__WEBPACK_IMPORTED_MODULE_0__[\"default\"].dispatchEvent('Uploader.' + resultStatus, this.uploadResult);\n};\n\nUploader.prototype.eventProxy = function (event) {\n  const name = 'Uploader.' + event.type;\n  _message_bus__WEBPACK_IMPORTED_MODULE_0__[\"default\"].dispatchEvent(name, event, this);\n};\n\n/* harmony default export */ __webpack_exports__[\"default\"] = (Uploader);\n\n//# sourceURL=webpack:///./packages/k5uploader/es/uploader.js?");

/***/ }),

/***/ "pwF0":
/*!*************************************************!*\
  !*** ./packages/k5uploader/es/entry_service.js ***!
  \*************************************************/
/*! exports provided: default */
/***/ (function(module, __webpack_exports__, __webpack_require__) {

"use strict";
eval("__webpack_require__.r(__webpack_exports__);\n/* harmony import */ var _signature_builder__WEBPACK_IMPORTED_MODULE_0__ = __webpack_require__(/*! ./signature_builder */ \"vLxW\");\n/* harmony import */ var _url_params__WEBPACK_IMPORTED_MODULE_1__ = __webpack_require__(/*! ./url_params */ \"bj/1\");\n/* harmony import */ var _message_bus__WEBPACK_IMPORTED_MODULE_2__ = __webpack_require__(/*! ./message_bus */ \"EsCX\");\n/* harmony import */ var _xml_parser__WEBPACK_IMPORTED_MODULE_3__ = __webpack_require__(/*! ./xml_parser */ \"dq43\");\n/* harmony import */ var _object_merge__WEBPACK_IMPORTED_MODULE_4__ = __webpack_require__(/*! ./object_merge */ \"QJfT\");\n/* harmony import */ var _k5_options__WEBPACK_IMPORTED_MODULE_5__ = __webpack_require__(/*! ./k5_options */ \"upDA\");\n/*\n * Copyright (C) 2019 - present Instructure, Inc.\n *\n * This file is part of Canvas.\n *\n * Canvas is free software: you can redistribute it and/or modify it under\n * the terms of the GNU Affero General Public License as published by the Free\n * Software Foundation, version 3 of the License.\n *\n * Canvas is distributed in the hope that it will be useful, but WITHOUT ANY\n * WARRANTY; without even the implied warranty of MERCHANTABILITY or FITNESS FOR\n * A PARTICULAR PURPOSE. See the GNU Affero General Public License for more\n * details.\n *\n * You should have received a copy of the GNU Affero General Public License along\n * with this program. If not, see <http://www.gnu.org/licenses/>.\n */\n\n\n\n\n\n\n\nfunction EntryService() {\n  this.xmlParser = new _xml_parser__WEBPACK_IMPORTED_MODULE_3__[\"default\"]();\n}\n\nEntryService.prototype.addEntry = function (allParams) {\n  this.formData = Object(_object_merge__WEBPACK_IMPORTED_MODULE_4__[\"default\"])(allParams);\n  this.createEntryRequest();\n};\n\nEntryService.prototype.createEntryRequest = function () {\n  const data = this.formData;\n  data.kalsig = Object(_signature_builder__WEBPACK_IMPORTED_MODULE_0__[\"default\"])(data);\n  this.xhr = new XMLHttpRequest();\n  this.xhr.open('GET', _k5_options__WEBPACK_IMPORTED_MODULE_5__[\"default\"].entryUrl + Object(_url_params__WEBPACK_IMPORTED_MODULE_1__[\"default\"])(data));\n  this.xhr.requestType = 'xml';\n  this.xhr.onload = this.onEntryRequestLoaded.bind(this);\n  this.xhr.send(data);\n};\n\nEntryService.prototype.onEntryRequestLoaded = function (e) {\n  this.xmlParser.parseXML(this.xhr.response);\n  var ent = this.xmlParser.findRecursive('result:entries:entry1_');\n\n  if (ent) {\n    var ent = {\n      id: ent.find('id').text(),\n      type: ent.find('type').text(),\n      title: ent.find('name').text(),\n      context_code: ent.find('partnerData').text(),\n      mediaType: ent.find('mediatype').text(),\n      entryId: ent.find('id').text(),\n      userTitle: void 0\n    };\n    _message_bus__WEBPACK_IMPORTED_MODULE_2__[\"default\"].dispatchEvent('Entry.success', ent, this);\n  } else {\n    _message_bus__WEBPACK_IMPORTED_MODULE_2__[\"default\"].dispatchEvent('Entry.fail', this.xhr.response, this);\n  }\n};\n\n/* harmony default export */ __webpack_exports__[\"default\"] = (EntryService);\n\n//# sourceURL=webpack:///./packages/k5uploader/es/entry_service.js?");

/***/ }),

/***/ "upDA":
/*!**********************************************!*\
  !*** ./packages/k5uploader/es/k5_options.js ***!
  \**********************************************/
/*! exports provided: default */
/***/ (function(module, __webpack_exports__, __webpack_require__) {

"use strict";
eval("__webpack_require__.r(__webpack_exports__);\n/* harmony import */ var _defaults__WEBPACK_IMPORTED_MODULE_0__ = __webpack_require__(/*! ./defaults */ \"zSD6\");\n/*\n * Copyright (C) 2019 - present Instructure, Inc.\n *\n * This file is part of Canvas.\n *\n * Canvas is free software: you can redistribute it and/or modify it under\n * the terms of the GNU Affero General Public License as published by the Free\n * Software Foundation, version 3 of the License.\n *\n * Canvas is distributed in the hope that it will be useful, but WITHOUT ANY\n * WARRANTY; without even the implied warranty of MERCHANTABILITY or FITNESS FOR\n * A PARTICULAR PURPOSE. See the GNU Affero General Public License for more\n * details.\n *\n * You should have received a copy of the GNU Affero General Public License along\n * with this program. If not, see <http://www.gnu.org/licenses/>.\n */\n\n\nfunction K5Options() {}\n\nK5Options.prototype.setOptions = function (options) {\n  this.mergeDefaults(options);\n};\n\nK5Options.prototype.mergeDefaults = function (options) {\n  this.allowedMediaTypes = ['video', 'audio'];\n  this.sessionUrl = '/api/v1/services/kaltura_session';\n  this.uploadUrl = '';\n  this.entryUrl = '';\n  this.uiconfUrl = '';\n  this.entryDefaults = {\n    partnerData: \"{'context_code': 'some_course_num', 'root_account'_id':1}\",\n    conversionProfile: 2,\n    source: 1,\n    kshow_id: -1,\n    quick_edit: true\n  };\n  Object(_defaults__WEBPACK_IMPORTED_MODULE_0__[\"default\"])('allowedMediaTypes', this, options);\n  Object(_defaults__WEBPACK_IMPORTED_MODULE_0__[\"default\"])('sessionUrl', this, options);\n  Object(_defaults__WEBPACK_IMPORTED_MODULE_0__[\"default\"])('uploadUrl', this, options);\n  Object(_defaults__WEBPACK_IMPORTED_MODULE_0__[\"default\"])('entryUrl', this, options);\n  Object(_defaults__WEBPACK_IMPORTED_MODULE_0__[\"default\"])('uiconfUrl', this, options);\n  Object(_defaults__WEBPACK_IMPORTED_MODULE_0__[\"default\"])('partnerData', this.entryDefaults, options.entryDefaults);\n  Object(_defaults__WEBPACK_IMPORTED_MODULE_0__[\"default\"])('conversionProfile', this.entryDefaults, options.entryDefaults);\n  Object(_defaults__WEBPACK_IMPORTED_MODULE_0__[\"default\"])('source', this.entryDefaults, options.entryDefaults);\n  Object(_defaults__WEBPACK_IMPORTED_MODULE_0__[\"default\"])('kshow_id', this.entryDefaults, options.entryDefaults);\n  Object(_defaults__WEBPACK_IMPORTED_MODULE_0__[\"default\"])('quick_edit', this.entryDefaults, options.entryDefaults);\n};\n\nK5Options.prototype.asEntryParams = function () {\n  return {\n    entry1_partnerData: this.entryDefaults.partnerData,\n    entry1_conversionProfile: this.entryDefaults.conversionProfile,\n    entry1_source: this.entryDefaults.source,\n    kshow_id: this.entryDefaults.kshow_id,\n    quick_edit: this.entryDefaults.quick_edit\n  };\n};\n\n/* harmony default export */ __webpack_exports__[\"default\"] = (new K5Options());\n\n//# sourceURL=webpack:///./packages/k5uploader/es/k5_options.js?");

/***/ }),

/***/ "vLxW":
/*!*****************************************************!*\
  !*** ./packages/k5uploader/es/signature_builder.js ***!
  \*****************************************************/
/*! exports provided: default */
/***/ (function(module, __webpack_exports__, __webpack_require__) {

"use strict";
eval("__webpack_require__.r(__webpack_exports__);\n/* harmony import */ var _md5__WEBPACK_IMPORTED_MODULE_0__ = __webpack_require__(/*! ./md5 */ \"58Nq\");\n/* harmony import */ var _md5__WEBPACK_IMPORTED_MODULE_0___default = /*#__PURE__*/__webpack_require__.n(_md5__WEBPACK_IMPORTED_MODULE_0__);\n/*\n * Copyright (C) 2019 - present Instructure, Inc.\n *\n * This file is part of Canvas.\n *\n * Canvas is free software: you can redistribute it and/or modify it under\n * the terms of the GNU Affero General Public License as published by the Free\n * Software Foundation, version 3 of the License.\n *\n * Canvas is distributed in the hope that it will be useful, but WITHOUT ANY\n * WARRANTY; without even the implied warranty of MERCHANTABILITY or FITNESS FOR\n * A PARTICULAR PURPOSE. See the GNU Affero General Public License for more\n * details.\n *\n * You should have received a copy of the GNU Affero General Public License along\n * with this program. If not, see <http://www.gnu.org/licenses/>.\n */\n\n/* harmony default export */ __webpack_exports__[\"default\"] = (function (params) {\n  let names = [];\n\n  for (const prop in params) {\n    names.push(prop);\n  }\n\n  names = names.sort();\n  let s = '';\n  names.forEach(element => {\n    s += element;\n    s += params[element];\n  });\n  return _md5__WEBPACK_IMPORTED_MODULE_0___default.a.encrypt(s);\n});\n\n//# sourceURL=webpack:///./packages/k5uploader/es/signature_builder.js?");

/***/ }),

/***/ "zSD6":
/*!********************************************!*\
  !*** ./packages/k5uploader/es/defaults.js ***!
  \********************************************/
/*! exports provided: default */
/***/ (function(module, __webpack_exports__, __webpack_require__) {

"use strict";
eval("__webpack_require__.r(__webpack_exports__);\n/*\n * Copyright (C) 2019 - present Instructure, Inc.\n *\n * This file is part of Canvas.\n *\n * Canvas is free software: you can redistribute it and/or modify it under\n * the terms of the GNU Affero General Public License as published by the Free\n * Software Foundation, version 3 of the License.\n *\n * Canvas is distributed in the hope that it will be useful, but WITHOUT ANY\n * WARRANTY; without even the implied warranty of MERCHANTABILITY or FITNESS FOR\n * A PARTICULAR PURPOSE. See the GNU Affero General Public License for more\n * details.\n *\n * You should have received a copy of the GNU Affero General Public License along\n * with this program. If not, see <http://www.gnu.org/licenses/>.\n */\nfunction isPresent(passed, name) {\n  return passed && passed[name] !== void 0;\n}\n\n/* harmony default export */ __webpack_exports__[\"default\"] = (function (name, options, passed) {\n  if (isPresent(passed, name)) {\n    options[name] = passed[name];\n  }\n});\n\n//# sourceURL=webpack:///./packages/k5uploader/es/defaults.js?");

/***/ })

}]);