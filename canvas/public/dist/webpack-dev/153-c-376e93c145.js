(window["canvasWebpackJsonp"] = window["canvasWebpackJsonp"] || []).push([[153],{

/***/ "Pkhf":
/*!**********************************************!*\
  !*** ./ui/shared/files/util/apiFileUtils.js ***!
  \**********************************************/
/*! exports provided: getRootFolder, uploadFile */
/***/ (function(module, __webpack_exports__, __webpack_require__) {

"use strict";
eval("__webpack_require__.r(__webpack_exports__);\n/* harmony export (binding) */ __webpack_require__.d(__webpack_exports__, \"getRootFolder\", function() { return getRootFolder; });\n/* harmony export (binding) */ __webpack_require__.d(__webpack_exports__, \"uploadFile\", function() { return uploadFile; });\n/* harmony import */ var _babel_runtime_helpers_esm_objectSpread2__WEBPACK_IMPORTED_MODULE_0__ = __webpack_require__(/*! @babel/runtime/helpers/esm/objectSpread2 */ \"VTBJ\");\n/* harmony import */ var _canvas_axios__WEBPACK_IMPORTED_MODULE_1__ = __webpack_require__(/*! @canvas/axios */ \"BrAc\");\n\n// Copyright (C) 2017 - present Instructure, Inc.\n//\n// This file is part of Canvas.\n//\n// Canvas is free software: you can redistribute it and/or modify it under\n// the terms of the GNU Affero General Public License as published by the Free\n// Software Foundation, version 3 of the License.\n//\n// Canvas is distributed in the hope that it will be useful, but WITHOUT ANY\n// WARRANTY; without even the implied warranty of MERCHANTABILITY or FITNESS FOR\n// A PARTICULAR PURPOSE. See the GNU Affero General Public License for more\n// details.\n//\n// You should have received a copy of the GNU Affero General Public License along\n// with this program. If not, see <http://www.gnu.org/licenses/>.\n\nconst stringIds = {\n  Accept: 'application/json+canvas-string-ids'\n};\nfunction getRootFolder(contextType, contextId) {\n  return _canvas_axios__WEBPACK_IMPORTED_MODULE_1__[\"default\"].get(`/api/v1/${contextType}/${contextId}/folders/root`, stringIds);\n}\n\nfunction createFormData(data) {\n  const formData = new FormData();\n  Object.keys(data).forEach(key => formData.append(key, data[key]));\n  return formData;\n}\n\nfunction onFileUploadInfoReceived(file, uploadInfo, onSuccess, onFailure) {\n  const formData = createFormData(Object(_babel_runtime_helpers_esm_objectSpread2__WEBPACK_IMPORTED_MODULE_0__[\"default\"])(Object(_babel_runtime_helpers_esm_objectSpread2__WEBPACK_IMPORTED_MODULE_0__[\"default\"])({}, uploadInfo.upload_params), {}, {\n    file\n  }));\n\n  const config = Object(_babel_runtime_helpers_esm_objectSpread2__WEBPACK_IMPORTED_MODULE_0__[\"default\"])({\n    'Content-Type': 'multipart/form-data'\n  }, stringIds);\n\n  _canvas_axios__WEBPACK_IMPORTED_MODULE_1__[\"default\"].post(uploadInfo.upload_url, formData, config).then(response => onSuccess(response.data)).catch(response => onFailure(response));\n}\n\nfunction uploadFile(file, folderId, onSuccess, onFailure) {\n  _canvas_axios__WEBPACK_IMPORTED_MODULE_1__[\"default\"].post(`/api/v1/folders/${folderId}/files`, {\n    name: file.name,\n    size: file.size,\n    parent_folder_id: folderId,\n    on_duplicate: 'rename'\n  }, stringIds).then(response => onFileUploadInfoReceived(file, response.data, onSuccess, onFailure)).catch(response => onFailure(response));\n}\n\n//# sourceURL=webpack:///./ui/shared/files/util/apiFileUtils.js?");

/***/ }),

/***/ "hlSo":
/*!*********************************************************!*\
  !*** ./packages/link-header-parsing/parseLinkHeader.js ***!
  \*********************************************************/
/*! exports provided: default */
/***/ (function(module, __webpack_exports__, __webpack_require__) {

"use strict";
eval("__webpack_require__.r(__webpack_exports__);\n/*\n * Copyright (C) 2016 - present Instructure, Inc.\n *\n * This file is part of Canvas.\n *\n * Canvas is free software: you can redistribute it and/or modify it under\n * the terms of the GNU Affero General Public License as published by the Free\n * Software Foundation, version 3 of the License.\n *\n * Canvas is distributed in the hope that it will be useful, but WITHOUT ANY\n * WARRANTY; without even the implied warranty of MERCHANTABILITY or FITNESS FOR\n * A PARTICULAR PURPOSE. See the GNU Affero General Public License for more\n * details.\n *\n * You should have received a copy of the GNU Affero General Public License along\n * with this program. If not, see <http://www.gnu.org/licenses/>.\n */\n\n/* harmony default export */ __webpack_exports__[\"default\"] = (function(linkHeader) {\n  if (!linkHeader) {\n    return []\n  }\n  const retVal = {}\n  linkHeader\n    .split(',')\n    .map(partOfHeader => partOfHeader.split('; '))\n    .forEach(link => {\n      const myUrl = link[0].substring(1, link[0].length - 1)\n      let urlRel = link[1].split('=')\n      urlRel = urlRel[1]\n      urlRel = urlRel.substring(1, urlRel.length - 1)\n\n      retVal[urlRel] = myUrl\n    })\n  return retVal\n});\n\n\n//# sourceURL=webpack:///./packages/link-header-parsing/parseLinkHeader.js?");

/***/ }),

/***/ "kx/Z":
/*!**************************************!*\
  !*** ./ui/shared/rce/FileBrowser.js ***!
  \**************************************/
/*! exports provided: default */
/***/ (function(module, __webpack_exports__, __webpack_require__) {

"use strict";
eval("__webpack_require__.r(__webpack_exports__);\n/* harmony import */ var _babel_runtime_helpers_esm_objectSpread2__WEBPACK_IMPORTED_MODULE_0__ = __webpack_require__(/*! @babel/runtime/helpers/esm/objectSpread2 */ \"VTBJ\");\n/* harmony import */ var i18n_react_files__WEBPACK_IMPORTED_MODULE_1__ = __webpack_require__(/*! i18n!react_files */ \"mddV\");\n/* harmony import */ var react__WEBPACK_IMPORTED_MODULE_2__ = __webpack_require__(/*! react */ \"q1tI\");\n/* harmony import */ var react__WEBPACK_IMPORTED_MODULE_2___default = /*#__PURE__*/__webpack_require__.n(react__WEBPACK_IMPORTED_MODULE_2__);\n/* harmony import */ var lodash__WEBPACK_IMPORTED_MODULE_3__ = __webpack_require__(/*! lodash */ \"LvDl\");\n/* harmony import */ var lodash__WEBPACK_IMPORTED_MODULE_3___default = /*#__PURE__*/__webpack_require__.n(lodash__WEBPACK_IMPORTED_MODULE_3__);\n/* harmony import */ var jquery__WEBPACK_IMPORTED_MODULE_4__ = __webpack_require__(/*! jquery */ \"ouhR\");\n/* harmony import */ var jquery__WEBPACK_IMPORTED_MODULE_4___default = /*#__PURE__*/__webpack_require__.n(jquery__WEBPACK_IMPORTED_MODULE_4__);\n/* harmony import */ var _canvas_axios__WEBPACK_IMPORTED_MODULE_5__ = __webpack_require__(/*! @canvas/axios */ \"BrAc\");\n/* harmony import */ var minimatch__WEBPACK_IMPORTED_MODULE_6__ = __webpack_require__(/*! minimatch */ \"2LKJ\");\n/* harmony import */ var minimatch__WEBPACK_IMPORTED_MODULE_6___default = /*#__PURE__*/__webpack_require__.n(minimatch__WEBPACK_IMPORTED_MODULE_6__);\n/* harmony import */ var _instructure_ui_tree_browser__WEBPACK_IMPORTED_MODULE_7__ = __webpack_require__(/*! @instructure/ui-tree-browser */ \"jPNU\");\n/* harmony import */ var _instructure_ui_text__WEBPACK_IMPORTED_MODULE_8__ = __webpack_require__(/*! @instructure/ui-text */ \"iE3e\");\n/* harmony import */ var _instructure_ui_spinner__WEBPACK_IMPORTED_MODULE_9__ = __webpack_require__(/*! @instructure/ui-spinner */ \"cPO5\");\n/* harmony import */ var _instructure_ui_buttons__WEBPACK_IMPORTED_MODULE_10__ = __webpack_require__(/*! @instructure/ui-buttons */ \"K6WN\");\n/* harmony import */ var _instructure_ui_overlays__WEBPACK_IMPORTED_MODULE_11__ = __webpack_require__(/*! @instructure/ui-overlays */ \"vWls\");\n/* harmony import */ var _instructure_ui_a11y_content__WEBPACK_IMPORTED_MODULE_12__ = __webpack_require__(/*! @instructure/ui-a11y-content */ \"9+/z\");\n/* harmony import */ var _canvas_util_splitAssetString__WEBPACK_IMPORTED_MODULE_13__ = __webpack_require__(/*! @canvas/util/splitAssetString */ \"s9Pr\");\n/* harmony import */ var _instructure_ui_icons__WEBPACK_IMPORTED_MODULE_14__ = __webpack_require__(/*! @instructure/ui-icons */ \"oMAr\");\n/* harmony import */ var prop_types__WEBPACK_IMPORTED_MODULE_15__ = __webpack_require__(/*! prop-types */ \"17x9\");\n/* harmony import */ var prop_types__WEBPACK_IMPORTED_MODULE_15___default = /*#__PURE__*/__webpack_require__.n(prop_types__WEBPACK_IMPORTED_MODULE_15__);\n/* harmony import */ var _canvas_files_util_apiFileUtils__WEBPACK_IMPORTED_MODULE_16__ = __webpack_require__(/*! @canvas/files/util/apiFileUtils */ \"Pkhf\");\n/* harmony import */ var link_header_parsing_parseLinkHeader__WEBPACK_IMPORTED_MODULE_17__ = __webpack_require__(/*! link-header-parsing/parseLinkHeader */ \"hlSo\");\n/* harmony import */ var _canvas_alerts_react_FlashAlert__WEBPACK_IMPORTED_MODULE_18__ = __webpack_require__(/*! @canvas/alerts/react/FlashAlert */ \"uloQ\");\n/* harmony import */ var _canvas_util_natcompare__WEBPACK_IMPORTED_MODULE_19__ = __webpack_require__(/*! @canvas/util/natcompare */ \"plYi\");\n\n// Copyright (C) 2017 - present Instructure, Inc.\n//\n// This file is part of Canvas.\n//\n// Canvas is free software: you can redistribute it and/or modify it under\n// the terms of the GNU Affero General Public License as published by the Free\n// Software Foundation, version 3 of the License.\n//\n// Canvas is distributed in the hope that it will be useful, but WITHOUT ANY\n// WARRANTY; without even the implied warranty of MERCHANTABILITY or FITNESS FOR\n// A PARTICULAR PURPOSE. See the GNU Affero General Public License for more\n// details.\n//\n// You should have received a copy of the GNU Affero General Public License along\n// with this program. If not, see <http://www.gnu.org/licenses/>.\n\n\n\n\n\n\n\n\n\n\n\n\n\n\n\n\n\n\n\n\nclass FileBrowser extends react__WEBPACK_IMPORTED_MODULE_2___default.a.Component {\n  constructor(props) {\n    super(props);\n\n    this.populateCollectionsList = (folderList, opts = {}) => {\n      this.setState(function ({\n        collections\n      }) {\n        const newCollections = lodash__WEBPACK_IMPORTED_MODULE_3___default.a.cloneDeep(collections);\n\n        folderList.forEach(folder => {\n          const collection = this.formatFolderInfo(folder, opts);\n          newCollections[collection.id] = collection;\n          const parent_id = folder.parent_folder_id || 0;\n          const collectionCollections = newCollections[parent_id].collections;\n\n          if (!collectionCollections.includes(collection.id)) {\n            collectionCollections.push(collection.id);\n            newCollections[parent_id].collections = this.orderedIdsFromList(newCollections, collectionCollections);\n          }\n        });\n        return {\n          collections: newCollections\n        };\n      });\n      folderList.forEach(folder => {\n        if (this.state.openFolders.includes(folder.parent_folder_id)) {\n          this.getFolderData(folder.id);\n        }\n      });\n    };\n\n    this.populateItemsList = fileList => {\n      this.setState(function ({\n        items,\n        collections\n      }) {\n        const newItems = lodash__WEBPACK_IMPORTED_MODULE_3___default.a.cloneDeep(items);\n\n        const newCollections = lodash__WEBPACK_IMPORTED_MODULE_3___default.a.cloneDeep(collections);\n\n        fileList.forEach(file => {\n          if (this.contentTypeIsAllowed(file['content-type'])) {\n            const item = this.formatFileInfo(file);\n            newItems[item.id] = item;\n            const folder_id = file.folder_id;\n            const collectionItems = newCollections[folder_id].items;\n\n            if (!collectionItems.includes(item.id)) {\n              collectionItems.push(item.id);\n              newCollections[folder_id].items = this.orderedIdsFromList(newItems, collectionItems);\n            }\n          }\n        });\n        return {\n          items: newItems,\n          collections: newCollections\n        };\n      });\n    };\n\n    this.uploadFolderId = () => {\n      return this.state.uploadFolder || this.props.defaultUploadFolderId;\n    };\n\n    this.onFolderToggle = folder => {\n      return this.onFolderClick(folder.id, folder);\n    };\n\n    this.onFolderClick = (folderId, _folder) => {\n      const collection = this.state.collections[folderId];\n      let newFolders = [];\n      const openFolders = this.state.openFolders;\n\n      if (!collection.locked && openFolders.includes(folderId)) {\n        newFolders = newFolders.concat(openFolders.filter(id => id !== folderId));\n      } else if (!collection.locked) {\n        newFolders = newFolders.concat(openFolders);\n        newFolders.push(folderId);\n        collection.collections.forEach(id => this.getFolderData(id));\n      }\n\n      return this.setState({\n        openFolders: newFolders,\n        uploadFolder: folderId\n      });\n    };\n\n    this.onFileClick = file => {\n      const folder = this.findFolderForFile(file);\n      this.setState({\n        uploadFolder: folder && folder.id\n      });\n      this.props.selectFile(this.state.items[file.id]);\n    };\n\n    this.onInputChange = files => {\n      if (files) {\n        this.submitFile(files[0]);\n      }\n    };\n\n    this.submitFile = file => {\n      this.setState({\n        uploading: true\n      });\n      Object(_canvas_files_util_apiFileUtils__WEBPACK_IMPORTED_MODULE_16__[\"uploadFile\"])(file, this.uploadFolderId(), this.onUploadSucceed, this.onUploadFail);\n    };\n\n    this.onUploadSucceed = response => {\n      this.populateItemsList([response]);\n      this.clearUploadInfo();\n      const folder = this.state.collections[response.folder_id];\n      this.setSuccessMessage(i18n_react_files__WEBPACK_IMPORTED_MODULE_1__[\"default\"].t('Success: File uploaded'));\n\n      if (jquery__WEBPACK_IMPORTED_MODULE_4___default()(`button:contains('${response.display_name}')`).length === 0) {\n        jquery__WEBPACK_IMPORTED_MODULE_4___default()(`button:contains('${folder && folder.name}')`).click();\n      }\n\n      const button = jquery__WEBPACK_IMPORTED_MODULE_4___default()(`button:contains('${response.display_name}')`);\n      jquery__WEBPACK_IMPORTED_MODULE_4___default()('.file-browser__tree').scrollTo(button);\n      button.click();\n    };\n\n    this.onUploadFail = () => {\n      this.clearUploadInfo();\n      this.setFailureMessage(i18n_react_files__WEBPACK_IMPORTED_MODULE_1__[\"default\"].t('File upload failed'));\n    };\n\n    this.setSuccessMessage = message => {\n      Object(_canvas_alerts_react_FlashAlert__WEBPACK_IMPORTED_MODULE_18__[\"showFlashSuccess\"])(message)();\n    };\n\n    this.setFailureMessage = message => {\n      Object(_canvas_alerts_react_FlashAlert__WEBPACK_IMPORTED_MODULE_18__[\"showFlashError\"])(message)();\n    };\n\n    this.selectLocalFile = () => {\n      this.uploadInput.click();\n    };\n\n    this.state = {\n      collections: {\n        0: {\n          id: 0,\n          collections: []\n        }\n      },\n      items: {},\n      openFolders: [],\n      uploadFolder: null,\n      uploading: false,\n      loadingCount: 0\n    };\n  }\n\n  componentDidMount() {\n    this.getRootFolders();\n  }\n\n  getContextName(contextType) {\n    if (contextType === 'courses') {\n      return i18n_react_files__WEBPACK_IMPORTED_MODULE_1__[\"default\"].t('Course files');\n    } else {\n      return i18n_react_files__WEBPACK_IMPORTED_MODULE_1__[\"default\"].t('Group files');\n    }\n  }\n\n  getContextInfo(assetString) {\n    const contextTypeAndId = Object(_canvas_util_splitAssetString__WEBPACK_IMPORTED_MODULE_13__[\"default\"])(assetString);\n\n    if (contextTypeAndId && contextTypeAndId[0] && contextTypeAndId[1]) {\n      const contextName = this.getContextName(contextTypeAndId[0]);\n      return {\n        name: contextName,\n        type: contextTypeAndId[0],\n        id: contextTypeAndId[1]\n      };\n    }\n  }\n\n  getRootFolders() {\n    if (this.props.useContextAssets) {\n      this.getContextFolders();\n    }\n\n    this.getUserFolders();\n  }\n\n  getUserFolders() {\n    this.getRootFolderData('users', 'self', {\n      name: i18n_react_files__WEBPACK_IMPORTED_MODULE_1__[\"default\"].t('My files')\n    });\n  }\n\n  getContextFolders() {\n    if (!ENV.context_asset_string) return;\n    const contextInfo = this.getContextInfo(ENV.context_asset_string);\n\n    if (contextInfo && contextInfo.type && contextInfo.id) {\n      this.getRootFolderData(contextInfo.type, contextInfo.id, {\n        name: contextInfo.name\n      });\n    }\n  }\n\n  increaseLoadingCount() {\n    let loadingCount = this.state.loadingCount;\n    loadingCount += 1;\n    this.setState({\n      loadingCount\n    });\n  }\n\n  decreaseLoadingCount() {\n    let loadingCount = this.state.loadingCount;\n    loadingCount -= 1;\n    this.setState({\n      loadingCount\n    });\n  }\n\n  getRootFolderData(context, id, opts = {}) {\n    this.increaseLoadingCount();\n    Object(_canvas_files_util_apiFileUtils__WEBPACK_IMPORTED_MODULE_16__[\"getRootFolder\"])(context, id).then(response => this.populateRootFolder(response.data, opts)).catch(error => {\n      this.decreaseLoadingCount();\n\n      if (error.response && error.response.status !== 401) {\n        this.setFailureMessage(i18n_react_files__WEBPACK_IMPORTED_MODULE_1__[\"default\"].t('Something went wrong'));\n      }\n    });\n  }\n\n  populateRootFolder(data, opts = {}) {\n    this.decreaseLoadingCount();\n    this.populateCollectionsList([data], opts);\n    this.getFolderData(data.id);\n  }\n\n  getFolderData(id) {\n    const collections = this.state.collections;\n\n    if (!collections[id].locked) {\n      this.getPaginatedData(this.folderFileApiUrl(id, 'folders'), this.populateCollectionsList);\n      this.getPaginatedData(this.folderFileApiUrl(id), this.populateItemsList);\n    }\n  }\n\n  getPaginatedData(url, callback) {\n    _canvas_axios__WEBPACK_IMPORTED_MODULE_5__[\"default\"].get(url).then(response => {\n      callback(response.data);\n      const nextUrl = Object(link_header_parsing_parseLinkHeader__WEBPACK_IMPORTED_MODULE_17__[\"default\"])(response.headers.link).next;\n\n      if (nextUrl) {\n        this.getPaginatedData(nextUrl, callback);\n      }\n    }).catch(error => {\n      /* eslint-disable no-console */\n      console.error('Error fetching data from API');\n      console.error(error);\n      /* eslint-enable no-console */\n    });\n  }\n\n  folderFileApiUrl(folderId, type = 'files') {\n    return `/api/v1/folders/${folderId}/${type}`;\n  }\n\n  contentTypeIsAllowed(contentType) {\n    for (const pattern of this.props.contentTypes) {\n      if (minimatch__WEBPACK_IMPORTED_MODULE_6___default()(contentType, pattern)) {\n        return true;\n      }\n    }\n\n    return false;\n  }\n\n  formatFolderInfo(apiFolder, opts = {}) {\n    const descriptor = apiFolder.locked_for_user ? i18n_react_files__WEBPACK_IMPORTED_MODULE_1__[\"default\"].t('Locked') : null;\n\n    const folder = Object(_babel_runtime_helpers_esm_objectSpread2__WEBPACK_IMPORTED_MODULE_0__[\"default\"])({\n      api: apiFolder,\n      id: apiFolder.id,\n      collections: [],\n      items: [],\n      name: apiFolder.name,\n      context: `/${apiFolder.context_type.toLowerCase()}s/${apiFolder.context_id}`,\n      canUpload: apiFolder.can_upload,\n      locked: apiFolder.locked_for_user,\n      descriptor\n    }, opts);\n\n    const existingCollections = this.state.collections[apiFolder.id];\n    Object.assign(folder, existingCollections && {\n      collections: existingCollections.collections,\n      items: existingCollections.items\n    });\n    return folder;\n  }\n\n  formatFileInfo(apiFile, opts = {}) {\n    const collections = this.state.collections;\n    const context = collections[apiFile.folder_id].context;\n\n    const file = Object(_babel_runtime_helpers_esm_objectSpread2__WEBPACK_IMPORTED_MODULE_0__[\"default\"])({\n      api: apiFile,\n      id: apiFile.id,\n      name: apiFile.display_name,\n      thumbnail: apiFile.thumbnail_url,\n      src: `${context}/files/${apiFile.id}/preview${context.includes('user') ? `?verifier=${apiFile.uuid}` : ''}`,\n      alt: apiFile.display_name\n    }, opts);\n\n    return file;\n  }\n\n  orderedIdsFromList(list, ids) {\n    try {\n      const sortedIds = ids.sort((a, b) => _canvas_util_natcompare__WEBPACK_IMPORTED_MODULE_19__[\"default\"].strings(list[a].name, list[b].name));\n      return sortedIds;\n    } catch (error) {\n      // eslint-disable-next-line no-console\n      console.error(error);\n      return ids;\n    }\n  }\n\n  findFolderForFile(file) {\n    const collections = this.state.collections;\n    const folderKey = Object.keys(collections).find(key => {\n      const items = collections[key].items;\n      if (items && items.includes(file.id)) return key;\n    });\n    return collections[folderKey];\n  }\n\n  clearUploadInfo() {\n    this.setState({\n      uploading: false\n    });\n    this.uploadInput.value = '';\n  }\n\n  renderUploadDialog() {\n    if (!this.props.allowUpload) {\n      return null;\n    }\n\n    const uploadFolder = this.state.collections[this.uploadFolderId()];\n    const disabled = !uploadFolder || uploadFolder.locked || !uploadFolder.canUpload;\n    const srError = disabled ? /*#__PURE__*/react__WEBPACK_IMPORTED_MODULE_2___default.a.createElement(_instructure_ui_a11y_content__WEBPACK_IMPORTED_MODULE_12__[\"ScreenReaderContent\"], null, i18n_react_files__WEBPACK_IMPORTED_MODULE_1__[\"default\"].t('Upload not available for this folder')) : '';\n    const acceptContentTypes = this.props.contentTypes.join(',');\n    return /*#__PURE__*/react__WEBPACK_IMPORTED_MODULE_2___default.a.createElement(\"div\", {\n      className: \"image-upload__form\"\n    }, /*#__PURE__*/react__WEBPACK_IMPORTED_MODULE_2___default.a.createElement(\"input\", {\n      onChange: e => this.onInputChange(e.target.files),\n      ref: i => {\n        this.uploadInput = i;\n      },\n      type: \"file\",\n      accept: acceptContentTypes,\n      className: \"hidden\"\n    }), /*#__PURE__*/react__WEBPACK_IMPORTED_MODULE_2___default.a.createElement(_instructure_ui_buttons__WEBPACK_IMPORTED_MODULE_10__[\"Button\"], {\n      id: \"image-upload__upload\",\n      onClick: this.selectLocalFile,\n      disabled: disabled,\n      variant: \"ghost\",\n      icon: _instructure_ui_icons__WEBPACK_IMPORTED_MODULE_14__[\"IconUploadSolid\"]\n    }, i18n_react_files__WEBPACK_IMPORTED_MODULE_1__[\"default\"].t('Upload File'), \" \", srError));\n  }\n\n  renderMask() {\n    if (this.state.uploading) {\n      return /*#__PURE__*/react__WEBPACK_IMPORTED_MODULE_2___default.a.createElement(_instructure_ui_overlays__WEBPACK_IMPORTED_MODULE_11__[\"Mask\"], null, /*#__PURE__*/react__WEBPACK_IMPORTED_MODULE_2___default.a.createElement(_instructure_ui_spinner__WEBPACK_IMPORTED_MODULE_9__[\"Spinner\"], {\n        renderTitle: i18n_react_files__WEBPACK_IMPORTED_MODULE_1__[\"default\"].t('File uploading')\n      }));\n    } else {\n      return null;\n    }\n  }\n\n  renderLoading() {\n    if (this.state.loadingCount > 0) {\n      return /*#__PURE__*/react__WEBPACK_IMPORTED_MODULE_2___default.a.createElement(_instructure_ui_spinner__WEBPACK_IMPORTED_MODULE_9__[\"Spinner\"], {\n        renderTitle: i18n_react_files__WEBPACK_IMPORTED_MODULE_1__[\"default\"].t('Loading folders'),\n        size: \"small\"\n      });\n    } else {\n      return null;\n    }\n  }\n\n  render() {\n    const element = /*#__PURE__*/react__WEBPACK_IMPORTED_MODULE_2___default.a.createElement(\"div\", {\n      className: \"file-browser__container\"\n    }, /*#__PURE__*/react__WEBPACK_IMPORTED_MODULE_2___default.a.createElement(_instructure_ui_text__WEBPACK_IMPORTED_MODULE_8__[\"Text\"], null, i18n_react_files__WEBPACK_IMPORTED_MODULE_1__[\"default\"].t('Available folders')), /*#__PURE__*/react__WEBPACK_IMPORTED_MODULE_2___default.a.createElement(\"div\", {\n      className: \"file-browser__tree\"\n    }, /*#__PURE__*/react__WEBPACK_IMPORTED_MODULE_2___default.a.createElement(_instructure_ui_tree_browser__WEBPACK_IMPORTED_MODULE_7__[\"TreeBrowser\"], {\n      collections: this.state.collections,\n      items: this.state.items,\n      size: \"medium\",\n      onCollectionToggle: this.onFolderToggle,\n      onCollectionClick: this.onFolderClick,\n      onItemClick: this.onFileClick,\n      treeLabel: i18n_react_files__WEBPACK_IMPORTED_MODULE_1__[\"default\"].t('Folder tree'),\n      rootId: 0,\n      showRootCollection: false,\n      defaultExpanded: this.state.openFolders,\n      collectionIconExpanded: _instructure_ui_icons__WEBPACK_IMPORTED_MODULE_14__[\"IconOpenFolderSolid\"],\n      collectionIcon: _instructure_ui_icons__WEBPACK_IMPORTED_MODULE_14__[\"IconFolderSolid\"],\n      itemIcon: _instructure_ui_icons__WEBPACK_IMPORTED_MODULE_14__[\"IconImageSolid\"],\n      selectionType: \"single\"\n    }), this.renderMask(), this.renderLoading()), this.renderUploadDialog());\n    return element;\n  }\n\n}\n\nFileBrowser.propTypes = {\n  allowUpload: prop_types__WEBPACK_IMPORTED_MODULE_15___default.a.bool,\n  contentTypes: prop_types__WEBPACK_IMPORTED_MODULE_15___default.a.arrayOf(prop_types__WEBPACK_IMPORTED_MODULE_15___default.a.string),\n  defaultUploadFolderId: prop_types__WEBPACK_IMPORTED_MODULE_15___default.a.string,\n  selectFile: prop_types__WEBPACK_IMPORTED_MODULE_15___default.a.func.isRequired,\n  useContextAssets: prop_types__WEBPACK_IMPORTED_MODULE_15___default.a.bool\n};\nFileBrowser.defaultProps = {\n  allowUpload: true,\n  contentTypes: ['*/*'],\n  defaultUploadFolderId: null,\n  useContextAssets: true\n};\n/* harmony default export */ __webpack_exports__[\"default\"] = (FileBrowser);\n\n//# sourceURL=webpack:///./ui/shared/rce/FileBrowser.js?");

/***/ }),

/***/ "mddV":
/*!****************************************************************************!*\
  !*** ./frontend_build/i18n.js?react_files!./ui/shims/dummyI18nResource.js ***!
  \****************************************************************************/
/*! exports provided: default */
/***/ (function(module, __webpack_exports__, __webpack_require__) {

"use strict";
eval("__webpack_require__.r(__webpack_exports__);\n/* harmony import */ var _canvas_i18n_i18nObj__WEBPACK_IMPORTED_MODULE_0__ = __webpack_require__(/*! @canvas/i18n/i18nObj */ \"HGxv\");\n/* harmony import */ var translations_core_en__WEBPACK_IMPORTED_MODULE_1__ = __webpack_require__(/*! translations/_core_en */ \"0sPK\");\n\n    \n    \n    \n\n    /* harmony default export */ __webpack_exports__[\"default\"] = (_canvas_i18n_i18nObj__WEBPACK_IMPORTED_MODULE_0__[\"default\"].scoped('react_files'));\n  \n\n//# sourceURL=webpack:///./ui/shims/dummyI18nResource.js?./frontend_build/i18n.js?react_files");

/***/ })

}]);