(window["canvasWebpackJsonp"] = window["canvasWebpackJsonp"] || []).push([["admin_split"],{

/***/ "3BhL":
/*!****************************************************************************!*\
  !*** ./frontend_build/i18n.js?admin_split!./ui/shims/dummyI18nResource.js ***!
  \****************************************************************************/
/*! exports provided: default */
/***/ (function(module, __webpack_exports__, __webpack_require__) {

"use strict";
eval("__webpack_require__.r(__webpack_exports__);\n/* harmony import */ var _canvas_i18n_i18nObj__WEBPACK_IMPORTED_MODULE_0__ = __webpack_require__(/*! @canvas/i18n/i18nObj */ \"HGxv\");\n/* harmony import */ var translations_core_en__WEBPACK_IMPORTED_MODULE_1__ = __webpack_require__(/*! translations/_core_en */ \"0sPK\");\n\n    \n    \n    \n\n    /* harmony default export */ __webpack_exports__[\"default\"] = (_canvas_i18n_i18nObj__WEBPACK_IMPORTED_MODULE_0__[\"default\"].scoped('admin_split'));\n  \n\n//# sourceURL=webpack:///./ui/shims/dummyI18nResource.js?./frontend_build/i18n.js?admin_split");

/***/ }),

/***/ "S4Ua":
/*!******************************************!*\
  !*** ./ui/features/admin_split/index.js ***!
  \******************************************/
/*! no exports provided */
/***/ (function(module, __webpack_exports__, __webpack_require__) {

"use strict";
eval("__webpack_require__.r(__webpack_exports__);\n/* harmony import */ var _instructure_ready__WEBPACK_IMPORTED_MODULE_0__ = __webpack_require__(/*! @instructure/ready */ \"3lLS\");\n/* harmony import */ var _instructure_ready__WEBPACK_IMPORTED_MODULE_0___default = /*#__PURE__*/__webpack_require__.n(_instructure_ready__WEBPACK_IMPORTED_MODULE_0__);\n/* harmony import */ var react__WEBPACK_IMPORTED_MODULE_1__ = __webpack_require__(/*! react */ \"q1tI\");\n/* harmony import */ var react__WEBPACK_IMPORTED_MODULE_1___default = /*#__PURE__*/__webpack_require__.n(react__WEBPACK_IMPORTED_MODULE_1__);\n/* harmony import */ var react_dom__WEBPACK_IMPORTED_MODULE_2__ = __webpack_require__(/*! react-dom */ \"i8i4\");\n/* harmony import */ var react_dom__WEBPACK_IMPORTED_MODULE_2___default = /*#__PURE__*/__webpack_require__.n(react_dom__WEBPACK_IMPORTED_MODULE_2__);\n/* harmony import */ var _react_index__WEBPACK_IMPORTED_MODULE_3__ = __webpack_require__(/*! ./react/index */ \"iwyb\");\n/*\n * Copyright (C) 2020 - present Instructure, Inc.\n *\n * This file is part of Canvas.\n *\n * Canvas is free software: you can redistribute it and/or modify it under\n * the terms of the GNU Affero General Public License as published by the Free\n * Software Foundation, version 3 of the License.\n *\n * Canvas is distributed in the hope that it will be useful, but WITHOUT ANY\n * WARRANTY; without even the implied warranty of MERCHANTABILITY or FITNESS FOR\n * A PARTICULAR PURPOSE. See the GNU Affero General Public License for more\n * details.\n *\n * You should have received a copy of the GNU Affero General Public License along\n * with this program. If not, see <http://www.gnu.org/licenses/>.\n */\n\n\n\n\n_instructure_ready__WEBPACK_IMPORTED_MODULE_0___default()(() => {\n  react_dom__WEBPACK_IMPORTED_MODULE_2___default.a.render( /*#__PURE__*/react__WEBPACK_IMPORTED_MODULE_1___default.a.createElement(_react_index__WEBPACK_IMPORTED_MODULE_3__[\"default\"], {\n    user: ENV.ADMIN_SPLIT_USER,\n    splitUrl: ENV.ADMIN_SPLIT_URL,\n    splitUsers: ENV.ADMIN_SPLIT_USERS\n  }), document.getElementById('admin_split'));\n});\n\n//# sourceURL=webpack:///./ui/features/admin_split/index.js?");

/***/ }),

/***/ "iwyb":
/*!************************************************!*\
  !*** ./ui/features/admin_split/react/index.js ***!
  \************************************************/
/*! exports provided: default */
/***/ (function(module, __webpack_exports__, __webpack_require__) {

"use strict";
eval("__webpack_require__.r(__webpack_exports__);\n/* harmony export (binding) */ __webpack_require__.d(__webpack_exports__, \"default\", function() { return AdminSplit; });\n/* harmony import */ var _babel_runtime_helpers_esm_slicedToArray__WEBPACK_IMPORTED_MODULE_0__ = __webpack_require__(/*! @babel/runtime/helpers/esm/slicedToArray */ \"ODXe\");\n/* harmony import */ var jquery__WEBPACK_IMPORTED_MODULE_1__ = __webpack_require__(/*! jquery */ \"ouhR\");\n/* harmony import */ var jquery__WEBPACK_IMPORTED_MODULE_1___default = /*#__PURE__*/__webpack_require__.n(jquery__WEBPACK_IMPORTED_MODULE_1__);\n/* harmony import */ var _canvas_jquery_jquery_ajaxJSON__WEBPACK_IMPORTED_MODULE_2__ = __webpack_require__(/*! @canvas/jquery/jquery.ajaxJSON */ \"dhbk\");\n/* harmony import */ var react__WEBPACK_IMPORTED_MODULE_3__ = __webpack_require__(/*! react */ \"q1tI\");\n/* harmony import */ var react__WEBPACK_IMPORTED_MODULE_3___default = /*#__PURE__*/__webpack_require__.n(react__WEBPACK_IMPORTED_MODULE_3__);\n/* harmony import */ var _instructure_ui_buttons__WEBPACK_IMPORTED_MODULE_4__ = __webpack_require__(/*! @instructure/ui-buttons */ \"K6WN\");\n/* harmony import */ var _instructure_ui_icons__WEBPACK_IMPORTED_MODULE_5__ = __webpack_require__(/*! @instructure/ui-icons */ \"oMAr\");\n/* harmony import */ var prop_types__WEBPACK_IMPORTED_MODULE_6__ = __webpack_require__(/*! prop-types */ \"17x9\");\n/* harmony import */ var prop_types__WEBPACK_IMPORTED_MODULE_6___default = /*#__PURE__*/__webpack_require__.n(prop_types__WEBPACK_IMPORTED_MODULE_6__);\n/* harmony import */ var i18n_admin_split__WEBPACK_IMPORTED_MODULE_7__ = __webpack_require__(/*! i18n!admin_split */ \"3BhL\");\n\n\n/*\n * Copyright (C) 2020 - present Instructure, Inc.\n *\n * This file is part of Canvas.\n *\n * Canvas is free software: you can redistribute it and/or modify it under\n * the terms of the GNU Affero General Public License as published by the Free\n * Software Foundation, version 3 of the License.\n *\n * Canvas is distributed in the hope that it will be useful, but WITHOUT ANY\n * WARRANTY; without even the implied warranty of MERCHANTABILITY or FITNESS FOR\n * A PARTICULAR PURPOSE. See the GNU Affero General Public License for more\n * details.\n *\n * You should have received a copy of the GNU Affero General Public License along\n * with this program. If not, see <http://www.gnu.org/licenses/>.\n */\n\n\n\n\n\n\n\nfunction AdminSplit({\n  user,\n  splitUrl,\n  splitUsers\n}) {\n  const _useState = Object(react__WEBPACK_IMPORTED_MODULE_3__[\"useState\"])(false),\n        _useState2 = Object(_babel_runtime_helpers_esm_slicedToArray__WEBPACK_IMPORTED_MODULE_0__[\"default\"])(_useState, 2),\n        loading = _useState2[0],\n        setLoading = _useState2[1];\n\n  const _useState3 = Object(react__WEBPACK_IMPORTED_MODULE_3__[\"useState\"])([]),\n        _useState4 = Object(_babel_runtime_helpers_esm_slicedToArray__WEBPACK_IMPORTED_MODULE_0__[\"default\"])(_useState3, 2),\n        results = _useState4[0],\n        setResults = _useState4[1];\n\n  const _useState5 = Object(react__WEBPACK_IMPORTED_MODULE_3__[\"useState\"])(false),\n        _useState6 = Object(_babel_runtime_helpers_esm_slicedToArray__WEBPACK_IMPORTED_MODULE_0__[\"default\"])(_useState5, 2),\n        failed = _useState6[0],\n        setFailed = _useState6[1];\n\n  const performSplit = Object(react__WEBPACK_IMPORTED_MODULE_3__[\"useCallback\"])(() => {\n    setLoading(true);\n    jquery__WEBPACK_IMPORTED_MODULE_1___default.a.ajaxJSON(splitUrl, 'POST', {}, data => {\n      setLoading(false);\n      setResults(data);\n    }, _data => {\n      setLoading(false);\n      setFailed(true);\n    });\n  }, [splitUrl, setLoading, setResults, setFailed]);\n\n  const returnToReferrer = () => {\n    window.location = document.referrer;\n  };\n\n  if (failed) {\n    return /*#__PURE__*/react__WEBPACK_IMPORTED_MODULE_3___default.a.createElement(\"p\", null, /*#__PURE__*/react__WEBPACK_IMPORTED_MODULE_3___default.a.createElement(_instructure_ui_icons__WEBPACK_IMPORTED_MODULE_5__[\"IconWarningLine\"], null), i18n_admin_split__WEBPACK_IMPORTED_MODULE_7__[\"default\"].t('Failed to split users.'));\n  }\n\n  if (results.length > 0) {\n    return /*#__PURE__*/react__WEBPACK_IMPORTED_MODULE_3___default.a.createElement(react__WEBPACK_IMPORTED_MODULE_3___default.a.Fragment, null, /*#__PURE__*/react__WEBPACK_IMPORTED_MODULE_3___default.a.createElement(\"p\", null, i18n_admin_split__WEBPACK_IMPORTED_MODULE_7__[\"default\"].t('User split complete. Links to split user accounts follow:')), /*#__PURE__*/react__WEBPACK_IMPORTED_MODULE_3___default.a.createElement(\"ul\", null, results.map(u => /*#__PURE__*/react__WEBPACK_IMPORTED_MODULE_3___default.a.createElement(\"li\", {\n      key: u.id\n    }, /*#__PURE__*/react__WEBPACK_IMPORTED_MODULE_3___default.a.createElement(\"a\", {\n      href: `/users/${u.id}`\n    }, u.short_name)))), document.referrer ? /*#__PURE__*/react__WEBPACK_IMPORTED_MODULE_3___default.a.createElement(_instructure_ui_buttons__WEBPACK_IMPORTED_MODULE_4__[\"Button\"], {\n      margin: \"xx-small\",\n      color: \"primary\",\n      onClick: returnToReferrer\n    }, i18n_admin_split__WEBPACK_IMPORTED_MODULE_7__[\"default\"].t('OK')) : null);\n  }\n\n  if (splitUsers.length === 0) {\n    return /*#__PURE__*/react__WEBPACK_IMPORTED_MODULE_3___default.a.createElement(\"p\", null, i18n_admin_split__WEBPACK_IMPORTED_MODULE_7__[\"default\"].t('There are no user accounts to split from this user.'));\n  }\n\n  return /*#__PURE__*/react__WEBPACK_IMPORTED_MODULE_3___default.a.createElement(react__WEBPACK_IMPORTED_MODULE_3___default.a.Fragment, null, /*#__PURE__*/react__WEBPACK_IMPORTED_MODULE_3___default.a.createElement(\"p\", null, i18n_admin_split__WEBPACK_IMPORTED_MODULE_7__[\"default\"].t('The following users will be split into separate user accounts:')), /*#__PURE__*/react__WEBPACK_IMPORTED_MODULE_3___default.a.createElement(\"ul\", null, /*#__PURE__*/react__WEBPACK_IMPORTED_MODULE_3___default.a.createElement(\"li\", {\n    key: user.id\n  }, /*#__PURE__*/react__WEBPACK_IMPORTED_MODULE_3___default.a.createElement(\"a\", {\n    href: user.html_url\n  }, user.display_name)), splitUsers.map(u => /*#__PURE__*/react__WEBPACK_IMPORTED_MODULE_3___default.a.createElement(\"li\", {\n    key: u.id\n  }, u.display_name, \" (\", u.id, \")\"))), /*#__PURE__*/react__WEBPACK_IMPORTED_MODULE_3___default.a.createElement(\"p\", null, i18n_admin_split__WEBPACK_IMPORTED_MODULE_7__[\"default\"].t('NOTE: This will attempt to undo the merge as fully as possible; however, merged users may not be perfectly restored to their prior state.')), /*#__PURE__*/react__WEBPACK_IMPORTED_MODULE_3___default.a.createElement(_instructure_ui_buttons__WEBPACK_IMPORTED_MODULE_4__[\"Button\"], {\n    disabled: loading,\n    margin: \"xx-small\",\n    color: \"primary\",\n    onClick: performSplit\n  }, i18n_admin_split__WEBPACK_IMPORTED_MODULE_7__[\"default\"].t('Split')), document.referrer ? /*#__PURE__*/react__WEBPACK_IMPORTED_MODULE_3___default.a.createElement(_instructure_ui_buttons__WEBPACK_IMPORTED_MODULE_4__[\"Button\"], {\n    margin: \"xx-small\",\n    color: \"secondary\",\n    onClick: returnToReferrer\n  }, i18n_admin_split__WEBPACK_IMPORTED_MODULE_7__[\"default\"].t('Cancel')) : null);\n}\nconst userShape = Object(prop_types__WEBPACK_IMPORTED_MODULE_6__[\"shape\"])({\n  id: prop_types__WEBPACK_IMPORTED_MODULE_6__[\"string\"].isRequired,\n  display_name: prop_types__WEBPACK_IMPORTED_MODULE_6__[\"string\"].isRequired,\n  html_url: prop_types__WEBPACK_IMPORTED_MODULE_6__[\"string\"].isRequired\n});\nAdminSplit.propTypes = {\n  splitUrl: prop_types__WEBPACK_IMPORTED_MODULE_6__[\"string\"].isRequired,\n  user: userShape.isRequired,\n  splitUsers: Object(prop_types__WEBPACK_IMPORTED_MODULE_6__[\"arrayOf\"])(userShape).isRequired\n};\n\n//# sourceURL=webpack:///./ui/features/admin_split/react/index.js?");

/***/ })

}]);