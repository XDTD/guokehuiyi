(window["canvasWebpackJsonp"] = window["canvasWebpackJsonp"] || []).push([[3708],{

/***/ "0nLJ":
/*!*******************************************!*\
  !*** ./packages/canvas-rce/es/rce/RCE.js ***!
  \*******************************************/
/*! exports provided: default */
/***/ (function(module, __webpack_exports__, __webpack_require__) {

"use strict";
eval("__webpack_require__.r(__webpack_exports__);\n/* WEBPACK VAR INJECTION */(function(process) {/* harmony import */ var _babel_runtime_helpers_esm_objectSpread2__WEBPACK_IMPORTED_MODULE_0__ = __webpack_require__(/*! @babel/runtime/helpers/esm/objectSpread2 */ \"VTBJ\");\n/* harmony import */ var _babel_runtime_helpers_esm_slicedToArray__WEBPACK_IMPORTED_MODULE_1__ = __webpack_require__(/*! @babel/runtime/helpers/esm/slicedToArray */ \"ODXe\");\n/* harmony import */ var _babel_runtime_helpers_esm_objectWithoutProperties__WEBPACK_IMPORTED_MODULE_2__ = __webpack_require__(/*! @babel/runtime/helpers/esm/objectWithoutProperties */ \"Ff2n\");\n/* harmony import */ var react__WEBPACK_IMPORTED_MODULE_3__ = __webpack_require__(/*! react */ \"q1tI\");\n/* harmony import */ var react__WEBPACK_IMPORTED_MODULE_3___default = /*#__PURE__*/__webpack_require__.n(react__WEBPACK_IMPORTED_MODULE_3__);\n/* harmony import */ var prop_types__WEBPACK_IMPORTED_MODULE_4__ = __webpack_require__(/*! prop-types */ \"17x9\");\n/* harmony import */ var prop_types__WEBPACK_IMPORTED_MODULE_4___default = /*#__PURE__*/__webpack_require__.n(prop_types__WEBPACK_IMPORTED_MODULE_4__);\n/* harmony import */ var _format_message_js__WEBPACK_IMPORTED_MODULE_5__ = __webpack_require__(/*! ../format-message.js */ \"NFDp\");\n/* harmony import */ var _RCEWrapper_js__WEBPACK_IMPORTED_MODULE_6__ = __webpack_require__(/*! ./RCEWrapper.js */ \"Jvcl\");\n/* harmony import */ var _plugins_shared_CanvasContentTray_js__WEBPACK_IMPORTED_MODULE_7__ = __webpack_require__(/*! ./plugins/shared/CanvasContentTray.js */ \"lcQH\");\n/* harmony import */ var _editorLanguage_js__WEBPACK_IMPORTED_MODULE_8__ = __webpack_require__(/*! ./editorLanguage.js */ \"20cW\");\n/* harmony import */ var _editorLanguage_js__WEBPACK_IMPORTED_MODULE_8___default = /*#__PURE__*/__webpack_require__.n(_editorLanguage_js__WEBPACK_IMPORTED_MODULE_8__);\n/* harmony import */ var _normalizeLocale_js__WEBPACK_IMPORTED_MODULE_9__ = __webpack_require__(/*! ./normalizeLocale.js */ \"0T/Z\");\n/* harmony import */ var _wrapInitCb_js__WEBPACK_IMPORTED_MODULE_10__ = __webpack_require__(/*! ./wrapInitCb.js */ \"7Jtz\");\n/* harmony import */ var _tinyRCE_js__WEBPACK_IMPORTED_MODULE_11__ = __webpack_require__(/*! ./tinyRCE.js */ \"5+Bo\");\n/* harmony import */ var _defaultTinymceConfig_js__WEBPACK_IMPORTED_MODULE_12__ = __webpack_require__(/*! ../defaultTinymceConfig.js */ \"ErZx\");\n/* harmony import */ var _getTranslations_js__WEBPACK_IMPORTED_MODULE_13__ = __webpack_require__(/*! ../getTranslations.js */ \"k3+9\");\n/* harmony import */ var _instructure_canvas_theme__WEBPACK_IMPORTED_MODULE_14__ = __webpack_require__(/*! @instructure/canvas-theme */ \"7np9\");\n\n\n\nconst _excluded = [\"autosave\", \"defaultContent\", \"editorOptions\", \"height\", \"highContrastCSS\", \"instRecordDisabled\", \"language\", \"liveRegion\", \"mirroredAttrs\", \"readOnly\", \"textareaId\", \"textareaClassName\", \"rcsProps\", \"use_rce_pretty_html_editor\", \"use_rce_buttons_and_icons\", \"use_rce_a11y_checker_notifications\", \"onFocus\", \"onBlur\", \"onInit\", \"onContentChange\"];\n\nvar _process, _process$env;\n\n/*\n * Copyright (C) 2021 - present Instructure, Inc.\n *\n * This file is part of Canvas.\n *\n * Canvas is free software: you can redistribute it and/or modify it under\n * the terms of the GNU Affero General Public License as published by the Free\n * Software Foundation, version 3 of the License.\n *\n * Canvas is distributed in the hope that it will be useful, but WITHOUT ANY\n * WARRANTY; without even the implied warranty of MERCHANTABILITY or FITNESS FOR\n * A PARTICULAR PURPOSE. See the GNU Affero General Public License for more\n * details.\n *\n * You should have received a copy of the GNU Affero General Public License along\n * with this program. If not, see <http://www.gnu.org/licenses/>.\n */\n\n\n\n\n\n\n\n\n\n\n\n\n\nif (!((_process = process) !== null && _process !== void 0 && (_process$env = _process.env) !== null && _process$env !== void 0 && _process$env.BUILD_LOCALE)) {\n  _format_message_js__WEBPACK_IMPORTED_MODULE_5__[\"default\"].setup({\n    locale: 'en',\n    generateId: __webpack_require__(/*! format-message-generate-id/underscored_crc32 */ \"syYy\"),\n    missingTranslation: 'ignore'\n  });\n} // forward rceRef to it refs the RCEWrapper where clients can call getCode etc. on it.\n// You probably shouldn't use it until onInit has been called. Until then tinymce\n// is not initialized.\n\n\nconst RCE = /*#__PURE__*/Object(react__WEBPACK_IMPORTED_MODULE_3__[\"forwardRef\"])(function (props, rceRef) {\n  const autosave = props.autosave,\n        defaultContent = props.defaultContent,\n        editorOptions = props.editorOptions,\n        height = props.height,\n        highContrastCSS = props.highContrastCSS,\n        instRecordDisabled = props.instRecordDisabled,\n        language = props.language,\n        liveRegion = props.liveRegion,\n        mirroredAttrs = props.mirroredAttrs,\n        readOnly = props.readOnly,\n        textareaId = props.textareaId,\n        textareaClassName = props.textareaClassName,\n        rcsProps = props.rcsProps,\n        use_rce_pretty_html_editor = props.use_rce_pretty_html_editor,\n        use_rce_buttons_and_icons = props.use_rce_buttons_and_icons,\n        use_rce_a11y_checker_notifications = props.use_rce_a11y_checker_notifications,\n        onFocus = props.onFocus,\n        onBlur = props.onBlur,\n        onInit = props.onInit,\n        onContentChange = props.onContentChange,\n        rest = Object(_babel_runtime_helpers_esm_objectWithoutProperties__WEBPACK_IMPORTED_MODULE_2__[\"default\"])(props, _excluded);\n\n  Object(react__WEBPACK_IMPORTED_MODULE_3__[\"useState\"])(() => _format_message_js__WEBPACK_IMPORTED_MODULE_5__[\"default\"].setup({\n    locale: Object(_normalizeLocale_js__WEBPACK_IMPORTED_MODULE_9__[\"default\"])(props.language)\n  }));\n\n  const _useState = Object(react__WEBPACK_IMPORTED_MODULE_3__[\"useState\"])(() => {\n    const locale = Object(_normalizeLocale_js__WEBPACK_IMPORTED_MODULE_9__[\"default\"])(props.language);\n    const p = Object(_getTranslations_js__WEBPACK_IMPORTED_MODULE_13__[\"default\"])(locale).then(() => {\n      setTranslations(true);\n    }).catch(err => {\n      // eslint-disable-next-line no-console\n      console.error('Failed loading the language file for', locale, '\\n Cause:', err);\n      setTranslations(false);\n    });\n    return p;\n  }, []),\n        _useState2 = Object(_babel_runtime_helpers_esm_slicedToArray__WEBPACK_IMPORTED_MODULE_1__[\"default\"])(_useState, 2),\n        translations = _useState2[0],\n        setTranslations = _useState2[1]; // some properties are only used on initialization\n  // Languages is a bit of a mess. Tinymce and Canvas\n  // have 2 different sets of language names. normalizeLocale\n  // takes the language prop and returns the locale Canvas knows,\n  // editorLanguage takes the language prop and returns the\n  // corresponding locale for tinymce.\n\n\n  const _useState3 = Object(react__WEBPACK_IMPORTED_MODULE_3__[\"useState\"])(() => {\n    const iProps = {\n      autosave,\n      defaultContent,\n      highContrastCSS,\n      instRecordDisabled,\n      language: Object(_normalizeLocale_js__WEBPACK_IMPORTED_MODULE_9__[\"default\"])(language),\n      liveRegion,\n      textareaId,\n      textareaClassName,\n      trayProps: rcsProps,\n      use_rce_pretty_html_editor,\n      use_rce_buttons_and_icons,\n      use_rce_a11y_checker_notifications,\n      editorOptions: Object.assign(editorOptions, editorOptions, {\n        selector: `#${textareaId}`,\n        height,\n        language: _editorLanguage_js__WEBPACK_IMPORTED_MODULE_8___default()(props.language)\n      })\n    };\n    Object(_wrapInitCb_js__WEBPACK_IMPORTED_MODULE_10__[\"default\"])(mirroredAttrs, iProps.editorOptions);\n    return iProps;\n  }),\n        _useState4 = Object(_babel_runtime_helpers_esm_slicedToArray__WEBPACK_IMPORTED_MODULE_1__[\"default\"])(_useState3, 1),\n        initOnlyProps = _useState4[0];\n\n  if (typeof translations !== 'boolean') {\n    return Object(_format_message_js__WEBPACK_IMPORTED_MODULE_5__[\"default\"])('Loading...');\n  } else {\n    return /*#__PURE__*/react__WEBPACK_IMPORTED_MODULE_3___default.a.createElement(_RCEWrapper_js__WEBPACK_IMPORTED_MODULE_6__[\"default\"], Object.assign({\n      ref: rceRef,\n      tinymce: _tinyRCE_js__WEBPACK_IMPORTED_MODULE_11__[\"default\"],\n      readOnly: readOnly\n    }, initOnlyProps, {\n      onFocus: onFocus,\n      onBlur: onBlur,\n      onContentChange: onContentChange,\n      onInitted: onInit\n    }, rest));\n  }\n});\n/* harmony default export */ __webpack_exports__[\"default\"] = (RCE);\nRCE.propTypes = {\n  // do you want the rce to autosave content to localStorage, and\n  // how long should it be until it's deleted.\n  // If autosave is enabled, call yourRef.RCEClosed() if the user\n  // exits the page normally (e.g. via Cancel or Save)\n  autosave: Object(prop_types__WEBPACK_IMPORTED_MODULE_4__[\"shape\"])({\n    enabled: prop_types__WEBPACK_IMPORTED_MODULE_4__[\"bool\"],\n    maxAge: prop_types__WEBPACK_IMPORTED_MODULE_4__[\"number\"]\n  }),\n  // the initial content\n  defaultContent: prop_types__WEBPACK_IMPORTED_MODULE_4__[\"string\"],\n  // tinymce configuration. See defaultTinymceConfig for all the defaults\n  // and RCEWrapper.editorOptionsPropType for stuff you may want to include\n  editorOptions: _RCEWrapper_js__WEBPACK_IMPORTED_MODULE_6__[\"editorOptionsPropType\"],\n  // there's an open bug when RCE is rendered in a Modal form\n  // and the user navigates to the KB Shortcut Helper Button using\n  // Apple VoiceOver navigation keys (VO+arrows)\n  // as a workaround, the KB Shortcut Helper Button may be supressed\n  // setting renderKBShortcutModal to false\n  renderKBShortcutModal: prop_types__WEBPACK_IMPORTED_MODULE_4__[\"bool\"],\n  //\n  // height of the RCE. if a number, in px\n  height: Object(prop_types__WEBPACK_IMPORTED_MODULE_4__[\"oneOfType\"])([prop_types__WEBPACK_IMPORTED_MODULE_4__[\"number\"], prop_types__WEBPACK_IMPORTED_MODULE_4__[\"string\"]]),\n  // array of URLs to high-contrast css\n  highContrastCSS: Object(prop_types__WEBPACK_IMPORTED_MODULE_4__[\"arrayOf\"])(prop_types__WEBPACK_IMPORTED_MODULE_4__[\"string\"]),\n  // if true, do not load the plugin that provides the media toolbar and menu items\n  instRecordDisabled: prop_types__WEBPACK_IMPORTED_MODULE_4__[\"bool\"],\n  // locale of the user's language\n  language: prop_types__WEBPACK_IMPORTED_MODULE_4__[\"string\"],\n  // list of all supported languages. This is the list of languages\n  // shown to the user when adding closed captions to videos.\n  // If you are not supporting media uploads, this is not necessary.\n  // Defaults to [{id: 'en', label: 'English'}]\n  languages: Object(prop_types__WEBPACK_IMPORTED_MODULE_4__[\"arrayOf\"])(Object(prop_types__WEBPACK_IMPORTED_MODULE_4__[\"shape\"])({\n    // the id is the locale\n    id: prop_types__WEBPACK_IMPORTED_MODULE_4__[\"string\"].isRequired,\n    // the label to show in the UI\n    label: prop_types__WEBPACK_IMPORTED_MODULE_4__[\"string\"].isRequired\n  })),\n  // function that returns the element where screenreader alerts go\n  liveRegion: prop_types__WEBPACK_IMPORTED_MODULE_4__[\"func\"],\n  // array of lti tools available to the user\n  // {id, favorite} are all that's required, ther fields are ignored\n  ltiTools: _RCEWrapper_js__WEBPACK_IMPORTED_MODULE_6__[\"ltiToolsPropType\"],\n  // The maximum number of RCEs that will render on page load.\n  // Any more than this will be deferred until it is nearly\n  // scrolled into view.\n  // if isNaN or <=0, render them all\n  maxInitRenderedRCEs: prop_types__WEBPACK_IMPORTED_MODULE_4__[\"number\"],\n  // name:value pairs of attributes to add to the textarea\n  // tinymce creates as the backing store of the RCE\n  mirroredAttrs: Object(prop_types__WEBPACK_IMPORTED_MODULE_4__[\"objectOf\"])(prop_types__WEBPACK_IMPORTED_MODULE_4__[\"string\"]),\n  // is this RCE readonly?\n  readOnly: prop_types__WEBPACK_IMPORTED_MODULE_4__[\"bool\"],\n  // id put on the generated textarea\n  textareaId: prop_types__WEBPACK_IMPORTED_MODULE_4__[\"string\"].isRequired,\n  // class name added to the generated textarea\n  textareaClassName: prop_types__WEBPACK_IMPORTED_MODULE_4__[\"string\"],\n  // properties necessary for the RCE to us the RCS\n  // if missing, RCE features that require the RCS are omitted\n  rcsProps: _plugins_shared_CanvasContentTray_js__WEBPACK_IMPORTED_MODULE_7__[\"trayPropTypes\"],\n  // enable the pretty html editor (temporary until the feature is forced on)\n  use_rce_pretty_html_editor: prop_types__WEBPACK_IMPORTED_MODULE_4__[\"bool\"],\n  // enable the custom buttons feature (temporary until the feature is forced on)\n  use_rce_buttons_and_icons: prop_types__WEBPACK_IMPORTED_MODULE_4__[\"bool\"],\n  // enable the a11y checker notifications (temporary until the feature is forced on)\n  use_rce_a11y_checker_notifications: prop_types__WEBPACK_IMPORTED_MODULE_4__[\"bool\"],\n  // event handlers\n  onFocus: prop_types__WEBPACK_IMPORTED_MODULE_4__[\"func\"],\n  // f(RCEWrapper component)\n  onBlur: prop_types__WEBPACK_IMPORTED_MODULE_4__[\"func\"],\n  // f(event)\n  onInit: prop_types__WEBPACK_IMPORTED_MODULE_4__[\"func\"],\n  // f(tinymce_editor)\n  onContentChange: prop_types__WEBPACK_IMPORTED_MODULE_4__[\"func\"] // f(content), don't mistake this as an indication RCE is a controlled component\n\n};\nRCE.defaultProps = {\n  autosave: {\n    enabled: false,\n    maxAge: 3600000\n  },\n  defaultContent: '',\n  editorOptions: Object(_babel_runtime_helpers_esm_objectSpread2__WEBPACK_IMPORTED_MODULE_0__[\"default\"])({}, _defaultTinymceConfig_js__WEBPACK_IMPORTED_MODULE_12__[\"default\"]),\n  renderKBShortcutModal: true,\n  highContrastCSS: [],\n  instRecordDisabled: false,\n  language: 'en',\n  liveRegion: () => document.getElementById('flash_screenreader_holder'),\n  maxInitRenderedRCEs: -1,\n  mirroredAttrs: {},\n  readOnly: false,\n  use_rce_pretty_html_editor: true,\n  use_rce_buttons_and_icons: true,\n  use_rce_a11y_checker_notifications: true,\n  onFocus: () => {},\n  onBlur: () => {},\n  onContentChange: () => {},\n  onInit: () => {}\n};\n/* WEBPACK VAR INJECTION */}.call(this, __webpack_require__(/*! ./../../../../node_modules/process/browser.js */ \"8oxB\")))\n\n//# sourceURL=webpack:///./packages/canvas-rce/es/rce/RCE.js?");

/***/ }),

/***/ "7NEt":
/*!******************************************!*\
  !*** ./ui/shared/rce/react/CanvasRce.js ***!
  \******************************************/
/*! exports provided: default */
/***/ (function(module, __webpack_exports__, __webpack_require__) {

"use strict";
eval("__webpack_require__.r(__webpack_exports__);\n/* harmony import */ var _babel_runtime_helpers_esm_objectSpread2__WEBPACK_IMPORTED_MODULE_0__ = __webpack_require__(/*! @babel/runtime/helpers/esm/objectSpread2 */ \"VTBJ\");\n/* harmony import */ var _babel_runtime_helpers_esm_slicedToArray__WEBPACK_IMPORTED_MODULE_1__ = __webpack_require__(/*! @babel/runtime/helpers/esm/slicedToArray */ \"ODXe\");\n/* harmony import */ var _babel_runtime_helpers_esm_objectWithoutProperties__WEBPACK_IMPORTED_MODULE_2__ = __webpack_require__(/*! @babel/runtime/helpers/esm/objectWithoutProperties */ \"Ff2n\");\n/* harmony import */ var react__WEBPACK_IMPORTED_MODULE_3__ = __webpack_require__(/*! react */ \"q1tI\");\n/* harmony import */ var react__WEBPACK_IMPORTED_MODULE_3___default = /*#__PURE__*/__webpack_require__.n(react__WEBPACK_IMPORTED_MODULE_3__);\n/* harmony import */ var prop_types__WEBPACK_IMPORTED_MODULE_4__ = __webpack_require__(/*! prop-types */ \"17x9\");\n/* harmony import */ var prop_types__WEBPACK_IMPORTED_MODULE_4___default = /*#__PURE__*/__webpack_require__.n(prop_types__WEBPACK_IMPORTED_MODULE_4__);\n/* harmony import */ var _instructure_ui_utils__WEBPACK_IMPORTED_MODULE_5__ = __webpack_require__(/*! @instructure/ui-utils */ \"Nd46\");\n/* harmony import */ var _instructure_canvas_rce_es_rce_RCE__WEBPACK_IMPORTED_MODULE_6__ = __webpack_require__(/*! @instructure/canvas-rce/es/rce/RCE */ \"0nLJ\");\n/* harmony import */ var _getRCSProps__WEBPACK_IMPORTED_MODULE_7__ = __webpack_require__(/*! ../getRCSProps */ \"eVns\");\n/* harmony import */ var _canvas_util_closedCaptionLanguages__WEBPACK_IMPORTED_MODULE_8__ = __webpack_require__(/*! @canvas/util/closedCaptionLanguages */ \"stQK\");\n/* harmony import */ var _tinymce_config__WEBPACK_IMPORTED_MODULE_9__ = __webpack_require__(/*! ../tinymce.config */ \"JiFB\");\n/* harmony import */ var _loadEventListeners__WEBPACK_IMPORTED_MODULE_10__ = __webpack_require__(/*! ../loadEventListeners */ \"FNQM\");\n\n\n\nconst _excluded = [\"autosave\", \"defaultContent\", \"mirroredAttrs\", \"readOnly\", \"textareaClassName\", \"textareaId\", \"height\", \"editorOptions\", \"onFocus\", \"onBlur\", \"onContentChange\", \"onInit\"];\n\n/*\n * Copyright (C) 2021 - present Instructure, Inc.\n *\n * This file is part of Canvas.\n *\n * Canvas is free software: you can redistribute it and/or modify it under\n * the terms of the GNU Affero General Public License as published by the Free\n * Software Foundation, version 3 of the License.\n *\n * Canvas is distributed in the hope that it will be useful, but WITHOUT ANY\n * WARRANTY; without even the implied warranty of MERCHANTABILITY or FITNESS FOR\n * A PARTICULAR PURPOSE. See the GNU Affero General Public License for more\n * details.\n *\n * You should have received a copy of the GNU Affero General Public License along\n * with this program. If not, see <http://www.gnu.org/licenses/>.\n */\n\n\n\n\n\n\n\n // the ref you add via <CanvasRce ref={yourRef} /> will be a reference\n// to the underlying RCEWrapper. You probably shouldn't use it until\n// onInit has been called. Until then tinymce is not initialized.\n\nconst CanvasRce = /*#__PURE__*/Object(react__WEBPACK_IMPORTED_MODULE_3__[\"forwardRef\"])(function CanvasRce(props, rceRef) {\n  var _window$ENV, _window$ENV2, _window$ENV3, _window$INST, _window$ENV4, _window$ENV4$FEATURES, _window$ENV5, _window$ENV5$FEATURES, _window$ENV6;\n\n  const autosave = props.autosave,\n        defaultContent = props.defaultContent,\n        mirroredAttrs = props.mirroredAttrs,\n        readOnly = props.readOnly,\n        textareaClassName = props.textareaClassName,\n        textareaId = props.textareaId,\n        height = props.height,\n        editorOptions = props.editorOptions,\n        onFocus = props.onFocus,\n        onBlur = props.onBlur,\n        onContentChange = props.onContentChange,\n        onInit = props.onInit,\n        rest = Object(_babel_runtime_helpers_esm_objectWithoutProperties__WEBPACK_IMPORTED_MODULE_2__[\"default\"])(props, _excluded);\n\n  const _useState = Object(react__WEBPACK_IMPORTED_MODULE_3__[\"useState\"])(() => {\n    const myLanguage = ENV.LOCALE;\n    const langlist = Object.keys(_canvas_util_closedCaptionLanguages__WEBPACK_IMPORTED_MODULE_8__[\"default\"]).map(locale => {\n      return {\n        id: locale,\n        label: _canvas_util_closedCaptionLanguages__WEBPACK_IMPORTED_MODULE_8__[\"default\"][locale]\n      };\n    }).sort((a, b) => {\n      if (a.id === myLanguage) {\n        return -1;\n      } else if (b.id === myLanguage) {\n        return 1;\n      } else {\n        return a.label.localeCompare(b.label, myLanguage);\n      }\n    });\n    return langlist;\n  }),\n        _useState2 = Object(_babel_runtime_helpers_esm_slicedToArray__WEBPACK_IMPORTED_MODULE_1__[\"default\"])(_useState, 1),\n        languages = _useState2[0];\n\n  const _useState3 = Object(react__WEBPACK_IMPORTED_MODULE_3__[\"useState\"])(Object(_getRCSProps__WEBPACK_IMPORTED_MODULE_7__[\"default\"])()),\n        _useState4 = Object(_babel_runtime_helpers_esm_slicedToArray__WEBPACK_IMPORTED_MODULE_1__[\"default\"])(_useState3, 1),\n        RCSProps = _useState4[0];\n\n  const _useState5 = Object(react__WEBPACK_IMPORTED_MODULE_3__[\"useState\"])(() => {\n    // tinymce is a global by now via import of CanvasRce importing tinyRCE\n    const editorConfig = new _tinymce_config__WEBPACK_IMPORTED_MODULE_9__[\"default\"](tinymce, window.INST, textareaId);\n\n    const config = Object(_babel_runtime_helpers_esm_objectSpread2__WEBPACK_IMPORTED_MODULE_0__[\"default\"])(Object(_babel_runtime_helpers_esm_objectSpread2__WEBPACK_IMPORTED_MODULE_0__[\"default\"])({}, editorConfig.defaultConfig()), editorOptions);\n\n    if (editorOptions.init_instance_callback) {\n      config.init_instance_callback = Object(_instructure_ui_utils__WEBPACK_IMPORTED_MODULE_5__[\"createChainedFunction\"])(config.init_instance_callback, editorOptions.init_instance_callback);\n    }\n\n    return config;\n  }),\n        _useState6 = Object(_babel_runtime_helpers_esm_slicedToArray__WEBPACK_IMPORTED_MODULE_1__[\"default\"])(_useState5, 1),\n        tinymceConfig = _useState6[0];\n\n  const _useState7 = Object(react__WEBPACK_IMPORTED_MODULE_3__[\"useState\"])({\n    enabled: ENV.rce_auto_save && autosave,\n    interval: Number.isNaN(ENV.rce_auto_save_max_age_ms) ? 3600000 : ENV.rce_auto_save_max_age_ms\n  }),\n        _useState8 = Object(_babel_runtime_helpers_esm_slicedToArray__WEBPACK_IMPORTED_MODULE_1__[\"default\"])(_useState7, 1),\n        autosave_ = _useState8[0];\n\n  const _useState9 = Object(react__WEBPACK_IMPORTED_MODULE_3__[\"useState\"])(null),\n        _useState10 = Object(_babel_runtime_helpers_esm_slicedToArray__WEBPACK_IMPORTED_MODULE_1__[\"default\"])(_useState9, 2),\n        refCreated = _useState10[0],\n        setRefCreated = _useState10[1]; // you have to use a callback function ref because a ref as a useEffect dependency\n  // will never trigger it to be rerun. This way any time the ref changes,\n  // the function is called. rceRef as a dependency is to quiet eslint.\n\n\n  const magicRef = Object(react__WEBPACK_IMPORTED_MODULE_3__[\"useCallback\"])(node => {\n    rceRef.current = node;\n\n    if (node) {\n      node.getTextarea().remoteEditor = node;\n    }\n\n    setRefCreated(node);\n  }, [rceRef]);\n  Object(react__WEBPACK_IMPORTED_MODULE_3__[\"useEffect\"])(() => {\n    const rce_wrapper = refCreated && rceRef.current;\n    return () => {\n      rce_wrapper === null || rce_wrapper === void 0 ? void 0 : rce_wrapper.destroy();\n    };\n  }, [rceRef, refCreated]);\n  Object(react__WEBPACK_IMPORTED_MODULE_3__[\"useEffect\"])(() => {\n    Object(_loadEventListeners__WEBPACK_IMPORTED_MODULE_10__[\"default\"])();\n  }, []);\n  return /*#__PURE__*/react__WEBPACK_IMPORTED_MODULE_3___default.a.createElement(_instructure_canvas_rce_es_rce_RCE__WEBPACK_IMPORTED_MODULE_6__[\"default\"], Object.assign({\n    ref: magicRef,\n    autosave: autosave_,\n    defaultContent: defaultContent,\n    editorOptions: tinymceConfig,\n    highContrastCSS: (_window$ENV = window.ENV) === null || _window$ENV === void 0 ? void 0 : _window$ENV.url_for_high_contrast_tinymce_editor_css,\n    instRecordDisabled: (_window$ENV2 = window.ENV) === null || _window$ENV2 === void 0 ? void 0 : _window$ENV2.RICH_CONTENT_INST_RECORD_TAB_DISABLED,\n    language: ((_window$ENV3 = window.ENV) === null || _window$ENV3 === void 0 ? void 0 : _window$ENV3.LOCALE) || 'en',\n    languages: languages,\n    liveRegion: () => document.getElementById('flash_screenreader_holder'),\n    ltiTools: (_window$INST = window.INST) === null || _window$INST === void 0 ? void 0 : _window$INST.editorButtons,\n    maxInitRenderedRCEs: props.maxInitRenderedRCEs,\n    mirroredAttrs: mirroredAttrs,\n    readOnly: readOnly,\n    textareaClassName: textareaClassName,\n    textareaId: textareaId,\n    height: height,\n    rcsProps: RCSProps,\n    onFocus: onFocus,\n    onBlur: onBlur,\n    onContentChange: onContentChange,\n    onInit: onInit,\n    use_rce_pretty_html_editor: !!((_window$ENV4 = window.ENV) !== null && _window$ENV4 !== void 0 && (_window$ENV4$FEATURES = _window$ENV4.FEATURES) !== null && _window$ENV4$FEATURES !== void 0 && _window$ENV4$FEATURES.rce_pretty_html_editor),\n    use_rce_buttons_and_icons: !!((_window$ENV5 = window.ENV) !== null && _window$ENV5 !== void 0 && (_window$ENV5$FEATURES = _window$ENV5.FEATURES) !== null && _window$ENV5$FEATURES !== void 0 && _window$ENV5$FEATURES.rce_buttons_and_icons),\n    use_rce_a11y_checker_notifications: !!((_window$ENV6 = window.ENV) !== null && _window$ENV6 !== void 0 && _window$ENV6.use_rce_a11y_checker_notifications)\n  }, rest));\n});\n/* harmony default export */ __webpack_exports__[\"default\"] = (CanvasRce);\nCanvasRce.propTypes = {\n  // should the RCE autosave content to localStorage as the user types\n  autosave: prop_types__WEBPACK_IMPORTED_MODULE_4__[\"bool\"],\n  // the initial content\n  defaultContent: prop_types__WEBPACK_IMPORTED_MODULE_4__[\"string\"],\n  // tinymce configuration overrides\n  // see RCEWrapper's editorOptionsPropType for details.\n  editorOptions: prop_types__WEBPACK_IMPORTED_MODULE_4__[\"object\"],\n  // height of the RCE. If a number, in px\n  height: Object(prop_types__WEBPACK_IMPORTED_MODULE_4__[\"oneOfType\"])([prop_types__WEBPACK_IMPORTED_MODULE_4__[\"number\"], prop_types__WEBPACK_IMPORTED_MODULE_4__[\"string\"]]),\n  // The maximum number of RCEs that will render on page load.\n  // Any more than this will be deferred until it is nearly\n  // scrolled into view.\n  // if isNaN or <=0, render them all\n  maxInitRenderedRCEs: prop_types__WEBPACK_IMPORTED_MODULE_4__[\"number\"],\n  // name:value pairs of attributes to add to the textarea\n  // tinymce creates as the backing store of the RCE\n  mirroredAttrs: Object(prop_types__WEBPACK_IMPORTED_MODULE_4__[\"objectOf\"])(prop_types__WEBPACK_IMPORTED_MODULE_4__[\"string\"]),\n  // is thie RCE readonly?\n  readOnly: prop_types__WEBPACK_IMPORTED_MODULE_4__[\"bool\"],\n  // class name added to the generated textarea\n  textareaClassName: prop_types__WEBPACK_IMPORTED_MODULE_4__[\"string\"],\n  // id of the generated textarea\n  textareaId: prop_types__WEBPACK_IMPORTED_MODULE_4__[\"string\"].isRequired,\n  // event handlers\n  onFocus: prop_types__WEBPACK_IMPORTED_MODULE_4__[\"func\"],\n  // f(RCEWrapper component) (sorry)\n  onBlur: prop_types__WEBPACK_IMPORTED_MODULE_4__[\"func\"],\n  // f(event)\n  onInit: prop_types__WEBPACK_IMPORTED_MODULE_4__[\"func\"],\n  // f(tinymce_editor)\n  onContentChange: prop_types__WEBPACK_IMPORTED_MODULE_4__[\"func\"] // f(content), don't mistake this as an indication CanvasRce is a controlled component\n\n};\nCanvasRce.defaultProps = {\n  autosave: true,\n  editorOptions: {},\n  maxInitRenderedRCEs: -1,\n  mirroredAttrs: {},\n  readOnly: false,\n  textareaClassName: 'input-block-level',\n  onFocus: () => {},\n  onBlur: () => {},\n  onContentChange: () => {},\n  onInit: () => {}\n};\n\n//# sourceURL=webpack:///./ui/shared/rce/react/CanvasRce.js?");

/***/ }),

/***/ "dDTa":
/*!*****************************************************!*\
  !*** ./ui/shared/external-apps/iframeAllowances.js ***!
  \*****************************************************/
/*! exports provided: default */
/***/ (function(module, __webpack_exports__, __webpack_require__) {

"use strict";
eval("__webpack_require__.r(__webpack_exports__);\n/*\n * Copyright (C) 2018 - present Instructure, Inc.\n *\n * This file is part of Canvas.\n *\n * Canvas is free software: you can redistribute it and/or modify it under\n * the terms of the GNU Affero General Public License as published by the Free\n * Software Foundation, version 3 of the License.\n *\n * Canvas is distributed in the hope that it will be useful, but WITHOUT ANY\n * WARRANTY; without even the implied warranty of MERCHANTABILITY or FITNESS FOR\n * A PARTICULAR PURPOSE. See the GNU Affero General Public License for more\n * details.\n *\n * You should have received a copy of the GNU Affero General Public License along\n * with this program. If not, see <http://www.gnu.org/licenses/>.\n */\nconst iframeAllowances = () => {\n  const allowances = ENV.LTI_LAUNCH_FRAME_ALLOWANCES || [];\n  return allowances.join('; ');\n};\n\n/* harmony default export */ __webpack_exports__[\"default\"] = (iframeAllowances);\n\n//# sourceURL=webpack:///./ui/shared/external-apps/iframeAllowances.js?");

/***/ })

}]);