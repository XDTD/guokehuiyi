(window["canvasWebpackJsonp"] = window["canvasWebpackJsonp"] || []).push([[65],{

/***/ "0UGX":
/*!*****************************************************************************************!*\
  !*** ./frontend_build/i18n.js?direct_share_course_tray!./ui/shims/dummyI18nResource.js ***!
  \*****************************************************************************************/
/*! exports provided: default */
/***/ (function(module, __webpack_exports__, __webpack_require__) {

"use strict";
eval("__webpack_require__.r(__webpack_exports__);\n/* harmony import */ var _canvas_i18n_i18nObj__WEBPACK_IMPORTED_MODULE_0__ = __webpack_require__(/*! @canvas/i18n/i18nObj */ \"HGxv\");\n/* harmony import */ var translations_core_en__WEBPACK_IMPORTED_MODULE_1__ = __webpack_require__(/*! translations/_core_en */ \"0sPK\");\n\n    \n    \n    \n\n    /* harmony default export */ __webpack_exports__[\"default\"] = (_canvas_i18n_i18nObj__WEBPACK_IMPORTED_MODULE_0__[\"default\"].scoped('direct_share_course_tray'));\n  \n\n//# sourceURL=webpack:///./ui/shims/dummyI18nResource.js?./frontend_build/i18n.js?direct_share_course_tray");

/***/ }),

/***/ "C7Zj":
/*!****************************************************************************************!*\
  !*** ./frontend_build/i18n.js?direct_share_user_modal!./ui/shims/dummyI18nResource.js ***!
  \****************************************************************************************/
/*! exports provided: default */
/***/ (function(module, __webpack_exports__, __webpack_require__) {

"use strict";
eval("__webpack_require__.r(__webpack_exports__);\n/* harmony import */ var _canvas_i18n_i18nObj__WEBPACK_IMPORTED_MODULE_0__ = __webpack_require__(/*! @canvas/i18n/i18nObj */ \"HGxv\");\n/* harmony import */ var translations_core_en__WEBPACK_IMPORTED_MODULE_1__ = __webpack_require__(/*! translations/_core_en */ \"0sPK\");\n\n    \n    \n    \n\n    /* harmony default export */ __webpack_exports__[\"default\"] = (_canvas_i18n_i18nObj__WEBPACK_IMPORTED_MODULE_0__[\"default\"].scoped('direct_share_user_modal'));\n  \n\n//# sourceURL=webpack:///./ui/shims/dummyI18nResource.js?./frontend_build/i18n.js?direct_share_user_modal");

/***/ }),

/***/ "Nuch":
/*!****************************************************************************!*\
  !*** ./ui/shared/direct-sharing/react/components/DirectShareCourseTray.js ***!
  \****************************************************************************/
/*! exports provided: default */
/***/ (function(module, __webpack_exports__, __webpack_require__) {

"use strict";
eval("__webpack_require__.r(__webpack_exports__);\n/* harmony export (binding) */ __webpack_require__.d(__webpack_exports__, \"default\", function() { return DirectShareCourseTray; });\n/* harmony import */ var _babel_runtime_helpers_esm_objectWithoutProperties__WEBPACK_IMPORTED_MODULE_0__ = __webpack_require__(/*! @babel/runtime/helpers/esm/objectWithoutProperties */ \"Ff2n\");\n/* harmony import */ var i18n_direct_share_course_tray__WEBPACK_IMPORTED_MODULE_1__ = __webpack_require__(/*! i18n!direct_share_course_tray */ \"0UGX\");\n/* harmony import */ var react__WEBPACK_IMPORTED_MODULE_2__ = __webpack_require__(/*! react */ \"q1tI\");\n/* harmony import */ var react__WEBPACK_IMPORTED_MODULE_2___default = /*#__PURE__*/__webpack_require__.n(react__WEBPACK_IMPORTED_MODULE_2__);\n/* harmony import */ var _canvas_trays_react_LazyTray__WEBPACK_IMPORTED_MODULE_3__ = __webpack_require__(/*! @canvas/trays/react/LazyTray */ \"l0h0\");\n\nconst _excluded = [\"sourceCourseId\", \"contentSelection\", \"onDismiss\"];\n\n/*\n * Copyright (C) 2019 - present Instructure, Inc.\n *\n * This file is part of Canvas.\n *\n * Canvas is free software: you can redistribute it and/or modify it under\n * the terms of the GNU Affero General Public License as published by the Free\n * Software Foundation, version 3 of the License.\n *\n * Canvas is distributed in the hope that it will be useful, but WITHOUT ANY\n * WARRANTY; without even the implied warranty of MERCHANTABILITY or FITNESS FOR\n * A PARTICULAR PURPOSE. See the GNU Affero General Public License for more\n * details.\n *\n * You should have received a copy of the GNU Affero General Public License along\n * with this program. If not, see <http://www.gnu.org/licenses/>.\n */\n\n\n\nconst DirectShareCoursePanel = /*#__PURE__*/Object(react__WEBPACK_IMPORTED_MODULE_2__[\"lazy\"])(() => Promise.all(/*! import() */[__webpack_require__.e(13), __webpack_require__.e(16), __webpack_require__.e(17), __webpack_require__.e(22), __webpack_require__.e(116), __webpack_require__.e(134), __webpack_require__.e(3687)]).then(__webpack_require__.bind(null, /*! ./DirectShareCoursePanel */ \"dpkT\")));\nfunction DirectShareCourseTray(_ref) {\n  let sourceCourseId = _ref.sourceCourseId,\n      contentSelection = _ref.contentSelection,\n      onDismiss = _ref.onDismiss,\n      trayProps = Object(_babel_runtime_helpers_esm_objectWithoutProperties__WEBPACK_IMPORTED_MODULE_0__[\"default\"])(_ref, _excluded);\n\n  return /*#__PURE__*/react__WEBPACK_IMPORTED_MODULE_2___default.a.createElement(_canvas_trays_react_LazyTray__WEBPACK_IMPORTED_MODULE_3__[\"default\"], Object.assign({\n    label: i18n_direct_share_course_tray__WEBPACK_IMPORTED_MODULE_1__[\"default\"].t('Copy To...'),\n    placement: \"end\",\n    onDismiss: onDismiss,\n    padding: \"medium\"\n  }, trayProps), /*#__PURE__*/react__WEBPACK_IMPORTED_MODULE_2___default.a.createElement(DirectShareCoursePanel, {\n    sourceCourseId: sourceCourseId,\n    contentSelection: contentSelection,\n    onCancel: onDismiss\n  }));\n}\n\n//# sourceURL=webpack:///./ui/shared/direct-sharing/react/components/DirectShareCourseTray.js?");

/***/ }),

/***/ "QbG7":
/*!***************************************************************************!*\
  !*** ./ui/shared/direct-sharing/react/components/DirectShareUserModal.js ***!
  \***************************************************************************/
/*! exports provided: default */
/***/ (function(module, __webpack_exports__, __webpack_require__) {

"use strict";
eval("__webpack_require__.r(__webpack_exports__);\n/* harmony export (binding) */ __webpack_require__.d(__webpack_exports__, \"default\", function() { return DirectShareUserModal; });\n/* harmony import */ var _babel_runtime_helpers_esm_objectSpread2__WEBPACK_IMPORTED_MODULE_0__ = __webpack_require__(/*! @babel/runtime/helpers/esm/objectSpread2 */ \"VTBJ\");\n/* harmony import */ var _babel_runtime_helpers_esm_slicedToArray__WEBPACK_IMPORTED_MODULE_1__ = __webpack_require__(/*! @babel/runtime/helpers/esm/slicedToArray */ \"ODXe\");\n/* harmony import */ var _babel_runtime_helpers_esm_objectWithoutProperties__WEBPACK_IMPORTED_MODULE_2__ = __webpack_require__(/*! @babel/runtime/helpers/esm/objectWithoutProperties */ \"Ff2n\");\n/* harmony import */ var i18n_direct_share_user_modal__WEBPACK_IMPORTED_MODULE_3__ = __webpack_require__(/*! i18n!direct_share_user_modal */ \"C7Zj\");\n/* harmony import */ var react__WEBPACK_IMPORTED_MODULE_4__ = __webpack_require__(/*! react */ \"q1tI\");\n/* harmony import */ var react__WEBPACK_IMPORTED_MODULE_4___default = /*#__PURE__*/__webpack_require__.n(react__WEBPACK_IMPORTED_MODULE_4__);\n/* harmony import */ var prop_types__WEBPACK_IMPORTED_MODULE_5__ = __webpack_require__(/*! prop-types */ \"17x9\");\n/* harmony import */ var prop_types__WEBPACK_IMPORTED_MODULE_5___default = /*#__PURE__*/__webpack_require__.n(prop_types__WEBPACK_IMPORTED_MODULE_5__);\n/* harmony import */ var _instructure_ui_alerts__WEBPACK_IMPORTED_MODULE_6__ = __webpack_require__(/*! @instructure/ui-alerts */ \"spba\");\n/* harmony import */ var _instructure_ui_buttons__WEBPACK_IMPORTED_MODULE_7__ = __webpack_require__(/*! @instructure/ui-buttons */ \"K6WN\");\n/* harmony import */ var _instructure_ui_spinner__WEBPACK_IMPORTED_MODULE_8__ = __webpack_require__(/*! @instructure/ui-spinner */ \"cPO5\");\n/* harmony import */ var _instructure_ui_view__WEBPACK_IMPORTED_MODULE_9__ = __webpack_require__(/*! @instructure/ui-view */ \"OkHH\");\n/* harmony import */ var _canvas_instui_bindings_react_Modal__WEBPACK_IMPORTED_MODULE_10__ = __webpack_require__(/*! @canvas/instui-bindings/react/Modal */ \"HeaX\");\n/* harmony import */ var _canvas_content_sharing_react_proptypes_contentShare__WEBPACK_IMPORTED_MODULE_11__ = __webpack_require__(/*! @canvas/content-sharing/react/proptypes/contentShare */ \"XFtX\");\n/* harmony import */ var _canvas_alerts_react_FlashAlert__WEBPACK_IMPORTED_MODULE_12__ = __webpack_require__(/*! @canvas/alerts/react/FlashAlert */ \"uloQ\");\n/* harmony import */ var _canvas_do_fetch_api_effect__WEBPACK_IMPORTED_MODULE_13__ = __webpack_require__(/*! @canvas/do-fetch-api-effect */ \"Ipg6\");\n\n\n\nconst _excluded = [\"contentShare\", \"courseId\"];\n\n/*\n * Copyright (C) 2019 - present Instructure, Inc.\n *\n * This file is part of Canvas.\n *\n * Canvas is free software: you can redistribute it and/or modify it under\n * the terms of the GNU Affero General Public License as published by the Free\n * Software Foundation, version 3 of the License.\n *\n * Canvas is distributed in the hope that it will be useful, but WITHOUT ANY\n * WARRANTY; without even the implied warranty of MERCHANTABILITY or FITNESS FOR\n * A PARTICULAR PURPOSE. See the GNU Affero General Public License for more\n * details.\n *\n * You should have received a copy of the GNU Affero General Public License along\n * with this program. If not, see <http://www.gnu.org/licenses/>.\n */\n\n\n\n\n\n\n\n\n\n\n\nconst DirectShareUserPanel = /*#__PURE__*/Object(react__WEBPACK_IMPORTED_MODULE_4__[\"lazy\"])(() => Promise.all(/*! import() */[__webpack_require__.e(13), __webpack_require__.e(16), __webpack_require__.e(17), __webpack_require__.e(28), __webpack_require__.e(84), __webpack_require__.e(3659)]).then(__webpack_require__.bind(null, /*! ./DirectShareUserPanel */ \"pdP4\")));\nDirectShareUserModal.propTypes = {\n  contentShare: Object(prop_types__WEBPACK_IMPORTED_MODULE_5__[\"shape\"])({\n    content_id: prop_types__WEBPACK_IMPORTED_MODULE_5__[\"string\"],\n    content_type: Object(prop_types__WEBPACK_IMPORTED_MODULE_5__[\"oneOf\"])(_canvas_content_sharing_react_proptypes_contentShare__WEBPACK_IMPORTED_MODULE_11__[\"CONTENT_SHARE_TYPES\"])\n  }),\n  courseId: prop_types__WEBPACK_IMPORTED_MODULE_5__[\"string\"]\n};\nfunction DirectShareUserModal(_ref) {\n  let contentShare = _ref.contentShare,\n      courseId = _ref.courseId,\n      modalProps = Object(_babel_runtime_helpers_esm_objectWithoutProperties__WEBPACK_IMPORTED_MODULE_2__[\"default\"])(_ref, _excluded);\n\n  const _useState = Object(react__WEBPACK_IMPORTED_MODULE_4__[\"useState\"])([]),\n        _useState2 = Object(_babel_runtime_helpers_esm_slicedToArray__WEBPACK_IMPORTED_MODULE_1__[\"default\"])(_useState, 2),\n        selectedUsers = _useState2[0],\n        setSelectedUsers = _useState2[1];\n\n  const _useState3 = Object(react__WEBPACK_IMPORTED_MODULE_4__[\"useState\"])(null),\n        _useState4 = Object(_babel_runtime_helpers_esm_slicedToArray__WEBPACK_IMPORTED_MODULE_1__[\"default\"])(_useState3, 2),\n        postStatus = _useState4[0],\n        setPostStatus = _useState4[1];\n\n  const previousOpen = Object(react__WEBPACK_IMPORTED_MODULE_4__[\"useRef\"])(modalProps.open);\n\n  function resetState() {\n    setSelectedUsers([]);\n    setPostStatus(null);\n  }\n\n  function handleUserSelected(newUser) {\n    if (!selectedUsers.find(user => user.id === newUser.id)) {\n      setSelectedUsers(selectedUsers.concat([newUser]));\n    }\n  }\n\n  function handleUserRemoved(doomedUser) {\n    setSelectedUsers(selectedUsers.filter(user => user.id !== doomedUser.id));\n  }\n\n  function startSendOperation() {\n    return Object(_canvas_do_fetch_api_effect__WEBPACK_IMPORTED_MODULE_13__[\"default\"])({\n      method: 'POST',\n      path: '/api/v1/users/self/content_shares',\n      body: Object(_babel_runtime_helpers_esm_objectSpread2__WEBPACK_IMPORTED_MODULE_0__[\"default\"])(Object(_babel_runtime_helpers_esm_objectSpread2__WEBPACK_IMPORTED_MODULE_0__[\"default\"])({}, contentShare), {}, {\n        receiver_ids: selectedUsers.map(user => user.id)\n      })\n    });\n  }\n\n  function handleSend() {\n    setPostStatus('info');\n    startSendOperation().then(sendSuccessful).catch(err => {\n      console.error(err); // eslint-disable-line no-console\n\n      if (err.response) console.error(err.response); // eslint-disable-line no-console\n\n      setPostStatus('error');\n    });\n  }\n\n  function sendSuccessful() {\n    Object(_canvas_alerts_react_FlashAlert__WEBPACK_IMPORTED_MODULE_12__[\"showFlashSuccess\"])(i18n_direct_share_user_modal__WEBPACK_IMPORTED_MODULE_3__[\"default\"].t('Content share started successfully'))();\n    modalProps.onDismiss();\n  }\n\n  function Footer() {\n    return /*#__PURE__*/react__WEBPACK_IMPORTED_MODULE_4___default.a.createElement(react__WEBPACK_IMPORTED_MODULE_4___default.a.Fragment, null, /*#__PURE__*/react__WEBPACK_IMPORTED_MODULE_4___default.a.createElement(_instructure_ui_buttons__WEBPACK_IMPORTED_MODULE_7__[\"Button\"], {\n      onClick: modalProps.onDismiss\n    }, i18n_direct_share_user_modal__WEBPACK_IMPORTED_MODULE_3__[\"default\"].t('Cancel')), /*#__PURE__*/react__WEBPACK_IMPORTED_MODULE_4___default.a.createElement(_instructure_ui_buttons__WEBPACK_IMPORTED_MODULE_7__[\"Button\"], {\n      disabled: selectedUsers.length === 0 || postStatus === 'info',\n      variant: \"primary\",\n      margin: \"0 0 0 x-small\",\n      onClick: handleSend\n    }, i18n_direct_share_user_modal__WEBPACK_IMPORTED_MODULE_3__[\"default\"].t('Send')));\n  }\n\n  const suspenseFallback = /*#__PURE__*/react__WEBPACK_IMPORTED_MODULE_4___default.a.createElement(_instructure_ui_view__WEBPACK_IMPORTED_MODULE_9__[\"View\"], {\n    as: \"div\",\n    textAlign: \"center\"\n  }, /*#__PURE__*/react__WEBPACK_IMPORTED_MODULE_4___default.a.createElement(_instructure_ui_spinner__WEBPACK_IMPORTED_MODULE_8__[\"Spinner\"], {\n    renderTitle: i18n_direct_share_user_modal__WEBPACK_IMPORTED_MODULE_3__[\"default\"].t('Loading')\n  })); // Reset the state when the open prop changes so we don't carry over state\n  // from the previously opened dialog\n\n  if (modalProps.open !== previousOpen.current) {\n    previousOpen.current = modalProps.open;\n    resetState();\n  }\n\n  let alertMessage = '';\n  if (postStatus === 'info') alertMessage = i18n_direct_share_user_modal__WEBPACK_IMPORTED_MODULE_3__[\"default\"].t('Starting content share');else if (postStatus === 'error') alertMessage = i18n_direct_share_user_modal__WEBPACK_IMPORTED_MODULE_3__[\"default\"].t('Error starting content share');\n  const alert = alertMessage ? /*#__PURE__*/react__WEBPACK_IMPORTED_MODULE_4___default.a.createElement(_instructure_ui_alerts__WEBPACK_IMPORTED_MODULE_6__[\"Alert\"], {\n    variant: postStatus\n  }, /*#__PURE__*/react__WEBPACK_IMPORTED_MODULE_4___default.a.createElement(\"div\", {\n    role: \"alert\",\n    \"aria-live\": \"assertive\",\n    \"aria-atomic\": true\n  }, alertMessage), postStatus === 'info' ? /*#__PURE__*/react__WEBPACK_IMPORTED_MODULE_4___default.a.createElement(_instructure_ui_spinner__WEBPACK_IMPORTED_MODULE_8__[\"Spinner\"], {\n    renderTitle: alertMessage,\n    size: \"x-small\"\n  }) : null) : null; // TODO: should show the title of item being shared\n\n  return /*#__PURE__*/react__WEBPACK_IMPORTED_MODULE_4___default.a.createElement(_canvas_instui_bindings_react_Modal__WEBPACK_IMPORTED_MODULE_10__[\"default\"], Object.assign({\n    label: i18n_direct_share_user_modal__WEBPACK_IMPORTED_MODULE_3__[\"default\"].t('Send To...'),\n    size: \"medium\"\n  }, modalProps, {\n    footer: /*#__PURE__*/react__WEBPACK_IMPORTED_MODULE_4___default.a.createElement(Footer, null)\n  }), /*#__PURE__*/react__WEBPACK_IMPORTED_MODULE_4___default.a.createElement(react__WEBPACK_IMPORTED_MODULE_4__[\"Suspense\"], {\n    fallback: suspenseFallback\n  }, alert, /*#__PURE__*/react__WEBPACK_IMPORTED_MODULE_4___default.a.createElement(DirectShareUserPanel, {\n    courseId: courseId,\n    selectedUsers: selectedUsers,\n    onUserSelected: handleUserSelected,\n    onUserRemoved: handleUserRemoved\n  })));\n}\n\n//# sourceURL=webpack:///./ui/shared/direct-sharing/react/components/DirectShareUserModal.js?");

/***/ }),

/***/ "Vovh":
/*!*******************************************************************!*\
  !*** ./ui/shared/publish-button-view/backbone/views/index.coffee ***!
  \*******************************************************************/
/*! exports provided: default */
/***/ (function(module, __webpack_exports__, __webpack_require__) {

"use strict";
eval("__webpack_require__.r(__webpack_exports__);\n/* harmony import */ var i18n_publish_btn_module__WEBPACK_IMPORTED_MODULE_0__ = __webpack_require__(/*! i18n!publish_btn_module */ \"xn+Z\");\n/* harmony import */ var jquery__WEBPACK_IMPORTED_MODULE_1__ = __webpack_require__(/*! jquery */ \"ouhR\");\n/* harmony import */ var jquery__WEBPACK_IMPORTED_MODULE_1___default = /*#__PURE__*/__webpack_require__.n(jquery__WEBPACK_IMPORTED_MODULE_1__);\n/* harmony import */ var _canvas_backbone__WEBPACK_IMPORTED_MODULE_2__ = __webpack_require__(/*! @canvas/backbone */ \"mX+G\");\n/* harmony import */ var _canvas_backbone__WEBPACK_IMPORTED_MODULE_2___default = /*#__PURE__*/__webpack_require__.n(_canvas_backbone__WEBPACK_IMPORTED_MODULE_2__);\n/* harmony import */ var html_escape__WEBPACK_IMPORTED_MODULE_3__ = __webpack_require__(/*! html-escape */ \"gI0r\");\n/* harmony import */ var _canvas_forms_jquery_jquery_instructure_forms__WEBPACK_IMPORTED_MODULE_4__ = __webpack_require__(/*! @canvas/forms/jquery/jquery.instructure_forms */ \"Dhso\");\nvar PublishButton,\n  extend = function(child, parent) { for (var key in parent) { if (hasProp.call(parent, key)) child[key] = parent[key]; } function ctor() { this.constructor = child; } ctor.prototype = parent.prototype; child.prototype = new ctor(); child.__super__ = parent.prototype; return child; },\n  hasProp = {}.hasOwnProperty;\n\n\n\n\n\n\n\n\n\n\n\n/* harmony default export */ __webpack_exports__[\"default\"] = (PublishButton = (function(superClass) {\n  extend(PublishButton, superClass);\n\n  function PublishButton() {\n    return PublishButton.__super__.constructor.apply(this, arguments);\n  }\n\n  PublishButton.prototype.disabledClass = 'disabled';\n\n  PublishButton.prototype.publishClass = 'btn-publish';\n\n  PublishButton.prototype.publishedClass = 'btn-published';\n\n  PublishButton.prototype.unpublishClass = 'btn-unpublish';\n\n  PublishButton.optionProperty('title');\n\n  PublishButton.optionProperty('publishText');\n\n  PublishButton.optionProperty('unpublishText');\n\n  PublishButton.optionProperty('disabledForModeration');\n\n  PublishButton.prototype.tagName = 'button';\n\n  PublishButton.prototype.className = 'btn';\n\n  PublishButton.prototype.events = {\n    'click': 'click',\n    'hover': 'hover'\n  };\n\n  PublishButton.prototype.els = {\n    'i': '$icon',\n    '.publish-text': '$text'\n  };\n\n  PublishButton.prototype.initialize = function() {\n    var ref;\n    PublishButton.__super__.initialize.apply(this, arguments);\n    return (ref = this.model) != null ? ref.on('change:unpublishable', (function(_this) {\n      return function() {\n        if (!_this.model.get('unpublishable') && _this.model.get('published')) {\n          return _this.disable();\n        }\n      };\n    })(this)) : void 0;\n  };\n\n  PublishButton.prototype.setElement = function() {\n    PublishButton.__super__.setElement.apply(this, arguments);\n    this.$el.attr('data-tooltip', '');\n    if (!this.model.get('unpublishable') && this.model.get('published')) {\n      return this.disable();\n    }\n  };\n\n  PublishButton.prototype.hover = function(arg) {\n    var type;\n    type = arg.type;\n    if (type === 'mouseenter') {\n      if (this.keepState || this.isPublish() || this.isDisabled()) {\n        return;\n      }\n      this.renderUnpublish();\n      return this.keepState = true;\n    } else {\n      this.keepState = false;\n      if (!(this.isPublish() || this.isDisabled())) {\n        return this.renderPublished();\n      }\n    }\n  };\n\n  PublishButton.prototype.click = function(event) {\n    event.preventDefault();\n    event.stopPropagation();\n    if (this.isDisabled()) {\n      return;\n    }\n    this.keepState = true;\n    if (this.isPublish()) {\n      return this.publish();\n    } else if (this.isUnpublish() || this.isPublished()) {\n      return this.unpublish();\n    }\n  };\n\n  PublishButton.prototype.addAriaLabel = function(label) {\n    var $label;\n    $label = this.$el.find('span.screenreader-only.accessible_label');\n    if (!$label.length) {\n      $label = jquery__WEBPACK_IMPORTED_MODULE_1___default()('<span class=\"screenreader-only accessible_label\"></span>').appendTo(this.$el);\n    }\n    $label.text(label);\n    return this.$el.attr('aria-label', label);\n  };\n\n  PublishButton.prototype.setFocusToElement = function() {\n    return this.$el.focus();\n  };\n\n  PublishButton.prototype.publish = function(event) {\n    this.renderPublishing();\n    return this.model.publish().always((function(_this) {\n      return function() {\n        _this.trigger(\"publish\");\n        _this.enable();\n        _this.render();\n        return _this.setFocusToElement();\n      };\n    })(this));\n  };\n\n  PublishButton.prototype.unpublish = function(event) {\n    this.renderUnpublishing();\n    return this.model.unpublish().done((function(_this) {\n      return function() {\n        _this.trigger(\"unpublish\");\n        _this.disable();\n        _this.render();\n        return _this.setFocusToElement();\n      };\n    })(this)).fail((function(_this) {\n      return function(error) {\n        if (error.status === 403) {\n          jquery__WEBPACK_IMPORTED_MODULE_1___default.a.flashError(_this.model.disabledMessage());\n        }\n        _this.disable();\n        _this.renderPublished();\n        return _this.setFocusToElement();\n      };\n    })(this));\n  };\n\n  PublishButton.prototype.isPublish = function() {\n    return this.$el.hasClass(this.publishClass);\n  };\n\n  PublishButton.prototype.isPublished = function() {\n    return this.$el.hasClass(this.publishedClass);\n  };\n\n  PublishButton.prototype.isUnpublish = function() {\n    return this.$el.hasClass(this.unpublishClass);\n  };\n\n  PublishButton.prototype.isDisabled = function() {\n    return this.$el.hasClass(this.disabledClass);\n  };\n\n  PublishButton.prototype.disable = function() {\n    return this.$el.addClass(this.disabledClass);\n  };\n\n  PublishButton.prototype.enable = function() {\n    return this.$el.removeClass(this.disabledClass);\n  };\n\n  PublishButton.prototype.reset = function() {\n    this.$el.removeClass(this.publishClass + \" \" + this.publishedClass + \" \" + this.unpublishClass);\n    this.$icon.removeClass('icon-publish icon-unpublish icon-unpublished');\n    return this.$el.removeAttr('aria-label');\n  };\n\n  PublishButton.prototype.publishLabel = function() {\n    if (this.publishText) {\n      return this.publishText;\n    }\n    if (this.title) {\n      return i18n_publish_btn_module__WEBPACK_IMPORTED_MODULE_0__[\"default\"].t('Unpublished.  Click to publish %{title}.', {\n        title: this.title\n      });\n    }\n    return i18n_publish_btn_module__WEBPACK_IMPORTED_MODULE_0__[\"default\"].t('Unpublished.  Click to publish.');\n  };\n\n  PublishButton.prototype.unpublishLabel = function() {\n    if (this.unpublishText) {\n      return this.unpublishText;\n    }\n    if (this.title) {\n      return i18n_publish_btn_module__WEBPACK_IMPORTED_MODULE_0__[\"default\"].t('Published.  Click to unpublish %{title}.', {\n        title: this.title\n      });\n    }\n    return i18n_publish_btn_module__WEBPACK_IMPORTED_MODULE_0__[\"default\"].t('Published.  Click to unpublish.');\n  };\n\n  PublishButton.prototype.render = function() {\n    if (!this.$el.is(\"button\")) {\n      this.$el.attr('role', 'button');\n    }\n    this.$el.attr('tabindex', '0');\n    this.$el.html('<i></i><span class=\"publish-text\"></span>');\n    this.cacheEls();\n    this.$text.attr('tabindex', '-1');\n    if (this.model.get('published')) {\n      this.renderPublished();\n    } else {\n      this.renderPublish();\n    }\n    return this;\n  };\n\n  PublishButton.prototype.renderPublish = function() {\n    return this.renderState({\n      text: i18n_publish_btn_module__WEBPACK_IMPORTED_MODULE_0__[\"default\"].t('buttons.publish', 'Publish'),\n      label: this.publishLabel(),\n      buttonClass: this.publishClass,\n      iconClass: 'icon-unpublish'\n    });\n  };\n\n  PublishButton.prototype.renderPublished = function() {\n    return this.renderState({\n      text: i18n_publish_btn_module__WEBPACK_IMPORTED_MODULE_0__[\"default\"].t('buttons.published', 'Published'),\n      label: this.unpublishLabel(),\n      buttonClass: this.publishedClass,\n      iconClass: 'icon-publish icon-Solid'\n    });\n  };\n\n  PublishButton.prototype.renderUnpublish = function() {\n    var text;\n    text = i18n_publish_btn_module__WEBPACK_IMPORTED_MODULE_0__[\"default\"].t('buttons.unpublish', 'Unpublish');\n    return this.renderState({\n      text: text,\n      buttonClass: this.unpublishClass,\n      iconClass: 'icon-unpublish'\n    });\n  };\n\n  PublishButton.prototype.renderPublishing = function() {\n    var text;\n    this.disable();\n    text = i18n_publish_btn_module__WEBPACK_IMPORTED_MODULE_0__[\"default\"].t('buttons.publishing', 'Publishing...');\n    return this.renderState({\n      text: text,\n      buttonClass: this.publishClass,\n      iconClass: 'icon-publish icon-Solid'\n    });\n  };\n\n  PublishButton.prototype.renderUnpublishing = function() {\n    var text;\n    this.disable();\n    text = i18n_publish_btn_module__WEBPACK_IMPORTED_MODULE_0__[\"default\"].t('buttons.unpublishing', 'Unpublishing...');\n    return this.renderState({\n      text: text,\n      buttonClass: this.unpublishClass,\n      iconClass: 'icon-unpublished'\n    });\n  };\n\n  PublishButton.prototype.renderState = function(options) {\n    this.reset();\n    this.$el.addClass(options.buttonClass);\n    this.$el.attr('aria-pressed', options.buttonClass === this.publishedClass);\n    this.$icon.addClass(options.iconClass);\n    this.$text.html(\"&nbsp;\" + (Object(html_escape__WEBPACK_IMPORTED_MODULE_3__[\"default\"])(options.text)));\n    if (this.model.get('disabledForModeration')) {\n      return this.disableWithMessage('You do not have permissions to edit this moderated assignment');\n    } else if ((this.model.get('unpublishable') == null) || this.model.get('unpublishable')) {\n      this.enable();\n      this.$el.attr('title', options.text);\n      if (options.label) {\n        return this.addAriaLabel(options.label);\n      }\n    } else {\n      if (this.model.get('published')) {\n        return this.disableWithMessage(this.model.disabledMessage());\n      }\n    }\n  };\n\n  PublishButton.prototype.disableWithMessage = function(message) {\n    this.disable();\n    this.$el.attr('aria-disabled', true);\n    this.$el.attr('title', message);\n    return this.addAriaLabel(message);\n  };\n\n  return PublishButton;\n\n})(_canvas_backbone__WEBPACK_IMPORTED_MODULE_2___default.a.View));\n\n\n//# sourceURL=webpack:///./ui/shared/publish-button-view/backbone/views/index.coffee?");

/***/ }),

/***/ "xn+Z":
/*!***********************************************************************************!*\
  !*** ./frontend_build/i18n.js?publish_btn_module!./ui/shims/dummyI18nResource.js ***!
  \***********************************************************************************/
/*! exports provided: default */
/***/ (function(module, __webpack_exports__, __webpack_require__) {

"use strict";
eval("__webpack_require__.r(__webpack_exports__);\n/* harmony import */ var _canvas_i18n_i18nObj__WEBPACK_IMPORTED_MODULE_0__ = __webpack_require__(/*! @canvas/i18n/i18nObj */ \"HGxv\");\n/* harmony import */ var translations_core_en__WEBPACK_IMPORTED_MODULE_1__ = __webpack_require__(/*! translations/_core_en */ \"0sPK\");\n\n    \n    \n    \n\n    /* harmony default export */ __webpack_exports__[\"default\"] = (_canvas_i18n_i18nObj__WEBPACK_IMPORTED_MODULE_0__[\"default\"].scoped('publish_btn_module'));\n  \n\n//# sourceURL=webpack:///./ui/shims/dummyI18nResource.js?./frontend_build/i18n.js?publish_btn_module");

/***/ })

}]);