(window["canvasWebpackJsonp"] = window["canvasWebpackJsonp"] || []).push([[3683],{

/***/ "2k/U":
/*!***************************************************************************************!*\
  !*** ./packages/canvas-rce/es/rce/plugins/instructure_links/components/LinksPanel.js ***!
  \***************************************************************************************/
/*! exports provided: default */
/***/ (function(module, __webpack_exports__, __webpack_require__) {

"use strict";
eval("__webpack_require__.r(__webpack_exports__);\n/* harmony import */ var react__WEBPACK_IMPORTED_MODULE_0__ = __webpack_require__(/*! react */ \"q1tI\");\n/* harmony import */ var react__WEBPACK_IMPORTED_MODULE_0___default = /*#__PURE__*/__webpack_require__.n(react__WEBPACK_IMPORTED_MODULE_0__);\n/* harmony import */ var prop_types__WEBPACK_IMPORTED_MODULE_1__ = __webpack_require__(/*! prop-types */ \"17x9\");\n/* harmony import */ var prop_types__WEBPACK_IMPORTED_MODULE_1___default = /*#__PURE__*/__webpack_require__.n(prop_types__WEBPACK_IMPORTED_MODULE_1__);\n/* harmony import */ var _format_message_js__WEBPACK_IMPORTED_MODULE_2__ = __webpack_require__(/*! ../../../../format-message.js */ \"NFDp\");\n/* harmony import */ var _propTypes_js__WEBPACK_IMPORTED_MODULE_3__ = __webpack_require__(/*! ./propTypes.js */ \"hjhN\");\n/* harmony import */ var _NavigationPanel_js__WEBPACK_IMPORTED_MODULE_4__ = __webpack_require__(/*! ./NavigationPanel.js */ \"mk8Q\");\n/* harmony import */ var _CollectionPanel_js__WEBPACK_IMPORTED_MODULE_5__ = __webpack_require__(/*! ./CollectionPanel.js */ \"QMKa\");\n/* harmony import */ var _instructure_ui_view__WEBPACK_IMPORTED_MODULE_6__ = __webpack_require__(/*! @instructure/ui-view */ \"OkHH\");\n/* harmony import */ var _instructure_ui_react_utils__WEBPACK_IMPORTED_MODULE_7__ = __webpack_require__(/*! @instructure/ui-react-utils */ \"e2P+\");\n/*\n * Copyright (C) 2019 - present Instructure, Inc.\n *\n * This file is part of Canvas.\n *\n * Canvas is free software: you can redistribute it and/or modify it under\n * the terms of the GNU Affero General Public License as published by the Free\n * Software Foundation, version 3 of the License.\n *\n * Canvas is distributed in the hope that it will be useful, but WITHOUT ANY\n * WARRANTY; without even the implied warranty of MERCHANTABILITY or FITNESS FOR\n * A PARTICULAR PURPOSE. See the GNU Affero General Public License for more\n * details.\n *\n * You should have received a copy of the GNU Affero General Public License along\n * with this program. If not, see <http://www.gnu.org/licenses/>.\n */\n\n\n\n\n\n\n\n\n\nfunction LinksPanel(props) {\n  const isCourse = props.contextType === 'course';\n  const isGroup = props.contextType === 'group';\n  const collectionProps = Object(_instructure_ui_react_utils__WEBPACK_IMPORTED_MODULE_7__[\"pickProps\"])(props, _CollectionPanel_js__WEBPACK_IMPORTED_MODULE_5__[\"default\"].propTypes);\n  return /*#__PURE__*/react__WEBPACK_IMPORTED_MODULE_0___default.a.createElement(_instructure_ui_view__WEBPACK_IMPORTED_MODULE_6__[\"View\"], {\n    as: \"div\",\n    \"data-testid\": \"instructure_links-LinksPanel\"\n  }, (isCourse || isGroup) && /*#__PURE__*/react__WEBPACK_IMPORTED_MODULE_0___default.a.createElement(_CollectionPanel_js__WEBPACK_IMPORTED_MODULE_5__[\"default\"], Object.assign({}, collectionProps, {\n    collection: \"wikiPages\",\n    label: Object(_format_message_js__WEBPACK_IMPORTED_MODULE_2__[\"default\"])('Pages')\n  })), isCourse && /*#__PURE__*/react__WEBPACK_IMPORTED_MODULE_0___default.a.createElement(_CollectionPanel_js__WEBPACK_IMPORTED_MODULE_5__[\"default\"], Object.assign({}, collectionProps, {\n    collection: \"assignments\",\n    label: Object(_format_message_js__WEBPACK_IMPORTED_MODULE_2__[\"default\"])('Assignments')\n  })), isCourse && /*#__PURE__*/react__WEBPACK_IMPORTED_MODULE_0___default.a.createElement(_CollectionPanel_js__WEBPACK_IMPORTED_MODULE_5__[\"default\"], Object.assign({}, collectionProps, {\n    collection: \"quizzes\",\n    label: Object(_format_message_js__WEBPACK_IMPORTED_MODULE_2__[\"default\"])('Quizzes')\n  })), (isCourse || isGroup) && /*#__PURE__*/react__WEBPACK_IMPORTED_MODULE_0___default.a.createElement(_CollectionPanel_js__WEBPACK_IMPORTED_MODULE_5__[\"default\"], Object.assign({}, collectionProps, {\n    collection: \"announcements\",\n    label: Object(_format_message_js__WEBPACK_IMPORTED_MODULE_2__[\"default\"])('Announcements')\n  })), (isCourse || isGroup) && /*#__PURE__*/react__WEBPACK_IMPORTED_MODULE_0___default.a.createElement(_CollectionPanel_js__WEBPACK_IMPORTED_MODULE_5__[\"default\"], Object.assign({}, collectionProps, {\n    collection: \"discussions\",\n    label: Object(_format_message_js__WEBPACK_IMPORTED_MODULE_2__[\"default\"])('Discussions')\n  })), isCourse && /*#__PURE__*/react__WEBPACK_IMPORTED_MODULE_0___default.a.createElement(_CollectionPanel_js__WEBPACK_IMPORTED_MODULE_5__[\"default\"], Object.assign({}, collectionProps, {\n    collection: \"modules\",\n    label: Object(_format_message_js__WEBPACK_IMPORTED_MODULE_2__[\"default\"])('Modules')\n  })), /*#__PURE__*/react__WEBPACK_IMPORTED_MODULE_0___default.a.createElement(_NavigationPanel_js__WEBPACK_IMPORTED_MODULE_4__[\"default\"], {\n    contextType: props.contextType,\n    contextId: props.contextId,\n    onLinkClick: props.onLinkClick,\n    onChangeAccordion: props.onChangeAccordion,\n    selectedAccordionIndex: props.selectedAccordionIndex\n  }));\n}\n\nLinksPanel.propTypes = {\n  selectedAccordionIndex: prop_types__WEBPACK_IMPORTED_MODULE_1__[\"string\"],\n  onChangeAccordion: prop_types__WEBPACK_IMPORTED_MODULE_1__[\"func\"],\n  contextType: prop_types__WEBPACK_IMPORTED_MODULE_1__[\"string\"].isRequired,\n  contextId: prop_types__WEBPACK_IMPORTED_MODULE_1__[\"string\"].isRequired,\n  searchString: prop_types__WEBPACK_IMPORTED_MODULE_1__[\"string\"],\n  collections: _propTypes_js__WEBPACK_IMPORTED_MODULE_3__[\"collectionsShape\"].isRequired,\n  fetchInitialPage: prop_types__WEBPACK_IMPORTED_MODULE_1__[\"func\"],\n  fetchNextPage: prop_types__WEBPACK_IMPORTED_MODULE_1__[\"func\"],\n  onLinkClick: prop_types__WEBPACK_IMPORTED_MODULE_1__[\"func\"],\n  canCreatePages: prop_types__WEBPACK_IMPORTED_MODULE_1__[\"bool\"]\n};\nLinksPanel.defaultProps = {\n  selectedAccordionIndex: ''\n};\n/* harmony default export */ __webpack_exports__[\"default\"] = (LinksPanel);\n\n//# sourceURL=webpack:///./packages/canvas-rce/es/rce/plugins/instructure_links/components/LinksPanel.js?");

/***/ }),

/***/ "HBs+":
/*!*********************************************************************************************!*\
  !*** ./packages/canvas-rce/es/rce/plugins/instructure_links/components/AccordionSection.js ***!
  \*********************************************************************************************/
/*! exports provided: default */
/***/ (function(module, __webpack_exports__, __webpack_require__) {

"use strict";
eval("__webpack_require__.r(__webpack_exports__);\n/* harmony export (binding) */ __webpack_require__.d(__webpack_exports__, \"default\", function() { return AccordionSection; });\n/* harmony import */ var react__WEBPACK_IMPORTED_MODULE_0__ = __webpack_require__(/*! react */ \"q1tI\");\n/* harmony import */ var react__WEBPACK_IMPORTED_MODULE_0___default = /*#__PURE__*/__webpack_require__.n(react__WEBPACK_IMPORTED_MODULE_0__);\n/* harmony import */ var prop_types__WEBPACK_IMPORTED_MODULE_1__ = __webpack_require__(/*! prop-types */ \"17x9\");\n/* harmony import */ var prop_types__WEBPACK_IMPORTED_MODULE_1___default = /*#__PURE__*/__webpack_require__.n(prop_types__WEBPACK_IMPORTED_MODULE_1__);\n/* harmony import */ var _format_message_js__WEBPACK_IMPORTED_MODULE_2__ = __webpack_require__(/*! ../../../../format-message.js */ \"NFDp\");\n/* harmony import */ var _instructure_ui_toggle_details__WEBPACK_IMPORTED_MODULE_3__ = __webpack_require__(/*! @instructure/ui-toggle-details */ \"Bcfm\");\n/* harmony import */ var _instructure_ui_text__WEBPACK_IMPORTED_MODULE_4__ = __webpack_require__(/*! @instructure/ui-text */ \"iE3e\");\n/* harmony import */ var _instructure_ui_view__WEBPACK_IMPORTED_MODULE_5__ = __webpack_require__(/*! @instructure/ui-view */ \"OkHH\");\n/*\n * Copyright (C) 2019 - present Instructure, Inc.\n *\n * This file is part of Canvas.\n *\n * Canvas is free software: you can redistribute it and/or modify it under\n * the terms of the GNU Affero General Public License as published by the Free\n * Software Foundation, version 3 of the License.\n *\n * Canvas is distributed in the hope that it will be useful, but WITHOUT ANY\n * WARRANTY; without even the implied warranty of MERCHANTABILITY or FITNESS FOR\n * A PARTICULAR PURPOSE. See the GNU Affero General Public License for more\n * details.\n *\n * You should have received a copy of the GNU Affero General Public License along\n * with this program. If not, see <http://www.gnu.org/licenses/>.\n */\n\n\n\n\n\n\nfunction AccordionSection({\n  collection,\n  children,\n  onToggle,\n  expanded,\n  label\n}) {\n  const toggleLabel = expanded ? Object(_format_message_js__WEBPACK_IMPORTED_MODULE_2__[\"default\"])('Collapse to hide {types}', {\n    types: label\n  }) : Object(_format_message_js__WEBPACK_IMPORTED_MODULE_2__[\"default\"])('Expand to see {types}', {\n    types: label\n  });\n  return /*#__PURE__*/react__WEBPACK_IMPORTED_MODULE_0___default.a.createElement(_instructure_ui_view__WEBPACK_IMPORTED_MODULE_5__[\"View\"], {\n    as: \"div\",\n    borderWidth: \"0 0 small 0\",\n    \"data-testid\": \"instructure_links-AccordionSection\"\n  }, /*#__PURE__*/react__WEBPACK_IMPORTED_MODULE_0___default.a.createElement(_instructure_ui_toggle_details__WEBPACK_IMPORTED_MODULE_3__[\"ToggleGroup\"], {\n    toggleLabel: toggleLabel,\n    summary: /*#__PURE__*/react__WEBPACK_IMPORTED_MODULE_0___default.a.createElement(_instructure_ui_view__WEBPACK_IMPORTED_MODULE_5__[\"View\"], {\n      display: \"inline-block\",\n      padding: \"0 0 0 small\"\n    }, /*#__PURE__*/react__WEBPACK_IMPORTED_MODULE_0___default.a.createElement(_instructure_ui_text__WEBPACK_IMPORTED_MODULE_4__[\"Text\"], {\n      weight: \"bold\"\n    }, label)),\n    expanded: expanded,\n    onToggle: (_e, expanded) => onToggle(expanded ? collection : ''),\n    border: false\n  }, /*#__PURE__*/react__WEBPACK_IMPORTED_MODULE_0___default.a.createElement(react__WEBPACK_IMPORTED_MODULE_0___default.a.Fragment, null, children)));\n}\nAccordionSection.propTypes = {\n  collection: prop_types__WEBPACK_IMPORTED_MODULE_1__[\"string\"].isRequired,\n  children: prop_types__WEBPACK_IMPORTED_MODULE_1__[\"node\"].isRequired,\n  onToggle: prop_types__WEBPACK_IMPORTED_MODULE_1__[\"func\"].isRequired,\n  expanded: prop_types__WEBPACK_IMPORTED_MODULE_1__[\"bool\"].isRequired,\n  label: prop_types__WEBPACK_IMPORTED_MODULE_1__[\"string\"].isRequired\n};\n\n//# sourceURL=webpack:///./packages/canvas-rce/es/rce/plugins/instructure_links/components/AccordionSection.js?");

/***/ }),

/***/ "QMKa":
/*!********************************************************************************************!*\
  !*** ./packages/canvas-rce/es/rce/plugins/instructure_links/components/CollectionPanel.js ***!
  \********************************************************************************************/
/*! exports provided: default */
/***/ (function(module, __webpack_exports__, __webpack_require__) {

"use strict";
eval("__webpack_require__.r(__webpack_exports__);\n/* harmony export (binding) */ __webpack_require__.d(__webpack_exports__, \"default\", function() { return CollectionPanel; });\n/* harmony import */ var react__WEBPACK_IMPORTED_MODULE_0__ = __webpack_require__(/*! react */ \"q1tI\");\n/* harmony import */ var react__WEBPACK_IMPORTED_MODULE_0___default = /*#__PURE__*/__webpack_require__.n(react__WEBPACK_IMPORTED_MODULE_0__);\n/* harmony import */ var prop_types__WEBPACK_IMPORTED_MODULE_1__ = __webpack_require__(/*! prop-types */ \"17x9\");\n/* harmony import */ var prop_types__WEBPACK_IMPORTED_MODULE_1___default = /*#__PURE__*/__webpack_require__.n(prop_types__WEBPACK_IMPORTED_MODULE_1__);\n/* harmony import */ var _propTypes_js__WEBPACK_IMPORTED_MODULE_2__ = __webpack_require__(/*! ./propTypes.js */ \"hjhN\");\n/* harmony import */ var _AccordionSection_js__WEBPACK_IMPORTED_MODULE_3__ = __webpack_require__(/*! ./AccordionSection.js */ \"HBs+\");\n/* harmony import */ var _LinkSet_js__WEBPACK_IMPORTED_MODULE_4__ = __webpack_require__(/*! ./LinkSet.js */ \"vBY7\");\n/*\n * Copyright (C) 2018 - present Instructure, Inc.\n *\n * This file is part of Canvas.\n *\n * Canvas is free software: you can redistribute it and/or modify it under\n * the terms of the GNU Affero General Public License as published by the Free\n * Software Foundation, version 3 of the License.\n *\n * Canvas is distributed in the hope that it will be useful, but WITHOUT ANY\n * WARRANTY; without even the implied warranty of MERCHANTABILITY or FITNESS FOR\n * A PARTICULAR PURPOSE. See the GNU Affero General Public License for more\n * details.\n *\n * You should have received a copy of the GNU Affero General Public License along\n * with this program. If not, see <http://www.gnu.org/licenses/>.\n */\n\n\n\n\n\nfunction CollectionPanel(props) {\n  const accordionProps = {\n    collection: props.collection,\n    onToggle: props.onChangeAccordion,\n    expanded: props.selectedAccordionIndex === props.collection,\n    label: props.label\n  };\n  return /*#__PURE__*/react__WEBPACK_IMPORTED_MODULE_0___default.a.createElement(\"div\", {\n    \"data-testid\": \"instructure_links-CollectionPanel\"\n  }, /*#__PURE__*/react__WEBPACK_IMPORTED_MODULE_0___default.a.createElement(_AccordionSection_js__WEBPACK_IMPORTED_MODULE_3__[\"default\"], accordionProps, /*#__PURE__*/react__WEBPACK_IMPORTED_MODULE_0___default.a.createElement(_LinkSet_js__WEBPACK_IMPORTED_MODULE_4__[\"default\"], {\n    fetchInitialPage: function () {\n      if (props.fetchInitialPage) {\n        props.fetchInitialPage(props.collection, props.searchString);\n      }\n    },\n    fetchNextPage: function () {\n      if (props.fetchNextPage) {\n        props.fetchNextPage(props.collection, props.searchString);\n      }\n    },\n    type: props.collection,\n    collection: props.collections[props.collection],\n    onLinkClick: props.onLinkClick,\n    suppressRenderEmpty: props.suppressRenderEmpty,\n    contextType: props.contextType,\n    searchString: props.searchString\n  })));\n}\nCollectionPanel.propTypes = {\n  contextId: prop_types__WEBPACK_IMPORTED_MODULE_1__[\"string\"].isRequired,\n  contextType: prop_types__WEBPACK_IMPORTED_MODULE_1__[\"string\"].isRequired,\n  searchString: prop_types__WEBPACK_IMPORTED_MODULE_1__[\"string\"],\n  collections: _propTypes_js__WEBPACK_IMPORTED_MODULE_2__[\"collectionsShape\"].isRequired,\n  collection: prop_types__WEBPACK_IMPORTED_MODULE_1__[\"string\"].isRequired,\n  label: prop_types__WEBPACK_IMPORTED_MODULE_1__[\"string\"].isRequired,\n  renderNewPageLink: prop_types__WEBPACK_IMPORTED_MODULE_1__[\"bool\"],\n  suppressRenderEmpty: prop_types__WEBPACK_IMPORTED_MODULE_1__[\"bool\"],\n  fetchInitialPage: prop_types__WEBPACK_IMPORTED_MODULE_1__[\"func\"],\n  fetchNextPage: prop_types__WEBPACK_IMPORTED_MODULE_1__[\"func\"],\n  onLinkClick: prop_types__WEBPACK_IMPORTED_MODULE_1__[\"func\"],\n  newPageLinkExpanded: prop_types__WEBPACK_IMPORTED_MODULE_1__[\"bool\"],\n  toggleNewPageForm: prop_types__WEBPACK_IMPORTED_MODULE_1__[\"func\"],\n  onChangeAccordion: prop_types__WEBPACK_IMPORTED_MODULE_1__[\"func\"].isRequired,\n  selectedAccordionIndex: prop_types__WEBPACK_IMPORTED_MODULE_1__[\"string\"]\n};\nCollectionPanel.defaultProps = {\n  renderNewPageLink: false,\n  suppressRenderEmpty: false\n};\n\n//# sourceURL=webpack:///./packages/canvas-rce/es/rce/plugins/instructure_links/components/CollectionPanel.js?");

/***/ }),

/***/ "hjhN":
/*!**************************************************************************************!*\
  !*** ./packages/canvas-rce/es/rce/plugins/instructure_links/components/propTypes.js ***!
  \**************************************************************************************/
/*! exports provided: linkShape, linksShape, linkType, collectionsShape */
/***/ (function(module, __webpack_exports__, __webpack_require__) {

"use strict";
eval("__webpack_require__.r(__webpack_exports__);\n/* harmony export (binding) */ __webpack_require__.d(__webpack_exports__, \"linkShape\", function() { return linkShape; });\n/* harmony export (binding) */ __webpack_require__.d(__webpack_exports__, \"linksShape\", function() { return linksShape; });\n/* harmony export (binding) */ __webpack_require__.d(__webpack_exports__, \"linkType\", function() { return linkType; });\n/* harmony export (binding) */ __webpack_require__.d(__webpack_exports__, \"collectionsShape\", function() { return collectionsShape; });\n/* harmony import */ var prop_types__WEBPACK_IMPORTED_MODULE_0__ = __webpack_require__(/*! prop-types */ \"17x9\");\n/* harmony import */ var prop_types__WEBPACK_IMPORTED_MODULE_0___default = /*#__PURE__*/__webpack_require__.n(prop_types__WEBPACK_IMPORTED_MODULE_0__);\n/*\n * Copyright (C) 2018 - present Instructure, Inc.\n *\n * This file is part of Canvas.\n *\n * Canvas is free software: you can redistribute it and/or modify it under\n * the terms of the GNU Affero General Public License as published by the Free\n * Software Foundation, version 3 of the License.\n *\n * Canvas is distributed in the hope that it will be useful, but WITHOUT ANY\n * WARRANTY; without even the implied warranty of MERCHANTABILITY or FITNESS FOR\n * A PARTICULAR PURPOSE. See the GNU Affero General Public License for more\n * details.\n *\n * You should have received a copy of the GNU Affero General Public License along\n * with this program. If not, see <http://www.gnu.org/licenses/>.\n */\n\nconst linkShape = Object(prop_types__WEBPACK_IMPORTED_MODULE_0__[\"shape\"])({\n  href: prop_types__WEBPACK_IMPORTED_MODULE_0__[\"string\"].isRequired,\n  title: prop_types__WEBPACK_IMPORTED_MODULE_0__[\"string\"].isRequired,\n  published: prop_types__WEBPACK_IMPORTED_MODULE_0__[\"bool\"],\n  date: prop_types__WEBPACK_IMPORTED_MODULE_0__[\"string\"],\n  date_type: prop_types__WEBPACK_IMPORTED_MODULE_0__[\"string\"],\n  has_overrides: prop_types__WEBPACK_IMPORTED_MODULE_0__[\"bool\"]\n});\nconst linksShape = Object(prop_types__WEBPACK_IMPORTED_MODULE_0__[\"shape\"])({\n  hasMore: prop_types__WEBPACK_IMPORTED_MODULE_0__[\"bool\"],\n  isLoading: prop_types__WEBPACK_IMPORTED_MODULE_0__[\"bool\"],\n  lastError: prop_types__WEBPACK_IMPORTED_MODULE_0__[\"object\"],\n  links: Object(prop_types__WEBPACK_IMPORTED_MODULE_0__[\"arrayOf\"])(linkShape).isRequired\n});\nconst linkType = Object(prop_types__WEBPACK_IMPORTED_MODULE_0__[\"oneOf\"])(['assignments', 'discussions', 'modules', 'quizzes', 'announcements', 'wikiPages', 'navigation']);\nconst collectionsShape = Object(prop_types__WEBPACK_IMPORTED_MODULE_0__[\"shape\"])({\n  announcements: linksShape,\n  assignments: linksShape,\n  discussions: linksShape,\n  modules: linksShape,\n  quizzes: linksShape,\n  wikiPages: linksShape\n});\n\n//# sourceURL=webpack:///./packages/canvas-rce/es/rce/plugins/instructure_links/components/propTypes.js?");

/***/ }),

/***/ "io5o":
/*!*********************************************************************************!*\
  !*** ./packages/canvas-rce/es/rce/plugins/instructure_links/components/Link.js ***!
  \*********************************************************************************/
/*! exports provided: default */
/***/ (function(module, __webpack_exports__, __webpack_require__) {

"use strict";
eval("__webpack_require__.r(__webpack_exports__);\n/* harmony export (binding) */ __webpack_require__.d(__webpack_exports__, \"default\", function() { return Link; });\n/* harmony import */ var _babel_runtime_helpers_esm_slicedToArray__WEBPACK_IMPORTED_MODULE_0__ = __webpack_require__(/*! @babel/runtime/helpers/esm/slicedToArray */ \"ODXe\");\n/* harmony import */ var react__WEBPACK_IMPORTED_MODULE_1__ = __webpack_require__(/*! react */ \"q1tI\");\n/* harmony import */ var react__WEBPACK_IMPORTED_MODULE_1___default = /*#__PURE__*/__webpack_require__.n(react__WEBPACK_IMPORTED_MODULE_1__);\n/* harmony import */ var prop_types__WEBPACK_IMPORTED_MODULE_2__ = __webpack_require__(/*! prop-types */ \"17x9\");\n/* harmony import */ var prop_types__WEBPACK_IMPORTED_MODULE_2___default = /*#__PURE__*/__webpack_require__.n(prop_types__WEBPACK_IMPORTED_MODULE_2__);\n/* harmony import */ var _propTypes_js__WEBPACK_IMPORTED_MODULE_3__ = __webpack_require__(/*! ./propTypes.js */ \"hjhN\");\n/* harmony import */ var _format_message_js__WEBPACK_IMPORTED_MODULE_4__ = __webpack_require__(/*! ../../../../format-message.js */ \"NFDp\");\n/* harmony import */ var _contentRendering_js__WEBPACK_IMPORTED_MODULE_5__ = __webpack_require__(/*! ../../../contentRendering.js */ \"b5/e\");\n/* harmony import */ var _sidebar_dragHtml_js__WEBPACK_IMPORTED_MODULE_6__ = __webpack_require__(/*! ../../../../sidebar/dragHtml.js */ \"UWdZ\");\n/* harmony import */ var _instructure_ui_a11y_content__WEBPACK_IMPORTED_MODULE_7__ = __webpack_require__(/*! @instructure/ui-a11y-content */ \"9+/z\");\n/* harmony import */ var _instructure_ui_flex__WEBPACK_IMPORTED_MODULE_8__ = __webpack_require__(/*! @instructure/ui-flex */ \"N46v\");\n/* harmony import */ var _instructure_ui_view__WEBPACK_IMPORTED_MODULE_9__ = __webpack_require__(/*! @instructure/ui-view */ \"OkHH\");\n/* harmony import */ var _instructure_ui_text__WEBPACK_IMPORTED_MODULE_10__ = __webpack_require__(/*! @instructure/ui-text */ \"iE3e\");\n/* harmony import */ var _instructure_ui_focusable__WEBPACK_IMPORTED_MODULE_11__ = __webpack_require__(/*! @instructure/ui-focusable */ \"PdzK\");\n/* harmony import */ var _instructure_ui_svg_images__WEBPACK_IMPORTED_MODULE_12__ = __webpack_require__(/*! @instructure/ui-svg-images */ \"88AY\");\n/* harmony import */ var _instructure_ui_icons__WEBPACK_IMPORTED_MODULE_13__ = __webpack_require__(/*! @instructure/ui-icons */ \"oMAr\");\n\n\n/*\n * Copyright (C) 2019 - present Instructure, Inc.\n *\n * This file is part of Canvas.\n *\n * Canvas is free software: you can redistribute it and/or modify it under\n * the terms of the GNU Affero General Public License as published by the Free\n * Software Foundation, version 3 of the License.\n *\n * Canvas is distributed in the hope that it will be useful, but WITHOUT ANY\n * WARRANTY; without even the implied warranty of MERCHANTABILITY or FITNESS FOR\n * A PARTICULAR PURPOSE. See the GNU Affero General Public License for more\n * details.\n *\n * You should have received a copy of the GNU Affero General Public License along\n * with this program. If not, see <http://www.gnu.org/licenses/>.\n */\n\n\n\n\n\n\n\n\n\n\n\n\n\n\nfunction IconBlank() {\n  return /*#__PURE__*/react__WEBPACK_IMPORTED_MODULE_1___default.a.createElement(_instructure_ui_svg_images__WEBPACK_IMPORTED_MODULE_12__[\"SVGIcon\"], {\n    name: \"IconBlank\",\n    viewBox: \"0 0 1920 1920\"\n  }, /*#__PURE__*/react__WEBPACK_IMPORTED_MODULE_1___default.a.createElement(\"g\", {\n    role: \"presentation\"\n  }));\n}\n\nfunction getIcon(type) {\n  switch (type) {\n    case 'assignments':\n      return _instructure_ui_icons__WEBPACK_IMPORTED_MODULE_13__[\"IconAssignmentLine\"];\n\n    case 'discussions':\n      return _instructure_ui_icons__WEBPACK_IMPORTED_MODULE_13__[\"IconDiscussionLine\"];\n\n    case 'modules':\n      return _instructure_ui_icons__WEBPACK_IMPORTED_MODULE_13__[\"IconModuleLine\"];\n\n    case 'quizzes':\n      return _instructure_ui_icons__WEBPACK_IMPORTED_MODULE_13__[\"IconQuizLine\"];\n\n    case 'announcements':\n      return _instructure_ui_icons__WEBPACK_IMPORTED_MODULE_13__[\"IconAnnouncementLine\"];\n\n    case 'wikiPages':\n      return _instructure_ui_icons__WEBPACK_IMPORTED_MODULE_13__[\"IconDocumentLine\"];\n\n    case 'navigation':\n      return IconBlank;\n\n    default:\n      return _instructure_ui_icons__WEBPACK_IMPORTED_MODULE_13__[\"IconDocumentLine\"];\n  }\n}\n\nfunction Link(props) {\n  const _useState = Object(react__WEBPACK_IMPORTED_MODULE_1__[\"useState\"])(false),\n        _useState2 = Object(_babel_runtime_helpers_esm_slicedToArray__WEBPACK_IMPORTED_MODULE_0__[\"default\"])(_useState, 2),\n        isHovering = _useState2[0],\n        setIsHovering = _useState2[1];\n\n  const _props$link = props.link,\n        title = _props$link.title,\n        published = _props$link.published,\n        date = _props$link.date,\n        date_type = _props$link.date_type;\n  const Icon = getIcon(props.type);\n  const color = published ? 'success' : 'primary';\n  let dateString = null;\n\n  if (date) {\n    if (date === 'multiple') {\n      dateString = Object(_format_message_js__WEBPACK_IMPORTED_MODULE_4__[\"default\"])('Due: Multiple Dates');\n    } else {\n      const when = _format_message_js__WEBPACK_IMPORTED_MODULE_4__[\"default\"].date(Date.parse(date), 'long');\n\n      switch (date_type) {\n        case 'todo':\n          dateString = Object(_format_message_js__WEBPACK_IMPORTED_MODULE_4__[\"default\"])('To Do: {when}', {\n            when\n          });\n          break;\n\n        case 'published':\n          dateString = Object(_format_message_js__WEBPACK_IMPORTED_MODULE_4__[\"default\"])('Published: {when}', {\n            when\n          });\n          break;\n\n        case 'posted':\n          dateString = Object(_format_message_js__WEBPACK_IMPORTED_MODULE_4__[\"default\"])('Posted: {when}', {\n            when\n          });\n          break;\n\n        case 'delayed_post':\n          dateString = Object(_format_message_js__WEBPACK_IMPORTED_MODULE_4__[\"default\"])('To Be Posted: {when}', {\n            when\n          });\n          break;\n\n        case 'due':\n        default:\n          dateString = Object(_format_message_js__WEBPACK_IMPORTED_MODULE_4__[\"default\"])('Due: {when}', {\n            when\n          });\n          break;\n      }\n    }\n  }\n\n  const publishedMsg = props.link.published ? Object(_format_message_js__WEBPACK_IMPORTED_MODULE_4__[\"default\"])('published') : Object(_format_message_js__WEBPACK_IMPORTED_MODULE_4__[\"default\"])('unpublished');\n\n  function handleLinkClick(e) {\n    e.preventDefault();\n    props.onClick(props.link);\n  }\n\n  function handleLinkKey(e) {\n    // press the button on enter or space\n    if (e.keyCode === 13 || e.keyCode === 32) {\n      handleLinkClick(e);\n    }\n  }\n\n  function handleHover(e) {\n    setIsHovering(e.type === 'mouseenter');\n  }\n\n  return /*#__PURE__*/react__WEBPACK_IMPORTED_MODULE_1___default.a.createElement(\"div\", {\n    \"data-testid\": \"instructure_links-Link\",\n    draggable: true,\n    onDragStart: function (e) {\n      Object(_sidebar_dragHtml_js__WEBPACK_IMPORTED_MODULE_6__[\"default\"])(e, Object(_contentRendering_js__WEBPACK_IMPORTED_MODULE_5__[\"renderLink\"])(props.link, props.link.title));\n    },\n    onDragEnd: function () {\n      document.body.click(); // closes the tray\n    },\n    onMouseEnter: handleHover,\n    onMouseLeave: handleHover,\n    style: {\n      position: 'relative'\n    }\n  }, /*#__PURE__*/react__WEBPACK_IMPORTED_MODULE_1___default.a.createElement(_instructure_ui_focusable__WEBPACK_IMPORTED_MODULE_11__[\"Focusable\"], null, ({\n    focused\n  }) => /*#__PURE__*/react__WEBPACK_IMPORTED_MODULE_1___default.a.createElement(_instructure_ui_view__WEBPACK_IMPORTED_MODULE_9__[\"View\"], {\n    focused: focused,\n    focusPosition: \"inset\",\n    position: \"relative\",\n    as: \"div\",\n    role: \"button\",\n    tabIndex: \"0\",\n    background: \"primary\",\n    display: \"block\",\n    width: \"100%\",\n    borderWidth: \"0 0 small 0\",\n    padding: \"x-small\",\n    \"aria-describedby\": props.describedByID,\n    onClick: handleLinkClick,\n    onKeyDown: handleLinkKey,\n    elementRef: props.elementRef\n  }, /*#__PURE__*/react__WEBPACK_IMPORTED_MODULE_1___default.a.createElement(\"div\", {\n    style: {\n      pointerEvents: 'none'\n    }\n  }, /*#__PURE__*/react__WEBPACK_IMPORTED_MODULE_1___default.a.createElement(_instructure_ui_flex__WEBPACK_IMPORTED_MODULE_8__[\"Flex\"], null, /*#__PURE__*/react__WEBPACK_IMPORTED_MODULE_1___default.a.createElement(_instructure_ui_flex__WEBPACK_IMPORTED_MODULE_8__[\"Flex\"].Item, {\n    margin: \"0 xx-small 0 0\",\n    size: \"1.125rem\"\n  }, isHovering ? /*#__PURE__*/react__WEBPACK_IMPORTED_MODULE_1___default.a.createElement(_instructure_ui_icons__WEBPACK_IMPORTED_MODULE_13__[\"IconDragHandleLine\"], {\n    size: \"x-small\",\n    inline: false\n  }) : null), /*#__PURE__*/react__WEBPACK_IMPORTED_MODULE_1___default.a.createElement(_instructure_ui_flex__WEBPACK_IMPORTED_MODULE_8__[\"Flex\"].Item, {\n    grow: true,\n    shrink: true\n  }, /*#__PURE__*/react__WEBPACK_IMPORTED_MODULE_1___default.a.createElement(_instructure_ui_flex__WEBPACK_IMPORTED_MODULE_8__[\"Flex\"], null, /*#__PURE__*/react__WEBPACK_IMPORTED_MODULE_1___default.a.createElement(_instructure_ui_flex__WEBPACK_IMPORTED_MODULE_8__[\"Flex\"].Item, {\n    padding: \"0 x-small 0 0\"\n  }, /*#__PURE__*/react__WEBPACK_IMPORTED_MODULE_1___default.a.createElement(_instructure_ui_text__WEBPACK_IMPORTED_MODULE_10__[\"Text\"], {\n    color: color\n  }, /*#__PURE__*/react__WEBPACK_IMPORTED_MODULE_1___default.a.createElement(Icon, {\n    size: \"x-small\",\n    inline: false\n  }))), /*#__PURE__*/react__WEBPACK_IMPORTED_MODULE_1___default.a.createElement(_instructure_ui_flex__WEBPACK_IMPORTED_MODULE_8__[\"Flex\"].Item, {\n    padding: \"0 x-small 0 0\",\n    grow: true,\n    shrink: true,\n    textAlign: \"start\"\n  }, /*#__PURE__*/react__WEBPACK_IMPORTED_MODULE_1___default.a.createElement(_instructure_ui_view__WEBPACK_IMPORTED_MODULE_9__[\"View\"], {\n    as: \"div\",\n    margin: \"0\"\n  }, title), dateString ? /*#__PURE__*/react__WEBPACK_IMPORTED_MODULE_1___default.a.createElement(_instructure_ui_view__WEBPACK_IMPORTED_MODULE_9__[\"View\"], {\n    as: \"div\"\n  }, dateString) : null), 'published' in props.link && /*#__PURE__*/react__WEBPACK_IMPORTED_MODULE_1___default.a.createElement(_instructure_ui_flex__WEBPACK_IMPORTED_MODULE_8__[\"Flex\"].Item, null, /*#__PURE__*/react__WEBPACK_IMPORTED_MODULE_1___default.a.createElement(_instructure_ui_a11y_content__WEBPACK_IMPORTED_MODULE_7__[\"AccessibleContent\"], {\n    alt: publishedMsg\n  }, /*#__PURE__*/react__WEBPACK_IMPORTED_MODULE_1___default.a.createElement(_instructure_ui_text__WEBPACK_IMPORTED_MODULE_10__[\"Text\"], {\n    color: color\n  }, published ? /*#__PURE__*/react__WEBPACK_IMPORTED_MODULE_1___default.a.createElement(_instructure_ui_icons__WEBPACK_IMPORTED_MODULE_13__[\"IconPublishSolid\"], {\n    inline: false\n  }) : /*#__PURE__*/react__WEBPACK_IMPORTED_MODULE_1___default.a.createElement(_instructure_ui_icons__WEBPACK_IMPORTED_MODULE_13__[\"IconUnpublishedSolid\"], {\n    inline: false\n  })))))))))));\n}\nLink.propTypes = {\n  link: _propTypes_js__WEBPACK_IMPORTED_MODULE_3__[\"linkShape\"].isRequired,\n  type: Object(prop_types__WEBPACK_IMPORTED_MODULE_2__[\"oneOf\"])(['assignments', 'discussions', 'modules', 'quizzes', 'announcements', 'wikiPages', 'navigation']).isRequired,\n  onClick: prop_types__WEBPACK_IMPORTED_MODULE_2__[\"func\"].isRequired,\n  describedByID: prop_types__WEBPACK_IMPORTED_MODULE_2__[\"string\"].isRequired,\n  elementRef: prop_types__WEBPACK_IMPORTED_MODULE_2__[\"func\"]\n};\n\n//# sourceURL=webpack:///./packages/canvas-rce/es/rce/plugins/instructure_links/components/Link.js?");

/***/ }),

/***/ "mk8Q":
/*!********************************************************************************************!*\
  !*** ./packages/canvas-rce/es/rce/plugins/instructure_links/components/NavigationPanel.js ***!
  \********************************************************************************************/
/*! exports provided: default */
/***/ (function(module, __webpack_exports__, __webpack_require__) {

"use strict";
eval("__webpack_require__.r(__webpack_exports__);\n/* harmony export (binding) */ __webpack_require__.d(__webpack_exports__, \"default\", function() { return NavigationPanel; });\n/* harmony import */ var prop_types__WEBPACK_IMPORTED_MODULE_0__ = __webpack_require__(/*! prop-types */ \"17x9\");\n/* harmony import */ var prop_types__WEBPACK_IMPORTED_MODULE_0___default = /*#__PURE__*/__webpack_require__.n(prop_types__WEBPACK_IMPORTED_MODULE_0__);\n/* harmony import */ var react__WEBPACK_IMPORTED_MODULE_1__ = __webpack_require__(/*! react */ \"q1tI\");\n/* harmony import */ var react__WEBPACK_IMPORTED_MODULE_1___default = /*#__PURE__*/__webpack_require__.n(react__WEBPACK_IMPORTED_MODULE_1__);\n/* harmony import */ var _LinkSet_js__WEBPACK_IMPORTED_MODULE_2__ = __webpack_require__(/*! ./LinkSet.js */ \"vBY7\");\n/* harmony import */ var _format_message_js__WEBPACK_IMPORTED_MODULE_3__ = __webpack_require__(/*! ../../../../format-message.js */ \"NFDp\");\n/* harmony import */ var _AccordionSection_js__WEBPACK_IMPORTED_MODULE_4__ = __webpack_require__(/*! ./AccordionSection.js */ \"HBs+\");\n/*\n * Copyright (C) 2019 - present Instructure, Inc.\n *\n * This file is part of Canvas.\n *\n * Canvas is free software: you can redistribute it and/or modify it under\n * the terms of the GNU Affero General Public License as published by the Free\n * Software Foundation, version 3 of the License.\n *\n * Canvas is distributed in the hope that it will be useful, but WITHOUT ANY\n * WARRANTY; without even the implied warranty of MERCHANTABILITY or FITNESS FOR\n * A PARTICULAR PURPOSE. See the GNU Affero General Public License for more\n * details.\n *\n * You should have received a copy of the GNU Affero General Public License along\n * with this program. If not, see <http://www.gnu.org/licenses/>.\n */\n\n\n\n\n\n\nfunction typeCollection(contextId, contextType) {\n  switch (contextType) {\n    case 'course':\n      return {\n        links: [{\n          href: `/courses/${contextId}`,\n          title: Object(_format_message_js__WEBPACK_IMPORTED_MODULE_3__[\"default\"])('Home')\n        }, {\n          href: `/courses/${contextId}/announcements`,\n          title: Object(_format_message_js__WEBPACK_IMPORTED_MODULE_3__[\"default\"])('Announcements')\n        }, {\n          href: `/courses/${contextId}/assignments`,\n          title: Object(_format_message_js__WEBPACK_IMPORTED_MODULE_3__[\"default\"])('Assignments')\n        }, {\n          href: `/courses/${contextId}/discussion_topics`,\n          title: Object(_format_message_js__WEBPACK_IMPORTED_MODULE_3__[\"default\"])('Discussions')\n        }, {\n          href: `/courses/${contextId}/grades`,\n          title: Object(_format_message_js__WEBPACK_IMPORTED_MODULE_3__[\"default\"])('Grades')\n        }, {\n          href: `/courses/${contextId}/users`,\n          title: Object(_format_message_js__WEBPACK_IMPORTED_MODULE_3__[\"default\"])('People')\n        }, {\n          href: `/courses/${contextId}/pages`,\n          title: Object(_format_message_js__WEBPACK_IMPORTED_MODULE_3__[\"default\"])('Pages')\n        }, {\n          href: `/courses/${contextId}/files`,\n          title: Object(_format_message_js__WEBPACK_IMPORTED_MODULE_3__[\"default\"])('Files')\n        }, {\n          href: `/courses/${contextId}/assignments/syllabus`,\n          title: Object(_format_message_js__WEBPACK_IMPORTED_MODULE_3__[\"default\"])('Syllabus')\n        }, // outcomes\n        {\n          href: `/courses/${contextId}/quizzes`,\n          title: Object(_format_message_js__WEBPACK_IMPORTED_MODULE_3__[\"default\"])('Quizzes')\n        }, {\n          href: `/courses/${contextId}/modules`,\n          title: Object(_format_message_js__WEBPACK_IMPORTED_MODULE_3__[\"default\"])('Modules')\n        }, // conferences\n        {\n          href: `/courses/${contextId}/collaborations`,\n          title: Object(_format_message_js__WEBPACK_IMPORTED_MODULE_3__[\"default\"])('Collaborations')\n        } // settings\n        ]\n      };\n\n    case 'group':\n      return {\n        links: [{\n          href: `/groups/${contextId}/pages`,\n          title: Object(_format_message_js__WEBPACK_IMPORTED_MODULE_3__[\"default\"])('Wiki Home')\n        }, {\n          href: `/groups/${contextId}/discussion_topics`,\n          title: Object(_format_message_js__WEBPACK_IMPORTED_MODULE_3__[\"default\"])('Discussions Index')\n        }, {\n          href: `/groups/${contextId}/announcements`,\n          title: Object(_format_message_js__WEBPACK_IMPORTED_MODULE_3__[\"default\"])('Announcement List')\n        }, {\n          href: `/groups/${contextId}/files`,\n          title: Object(_format_message_js__WEBPACK_IMPORTED_MODULE_3__[\"default\"])('Files Index')\n        }, {\n          href: `/groups/${contextId}/collaborations`,\n          title: Object(_format_message_js__WEBPACK_IMPORTED_MODULE_3__[\"default\"])('Collaborations')\n        }, {\n          href: `/groups/${contextId}/users`,\n          title: Object(_format_message_js__WEBPACK_IMPORTED_MODULE_3__[\"default\"])('People')\n        }]\n      };\n\n    default:\n      // user, TODO\n      return {\n        links: [{\n          href: `/users/${contextId}/files`,\n          title: Object(_format_message_js__WEBPACK_IMPORTED_MODULE_3__[\"default\"])('Files Index')\n        }]\n      };\n  }\n}\n\nfunction NavigationPanel(props) {\n  const collection = typeCollection(props.contextId, props.contextType);\n  let navigationSummary = '';\n\n  if (props.contextType === 'course') {\n    navigationSummary = Object(_format_message_js__WEBPACK_IMPORTED_MODULE_3__[\"default\"])('Course Navigation');\n  } else if (props.contextType === 'group') {\n    navigationSummary = Object(_format_message_js__WEBPACK_IMPORTED_MODULE_3__[\"default\"])('Group Navigation');\n  } else {\n    return null;\n  }\n\n  return /*#__PURE__*/react__WEBPACK_IMPORTED_MODULE_1___default.a.createElement(\"div\", {\n    \"data-testid\": \"instructure_links-NavigationPanel\"\n  }, /*#__PURE__*/react__WEBPACK_IMPORTED_MODULE_1___default.a.createElement(_AccordionSection_js__WEBPACK_IMPORTED_MODULE_4__[\"default\"], {\n    collection: \"navigation\",\n    onToggle: props.onChangeAccordion,\n    expanded: props.selectedAccordionIndex === 'navigation',\n    label: navigationSummary\n  }, /*#__PURE__*/react__WEBPACK_IMPORTED_MODULE_1___default.a.createElement(_LinkSet_js__WEBPACK_IMPORTED_MODULE_2__[\"default\"], {\n    type: \"navigation\",\n    collection: collection,\n    onLinkClick: props.onLinkClick,\n    contextType: props.contextType\n  })));\n}\nNavigationPanel.propTypes = {\n  contextType: prop_types__WEBPACK_IMPORTED_MODULE_0__[\"string\"].isRequired,\n  contextId: prop_types__WEBPACK_IMPORTED_MODULE_0__[\"string\"].isRequired,\n  onChangeAccordion: prop_types__WEBPACK_IMPORTED_MODULE_0__[\"func\"].isRequired,\n  selectedAccordionIndex: prop_types__WEBPACK_IMPORTED_MODULE_0__[\"string\"],\n  onLinkClick: prop_types__WEBPACK_IMPORTED_MODULE_0__[\"func\"]\n};\n\n//# sourceURL=webpack:///./packages/canvas-rce/es/rce/plugins/instructure_links/components/NavigationPanel.js?");

/***/ }),

/***/ "vBY7":
/*!************************************************************************************!*\
  !*** ./packages/canvas-rce/es/rce/plugins/instructure_links/components/LinkSet.js ***!
  \************************************************************************************/
/*! exports provided: default */
/***/ (function(module, __webpack_exports__, __webpack_require__) {

"use strict";
eval("__webpack_require__.r(__webpack_exports__);\n/* harmony import */ var react__WEBPACK_IMPORTED_MODULE_0__ = __webpack_require__(/*! react */ \"q1tI\");\n/* harmony import */ var react__WEBPACK_IMPORTED_MODULE_0___default = /*#__PURE__*/__webpack_require__.n(react__WEBPACK_IMPORTED_MODULE_0__);\n/* harmony import */ var prop_types__WEBPACK_IMPORTED_MODULE_1__ = __webpack_require__(/*! prop-types */ \"17x9\");\n/* harmony import */ var prop_types__WEBPACK_IMPORTED_MODULE_1___default = /*#__PURE__*/__webpack_require__.n(prop_types__WEBPACK_IMPORTED_MODULE_1__);\n/* harmony import */ var _propTypes_js__WEBPACK_IMPORTED_MODULE_2__ = __webpack_require__(/*! ./propTypes.js */ \"hjhN\");\n/* harmony import */ var _format_message_js__WEBPACK_IMPORTED_MODULE_3__ = __webpack_require__(/*! ../../../../format-message.js */ \"NFDp\");\n/* harmony import */ var _instructure_ui_a11y_content__WEBPACK_IMPORTED_MODULE_4__ = __webpack_require__(/*! @instructure/ui-a11y-content */ \"9+/z\");\n/* harmony import */ var _instructure_ui_list__WEBPACK_IMPORTED_MODULE_5__ = __webpack_require__(/*! @instructure/ui-list */ \"dbzd\");\n/* harmony import */ var _instructure_ui_view__WEBPACK_IMPORTED_MODULE_6__ = __webpack_require__(/*! @instructure/ui-view */ \"OkHH\");\n/* harmony import */ var _instructure_uid__WEBPACK_IMPORTED_MODULE_7__ = __webpack_require__(/*! @instructure/uid */ \"oxAU\");\n/* harmony import */ var _common_incremental_loading_index_js__WEBPACK_IMPORTED_MODULE_8__ = __webpack_require__(/*! ../../../../common/incremental-loading/index.js */ \"NDVl\");\n/* harmony import */ var _Link_js__WEBPACK_IMPORTED_MODULE_9__ = __webpack_require__(/*! ./Link.js */ \"io5o\");\n/*\n * Copyright (C) 2019 - present Instructure, Inc.\n *\n * This file is part of Canvas.\n *\n * Canvas is free software: you can redistribute it and/or modify it under\n * the terms of the GNU Affero General Public License as published by the Free\n * Software Foundation, version 3 of the License.\n *\n * Canvas is distributed in the hope that it will be useful, but WITHOUT ANY\n * WARRANTY; without even the implied warranty of MERCHANTABILITY or FITNESS FOR\n * A PARTICULAR PURPOSE. See the GNU Affero General Public License for more\n * details.\n *\n * You should have received a copy of the GNU Affero General Public License along\n * with this program. If not, see <http://www.gnu.org/licenses/>.\n */\n\n\n\n\n\n\n\n\n\n\n/*\n * This is needed only as long as `LinkSet` is a class component.\n */\n\nfunction IncrementalLoader(props) {\n  const children = props.children,\n        collection = props.collection,\n        fetchInitialPage = props.fetchInitialPage,\n        fetchNextPage = props.fetchNextPage,\n        contextType = props.contextType,\n        searchString = props.searchString;\n  const hasMore = collection.hasMore,\n        isLoading = collection.isLoading,\n        links = collection.links;\n  const lastItemRef = Object(react__WEBPACK_IMPORTED_MODULE_0__[\"useRef\"])(null);\n  const loader = Object(_common_incremental_loading_index_js__WEBPACK_IMPORTED_MODULE_8__[\"useIncrementalLoading\"])({\n    hasMore: hasMore && fetchNextPage != null,\n    isLoading,\n    lastItemRef,\n    contextType,\n    sortBy: {\n      sort: 'alphabetical',\n      order: 'asc'\n    },\n    // not actually used in the query, but a required param\n    searchString,\n\n    onLoadInitial() {\n      if (fetchInitialPage) {\n        fetchInitialPage();\n      }\n    },\n\n    onLoadMore() {\n      fetchNextPage();\n    },\n\n    records: links\n  });\n  return children({\n    loader,\n    lastItemRef\n  });\n}\n\nclass LinkSet extends react__WEBPACK_IMPORTED_MODULE_0__[\"Component\"] {\n  constructor(props) {\n    super(props);\n    this.describedByID = `rce-LinkSet-describedBy-${Object(_instructure_uid__WEBPACK_IMPORTED_MODULE_7__[\"default\"])()}`;\n    this.loadMoreButtonRef = null;\n  }\n\n  hasLinks(props) {\n    return props.collection.links.length > 0;\n  }\n\n  isEmpty(props) {\n    return !this.hasLinks(props) && !props.collection.hasMore && !props.collection.isLoading;\n  }\n\n  renderLinks(lastItemRef) {\n    function refFor(index, array) {\n      if (!lastItemRef || index !== array.length - 1) {\n        return null;\n      } // Return a compatible callback ref for InstUI\n\n\n      return ref => {\n        lastItemRef.current = ref;\n      };\n    }\n\n    return /*#__PURE__*/react__WEBPACK_IMPORTED_MODULE_0___default.a.createElement(react__WEBPACK_IMPORTED_MODULE_0___default.a.Fragment, null, /*#__PURE__*/react__WEBPACK_IMPORTED_MODULE_0___default.a.createElement(_instructure_ui_a11y_content__WEBPACK_IMPORTED_MODULE_4__[\"ScreenReaderContent\"], {\n      id: this.describedByID\n    }, Object(_format_message_js__WEBPACK_IMPORTED_MODULE_3__[\"default\"])('Click to insert a link into the editor.')), /*#__PURE__*/react__WEBPACK_IMPORTED_MODULE_0___default.a.createElement(_instructure_ui_list__WEBPACK_IMPORTED_MODULE_5__[\"List\"], {\n      variant: \"unstyled\",\n      as: \"ul\",\n      margin: \"0\"\n    }, this.props.collection.links.map((link, index, array) => /*#__PURE__*/react__WEBPACK_IMPORTED_MODULE_0___default.a.createElement(_instructure_ui_list__WEBPACK_IMPORTED_MODULE_5__[\"List\"].Item, {\n      key: link.href,\n      spacing: \"none\",\n      padding: \"0\"\n    }, /*#__PURE__*/react__WEBPACK_IMPORTED_MODULE_0___default.a.createElement(_Link_js__WEBPACK_IMPORTED_MODULE_9__[\"default\"], {\n      link: link,\n      type: this.props.type,\n      onClick: this.props.onLinkClick,\n      describedByID: this.describedByID,\n      elementRef: refFor(index, array)\n    })))));\n  }\n\n  renderEmptyIndicator() {\n    return /*#__PURE__*/react__WEBPACK_IMPORTED_MODULE_0___default.a.createElement(_instructure_ui_view__WEBPACK_IMPORTED_MODULE_6__[\"View\"], {\n      as: \"div\",\n      padding: \"medium\"\n    }, Object(_format_message_js__WEBPACK_IMPORTED_MODULE_3__[\"default\"])('No results.'));\n  }\n\n  renderLoadingError() {\n    if (this.props.collection.lastError) {\n      return /*#__PURE__*/react__WEBPACK_IMPORTED_MODULE_0___default.a.createElement(\"span\", {\n        className: \"rcs-LinkSet-LoadFailed\",\n        role: \"alert\"\n      }, Object(_format_message_js__WEBPACK_IMPORTED_MODULE_3__[\"default\"])('Loading failed...'));\n    }\n\n    return null;\n  }\n\n  render() {\n    return /*#__PURE__*/react__WEBPACK_IMPORTED_MODULE_0___default.a.createElement(IncrementalLoader, this.props, ({\n      loader,\n      lastItemRef\n    }) => /*#__PURE__*/react__WEBPACK_IMPORTED_MODULE_0___default.a.createElement(react__WEBPACK_IMPORTED_MODULE_0___default.a.Fragment, null, /*#__PURE__*/react__WEBPACK_IMPORTED_MODULE_0___default.a.createElement(\"div\", {\n      \"data-testid\": \"instructure_links-LinkSet\"\n    }, this.hasLinks(this.props) && this.renderLinks(lastItemRef), this.renderLoadingError(), loader.isLoading && /*#__PURE__*/react__WEBPACK_IMPORTED_MODULE_0___default.a.createElement(_common_incremental_loading_index_js__WEBPACK_IMPORTED_MODULE_8__[\"LoadingIndicator\"], {\n      loader: loader\n    }), !loader.isLoading && loader.hasMore && /*#__PURE__*/react__WEBPACK_IMPORTED_MODULE_0___default.a.createElement(_common_incremental_loading_index_js__WEBPACK_IMPORTED_MODULE_8__[\"LoadMoreButton\"], {\n      loader: loader\n    }), this.isEmpty(this.props) && !this.props.suppressRenderEmpty && this.renderEmptyIndicator()), /*#__PURE__*/react__WEBPACK_IMPORTED_MODULE_0___default.a.createElement(_common_incremental_loading_index_js__WEBPACK_IMPORTED_MODULE_8__[\"LoadingStatus\"], {\n      loader: loader\n    })));\n  }\n\n}\n\nLinkSet.propTypes = {\n  type: _propTypes_js__WEBPACK_IMPORTED_MODULE_2__[\"linkType\"].isRequired,\n  collection: _propTypes_js__WEBPACK_IMPORTED_MODULE_2__[\"linksShape\"].isRequired,\n  onLinkClick: prop_types__WEBPACK_IMPORTED_MODULE_1__[\"func\"].isRequired,\n  contextType: prop_types__WEBPACK_IMPORTED_MODULE_1__[\"string\"].isRequired,\n  fetchInitialPage: prop_types__WEBPACK_IMPORTED_MODULE_1__[\"func\"],\n  fetchNextPage: prop_types__WEBPACK_IMPORTED_MODULE_1__[\"func\"],\n  suppressRenderEmpty: prop_types__WEBPACK_IMPORTED_MODULE_1__[\"bool\"],\n  searchString: prop_types__WEBPACK_IMPORTED_MODULE_1__[\"string\"]\n};\n/* harmony default export */ __webpack_exports__[\"default\"] = (LinkSet);\n\n//# sourceURL=webpack:///./packages/canvas-rce/es/rce/plugins/instructure_links/components/LinkSet.js?");

/***/ })

}]);