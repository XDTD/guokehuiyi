(window["canvasWebpackJsonp"] = window["canvasWebpackJsonp"] || []).push([["mobile_login"],{

/***/ "sS6p":
/*!****************************************************************************************!*\
  !*** ./frontend_build/i18n.js?pseudonyms_mobile_login!./ui/shims/dummyI18nResource.js ***!
  \****************************************************************************************/
/*! exports provided: default */
/***/ (function(module, __webpack_exports__, __webpack_require__) {

"use strict";
eval("__webpack_require__.r(__webpack_exports__);\n/* harmony import */ var _canvas_i18n_i18nObj__WEBPACK_IMPORTED_MODULE_0__ = __webpack_require__(/*! @canvas/i18n/i18nObj */ \"HGxv\");\n/* harmony import */ var translations_core_en__WEBPACK_IMPORTED_MODULE_1__ = __webpack_require__(/*! translations/_core_en */ \"0sPK\");\n\n    \n    \n    \n\n    /* harmony default export */ __webpack_exports__[\"default\"] = (_canvas_i18n_i18nObj__WEBPACK_IMPORTED_MODULE_0__[\"default\"].scoped('pseudonyms_mobile_login'));\n  \n\n//# sourceURL=webpack:///./ui/shims/dummyI18nResource.js?./frontend_build/i18n.js?pseudonyms_mobile_login");

/***/ }),

/***/ "z+3v":
/*!*******************************************!*\
  !*** ./ui/features/mobile_login/index.js ***!
  \*******************************************/
/*! no exports provided */
/***/ (function(module, __webpack_exports__, __webpack_require__) {

"use strict";
eval("__webpack_require__.r(__webpack_exports__);\n/* harmony import */ var i18n_pseudonyms_mobile_login__WEBPACK_IMPORTED_MODULE_0__ = __webpack_require__(/*! i18n!pseudonyms_mobile_login */ \"sS6p\");\n/* harmony import */ var _canvas_signup_dialog__WEBPACK_IMPORTED_MODULE_1__ = __webpack_require__(/*! @canvas/signup-dialog */ \"Args\");\n/* harmony import */ var _instructure_ready__WEBPACK_IMPORTED_MODULE_2__ = __webpack_require__(/*! @instructure/ready */ \"3lLS\");\n/* harmony import */ var _instructure_ready__WEBPACK_IMPORTED_MODULE_2___default = /*#__PURE__*/__webpack_require__.n(_instructure_ready__WEBPACK_IMPORTED_MODULE_2__);\n/*\n * Copyright (C) 2018 - present Instructure, Inc.\n *\n * This file is part of Canvas.\n *\n * Canvas is free software: you can redistribute it and/or modify it under\n * the terms of the GNU Affero General Public License as published by the Free\n * Software Foundation, version 3 of the License.\n *\n * Canvas is distributed in the hope that it will be useful, but WITHOUT ANY\n * WARRANTY without even the implied warranty of MERCHANTABILITY or FITNESS FOR\n * A PARTICULAR PURPOSE. See the GNU Affero General Public License for more\n * details.\n *\n * You should have received a copy of the GNU Affero General Public License along\n * with this program. If not, see <http://www.gnu.org/licenses/>.\n */\n\n\n\nconst eventToBindTo = 'click';\n_instructure_ready__WEBPACK_IMPORTED_MODULE_2___default()(() => {\n  setupForgotPassword();\n  setupParentSignup();\n});\n\nfunction setupParentSignup() {\n  const element = document.querySelector('#coenrollment_link a');\n\n  if (element) {\n    element.addEventListener(eventToBindTo, e => {\n      e.preventDefault();\n      const template = element.getAttribute('data-template');\n      const path = element.getAttribute('data-path');\n      Object(_canvas_signup_dialog__WEBPACK_IMPORTED_MODULE_1__[\"default\"])(template, i18n_pseudonyms_mobile_login__WEBPACK_IMPORTED_MODULE_0__[\"default\"].t('parent_signup', 'Parent Signup'), path);\n    });\n  }\n}\n\nfunction setupForgotPassword() {\n  const $front_back_container = document.querySelector('#f1_container');\n  const $flip_to_back = document.querySelector('.flip-to-back');\n  const $forgot_password_form = document.querySelector('#forgot_password_form');\n  const uniqueIdInput = document.querySelector('#pseudonym_session_unique_id_forgot');\n\n  if ($flip_to_back) {\n    $flip_to_back.addEventListener(eventToBindTo, event => {\n      event.preventDefault();\n      addClass($front_back_container, 'flipped');\n      setFocus(uniqueIdInput);\n    });\n  }\n\n  document.querySelector('.flip-to-front').addEventListener(eventToBindTo, event => {\n    event.preventDefault();\n    removeClass($front_back_container, 'flipped');\n  });\n  $forgot_password_form.addEventListener('submit', event => {\n    const $button = $forgot_password_form.querySelector('.request-password-button');\n    const uniqueIdValue = uniqueIdInput.value.trim();\n    if (!uniqueIdValue) return false;\n    $button.disabled = true;\n    $button.textContent = $button.getAttribute('data-text-while-loading');\n    event.preventDefault();\n    ajax({\n      type: 'POST',\n      url: '/forgot_password',\n      data: `authenticity_token=${encodeURIComponent($forgot_password_form.querySelector('input[name=authenticity_token]').value)}\n            &pseudonym_session%5Bunique_id_forgot%5D=${encodeURIComponent(uniqueIdValue)}`,\n\n      success() {\n        $button.disabled = false;\n        $button.textContent = $button.getAttribute('data-text-when-loaded');\n      },\n\n      error() {\n        $button.textContent = $button.getAttribute('data-text-on-error');\n      }\n\n    });\n  });\n}\n\nfunction setFocus(element) {\n  element.focus();\n}\n\nfunction addClass(element, name) {\n  removeClass(element, name);\n  element.className += ` ${name}`;\n}\n\nfunction removeClass(element, name) {\n  const regex = new RegExp(`(^|\\\\s)${name}(\\\\s|$)`);\n  element.className = element.className.replace(regex, '');\n}\n\nfunction ajax(options) {\n  const xhr = new window.XMLHttpRequest();\n  options.headers = options.headers || {};\n  options.headers['X-Requested-With'] = 'XMLHttpRequest';\n  if (options.data && !options.contentType) options.contentType = 'application/x-www-form-urlencoded';\n  if (options.contentType) options.headers['Content-Type'] = options.contentType;\n\n  xhr.onreadystatechange = () => {\n    if (xhr.readyState === 4) {\n      let error = false;\n\n      if (xhr.status >= 200 && xhr.status < 300 || xhr.status === 0) {\n        if (options.success) options.success.call(options.context, xhr.responseText, 'success', xhr);\n      } else {\n        error = true;\n        if (options.error) options.error.call(options.context, xhr, 'error');\n      }\n\n      if (options.complete) options.complete.call(options.context, xhr, error ? 'error' : 'success');\n    }\n  };\n\n  xhr.open(options.type, options.url, true);\n  Object.keys(options.headers).forEach(name => xhr.setRequestHeader(name, options.headers[name]));\n  xhr.send(options.data);\n  return xhr;\n}\n\n//# sourceURL=webpack:///./ui/features/mobile_login/index.js?");

/***/ })

}]);