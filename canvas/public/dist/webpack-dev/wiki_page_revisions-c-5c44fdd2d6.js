(window["canvasWebpackJsonp"] = window["canvasWebpackJsonp"] || []).push([["wiki_page_revisions"],{

/***/ "23XJ":
/*!******************************************************************!*\
  !*** ./ui/features/wiki_page_revisions/jquery/floatingSticky.js ***!
  \******************************************************************/
/*! exports provided: default */
/***/ (function(module, __webpack_exports__, __webpack_require__) {

"use strict";
eval("__webpack_require__.r(__webpack_exports__);\n/* harmony import */ var jquery__WEBPACK_IMPORTED_MODULE_0__ = __webpack_require__(/*! jquery */ \"ouhR\");\n/* harmony import */ var jquery__WEBPACK_IMPORTED_MODULE_0___default = /*#__PURE__*/__webpack_require__.n(jquery__WEBPACK_IMPORTED_MODULE_0__);\n//\n// Copyright (C) 2013 - present Instructure, Inc.\n//\n// This file is part of Canvas.\n//\n// Canvas is free software: you can redistribute it and/or modify it under\n// the terms of the GNU Affero General Public License as published by the Free\n// Software Foundation, version 3 of the License.\n//\n// Canvas is distributed in the hope that it will be useful, but WITHOUT ANY\n// WARRANTY; without even the implied warranty of MERCHANTABILITY or FITNESS FOR\n// A PARTICULAR PURPOSE. See the GNU Affero General Public License for more\n// details.\n//\n// You should have received a copy of the GNU Affero General Public License along\n// with this program. If not, see <http://www.gnu.org/licenses/>.\n // Floating sticky\n//\n// allows an element to float (using fixed positioning) as the user\n// scrolls, \"sticking\" to the top of the window. the difference from\n// a regular sticky implementation is that the element is constrained\n// by a containing element (or top and bottom elements), allowing the\n// element to float and stick, but only within the given bounds.\n//\n// to use, simply call .floatingSticky(containing_element) on a\n// jQuery object. optionally the top or bottom constraining element\n// can be overridden by providing {top:...} or {bottom:...} as the\n// last argument when calling .floatingSticky(...).\n//\n// the returned array has a floating sticky instance for each object\n// in the jQuery set, allowing calls to reposition() (in case the\n// element should be repositioned outside of a scroll/resize event)\n// or remove() to remove the floating sticky instance from the\n// element.\n\nlet instanceID = 0;\n\nclass FloatingSticky {\n  constructor(el, container, options = {}) {\n    this.instanceID = `floatingSticky${instanceID++}`;\n    this.$window = jquery__WEBPACK_IMPORTED_MODULE_0___default()(window);\n    this.$el = jquery__WEBPACK_IMPORTED_MODULE_0___default()(el);\n    this.$top = jquery__WEBPACK_IMPORTED_MODULE_0___default()(options.top || container);\n    this.$bottom = jquery__WEBPACK_IMPORTED_MODULE_0___default()(options.bottom || container);\n    this.$el.data('floatingSticky', this);\n    this.$window.on(`scroll.${this.instanceID} resize.${this.instanceID}`, () => this.reposition());\n    this.reposition();\n  }\n\n  remove() {\n    this.$window.off(this.instanceID);\n    return this.$el.data('floatingSticky', null);\n  }\n\n  reposition() {\n    let newTop;\n    let windowTop = this.$window.scrollTop();\n    const windowHeight = this.$window.height(); // handle overscroll (up or down)\n\n    if (windowTop < 0) {\n      windowTop = 0;\n    } else {\n      windowTop = Math.min(windowTop, document.body.scrollHeight - windowHeight);\n    } // handle top of container\n\n\n    const containerTop = this.$top.offset().top;\n\n    if (windowTop < containerTop) {\n      if (windowTop === 0) {\n        newTop = containerTop;\n      } else {\n        newTop = containerTop - windowTop;\n      } // handle bottom of container\n\n    } else {\n      newTop = 0;\n      const elHeight = this.$el.height();\n      const containerBottom = this.$bottom.offset().top + this.$bottom.height(); // stay within the container\n\n      if (windowTop + elHeight > containerBottom) {\n        newTop = containerBottom - elHeight - windowTop;\n      } // but don't go above the container\n\n\n      if (newTop < containerTop - windowTop) {\n        newTop = containerTop - windowTop;\n      }\n    }\n\n    return this.$el.css({\n      top: newTop\n    });\n  }\n\n}\n\njquery__WEBPACK_IMPORTED_MODULE_0___default.a.fn.floatingSticky = function (container, options = {}) {\n  return this.map(function () {\n    return jquery__WEBPACK_IMPORTED_MODULE_0___default()(this).data('floatingSticky') || new FloatingSticky(this, container, options);\n  });\n};\n\n/* harmony default export */ __webpack_exports__[\"default\"] = (FloatingSticky);\n\n//# sourceURL=webpack:///./ui/features/wiki_page_revisions/jquery/floatingSticky.js?");

/***/ }),

/***/ "5WIz":
/*!***************************************************************************************!*\
  !*** ./frontend_build/i18n.js?wiki.wiki_page_content!./ui/shims/dummyI18nResource.js ***!
  \***************************************************************************************/
/*! exports provided: default */
/***/ (function(module, __webpack_exports__, __webpack_require__) {

"use strict";
eval("__webpack_require__.r(__webpack_exports__);\n/* harmony import */ var _canvas_i18n_i18nObj__WEBPACK_IMPORTED_MODULE_0__ = __webpack_require__(/*! @canvas/i18n/i18nObj */ \"HGxv\");\n/* harmony import */ var translations_core_en__WEBPACK_IMPORTED_MODULE_1__ = __webpack_require__(/*! translations/_core_en */ \"0sPK\");\n\n    \n    \n    \n\n    /* harmony default export */ __webpack_exports__[\"default\"] = (_canvas_i18n_i18nObj__WEBPACK_IMPORTED_MODULE_0__[\"default\"].scoped('wiki.wiki_page_content'));\n  \n\n//# sourceURL=webpack:///./ui/shims/dummyI18nResource.js?./frontend_build/i18n.js?wiki.wiki_page_content");

/***/ }),

/***/ "9P8q":
/*!********************************************************!*\
  !*** ./ui/shared/wiki/backbone/models/WikiPage.coffee ***!
  \********************************************************/
/*! exports provided: default */
/***/ (function(module, __webpack_exports__, __webpack_require__) {

"use strict";
eval("__webpack_require__.r(__webpack_exports__);\n/* harmony import */ var underscore__WEBPACK_IMPORTED_MODULE_0__ = __webpack_require__(/*! underscore */ \"Y/W1\");\n/* harmony import */ var underscore__WEBPACK_IMPORTED_MODULE_0___default = /*#__PURE__*/__webpack_require__.n(underscore__WEBPACK_IMPORTED_MODULE_0__);\n/* harmony import */ var _canvas_backbone__WEBPACK_IMPORTED_MODULE_1__ = __webpack_require__(/*! @canvas/backbone */ \"mX+G\");\n/* harmony import */ var _canvas_backbone__WEBPACK_IMPORTED_MODULE_1___default = /*#__PURE__*/__webpack_require__.n(_canvas_backbone__WEBPACK_IMPORTED_MODULE_1__);\n/* harmony import */ var _WikiPageRevision_coffee__WEBPACK_IMPORTED_MODULE_2__ = __webpack_require__(/*! ./WikiPageRevision.coffee */ \"W2TM\");\n/* harmony import */ var _canvas_assignments_backbone_models_Assignment_coffee__WEBPACK_IMPORTED_MODULE_3__ = __webpack_require__(/*! @canvas/assignments/backbone/models/Assignment.coffee */ \"ygkh\");\n/* harmony import */ var _canvas_backbone_DefaultUrlMixin__WEBPACK_IMPORTED_MODULE_4__ = __webpack_require__(/*! @canvas/backbone/DefaultUrlMixin */ \"2gWY\");\n/* harmony import */ var _canvas_util_splitAssetString__WEBPACK_IMPORTED_MODULE_5__ = __webpack_require__(/*! @canvas/util/splitAssetString */ \"s9Pr\");\n/* harmony import */ var i18n_pages__WEBPACK_IMPORTED_MODULE_6__ = __webpack_require__(/*! i18n!pages */ \"lH+4\");\nvar WikiPage, pageOptions,\n  extend = function(child, parent) { for (var key in parent) { if (hasProp.call(parent, key)) child[key] = parent[key]; } function ctor() { this.constructor = child; } ctor.prototype = parent.prototype; child.prototype = new ctor(); child.__super__ = parent.prototype; return child; },\n  hasProp = {}.hasOwnProperty;\n\n\n\n\n\n\n\n\n\n\n\n\n\n\n\npageOptions = ['contextAssetString', 'revision'];\n\n/* harmony default export */ __webpack_exports__[\"default\"] = (WikiPage = (function(superClass) {\n  extend(WikiPage, superClass);\n\n  function WikiPage() {\n    return WikiPage.__super__.constructor.apply(this, arguments);\n  }\n\n  WikiPage.mixin(_canvas_backbone_DefaultUrlMixin__WEBPACK_IMPORTED_MODULE_4__[\"default\"]);\n\n  WikiPage.prototype.resourceName = 'pages';\n\n  WikiPage.prototype.idAttribute = 'page_id';\n\n  WikiPage.prototype.initialize = function(attributes, options) {\n    var ref;\n    WikiPage.__super__.initialize.apply(this, arguments);\n    Object.assign(this, underscore__WEBPACK_IMPORTED_MODULE_0___default.a.pick(options || {}, pageOptions));\n    if (this.contextAssetString) {\n      ref = Object(_canvas_util_splitAssetString__WEBPACK_IMPORTED_MODULE_5__[\"default\"])(this.contextAssetString), this.contextName = ref[0], this.contextId = ref[1];\n    }\n    this.on('change:front_page', this.setPublishable);\n    this.on('change:published', this.setPublishable);\n    return this.setPublishable();\n  };\n\n  WikiPage.prototype.setPublishable = function() {\n    var deletable, front_page, publishable, published;\n    front_page = this.get('front_page');\n    published = this.get('published');\n    publishable = !front_page || !published;\n    deletable = !front_page;\n    this.set('publishable', publishable);\n    this.set('deletable', deletable);\n    if (publishable) {\n      return this.unset('publishableMessage');\n    } else {\n      return this.set('publishableMessage', i18n_pages__WEBPACK_IMPORTED_MODULE_6__[\"default\"].t('cannot_unpublish_front_page', 'Cannot unpublish the front page'));\n    }\n  };\n\n  WikiPage.prototype.disabledMessage = function() {\n    return this.get('publishableMessage');\n  };\n\n  WikiPage.prototype.urlRoot = function() {\n    return \"/api/v1/\" + (this._contextPath()) + \"/pages\";\n  };\n\n  WikiPage.prototype.url = function() {\n    if (this.get('url')) {\n      return (this.urlRoot()) + \"/\" + (this.get('url'));\n    } else {\n      return this.urlRoot();\n    }\n  };\n\n  WikiPage.prototype.latestRevision = function(options) {\n    var revisionOptions;\n    if (!this._latestRevision && this.get('url')) {\n      if (!this._latestRevision) {\n        revisionOptions = Object.assign({}, {\n          contextAssetString: this.contextAssetString,\n          page: this,\n          pageUrl: this.get('url'),\n          latest: true,\n          summary: true\n        }, options);\n        this._latestRevision = new _WikiPageRevision_coffee__WEBPACK_IMPORTED_MODULE_2__[\"default\"]({\n          revision_id: this.revision\n        }, revisionOptions);\n      }\n    }\n    return this._latestRevision;\n  };\n\n  WikiPage.prototype.parse = function(response, options) {\n    var assign_attributes;\n    if (response.wiki_page) {\n      response = underscore__WEBPACK_IMPORTED_MODULE_0___default.a.extend(underscore__WEBPACK_IMPORTED_MODULE_0___default.a.omit(response, 'wiki_page'), response.wiki_page);\n    }\n    response.set_assignment = (response.assignment != null) && response.assignment.only_visible_to_overrides;\n    assign_attributes = response.assignment || {};\n    response.assignment = this.createAssignment(assign_attributes);\n    return response;\n  };\n\n  WikiPage.prototype.createAssignment = function(attributes) {\n    var a;\n    a = new _canvas_assignments_backbone_models_Assignment_coffee__WEBPACK_IMPORTED_MODULE_3__[\"default\"](attributes);\n    a.alreadyScoped = true;\n    return a;\n  };\n\n  WikiPage.prototype.toJSON = function() {\n    var json, ref;\n    json = WikiPage.__super__.toJSON.apply(this, arguments);\n    if (!json.set_assignment) {\n      delete json.assignment;\n    }\n    json.assignment = (ref = json.assignment) != null ? ref.toJSON() : void 0;\n    return {\n      wiki_page: json\n    };\n  };\n\n  WikiPage.prototype.present = function() {\n    return Object.assign({}, this.attributes, {\n      contextName: this.contextName,\n      contextId: this.contextId,\n      new_record: !this.get('url')\n    });\n  };\n\n  WikiPage.prototype.duplicate = function(courseId, callback) {\n    return $.ajaxJSON(\"/api/v1/courses/\" + courseId + \"/pages/\" + this.id + \"/duplicate\", 'POST', {}, callback);\n  };\n\n  WikiPage.prototype.publish = function() {\n    var attrs;\n    attrs = {\n      wiki_page: {\n        published: true\n      }\n    };\n    return this.save(attrs, {\n      attrs: attrs,\n      wait: true\n    });\n  };\n\n  WikiPage.prototype.unpublish = function() {\n    var attrs;\n    attrs = {\n      wiki_page: {\n        published: false\n      }\n    };\n    return this.save(attrs, {\n      attrs: attrs,\n      wait: true\n    });\n  };\n\n  WikiPage.prototype.setFrontPage = function(callback) {\n    var attrs;\n    attrs = {\n      wiki_page: {\n        front_page: true\n      }\n    };\n    return this.save(attrs, {\n      attrs: attrs,\n      wait: true,\n      complete: callback\n    });\n  };\n\n  WikiPage.prototype.unsetFrontPage = function() {\n    var attrs;\n    attrs = {\n      wiki_page: {\n        front_page: false\n      }\n    };\n    return this.save(attrs, {\n      attrs: attrs,\n      wait: true\n    });\n  };\n\n  return WikiPage;\n\n})(_canvas_backbone__WEBPACK_IMPORTED_MODULE_1___default.a.Model));\n\n\n//# sourceURL=webpack:///./ui/shared/wiki/backbone/models/WikiPage.coffee?");

/***/ }),

/***/ "DrMR":
/*!*****************************************************************!*\
  !*** ./ui/shared/backbone-collection-view/jst/index.handlebars ***!
  \*****************************************************************/
/*! exports provided: default */
/***/ (function(module, __webpack_exports__, __webpack_require__) {

"use strict";
eval("__webpack_require__.r(__webpack_exports__);\n/* harmony import */ var handlebars_runtime__WEBPACK_IMPORTED_MODULE_0__ = __webpack_require__(/*! handlebars/runtime */ \"3O+N\");\n/* harmony import */ var handlebars_runtime__WEBPACK_IMPORTED_MODULE_0___default = /*#__PURE__*/__webpack_require__.n(handlebars_runtime__WEBPACK_IMPORTED_MODULE_0__);\n/* harmony import */ var _canvas_handlebars_helpers_index_coffee__WEBPACK_IMPORTED_MODULE_1__ = __webpack_require__(/*! @canvas/handlebars-helpers/index.coffee */ \"BGrI\");\n\n    \n    var Handlebars = handlebars_runtime__WEBPACK_IMPORTED_MODULE_0___default.a.default;\n    \n\n    var template = Handlebars.template, templates = Handlebars.templates = Handlebars.templates || {};\n    var name = '/home/td/workspace/guokehuiyi/canvas/ui/shared/backbone-collection-view/jst/index';\n    templates[name] = template(function (Handlebars,depth0,helpers,partials,data) {\n  this.compilerInfo = [4,'>= 1.0.0'];\nhelpers = this.merge(helpers, Handlebars.helpers); data = data || {};\n  var buffer = \"\", stack1, functionType=\"function\", escapeExpression=this.escapeExpression, self=this;\n\nfunction program1(depth0,data) {\n  \n  var buffer = \"\", stack1, helper;\n  buffer += \"\\n<ul class=\\\"collectionViewItems \";\n  if (helper = helpers.listClassName) { stack1 = helper.call(depth0, {hash:{},data:data}); }\n  else { helper = (depth0 && depth0.listClassName); stack1 = typeof helper === functionType ? helper.call(depth0, {hash:{},data:data}) : helper; }\n  buffer += escapeExpression(stack1)\n    + \"\\\"></ul>\\n\";\n  return buffer;\n  }\n\nfunction program3(depth0,data) {\n  \n  var buffer = \"\", stack1, helper;\n  buffer += \"\\n<p class=\\\"emptyMessage\\\">\";\n  if (helper = helpers.emptyMessage) { stack1 = helper.call(depth0, {hash:{},data:data}); }\n  else { helper = (depth0 && depth0.emptyMessage); stack1 = typeof helper === functionType ? helper.call(depth0, {hash:{},data:data}) : helper; }\n  buffer += escapeExpression(stack1)\n    + \"</p>\\n\";\n  return buffer;\n  }\n\n  stack1 = helpers['if'].call(depth0, ((stack1 = (depth0 && depth0.collection)),stack1 == null || stack1 === false ? stack1 : stack1.length), {hash:{},inverse:self.program(3, program3, data),fn:self.program(1, program1, data),data:data});\n  if(stack1 || stack1 === 0) { buffer += stack1; }\n  buffer += \"\\n\";\n  return buffer;\n  });\n    ;\n    ;\n    /* harmony default export */ __webpack_exports__[\"default\"] = (templates[name]);\n  \n\n//# sourceURL=webpack:///./ui/shared/backbone-collection-view/jst/index.handlebars?");

/***/ }),

/***/ "HknL":
/*!************************************************************************!*\
  !*** ./ui/shared/backbone-collection-view/backbone/views/index.coffee ***!
  \************************************************************************/
/*! exports provided: default */
/***/ (function(module, __webpack_exports__, __webpack_require__) {

"use strict";
eval("__webpack_require__.r(__webpack_exports__);\n/* harmony import */ var i18n_CollectionView__WEBPACK_IMPORTED_MODULE_0__ = __webpack_require__(/*! i18n!CollectionView */ \"ZfmB\");\n/* harmony import */ var jquery__WEBPACK_IMPORTED_MODULE_1__ = __webpack_require__(/*! jquery */ \"ouhR\");\n/* harmony import */ var jquery__WEBPACK_IMPORTED_MODULE_1___default = /*#__PURE__*/__webpack_require__.n(jquery__WEBPACK_IMPORTED_MODULE_1__);\n/* harmony import */ var underscore__WEBPACK_IMPORTED_MODULE_2__ = __webpack_require__(/*! underscore */ \"Y/W1\");\n/* harmony import */ var underscore__WEBPACK_IMPORTED_MODULE_2___default = /*#__PURE__*/__webpack_require__.n(underscore__WEBPACK_IMPORTED_MODULE_2__);\n/* harmony import */ var _canvas_backbone__WEBPACK_IMPORTED_MODULE_3__ = __webpack_require__(/*! @canvas/backbone */ \"mX+G\");\n/* harmony import */ var _canvas_backbone__WEBPACK_IMPORTED_MODULE_3___default = /*#__PURE__*/__webpack_require__.n(_canvas_backbone__WEBPACK_IMPORTED_MODULE_3__);\n/* harmony import */ var _jst_index_handlebars__WEBPACK_IMPORTED_MODULE_4__ = __webpack_require__(/*! ../../jst/index.handlebars */ \"DrMR\");\n/* harmony import */ var _canvas_util_legacyCoffeesScriptHelpers__WEBPACK_IMPORTED_MODULE_5__ = __webpack_require__(/*! @canvas/util/legacyCoffeesScriptHelpers */ \"4M30\");\nvar CollectionView,\n  bind = function(fn, me){ return function(){ return fn.apply(me, arguments); }; },\n  extend = function(child, parent) { for (var key in parent) { if (hasProp.call(parent, key)) child[key] = parent[key]; } function ctor() { this.constructor = child; } ctor.prototype = parent.prototype; child.prototype = new ctor(); child.__super__ = parent.prototype; return child; },\n  hasProp = {}.hasOwnProperty;\n\n\n\n\n\n\n\n\n\n\n\n\n\n/* harmony default export */ __webpack_exports__[\"default\"] = (CollectionView = (function(superClass) {\n  extend(CollectionView, superClass);\n\n  function CollectionView() {\n    this.renderItem = bind(this.renderItem, this);\n    this.renderOnAdd = bind(this.renderOnAdd, this);\n    this.removeItem = bind(this.removeItem, this);\n    this.renderOnReset = bind(this.renderOnReset, this);\n    this.removePreviousItems = bind(this.removePreviousItems, this);\n    this.reorder = bind(this.reorder, this);\n    this.render = bind(this.render, this);\n    return CollectionView.__super__.constructor.apply(this, arguments);\n  }\n\n  CollectionView.optionProperty('itemView');\n\n  CollectionView.optionProperty('itemViewOptions');\n\n  CollectionView.optionProperty('emptyMessage');\n\n  CollectionView.optionProperty('listClassName');\n\n  CollectionView.prototype.className = 'collectionView';\n\n  CollectionView.prototype.els = {\n    '.collectionViewItems': '$list'\n  };\n\n  CollectionView.prototype.defaults = Object(_canvas_util_legacyCoffeesScriptHelpers__WEBPACK_IMPORTED_MODULE_5__[\"shimGetterShorthand\"])({\n    itemViewOptions: {}\n  }, {\n    emptyMessage: function() {\n      return i18n_CollectionView__WEBPACK_IMPORTED_MODULE_0__[\"default\"].t(\"no_items\", \"No items.\");\n    }\n  });\n\n  CollectionView.prototype.template = _jst_index_handlebars__WEBPACK_IMPORTED_MODULE_4__[\"default\"];\n\n  CollectionView.prototype.initialize = function(options) {\n    CollectionView.__super__.initialize.apply(this, arguments);\n    return this.attachCollection();\n  };\n\n  CollectionView.prototype.render = function() {\n    CollectionView.__super__.render.apply(this, arguments);\n    if (!this.empty) {\n      this.renderItems();\n    }\n    return this;\n  };\n\n  CollectionView.prototype.toJSON = function() {\n    return underscore__WEBPACK_IMPORTED_MODULE_2___default.a.extend(this.options, {\n      emptyMessage: this.emptyMessage,\n      listClassName: this.listClassName,\n      ENV: ENV\n    });\n  };\n\n  CollectionView.prototype.reorder = function() {\n    var children, model, ref;\n    this.collection.sort();\n    this.$list.children().detach();\n    children = (function() {\n      var i, len, ref, results;\n      ref = this.collection.models;\n      results = [];\n      for (i = 0, len = ref.length; i < len; i++) {\n        model = ref[i];\n        results.push(model.itemView.$el);\n      }\n      return results;\n    }).call(this);\n    return (ref = this.$list).append.apply(ref, children);\n  };\n\n  CollectionView.prototype.attachCollection = function() {\n    this.listenTo(this.collection, 'reset', this.renderOnReset);\n    this.listenTo(this.collection, 'add', this.renderOnAdd);\n    this.listenTo(this.collection, 'remove', this.removeItem);\n    return this.empty = !this.collection.length;\n  };\n\n  CollectionView.prototype.detachCollection = function() {\n    return this.stopListening(this.collection);\n  };\n\n  CollectionView.prototype.switchCollection = function(collection) {\n    this.detachCollection();\n    this.collection = collection;\n    return this.attachCollection();\n  };\n\n  CollectionView.prototype.removePreviousItems = function(models) {\n    var i, len, model, ref, results;\n    results = [];\n    for (i = 0, len = models.length; i < len; i++) {\n      model = models[i];\n      results.push((ref = model.view) != null ? ref.remove() : void 0);\n    }\n    return results;\n  };\n\n  CollectionView.prototype.renderOnReset = function(models, options) {\n    this.empty = !this.collection.length;\n    this.removePreviousItems(options.previousModels);\n    return this.render();\n  };\n\n  CollectionView.prototype.renderItems = function() {\n    this.collection.each(this.renderItem.bind(this));\n    return this.trigger(\"renderedItems\");\n  };\n\n  CollectionView.prototype.removeItem = function(model) {\n    this.empty = !this.collection.length;\n    if (this.empty) {\n      return this.render();\n    } else {\n      return model.view.remove();\n    }\n  };\n\n  CollectionView.prototype.renderOnAdd = function(model) {\n    if (this.empty) {\n      this.render();\n    }\n    this.empty = false;\n    return this.renderItem(model);\n  };\n\n  CollectionView.prototype.renderItem = function(model) {\n    var view;\n    view = this.createItemView(model);\n    view.render();\n    if (typeof this.attachItemView === \"function\") {\n      this.attachItemView(model, view);\n    }\n    return this.insertView(view);\n  };\n\n  CollectionView.prototype.createItemView = function(model) {\n    var view;\n    view = new this.itemView(jquery__WEBPACK_IMPORTED_MODULE_1___default.a.extend({}, this.itemViewOptions || {}, {\n      model: model\n    }));\n    model.itemView = view;\n    return view;\n  };\n\n  CollectionView.prototype.insertView = function(view) {\n    var index;\n    index = this.collection.indexOf(view.model);\n    if (index === 0) {\n      return this.prependView(view);\n    } else if (index === this.collection.length - 1) {\n      return this.appendView(view);\n    } else {\n      return this.insertViewAtIndex(view, index);\n    }\n  };\n\n  CollectionView.prototype.insertViewAtIndex = function(view, index) {\n    var $sibling;\n    $sibling = this.$list.children().eq(index);\n    if ($sibling.length) {\n      return $sibling.before(view.el);\n    } else {\n      return this.$list.append(view.el);\n    }\n  };\n\n  CollectionView.prototype.prependView = function(view) {\n    return this.$list.prepend(view.el);\n  };\n\n  CollectionView.prototype.appendView = function(view) {\n    return this.$list.append(view.el);\n  };\n\n  return CollectionView;\n\n})(_canvas_backbone__WEBPACK_IMPORTED_MODULE_3___default.a.View));\n\n\n//# sourceURL=webpack:///./ui/shared/backbone-collection-view/backbone/views/index.coffee?");

/***/ }),

/***/ "LPaV":
/*!*****************************************************************************************!*\
  !*** ./frontend_build/i18n.js?wiki.wiki_page_revisions!./ui/shims/dummyI18nResource.js ***!
  \*****************************************************************************************/
/*! exports provided: default */
/***/ (function(module, __webpack_exports__, __webpack_require__) {

"use strict";
eval("__webpack_require__.r(__webpack_exports__);\n/* harmony import */ var _canvas_i18n_i18nObj__WEBPACK_IMPORTED_MODULE_0__ = __webpack_require__(/*! @canvas/i18n/i18nObj */ \"HGxv\");\n/* harmony import */ var translations_core_en__WEBPACK_IMPORTED_MODULE_1__ = __webpack_require__(/*! translations/_core_en */ \"0sPK\");\n\n    \n    \n    \n\n    /* harmony default export */ __webpack_exports__[\"default\"] = (_canvas_i18n_i18nObj__WEBPACK_IMPORTED_MODULE_0__[\"default\"].scoped('wiki.wiki_page_revisions'));\n  \n\n//# sourceURL=webpack:///./ui/shims/dummyI18nResource.js?./frontend_build/i18n.js?wiki.wiki_page_revisions");

/***/ }),

/***/ "ORjn":
/*!********************************************************************************!*\
  !*** ./ui/features/wiki_page_revisions/backbone/views/WikiPageRevisionView.js ***!
  \********************************************************************************/
/*! exports provided: default */
/***/ (function(module, __webpack_exports__, __webpack_require__) {

"use strict";
eval("__webpack_require__.r(__webpack_exports__);\n/* harmony export (binding) */ __webpack_require__.d(__webpack_exports__, \"default\", function() { return WikiPageRevisionView; });\n/* harmony import */ var _babel_runtime_helpers_esm_objectSpread2__WEBPACK_IMPORTED_MODULE_0__ = __webpack_require__(/*! @babel/runtime/helpers/esm/objectSpread2 */ \"VTBJ\");\n/* harmony import */ var jquery__WEBPACK_IMPORTED_MODULE_1__ = __webpack_require__(/*! jquery */ \"ouhR\");\n/* harmony import */ var jquery__WEBPACK_IMPORTED_MODULE_1___default = /*#__PURE__*/__webpack_require__.n(jquery__WEBPACK_IMPORTED_MODULE_1__);\n/* harmony import */ var _canvas_backbone__WEBPACK_IMPORTED_MODULE_2__ = __webpack_require__(/*! @canvas/backbone */ \"mX+G\");\n/* harmony import */ var _canvas_backbone__WEBPACK_IMPORTED_MODULE_2___default = /*#__PURE__*/__webpack_require__.n(_canvas_backbone__WEBPACK_IMPORTED_MODULE_2__);\n/* harmony import */ var _jst_WikiPageRevision_handlebars__WEBPACK_IMPORTED_MODULE_3__ = __webpack_require__(/*! ../../jst/WikiPageRevision.handlebars */ \"tEkM\");\n\n//\n// Copyright (C) 2013 - present Instructure, Inc.\n//\n// This file is part of Canvas.\n//\n// Canvas is free software: you can redistribute it and/or modify it under\n// the terms of the GNU Affero General Public License as published by the Free\n// Software Foundation, version 3 of the License.\n//\n// Canvas is distributed in the hope that it will be useful, but WITHOUT ANY\n// WARRANTY; without even the implied warranty of MERCHANTABILITY or FITNESS FOR\n// A PARTICULAR PURPOSE. See the GNU Affero General Public License for more\n// details.\n//\n// You should have received a copy of the GNU Affero General Public License along\n// with this program. If not, see <http://www.gnu.org/licenses/>.\n\n\n\nclass WikiPageRevisionView extends _canvas_backbone__WEBPACK_IMPORTED_MODULE_2___default.a.View {\n  static initClass() {\n    this.prototype.tagName = 'li';\n    this.prototype.className = 'revision clearfix';\n    this.prototype.template = _jst_WikiPageRevision_handlebars__WEBPACK_IMPORTED_MODULE_3__[\"default\"];\n    this.prototype.events = {\n      'click .restore-link': 'restore',\n      'keydown .restore-link': 'restore'\n    };\n    this.prototype.els = {\n      '.revision-details': '$revisionButton'\n    };\n  }\n\n  initialize() {\n    super.initialize(...arguments);\n    return this.model.on('change', () => this.render());\n  }\n\n  render() {\n    const hadFocus = this.$revisionButton != null ? this.$revisionButton.is(':focus') : void 0;\n    super.render(...arguments);\n\n    if (hadFocus) {\n      return this.$revisionButton.focus();\n    }\n  }\n\n  afterRender() {\n    super.afterRender(...arguments);\n    this.$el.toggleClass('selected', !!this.model.get('selected'));\n    return this.$el.toggleClass('latest', !!this.model.get('latest'));\n  }\n\n  toJSON() {\n    const latest = this.model.collection != null ? this.model.collection.latest : void 0;\n\n    const json = Object(_babel_runtime_helpers_esm_objectSpread2__WEBPACK_IMPORTED_MODULE_0__[\"default\"])(Object(_babel_runtime_helpers_esm_objectSpread2__WEBPACK_IMPORTED_MODULE_0__[\"default\"])({}, super.toJSON(...arguments)), {}, {\n      IS: {\n        LATEST: !!this.model.get('latest'),\n        SELECTED: !!this.model.get('selected'),\n        LOADED: !!this.model.get('title') && !!this.model.get('body')\n      }\n    });\n\n    json.IS.SAME_AS_LATEST = json.IS.LOADED && this.model.get('title') === (latest != null ? latest.get('title') : void 0) && this.model.get('body') === (latest != null ? latest.get('body') : void 0);\n    json.updated_at = jquery__WEBPACK_IMPORTED_MODULE_1___default.a.datetimeString(json.updated_at);\n    json.edited_by = json.edited_by != null ? json.edited_by.display_name : void 0;\n    return json;\n  }\n\n  windowLocation() {\n    return window.location;\n  }\n\n  restore(ev) {\n    if ((ev != null ? ev.type : void 0) === 'keydown') {\n      if (ev.keyCode !== 13) return;\n    }\n\n    if (ev != null) {\n      ev.preventDefault();\n    }\n\n    return this.model.restore().done(attrs => {\n      if (this.pages_path) {\n        return this.windowLocation().href = `${this.pages_path}/${attrs.url}/revisions`;\n      } else {\n        return this.windowLocation().reload();\n      }\n    });\n  }\n\n}\nWikiPageRevisionView.initClass();\n\n//# sourceURL=webpack:///./ui/features/wiki_page_revisions/backbone/views/WikiPageRevisionView.js?");

/***/ }),

/***/ "TnsN":
/*!******************************************************************************!*\
  !*** ./ui/shared/pagination/backbone/collections/PaginatedCollection.coffee ***!
  \******************************************************************************/
/*! exports provided: default */
/***/ (function(module, __webpack_exports__, __webpack_require__) {

"use strict";
eval("__webpack_require__.r(__webpack_exports__);\n/* harmony import */ var jquery__WEBPACK_IMPORTED_MODULE_0__ = __webpack_require__(/*! jquery */ \"ouhR\");\n/* harmony import */ var jquery__WEBPACK_IMPORTED_MODULE_0___default = /*#__PURE__*/__webpack_require__.n(jquery__WEBPACK_IMPORTED_MODULE_0__);\n/* harmony import */ var _canvas_backbone__WEBPACK_IMPORTED_MODULE_1__ = __webpack_require__(/*! @canvas/backbone */ \"mX+G\");\n/* harmony import */ var _canvas_backbone__WEBPACK_IMPORTED_MODULE_1___default = /*#__PURE__*/__webpack_require__.n(_canvas_backbone__WEBPACK_IMPORTED_MODULE_1__);\n/* harmony import */ var underscore__WEBPACK_IMPORTED_MODULE_2__ = __webpack_require__(/*! underscore */ \"Y/W1\");\n/* harmony import */ var underscore__WEBPACK_IMPORTED_MODULE_2___default = /*#__PURE__*/__webpack_require__.n(underscore__WEBPACK_IMPORTED_MODULE_2__);\nvar PaginatedCollection, capitalize,\n  bind = function(fn, me){ return function(){ return fn.apply(me, arguments); }; },\n  extend = function(child, parent) { for (var key in parent) { if (hasProp.call(parent, key)) child[key] = parent[key]; } function ctor() { this.constructor = child; } ctor.prototype = parent.prototype; child.prototype = new ctor(); child.__super__ = parent.prototype; return child; },\n  hasProp = {}.hasOwnProperty,\n  slice = [].slice,\n  indexOf = [].indexOf || function(item) { for (var i = 0, l = this.length; i < l; i++) { if (i in this && this[i] === item) return i; } return -1; };\n\n\n\n\n\n\n\ncapitalize = function(string) {\n  if (string == null) {\n    string = '';\n  }\n  return string.charAt(0).toUpperCase() + string.substring(1).toLowerCase();\n};\n\n/* harmony default export */ __webpack_exports__[\"default\"] = (PaginatedCollection = (function(superClass) {\n  extend(PaginatedCollection, superClass);\n\n  function PaginatedCollection() {\n    this._setStateAfterFetch = bind(this._setStateAfterFetch, this);\n    return PaginatedCollection.__super__.constructor.apply(this, arguments);\n  }\n\n  PaginatedCollection.prototype.nameRegex = /rel=\"([a-z]+)/;\n\n  PaginatedCollection.prototype.linkRegex = /^<([^>]+)/;\n\n  PaginatedCollection.prototype.pageRegex = /\\Wpage=(\\d+)/;\n\n  PaginatedCollection.prototype.perPageRegex = /\\Wper_page=(\\d+)/;\n\n  PaginatedCollection.prototype.initialize = function() {\n    PaginatedCollection.__super__.initialize.apply(this, arguments);\n    return this.urls = {};\n  };\n\n  PaginatedCollection.prototype.fetch = function(options) {\n    var dfd, exclusionFlag, ref, xhr;\n    if (options == null) {\n      options = {};\n    }\n    options = underscore__WEBPACK_IMPORTED_MODULE_2___default.a.clone(options);\n    this.loadedAll = false;\n    exclusionFlag = \"fetching\" + (capitalize(options.page)) + \"Page\";\n    this[exclusionFlag] = true;\n    if (options.page != null) {\n      if (options.remove == null) {\n        options.remove = false;\n      }\n      if ((ref = this.urls) != null ? ref[options.page] : void 0) {\n        options.url = this.urls[options.page];\n        options.data = '';\n      }\n    } else {\n      if (options.reset == null) {\n        options.reset = true;\n      }\n    }\n    if (options.fetchOptions != null) {\n      options.data = options.fetchOptions;\n    }\n    this.trigger('beforeFetch', this, options);\n    if (options.page != null) {\n      this.trigger(\"beforeFetch:\" + options.page, this, options);\n    }\n    xhr = null;\n    options.dataFilter = (function(_this) {\n      return function(data) {\n        _this[exclusionFlag] = false;\n        _this._setStateAfterFetch(xhr, options);\n        return data;\n      };\n    })(this);\n    dfd = options.dfd || jquery__WEBPACK_IMPORTED_MODULE_0___default.a.Deferred();\n    xhr = PaginatedCollection.__super__.fetch.call(this, options).done((function(_this) {\n      return function(response, text, xhr) {\n        var ref1;\n        _this.trigger('fetch', _this, response, options);\n        if (options.page != null) {\n          _this.trigger(\"fetch:\" + options.page, _this, response, options);\n        }\n        if (!((ref1 = _this.urls) != null ? ref1.next : void 0)) {\n          _this.trigger.apply(_this, ['fetched:last'].concat(slice.call(arguments)));\n        }\n        if (_this.loadAll && (_this.urls.next != null)) {\n          return setTimeout(function() {\n            return _this.fetch({\n              page: 'next',\n              dfd: dfd\n            });\n          });\n        } else {\n          return dfd.resolve(response, text, xhr);\n        }\n      };\n    })(this));\n    dfd.abort = xhr.abort;\n    dfd.success = dfd.done;\n    dfd.error = dfd.fail;\n    return dfd;\n  };\n\n  PaginatedCollection.prototype.canFetch = function(page) {\n    return (this.urls != null) && (this.urls[page] != null);\n  };\n\n  PaginatedCollection.prototype._setStateAfterFetch = function(xhr, options) {\n    var base, firstRequest, match, oldUrls, perPage, ref, ref1, ref2, ref3, ref4, setBottom, setTop, url, urlIsNotCached;\n    if (this._urlCache == null) {\n      this._urlCache = [];\n    }\n    urlIsNotCached = (ref = options.url, indexOf.call(this._urlCache, ref) < 0);\n    if (!urlIsNotCached) {\n      this._urlCache.push(options.url);\n    }\n    firstRequest = !this.atLeastOnePageFetched;\n    setBottom = firstRequest || (((ref1 = options.page) === 'next' || ref1 === 'bottom') && urlIsNotCached);\n    setTop = firstRequest || (((ref2 = options.page) === 'prev' || ref2 === 'top') && urlIsNotCached);\n    oldUrls = this.urls;\n    this.urls = this._parsePageLinks(xhr);\n    if (setBottom && (this.urls.next != null)) {\n      this.urls.bottom = this.urls.next;\n    } else if (!this.urls.next) {\n      delete this.urls.bottom;\n    } else {\n      this.urls.bottom = oldUrls.bottom;\n    }\n    if (setTop && (this.urls.prev != null)) {\n      this.urls.top = this.urls.prev;\n    } else if (!this.urls.prev) {\n      delete this.urls.top;\n    } else {\n      this.urls.top = oldUrls.top;\n    }\n    url = (ref3 = this.urls.first) != null ? ref3 : this.urls.next;\n    if (url != null) {\n      perPage = parseInt(url.match(this.perPageRegex)[1], 10);\n      ((base = (this.options != null ? this.options : this.options = {})).params != null ? base.params : base.params = {}).per_page = perPage;\n    }\n    if (this.urls.last && (match = this.urls.last.match(this.pageRegex))) {\n      this.totalPages = parseInt(match[1], 10);\n    }\n    if (!((ref4 = this.urls) != null ? ref4.next : void 0)) {\n      this.loadedAll = true;\n    }\n    return this.atLeastOnePageFetched = true;\n  };\n\n  PaginatedCollection.prototype._parsePageLinks = function(xhr) {\n    var linkHeader, ref;\n    linkHeader = (ref = xhr.getResponseHeader('link')) != null ? ref.split(',') : void 0;\n    if (linkHeader == null) {\n      linkHeader = [];\n    }\n    return underscore__WEBPACK_IMPORTED_MODULE_2___default.a.reduce(linkHeader, (function(_this) {\n      return function(links, link) {\n        var key, val;\n        key = link.match(_this.nameRegex)[1];\n        val = link.match(_this.linkRegex)[1];\n        links[key] = val;\n        return links;\n      };\n    })(this), {});\n  };\n\n  return PaginatedCollection;\n\n})(_canvas_backbone__WEBPACK_IMPORTED_MODULE_1___default.a.Collection));\n\n\n//# sourceURL=webpack:///./ui/shared/pagination/backbone/collections/PaginatedCollection.coffee?");

/***/ }),

/***/ "W2TM":
/*!****************************************************************!*\
  !*** ./ui/shared/wiki/backbone/models/WikiPageRevision.coffee ***!
  \****************************************************************/
/*! exports provided: default */
/***/ (function(module, __webpack_exports__, __webpack_require__) {

"use strict";
eval("__webpack_require__.r(__webpack_exports__);\n/* harmony import */ var jquery__WEBPACK_IMPORTED_MODULE_0__ = __webpack_require__(/*! jquery */ \"ouhR\");\n/* harmony import */ var jquery__WEBPACK_IMPORTED_MODULE_0___default = /*#__PURE__*/__webpack_require__.n(jquery__WEBPACK_IMPORTED_MODULE_0__);\n/* harmony import */ var underscore__WEBPACK_IMPORTED_MODULE_1__ = __webpack_require__(/*! underscore */ \"Y/W1\");\n/* harmony import */ var underscore__WEBPACK_IMPORTED_MODULE_1___default = /*#__PURE__*/__webpack_require__.n(underscore__WEBPACK_IMPORTED_MODULE_1__);\n/* harmony import */ var _canvas_backbone__WEBPACK_IMPORTED_MODULE_2__ = __webpack_require__(/*! @canvas/backbone */ \"mX+G\");\n/* harmony import */ var _canvas_backbone__WEBPACK_IMPORTED_MODULE_2___default = /*#__PURE__*/__webpack_require__.n(_canvas_backbone__WEBPACK_IMPORTED_MODULE_2__);\n/* harmony import */ var i18n_pages__WEBPACK_IMPORTED_MODULE_3__ = __webpack_require__(/*! i18n!pages */ \"lH+4\");\n/* harmony import */ var _canvas_backbone_DefaultUrlMixin__WEBPACK_IMPORTED_MODULE_4__ = __webpack_require__(/*! @canvas/backbone/DefaultUrlMixin */ \"2gWY\");\n/* harmony import */ var _canvas_panda_pub_poller__WEBPACK_IMPORTED_MODULE_5__ = __webpack_require__(/*! @canvas/panda-pub-poller */ \"cRz0\");\n/* harmony import */ var _canvas_rails_flash_notifications__WEBPACK_IMPORTED_MODULE_6__ = __webpack_require__(/*! @canvas/rails-flash-notifications */ \"r2Yr\");\n/* harmony import */ var _canvas_jquery_jquery_disableWhileLoading__WEBPACK_IMPORTED_MODULE_7__ = __webpack_require__(/*! @canvas/jquery/jquery.disableWhileLoading */ \"sXof\");\nvar WikiPageRevision, pageRevisionOptions,\n  bind = function(fn, me){ return function(){ return fn.apply(me, arguments); }; },\n  extend = function(child, parent) { for (var key in parent) { if (hasProp.call(parent, key)) child[key] = parent[key]; } function ctor() { this.constructor = child; } ctor.prototype = parent.prototype; child.prototype = new ctor(); child.__super__ = parent.prototype; return child; },\n  hasProp = {}.hasOwnProperty;\n\n\n\n\n\n\n\n\n\n\n\n\n\n\n\n\n\npageRevisionOptions = ['contextAssetString', 'page', 'pageUrl', 'latest', 'summary'];\n\n/* harmony default export */ __webpack_exports__[\"default\"] = (WikiPageRevision = (function(superClass) {\n  extend(WikiPageRevision, superClass);\n\n  function WikiPageRevision() {\n    this.doPoll = bind(this.doPoll, this);\n    return WikiPageRevision.__super__.constructor.apply(this, arguments);\n  }\n\n  WikiPageRevision.mixin(_canvas_backbone_DefaultUrlMixin__WEBPACK_IMPORTED_MODULE_4__[\"default\"]);\n\n  WikiPageRevision.prototype.initialize = function(attributes, options) {\n    WikiPageRevision.__super__.initialize.apply(this, arguments);\n    underscore__WEBPACK_IMPORTED_MODULE_1___default.a.extend(this, underscore__WEBPACK_IMPORTED_MODULE_1___default.a.pick(options || {}, pageRevisionOptions));\n    if (underscore__WEBPACK_IMPORTED_MODULE_1___default.a.has(this, 'url')) {\n      return delete this.url;\n    }\n  };\n\n  WikiPageRevision.prototype.urlRoot = function() {\n    return \"/api/v1/\" + (this._contextPath()) + \"/pages/\" + this.pageUrl + \"/revisions\";\n  };\n\n  WikiPageRevision.prototype.url = function() {\n    var base;\n    base = this.urlRoot();\n    if (this.latest) {\n      return base + \"/latest\";\n    }\n    if (this.get('revision_id')) {\n      return base + \"/\" + (this.get('revision_id'));\n    }\n    return base;\n  };\n\n  WikiPageRevision.prototype.fetch = function(options) {\n    var base1;\n    if (options == null) {\n      options = {};\n    }\n    if (this.summary) {\n      if (options.data == null) {\n        options.data = {};\n      }\n      if ((base1 = options.data).summary == null) {\n        base1.summary = true;\n      }\n    }\n    return WikiPageRevision.__super__.fetch.call(this, options);\n  };\n\n  WikiPageRevision.prototype.pollForChanges = function(interval) {\n    var pp, throttledPoll;\n    if (interval == null) {\n      interval = 30000;\n    }\n    if (!this._poller) {\n      throttledPoll = underscore__WEBPACK_IMPORTED_MODULE_1___default.a.throttle(this.doPoll, interval);\n      this._poller = new _canvas_panda_pub_poller__WEBPACK_IMPORTED_MODULE_5__[\"default\"](interval, interval * 10, throttledPoll);\n      if (pp = window.ENV.WIKI_PAGE_PANDAPUB) {\n        this._poller.setToken(pp.CHANNEL, pp.TOKEN);\n      }\n      this._poller.setOnData((function(_this) {\n        return function() {\n          return throttledPoll();\n        };\n      })(this));\n      return this._poller.start();\n    }\n  };\n\n  WikiPageRevision.prototype.startPolling = function() {\n    if (this._poller) {\n      return this._poller.start();\n    }\n  };\n\n  WikiPageRevision.prototype.stopPolling = function() {\n    if (this._poller) {\n      return this._poller.stop();\n    }\n  };\n\n  WikiPageRevision.prototype.doPoll = function(done) {\n    if (!(this._poller && this._poller.isRunning())) {\n      return;\n    }\n    return this.fetch().done(function(data, status, xhr) {\n      status = xhr.status.toString();\n      if (status[0] === '4' || status[0] === '5') {\n        this._poller.stop();\n      }\n      if (done) {\n        return done();\n      }\n    });\n  };\n\n  WikiPageRevision.prototype.parse = function(response, options) {\n    if (response.url) {\n      response.id = response.url;\n    }\n    return response;\n  };\n\n  WikiPageRevision.prototype.toJSON = function() {\n    return underscore__WEBPACK_IMPORTED_MODULE_1___default.a.omit(WikiPageRevision.__super__.toJSON.apply(this, arguments), 'id');\n  };\n\n  WikiPageRevision.prototype.restore = function() {\n    var d;\n    d = jquery__WEBPACK_IMPORTED_MODULE_0___default.a.ajaxJSON(this.url(), 'POST').fail(function() {\n      return jquery__WEBPACK_IMPORTED_MODULE_0___default.a.flashError(i18n_pages__WEBPACK_IMPORTED_MODULE_3__[\"default\"].t('restore_failed', 'Failed to restore page revision'));\n    });\n    jquery__WEBPACK_IMPORTED_MODULE_0___default()('#wiki_page_revisions').disableWhileLoading(jquery__WEBPACK_IMPORTED_MODULE_0___default.a.Deferred());\n    return d;\n  };\n\n  return WikiPageRevision;\n\n})(_canvas_backbone__WEBPACK_IMPORTED_MODULE_2___default.a.Model));\n\n\n//# sourceURL=webpack:///./ui/shared/wiki/backbone/models/WikiPageRevision.coffee?");

/***/ }),

/***/ "Wx+K":
/*!************************************************************************!*\
  !*** ./ui/features/wiki_page_revisions/jst/WikiPageContent.handlebars ***!
  \************************************************************************/
/*! exports provided: default */
/***/ (function(module, __webpack_exports__, __webpack_require__) {

"use strict";
eval("__webpack_require__.r(__webpack_exports__);\n/* harmony import */ var handlebars_runtime__WEBPACK_IMPORTED_MODULE_0__ = __webpack_require__(/*! handlebars/runtime */ \"3O+N\");\n/* harmony import */ var handlebars_runtime__WEBPACK_IMPORTED_MODULE_0___default = /*#__PURE__*/__webpack_require__.n(handlebars_runtime__WEBPACK_IMPORTED_MODULE_0__);\n/* harmony import */ var i18n_wiki_wiki_page_content__WEBPACK_IMPORTED_MODULE_1__ = __webpack_require__(/*! i18n!wiki.wiki_page_content */ \"5WIz\");\n/* harmony import */ var _canvas_handlebars_helpers_index_coffee__WEBPACK_IMPORTED_MODULE_2__ = __webpack_require__(/*! @canvas/handlebars-helpers/index.coffee */ \"BGrI\");\n\n    \n    var Handlebars = handlebars_runtime__WEBPACK_IMPORTED_MODULE_0___default.a.default;\n    \n\n\n    var template = Handlebars.template, templates = Handlebars.templates = Handlebars.templates || {};\n    var name = '/home/td/workspace/guokehuiyi/canvas/ui/features/wiki-page-revisions/jst/WikiPageContent';\n    templates[name] = template(function (Handlebars,depth0,helpers,partials,data) {\n  this.compilerInfo = [4,'>= 1.0.0'];\nhelpers = this.merge(helpers, Handlebars.helpers); data = data || {};\n  var buffer = \"\", stack1, helper, helperMissing=helpers.helperMissing, escapeExpression=this.escapeExpression, functionType=\"function\", self=this;\n\nfunction program1(depth0,data) {\n  \n  var buffer = \"\", stack1;\n  buffer += \"\\n  <div class=\\\"locked-alert alert alert-warning\\\">\\n    \";\n  stack1 = helpers['if'].call(depth0, ((stack1 = ((stack1 = (depth0 && depth0.lock_info)),stack1 == null || stack1 === false ? stack1 : stack1.context_module)),stack1 == null || stack1 === false ? stack1 : stack1.prerequisites), {hash:{},inverse:self.program(14, program14, data),fn:self.programWithDepth(2, program2, data, depth0),data:data});\n  if(stack1 || stack1 === 0) { buffer += stack1; }\n  buffer += \"\\n  </div>\\n\";\n  return buffer;\n  }\nfunction program2(depth0,data,depth1) {\n  \n  var buffer = \"\", stack1;\n  buffer += \"\\n      \";\n  stack1 = helpers['if'].call(depth0, ((stack1 = (depth0 && depth0.lock_info)),stack1 == null || stack1 === false ? stack1 : stack1.unlock_at), {hash:{},inverse:self.program(5, program5, data),fn:self.program(3, program3, data),data:data});\n  if(stack1 || stack1 === 0) { buffer += stack1; }\n  buffer += \"\\n      <ul>\\n        \";\n  stack1 = helpers.each.call(depth0, ((stack1 = ((stack1 = (depth0 && depth0.lock_info)),stack1 == null || stack1 === false ? stack1 : stack1.context_module)),stack1 == null || stack1 === false ? stack1 : stack1.prerequisites), {hash:{},inverse:self.noop,fn:self.programWithDepth(7, program7, data, depth0, depth1),data:data});\n  if(stack1 || stack1 === 0) { buffer += stack1; }\n  buffer += \"\\n      </ul>\\n    \";\n  return buffer;\n  }\nfunction program3(depth0,data) {\n  \n  var buffer = \"\", stack1, helper, options;\n  buffer += \"\\n        \"\n    + escapeExpression((helper = helpers.t || (depth0 && depth0.t),options={hash:{\n    'lock_info.unlock_at': (((stack1 = (depth0 && depth0.lock_info)),stack1 == null || stack1 === false ? stack1 : stack1.unlock_at)),\n    'scope': (\"wiki.wiki_page_content\")\n  },data:data},helper ? helper.call(depth0, \"page_locked_by_modules_until\", \"This page will be available on %{lock_info.unlock_at} if you have completed these modules:\", options) : helperMissing.call(depth0, \"t\", \"page_locked_by_modules_until\", \"This page will be available on %{lock_info.unlock_at} if you have completed these modules:\", options)))\n    + \"\\n      \";\n  return buffer;\n  }\n\nfunction program5(depth0,data) {\n  \n  var buffer = \"\", helper, options;\n  buffer += \"\\n        \"\n    + escapeExpression((helper = helpers.t || (depth0 && depth0.t),options={hash:{\n    'scope': (\"wiki.wiki_page_content\")\n  },data:data},helper ? helper.call(depth0, \"page_locked_by_modules\", \"This page will be available once you have completed these modules:\", options) : helperMissing.call(depth0, \"t\", \"page_locked_by_modules\", \"This page will be available once you have completed these modules:\", options)))\n    + \"\\n      \";\n  return buffer;\n  }\n\nfunction program7(depth0,data,depth1,depth2) {\n  \n  var stack1, helper, options;\n  stack1 = (helper = helpers.ifEqual || (depth0 && depth0.ifEqual),options={hash:{},inverse:self.noop,fn:self.programWithDepth(8, program8, data, depth1, depth2),data:data},helper ? helper.call(depth0, (depth0 && depth0.type), \"context_module\", options) : helperMissing.call(depth0, \"ifEqual\", (depth0 && depth0.type), \"context_module\", options));\n  if(stack1 || stack1 === 0) { return stack1; }\n  else { return ''; }\n  }\nfunction program8(depth0,data,depth2,depth3) {\n  \n  var buffer = \"\", stack1;\n  buffer += \"\\n          \";\n  stack1 = helpers['if'].call(depth0, (depth0 && depth0.name), {hash:{},inverse:self.noop,fn:self.programWithDepth(9, program9, data, depth2, depth3),data:data});\n  if(stack1 || stack1 === 0) { buffer += stack1; }\n  buffer += \"\\n        \";\n  return buffer;\n  }\nfunction program9(depth0,data,depth3,depth4) {\n  \n  var buffer = \"\", stack1, helper, options;\n  buffer += \"\\n            <li>\\n              \";\n  stack1 = (helper = helpers.ifAll || (depth4 && depth4.ifAll),options={hash:{},inverse:self.program(12, program12, data),fn:self.programWithDepth(10, program10, data, depth3),data:data},helper ? helper.call(depth0, (depth4 && depth4.modules_path), (depth0 && depth0.id), options) : helperMissing.call(depth0, \"ifAll\", (depth4 && depth4.modules_path), (depth0 && depth0.id), options));\n  if(stack1 || stack1 === 0) { buffer += stack1; }\n  buffer += \"\\n            </li>\\n          \";\n  return buffer;\n  }\nfunction program10(depth0,data,depth4) {\n  \n  var buffer = \"\", stack1;\n  buffer += \"\\n                <a href=\\\"\"\n    + escapeExpression(((stack1 = (depth4 && depth4.modules_path)),typeof stack1 === functionType ? stack1.apply(depth0) : stack1))\n    + \"/\"\n    + escapeExpression(((stack1 = (depth0 && depth0.id)),typeof stack1 === functionType ? stack1.apply(depth0) : stack1))\n    + \"\\\">\"\n    + escapeExpression(((stack1 = (depth0 && depth0.name)),typeof stack1 === functionType ? stack1.apply(depth0) : stack1))\n    + \"</a>\\n              \";\n  return buffer;\n  }\n\nfunction program12(depth0,data) {\n  \n  var buffer = \"\", stack1;\n  buffer += \"\\n                \"\n    + escapeExpression(((stack1 = (depth0 && depth0.name)),typeof stack1 === functionType ? stack1.apply(depth0) : stack1))\n    + \"\\n              \";\n  return buffer;\n  }\n\nfunction program14(depth0,data) {\n  \n  var buffer = \"\", stack1;\n  buffer += \"\\n      \";\n  stack1 = helpers['if'].call(depth0, ((stack1 = (depth0 && depth0.lock_info)),stack1 == null || stack1 === false ? stack1 : stack1.unlock_at), {hash:{},inverse:self.program(17, program17, data),fn:self.program(15, program15, data),data:data});\n  if(stack1 || stack1 === 0) { buffer += stack1; }\n  buffer += \"\\n    \";\n  return buffer;\n  }\nfunction program15(depth0,data) {\n  \n  var buffer = \"\", stack1, helper, options;\n  buffer += \"\\n        \"\n    + escapeExpression((helper = helpers.t || (depth0 && depth0.t),options={hash:{\n    'lock_info.unlock_at': (((stack1 = (depth0 && depth0.lock_info)),stack1 == null || stack1 === false ? stack1 : stack1.unlock_at)),\n    'scope': (\"wiki.wiki_page_content\")\n  },data:data},helper ? helper.call(depth0, \"page_locked_until\", \"This page will be available on %{lock_info.unlock_at}\", options) : helperMissing.call(depth0, \"t\", \"page_locked_until\", \"This page will be available on %{lock_info.unlock_at}\", options)))\n    + \"\\n      \";\n  return buffer;\n  }\n\nfunction program17(depth0,data) {\n  \n  var buffer = \"\", helper, options;\n  buffer += \"\\n        \"\n    + escapeExpression((helper = helpers.t || (depth0 && depth0.t),options={hash:{\n    'scope': (\"wiki.wiki_page_content\")\n  },data:data},helper ? helper.call(depth0, \"page_locked\", \"This page is locked\", options) : helperMissing.call(depth0, \"t\", \"page_locked\", \"This page is locked\", options)))\n    + \"\\n      \";\n  return buffer;\n  }\n\nfunction program19(depth0,data) {\n  \n  var buffer = \"\", helper, options;\n  buffer += \"\\n  \"\n    + escapeExpression((helper = helpers.convertApiUserContent || (depth0 && depth0.convertApiUserContent),options={hash:{},data:data},helper ? helper.call(depth0, (depth0 && depth0.body), options) : helperMissing.call(depth0, \"convertApiUserContent\", (depth0 && depth0.body), options)))\n    + \"\\n\";\n  return buffer;\n  }\n\n  buffer += \"<header>\\n  <h1 class=\\\"page-title\\\">\";\n  if (helper = helpers.title) { stack1 = helper.call(depth0, {hash:{},data:data}); }\n  else { helper = (depth0 && depth0.title); stack1 = typeof helper === functionType ? helper.call(depth0, {hash:{},data:data}) : helper; }\n  buffer += escapeExpression(stack1)\n    + \"</h1>\\n</header>\\n\\n\";\n  stack1 = helpers['if'].call(depth0, (depth0 && depth0.locked_for_user), {hash:{},inverse:self.program(19, program19, data),fn:self.program(1, program1, data),data:data});\n  if(stack1 || stack1 === 0) { buffer += stack1; }\n  buffer += \"\\n\";\n  return buffer;\n  });\n    ;\n    ;\n    /* harmony default export */ __webpack_exports__[\"default\"] = (templates[name]);\n  \n\n//# sourceURL=webpack:///./ui/features/wiki_page_revisions/jst/WikiPageContent.handlebars?");

/***/ }),

/***/ "XKWA":
/*!*********************************************!*\
  !*** ./packages/jquery-tinypubsub/index.js ***!
  \*********************************************/
/*! no static exports found */
/***/ (function(module, exports, __webpack_require__) {

eval("/*!\n * jQuery Tiny Pub/Sub - v0.6 - 1/10/2011\n * http://benalman.com/\n *\n * Copyright (c) 2010 \"Cowboy\" Ben Alman\n * Dual licensed under the MIT and GPL licenses.\n * http://benalman.com/about/license/\n */\n\nconst $ = __webpack_require__(/*! jquery */ \"ouhR\")\n\n  // Create a \"dummy\" jQuery object on which to bind, unbind and trigger event\n  // handlers. Note that $({}) works in jQuery 1.4.3+.\n  var o = $({}), subscribe, unsubscribe, publish;\n\n  // Subscribe to a topic. Works just like bind, except the passed handler\n  // is wrapped in a function so that the event object can be stripped out.\n  // Even though the event object might be useful, it is unnecessary and\n  // will only complicate things in the future should the user decide to move\n  // to a non-$.event-based pub/sub implementation.\n  $.subscribe = subscribe = function( topic, fn ) {\n    if ($.isPlainObject(topic)) {\n      return $.each(topic, function(topic, fn) {\n        subscribe(topic, fn);\n      });\n    }\n    // Call fn, stripping out the 1st argument (the event object).\n    function wrapper() {\n      return fn.apply( this, Array.prototype.slice.call( arguments, 1 ) );\n    }\n\n    // Add .guid property to function to allow it to be easily unbound. Note\n    // that $.guid is new in jQuery 1.4+, and $.event.guid was used before.\n    wrapper.guid = fn.guid = fn.guid || $.guid++;\n\n    // Bind the handler.\n    o.bind( topic, wrapper );\n  };\n\n  // Unsubscribe from a topic. Works exactly like unbind.\n  $.unsubscribe = unsubscribe = function() {\n    o.unbind.apply( o, arguments );\n  };\n\n  // Publish a topic. Works exactly like trigger.\n  $.publish = publish = function() {\n    o.trigger.apply( o, arguments );\n  };\n\n  module.exports = {\n    subscribe: subscribe,\n    unsubscribe: unsubscribe,\n    publish: publish\n  };\n\n\n\n//# sourceURL=webpack:///./packages/jquery-tinypubsub/index.js?");

/***/ }),

/***/ "YDjQ":
/*!*********************************************************************************************!*\
  !*** ./ui/features/wiki_page_revisions/backbone/collections/WikiPageRevisionsCollection.js ***!
  \*********************************************************************************************/
/*! exports provided: default */
/***/ (function(module, __webpack_exports__, __webpack_require__) {

"use strict";
eval("__webpack_require__.r(__webpack_exports__);\n/* harmony export (binding) */ __webpack_require__.d(__webpack_exports__, \"default\", function() { return WikiPageRevisionsCollection; });\n/* harmony import */ var underscore__WEBPACK_IMPORTED_MODULE_0__ = __webpack_require__(/*! underscore */ \"Y/W1\");\n/* harmony import */ var underscore__WEBPACK_IMPORTED_MODULE_0___default = /*#__PURE__*/__webpack_require__.n(underscore__WEBPACK_IMPORTED_MODULE_0__);\n/* harmony import */ var _canvas_pagination_backbone_collections_PaginatedCollection_coffee__WEBPACK_IMPORTED_MODULE_1__ = __webpack_require__(/*! @canvas/pagination/backbone/collections/PaginatedCollection.coffee */ \"TnsN\");\n/* harmony import */ var _canvas_wiki_backbone_models_WikiPageRevision_coffee__WEBPACK_IMPORTED_MODULE_2__ = __webpack_require__(/*! @canvas/wiki/backbone/models/WikiPageRevision.coffee */ \"W2TM\");\n//\n// Copyright (C) 2013 - present Instructure, Inc.\n//\n// This file is part of Canvas.\n//\n// Canvas is free software: you can redistribute it and/or modify it under\n// the terms of the GNU Affero General Public License as published by the Free\n// Software Foundation, version 3 of the License.\n//\n// Canvas is distributed in the hope that it will be useful, but WITHOUT ANY\n// WARRANTY; without even the implied warranty of MERCHANTABILITY or FITNESS FOR\n// A PARTICULAR PURPOSE. See the GNU Affero General Public License for more\n// details.\n//\n// You should have received a copy of the GNU Affero General Public License along\n// with this program. If not, see <http://www.gnu.org/licenses/>.\n\n\n\nconst revisionOptions = ['parentModel'];\nclass WikiPageRevisionsCollection extends _canvas_pagination_backbone_collections_PaginatedCollection_coffee__WEBPACK_IMPORTED_MODULE_1__[\"default\"] {\n  url() {\n    return `${this.parentModel.url()}/revisions`;\n  }\n\n  initialize(models, options) {\n    super.initialize(...arguments);\n\n    underscore__WEBPACK_IMPORTED_MODULE_0___default.a.extend(this, underscore__WEBPACK_IMPORTED_MODULE_0___default.a.pick(options || {}, revisionOptions));\n\n    if (this.parentModel) {\n      const collection = this;\n      const parentModel = collection.parentModel;\n\n      function setupModel(model) {\n        model.page = parentModel;\n        model.pageUrl = parentModel.get('url');\n        model.contextAssetString = parentModel.contextAssetString;\n\n        if (model.get('latest')) {\n          collection.latest = model;\n        }\n      }\n\n      this.on('reset', models => models.each(setupModel));\n      this.on('add', model => setupModel(model));\n    }\n  }\n\n}\nWikiPageRevisionsCollection.prototype.model = _canvas_wiki_backbone_models_WikiPageRevision_coffee__WEBPACK_IMPORTED_MODULE_2__[\"default\"];\n\n//# sourceURL=webpack:///./ui/features/wiki_page_revisions/backbone/collections/WikiPageRevisionsCollection.js?");

/***/ }),

/***/ "ZfmB":
/*!*******************************************************************************!*\
  !*** ./frontend_build/i18n.js?CollectionView!./ui/shims/dummyI18nResource.js ***!
  \*******************************************************************************/
/*! exports provided: default */
/***/ (function(module, __webpack_exports__, __webpack_require__) {

"use strict";
eval("__webpack_require__.r(__webpack_exports__);\n/* harmony import */ var _canvas_i18n_i18nObj__WEBPACK_IMPORTED_MODULE_0__ = __webpack_require__(/*! @canvas/i18n/i18nObj */ \"HGxv\");\n/* harmony import */ var translations_core_en__WEBPACK_IMPORTED_MODULE_1__ = __webpack_require__(/*! translations/_core_en */ \"0sPK\");\n\n    \n    \n    \n\n    /* harmony default export */ __webpack_exports__[\"default\"] = (_canvas_i18n_i18nObj__WEBPACK_IMPORTED_MODULE_0__[\"default\"].scoped('CollectionView'));\n  \n\n//# sourceURL=webpack:///./ui/shims/dummyI18nResource.js?./frontend_build/i18n.js?CollectionView");

/***/ }),

/***/ "abhM":
/*!**************************************************************************!*\
  !*** ./ui/features/wiki_page_revisions/jst/WikiPageRevisions.handlebars ***!
  \**************************************************************************/
/*! exports provided: default */
/***/ (function(module, __webpack_exports__, __webpack_require__) {

"use strict";
eval("__webpack_require__.r(__webpack_exports__);\n/* harmony import */ var handlebars_runtime__WEBPACK_IMPORTED_MODULE_0__ = __webpack_require__(/*! handlebars/runtime */ \"3O+N\");\n/* harmony import */ var handlebars_runtime__WEBPACK_IMPORTED_MODULE_0___default = /*#__PURE__*/__webpack_require__.n(handlebars_runtime__WEBPACK_IMPORTED_MODULE_0__);\n/* harmony import */ var i18n_wiki_wiki_page_revisions__WEBPACK_IMPORTED_MODULE_1__ = __webpack_require__(/*! i18n!wiki.wiki_page_revisions */ \"LPaV\");\n/* harmony import */ var _canvas_handlebars_helpers_index_coffee__WEBPACK_IMPORTED_MODULE_2__ = __webpack_require__(/*! @canvas/handlebars-helpers/index.coffee */ \"BGrI\");\n\n    \n    var Handlebars = handlebars_runtime__WEBPACK_IMPORTED_MODULE_0___default.a.default;\n    \n\n\n    var template = Handlebars.template, templates = Handlebars.templates = Handlebars.templates || {};\n    var name = '/home/td/workspace/guokehuiyi/canvas/ui/features/wiki-page-revisions/jst/WikiPageRevisions';\n    templates[name] = template(function (Handlebars,depth0,helpers,partials,data) {\n  this.compilerInfo = [4,'>= 1.0.0'];\nhelpers = this.merge(helpers, Handlebars.helpers); data = data || {};\n  var buffer = \"\", stack1, helper, options, helperMissing=helpers.helperMissing, escapeExpression=this.escapeExpression, self=this;\n\nfunction program1(depth0,data) {\n  \n  var buffer = \"\", stack1;\n  buffer += \"\\n    <div class=\\\"revision-nav-buttons\\\">\\n      \";\n  stack1 = helpers['if'].call(depth0, ((stack1 = (depth0 && depth0.CAN)),stack1 == null || stack1 === false ? stack1 : stack1.FETCH_PREV), {hash:{},inverse:self.noop,fn:self.program(2, program2, data),data:data});\n  if(stack1 || stack1 === 0) { buffer += stack1; }\n  buffer += \"\\n      \";\n  stack1 = helpers['if'].call(depth0, ((stack1 = (depth0 && depth0.CAN)),stack1 == null || stack1 === false ? stack1 : stack1.FETCH_NEXT), {hash:{},inverse:self.noop,fn:self.program(4, program4, data),data:data});\n  if(stack1 || stack1 === 0) { buffer += stack1; }\n  buffer += \"\\n    </div>\\n  \";\n  return buffer;\n  }\nfunction program2(depth0,data) {\n  \n  var buffer = \"\", helper, options;\n  buffer += \"\\n        <a class=\\\"prev-button\\\"><i class=\\\"icon-mini-arrow-left\\\"></i> \"\n    + escapeExpression((helper = helpers.t || (depth0 && depth0.t),options={hash:{\n    'i18n_inferred_key': (true)\n  },data:data},helper ? helper.call(depth0, \"previous_bd2ac015\", \"Previous\", options) : helperMissing.call(depth0, \"t\", \"previous_bd2ac015\", \"Previous\", options)))\n    + \"</a>\\n      \";\n  return buffer;\n  }\n\nfunction program4(depth0,data) {\n  \n  var buffer = \"\", helper, options;\n  buffer += \"\\n        <a class=\\\"next-button\\\">\"\n    + escapeExpression((helper = helpers.t || (depth0 && depth0.t),options={hash:{\n    'i18n_inferred_key': (true)\n  },data:data},helper ? helper.call(depth0, \"next_40e12421\", \"Next\", options) : helperMissing.call(depth0, \"t\", \"next_40e12421\", \"Next\", options)))\n    + \" <i class=\\\"icon-mini-arrow-right\\\"></i></a>\\n      \";\n  return buffer;\n  }\n\n  buffer += \"<aside>\\n  <div class=\\\"revision-history\\\">\\n    \"\n    + escapeExpression((helper = helpers.t || (depth0 && depth0.t),options={hash:{\n    'scope': (\"wiki.wiki_page_revisions\")\n  },data:data},helper ? helper.call(depth0, \"revision_history\", \"Revision History\", options) : helperMissing.call(depth0, \"t\", \"revision_history\", \"Revision History\", options)))\n    + \"\\n    <a href=\\\"#\\\" class=\\\"close-button\\\"><i class=\\\"icon-x\\\"></i></a>\\n  </div>\\n  <ul class=\\\"collectionViewItems revisions-list\\\">\\n  </ul>\\n  \";\n  stack1 = (helper = helpers.ifAny || (depth0 && depth0.ifAny),options={hash:{},inverse:self.noop,fn:self.program(1, program1, data),data:data},helper ? helper.call(depth0, ((stack1 = (depth0 && depth0.CAN)),stack1 == null || stack1 === false ? stack1 : stack1.FETCH_PREV), ((stack1 = (depth0 && depth0.CAN)),stack1 == null || stack1 === false ? stack1 : stack1.FETCH_NEXT), options) : helperMissing.call(depth0, \"ifAny\", ((stack1 = (depth0 && depth0.CAN)),stack1 == null || stack1 === false ? stack1 : stack1.FETCH_PREV), ((stack1 = (depth0 && depth0.CAN)),stack1 == null || stack1 === false ? stack1 : stack1.FETCH_NEXT), options));\n  if(stack1 || stack1 === 0) { buffer += stack1; }\n  buffer += \"\\n</aside>\\n\";\n  return buffer;\n  });\n    ;\n    ;\n    /* harmony default export */ __webpack_exports__[\"default\"] = (templates[name]);\n  \n\n//# sourceURL=webpack:///./ui/features/wiki_page_revisions/jst/WikiPageRevisions.handlebars?");

/***/ }),

/***/ "cjYH":
/*!*********************************************************************************!*\
  !*** ./ui/features/wiki_page_revisions/backbone/views/WikiPageRevisionsView.js ***!
  \*********************************************************************************/
/*! exports provided: default */
/***/ (function(module, __webpack_exports__, __webpack_require__) {

"use strict";
eval("__webpack_require__.r(__webpack_exports__);\n/* harmony export (binding) */ __webpack_require__.d(__webpack_exports__, \"default\", function() { return WikiPageRevisionsView; });\n/* harmony import */ var underscore__WEBPACK_IMPORTED_MODULE_0__ = __webpack_require__(/*! underscore */ \"Y/W1\");\n/* harmony import */ var underscore__WEBPACK_IMPORTED_MODULE_0___default = /*#__PURE__*/__webpack_require__.n(underscore__WEBPACK_IMPORTED_MODULE_0__);\n/* harmony import */ var _canvas_backbone_collection_view__WEBPACK_IMPORTED_MODULE_1__ = __webpack_require__(/*! @canvas/backbone-collection-view */ \"HknL\");\n/* harmony import */ var _WikiPageRevisionView__WEBPACK_IMPORTED_MODULE_2__ = __webpack_require__(/*! ./WikiPageRevisionView */ \"ORjn\");\n/* harmony import */ var _jst_WikiPageRevisions_handlebars__WEBPACK_IMPORTED_MODULE_3__ = __webpack_require__(/*! ../../jst/WikiPageRevisions.handlebars */ \"abhM\");\n/* harmony import */ var _jquery_floatingSticky__WEBPACK_IMPORTED_MODULE_4__ = __webpack_require__(/*! ../../jquery/floatingSticky */ \"23XJ\");\n/* harmony import */ var jquery_tinypubsub__WEBPACK_IMPORTED_MODULE_5__ = __webpack_require__(/*! jquery-tinypubsub */ \"XKWA\");\n/* harmony import */ var jquery_tinypubsub__WEBPACK_IMPORTED_MODULE_5___default = /*#__PURE__*/__webpack_require__.n(jquery_tinypubsub__WEBPACK_IMPORTED_MODULE_5__);\n//\n// Copyright (C) 2013 - present Instructure, Inc.\n//\n// This file is part of Canvas.\n//\n// Canvas is free software: you can redistribute it and/or modify it under\n// the terms of the GNU Affero General Public License as published by the Free\n// Software Foundation, version 3 of the License.\n//\n// Canvas is distributed in the hope that it will be useful, but WITHOUT ANY\n// WARRANTY; without even the implied warranty of MERCHANTABILITY or FITNESS FOR\n// A PARTICULAR PURPOSE. See the GNU Affero General Public License for more\n// details.\n//\n// You should have received a copy of the GNU Affero General Public License along\n// with this program. If not, see <http://www.gnu.org/licenses/>.\n\n\n\n\n\n\nclass WikiPageRevisionsView extends _canvas_backbone_collection_view__WEBPACK_IMPORTED_MODULE_1__[\"default\"] {\n  static initClass() {\n    this.prototype.className = 'show-revisions';\n    this.prototype.template = _jst_WikiPageRevisions_handlebars__WEBPACK_IMPORTED_MODULE_3__[\"default\"];\n    this.prototype.itemView = _WikiPageRevisionView__WEBPACK_IMPORTED_MODULE_2__[\"default\"];\n    this.mixin({\n      events: {\n        'click .prev-button': 'prevPage',\n        'click .next-button': 'nextPage',\n        'click .close-button': 'close'\n      },\n      els: {\n        '#ticker': '$ticker',\n        aside: '$aside',\n        '.revisions-list': '$revisionsList'\n      }\n    });\n    this.optionProperty('pages_path');\n  }\n\n  initialize(options) {\n    super.initialize(...arguments);\n    this.selectedRevision = null; // handle selection changes\n\n    this.on('selectionChanged', (newSelection, oldSelection) => {\n      if (oldSelection.model != null) {\n        oldSelection.model.set('selected', false);\n      }\n\n      return newSelection.model != null ? newSelection.model.set('selected', true) : void 0;\n    }); // reposition after rendering\n\n    return this.on('render renderItem', () => this.reposition());\n  }\n\n  afterRender() {\n    super.afterRender(...arguments);\n    Object(jquery_tinypubsub__WEBPACK_IMPORTED_MODULE_5__[\"publish\"])('userContent/change');\n    this.trigger('render');\n    return this.floatingSticky = this.$aside.floatingSticky('#main', {\n      top: '#content'\n    });\n  }\n\n  remove() {\n    if (this.floatingSticky) {\n      underscore__WEBPACK_IMPORTED_MODULE_0___default.a.each(this.floatingSticky, sticky => sticky.remove());\n\n      this.floatingSticky = null;\n    }\n\n    return super.remove(...arguments);\n  }\n\n  renderItem() {\n    super.renderItem(...arguments);\n    return this.trigger('renderItem');\n  }\n\n  attachItemView(model, view) {\n    if (!!this.selectedRevision && this.selectedRevision.get('revision_id') === model.get('revision_id')) {\n      model.set(this.selectedRevision.attributes);\n      model.set('selected', true);\n      this.setSelectedModelAndView(model, view);\n    } else {\n      model.set('selected', false);\n    }\n\n    const selectModel = () => {\n      return this.setSelectedModelAndView(model, view);\n    };\n\n    if (!this.selectedModel) {\n      selectModel();\n    }\n\n    view.pages_path = this.pages_path;\n    view.$el.on('click', selectModel);\n    return view.$el.on('keypress', e => {\n      if (e.keyCode === 13 || e.keyCode === 27) {\n        e.preventDefault();\n        return selectModel();\n      }\n    });\n  }\n\n  setSelectedModelAndView(model, view) {\n    const oldSelectedModel = this.selectedModel;\n    const oldSelectedView = this.selectedView;\n    this.selectedModel = model;\n    this.selectedView = view;\n    this.selectedRevision = model;\n    return this.trigger('selectionChanged', {\n      model,\n      view\n    }, {\n      model: oldSelectedModel,\n      view: oldSelectedView\n    });\n  }\n\n  reposition() {\n    if (this.floatingSticky) {\n      return underscore__WEBPACK_IMPORTED_MODULE_0___default.a.each(this.floatingSticky, sticky => sticky.reposition());\n    }\n  }\n\n  prevPage(ev) {\n    if (ev != null) {\n      ev.preventDefault();\n    }\n\n    return this.$el.disableWhileLoading(this.collection.fetch({\n      page: 'prev',\n      reset: true\n    }));\n  }\n\n  nextPage(ev) {\n    if (ev != null) {\n      ev.preventDefault();\n    }\n\n    return this.$el.disableWhileLoading(this.collection.fetch({\n      page: 'next',\n      reset: true\n    }));\n  }\n\n  close(ev) {\n    if (ev != null) {\n      ev.preventDefault();\n    }\n\n    return window.location.href = this.collection.parentModel.get('html_url');\n  }\n\n  toJSON() {\n    const json = super.toJSON(...arguments);\n    json.CAN = {\n      FETCH_PREV: this.collection.canFetch('prev'),\n      FETCH_NEXT: this.collection.canFetch('next')\n    };\n    return json;\n  }\n\n}\nWikiPageRevisionsView.initClass();\n\n//# sourceURL=webpack:///./ui/features/wiki_page_revisions/backbone/views/WikiPageRevisionsView.js?");

/***/ }),

/***/ "hI1R":
/*!*****************************************************************************!*\
  !*** ./frontend_build/i18n.js?user_content!./ui/shims/dummyI18nResource.js ***!
  \*****************************************************************************/
/*! exports provided: default */
/***/ (function(module, __webpack_exports__, __webpack_require__) {

"use strict";
eval("__webpack_require__.r(__webpack_exports__);\n/* harmony import */ var _canvas_i18n_i18nObj__WEBPACK_IMPORTED_MODULE_0__ = __webpack_require__(/*! @canvas/i18n/i18nObj */ \"HGxv\");\n/* harmony import */ var translations_core_en__WEBPACK_IMPORTED_MODULE_1__ = __webpack_require__(/*! translations/_core_en */ \"0sPK\");\n\n    \n    \n    \n\n    /* harmony default export */ __webpack_exports__[\"default\"] = (_canvas_i18n_i18nObj__WEBPACK_IMPORTED_MODULE_0__[\"default\"].scoped('user_content'));\n  \n\n//# sourceURL=webpack:///./ui/shims/dummyI18nResource.js?./frontend_build/i18n.js?user_content");

/***/ }),

/***/ "lH+4":
/*!**********************************************************************!*\
  !*** ./frontend_build/i18n.js?pages!./ui/shims/dummyI18nResource.js ***!
  \**********************************************************************/
/*! exports provided: default */
/***/ (function(module, __webpack_exports__, __webpack_require__) {

"use strict";
eval("__webpack_require__.r(__webpack_exports__);\n/* harmony import */ var _canvas_i18n_i18nObj__WEBPACK_IMPORTED_MODULE_0__ = __webpack_require__(/*! @canvas/i18n/i18nObj */ \"HGxv\");\n/* harmony import */ var translations_core_en__WEBPACK_IMPORTED_MODULE_1__ = __webpack_require__(/*! translations/_core_en */ \"0sPK\");\n\n    \n    \n    \n\n    /* harmony default export */ __webpack_exports__[\"default\"] = (_canvas_i18n_i18nObj__WEBPACK_IMPORTED_MODULE_0__[\"default\"].scoped('pages'));\n  \n\n//# sourceURL=webpack:///./ui/shims/dummyI18nResource.js?./frontend_build/i18n.js?pages");

/***/ }),

/***/ "msTH":
/*!*************************************************!*\
  !*** ./ui/shared/util/jquery/apiUserContent.js ***!
  \*************************************************/
/*! exports provided: default */
/***/ (function(module, __webpack_exports__, __webpack_require__) {

"use strict";
eval("__webpack_require__.r(__webpack_exports__);\n/* harmony import */ var jquery__WEBPACK_IMPORTED_MODULE_0__ = __webpack_require__(/*! jquery */ \"ouhR\");\n/* harmony import */ var jquery__WEBPACK_IMPORTED_MODULE_0___default = /*#__PURE__*/__webpack_require__.n(jquery__WEBPACK_IMPORTED_MODULE_0__);\n/* harmony import */ var underscore__WEBPACK_IMPORTED_MODULE_1__ = __webpack_require__(/*! underscore */ \"Y/W1\");\n/* harmony import */ var underscore__WEBPACK_IMPORTED_MODULE_1___default = /*#__PURE__*/__webpack_require__.n(underscore__WEBPACK_IMPORTED_MODULE_1__);\n/* harmony import */ var html_escape__WEBPACK_IMPORTED_MODULE_2__ = __webpack_require__(/*! html-escape */ \"gI0r\");\n/* harmony import */ var i18n_user_content__WEBPACK_IMPORTED_MODULE_3__ = __webpack_require__(/*! i18n!user_content */ \"hI1R\");\n//\n// Copyright (C) 2015 - present Instructure, Inc.\n//\n// This file is part of Canvas.\n//\n// Canvas is free software: you can redistribute it and/or modify it under\n// the terms of the GNU Affero General Public License as published by the Free\n// Software Foundation, version 3 of the License.\n//\n// Canvas is distributed in the hope that it will be useful, but WITHOUT ANY\n// WARRANTY; without even the implied warranty of MERCHANTABILITY or FITNESS FOR\n// A PARTICULAR PURPOSE. See the GNU Affero General Public License for more\n// details.\n//\n// You should have received a copy of the GNU Affero General Public License along\n// with this program. If not, see <http://www.gnu.org/licenses/>.\n\n\n\n\nconst apiUserContent = {\n  /*\n  xsslint safeString.identifier mathml\n  */\n  translateMathmlForScreenreaders($equationImage) {\n    var _ENV, _ENV$FEATURES;\n\n    if (!((_ENV = ENV) !== null && _ENV !== void 0 && (_ENV$FEATURES = _ENV.FEATURES) !== null && _ENV$FEATURES !== void 0 && _ENV$FEATURES.new_math_equation_handling)) {\n      // note, it is safe to treat the x-canvaslms-safe-mathml as html because it\n      // only ever gets put there by us (in Api::Html::Content::apply_mathml).\n      // Any user content that gets sent to the server will have the\n      // x-canvaslms-safe-mathml attribute stripped out.\n      const mathml = jquery__WEBPACK_IMPORTED_MODULE_0___default()('<div/>').html($equationImage.attr('x-canvaslms-safe-mathml')).html();\n      const mathmlSpan = jquery__WEBPACK_IMPORTED_MODULE_0___default()('<span class=\"hidden-readable\"></span>');\n      mathmlSpan.html(mathml);\n      return mathmlSpan;\n    }\n  },\n\n  toMediaCommentLink(node) {\n    const $link = jquery__WEBPACK_IMPORTED_MODULE_0___default()(`<a\n        id='media_comment_${Object(html_escape__WEBPACK_IMPORTED_MODULE_2__[\"default\"])(jquery__WEBPACK_IMPORTED_MODULE_0___default()(node).data('media_comment_id'))}'\n        data-media_comment_type='${Object(html_escape__WEBPACK_IMPORTED_MODULE_2__[\"default\"])(jquery__WEBPACK_IMPORTED_MODULE_0___default()(node).data('media_comment_type'))}'\n        class='instructure_inline_media_comment ${Object(html_escape__WEBPACK_IMPORTED_MODULE_2__[\"default\"])(node.nodeName.toLowerCase())}_comment'\n        data-alt='${Object(html_escape__WEBPACK_IMPORTED_MODULE_2__[\"default\"])(jquery__WEBPACK_IMPORTED_MODULE_0___default()(node).attr('data-alt'))}'\n      />`);\n    $link.html(jquery__WEBPACK_IMPORTED_MODULE_0___default()(node).html());\n    return $link;\n  },\n\n  /*\n  xsslint safeString.identifier mathmlSpan\n  */\n  // use this method to process any user content fields returned in api responses\n  // this is important to handle object/embed tags safely, and to properly display audio/video tags\n  convert(html, options = {}) {\n    const $dummy = jquery__WEBPACK_IMPORTED_MODULE_0___default()('<div />').html(html); // finds any <video/audio class=\"instructure_inline_media_comment\"> and turns them into media comment thumbnails\n\n    $dummy.find('video.instructure_inline_media_comment,audio.instructure_inline_media_comment').replaceWith(function () {\n      return apiUserContent.toMediaCommentLink(this);\n    }); // remove any embed tags inside an object tag, to avoid repeated translations\n\n    $dummy.find('object.instructure_user_content:not(#kaltura_player) embed').remove(); // if we aren't actually displaying this content but are instead putting\n    // it into a RTE, we want to preserve the object/embed tags\n\n    if (!options.forEditing) {\n      // find all object/embed tags and convert them into an iframe that posts\n      // to safefiles to display the content (to avoid javascript attacks)\n      //\n      // see the corresponding code in lib/user_content.rb for non-api user\n      // content handling\n      $dummy.find('object.instructure_user_content,embed.instructure_user_content').replaceWith(function () {\n        const $this = jquery__WEBPACK_IMPORTED_MODULE_0___default()(this);\n\n        if (!$this.data('uc_snippet') || !$this.data('uc_sig')) {\n          return this;\n        }\n\n        const uuid = underscore__WEBPACK_IMPORTED_MODULE_1___default.a.uniqueId('uc_');\n\n        let action = '/object_snippet';\n\n        if (ENV.files_domain) {\n          action = `//${ENV.files_domain}${action}`;\n        }\n\n        const $form = jquery__WEBPACK_IMPORTED_MODULE_0___default()(`<form\n            action='${Object(html_escape__WEBPACK_IMPORTED_MODULE_2__[\"default\"])(action)}'\n            method='post'\n            class='user_content_post_form'\n            target='${Object(html_escape__WEBPACK_IMPORTED_MODULE_2__[\"default\"])(uuid)}'\n            id='form-${Object(html_escape__WEBPACK_IMPORTED_MODULE_2__[\"default\"])(uuid)}'\n          />`);\n        $form.append(jquery__WEBPACK_IMPORTED_MODULE_0___default()(\"<input type='hidden'/>\").attr({\n          name: 'object_data',\n          value: $this.data('uc_snippet')\n        }));\n        $form.append(jquery__WEBPACK_IMPORTED_MODULE_0___default()(\"<input type='hidden'/>\").attr({\n          name: 's',\n          value: $this.data('uc_sig')\n        }));\n        jquery__WEBPACK_IMPORTED_MODULE_0___default()('body').append($form);\n        setTimeout(() => $form.submit(), 0);\n        return jquery__WEBPACK_IMPORTED_MODULE_0___default()(`<iframe\n            class='user_content_iframe'\n            name='${Object(html_escape__WEBPACK_IMPORTED_MODULE_2__[\"default\"])(uuid)}'\n            style='width: ${Object(html_escape__WEBPACK_IMPORTED_MODULE_2__[\"default\"])($this.data('uc_width'))}; height: ${Object(html_escape__WEBPACK_IMPORTED_MODULE_2__[\"default\"])($this.data('uc_height'))};'\n            frameborder='0'\n            title='${Object(html_escape__WEBPACK_IMPORTED_MODULE_2__[\"default\"])(i18n_user_content__WEBPACK_IMPORTED_MODULE_3__[\"default\"].t('User Content'))}'\n          />`);\n      });\n      $dummy.find('img.equation_image').each((index, equationImage) => {\n        const $equationImage = jquery__WEBPACK_IMPORTED_MODULE_0___default()(equationImage);\n        const mathmlSpan = apiUserContent.translateMathmlForScreenreaders($equationImage);\n        $equationImage.removeAttr('x-canvaslms-safe-mathml');\n        $equationImage.after(mathmlSpan);\n      });\n    }\n\n    return $dummy.html();\n  }\n\n};\n/* harmony default export */ __webpack_exports__[\"default\"] = (apiUserContent);\n\n//# sourceURL=webpack:///./ui/shared/util/jquery/apiUserContent.js?");

/***/ }),

/***/ "rGqL":
/*!**************************************************!*\
  !*** ./ui/features/wiki_page_revisions/index.js ***!
  \**************************************************/
/*! no exports provided */
/***/ (function(module, __webpack_exports__, __webpack_require__) {

"use strict";
eval("__webpack_require__.r(__webpack_exports__);\n/* harmony import */ var jquery__WEBPACK_IMPORTED_MODULE_0__ = __webpack_require__(/*! jquery */ \"ouhR\");\n/* harmony import */ var jquery__WEBPACK_IMPORTED_MODULE_0___default = /*#__PURE__*/__webpack_require__.n(jquery__WEBPACK_IMPORTED_MODULE_0__);\n/* harmony import */ var _instructure_ready__WEBPACK_IMPORTED_MODULE_1__ = __webpack_require__(/*! @instructure/ready */ \"3lLS\");\n/* harmony import */ var _instructure_ready__WEBPACK_IMPORTED_MODULE_1___default = /*#__PURE__*/__webpack_require__.n(_instructure_ready__WEBPACK_IMPORTED_MODULE_1__);\n/* harmony import */ var _canvas_wiki_backbone_models_WikiPage_coffee__WEBPACK_IMPORTED_MODULE_2__ = __webpack_require__(/*! @canvas/wiki/backbone/models/WikiPage.coffee */ \"9P8q\");\n/* harmony import */ var _backbone_collections_WikiPageRevisionsCollection__WEBPACK_IMPORTED_MODULE_3__ = __webpack_require__(/*! ./backbone/collections/WikiPageRevisionsCollection */ \"YDjQ\");\n/* harmony import */ var _backbone_views_WikiPageContentView__WEBPACK_IMPORTED_MODULE_4__ = __webpack_require__(/*! ./backbone/views/WikiPageContentView */ \"vWL5\");\n/* harmony import */ var _backbone_views_WikiPageRevisionsView__WEBPACK_IMPORTED_MODULE_5__ = __webpack_require__(/*! ./backbone/views/WikiPageRevisionsView */ \"cjYH\");\n/*\n * Copyright (C) 2013 - present Instructure, Inc.\n *\n * This file is part of Canvas.\n *\n * Canvas is free software: you can redistribute it and/or modify it under\n * the terms of the GNU Affero General Public License as published by the Free\n * Software Foundation, version 3 of the License.\n *\n * Canvas is distributed in the hope that it will be useful, but WITHOUT ANY\n * WARRANTY; without even the implied warranty of MERCHANTABILITY or FITNESS FOR\n * A PARTICULAR PURPOSE. See the GNU Affero General Public License for more\n * details.\n *\n * You should have received a copy of the GNU Affero General Public License along\n * with this program. If not, see <http://www.gnu.org/licenses/>.\n */\n\n\n\n\n\n\njquery__WEBPACK_IMPORTED_MODULE_0___default()('body').addClass('show revisions');\nconst wikiPage = new _canvas_wiki_backbone_models_WikiPage_coffee__WEBPACK_IMPORTED_MODULE_2__[\"default\"](ENV.WIKI_PAGE, {\n  revision: ENV.WIKI_PAGE_REVISION,\n  contextAssetString: ENV.context_asset_string\n});\nconst revisions = new _backbone_collections_WikiPageRevisionsCollection__WEBPACK_IMPORTED_MODULE_3__[\"default\"]([], {\n  parentModel: wikiPage\n});\n_instructure_ready__WEBPACK_IMPORTED_MODULE_1___default()(() => {\n  const revisionsView = new _backbone_views_WikiPageRevisionsView__WEBPACK_IMPORTED_MODULE_5__[\"default\"]({\n    collection: revisions,\n    pages_path: ENV.WIKI_PAGES_PATH\n  });\n  const contentView = new _backbone_views_WikiPageContentView__WEBPACK_IMPORTED_MODULE_4__[\"default\"]();\n  contentView.$el.appendTo('#wiki_page_revisions');\n  contentView.on('render', () => revisionsView.reposition());\n  contentView.render();\n  revisionsView.on('selectionChanged', newSelection => {\n    contentView.setModel(newSelection.model);\n\n    if (!newSelection.model.get('title') || newSelection.model.get('title') === '') {\n      return contentView.$el.disableWhileLoading(newSelection.model.fetch());\n    }\n  });\n  revisionsView.$el.appendTo('#wiki_page_revisions');\n  revisionsView.render();\n  revisionsView.collection.setParams({\n    per_page: 10\n  });\n  revisionsView.collection.fetch();\n});\n\n//# sourceURL=webpack:///./ui/features/wiki_page_revisions/index.js?");

/***/ }),

/***/ "t0gJ":
/*!****************************************************************************************!*\
  !*** ./frontend_build/i18n.js?wiki.wiki_page_revision!./ui/shims/dummyI18nResource.js ***!
  \****************************************************************************************/
/*! exports provided: default */
/***/ (function(module, __webpack_exports__, __webpack_require__) {

"use strict";
eval("__webpack_require__.r(__webpack_exports__);\n/* harmony import */ var _canvas_i18n_i18nObj__WEBPACK_IMPORTED_MODULE_0__ = __webpack_require__(/*! @canvas/i18n/i18nObj */ \"HGxv\");\n/* harmony import */ var translations_core_en__WEBPACK_IMPORTED_MODULE_1__ = __webpack_require__(/*! translations/_core_en */ \"0sPK\");\n\n    \n    \n    \n\n    /* harmony default export */ __webpack_exports__[\"default\"] = (_canvas_i18n_i18nObj__WEBPACK_IMPORTED_MODULE_0__[\"default\"].scoped('wiki.wiki_page_revision'));\n  \n\n//# sourceURL=webpack:///./ui/shims/dummyI18nResource.js?./frontend_build/i18n.js?wiki.wiki_page_revision");

/***/ }),

/***/ "tEkM":
/*!*************************************************************************!*\
  !*** ./ui/features/wiki_page_revisions/jst/WikiPageRevision.handlebars ***!
  \*************************************************************************/
/*! exports provided: default */
/***/ (function(module, __webpack_exports__, __webpack_require__) {

"use strict";
eval("__webpack_require__.r(__webpack_exports__);\n/* harmony import */ var handlebars_runtime__WEBPACK_IMPORTED_MODULE_0__ = __webpack_require__(/*! handlebars/runtime */ \"3O+N\");\n/* harmony import */ var handlebars_runtime__WEBPACK_IMPORTED_MODULE_0___default = /*#__PURE__*/__webpack_require__.n(handlebars_runtime__WEBPACK_IMPORTED_MODULE_0__);\n/* harmony import */ var i18n_wiki_wiki_page_revision__WEBPACK_IMPORTED_MODULE_1__ = __webpack_require__(/*! i18n!wiki.wiki_page_revision */ \"t0gJ\");\n/* harmony import */ var _canvas_handlebars_helpers_index_coffee__WEBPACK_IMPORTED_MODULE_2__ = __webpack_require__(/*! @canvas/handlebars-helpers/index.coffee */ \"BGrI\");\n\n    \n    var Handlebars = handlebars_runtime__WEBPACK_IMPORTED_MODULE_0___default.a.default;\n    \n\n\n    var template = Handlebars.template, templates = Handlebars.templates = Handlebars.templates || {};\n    var name = '/home/td/workspace/guokehuiyi/canvas/ui/features/wiki-page-revisions/jst/WikiPageRevision';\n    templates[name] = template(function (Handlebars,depth0,helpers,partials,data) {\n  this.compilerInfo = [4,'>= 1.0.0'];\nhelpers = this.merge(helpers, Handlebars.helpers); data = data || {};\n  var buffer = \"\", stack1, helperMissing=helpers.helperMissing, escapeExpression=this.escapeExpression, functionType=\"function\", self=this;\n\nfunction program1(depth0,data) {\n  \n  var buffer = \"\", helper, options;\n  buffer += \"\\n      \"\n    + escapeExpression((helper = helpers.t || (depth0 && depth0.t),options={hash:{\n    'updated_at': ((depth0 && depth0.updated_at)),\n    'edited_by': ((depth0 && depth0.edited_by)),\n    'w0': (\"<strong>$1</strong>\"),\n    'scope': (\"wiki.wiki_page_revision\")\n  },data:data},helper ? helper.call(depth0, \"revision_summary\", \"*%{updated_at}* by %{edited_by}\", options) : helperMissing.call(depth0, \"t\", \"revision_summary\", \"*%{updated_at}* by %{edited_by}\", options)))\n    + \"\\n    \";\n  return buffer;\n  }\n\nfunction program3(depth0,data) {\n  \n  var buffer = \"\", stack1, helper;\n  buffer += \"\\n      <strong>\";\n  if (helper = helpers.updated_at) { stack1 = helper.call(depth0, {hash:{},data:data}); }\n  else { helper = (depth0 && depth0.updated_at); stack1 = typeof helper === functionType ? helper.call(depth0, {hash:{},data:data}) : helper; }\n  buffer += escapeExpression(stack1)\n    + \"</strong>\\n    \";\n  return buffer;\n  }\n\nfunction program5(depth0,data) {\n  \n  var buffer = \"\", helper, options;\n  buffer += \"\\n    <div class=\\\"revision-actions\\\">\"\n    + escapeExpression((helper = helpers.t || (depth0 && depth0.t),options={hash:{\n    'scope': (\"wiki.wiki_page_revision\")\n  },data:data},helper ? helper.call(depth0, \"latest_revision\", \"Latest Revision\", options) : helperMissing.call(depth0, \"t\", \"latest_revision\", \"Latest Revision\", options)))\n    + \"</div>\\n  \";\n  return buffer;\n  }\n\nfunction program7(depth0,data) {\n  \n  var buffer = \"\", stack1, helper, options;\n  buffer += \"\\n    \";\n  stack1 = (helper = helpers.ifAll || (depth0 && depth0.ifAll),options={hash:{},inverse:self.noop,fn:self.program(8, program8, data),data:data},helper ? helper.call(depth0, ((stack1 = (depth0 && depth0.IS)),stack1 == null || stack1 === false ? stack1 : stack1.SELECTED), ((stack1 = (depth0 && depth0.IS)),stack1 == null || stack1 === false ? stack1 : stack1.LOADED), options) : helperMissing.call(depth0, \"ifAll\", ((stack1 = (depth0 && depth0.IS)),stack1 == null || stack1 === false ? stack1 : stack1.SELECTED), ((stack1 = (depth0 && depth0.IS)),stack1 == null || stack1 === false ? stack1 : stack1.LOADED), options));\n  if(stack1 || stack1 === 0) { buffer += stack1; }\n  buffer += \"\\n  \";\n  return buffer;\n  }\nfunction program8(depth0,data) {\n  \n  var buffer = \"\", stack1;\n  buffer += \"\\n      <div class=\\\"revision-actions\\\">\\n        \";\n  stack1 = helpers['if'].call(depth0, ((stack1 = (depth0 && depth0.IS)),stack1 == null || stack1 === false ? stack1 : stack1.SAME_AS_LATEST), {hash:{},inverse:self.program(11, program11, data),fn:self.program(9, program9, data),data:data});\n  if(stack1 || stack1 === 0) { buffer += stack1; }\n  buffer += \"\\n      </div>\\n    \";\n  return buffer;\n  }\nfunction program9(depth0,data) {\n  \n  var buffer = \"\", helper, options;\n  buffer += \"\\n          \"\n    + escapeExpression((helper = helpers.t || (depth0 && depth0.t),options={hash:{\n    'w0': (\"<strong>$1</strong>\"),\n    'scope': (\"wiki.wiki_page_revision\")\n  },data:data},helper ? helper.call(depth0, \"same_as_latest\", \"Same as *Latest*\", options) : helperMissing.call(depth0, \"t\", \"same_as_latest\", \"Same as *Latest*\", options)))\n    + \"\\n        \";\n  return buffer;\n  }\n\nfunction program11(depth0,data) {\n  \n  var buffer = \"\", helper, options;\n  buffer += \"\\n          <a class=\\\"restore-link\\\" href=\\\"#\\\">\"\n    + escapeExpression((helper = helpers.t || (depth0 && depth0.t),options={hash:{\n    'scope': (\"wiki.wiki_page_revision\")\n  },data:data},helper ? helper.call(depth0, \"restore_revision\", \"Restore this revision\", options) : helperMissing.call(depth0, \"t\", \"restore_revision\", \"Restore this revision\", options)))\n    + \"</a>\\n        \";\n  return buffer;\n  }\n\n  buffer += \"<div class=\\\"revision-content\\\">\\n  <button class=\\\"revision-details Button--link\\\">\\n    \";\n  stack1 = helpers['if'].call(depth0, (depth0 && depth0.edited_by), {hash:{},inverse:self.program(3, program3, data),fn:self.program(1, program1, data),data:data});\n  if(stack1 || stack1 === 0) { buffer += stack1; }\n  buffer += \"\\n  </button>\\n\\n  \";\n  stack1 = helpers['if'].call(depth0, ((stack1 = (depth0 && depth0.IS)),stack1 == null || stack1 === false ? stack1 : stack1.LATEST), {hash:{},inverse:self.program(7, program7, data),fn:self.program(5, program5, data),data:data});\n  if(stack1 || stack1 === 0) { buffer += stack1; }\n  buffer += \"\\n</div>\\n\";\n  return buffer;\n  });\n    ;\n    ;\n    /* harmony default export */ __webpack_exports__[\"default\"] = (templates[name]);\n  \n\n//# sourceURL=webpack:///./ui/features/wiki_page_revisions/jst/WikiPageRevision.handlebars?");

/***/ }),

/***/ "vWL5":
/*!*******************************************************************************!*\
  !*** ./ui/features/wiki_page_revisions/backbone/views/WikiPageContentView.js ***!
  \*******************************************************************************/
/*! exports provided: default */
/***/ (function(module, __webpack_exports__, __webpack_require__) {

"use strict";
eval("__webpack_require__.r(__webpack_exports__);\n/* harmony export (binding) */ __webpack_require__.d(__webpack_exports__, \"default\", function() { return WikiPageContentView; });\n/* harmony import */ var jquery__WEBPACK_IMPORTED_MODULE_0__ = __webpack_require__(/*! jquery */ \"ouhR\");\n/* harmony import */ var jquery__WEBPACK_IMPORTED_MODULE_0___default = /*#__PURE__*/__webpack_require__.n(jquery__WEBPACK_IMPORTED_MODULE_0__);\n/* harmony import */ var underscore__WEBPACK_IMPORTED_MODULE_1__ = __webpack_require__(/*! underscore */ \"Y/W1\");\n/* harmony import */ var underscore__WEBPACK_IMPORTED_MODULE_1___default = /*#__PURE__*/__webpack_require__.n(underscore__WEBPACK_IMPORTED_MODULE_1__);\n/* harmony import */ var _canvas_backbone__WEBPACK_IMPORTED_MODULE_2__ = __webpack_require__(/*! @canvas/backbone */ \"mX+G\");\n/* harmony import */ var _canvas_backbone__WEBPACK_IMPORTED_MODULE_2___default = /*#__PURE__*/__webpack_require__.n(_canvas_backbone__WEBPACK_IMPORTED_MODULE_2__);\n/* harmony import */ var _jst_WikiPageContent_handlebars__WEBPACK_IMPORTED_MODULE_3__ = __webpack_require__(/*! ../../jst/WikiPageContent.handlebars */ \"Wx+K\");\n/* harmony import */ var jquery_tinypubsub__WEBPACK_IMPORTED_MODULE_4__ = __webpack_require__(/*! jquery-tinypubsub */ \"XKWA\");\n/* harmony import */ var jquery_tinypubsub__WEBPACK_IMPORTED_MODULE_4___default = /*#__PURE__*/__webpack_require__.n(jquery_tinypubsub__WEBPACK_IMPORTED_MODULE_4__);\n//\n// Copyright (C) 2013 - present Instructure, Inc.\n//\n// This file is part of Canvas.\n//\n// Canvas is free software: you can redistribute it and/or modify it under\n// the terms of the GNU Affero General Public License as published by the Free\n// Software Foundation, version 3 of the License.\n//\n// Canvas is distributed in the hope that it will be useful, but WITHOUT ANY\n// WARRANTY; without even the implied warranty of MERCHANTABILITY or FITNESS FOR\n// A PARTICULAR PURPOSE. See the GNU Affero General Public License for more\n// details.\n//\n// You should have received a copy of the GNU Affero General Public License along\n// with this program. If not, see <http://www.gnu.org/licenses/>.\n\n\n\n\n\nclass WikiPageContentView extends _canvas_backbone__WEBPACK_IMPORTED_MODULE_2___default.a.View {\n  static initClass() {\n    this.prototype.tagName = 'article';\n    this.prototype.className = 'show-content user_content';\n    this.prototype.template = _jst_WikiPageContent_handlebars__WEBPACK_IMPORTED_MODULE_3__[\"default\"];\n    this.optionProperty('modules_path');\n    this.optionProperty('wiki_pages_path');\n    this.optionProperty('wiki_page_edit_path');\n    this.optionProperty('wiki_page_history_path');\n    this.optionProperty('WIKI_RIGHTS');\n    this.optionProperty('PAGE_RIGHTS');\n    this.optionProperty('course_id');\n    this.optionProperty('course_home');\n    this.optionProperty('course_title');\n  }\n\n  initialize() {\n    super.initialize(...arguments);\n    if (!this.WIKI_RIGHTS) this.WIKI_RIGHTS = {};\n    if (!this.PAGE_RIGHTS) this.PAGE_RIGHTS = {};\n    return this.setModel(this.model);\n  }\n\n  afterRender() {\n    super.afterRender(...arguments);\n    Object(jquery_tinypubsub__WEBPACK_IMPORTED_MODULE_4__[\"publish\"])('userContent/change');\n    return this.trigger('render');\n  }\n\n  setModel(model) {\n    if (this.model != null) {\n      this.model.off(null, null, this);\n    }\n\n    this.model = model;\n\n    if (this.model != null) {\n      this.model.on('change:title', () => this.render(), this);\n    }\n\n    if (this.model != null) {\n      this.model.on('change:body', () => this.render(), this);\n    }\n\n    return this.render();\n  }\n\n  toJSON() {\n    const json = super.toJSON(...arguments);\n    json.modules_path = this.modules_path;\n    json.wiki_pages_path = this.wiki_pages_path;\n    json.wiki_page_edit_path = this.wiki_page_edit_path;\n    json.wiki_page_history_path = this.wiki_page_history_path;\n    json.course_home = this.course_home;\n    json.course_title = this.course_title;\n    json.CAN = {\n      VIEW_ALL_PAGES: !!this.display_show_all_pages,\n      VIEW_PAGES: !!this.WIKI_RIGHTS.read,\n      PUBLISH: !!this.WIKI_RIGHTS.publish_page,\n      UPDATE_CONTENT: !!this.PAGE_RIGHTS.update || !!this.PAGE_RIGHTS.update_content,\n      DELETE: !!this.PAGE_RIGHTS.delete && !this.course_home,\n      READ_REVISIONS: !!this.PAGE_RIGHTS.read_revisions\n    };\n    json.CAN.ACCESS_GEAR_MENU = json.CAN.DELETE || json.CAN.READ_REVISIONS;\n    json.CAN.VIEW_TOOLBAR = json.CAN.VIEW_PAGES || json.CAN.PUBLISH || json.CAN.UPDATE_CONTENT || json.CAN.ACCESS_GEAR_MENU;\n\n    if (json.lock_info) {\n      json.lock_info = underscore__WEBPACK_IMPORTED_MODULE_1___default.a.clone(json.lock_info);\n    }\n\n    if (json.lock_info != null ? json.lock_info.unlock_at : void 0) {\n      json.lock_info.unlock_at = Date.parse(json.lock_info.unlock_at) < Date.now() ? null : jquery__WEBPACK_IMPORTED_MODULE_0___default.a.datetimeString(json.lock_info.unlock_at);\n    }\n\n    return json;\n  }\n\n}\nWikiPageContentView.initClass();\n\n//# sourceURL=webpack:///./ui/features/wiki_page_revisions/backbone/views/WikiPageContentView.js?");

/***/ })

}]);