(window["canvasWebpackJsonp"] = window["canvasWebpackJsonp"] || []).push([[3679],{

/***/ "+1nY":
/*!*****************************************************************************************!*\
  !*** ./ui/features/gradebook/react/default_gradebook/apis/GradebookSettingsModalApi.js ***!
  \*****************************************************************************************/
/*! exports provided: DEFAULT_LATE_POLICY_DATA, fetchLatePolicy, createLatePolicy, updateLatePolicy, updateCourseSettings */
/***/ (function(module, __webpack_exports__, __webpack_require__) {

"use strict";
eval("__webpack_require__.r(__webpack_exports__);\n/* harmony export (binding) */ __webpack_require__.d(__webpack_exports__, \"DEFAULT_LATE_POLICY_DATA\", function() { return DEFAULT_LATE_POLICY_DATA; });\n/* harmony export (binding) */ __webpack_require__.d(__webpack_exports__, \"fetchLatePolicy\", function() { return fetchLatePolicy; });\n/* harmony export (binding) */ __webpack_require__.d(__webpack_exports__, \"createLatePolicy\", function() { return createLatePolicy; });\n/* harmony export (binding) */ __webpack_require__.d(__webpack_exports__, \"updateLatePolicy\", function() { return updateLatePolicy; });\n/* harmony export (binding) */ __webpack_require__.d(__webpack_exports__, \"updateCourseSettings\", function() { return updateCourseSettings; });\n/* harmony import */ var _canvas_axios__WEBPACK_IMPORTED_MODULE_0__ = __webpack_require__(/*! @canvas/axios */ \"BrAc\");\n/* harmony import */ var convert_case__WEBPACK_IMPORTED_MODULE_1__ = __webpack_require__(/*! convert-case */ \"Kr7l\");\n/*\n * Copyright (C) 2017 - present Instructure, Inc.\n *\n * This file is part of Canvas.\n *\n * Canvas is free software: you can redistribute it and/or modify it under\n * the terms of the GNU Affero General Public License as published by the Free\n * Software Foundation, version 3 of the License.\n *\n * Canvas is distributed in the hope that it will be useful, but WITHOUT ANY\n * WARRANTY; without even the implied warranty of MERCHANTABILITY or FITNESS FOR\n * A PARTICULAR PURPOSE. See the GNU Affero General Public License for more\n * details.\n *\n * You should have received a copy of the GNU Affero General Public License along\n * with this program. If not, see <http://www.gnu.org/licenses/>.\n */\n\n\nconst DEFAULT_LATE_POLICY_DATA = Object.freeze({\n  lateSubmissionDeductionEnabled: false,\n  lateSubmissionDeduction: 0,\n  lateSubmissionInterval: 'day',\n  lateSubmissionMinimumPercentEnabled: false,\n  lateSubmissionMinimumPercent: 0,\n  missingSubmissionDeductionEnabled: false,\n  missingSubmissionDeduction: 0,\n  newRecord: true\n});\n\nfunction camelizeLatePolicyResponseData(latePolicyResponseData) {\n  const camelizedData = Object(convert_case__WEBPACK_IMPORTED_MODULE_1__[\"camelize\"])(latePolicyResponseData.late_policy);\n  return {\n    latePolicy: camelizedData\n  };\n}\n\nfunction fetchLatePolicy(courseId) {\n  const url = `/api/v1/courses/${courseId}/late_policy`;\n  return _canvas_axios__WEBPACK_IMPORTED_MODULE_0__[\"default\"].get(url).then(response => ({\n    data: camelizeLatePolicyResponseData(response.data)\n  })).catch(error => {\n    // if we get a 404 then we know the course does not\n    // currently have a late policy set up\n    if (error.response && error.response.status === 404) {\n      return Promise.resolve({\n        data: {\n          latePolicy: DEFAULT_LATE_POLICY_DATA\n        }\n      });\n    } else {\n      return Promise.reject(error);\n    }\n  });\n}\nfunction createLatePolicy(courseId, latePolicyData) {\n  const url = `/api/v1/courses/${courseId}/late_policy`;\n  const data = {\n    late_policy: Object(convert_case__WEBPACK_IMPORTED_MODULE_1__[\"underscore\"])(latePolicyData)\n  };\n  return _canvas_axios__WEBPACK_IMPORTED_MODULE_0__[\"default\"].post(url, data).then(response => ({\n    data: camelizeLatePolicyResponseData(response.data)\n  }));\n}\nfunction updateLatePolicy(courseId, latePolicyData) {\n  const url = `/api/v1/courses/${courseId}/late_policy`;\n  const data = {\n    late_policy: Object(convert_case__WEBPACK_IMPORTED_MODULE_1__[\"underscore\"])(latePolicyData)\n  };\n  return _canvas_axios__WEBPACK_IMPORTED_MODULE_0__[\"default\"].patch(url, data);\n}\nfunction updateCourseSettings(courseId, settings) {\n  const url = `/api/v1/courses/${courseId}/settings`;\n  return _canvas_axios__WEBPACK_IMPORTED_MODULE_0__[\"default\"].put(url, Object(convert_case__WEBPACK_IMPORTED_MODULE_1__[\"underscore\"])(settings)).then(response => ({\n    data: Object(convert_case__WEBPACK_IMPORTED_MODULE_1__[\"camelize\"])(response.data)\n  }));\n}\n\n//# sourceURL=webpack:///./ui/features/gradebook/react/default_gradebook/apis/GradebookSettingsModalApi.js?");

/***/ }),

/***/ "CM/1":
/*!**************************************************************************************!*\
  !*** ./ui/features/gradebook/react/default_gradebook/components/AdvancedTabPanel.js ***!
  \**************************************************************************************/
/*! exports provided: default */
/***/ (function(module, __webpack_exports__, __webpack_require__) {

"use strict";
eval("__webpack_require__.r(__webpack_exports__);\n/* harmony export (binding) */ __webpack_require__.d(__webpack_exports__, \"default\", function() { return AdvancedTabPanel; });\n/* harmony import */ var react__WEBPACK_IMPORTED_MODULE_0__ = __webpack_require__(/*! react */ \"q1tI\");\n/* harmony import */ var react__WEBPACK_IMPORTED_MODULE_0___default = /*#__PURE__*/__webpack_require__.n(react__WEBPACK_IMPORTED_MODULE_0__);\n/* harmony import */ var prop_types__WEBPACK_IMPORTED_MODULE_1__ = __webpack_require__(/*! prop-types */ \"17x9\");\n/* harmony import */ var prop_types__WEBPACK_IMPORTED_MODULE_1___default = /*#__PURE__*/__webpack_require__.n(prop_types__WEBPACK_IMPORTED_MODULE_1__);\n/* harmony import */ var _instructure_ui_checkbox__WEBPACK_IMPORTED_MODULE_2__ = __webpack_require__(/*! @instructure/ui-checkbox */ \"Kdwl\");\n/* harmony import */ var _instructure_ui_view__WEBPACK_IMPORTED_MODULE_3__ = __webpack_require__(/*! @instructure/ui-view */ \"OkHH\");\n/* harmony import */ var i18n_gradebook__WEBPACK_IMPORTED_MODULE_4__ = __webpack_require__(/*! i18n!gradebook */ \"I9Qz\");\n/*\n * Copyright (C) 2018 - present Instructure, Inc.\n *\n * This file is part of Canvas.\n *\n * Canvas is free software: you can redistribute it and/or modify it under\n * the terms of the GNU Affero General Public License as published by the Free\n * Software Foundation, version 3 of the License.\n *\n * Canvas is distributed in the hope that it will be useful, but WITHOUT ANY\n * WARRANTY; without even the implied warranty of MERCHANTABILITY or FITNESS FOR\n * A PARTICULAR PURPOSE. See the GNU Affero General Public License for more\n * details.\n *\n * You should have received a copy of the GNU Affero General Public License along\n * with this program. If not, see <http://www.gnu.org/licenses/>.\n */\n\n\n\n\n\nfunction AdvancedTabPanel(props) {\n  const courseSettings = props.courseSettings,\n        onCourseSettingsChange = props.onCourseSettingsChange;\n  return /*#__PURE__*/react__WEBPACK_IMPORTED_MODULE_0___default.a.createElement(\"div\", {\n    id: \"AdvancedTabPanel__Container\"\n  }, /*#__PURE__*/react__WEBPACK_IMPORTED_MODULE_0___default.a.createElement(_instructure_ui_view__WEBPACK_IMPORTED_MODULE_3__[\"View\"], {\n    as: \"div\",\n    margin: \"small\"\n  }, /*#__PURE__*/react__WEBPACK_IMPORTED_MODULE_0___default.a.createElement(_instructure_ui_checkbox__WEBPACK_IMPORTED_MODULE_2__[\"Checkbox\"], {\n    checked: courseSettings.allowFinalGradeOverride,\n    label: i18n_gradebook__WEBPACK_IMPORTED_MODULE_4__[\"default\"].t('Allow final grade override'),\n    onChange: event => {\n      onCourseSettingsChange({\n        allowFinalGradeOverride: event.target.checked\n      });\n    }\n  })));\n}\nAdvancedTabPanel.propTypes = {\n  courseSettings: Object(prop_types__WEBPACK_IMPORTED_MODULE_1__[\"shape\"])({\n    allowFinalGradeOverride: prop_types__WEBPACK_IMPORTED_MODULE_1__[\"bool\"].isRequired\n  }).isRequired,\n  onCourseSettingsChange: prop_types__WEBPACK_IMPORTED_MODULE_1__[\"func\"].isRequired\n};\n\n//# sourceURL=webpack:///./ui/features/gradebook/react/default_gradebook/components/AdvancedTabPanel.js?");

/***/ }),

/***/ "MEsz":
/*!********************************************************************************************!*\
  !*** ./ui/features/gradebook/react/default_gradebook/components/GradebookSettingsModal.js ***!
  \********************************************************************************************/
/*! exports provided: default */
/***/ (function(module, __webpack_exports__, __webpack_require__) {

"use strict";
eval("__webpack_require__.r(__webpack_exports__);\n/* harmony export (binding) */ __webpack_require__.d(__webpack_exports__, \"default\", function() { return GradebookSettingsModal; });\n/* harmony import */ var _babel_runtime_helpers_esm_objectSpread2__WEBPACK_IMPORTED_MODULE_0__ = __webpack_require__(/*! @babel/runtime/helpers/esm/objectSpread2 */ \"VTBJ\");\n/* harmony import */ var react__WEBPACK_IMPORTED_MODULE_1__ = __webpack_require__(/*! react */ \"q1tI\");\n/* harmony import */ var react__WEBPACK_IMPORTED_MODULE_1___default = /*#__PURE__*/__webpack_require__.n(react__WEBPACK_IMPORTED_MODULE_1__);\n/* harmony import */ var prop_types__WEBPACK_IMPORTED_MODULE_2__ = __webpack_require__(/*! prop-types */ \"17x9\");\n/* harmony import */ var prop_types__WEBPACK_IMPORTED_MODULE_2___default = /*#__PURE__*/__webpack_require__.n(prop_types__WEBPACK_IMPORTED_MODULE_2__);\n/* harmony import */ var underscore__WEBPACK_IMPORTED_MODULE_3__ = __webpack_require__(/*! underscore */ \"Y/W1\");\n/* harmony import */ var underscore__WEBPACK_IMPORTED_MODULE_3___default = /*#__PURE__*/__webpack_require__.n(underscore__WEBPACK_IMPORTED_MODULE_3__);\n/* harmony import */ var _instructure_ui_buttons__WEBPACK_IMPORTED_MODULE_4__ = __webpack_require__(/*! @instructure/ui-buttons */ \"K6WN\");\n/* harmony import */ var _instructure_ui_modal__WEBPACK_IMPORTED_MODULE_5__ = __webpack_require__(/*! @instructure/ui-modal */ \"7I2A\");\n/* harmony import */ var _instructure_ui_tabs__WEBPACK_IMPORTED_MODULE_6__ = __webpack_require__(/*! @instructure/ui-tabs */ \"pjPr\");\n/* harmony import */ var _instructure_ui_view__WEBPACK_IMPORTED_MODULE_7__ = __webpack_require__(/*! @instructure/ui-view */ \"OkHH\");\n/* harmony import */ var i18n_gradebook__WEBPACK_IMPORTED_MODULE_8__ = __webpack_require__(/*! i18n!gradebook */ \"I9Qz\");\n/* harmony import */ var _AdvancedTabPanel__WEBPACK_IMPORTED_MODULE_9__ = __webpack_require__(/*! ./AdvancedTabPanel */ \"CM/1\");\n/* harmony import */ var _apis_GradebookSettingsModalApi__WEBPACK_IMPORTED_MODULE_10__ = __webpack_require__(/*! ../apis/GradebookSettingsModalApi */ \"+1nY\");\n/* harmony import */ var _PostPolicies_PostPolicyApi__WEBPACK_IMPORTED_MODULE_11__ = __webpack_require__(/*! ../PostPolicies/PostPolicyApi */ \"Sgvk\");\n/* harmony import */ var _LatePoliciesTabPanel__WEBPACK_IMPORTED_MODULE_12__ = __webpack_require__(/*! ./LatePoliciesTabPanel */ \"eAeq\");\n/* harmony import */ var _GradePostingPolicyTabPanel__WEBPACK_IMPORTED_MODULE_13__ = __webpack_require__(/*! ./GradePostingPolicyTabPanel */ \"PvC2\");\n/* harmony import */ var _ViewOptionsTabPanel__WEBPACK_IMPORTED_MODULE_14__ = __webpack_require__(/*! ./ViewOptionsTabPanel */ \"htNi\");\n/* harmony import */ var _canvas_alerts_react_FlashAlert__WEBPACK_IMPORTED_MODULE_15__ = __webpack_require__(/*! @canvas/alerts/react/FlashAlert */ \"uloQ\");\n/* harmony import */ var _Gradebook_utils__WEBPACK_IMPORTED_MODULE_16__ = __webpack_require__(/*! ../Gradebook.utils */ \"Q5iX\");\n\n\n/*\n * Copyright (C) 2017 - present Instructure, Inc.\n *\n * This file is part of Canvas.\n *\n * Canvas is free software: you can redistribute it and/or modify it under\n * the terms of the GNU Affero General Public License as published by the Free\n * Software Foundation, version 3 of the License.\n *\n * Canvas is distributed in the hope that it will be useful, but WITHOUT ANY\n * WARRANTY; without even the implied warranty of MERCHANTABILITY or FITNESS FOR\n * A PARTICULAR PURPOSE. See the GNU Affero General Public License for more\n * details.\n *\n * You should have received a copy of the GNU Affero General Public License along\n * with this program. If not, see <http://www.gnu.org/licenses/>.\n */\n\n\n\n\n\n\n\n\n\n\n\n\n\n\n\n\n\nfunction isLatePolicySaveable({\n  latePolicy: {\n    changes,\n    validationErrors\n  }\n}) {\n  return !underscore__WEBPACK_IMPORTED_MODULE_3___default.a.isEmpty(changes) && underscore__WEBPACK_IMPORTED_MODULE_3___default.a.isEmpty(validationErrors);\n}\n\nfunction haveCourseSettingsChanged({\n  props,\n  state\n}) {\n  return Object.keys(state.courseSettings).some(key => props.courseSettings[key] !== state.courseSettings[key]);\n}\n\nfunction isPostPolicyChanged({\n  props,\n  state\n}) {\n  if (props.postPolicies == null) {\n    return false;\n  }\n\n  const oldPostManually = props.postPolicies.coursePostPolicy.postManually;\n  const newPostManually = state.coursePostPolicy.postManually;\n  return oldPostManually !== newPostManually;\n}\n\nfunction haveViewOptionsChanged({\n  state: {\n    viewOptions,\n    viewOptionsLastSaved\n  }\n}) {\n  return viewOptions != null && !underscore__WEBPACK_IMPORTED_MODULE_3___default.a.isEqual(viewOptions, viewOptionsLastSaved);\n}\n\nfunction onSaveSettingsFailure() {\n  const message = i18n_gradebook__WEBPACK_IMPORTED_MODULE_8__[\"default\"].t('An error occurred while saving your settings');\n  Object(_canvas_alerts_react_FlashAlert__WEBPACK_IMPORTED_MODULE_15__[\"showFlashAlert\"])({\n    message,\n    type: 'error'\n  });\n  return Promise.reject(new Error(message));\n}\n\nfunction onSavePostPolicyFailure(_error) {\n  const message = i18n_gradebook__WEBPACK_IMPORTED_MODULE_8__[\"default\"].t('An error occurred while saving the course post policy');\n  Object(_canvas_alerts_react_FlashAlert__WEBPACK_IMPORTED_MODULE_15__[\"showFlashAlert\"])({\n    message,\n    type: 'error'\n  });\n  return Promise.reject(new Error(message));\n}\n\nfunction onSaveViewOptionsFailure(_error) {\n  const message = i18n_gradebook__WEBPACK_IMPORTED_MODULE_8__[\"default\"].t('An error occurred while updating view options');\n  Object(_canvas_alerts_react_FlashAlert__WEBPACK_IMPORTED_MODULE_15__[\"showFlashAlert\"])({\n    message,\n    type: 'error'\n  });\n  return Promise.reject(new Error(message));\n}\n\nfunction onUpdateSuccess({\n  close\n}) {\n  const message = i18n_gradebook__WEBPACK_IMPORTED_MODULE_8__[\"default\"].t('Gradebook Settings updated');\n  Object(_canvas_alerts_react_FlashAlert__WEBPACK_IMPORTED_MODULE_15__[\"showFlashAlert\"])({\n    message,\n    type: 'success'\n  });\n  close();\n  return Promise.resolve();\n}\n\nconst MODAL_CONTENTS_HEIGHT = 550;\nclass GradebookSettingsModal extends react__WEBPACK_IMPORTED_MODULE_1___default.a.Component {\n  constructor(...args) {\n    super(...args);\n    this.state = {\n      courseSettings: {\n        allowFinalGradeOverride: this.props.courseSettings.allowFinalGradeOverride\n      },\n      isOpen: false,\n      latePolicy: {\n        changes: {},\n        validationErrors: {}\n      },\n      coursePostPolicy: {\n        postManually: this.props.postPolicies && this.props.postPolicies.coursePostPolicy.postManually\n      },\n      processingRequests: false,\n      selectedTab: 'tab-panel-late',\n      viewOptions: underscore__WEBPACK_IMPORTED_MODULE_3___default.a.cloneDeep(this.props.viewOptions),\n      viewOptionsLastSaved: underscore__WEBPACK_IMPORTED_MODULE_3___default.a.cloneDeep(this.props.viewOptions)\n    };\n\n    this.onFetchLatePolicySuccess = ({\n      data\n    }) => {\n      this.changeLatePolicy(Object(_babel_runtime_helpers_esm_objectSpread2__WEBPACK_IMPORTED_MODULE_0__[\"default\"])(Object(_babel_runtime_helpers_esm_objectSpread2__WEBPACK_IMPORTED_MODULE_0__[\"default\"])({}, this.state.latePolicy), {}, {\n        data: data.latePolicy\n      }));\n    };\n\n    this.onFetchLatePolicyFailure = () => {\n      const message = i18n_gradebook__WEBPACK_IMPORTED_MODULE_8__[\"default\"].t('An error occurred while loading late policies');\n      Object(_canvas_alerts_react_FlashAlert__WEBPACK_IMPORTED_MODULE_15__[\"showFlashAlert\"])({\n        message,\n        type: 'error'\n      });\n    };\n\n    this.onSaveLatePolicyFailure = () => {\n      const message = i18n_gradebook__WEBPACK_IMPORTED_MODULE_8__[\"default\"].t('An error occurred while updating late policies');\n      Object(_canvas_alerts_react_FlashAlert__WEBPACK_IMPORTED_MODULE_15__[\"showFlashAlert\"])({\n        message,\n        type: 'error'\n      });\n      return Promise.reject(new Error(message));\n    };\n\n    this.fetchLatePolicy = () => {\n      Object(_apis_GradebookSettingsModalApi__WEBPACK_IMPORTED_MODULE_10__[\"fetchLatePolicy\"])(this.props.courseId).then(this.onFetchLatePolicySuccess).catch(this.onFetchLatePolicyFailure);\n    };\n\n    this.saveLatePolicy = () => {\n      const createOrUpdate = this.state.latePolicy.data.newRecord ? _apis_GradebookSettingsModalApi__WEBPACK_IMPORTED_MODULE_10__[\"createLatePolicy\"] : _apis_GradebookSettingsModalApi__WEBPACK_IMPORTED_MODULE_10__[\"updateLatePolicy\"];\n      return createOrUpdate(this.props.courseId, this.state.latePolicy.changes).then(() => this.props.onLatePolicyUpdate(Object(_babel_runtime_helpers_esm_objectSpread2__WEBPACK_IMPORTED_MODULE_0__[\"default\"])(Object(_babel_runtime_helpers_esm_objectSpread2__WEBPACK_IMPORTED_MODULE_0__[\"default\"])({}, this.state.latePolicy.data), this.state.latePolicy.changes))).catch(this.onSaveLatePolicyFailure);\n    };\n\n    this.saveCourseSettings = () => Object(_apis_GradebookSettingsModalApi__WEBPACK_IMPORTED_MODULE_10__[\"updateCourseSettings\"])(this.props.courseId, this.state.courseSettings).then(response => {\n      this.props.onCourseSettingsUpdated(response.data);\n    }).catch(onSaveSettingsFailure);\n\n    this.savePostPolicy = () => Object(_PostPolicies_PostPolicyApi__WEBPACK_IMPORTED_MODULE_11__[\"setCoursePostPolicy\"])({\n      courseId: this.props.courseId,\n      postManually: this.state.coursePostPolicy.postManually\n    }).then(_response => Object(_PostPolicies_PostPolicyApi__WEBPACK_IMPORTED_MODULE_11__[\"getAssignmentPostPolicies\"])({\n      courseId: this.props.courseId\n    })).then(response => {\n      const postManually = this.state.coursePostPolicy.postManually;\n      this.props.postPolicies.setCoursePostPolicy({\n        postManually\n      });\n      const assignmentPostPoliciesById = response.assignmentPostPoliciesById;\n      this.props.postPolicies.setAssignmentPostPolicies({\n        assignmentPostPoliciesById\n      });\n    }).catch(onSavePostPolicyFailure);\n\n    this.saveViewOptions = () => {\n      const savedOptions = underscore__WEBPACK_IMPORTED_MODULE_3___default.a.cloneDeep(this.state.viewOptions);\n\n      return this.props.onViewOptionsUpdated(savedOptions).then(() => {\n        this.setState({\n          viewOptionsLastSaved: savedOptions\n        });\n      }).catch(onSaveViewOptionsFailure);\n    };\n\n    this.handleUpdateButtonClicked = () => {\n      const promises = [];\n      this.setState({\n        processingRequests: true\n      }, () => {\n        if (isLatePolicySaveable(this.state)) {\n          promises.push(this.saveLatePolicy());\n        }\n\n        if (haveCourseSettingsChanged(this)) {\n          promises.push(this.saveCourseSettings());\n        }\n\n        if (isPostPolicyChanged(this)) {\n          promises.push(this.savePostPolicy());\n        }\n\n        if (haveViewOptionsChanged(this)) {\n          promises.push(this.saveViewOptions());\n        } // can't use finally() to remove the duplication because we need to\n        // skip onUpdateSuccess if an earlier promise rejected and removing the\n        // last catch will mean these rejected promises are uncaught, which\n        // causes `Uncaught (in promise) Error` to be logged in the console\n\n\n        Promise.all(promises).then(() => onUpdateSuccess(this)).then(() => this.setState({\n          processingRequests: false\n        })).catch(() => this.setState({\n          processingRequests: false\n        }));\n      });\n    };\n\n    this.changeLatePolicy = latePolicy => {\n      this.setState({\n        latePolicy\n      });\n    };\n\n    this.changePostPolicy = coursePostPolicy => {\n      this.setState({\n        coursePostPolicy\n      });\n    };\n\n    this.handleCourseSettingsChange = courseSettings => {\n      this.setState(state => ({\n        courseSettings: Object(_babel_runtime_helpers_esm_objectSpread2__WEBPACK_IMPORTED_MODULE_0__[\"default\"])(Object(_babel_runtime_helpers_esm_objectSpread2__WEBPACK_IMPORTED_MODULE_0__[\"default\"])({}, state), courseSettings)\n      }));\n    };\n\n    this.isUpdateButtonEnabled = () => {\n      if (this.state.processingRequests) return false;\n      return haveCourseSettingsChanged(this) || isLatePolicySaveable(this.state) || isPostPolicyChanged(this) || haveViewOptionsChanged(this);\n    };\n\n    this.open = () => {\n      this.setState(state => ({\n        isOpen: true,\n        // We reset the View Options settings to their last-saved state here,\n        // instead of on close, because doing the latter causes the reverted\n        // settings to be briefly visible.\n        viewOptions: underscore__WEBPACK_IMPORTED_MODULE_3___default.a.cloneDeep(state.viewOptionsLastSaved)\n      }));\n    };\n\n    this.close = () => {\n      const state = {\n        isOpen: false\n      };\n\n      if (this.props.postPolicies) {\n        state.coursePostPolicy = this.props.postPolicies.coursePostPolicy;\n      }\n\n      this.setState(state, () => {\n        const latePolicy = {\n          changes: {},\n          data: void 0,\n          validationErrors: {}\n        }; // need to reset the latePolicy state _after_ the modal is closed, otherwise\n        // the spinner will be visible for a brief moment before the modal closes.\n\n        this.setState({\n          latePolicy\n        });\n      });\n    };\n\n    this.setViewOption = (key, value) => {\n      this.setState(state => ({\n        viewOptions: Object(_babel_runtime_helpers_esm_objectSpread2__WEBPACK_IMPORTED_MODULE_0__[\"default\"])(Object(_babel_runtime_helpers_esm_objectSpread2__WEBPACK_IMPORTED_MODULE_0__[\"default\"])({}, state.viewOptions), {}, {\n          [key]: value\n        })\n      }));\n    };\n  }\n\n  changeTab(_ev, {\n    id\n  }) {\n    this.setState({\n      selectedTab: id\n    });\n  }\n\n  render() {\n    const includeAdvancedTab = this.props.courseFeatures.finalGradeOverrideEnabled;\n    const tab = this.state.selectedTab;\n    return /*#__PURE__*/react__WEBPACK_IMPORTED_MODULE_1___default.a.createElement(_instructure_ui_modal__WEBPACK_IMPORTED_MODULE_5__[\"Modal\"], {\n      label: i18n_gradebook__WEBPACK_IMPORTED_MODULE_8__[\"default\"].t('Gradebook Settings'),\n      onDismiss: this.close,\n      onEntered: this.props.onEntered,\n      onExited: this.props.onClose,\n      onOpen: this.fetchLatePolicy,\n      open: this.state.isOpen,\n      size: \"large\"\n    }, /*#__PURE__*/react__WEBPACK_IMPORTED_MODULE_1___default.a.createElement(_instructure_ui_modal__WEBPACK_IMPORTED_MODULE_5__[\"Modal\"].Body, null, /*#__PURE__*/react__WEBPACK_IMPORTED_MODULE_1___default.a.createElement(_instructure_ui_view__WEBPACK_IMPORTED_MODULE_7__[\"View\"], {\n      as: \"div\",\n      height: MODAL_CONTENTS_HEIGHT\n    }, /*#__PURE__*/react__WEBPACK_IMPORTED_MODULE_1___default.a.createElement(_instructure_ui_tabs__WEBPACK_IMPORTED_MODULE_6__[\"Tabs\"], {\n      onRequestTabChange: this.changeTab.bind(this)\n    }, /*#__PURE__*/react__WEBPACK_IMPORTED_MODULE_1___default.a.createElement(_instructure_ui_tabs__WEBPACK_IMPORTED_MODULE_6__[\"Tabs\"].Panel, {\n      renderTitle: i18n_gradebook__WEBPACK_IMPORTED_MODULE_8__[\"default\"].t('Late Policies'),\n      id: \"tab-panel-late\",\n      isSelected: tab === 'tab-panel-late'\n    }, /*#__PURE__*/react__WEBPACK_IMPORTED_MODULE_1___default.a.createElement(_LatePoliciesTabPanel__WEBPACK_IMPORTED_MODULE_12__[\"default\"], {\n      latePolicy: this.state.latePolicy,\n      changeLatePolicy: this.changeLatePolicy,\n      locale: this.props.locale,\n      showAlert: this.props.gradedLateSubmissionsExist,\n      gradebookIsEditable: this.props.gradebookIsEditable\n    })), this.props.postPolicies != null && /*#__PURE__*/react__WEBPACK_IMPORTED_MODULE_1___default.a.createElement(_instructure_ui_tabs__WEBPACK_IMPORTED_MODULE_6__[\"Tabs\"].Panel, {\n      renderTitle: i18n_gradebook__WEBPACK_IMPORTED_MODULE_8__[\"default\"].t('Grade Posting Policy'),\n      id: \"tab-panel-post\",\n      isSelected: tab === 'tab-panel-post'\n    }, /*#__PURE__*/react__WEBPACK_IMPORTED_MODULE_1___default.a.createElement(_GradePostingPolicyTabPanel__WEBPACK_IMPORTED_MODULE_13__[\"default\"], {\n      anonymousAssignmentsPresent: this.props.anonymousAssignmentsPresent,\n      onChange: this.changePostPolicy,\n      settings: this.state.coursePostPolicy,\n      gradebookIsEditable: this.props.gradebookIsEditable\n    })), includeAdvancedTab && /*#__PURE__*/react__WEBPACK_IMPORTED_MODULE_1___default.a.createElement(_instructure_ui_tabs__WEBPACK_IMPORTED_MODULE_6__[\"Tabs\"].Panel, {\n      renderTitle: i18n_gradebook__WEBPACK_IMPORTED_MODULE_8__[\"default\"].t('Advanced'),\n      id: \"tab-panel-advanced\",\n      isSelected: tab === 'tab-panel-advanced'\n    }, /*#__PURE__*/react__WEBPACK_IMPORTED_MODULE_1___default.a.createElement(_AdvancedTabPanel__WEBPACK_IMPORTED_MODULE_9__[\"default\"], {\n      courseSettings: this.state.courseSettings,\n      onCourseSettingsChange: this.handleCourseSettingsChange\n    })), this.props.viewOptions && /*#__PURE__*/react__WEBPACK_IMPORTED_MODULE_1___default.a.createElement(_instructure_ui_tabs__WEBPACK_IMPORTED_MODULE_6__[\"Tabs\"].Panel, {\n      renderTitle: i18n_gradebook__WEBPACK_IMPORTED_MODULE_8__[\"default\"].t('View Options'),\n      id: \"tab-panel-view-options\",\n      isSelected: tab === 'tab-panel-view-options'\n    }, /*#__PURE__*/react__WEBPACK_IMPORTED_MODULE_1___default.a.createElement(_ViewOptionsTabPanel__WEBPACK_IMPORTED_MODULE_14__[\"default\"], {\n      columnSort: {\n        currentValue: this.state.viewOptions.columnSortSettings,\n        modulesEnabled: this.props.allowSortingByModules,\n        onChange: ({\n          criterion,\n          direction\n        }) => {\n          this.setViewOption('columnSortSettings', {\n            criterion,\n            direction\n          });\n        }\n      },\n      statusColors: {\n        currentValues: this.state.viewOptions.statusColors,\n        onChange: colors => {\n          this.setViewOption('statusColors', colors);\n        }\n      },\n      showNotes: {\n        checked: this.state.viewOptions.showNotes,\n        onChange: value => {\n          this.setViewOption('showNotes', value);\n        }\n      },\n      showUnpublishedAssignments: {\n        checked: this.state.viewOptions.showUnpublishedAssignments,\n        onChange: value => {\n          this.setViewOption('showUnpublishedAssignments', value);\n        }\n      },\n      viewUngradedAsZero: {\n        allowed: this.props.allowViewUngradedAsZero,\n        checked: this.state.viewOptions.viewUngradedAsZero,\n        onChange: newValue => {\n          Object(_Gradebook_utils__WEBPACK_IMPORTED_MODULE_16__[\"confirmViewUngradedAsZero\"])({\n            currentValue: this.state.viewOptions.viewUngradedAsZero,\n            onAccepted: () => {\n              this.setViewOption('viewUngradedAsZero', newValue);\n            }\n          });\n        }\n      }\n    }))))), /*#__PURE__*/react__WEBPACK_IMPORTED_MODULE_1___default.a.createElement(_instructure_ui_modal__WEBPACK_IMPORTED_MODULE_5__[\"Modal\"].Footer, null, /*#__PURE__*/react__WEBPACK_IMPORTED_MODULE_1___default.a.createElement(_instructure_ui_buttons__WEBPACK_IMPORTED_MODULE_4__[\"Button\"], {\n      id: \"gradebook-settings-cancel-button\",\n      onClick: this.close,\n      margin: \"0 small\"\n    }, i18n_gradebook__WEBPACK_IMPORTED_MODULE_8__[\"default\"].t('Cancel')), /*#__PURE__*/react__WEBPACK_IMPORTED_MODULE_1___default.a.createElement(_instructure_ui_buttons__WEBPACK_IMPORTED_MODULE_4__[\"Button\"], {\n      id: \"gradebook-settings-update-button\",\n      onClick: this.handleUpdateButtonClicked,\n      disabled: !this.isUpdateButtonEnabled(),\n      variant: \"primary\"\n    }, i18n_gradebook__WEBPACK_IMPORTED_MODULE_8__[\"default\"].t('Update'))));\n  }\n\n}\nGradebookSettingsModal.propTypes = {\n  allowSortingByModules: prop_types__WEBPACK_IMPORTED_MODULE_2__[\"bool\"],\n  allowViewUngradedAsZero: prop_types__WEBPACK_IMPORTED_MODULE_2__[\"bool\"],\n  anonymousAssignmentsPresent: prop_types__WEBPACK_IMPORTED_MODULE_2__[\"bool\"],\n  courseFeatures: Object(prop_types__WEBPACK_IMPORTED_MODULE_2__[\"shape\"])({\n    finalGradeOverrideEnabled: prop_types__WEBPACK_IMPORTED_MODULE_2__[\"bool\"].isRequired\n  }).isRequired,\n  courseId: prop_types__WEBPACK_IMPORTED_MODULE_2__[\"string\"].isRequired,\n  courseSettings: Object(prop_types__WEBPACK_IMPORTED_MODULE_2__[\"shape\"])({\n    allowFinalGradeOverride: prop_types__WEBPACK_IMPORTED_MODULE_2__[\"bool\"].isRequired\n  }).isRequired,\n  locale: prop_types__WEBPACK_IMPORTED_MODULE_2__[\"string\"].isRequired,\n  onClose: prop_types__WEBPACK_IMPORTED_MODULE_2__[\"func\"].isRequired,\n  onEntered: prop_types__WEBPACK_IMPORTED_MODULE_2__[\"func\"],\n  gradebookIsEditable: prop_types__WEBPACK_IMPORTED_MODULE_2__[\"bool\"].isRequired,\n  gradedLateSubmissionsExist: prop_types__WEBPACK_IMPORTED_MODULE_2__[\"bool\"].isRequired,\n  onCourseSettingsUpdated: prop_types__WEBPACK_IMPORTED_MODULE_2__[\"func\"].isRequired,\n  onLatePolicyUpdate: prop_types__WEBPACK_IMPORTED_MODULE_2__[\"func\"].isRequired,\n  onViewOptionsUpdated: prop_types__WEBPACK_IMPORTED_MODULE_2__[\"func\"].isRequired,\n  postPolicies: Object(prop_types__WEBPACK_IMPORTED_MODULE_2__[\"shape\"])({\n    coursePostPolicy: Object(prop_types__WEBPACK_IMPORTED_MODULE_2__[\"shape\"])({\n      postManually: prop_types__WEBPACK_IMPORTED_MODULE_2__[\"bool\"].isRequired\n    }),\n    setAssignmentPostPolicies: prop_types__WEBPACK_IMPORTED_MODULE_2__[\"func\"].isRequired,\n    setCoursePostPolicy: prop_types__WEBPACK_IMPORTED_MODULE_2__[\"func\"].isRequired\n  }),\n  viewOptions: Object(prop_types__WEBPACK_IMPORTED_MODULE_2__[\"shape\"])({\n    columnSortSettings: Object(prop_types__WEBPACK_IMPORTED_MODULE_2__[\"shape\"])({\n      criterion: prop_types__WEBPACK_IMPORTED_MODULE_2__[\"string\"].isRequired,\n      direction: prop_types__WEBPACK_IMPORTED_MODULE_2__[\"string\"].isRequired\n    }).isRequired,\n    showNotes: prop_types__WEBPACK_IMPORTED_MODULE_2__[\"bool\"].isRequired,\n    showUnpublishedAssignments: prop_types__WEBPACK_IMPORTED_MODULE_2__[\"bool\"].isRequired,\n    statusColors: Object(prop_types__WEBPACK_IMPORTED_MODULE_2__[\"objectOf\"])(prop_types__WEBPACK_IMPORTED_MODULE_2__[\"string\"]).isRequired,\n    viewUngradedAsZero: prop_types__WEBPACK_IMPORTED_MODULE_2__[\"bool\"].isRequired\n  })\n};\nGradebookSettingsModal.defaultProps = {\n  onEntered() {}\n\n};\n\n//# sourceURL=webpack:///./ui/features/gradebook/react/default_gradebook/components/GradebookSettingsModal.js?");

/***/ }),

/***/ "PvC2":
/*!************************************************************************************************!*\
  !*** ./ui/features/gradebook/react/default_gradebook/components/GradePostingPolicyTabPanel.js ***!
  \************************************************************************************************/
/*! exports provided: default */
/***/ (function(module, __webpack_exports__, __webpack_require__) {

"use strict";
eval("__webpack_require__.r(__webpack_exports__);\n/* harmony export (binding) */ __webpack_require__.d(__webpack_exports__, \"default\", function() { return GradePostingPolicyTabPanel; });\n/* harmony import */ var react__WEBPACK_IMPORTED_MODULE_0__ = __webpack_require__(/*! react */ \"q1tI\");\n/* harmony import */ var react__WEBPACK_IMPORTED_MODULE_0___default = /*#__PURE__*/__webpack_require__.n(react__WEBPACK_IMPORTED_MODULE_0__);\n/* harmony import */ var prop_types__WEBPACK_IMPORTED_MODULE_1__ = __webpack_require__(/*! prop-types */ \"17x9\");\n/* harmony import */ var prop_types__WEBPACK_IMPORTED_MODULE_1___default = /*#__PURE__*/__webpack_require__.n(prop_types__WEBPACK_IMPORTED_MODULE_1__);\n/* harmony import */ var _instructure_ui_view__WEBPACK_IMPORTED_MODULE_2__ = __webpack_require__(/*! @instructure/ui-view */ \"OkHH\");\n/* harmony import */ var _instructure_ui_text__WEBPACK_IMPORTED_MODULE_3__ = __webpack_require__(/*! @instructure/ui-text */ \"iE3e\");\n/* harmony import */ var _instructure_ui_list__WEBPACK_IMPORTED_MODULE_4__ = __webpack_require__(/*! @instructure/ui-list */ \"dbzd\");\n/* harmony import */ var _instructure_ui_radio_input__WEBPACK_IMPORTED_MODULE_5__ = __webpack_require__(/*! @instructure/ui-radio-input */ \"2n2h\");\n/* harmony import */ var _canvas_alerts_react_FlashAlert__WEBPACK_IMPORTED_MODULE_6__ = __webpack_require__(/*! @canvas/alerts/react/FlashAlert */ \"uloQ\");\n/* harmony import */ var i18n_gradebook__WEBPACK_IMPORTED_MODULE_7__ = __webpack_require__(/*! i18n!gradebook */ \"I9Qz\");\n/*\n * Copyright (C) 2019 - present Instructure, Inc.\n *\n * This file is part of Canvas.\n *\n * Canvas is free software: you can redistribute it and/or modify it under\n * the terms of the GNU Affero General Public License as published by the Free\n * Software Foundation, version 3 of the License.\n *\n * Canvas is distributed in the hope that it will be useful, but WITHOUT ANY\n * WARRANTY; without even the implied warranty of MERCHANTABILITY or FITNESS FOR\n * A PARTICULAR PURPOSE. See the GNU Affero General Public License for more\n * details.\n *\n * You should have received a copy of the GNU Affero General Public License along\n * with this program. If not, see <http://www.gnu.org/licenses/>.\n */\n\n\n\n\n\n\n\n\nconst MANUAL_POST = 'manual';\nconst AUTOMATIC_POST = 'auto';\nclass GradePostingPolicyTabPanel extends react__WEBPACK_IMPORTED_MODULE_0__[\"Component\"] {\n  constructor(props) {\n    super(props);\n    this.handlePostPolicySelected = this.handlePostPolicySelected.bind(this);\n  }\n\n  handlePostPolicySelected(_e, value) {\n    if (value === AUTOMATIC_POST && this.props.anonymousAssignmentsPresent) {\n      Object(_canvas_alerts_react_FlashAlert__WEBPACK_IMPORTED_MODULE_6__[\"showFlashAlert\"])({\n        message: i18n_gradebook__WEBPACK_IMPORTED_MODULE_7__[\"default\"].t('Anonymous assignments are hidden by default and will need to be posted manually even if the course setting is set to Automatic.'),\n        type: 'warning'\n      });\n    }\n\n    this.props.onChange({\n      postManually: value === MANUAL_POST\n    });\n  }\n\n  render() {\n    const automaticallyPostLabel = /*#__PURE__*/react__WEBPACK_IMPORTED_MODULE_0___default.a.createElement(_instructure_ui_view__WEBPACK_IMPORTED_MODULE_2__[\"View\"], {\n      as: \"div\"\n    }, /*#__PURE__*/react__WEBPACK_IMPORTED_MODULE_0___default.a.createElement(_instructure_ui_text__WEBPACK_IMPORTED_MODULE_3__[\"Text\"], null, i18n_gradebook__WEBPACK_IMPORTED_MODULE_7__[\"default\"].t('Automatically Post Grades')), /*#__PURE__*/react__WEBPACK_IMPORTED_MODULE_0___default.a.createElement(\"br\", null), /*#__PURE__*/react__WEBPACK_IMPORTED_MODULE_0___default.a.createElement(_instructure_ui_text__WEBPACK_IMPORTED_MODULE_3__[\"Text\"], {\n      size: \"small\"\n    }, i18n_gradebook__WEBPACK_IMPORTED_MODULE_7__[\"default\"].t(`\n            Assignment grades will be visible to students as soon as they are entered.\n            Grades that have already been hidden will remain hidden.\n          `)));\n    const manuallyPostLabel = /*#__PURE__*/react__WEBPACK_IMPORTED_MODULE_0___default.a.createElement(_instructure_ui_view__WEBPACK_IMPORTED_MODULE_2__[\"View\"], {\n      as: \"div\"\n    }, /*#__PURE__*/react__WEBPACK_IMPORTED_MODULE_0___default.a.createElement(_instructure_ui_text__WEBPACK_IMPORTED_MODULE_3__[\"Text\"], null, i18n_gradebook__WEBPACK_IMPORTED_MODULE_7__[\"default\"].t('Manually Post Grades')), /*#__PURE__*/react__WEBPACK_IMPORTED_MODULE_0___default.a.createElement(\"br\", null), /*#__PURE__*/react__WEBPACK_IMPORTED_MODULE_0___default.a.createElement(_instructure_ui_text__WEBPACK_IMPORTED_MODULE_3__[\"Text\"], {\n      size: \"small\"\n    }, i18n_gradebook__WEBPACK_IMPORTED_MODULE_7__[\"default\"].t(`\n            Grades will be hidden by default. Any grades that have already posted will remain visible.\n            Choose when to post grades for each assignment on each column in the gradebook.\n          `)), this.props.settings.postManually && /*#__PURE__*/react__WEBPACK_IMPORTED_MODULE_0___default.a.createElement(_instructure_ui_view__WEBPACK_IMPORTED_MODULE_2__[\"View\"], {\n      as: \"div\"\n    }, /*#__PURE__*/react__WEBPACK_IMPORTED_MODULE_0___default.a.createElement(_instructure_ui_text__WEBPACK_IMPORTED_MODULE_3__[\"Text\"], {\n      size: \"small\",\n      as: \"p\"\n    }, i18n_gradebook__WEBPACK_IMPORTED_MODULE_7__[\"default\"].t('While the grades for an assignment are set to manual, students will not receive new notifications about or be able to see:')), /*#__PURE__*/react__WEBPACK_IMPORTED_MODULE_0___default.a.createElement(_instructure_ui_list__WEBPACK_IMPORTED_MODULE_4__[\"List\"], {\n      margin: \"0 0 0 small\",\n      size: \"small\",\n      itemSpacing: \"small\"\n    }, /*#__PURE__*/react__WEBPACK_IMPORTED_MODULE_0___default.a.createElement(_instructure_ui_list__WEBPACK_IMPORTED_MODULE_4__[\"List\"].Item, null, i18n_gradebook__WEBPACK_IMPORTED_MODULE_7__[\"default\"].t('Their grade for the assignment')), /*#__PURE__*/react__WEBPACK_IMPORTED_MODULE_0___default.a.createElement(_instructure_ui_list__WEBPACK_IMPORTED_MODULE_4__[\"List\"].Item, null, i18n_gradebook__WEBPACK_IMPORTED_MODULE_7__[\"default\"].t('Grade change notifications')), /*#__PURE__*/react__WEBPACK_IMPORTED_MODULE_0___default.a.createElement(_instructure_ui_list__WEBPACK_IMPORTED_MODULE_4__[\"List\"].Item, null, i18n_gradebook__WEBPACK_IMPORTED_MODULE_7__[\"default\"].t('Submission comments')), /*#__PURE__*/react__WEBPACK_IMPORTED_MODULE_0___default.a.createElement(_instructure_ui_list__WEBPACK_IMPORTED_MODULE_4__[\"List\"].Item, null, i18n_gradebook__WEBPACK_IMPORTED_MODULE_7__[\"default\"].t('Curving assignments')), /*#__PURE__*/react__WEBPACK_IMPORTED_MODULE_0___default.a.createElement(_instructure_ui_list__WEBPACK_IMPORTED_MODULE_4__[\"List\"].Item, null, i18n_gradebook__WEBPACK_IMPORTED_MODULE_7__[\"default\"].t('Score change notifications'))), /*#__PURE__*/react__WEBPACK_IMPORTED_MODULE_0___default.a.createElement(_instructure_ui_text__WEBPACK_IMPORTED_MODULE_3__[\"Text\"], {\n      size: \"small\",\n      as: \"p\"\n    }, i18n_gradebook__WEBPACK_IMPORTED_MODULE_7__[\"default\"].t('Once a grade is posted manually, it will automatically send new notifications and be visible to students.'))));\n    return /*#__PURE__*/react__WEBPACK_IMPORTED_MODULE_0___default.a.createElement(\"div\", {\n      id: \"GradePostingPolicyTabPanel__Container\"\n    }, /*#__PURE__*/react__WEBPACK_IMPORTED_MODULE_0___default.a.createElement(_instructure_ui_radio_input__WEBPACK_IMPORTED_MODULE_5__[\"RadioInputGroup\"], {\n      description: i18n_gradebook__WEBPACK_IMPORTED_MODULE_7__[\"default\"].t('Individual Assignment Grade Posting'),\n      name: \"postPolicy\",\n      onChange: this.handlePostPolicySelected,\n      value: this.props.settings.postManually ? MANUAL_POST : AUTOMATIC_POST\n    }, /*#__PURE__*/react__WEBPACK_IMPORTED_MODULE_0___default.a.createElement(_instructure_ui_radio_input__WEBPACK_IMPORTED_MODULE_5__[\"RadioInput\"], {\n      name: \"postPolicy\",\n      id: \"GradePostingPolicyTabPanel__PostAutomatically\",\n      label: automaticallyPostLabel,\n      value: AUTOMATIC_POST,\n      disabled: !this.props.gradebookIsEditable\n    }), /*#__PURE__*/react__WEBPACK_IMPORTED_MODULE_0___default.a.createElement(_instructure_ui_radio_input__WEBPACK_IMPORTED_MODULE_5__[\"RadioInput\"], {\n      name: \"postPolicy\",\n      id: \"GradePostingPolicyTabPanel__PostManually\",\n      label: manuallyPostLabel,\n      value: MANUAL_POST,\n      disabled: !this.props.gradebookIsEditable\n    })));\n  }\n\n}\nGradePostingPolicyTabPanel.propTypes = {\n  anonymousAssignmentsPresent: prop_types__WEBPACK_IMPORTED_MODULE_1__[\"bool\"].isRequired,\n  gradebookIsEditable: prop_types__WEBPACK_IMPORTED_MODULE_1__[\"bool\"].isRequired,\n  onChange: prop_types__WEBPACK_IMPORTED_MODULE_1__[\"func\"].isRequired,\n  settings: Object(prop_types__WEBPACK_IMPORTED_MODULE_1__[\"shape\"])({\n    postManually: prop_types__WEBPACK_IMPORTED_MODULE_1__[\"bool\"].isRequired\n  }).isRequired\n};\n\n//# sourceURL=webpack:///./ui/features/gradebook/react/default_gradebook/components/GradePostingPolicyTabPanel.js?");

/***/ }),

/***/ "Sgvk":
/*!*************************************************************************************!*\
  !*** ./ui/features/gradebook/react/default_gradebook/PostPolicies/PostPolicyApi.js ***!
  \*************************************************************************************/
/*! exports provided: SET_COURSE_POST_POLICY_MUTATION, COURSE_ASSIGNMENT_POST_POLICIES_QUERY, setCoursePostPolicy, getAssignmentPostPolicies */
/***/ (function(module, __webpack_exports__, __webpack_require__) {

"use strict";
eval("__webpack_require__.r(__webpack_exports__);\n/* harmony export (binding) */ __webpack_require__.d(__webpack_exports__, \"SET_COURSE_POST_POLICY_MUTATION\", function() { return SET_COURSE_POST_POLICY_MUTATION; });\n/* harmony export (binding) */ __webpack_require__.d(__webpack_exports__, \"COURSE_ASSIGNMENT_POST_POLICIES_QUERY\", function() { return COURSE_ASSIGNMENT_POST_POLICIES_QUERY; });\n/* harmony export (binding) */ __webpack_require__.d(__webpack_exports__, \"setCoursePostPolicy\", function() { return setCoursePostPolicy; });\n/* harmony export (binding) */ __webpack_require__.d(__webpack_exports__, \"getAssignmentPostPolicies\", function() { return getAssignmentPostPolicies; });\n/* harmony import */ var _canvas_apollo__WEBPACK_IMPORTED_MODULE_0__ = __webpack_require__(/*! @canvas/apollo */ \"yxex\");\n/*\n * Copyright (C) 2019 - present Instructure, Inc.\n *\n * This file is part of Canvas.\n *\n * Canvas is free software: you can redistribute it and/or modify it under\n * the terms of the GNU Affero General Public License as published by the Free\n * Software Foundation, version 3 of the License.\n *\n * Canvas is distributed in the hope that it will be useful, but WITHOUT ANY\n * WARRANTY; without even the implied warranty of MERCHANTABILITY or FITNESS FOR\n * A PARTICULAR PURPOSE. See the GNU Affero General Public License for more\n * details.\n *\n * You should have received a copy of the GNU Affero General Public License along\n * with this program. If not, see <http://www.gnu.org/licenses/>.\n */\n\nconst SET_COURSE_POST_POLICY_MUTATION = _canvas_apollo__WEBPACK_IMPORTED_MODULE_0__[\"gql\"]`\n  mutation SetCoursePostPolicy($courseId: ID!, $postManually: Boolean!) {\n    setCoursePostPolicy(input: {courseId: $courseId, postManually: $postManually}) {\n      postPolicy {\n        postManually\n      }\n      errors {\n        attribute\n        message\n      }\n    }\n  }\n`;\nconst COURSE_ASSIGNMENT_POST_POLICIES_QUERY = _canvas_apollo__WEBPACK_IMPORTED_MODULE_0__[\"gql\"]`\n  query CourseAssignmentPostPolicies($courseId: ID!) {\n    course(id: $courseId) {\n      assignmentsConnection(filter: {gradingPeriodId: null}) {\n        nodes {\n          _id\n          postPolicy {\n            postManually\n          }\n        }\n      }\n    }\n  }\n`;\nfunction setCoursePostPolicy({\n  courseId,\n  postManually\n}) {\n  return Object(_canvas_apollo__WEBPACK_IMPORTED_MODULE_0__[\"createClient\"])().mutate({\n    mutation: SET_COURSE_POST_POLICY_MUTATION,\n    variables: {\n      courseId,\n      postManually\n    }\n  }).then(response => {\n    const queryResponse = response && response.data && response.data.setCoursePostPolicy;\n\n    if (queryResponse) {\n      if (queryResponse.postPolicy) {\n        return {\n          postManually: queryResponse.postPolicy.postManually\n        };\n      } else if (queryResponse.errors && queryResponse.errors.length > 0) {\n        throw new Error(queryResponse.errors[0].message);\n      }\n    }\n\n    throw new Error('no postPolicy or error provided in response');\n  });\n}\nfunction getAssignmentPostPolicies({\n  courseId\n}) {\n  return Object(_canvas_apollo__WEBPACK_IMPORTED_MODULE_0__[\"createClient\"])().query({\n    query: COURSE_ASSIGNMENT_POST_POLICIES_QUERY,\n    variables: {\n      courseId\n    }\n  }).then(response => {\n    const queryResponse = response && response.data && response.data.course;\n\n    if (queryResponse) {\n      const assignments = queryResponse.assignmentsConnection.nodes;\n\n      if (assignments != null) {\n        const assignmentPostPoliciesById = {};\n        assignments.forEach(assignment => {\n          if (assignment.postPolicy) {\n            const postManually = assignment.postPolicy.postManually;\n            assignmentPostPoliciesById[assignment._id] = {\n              postManually\n            };\n          }\n        });\n        return {\n          assignmentPostPoliciesById\n        };\n      }\n    }\n\n    throw new Error('no course provided in response');\n  });\n}\n\n//# sourceURL=webpack:///./ui/features/gradebook/react/default_gradebook/PostPolicies/PostPolicyApi.js?");

/***/ }),

/***/ "VefK":
/*!**************************************************************************************!*\
  !*** ./ui/features/gradebook/react/default_gradebook/components/StatusColorPanel.js ***!
  \**************************************************************************************/
/*! exports provided: default */
/***/ (function(module, __webpack_exports__, __webpack_require__) {

"use strict";
eval("__webpack_require__.r(__webpack_exports__);\n/* harmony export (binding) */ __webpack_require__.d(__webpack_exports__, \"default\", function() { return StatusColorPanel; });\n/* harmony import */ var _babel_runtime_helpers_esm_objectSpread2__WEBPACK_IMPORTED_MODULE_0__ = __webpack_require__(/*! @babel/runtime/helpers/esm/objectSpread2 */ \"VTBJ\");\n/* harmony import */ var _babel_runtime_helpers_esm_slicedToArray__WEBPACK_IMPORTED_MODULE_1__ = __webpack_require__(/*! @babel/runtime/helpers/esm/slicedToArray */ \"ODXe\");\n/* harmony import */ var react__WEBPACK_IMPORTED_MODULE_2__ = __webpack_require__(/*! react */ \"q1tI\");\n/* harmony import */ var react__WEBPACK_IMPORTED_MODULE_2___default = /*#__PURE__*/__webpack_require__.n(react__WEBPACK_IMPORTED_MODULE_2__);\n/* harmony import */ var prop_types__WEBPACK_IMPORTED_MODULE_3__ = __webpack_require__(/*! prop-types */ \"17x9\");\n/* harmony import */ var prop_types__WEBPACK_IMPORTED_MODULE_3___default = /*#__PURE__*/__webpack_require__.n(prop_types__WEBPACK_IMPORTED_MODULE_3__);\n/* harmony import */ var _constants_statuses__WEBPACK_IMPORTED_MODULE_4__ = __webpack_require__(/*! ../constants/statuses */ \"hppA\");\n/* harmony import */ var _StatusColorListItem__WEBPACK_IMPORTED_MODULE_5__ = __webpack_require__(/*! ./StatusColorListItem */ \"6xyp\");\n\n\n\n/*\n * Copyright (C) 2021 - present Instructure, Inc.\n *\n * This file is part of Canvas.\n *\n * Canvas is free software: you can redistribute it and/or modify it under\n * the terms of the GNU Affero General Public License as published by the Free\n * Software Foundation, version 3 of the License.\n *\n * Canvas is distributed in the hope that it will be useful, but WITHOUT ANY\n * WARRANTY; without even the implied warranty of MERCHANTABILITY or FITNESS FOR\n * A PARTICULAR PURPOSE. See the GNU Affero General Public License for more\n * details.\n *\n * You should have received a copy of the GNU Affero General Public License along\n * with this program. If not, see <http://www.gnu.org/licenses/>.\n */\n\n\n\n\nconst colorPickerButtons = {};\nconst colorPickerContents = {};\nfunction StatusColorPanel({\n  colors: initialColors,\n  onColorsUpdated\n}) {\n  const _useState = Object(react__WEBPACK_IMPORTED_MODULE_2__[\"useState\"])(Object(_babel_runtime_helpers_esm_objectSpread2__WEBPACK_IMPORTED_MODULE_0__[\"default\"])({}, initialColors)),\n        _useState2 = Object(_babel_runtime_helpers_esm_slicedToArray__WEBPACK_IMPORTED_MODULE_1__[\"default\"])(_useState, 2),\n        colors = _useState2[0],\n        setColors = _useState2[1];\n\n  const _useState3 = Object(react__WEBPACK_IMPORTED_MODULE_2__[\"useState\"])(null),\n        _useState4 = Object(_babel_runtime_helpers_esm_slicedToArray__WEBPACK_IMPORTED_MODULE_1__[\"default\"])(_useState3, 2),\n        openPopover = _useState4[0],\n        setOpenPopover = _useState4[1];\n\n  const lastSelectedStatusRef = Object(react__WEBPACK_IMPORTED_MODULE_2__[\"useRef\"])();\n\n  const bindColorPickerButton = status => button => {\n    colorPickerButtons[status] = button;\n  };\n\n  const bindColorPickerContent = status => content => {\n    colorPickerContents[status] = content;\n  };\n\n  const updateStatusColors = status => color => {\n    const newColors = Object(_babel_runtime_helpers_esm_objectSpread2__WEBPACK_IMPORTED_MODULE_0__[\"default\"])(Object(_babel_runtime_helpers_esm_objectSpread2__WEBPACK_IMPORTED_MODULE_0__[\"default\"])({}, colors), {}, {\n      [status]: color\n    });\n\n    setColors(newColors);\n    setOpenPopover(null);\n    onColorsUpdated(newColors);\n  };\n\n  const handleOnToggle = status => toggle => {\n    setOpenPopover(toggle ? status : null);\n  };\n\n  const handleColorPickerAfterClose = _status => () => {\n    setOpenPopover(null);\n  };\n\n  Object(react__WEBPACK_IMPORTED_MODULE_2__[\"useEffect\"])(() => {\n    if (openPopover == null) {\n      var _colorPickerButtons$l;\n\n      (_colorPickerButtons$l = colorPickerButtons[lastSelectedStatusRef.current]) === null || _colorPickerButtons$l === void 0 ? void 0 : _colorPickerButtons$l.focus();\n    } else {\n      lastSelectedStatusRef.current = openPopover;\n    }\n  }, [openPopover]);\n  return /*#__PURE__*/react__WEBPACK_IMPORTED_MODULE_2___default.a.createElement(\"ul\", {\n    className: \"Gradebook__StatusModalList\"\n  }, _constants_statuses__WEBPACK_IMPORTED_MODULE_4__[\"statuses\"].map(status => /*#__PURE__*/react__WEBPACK_IMPORTED_MODULE_2___default.a.createElement(_StatusColorListItem__WEBPACK_IMPORTED_MODULE_5__[\"default\"], {\n    key: status,\n    status: status,\n    color: colors[status],\n    isColorPickerShown: openPopover === status,\n    colorPickerOnToggle: handleOnToggle(status),\n    colorPickerButtonRef: bindColorPickerButton(status),\n    colorPickerContentRef: bindColorPickerContent(status),\n    colorPickerAfterClose: handleColorPickerAfterClose(status),\n    afterSetColor: updateStatusColors(status)\n  })));\n}\nStatusColorPanel.propTypes = {\n  colors: Object(prop_types__WEBPACK_IMPORTED_MODULE_3__[\"shape\"])({\n    late: prop_types__WEBPACK_IMPORTED_MODULE_3__[\"string\"].isRequired,\n    missing: prop_types__WEBPACK_IMPORTED_MODULE_3__[\"string\"].isRequired,\n    resubmitted: prop_types__WEBPACK_IMPORTED_MODULE_3__[\"string\"].isRequired,\n    dropped: prop_types__WEBPACK_IMPORTED_MODULE_3__[\"string\"].isRequired,\n    excused: prop_types__WEBPACK_IMPORTED_MODULE_3__[\"string\"].isRequired\n  }).isRequired,\n  onColorsUpdated: prop_types__WEBPACK_IMPORTED_MODULE_3__[\"func\"].isRequired\n};\n\n//# sourceURL=webpack:///./ui/features/gradebook/react/default_gradebook/components/StatusColorPanel.js?");

/***/ }),

/***/ "eAeq":
/*!******************************************************************************************!*\
  !*** ./ui/features/gradebook/react/default_gradebook/components/LatePoliciesTabPanel.js ***!
  \******************************************************************************************/
/*! exports provided: default */
/***/ (function(module, __webpack_exports__, __webpack_require__) {

"use strict";
eval("__webpack_require__.r(__webpack_exports__);\n/* harmony import */ var _babel_runtime_helpers_esm_objectSpread2__WEBPACK_IMPORTED_MODULE_0__ = __webpack_require__(/*! @babel/runtime/helpers/esm/objectSpread2 */ \"VTBJ\");\n/* harmony import */ var react__WEBPACK_IMPORTED_MODULE_1__ = __webpack_require__(/*! react */ \"q1tI\");\n/* harmony import */ var react__WEBPACK_IMPORTED_MODULE_1___default = /*#__PURE__*/__webpack_require__.n(react__WEBPACK_IMPORTED_MODULE_1__);\n/* harmony import */ var prop_types__WEBPACK_IMPORTED_MODULE_2__ = __webpack_require__(/*! prop-types */ \"17x9\");\n/* harmony import */ var prop_types__WEBPACK_IMPORTED_MODULE_2___default = /*#__PURE__*/__webpack_require__.n(prop_types__WEBPACK_IMPORTED_MODULE_2__);\n/* harmony import */ var _instructure_ui_alerts__WEBPACK_IMPORTED_MODULE_3__ = __webpack_require__(/*! @instructure/ui-alerts */ \"spba\");\n/* harmony import */ var _instructure_ui_grid__WEBPACK_IMPORTED_MODULE_4__ = __webpack_require__(/*! @instructure/ui-grid */ \"A04R\");\n/* harmony import */ var _instructure_ui_view__WEBPACK_IMPORTED_MODULE_5__ = __webpack_require__(/*! @instructure/ui-view */ \"OkHH\");\n/* harmony import */ var _instructure_ui_form_field__WEBPACK_IMPORTED_MODULE_6__ = __webpack_require__(/*! @instructure/ui-form-field */ \"sTNg\");\n/* harmony import */ var _instructure_ui_number_input__WEBPACK_IMPORTED_MODULE_7__ = __webpack_require__(/*! @instructure/ui-number-input */ \"V0Cs\");\n/* harmony import */ var _instructure_ui_a11y_content__WEBPACK_IMPORTED_MODULE_8__ = __webpack_require__(/*! @instructure/ui-a11y-content */ \"9+/z\");\n/* harmony import */ var _instructure_ui_text__WEBPACK_IMPORTED_MODULE_9__ = __webpack_require__(/*! @instructure/ui-text */ \"iE3e\");\n/* harmony import */ var _instructure_ui_spinner__WEBPACK_IMPORTED_MODULE_10__ = __webpack_require__(/*! @instructure/ui-spinner */ \"cPO5\");\n/* harmony import */ var _instructure_ui_checkbox__WEBPACK_IMPORTED_MODULE_11__ = __webpack_require__(/*! @instructure/ui-checkbox */ \"Kdwl\");\n/* harmony import */ var _canvas_instui_bindings_react_Select__WEBPACK_IMPORTED_MODULE_12__ = __webpack_require__(/*! @canvas/instui-bindings/react/Select */ \"WROG\");\n/* harmony import */ var _canvas_i18n_numberHelper__WEBPACK_IMPORTED_MODULE_13__ = __webpack_require__(/*! @canvas/i18n/numberHelper */ \"FdVj\");\n/* harmony import */ var round__WEBPACK_IMPORTED_MODULE_14__ = __webpack_require__(/*! round */ \"xvQv\");\n/* harmony import */ var i18n_gradebook__WEBPACK_IMPORTED_MODULE_15__ = __webpack_require__(/*! i18n!gradebook */ \"I9Qz\");\n\n\n/*\n * Copyright (C) 2017 - present Instructure, Inc.\n *\n * This file is part of Canvas.\n *\n * Canvas is free software: you can redistribute it and/or modify it under\n * the terms of the GNU Affero General Public License as published by the Free\n * Software Foundation, version 3 of the License.\n *\n * Canvas is distributed in the hope that it will be useful, but WITHOUT ANY\n * WARRANTY; without even the implied warranty of MERCHANTABILITY or FITNESS FOR\n * A PARTICULAR PURPOSE. See the GNU Affero General Public License for more\n * details.\n *\n * You should have received a copy of the GNU Affero General Public License along\n * with this program. If not, see <http://www.gnu.org/licenses/>.\n */\n\n\n\n\n\n\n\n\n\n\n\n\n\n\n\nconst MIN_PERCENTAGE_INPUT = 0;\nconst MAX_PERCENTAGE_INPUT = 100;\n\nfunction isNumeric(input) {\n  return _canvas_i18n_numberHelper__WEBPACK_IMPORTED_MODULE_13__[\"default\"].validate(input);\n}\n\nfunction validationError(input) {\n  if (!isNumeric(input)) {\n    return 'notNumeric';\n  }\n\n  return null;\n}\n\nfunction bound(decimal) {\n  if (decimal < MIN_PERCENTAGE_INPUT) return MIN_PERCENTAGE_INPUT;\n  if (decimal > MAX_PERCENTAGE_INPUT) return MAX_PERCENTAGE_INPUT;\n  return decimal;\n}\n\nconst errorMessages = {\n  missingSubmissionDeduction: {\n    notNumeric: i18n_gradebook__WEBPACK_IMPORTED_MODULE_15__[\"default\"].t('Missing submission grade must be numeric')\n  },\n  lateSubmissionDeduction: {\n    notNumeric: i18n_gradebook__WEBPACK_IMPORTED_MODULE_15__[\"default\"].t('Late submission deduction must be numeric')\n  },\n  lateSubmissionMinimumPercent: {\n    notNumeric: i18n_gradebook__WEBPACK_IMPORTED_MODULE_15__[\"default\"].t('Lowest possible grade must be numeric')\n  }\n};\n\nfunction validationErrorMessage(input, validationType) {\n  const error = validationError(input);\n  return errorMessages[validationType][error];\n}\n\nfunction messages(names, validationErrors) {\n  const errors = names.map(name => validationErrors[name]);\n  return errors.reduce((acc, error) => error ? acc.concat([{\n    text: error,\n    type: 'error'\n  }]) : acc, []);\n}\n\nfunction subtractFromMax(decimal) {\n  return MAX_PERCENTAGE_INPUT - decimal;\n}\n\nconst numberInputWillUpdateMap = {\n  missingSubmissionDeduction(decimal) {\n    // the missingSubmissionDeductionDisplayValue is the difference of `100% - missingSubmissionDeduction`\n    return subtractFromMax(decimal);\n  },\n\n  lateSubmissionDeduction(decimal) {\n    return decimal;\n  },\n\n  lateSubmissionMinimumPercent(decimal) {\n    return decimal;\n  }\n\n};\n\nclass LatePoliciesTabPanel extends react__WEBPACK_IMPORTED_MODULE_1___default.a.Component {\n  constructor(...args) {\n    super(...args);\n    this.state = {\n      showAlert: this.props.showAlert\n    };\n    this.missingPolicyMessages = messages.bind(this, ['missingSubmissionDeduction']);\n    this.latePolicyMessages = messages.bind(this, ['lateSubmissionDeduction', 'lateSubmissionMinimumPercent']);\n\n    this.getLatePolicyAttribute = key => {\n      const _this$props$latePolic = this.props.latePolicy,\n            changes = _this$props$latePolic.changes,\n            data = _this$props$latePolic.data;\n\n      if (key in changes) {\n        return changes[key];\n      }\n\n      return data && data[key];\n    };\n\n    this.changeMissingSubmissionDeductionEnabled = ({\n      target: {\n        checked\n      }\n    }) => {\n      const changes = this.calculateChanges({\n        missingSubmissionDeductionEnabled: checked\n      });\n      this.props.changeLatePolicy(Object(_babel_runtime_helpers_esm_objectSpread2__WEBPACK_IMPORTED_MODULE_0__[\"default\"])(Object(_babel_runtime_helpers_esm_objectSpread2__WEBPACK_IMPORTED_MODULE_0__[\"default\"])({}, this.props.latePolicy), {}, {\n        changes\n      }));\n    };\n\n    this.changeLateSubmissionDeductionEnabled = ({\n      target: {\n        checked\n      }\n    }) => {\n      const updates = {\n        lateSubmissionDeductionEnabled: checked\n      };\n\n      if (!checked) {\n        updates.lateSubmissionMinimumPercentEnabled = false;\n      } else if (this.getLatePolicyAttribute('lateSubmissionMinimumPercent') > MIN_PERCENTAGE_INPUT) {\n        updates.lateSubmissionMinimumPercentEnabled = true;\n      }\n\n      this.props.changeLatePolicy(Object(_babel_runtime_helpers_esm_objectSpread2__WEBPACK_IMPORTED_MODULE_0__[\"default\"])(Object(_babel_runtime_helpers_esm_objectSpread2__WEBPACK_IMPORTED_MODULE_0__[\"default\"])({}, this.props.latePolicy), {}, {\n        changes: this.calculateChanges(updates)\n      }));\n    };\n\n    this.handleBlur = name => {\n      if (this.props.latePolicy.changes[name] == null) {\n        return;\n      }\n\n      const decimal = bound(_canvas_i18n_numberHelper__WEBPACK_IMPORTED_MODULE_13__[\"default\"].parse(this.props.latePolicy.changes[name]));\n      const errorMessage = validationErrorMessage(decimal, name);\n\n      if (errorMessage) {\n        const validationErrors = Object(_babel_runtime_helpers_esm_objectSpread2__WEBPACK_IMPORTED_MODULE_0__[\"default\"])(Object(_babel_runtime_helpers_esm_objectSpread2__WEBPACK_IMPORTED_MODULE_0__[\"default\"])({}, this.props.latePolicy.validationErrors), {}, {\n          [name]: errorMessage\n        });\n\n        return this.props.changeLatePolicy(Object(_babel_runtime_helpers_esm_objectSpread2__WEBPACK_IMPORTED_MODULE_0__[\"default\"])(Object(_babel_runtime_helpers_esm_objectSpread2__WEBPACK_IMPORTED_MODULE_0__[\"default\"])({}, this.props.latePolicy), {}, {\n          validationErrors\n        }));\n      }\n\n      const decimalDisplayValue = numberInputWillUpdateMap[name](decimal);\n      this.setState({\n        [`${name}DisplayValue`]: Object(round__WEBPACK_IMPORTED_MODULE_14__[\"default\"])(decimalDisplayValue, 2)\n      }, () => {\n        const changesData = {\n          [name]: Object(round__WEBPACK_IMPORTED_MODULE_14__[\"default\"])(decimal, 2)\n        };\n\n        if (name === 'lateSubmissionMinimumPercent') {\n          changesData[`${name}Enabled`] = changesData[name] !== MIN_PERCENTAGE_INPUT;\n        }\n\n        const updates = {\n          changes: this.calculateChanges(changesData),\n          validationErrors: Object(_babel_runtime_helpers_esm_objectSpread2__WEBPACK_IMPORTED_MODULE_0__[\"default\"])({}, this.props.latePolicy.validationErrors)\n        };\n        delete updates.validationErrors[name];\n        this.props.changeLatePolicy(Object(_babel_runtime_helpers_esm_objectSpread2__WEBPACK_IMPORTED_MODULE_0__[\"default\"])(Object(_babel_runtime_helpers_esm_objectSpread2__WEBPACK_IMPORTED_MODULE_0__[\"default\"])({}, this.props.latePolicy), updates));\n      });\n    };\n\n    this.handleChange = (name, inputDisplayValue) => {\n      const nameDisplayValue = `${name}DisplayValue`;\n      this.setState({\n        [nameDisplayValue]: inputDisplayValue\n      }, () => {\n        let decimal = Object(round__WEBPACK_IMPORTED_MODULE_14__[\"default\"])(_canvas_i18n_numberHelper__WEBPACK_IMPORTED_MODULE_13__[\"default\"].parse(inputDisplayValue), 2);\n        decimal = numberInputWillUpdateMap[name](decimal);\n        const changes = this.calculateChanges({\n          [name]: decimal\n        }, {\n          [nameDisplayValue]: inputDisplayValue\n        });\n        this.props.changeLatePolicy(Object(_babel_runtime_helpers_esm_objectSpread2__WEBPACK_IMPORTED_MODULE_0__[\"default\"])(Object(_babel_runtime_helpers_esm_objectSpread2__WEBPACK_IMPORTED_MODULE_0__[\"default\"])({}, this.props.latePolicy), {}, {\n          changes\n        }));\n      });\n    };\n\n    this.changeLateSubmissionInterval = (_event, selectedOption) => {\n      const changes = this.calculateChanges({\n        lateSubmissionInterval: selectedOption\n      });\n      this.props.changeLatePolicy(Object(_babel_runtime_helpers_esm_objectSpread2__WEBPACK_IMPORTED_MODULE_0__[\"default\"])(Object(_babel_runtime_helpers_esm_objectSpread2__WEBPACK_IMPORTED_MODULE_0__[\"default\"])({}, this.props.latePolicy), {}, {\n        changes\n      }));\n    };\n\n    this.closeAlert = () => {\n      this.setState({\n        showAlert: false\n      });\n    };\n\n    this.currentInputDisplayValue = (key, defaultValue) => {\n      var _this$props$latePolic2, _this$props$latePolic3;\n\n      const stateDisplayKey = `${key}DisplayValue`; // If the user is in the process of entering something, display it.\n\n      if (this.state[stateDisplayKey] != null) {\n        return this.state[stateDisplayKey];\n      } // If the user updated this value, switched to a different tab, then came\n      // back to this tab, the updated value will be in the changes hash.\n\n\n      if (((_this$props$latePolic2 = this.props.latePolicy.changes) === null || _this$props$latePolic2 === void 0 ? void 0 : _this$props$latePolic2[key]) != null) {\n        const value = this.props.latePolicy.changes[key];\n        return numberInputWillUpdateMap[key](value);\n      } // If there have been no changes, use the value we were passed in.\n\n\n      if (((_this$props$latePolic3 = this.props.latePolicy.data) === null || _this$props$latePolic3 === void 0 ? void 0 : _this$props$latePolic3[key]) != null) {\n        const value = this.props.latePolicy.data[key];\n        return numberInputWillUpdateMap[key](value);\n      } // If we haven't been given a value yet, punt and show a default.\n\n\n      return defaultValue;\n    };\n  }\n\n  componentDidUpdate(_prevProps, prevState) {\n    if (!prevState.showAlert || this.state.showAlert) {\n      return;\n    }\n\n    const inputEnabled = this.getLatePolicyAttribute('missingSubmissionDeductionEnabled');\n\n    if (inputEnabled) {\n      this.missingSubmissionDeductionInput.focus();\n    } else {\n      this.missingSubmissionCheckbox.focus();\n    }\n  }\n\n  calculateChanges(changedData, changedDisplayValues = {}) {\n    const changes = Object(_babel_runtime_helpers_esm_objectSpread2__WEBPACK_IMPORTED_MODULE_0__[\"default\"])({}, this.props.latePolicy.changes);\n\n    Object.keys(changedData).forEach(key => {\n      const keyDisplayValue = `${key}DisplayValue`;\n      const original = this.props.latePolicy.data[key];\n      const changed = changedData[key];\n      const originalAndChangedDiffer = original !== changed;\n      let hasChanges = originalAndChangedDiffer;\n\n      if (changedDisplayValues.hasOwnProperty(keyDisplayValue)) {\n        hasChanges = originalAndChangedDiffer !== changedDisplayValues[keyDisplayValue];\n      }\n\n      if (hasChanges) {\n        changes[key] = changed;\n      } else if (key in changes) {\n        delete changes[key]; // don't track matching values\n      }\n    });\n    return changes;\n  }\n\n  render() {\n    if (!this.props.latePolicy.data) {\n      return /*#__PURE__*/react__WEBPACK_IMPORTED_MODULE_1___default.a.createElement(\"div\", {\n        id: \"LatePoliciesTabPanel__Container-noContent\"\n      }, /*#__PURE__*/react__WEBPACK_IMPORTED_MODULE_1___default.a.createElement(_instructure_ui_spinner__WEBPACK_IMPORTED_MODULE_10__[\"Spinner\"], {\n        renderTitle: i18n_gradebook__WEBPACK_IMPORTED_MODULE_15__[\"default\"].t('Loading'),\n        size: \"large\",\n        margin: \"small\"\n      }));\n    }\n\n    const validationErrors = this.props.latePolicy.validationErrors;\n\n    const data = Object(_babel_runtime_helpers_esm_objectSpread2__WEBPACK_IMPORTED_MODULE_0__[\"default\"])(Object(_babel_runtime_helpers_esm_objectSpread2__WEBPACK_IMPORTED_MODULE_0__[\"default\"])({}, this.props.latePolicy.data), this.props.latePolicy.changes);\n\n    return /*#__PURE__*/react__WEBPACK_IMPORTED_MODULE_1___default.a.createElement(\"div\", {\n      id: \"LatePoliciesTabPanel__Container\"\n    }, /*#__PURE__*/react__WEBPACK_IMPORTED_MODULE_1___default.a.createElement(_instructure_ui_view__WEBPACK_IMPORTED_MODULE_5__[\"View\"], {\n      as: \"div\",\n      margin: \"small\"\n    }, /*#__PURE__*/react__WEBPACK_IMPORTED_MODULE_1___default.a.createElement(_instructure_ui_checkbox__WEBPACK_IMPORTED_MODULE_11__[\"Checkbox\"], {\n      label: i18n_gradebook__WEBPACK_IMPORTED_MODULE_15__[\"default\"].t('Automatically apply grade for missing submissions'),\n      checked: data.missingSubmissionDeductionEnabled,\n      onChange: this.changeMissingSubmissionDeductionEnabled,\n      ref: c => {\n        this.missingSubmissionCheckbox = c;\n      },\n      disabled: !this.props.gradebookIsEditable\n    })), /*#__PURE__*/react__WEBPACK_IMPORTED_MODULE_1___default.a.createElement(_instructure_ui_form_field__WEBPACK_IMPORTED_MODULE_6__[\"FormFieldGroup\"], {\n      description: /*#__PURE__*/react__WEBPACK_IMPORTED_MODULE_1___default.a.createElement(_instructure_ui_a11y_content__WEBPACK_IMPORTED_MODULE_8__[\"ScreenReaderContent\"], null, i18n_gradebook__WEBPACK_IMPORTED_MODULE_15__[\"default\"].t('Missing policies')),\n      messages: this.missingPolicyMessages(validationErrors)\n    }, /*#__PURE__*/react__WEBPACK_IMPORTED_MODULE_1___default.a.createElement(_instructure_ui_view__WEBPACK_IMPORTED_MODULE_5__[\"View\"], {\n      as: \"div\",\n      margin: \"small small small large\"\n    }, /*#__PURE__*/react__WEBPACK_IMPORTED_MODULE_1___default.a.createElement(\"div\", {\n      className: \"NumberInput__Container\"\n    }, /*#__PURE__*/react__WEBPACK_IMPORTED_MODULE_1___default.a.createElement(_instructure_ui_grid__WEBPACK_IMPORTED_MODULE_4__[\"Grid\"], {\n      vAlign: \"bottom\",\n      colSpacing: \"small\"\n    }, /*#__PURE__*/react__WEBPACK_IMPORTED_MODULE_1___default.a.createElement(_instructure_ui_grid__WEBPACK_IMPORTED_MODULE_4__[\"Grid\"].Row, null, /*#__PURE__*/react__WEBPACK_IMPORTED_MODULE_1___default.a.createElement(_instructure_ui_grid__WEBPACK_IMPORTED_MODULE_4__[\"Grid\"].Col, {\n      width: \"auto\"\n    }, /*#__PURE__*/react__WEBPACK_IMPORTED_MODULE_1___default.a.createElement(_instructure_ui_number_input__WEBPACK_IMPORTED_MODULE_7__[\"NumberInput\"], {\n      id: \"missing-submission-grade\",\n      locale: this.props.locale,\n      inputRef: m => {\n        this.missingSubmissionDeductionInput = m;\n      },\n      renderLabel: i18n_gradebook__WEBPACK_IMPORTED_MODULE_15__[\"default\"].t('Grade percentage for missing submissions'),\n      disabled: !this.getLatePolicyAttribute('missingSubmissionDeductionEnabled') || !this.props.gradebookIsEditable,\n      value: this.currentInputDisplayValue('missingSubmissionDeduction', MAX_PERCENTAGE_INPUT),\n      onBlur: _event => this.handleBlur('missingSubmissionDeduction'),\n      onChange: (_event, val) => this.handleChange('missingSubmissionDeduction', val),\n      placeholder: \"100\",\n      showArrows: false\n    })), /*#__PURE__*/react__WEBPACK_IMPORTED_MODULE_1___default.a.createElement(_instructure_ui_grid__WEBPACK_IMPORTED_MODULE_4__[\"Grid\"].Col, {\n      width: \"auto\"\n    }, /*#__PURE__*/react__WEBPACK_IMPORTED_MODULE_1___default.a.createElement(_instructure_ui_view__WEBPACK_IMPORTED_MODULE_5__[\"View\"], {\n      margin: \"0 0 x-small\",\n      display: \"block\"\n    }, /*#__PURE__*/react__WEBPACK_IMPORTED_MODULE_1___default.a.createElement(_instructure_ui_text__WEBPACK_IMPORTED_MODULE_9__[\"Text\"], {\n      weight: \"bold\"\n    }, i18n_gradebook__WEBPACK_IMPORTED_MODULE_15__[\"default\"].t('%'))))))))), /*#__PURE__*/react__WEBPACK_IMPORTED_MODULE_1___default.a.createElement(_instructure_ui_a11y_content__WEBPACK_IMPORTED_MODULE_8__[\"PresentationContent\"], null, /*#__PURE__*/react__WEBPACK_IMPORTED_MODULE_1___default.a.createElement(\"hr\", null)), this.state.showAlert && /*#__PURE__*/react__WEBPACK_IMPORTED_MODULE_1___default.a.createElement(_instructure_ui_alerts__WEBPACK_IMPORTED_MODULE_3__[\"Alert\"], {\n      variant: \"warning\",\n      closeButtonLabel: i18n_gradebook__WEBPACK_IMPORTED_MODULE_15__[\"default\"].t('Close'),\n      onDismiss: this.closeAlert,\n      margin: \"small\"\n    }, i18n_gradebook__WEBPACK_IMPORTED_MODULE_15__[\"default\"].t('Changing the late policy will affect previously graded submissions.')), /*#__PURE__*/react__WEBPACK_IMPORTED_MODULE_1___default.a.createElement(_instructure_ui_view__WEBPACK_IMPORTED_MODULE_5__[\"View\"], {\n      as: \"div\",\n      margin: \"small\"\n    }, /*#__PURE__*/react__WEBPACK_IMPORTED_MODULE_1___default.a.createElement(_instructure_ui_checkbox__WEBPACK_IMPORTED_MODULE_11__[\"Checkbox\"], {\n      label: i18n_gradebook__WEBPACK_IMPORTED_MODULE_15__[\"default\"].t('Automatically apply deduction to late submissions'),\n      defaultChecked: data.lateSubmissionDeductionEnabled,\n      onChange: this.changeLateSubmissionDeductionEnabled,\n      disabled: !this.props.gradebookIsEditable\n    })), /*#__PURE__*/react__WEBPACK_IMPORTED_MODULE_1___default.a.createElement(_instructure_ui_form_field__WEBPACK_IMPORTED_MODULE_6__[\"FormFieldGroup\"], {\n      description: /*#__PURE__*/react__WEBPACK_IMPORTED_MODULE_1___default.a.createElement(_instructure_ui_a11y_content__WEBPACK_IMPORTED_MODULE_8__[\"ScreenReaderContent\"], null, i18n_gradebook__WEBPACK_IMPORTED_MODULE_15__[\"default\"].t('Late policies')),\n      messages: this.latePolicyMessages(validationErrors)\n    }, /*#__PURE__*/react__WEBPACK_IMPORTED_MODULE_1___default.a.createElement(_instructure_ui_view__WEBPACK_IMPORTED_MODULE_5__[\"View\"], {\n      as: \"div\",\n      margin: \"small small small large\"\n    }, /*#__PURE__*/react__WEBPACK_IMPORTED_MODULE_1___default.a.createElement(\"div\", {\n      style: {\n        display: 'flex',\n        alignItems: 'center'\n      }\n    }, /*#__PURE__*/react__WEBPACK_IMPORTED_MODULE_1___default.a.createElement(_instructure_ui_grid__WEBPACK_IMPORTED_MODULE_4__[\"Grid\"], {\n      vAlign: \"bottom\",\n      colSpacing: \"small\"\n    }, /*#__PURE__*/react__WEBPACK_IMPORTED_MODULE_1___default.a.createElement(_instructure_ui_grid__WEBPACK_IMPORTED_MODULE_4__[\"Grid\"].Row, null, /*#__PURE__*/react__WEBPACK_IMPORTED_MODULE_1___default.a.createElement(_instructure_ui_grid__WEBPACK_IMPORTED_MODULE_4__[\"Grid\"].Col, {\n      width: \"auto\"\n    }, /*#__PURE__*/react__WEBPACK_IMPORTED_MODULE_1___default.a.createElement(_instructure_ui_number_input__WEBPACK_IMPORTED_MODULE_7__[\"NumberInput\"], {\n      id: \"late-submission-deduction\",\n      locale: this.props.locale,\n      inputRef: l => {\n        this.lateSubmissionDeductionInput = l;\n      },\n      renderLabel: i18n_gradebook__WEBPACK_IMPORTED_MODULE_15__[\"default\"].t('Late submission deduction percent'),\n      disabled: !this.getLatePolicyAttribute('lateSubmissionDeductionEnabled') || !this.props.gradebookIsEditable,\n      value: this.currentInputDisplayValue('lateSubmissionDeduction', MIN_PERCENTAGE_INPUT),\n      onBlur: _event => this.handleBlur('lateSubmissionDeduction'),\n      onChange: (_event, val) => this.handleChange('lateSubmissionDeduction', val),\n      placeholder: \"0\",\n      showArrows: false\n    })), /*#__PURE__*/react__WEBPACK_IMPORTED_MODULE_1___default.a.createElement(_instructure_ui_grid__WEBPACK_IMPORTED_MODULE_4__[\"Grid\"].Col, {\n      width: \"auto\"\n    }, /*#__PURE__*/react__WEBPACK_IMPORTED_MODULE_1___default.a.createElement(_instructure_ui_view__WEBPACK_IMPORTED_MODULE_5__[\"View\"], {\n      margin: \"0 0 x-small\",\n      display: \"block\"\n    }, /*#__PURE__*/react__WEBPACK_IMPORTED_MODULE_1___default.a.createElement(_instructure_ui_text__WEBPACK_IMPORTED_MODULE_9__[\"Text\"], {\n      weight: \"bold\"\n    }, i18n_gradebook__WEBPACK_IMPORTED_MODULE_15__[\"default\"].t('%')))), /*#__PURE__*/react__WEBPACK_IMPORTED_MODULE_1___default.a.createElement(_instructure_ui_grid__WEBPACK_IMPORTED_MODULE_4__[\"Grid\"].Col, {\n      width: \"auto\"\n    }, /*#__PURE__*/react__WEBPACK_IMPORTED_MODULE_1___default.a.createElement(_canvas_instui_bindings_react_Select__WEBPACK_IMPORTED_MODULE_12__[\"default\"], {\n      disabled: !this.getLatePolicyAttribute('lateSubmissionDeductionEnabled') || !this.props.gradebookIsEditable,\n      id: \"late-submission-interval\",\n      label: i18n_gradebook__WEBPACK_IMPORTED_MODULE_15__[\"default\"].t('Late submission deduction interval'),\n      onChange: this.changeLateSubmissionInterval,\n      value: data.lateSubmissionInterval\n    }, /*#__PURE__*/react__WEBPACK_IMPORTED_MODULE_1___default.a.createElement(_canvas_instui_bindings_react_Select__WEBPACK_IMPORTED_MODULE_12__[\"default\"].Option, {\n      key: \"day\",\n      id: \"day\",\n      value: \"day\"\n    }, i18n_gradebook__WEBPACK_IMPORTED_MODULE_15__[\"default\"].t('Day')), /*#__PURE__*/react__WEBPACK_IMPORTED_MODULE_1___default.a.createElement(_canvas_instui_bindings_react_Select__WEBPACK_IMPORTED_MODULE_12__[\"default\"].Option, {\n      key: \"hour\",\n      id: \"hour\",\n      value: \"hour\"\n    }, i18n_gradebook__WEBPACK_IMPORTED_MODULE_15__[\"default\"].t('Hour'))))), /*#__PURE__*/react__WEBPACK_IMPORTED_MODULE_1___default.a.createElement(_instructure_ui_grid__WEBPACK_IMPORTED_MODULE_4__[\"Grid\"].Row, null, /*#__PURE__*/react__WEBPACK_IMPORTED_MODULE_1___default.a.createElement(_instructure_ui_grid__WEBPACK_IMPORTED_MODULE_4__[\"Grid\"].Col, {\n      width: \"auto\"\n    }, /*#__PURE__*/react__WEBPACK_IMPORTED_MODULE_1___default.a.createElement(_instructure_ui_number_input__WEBPACK_IMPORTED_MODULE_7__[\"NumberInput\"], {\n      id: \"late-submission-minimum-percent\",\n      locale: this.props.locale,\n      inputRef: l => {\n        this.lateSubmissionMinimumPercentInput = l;\n      },\n      renderLabel: i18n_gradebook__WEBPACK_IMPORTED_MODULE_15__[\"default\"].t('Lowest possible grade percent'),\n      value: this.currentInputDisplayValue('lateSubmissionMinimumPercent', MIN_PERCENTAGE_INPUT),\n      disabled: !this.getLatePolicyAttribute('lateSubmissionDeductionEnabled') || !this.props.gradebookIsEditable,\n      onBlur: _event => this.handleBlur('lateSubmissionMinimumPercent'),\n      onChange: (_event, val) => this.handleChange('lateSubmissionMinimumPercent', val),\n      placeholder: \"0\",\n      inline: true,\n      showArrows: false\n    })), /*#__PURE__*/react__WEBPACK_IMPORTED_MODULE_1___default.a.createElement(_instructure_ui_grid__WEBPACK_IMPORTED_MODULE_4__[\"Grid\"].Col, {\n      width: \"auto\"\n    }, /*#__PURE__*/react__WEBPACK_IMPORTED_MODULE_1___default.a.createElement(_instructure_ui_view__WEBPACK_IMPORTED_MODULE_5__[\"View\"], {\n      margin: \"0 0 x-small\",\n      display: \"block\"\n    }, /*#__PURE__*/react__WEBPACK_IMPORTED_MODULE_1___default.a.createElement(_instructure_ui_text__WEBPACK_IMPORTED_MODULE_9__[\"Text\"], {\n      weight: \"bold\"\n    }, i18n_gradebook__WEBPACK_IMPORTED_MODULE_15__[\"default\"].t('%'))))))))));\n  }\n\n}\n\nLatePoliciesTabPanel.propTypes = {\n  latePolicy: Object(prop_types__WEBPACK_IMPORTED_MODULE_2__[\"shape\"])({\n    changes: Object(prop_types__WEBPACK_IMPORTED_MODULE_2__[\"shape\"])({\n      missingSubmissionDeductionEnabled: prop_types__WEBPACK_IMPORTED_MODULE_2__[\"bool\"],\n      missingSubmissionDeduction: prop_types__WEBPACK_IMPORTED_MODULE_2__[\"number\"],\n      lateSubmissionDeductionEnabled: prop_types__WEBPACK_IMPORTED_MODULE_2__[\"bool\"],\n      lateSubmissionDeduction: prop_types__WEBPACK_IMPORTED_MODULE_2__[\"number\"],\n      lateSubmissionInterval: prop_types__WEBPACK_IMPORTED_MODULE_2__[\"string\"],\n      lateSubmissionMinimumPercent: prop_types__WEBPACK_IMPORTED_MODULE_2__[\"number\"]\n    }).isRequired,\n    validationErrors: Object(prop_types__WEBPACK_IMPORTED_MODULE_2__[\"shape\"])({\n      missingSubmissionDeduction: prop_types__WEBPACK_IMPORTED_MODULE_2__[\"string\"],\n      lateSubmissionDeduction: prop_types__WEBPACK_IMPORTED_MODULE_2__[\"string\"],\n      lateSubmissionMinimumPercent: prop_types__WEBPACK_IMPORTED_MODULE_2__[\"string\"]\n    }).isRequired,\n    data: Object(prop_types__WEBPACK_IMPORTED_MODULE_2__[\"shape\"])({\n      missingSubmissionDeductionEnabled: prop_types__WEBPACK_IMPORTED_MODULE_2__[\"bool\"],\n      missingSubmissionDeduction: prop_types__WEBPACK_IMPORTED_MODULE_2__[\"number\"],\n      lateSubmissionDeductionEnabled: prop_types__WEBPACK_IMPORTED_MODULE_2__[\"bool\"],\n      lateSubmissionDeduction: prop_types__WEBPACK_IMPORTED_MODULE_2__[\"number\"],\n      lateSubmissionInterval: prop_types__WEBPACK_IMPORTED_MODULE_2__[\"string\"],\n      lateSubmissionMinimumPercentEnabled: prop_types__WEBPACK_IMPORTED_MODULE_2__[\"bool\"],\n      lateSubmissionMinimumPercent: prop_types__WEBPACK_IMPORTED_MODULE_2__[\"number\"]\n    })\n  }).isRequired,\n  changeLatePolicy: prop_types__WEBPACK_IMPORTED_MODULE_2__[\"func\"].isRequired,\n  gradebookIsEditable: prop_types__WEBPACK_IMPORTED_MODULE_2__[\"bool\"].isRequired,\n  locale: prop_types__WEBPACK_IMPORTED_MODULE_2__[\"string\"].isRequired,\n  showAlert: prop_types__WEBPACK_IMPORTED_MODULE_2__[\"bool\"].isRequired\n};\n/* harmony default export */ __webpack_exports__[\"default\"] = (LatePoliciesTabPanel);\n\n//# sourceURL=webpack:///./ui/features/gradebook/react/default_gradebook/components/LatePoliciesTabPanel.js?");

/***/ }),

/***/ "htNi":
/*!*****************************************************************************************!*\
  !*** ./ui/features/gradebook/react/default_gradebook/components/ViewOptionsTabPanel.js ***!
  \*****************************************************************************************/
/*! exports provided: default */
/***/ (function(module, __webpack_exports__, __webpack_require__) {

"use strict";
eval("__webpack_require__.r(__webpack_exports__);\n/* harmony export (binding) */ __webpack_require__.d(__webpack_exports__, \"default\", function() { return ViewOptionsTabPanel; });\n/* harmony import */ var _babel_runtime_helpers_esm_objectSpread2__WEBPACK_IMPORTED_MODULE_0__ = __webpack_require__(/*! @babel/runtime/helpers/esm/objectSpread2 */ \"VTBJ\");\n/* harmony import */ var react__WEBPACK_IMPORTED_MODULE_1__ = __webpack_require__(/*! react */ \"q1tI\");\n/* harmony import */ var react__WEBPACK_IMPORTED_MODULE_1___default = /*#__PURE__*/__webpack_require__.n(react__WEBPACK_IMPORTED_MODULE_1__);\n/* harmony import */ var prop_types__WEBPACK_IMPORTED_MODULE_2__ = __webpack_require__(/*! prop-types */ \"17x9\");\n/* harmony import */ var prop_types__WEBPACK_IMPORTED_MODULE_2___default = /*#__PURE__*/__webpack_require__.n(prop_types__WEBPACK_IMPORTED_MODULE_2__);\n/* harmony import */ var _instructure_ui_checkbox__WEBPACK_IMPORTED_MODULE_3__ = __webpack_require__(/*! @instructure/ui-checkbox */ \"Kdwl\");\n/* harmony import */ var _instructure_ui_form_field__WEBPACK_IMPORTED_MODULE_4__ = __webpack_require__(/*! @instructure/ui-form-field */ \"sTNg\");\n/* harmony import */ var _instructure_ui_simple_select__WEBPACK_IMPORTED_MODULE_5__ = __webpack_require__(/*! @instructure/ui-simple-select */ \"fw+x\");\n/* harmony import */ var _instructure_ui_view__WEBPACK_IMPORTED_MODULE_6__ = __webpack_require__(/*! @instructure/ui-view */ \"OkHH\");\n/* harmony import */ var _StatusColorPanel__WEBPACK_IMPORTED_MODULE_7__ = __webpack_require__(/*! ./StatusColorPanel */ \"VefK\");\n/* harmony import */ var i18n_gradebook__WEBPACK_IMPORTED_MODULE_8__ = __webpack_require__(/*! i18n!gradebook */ \"I9Qz\");\n\n\n/*\n * Copyright (C) 2021 - present Instructure, Inc.\n *\n * This file is part of Canvas.\n *\n * Canvas is free software: you can redistribute it and/or modify it under\n * the terms of the GNU Affero General Public License as published by the Free\n * Software Foundation, version 3 of the License.\n *\n * Canvas is distributed in the hope that it will be useful, but WITHOUT ANY\n * WARRANTY; without even the implied warranty of MERCHANTABILITY or FITNESS FOR\n * A PARTICULAR PURPOSE. See the GNU Affero General Public License for more\n * details.\n *\n * You should have received a copy of the GNU Affero General Public License along\n * with this program. If not, see <http://www.gnu.org/licenses/>.\n */\n\n\n\n\n\n\n\n\n\nfunction buildAssignmentSortOptions(includeModules) {\n  const options = [{\n    criterion: 'default',\n    direction: 'ascending',\n    label: i18n_gradebook__WEBPACK_IMPORTED_MODULE_8__[\"default\"].t('Default Order')\n  }, {\n    criterion: 'name',\n    direction: 'ascending',\n    label: i18n_gradebook__WEBPACK_IMPORTED_MODULE_8__[\"default\"].t('Assignment Name - A-Z')\n  }, {\n    criterion: 'name',\n    direction: 'descending',\n    label: i18n_gradebook__WEBPACK_IMPORTED_MODULE_8__[\"default\"].t('Assignment Name - Z-A')\n  }, {\n    criterion: 'due_date',\n    direction: 'ascending',\n    label: i18n_gradebook__WEBPACK_IMPORTED_MODULE_8__[\"default\"].t('Due Date - Oldest to Newest')\n  }, {\n    criterion: 'due_date',\n    direction: 'descending',\n    label: i18n_gradebook__WEBPACK_IMPORTED_MODULE_8__[\"default\"].t('Due Date - Newest to Oldest')\n  }, {\n    criterion: 'points',\n    direction: 'ascending',\n    label: i18n_gradebook__WEBPACK_IMPORTED_MODULE_8__[\"default\"].t('Points - Lowest to Highest')\n  }, {\n    criterion: 'points',\n    direction: 'descending',\n    label: i18n_gradebook__WEBPACK_IMPORTED_MODULE_8__[\"default\"].t('Points - Highest to Lowest')\n  }];\n\n  if (includeModules) {\n    options.push({\n      criterion: 'module_position',\n      direction: 'ascending',\n      label: i18n_gradebook__WEBPACK_IMPORTED_MODULE_8__[\"default\"].t('Module - First to Last')\n    }, {\n      criterion: 'module_position',\n      direction: 'descending',\n      label: i18n_gradebook__WEBPACK_IMPORTED_MODULE_8__[\"default\"].t('Module - Last to First')\n    });\n  }\n\n  return options.map(option => Object(_babel_runtime_helpers_esm_objectSpread2__WEBPACK_IMPORTED_MODULE_0__[\"default\"])(Object(_babel_runtime_helpers_esm_objectSpread2__WEBPACK_IMPORTED_MODULE_0__[\"default\"])({}, option), {}, {\n    value: `${option.criterion}-${option.direction}`\n  }));\n}\n\nfunction renderCheckbox(setting, label, key) {\n  return /*#__PURE__*/react__WEBPACK_IMPORTED_MODULE_1___default.a.createElement(_instructure_ui_checkbox__WEBPACK_IMPORTED_MODULE_3__[\"Checkbox\"], {\n    checked: setting.checked,\n    onChange: event => setting.onChange(event.target.checked),\n    id: `view-options-show-${key}`,\n    label: label,\n    value: key\n  });\n}\n\nfunction ViewOptionsTabPanel({\n  columnSort,\n  showNotes,\n  showUnpublishedAssignments,\n  statusColors,\n  viewUngradedAsZero\n}) {\n  const sortOptions = buildAssignmentSortOptions(columnSort.modulesEnabled);\n  const selectedSortKey = sortOptions.find(option => option.criterion === columnSort.currentValue.criterion && option.direction === columnSort.currentValue.direction) || sortOptions[0];\n\n  const handleColumnSortSelected = (e, {\n    value\n  }) => {\n    const matchingSortOption = sortOptions.find(option => option.value === value);\n\n    if (matchingSortOption != null) {\n      const criterion = matchingSortOption.criterion,\n            direction = matchingSortOption.direction;\n      columnSort.onChange({\n        criterion,\n        direction\n      });\n    }\n  };\n\n  return /*#__PURE__*/react__WEBPACK_IMPORTED_MODULE_1___default.a.createElement(\"div\", {\n    id: \"ViewOptionsTabPanel__Container\"\n  }, /*#__PURE__*/react__WEBPACK_IMPORTED_MODULE_1___default.a.createElement(_instructure_ui_view__WEBPACK_IMPORTED_MODULE_6__[\"View\"], {\n    as: \"div\",\n    margin: \"small\"\n  }, /*#__PURE__*/react__WEBPACK_IMPORTED_MODULE_1___default.a.createElement(_instructure_ui_simple_select__WEBPACK_IMPORTED_MODULE_5__[\"SimpleSelect\"], {\n    renderLabel: i18n_gradebook__WEBPACK_IMPORTED_MODULE_8__[\"default\"].t('Arrange By'),\n    onChange: handleColumnSortSelected,\n    value: selectedSortKey.value\n  }, sortOptions.map(option => /*#__PURE__*/react__WEBPACK_IMPORTED_MODULE_1___default.a.createElement(_instructure_ui_simple_select__WEBPACK_IMPORTED_MODULE_5__[\"SimpleSelect\"].Option, {\n    id: `sort-${option.value}`,\n    key: option.value,\n    value: option.value\n  }, option.label))), /*#__PURE__*/react__WEBPACK_IMPORTED_MODULE_1___default.a.createElement(_instructure_ui_view__WEBPACK_IMPORTED_MODULE_6__[\"View\"], {\n    as: \"div\",\n    margin: \"large 0 large\"\n  }, /*#__PURE__*/react__WEBPACK_IMPORTED_MODULE_1___default.a.createElement(_instructure_ui_form_field__WEBPACK_IMPORTED_MODULE_4__[\"FormFieldGroup\"], {\n    description: i18n_gradebook__WEBPACK_IMPORTED_MODULE_8__[\"default\"].t('Show'),\n    layout: \"stacked\",\n    rowSpacing: \"small\"\n  }, renderCheckbox(showNotes, i18n_gradebook__WEBPACK_IMPORTED_MODULE_8__[\"default\"].t('Notes'), 'showNotes'), renderCheckbox(showUnpublishedAssignments, i18n_gradebook__WEBPACK_IMPORTED_MODULE_8__[\"default\"].t('Unpublished Assignments'), 'showUnpublishedAssignments'), viewUngradedAsZero.allowed && renderCheckbox(viewUngradedAsZero, i18n_gradebook__WEBPACK_IMPORTED_MODULE_8__[\"default\"].t('Preview ungraded as 0'), 'viewUngradedAsZero'))), /*#__PURE__*/react__WEBPACK_IMPORTED_MODULE_1___default.a.createElement(_instructure_ui_form_field__WEBPACK_IMPORTED_MODULE_4__[\"FormFieldGroup\"], {\n    description: i18n_gradebook__WEBPACK_IMPORTED_MODULE_8__[\"default\"].t('Status Color')\n  }, /*#__PURE__*/react__WEBPACK_IMPORTED_MODULE_1___default.a.createElement(_StatusColorPanel__WEBPACK_IMPORTED_MODULE_7__[\"default\"], {\n    colors: statusColors.currentValues,\n    onColorsUpdated: statusColors.onChange\n  }))));\n}\nViewOptionsTabPanel.propTypes = {\n  columnSort: Object(prop_types__WEBPACK_IMPORTED_MODULE_2__[\"shape\"])({\n    currentValue: Object(prop_types__WEBPACK_IMPORTED_MODULE_2__[\"shape\"])({\n      criterion: prop_types__WEBPACK_IMPORTED_MODULE_2__[\"string\"].isRequired,\n      direction: prop_types__WEBPACK_IMPORTED_MODULE_2__[\"string\"].isRequired\n    }),\n    modulesEnabled: prop_types__WEBPACK_IMPORTED_MODULE_2__[\"bool\"].isRequired,\n    onChange: prop_types__WEBPACK_IMPORTED_MODULE_2__[\"func\"].isRequired\n  }).isRequired,\n  showNotes: Object(prop_types__WEBPACK_IMPORTED_MODULE_2__[\"shape\"])({\n    checked: prop_types__WEBPACK_IMPORTED_MODULE_2__[\"bool\"].isRequired,\n    onChange: prop_types__WEBPACK_IMPORTED_MODULE_2__[\"func\"].isRequired\n  }).isRequired,\n  showUnpublishedAssignments: Object(prop_types__WEBPACK_IMPORTED_MODULE_2__[\"shape\"])({\n    checked: prop_types__WEBPACK_IMPORTED_MODULE_2__[\"bool\"].isRequired,\n    onChange: prop_types__WEBPACK_IMPORTED_MODULE_2__[\"func\"].isRequired\n  }).isRequired,\n  statusColors: Object(prop_types__WEBPACK_IMPORTED_MODULE_2__[\"shape\"])({\n    currentValues: Object(prop_types__WEBPACK_IMPORTED_MODULE_2__[\"objectOf\"])(prop_types__WEBPACK_IMPORTED_MODULE_2__[\"string\"]).isRequired,\n    onChange: prop_types__WEBPACK_IMPORTED_MODULE_2__[\"func\"].isRequired\n  }).isRequired,\n  viewUngradedAsZero: Object(prop_types__WEBPACK_IMPORTED_MODULE_2__[\"shape\"])({\n    allowed: prop_types__WEBPACK_IMPORTED_MODULE_2__[\"bool\"].isRequired,\n    checked: prop_types__WEBPACK_IMPORTED_MODULE_2__[\"bool\"].isRequired,\n    onChange: prop_types__WEBPACK_IMPORTED_MODULE_2__[\"func\"].isRequired\n  }).isRequired\n};\n\n//# sourceURL=webpack:///./ui/features/gradebook/react/default_gradebook/components/ViewOptionsTabPanel.js?");

/***/ })

}]);