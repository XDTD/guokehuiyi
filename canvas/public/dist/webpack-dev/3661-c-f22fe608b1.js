(window["canvasWebpackJsonp"] = window["canvasWebpackJsonp"] || []).push([[3661],{

/***/ "DH58":
/*!************************************************************************************************!*\
  !*** ./ui/features/blueprint_course_master/react/components/ConnectedBlueprintAssociations.js ***!
  \************************************************************************************************/
/*! exports provided: default */
/***/ (function(module, __webpack_exports__, __webpack_require__) {

"use strict";
eval("__webpack_require__.r(__webpack_exports__);\n/* harmony import */ var _BlueprintAssociations__WEBPACK_IMPORTED_MODULE_0__ = __webpack_require__(/*! ./BlueprintAssociations */ \"M84J\");\n/* harmony reexport (safe) */ __webpack_require__.d(__webpack_exports__, \"default\", function() { return _BlueprintAssociations__WEBPACK_IMPORTED_MODULE_0__[\"ConnectedBlueprintAssociations\"]; });\n\n/*\n * Copyright (C) 2019 - present Instructure, Inc.\n *\n * This file is part of Canvas.\n *\n * Canvas is free software: you can redistribute it and/or modify it under\n * the terms of the GNU Affero General Public License as published by the Free\n * Software Foundation, version 3 of the License.\n *\n * Canvas is distributed in the hope that it will be useful, but WITHOUT ANY\n * WARRANTY; without even the implied warranty of MERCHANTABILITY or FITNESS FOR\n * A PARTICULAR PURPOSE. See the GNU Affero General Public License for more\n * details.\n *\n * You should have received a copy of the GNU Affero General Public License along\n * with this program. If not, see <http://www.gnu.org/licenses/>.\n */\n\n\n//# sourceURL=webpack:///./ui/features/blueprint_course_master/react/components/ConnectedBlueprintAssociations.js?");

/***/ }),

/***/ "G/lG":
/*!****************************************************************************************************!*\
  !*** ./frontend_build/i18n.js?blueprint_settingsCoursePickerTable!./ui/shims/dummyI18nResource.js ***!
  \****************************************************************************************************/
/*! exports provided: default */
/***/ (function(module, __webpack_exports__, __webpack_require__) {

"use strict";
eval("__webpack_require__.r(__webpack_exports__);\n/* harmony import */ var _canvas_i18n_i18nObj__WEBPACK_IMPORTED_MODULE_0__ = __webpack_require__(/*! @canvas/i18n/i18nObj */ \"HGxv\");\n/* harmony import */ var translations_core_en__WEBPACK_IMPORTED_MODULE_1__ = __webpack_require__(/*! translations/_core_en */ \"0sPK\");\n\n    \n    \n    \n\n    /* harmony default export */ __webpack_exports__[\"default\"] = (_canvas_i18n_i18nObj__WEBPACK_IMPORTED_MODULE_0__[\"default\"].scoped('blueprint_settingsCoursePickerTable'));\n  \n\n//# sourceURL=webpack:///./ui/shims/dummyI18nResource.js?./frontend_build/i18n.js?blueprint_settingsCoursePickerTable");

/***/ }),

/***/ "H/5X":
/*!***********************************************************************************!*\
  !*** ./ui/features/blueprint_course_master/react/components/CoursePickerTable.js ***!
  \***********************************************************************************/
/*! exports provided: default */
/***/ (function(module, __webpack_exports__, __webpack_require__) {

"use strict";
eval("__webpack_require__.r(__webpack_exports__);\n/* harmony export (binding) */ __webpack_require__.d(__webpack_exports__, \"default\", function() { return CoursePickerTable; });\n/* harmony import */ var i18n_blueprint_settingsCoursePickerTable__WEBPACK_IMPORTED_MODULE_0__ = __webpack_require__(/*! i18n!blueprint_settingsCoursePickerTable */ \"G/lG\");\n/* harmony import */ var jquery__WEBPACK_IMPORTED_MODULE_1__ = __webpack_require__(/*! jquery */ \"ouhR\");\n/* harmony import */ var jquery__WEBPACK_IMPORTED_MODULE_1___default = /*#__PURE__*/__webpack_require__.n(jquery__WEBPACK_IMPORTED_MODULE_1__);\n/* harmony import */ var react__WEBPACK_IMPORTED_MODULE_2__ = __webpack_require__(/*! react */ \"q1tI\");\n/* harmony import */ var react__WEBPACK_IMPORTED_MODULE_2___default = /*#__PURE__*/__webpack_require__.n(react__WEBPACK_IMPORTED_MODULE_2__);\n/* harmony import */ var react_dom__WEBPACK_IMPORTED_MODULE_3__ = __webpack_require__(/*! react-dom */ \"i8i4\");\n/* harmony import */ var react_dom__WEBPACK_IMPORTED_MODULE_3___default = /*#__PURE__*/__webpack_require__.n(react_dom__WEBPACK_IMPORTED_MODULE_3__);\n/* harmony import */ var prop_types__WEBPACK_IMPORTED_MODULE_4__ = __webpack_require__(/*! prop-types */ \"17x9\");\n/* harmony import */ var prop_types__WEBPACK_IMPORTED_MODULE_4___default = /*#__PURE__*/__webpack_require__.n(prop_types__WEBPACK_IMPORTED_MODULE_4__);\n/* harmony import */ var _instructure_ui_text__WEBPACK_IMPORTED_MODULE_5__ = __webpack_require__(/*! @instructure/ui-text */ \"iE3e\");\n/* harmony import */ var _instructure_ui_table__WEBPACK_IMPORTED_MODULE_6__ = __webpack_require__(/*! @instructure/ui-table */ \"+DUA\");\n/* harmony import */ var _instructure_ui_a11y_content__WEBPACK_IMPORTED_MODULE_7__ = __webpack_require__(/*! @instructure/ui-a11y-content */ \"9+/z\");\n/* harmony import */ var _instructure_ui_checkbox__WEBPACK_IMPORTED_MODULE_8__ = __webpack_require__(/*! @instructure/ui-checkbox */ \"Kdwl\");\n/* harmony import */ var _canvas_rails_flash_notifications__WEBPACK_IMPORTED_MODULE_9__ = __webpack_require__(/*! @canvas/rails-flash-notifications */ \"r2Yr\");\n/* harmony import */ var _canvas_blueprint_courses_react_propTypes__WEBPACK_IMPORTED_MODULE_10__ = __webpack_require__(/*! @canvas/blueprint-courses/react/propTypes */ \"tlDv\");\n/*\n * Copyright (C) 2017 - present Instructure, Inc.\n *\n * This file is part of Canvas.\n *\n * Canvas is free software: you can redistribute it and/or modify it under\n * the terms of the GNU Affero General Public License as published by the Free\n * Software Foundation, version 3 of the License.\n *\n * Canvas is distributed in the hope that it will be useful, but WITHOUT ANY\n * WARRANTY; without even the implied warranty of MERCHANTABILITY or FITNESS FOR\n * A PARTICULAR PURPOSE. See the GNU Affero General Public License for more\n * details.\n *\n * You should have received a copy of the GNU Affero General Public License along\n * with this program. If not, see <http://www.gnu.org/licenses/>.\n */\n\n\n\n\n\n\n\n\n\n\n\nconst arrayOf = prop_types__WEBPACK_IMPORTED_MODULE_4___default.a.arrayOf,\n      string = prop_types__WEBPACK_IMPORTED_MODULE_4___default.a.string;\nclass CoursePickerTable extends react__WEBPACK_IMPORTED_MODULE_2___default.a.Component {\n  constructor(props) {\n    super(props);\n\n    this.onSelectToggle = e => {\n      const index = this.props.courses.findIndex(c => c.id === e.target.value);\n      const course = this.props.courses[index];\n      const srMsg = e.target.checked ? i18n_blueprint_settingsCoursePickerTable__WEBPACK_IMPORTED_MODULE_0__[\"default\"].t('Selected course %{course}', {\n        course: course.name\n      }) : i18n_blueprint_settingsCoursePickerTable__WEBPACK_IMPORTED_MODULE_0__[\"default\"].t('Unselected course %{course}', {\n        course: course.name\n      });\n      jquery__WEBPACK_IMPORTED_MODULE_1___default.a.screenReaderFlashMessage(srMsg);\n      this.updateSelected({\n        [e.target.value]: e.target.checked\n      }, false);\n      setTimeout(() => {\n        this.handleFocusLoss(index);\n      }, 0);\n    };\n\n    this.onSelectAllToggle = e => {\n      jquery__WEBPACK_IMPORTED_MODULE_1___default.a.screenReaderFlashMessage(e.target.checked ? i18n_blueprint_settingsCoursePickerTable__WEBPACK_IMPORTED_MODULE_0__[\"default\"].t('Selected all courses') : i18n_blueprint_settingsCoursePickerTable__WEBPACK_IMPORTED_MODULE_0__[\"default\"].t('Unselected all courses'));\n      const selected = this.props.courses.reduce((selectedMap, course) => {\n        selectedMap[course.id] = e.target.checked;\n        return selectedMap;\n      }, {});\n      this.updateSelected(selected, e.target.checked);\n    };\n\n    this.state = {\n      selected: this.parseSelectedCourses(props.selectedCourses),\n      selectedAll: false\n    };\n    this.tableRef = /*#__PURE__*/react__WEBPACK_IMPORTED_MODULE_2___default.a.createRef();\n    this.tableBody = /*#__PURE__*/react__WEBPACK_IMPORTED_MODULE_2___default.a.createRef();\n    this.selectAllCheckbox = /*#__PURE__*/react__WEBPACK_IMPORTED_MODULE_2___default.a.createRef();\n  }\n\n  componentDidMount() {\n    this.fixIcons();\n  }\n\n  UNSAFE_componentWillReceiveProps(nextProps) {\n    this.setState({\n      selected: this.parseSelectedCourses(nextProps.selectedCourses),\n      selectedAll: nextProps.selectedCourses.length === nextProps.courses.length\n    });\n  }\n\n  componentDidUpdate() {\n    this.fixIcons();\n  }\n\n  // in IE, instui icons are in the tab order and get focus, even if hidden\n  // this fixes them up so that doesn't happen.\n  // Eventually this should get folded into instui via INSTUI-572\n  fixIcons() {\n    if (this.tableRef.current) {\n      Array.prototype.forEach.call(this.tableRef.current.querySelectorAll('svg[aria-hidden]'), el => {\n        el.setAttribute('focusable', 'false');\n      });\n    }\n  }\n\n  parseSelectedCourses(courses = []) {\n    return courses.reduce((selected, courseId) => {\n      selected[courseId] = true;\n      return selected;\n    }, {});\n  }\n\n  updateSelected(selectedDiff, selectedAll) {\n    const oldSelected = this.state.selected;\n    const added = [];\n    const removed = [];\n    this.props.courses.forEach(({\n      id\n    }) => {\n      if (oldSelected[id] === true && selectedDiff[id] === false) removed.push(id);\n      if (oldSelected[id] !== true && selectedDiff[id] === true) added.push(id);\n    });\n    this.props.onSelectedChanged({\n      added,\n      removed\n    });\n    this.setState({\n      selectedAll\n    });\n  }\n\n  handleFocusLoss(index) {\n    if (this.props.courses.length === 0) {\n      this.selectAllCheckbox.current.focus();\n    } else if (index >= this.props.courses.length) {\n      this.handleFocusLoss(index - 1);\n    } else {\n      // eslint-disable-next-line react/no-find-dom-node\n      const elt = Object(react_dom__WEBPACK_IMPORTED_MODULE_3__[\"findDOMNode\"])(this.tableBody.current);\n      elt.querySelectorAll('[data-testid=\"bca-table__course-row\"] input[type=\"checkbox\"]')[index].focus();\n    }\n  }\n\n  renderHeaders() {\n    return /*#__PURE__*/react__WEBPACK_IMPORTED_MODULE_2___default.a.createElement(_instructure_ui_table__WEBPACK_IMPORTED_MODULE_6__[\"Table\"].Row, null, /*#__PURE__*/react__WEBPACK_IMPORTED_MODULE_2___default.a.createElement(_instructure_ui_table__WEBPACK_IMPORTED_MODULE_6__[\"Table\"].ColHeader, {\n      id: \"picker-course-selection\",\n      width: \"3%\"\n    }, /*#__PURE__*/react__WEBPACK_IMPORTED_MODULE_2___default.a.createElement(_instructure_ui_a11y_content__WEBPACK_IMPORTED_MODULE_7__[\"ScreenReaderContent\"], null, i18n_blueprint_settingsCoursePickerTable__WEBPACK_IMPORTED_MODULE_0__[\"default\"].t('Course Selection'))), /*#__PURE__*/react__WEBPACK_IMPORTED_MODULE_2___default.a.createElement(_instructure_ui_table__WEBPACK_IMPORTED_MODULE_6__[\"Table\"].ColHeader, {\n      id: \"picker-title\",\n      width: \"32%\"\n    }, i18n_blueprint_settingsCoursePickerTable__WEBPACK_IMPORTED_MODULE_0__[\"default\"].t('Title')), /*#__PURE__*/react__WEBPACK_IMPORTED_MODULE_2___default.a.createElement(_instructure_ui_table__WEBPACK_IMPORTED_MODULE_6__[\"Table\"].ColHeader, {\n      id: \"picker-name\",\n      width: \"15%\"\n    }, i18n_blueprint_settingsCoursePickerTable__WEBPACK_IMPORTED_MODULE_0__[\"default\"].t('Short Name')), /*#__PURE__*/react__WEBPACK_IMPORTED_MODULE_2___default.a.createElement(_instructure_ui_table__WEBPACK_IMPORTED_MODULE_6__[\"Table\"].ColHeader, {\n      id: \"picker-term\",\n      width: \"15%\"\n    }, i18n_blueprint_settingsCoursePickerTable__WEBPACK_IMPORTED_MODULE_0__[\"default\"].t('Term')), /*#__PURE__*/react__WEBPACK_IMPORTED_MODULE_2___default.a.createElement(_instructure_ui_table__WEBPACK_IMPORTED_MODULE_6__[\"Table\"].ColHeader, {\n      id: \"picker-sisid\",\n      width: \"10%\"\n    }, i18n_blueprint_settingsCoursePickerTable__WEBPACK_IMPORTED_MODULE_0__[\"default\"].t('SIS ID')), /*#__PURE__*/react__WEBPACK_IMPORTED_MODULE_2___default.a.createElement(_instructure_ui_table__WEBPACK_IMPORTED_MODULE_6__[\"Table\"].ColHeader, {\n      id: \"picker-teachers\",\n      width: \"25%\"\n    }, i18n_blueprint_settingsCoursePickerTable__WEBPACK_IMPORTED_MODULE_0__[\"default\"].t('Teacher(s)')));\n  }\n\n  renderCellText(text) {\n    return /*#__PURE__*/react__WEBPACK_IMPORTED_MODULE_2___default.a.createElement(_instructure_ui_text__WEBPACK_IMPORTED_MODULE_5__[\"Text\"], {\n      color: \"secondary\",\n      size: \"small\"\n    }, text);\n  }\n\n  renderRows() {\n    return this.props.courses.map(course => /*#__PURE__*/react__WEBPACK_IMPORTED_MODULE_2___default.a.createElement(_instructure_ui_table__WEBPACK_IMPORTED_MODULE_6__[\"Table\"].Row, {\n      id: `course_${course.id}`,\n      key: course.id,\n      \"data-testid\": \"bca-table__course-row\"\n    }, /*#__PURE__*/react__WEBPACK_IMPORTED_MODULE_2___default.a.createElement(_instructure_ui_table__WEBPACK_IMPORTED_MODULE_6__[\"Table\"].Cell, null, /*#__PURE__*/react__WEBPACK_IMPORTED_MODULE_2___default.a.createElement(_instructure_ui_checkbox__WEBPACK_IMPORTED_MODULE_8__[\"Checkbox\"], {\n      onChange: this.onSelectToggle,\n      value: course.id,\n      checked: this.state.selected[course.id] === true,\n      label: /*#__PURE__*/react__WEBPACK_IMPORTED_MODULE_2___default.a.createElement(_instructure_ui_a11y_content__WEBPACK_IMPORTED_MODULE_7__[\"ScreenReaderContent\"], null, i18n_blueprint_settingsCoursePickerTable__WEBPACK_IMPORTED_MODULE_0__[\"default\"].t('Toggle select course %{name}', {\n        name: course.original_name || course.name\n      }))\n    })), /*#__PURE__*/react__WEBPACK_IMPORTED_MODULE_2___default.a.createElement(_instructure_ui_table__WEBPACK_IMPORTED_MODULE_6__[\"Table\"].Cell, null, this.renderCellText(course.original_name || course.name)), /*#__PURE__*/react__WEBPACK_IMPORTED_MODULE_2___default.a.createElement(_instructure_ui_table__WEBPACK_IMPORTED_MODULE_6__[\"Table\"].Cell, null, this.renderCellText(course.course_code)), /*#__PURE__*/react__WEBPACK_IMPORTED_MODULE_2___default.a.createElement(_instructure_ui_table__WEBPACK_IMPORTED_MODULE_6__[\"Table\"].Cell, null, this.renderCellText(course.term.name)), /*#__PURE__*/react__WEBPACK_IMPORTED_MODULE_2___default.a.createElement(_instructure_ui_table__WEBPACK_IMPORTED_MODULE_6__[\"Table\"].Cell, null, this.renderCellText(course.sis_course_id)), /*#__PURE__*/react__WEBPACK_IMPORTED_MODULE_2___default.a.createElement(_instructure_ui_table__WEBPACK_IMPORTED_MODULE_6__[\"Table\"].Cell, null, this.renderCellText(course.teachers ? course.teachers.map(teacher => teacher.display_name).join(', ') : i18n_blueprint_settingsCoursePickerTable__WEBPACK_IMPORTED_MODULE_0__[\"default\"].t('%{teacher_count} teachers', {\n      teacher_count: course.teacher_count\n    })))));\n  }\n\n  renderBodyContent() {\n    if (this.props.courses.length > 0) {\n      return this.renderRows();\n    }\n\n    return /*#__PURE__*/react__WEBPACK_IMPORTED_MODULE_2___default.a.createElement(_instructure_ui_table__WEBPACK_IMPORTED_MODULE_6__[\"Table\"].Row, {\n      key: \"no-results\",\n      \"data-testid\": \"bca-table__no-results\"\n    }, /*#__PURE__*/react__WEBPACK_IMPORTED_MODULE_2___default.a.createElement(_instructure_ui_table__WEBPACK_IMPORTED_MODULE_6__[\"Table\"].Cell, null, this.renderCellText(i18n_blueprint_settingsCoursePickerTable__WEBPACK_IMPORTED_MODULE_0__[\"default\"].t('No results'))));\n  }\n\n  renderStickyHeaders() {\n    // in order to create a sticky table header, we'll create a separate table with\n    // just the visual sticky headers, that will be hidden from screen readers\n    return /*#__PURE__*/react__WEBPACK_IMPORTED_MODULE_2___default.a.createElement(\"div\", {\n      className: \"btps-table__header-wrapper\"\n    }, /*#__PURE__*/react__WEBPACK_IMPORTED_MODULE_2___default.a.createElement(_instructure_ui_a11y_content__WEBPACK_IMPORTED_MODULE_7__[\"PresentationContent\"], {\n      as: \"div\"\n    }, /*#__PURE__*/react__WEBPACK_IMPORTED_MODULE_2___default.a.createElement(_instructure_ui_table__WEBPACK_IMPORTED_MODULE_6__[\"Table\"], {\n      caption: i18n_blueprint_settingsCoursePickerTable__WEBPACK_IMPORTED_MODULE_0__[\"default\"].t('Blueprint Courses')\n    }, /*#__PURE__*/react__WEBPACK_IMPORTED_MODULE_2___default.a.createElement(_instructure_ui_table__WEBPACK_IMPORTED_MODULE_6__[\"Table\"].Head, null, this.renderHeaders()), /*#__PURE__*/react__WEBPACK_IMPORTED_MODULE_2___default.a.createElement(_instructure_ui_table__WEBPACK_IMPORTED_MODULE_6__[\"Table\"].Body, null))), /*#__PURE__*/react__WEBPACK_IMPORTED_MODULE_2___default.a.createElement(\"div\", {\n      className: \"bca-table__select-all\"\n    }, /*#__PURE__*/react__WEBPACK_IMPORTED_MODULE_2___default.a.createElement(_instructure_ui_checkbox__WEBPACK_IMPORTED_MODULE_8__[\"Checkbox\"], {\n      onChange: this.onSelectAllToggle,\n      value: \"all\",\n      checked: this.state.selectedAll,\n      ref: this.selectAllCheckbox,\n      label: /*#__PURE__*/react__WEBPACK_IMPORTED_MODULE_2___default.a.createElement(_instructure_ui_text__WEBPACK_IMPORTED_MODULE_5__[\"Text\"], {\n        size: \"small\"\n      }, i18n_blueprint_settingsCoursePickerTable__WEBPACK_IMPORTED_MODULE_0__[\"default\"].t({\n        one: 'Select (%{count}) Course',\n        other: 'Select All (%{count}) Courses'\n      }, {\n        count: this.props.courses.length\n      }))\n    })));\n  }\n\n  render() {\n    return /*#__PURE__*/react__WEBPACK_IMPORTED_MODULE_2___default.a.createElement(\"div\", {\n      className: \"bca-table__wrapper\",\n      ref: this.tableRef\n    }, this.renderStickyHeaders(), /*#__PURE__*/react__WEBPACK_IMPORTED_MODULE_2___default.a.createElement(\"div\", {\n      className: \"bca-table__content-wrapper\"\n    }, /*#__PURE__*/react__WEBPACK_IMPORTED_MODULE_2___default.a.createElement(_instructure_ui_table__WEBPACK_IMPORTED_MODULE_6__[\"Table\"], {\n      caption: i18n_blueprint_settingsCoursePickerTable__WEBPACK_IMPORTED_MODULE_0__[\"default\"].t('Blueprint Courses')\n    }, /*#__PURE__*/react__WEBPACK_IMPORTED_MODULE_2___default.a.createElement(_instructure_ui_table__WEBPACK_IMPORTED_MODULE_6__[\"Table\"].Body, {\n      ref: this.tableBody\n    }, this.renderBodyContent()))));\n  }\n\n}\nCoursePickerTable.propTypes = {\n  courses: _canvas_blueprint_courses_react_propTypes__WEBPACK_IMPORTED_MODULE_10__[\"default\"].courseList.isRequired,\n  selectedCourses: arrayOf(string).isRequired,\n  onSelectedChanged: prop_types__WEBPACK_IMPORTED_MODULE_4___default.a.func\n};\nCoursePickerTable.defaultProps = {\n  onSelectedChanged: () => {}\n};\n\n//# sourceURL=webpack:///./ui/features/blueprint_course_master/react/components/CoursePickerTable.js?");

/***/ }),

/***/ "HQFi":
/*!**************************************************************************************!*\
  !*** ./frontend_build/i18n.js?app_shared_components!./ui/shims/dummyI18nResource.js ***!
  \**************************************************************************************/
/*! exports provided: default */
/***/ (function(module, __webpack_exports__, __webpack_require__) {

"use strict";
eval("__webpack_require__.r(__webpack_exports__);\n/* harmony import */ var _canvas_i18n_i18nObj__WEBPACK_IMPORTED_MODULE_0__ = __webpack_require__(/*! @canvas/i18n/i18nObj */ \"HGxv\");\n/* harmony import */ var translations_core_en__WEBPACK_IMPORTED_MODULE_1__ = __webpack_require__(/*! translations/_core_en */ \"0sPK\");\n\n    \n    \n    \n\n    /* harmony default export */ __webpack_exports__[\"default\"] = (_canvas_i18n_i18nObj__WEBPACK_IMPORTED_MODULE_0__[\"default\"].scoped('app_shared_components'));\n  \n\n//# sourceURL=webpack:///./ui/shims/dummyI18nResource.js?./frontend_build/i18n.js?app_shared_components");

/***/ }),

/***/ "J2HH":
/*!*******************************************************************!*\
  !*** ./ui/features/blueprint_course_master/react/focusManager.js ***!
  \*******************************************************************/
/*! exports provided: default */
/***/ (function(module, __webpack_exports__, __webpack_require__) {

"use strict";
eval("__webpack_require__.r(__webpack_exports__);\n/* harmony export (binding) */ __webpack_require__.d(__webpack_exports__, \"default\", function() { return FocusManager; });\n/*\n * Copyright (C) 2017 - present Instructure, Inc.\n *\n * This file is part of Canvas.\n *\n * Canvas is free software: you can redistribute it and/or modify it under\n * the terms of the GNU Affero General Public License as published by the Free\n * Software Foundation, version 3 of the License.\n *\n * Canvas is distributed in the hope that it will be useful, but WITHOUT ANY\n * WARRANTY; without even the implied warranty of MERCHANTABILITY or FITNESS FOR\n * A PARTICULAR PURPOSE. See the GNU Affero General Public License for more\n * details.\n *\n * You should have received a copy of the GNU Affero General Public License along\n * with this program. If not, see <http://www.gnu.org/licenses/>.\n */\n// manages focus for a set of react components\n// useful in a11y situations where managing focus from deleting or otherwise\n// changing DOM structure\nclass FocusManager {\n  constructor() {\n    this.registerItemRef = index => c => this.registerItem(c, index);\n\n    this.registerBeforeRef = c => {\n      this.before = c;\n    };\n\n    this.registerAfterRef = c => {\n      this.after = c;\n    };\n\n    this.items = [];\n    this.before = null;\n    this.after = null;\n  }\n\n  reset() {\n    this.items = [];\n  } // allocate a new item to be managed by the FocusManager\n  // returns {\n  //  index: the position of the item in the list of items\n  //  ref: a react ref function to be passed to the component to register it with\n  //  the FocusManager\n  // }\n\n\n  allocateNext() {\n    const index = this.items.length;\n    this.items.push(null);\n    return {\n      index,\n      ref: this.registerItemRef(index)\n    };\n  } // register a node at a specified index\n\n\n  registerItem(c, index) {\n    this.items[index] = c;\n  } // returns a react ref function that registers a component at the given index\n  // inside the items array of the FocusManager\n\n\n  // based on the given index, move focus to the item before it in the items list\n  movePrev(index) {\n    if (index - 1 < 0) {\n      this.moveBefore();\n    } else {\n      this.focus(this.items[index - 1]);\n    }\n  } // based on the given index, move focus to the item after it in the items list\n\n\n  moveNext(index) {\n    if (index + 1 >= this.items.length) {\n      this.moveAfter();\n    } else {\n      this.focus(this.items[index + 1]);\n    }\n  } // move focus to the node we designated to come before our list of items\n\n\n  moveBefore() {\n    this.focus(this.before);\n  } // move focus to the node we designated to come after our list of items\n\n\n  moveAfter() {\n    this.focus(this.after);\n  } // moves focus to the node passed on, or show a console warning\n\n\n  focus(thing) {\n    if (thing && thing.focus) {\n      thing.focus();\n    } else {\n      console.warn('FocusManager could not handle focus change');\n    }\n  }\n\n}\n\n//# sourceURL=webpack:///./ui/features/blueprint_course_master/react/focusManager.js?");

/***/ }),

/***/ "Kyqr":
/*!******************************************************************************!*\
  !*** ./ui/features/blueprint_course_master/react/components/CoursePicker.js ***!
  \******************************************************************************/
/*! exports provided: default */
/***/ (function(module, __webpack_exports__, __webpack_require__) {

"use strict";
eval("__webpack_require__.r(__webpack_exports__);\n/* harmony export (binding) */ __webpack_require__.d(__webpack_exports__, \"default\", function() { return CoursePicker; });\n/* harmony import */ var i18n_blueprint_settingsCoursePicker__WEBPACK_IMPORTED_MODULE_0__ = __webpack_require__(/*! i18n!blueprint_settingsCoursePicker */ \"UJgo\");\n/* harmony import */ var jquery__WEBPACK_IMPORTED_MODULE_1__ = __webpack_require__(/*! jquery */ \"ouhR\");\n/* harmony import */ var jquery__WEBPACK_IMPORTED_MODULE_1___default = /*#__PURE__*/__webpack_require__.n(jquery__WEBPACK_IMPORTED_MODULE_1__);\n/* harmony import */ var react__WEBPACK_IMPORTED_MODULE_2__ = __webpack_require__(/*! react */ \"q1tI\");\n/* harmony import */ var react__WEBPACK_IMPORTED_MODULE_2___default = /*#__PURE__*/__webpack_require__.n(react__WEBPACK_IMPORTED_MODULE_2__);\n/* harmony import */ var prop_types__WEBPACK_IMPORTED_MODULE_3__ = __webpack_require__(/*! prop-types */ \"17x9\");\n/* harmony import */ var prop_types__WEBPACK_IMPORTED_MODULE_3___default = /*#__PURE__*/__webpack_require__.n(prop_types__WEBPACK_IMPORTED_MODULE_3__);\n/* harmony import */ var _instructure_ui_toggle_details__WEBPACK_IMPORTED_MODULE_4__ = __webpack_require__(/*! @instructure/ui-toggle-details */ \"Bcfm\");\n/* harmony import */ var _instructure_ui_text__WEBPACK_IMPORTED_MODULE_5__ = __webpack_require__(/*! @instructure/ui-text */ \"iE3e\");\n/* harmony import */ var _instructure_ui_spinner__WEBPACK_IMPORTED_MODULE_6__ = __webpack_require__(/*! @instructure/ui-spinner */ \"cPO5\");\n/* harmony import */ var _canvas_rails_flash_notifications__WEBPACK_IMPORTED_MODULE_7__ = __webpack_require__(/*! @canvas/rails-flash-notifications */ \"r2Yr\");\n/* harmony import */ var _canvas_blueprint_courses_react_propTypes__WEBPACK_IMPORTED_MODULE_8__ = __webpack_require__(/*! @canvas/blueprint-courses/react/propTypes */ \"tlDv\");\n/* harmony import */ var _CourseFilter__WEBPACK_IMPORTED_MODULE_9__ = __webpack_require__(/*! ./CourseFilter */ \"rXr0\");\n/* harmony import */ var _CoursePickerTable__WEBPACK_IMPORTED_MODULE_10__ = __webpack_require__(/*! ./CoursePickerTable */ \"H/5X\");\n/*\n * Copyright (C) 2017 - present Instructure, Inc.\n *\n * This file is part of Canvas.\n *\n * Canvas is free software: you can redistribute it and/or modify it under\n * the terms of the GNU Affero General Public License as published by the Free\n * Software Foundation, version 3 of the License.\n *\n * Canvas is distributed in the hope that it will be useful, but WITHOUT ANY\n * WARRANTY; without even the implied warranty of MERCHANTABILITY or FITNESS FOR\n * A PARTICULAR PURPOSE. See the GNU Affero General Public License for more\n * details.\n *\n * You should have received a copy of the GNU Affero General Public License along\n * with this program. If not, see <http://www.gnu.org/licenses/>.\n */\n\n\n\n\n\n\n\n\n\n\n\nconst func = prop_types__WEBPACK_IMPORTED_MODULE_3___default.a.func,\n      bool = prop_types__WEBPACK_IMPORTED_MODULE_3___default.a.bool,\n      arrayOf = prop_types__WEBPACK_IMPORTED_MODULE_3___default.a.arrayOf,\n      string = prop_types__WEBPACK_IMPORTED_MODULE_3___default.a.string;\nclass CoursePicker extends react__WEBPACK_IMPORTED_MODULE_2___default.a.Component {\n  constructor(props) {\n    super(props);\n\n    this.onFilterActivate = () => {\n      this.setState({\n        isExpanded: true\n      });\n    };\n\n    this.onSelectedChanged = selected => {\n      this.props.onSelectedChanged(selected);\n      this.setState({\n        isExpanded: true\n      });\n    };\n\n    this.onFilterChange = filters => {\n      this.props.loadCourses(filters);\n      this.setState({\n        filters,\n        isExpanded: true,\n        announceChanges: true\n      });\n    };\n\n    this.onToggleCoursePicker = (event, isExpanded) => {\n      this.setState({\n        isExpanded\n      });\n    };\n\n    this.state = {\n      isExpanded: props.isExpanded,\n      announceChanges: false\n    };\n    this._homeRef = null;\n  }\n\n  componentDidMount() {\n    this.fixIcons();\n  }\n\n  UNSAFE_componentWillReceiveProps(nextProps) {\n    if (this.state.announceChanges && !this.props.isLoadingCourses && nextProps.isLoadingCourses) {\n      jquery__WEBPACK_IMPORTED_MODULE_1___default.a.screenReaderFlashMessage(i18n_blueprint_settingsCoursePicker__WEBPACK_IMPORTED_MODULE_0__[\"default\"].t('Loading courses started'));\n    }\n\n    if (this.state.announceChanges && this.props.isLoadingCourses && !nextProps.isLoadingCourses) {\n      this.setState({\n        announceChanges: false\n      });\n      jquery__WEBPACK_IMPORTED_MODULE_1___default.a.screenReaderFlashMessage(i18n_blueprint_settingsCoursePicker__WEBPACK_IMPORTED_MODULE_0__[\"default\"].t({\n        one: 'Loading courses complete: one course found',\n        other: 'Loading courses complete: %{count} courses found'\n      }, {\n        count: nextProps.courses.length\n      }));\n    }\n  }\n\n  componentDidUpdate() {\n    this.fixIcons();\n  }\n\n  // in IE, instui icons are in the tab order and get focus, even if hidden\n  // this fixes them up so that doesn't happen.\n  // Eventually this should get folded into instui via INSTUI-572\n  fixIcons() {\n    if (this._homeRef) {\n      Array.prototype.forEach.call(this._homeRef.querySelectorAll('svg[aria-hidden]'), el => {\n        el.setAttribute('focusable', 'false');\n      });\n    }\n  }\n\n  reloadCourses() {\n    this.props.loadCourses(this.state.filters);\n  }\n\n  render() {\n    return /*#__PURE__*/react__WEBPACK_IMPORTED_MODULE_2___default.a.createElement(\"div\", {\n      className: \"bca-course-picker\",\n      ref: el => {\n        this._homeRef = el;\n      }\n    }, /*#__PURE__*/react__WEBPACK_IMPORTED_MODULE_2___default.a.createElement(_CourseFilter__WEBPACK_IMPORTED_MODULE_9__[\"default\"], {\n      ref: c => {\n        this.filter = c;\n      },\n      terms: this.props.terms,\n      subAccounts: this.props.subAccounts,\n      onChange: this.onFilterChange,\n      onActivate: this.onFilterActivate\n    }), /*#__PURE__*/react__WEBPACK_IMPORTED_MODULE_2___default.a.createElement(\"div\", {\n      className: \"bca-course-details__wrapper\"\n    }, /*#__PURE__*/react__WEBPACK_IMPORTED_MODULE_2___default.a.createElement(_instructure_ui_toggle_details__WEBPACK_IMPORTED_MODULE_4__[\"ToggleDetails\"], {\n      ref: c => {\n        this.coursesToggle = c;\n      },\n      expanded: this.state.isExpanded,\n      summary: /*#__PURE__*/react__WEBPACK_IMPORTED_MODULE_2___default.a.createElement(\"span\", {\n        ref: c => {\n          if (c) this.props.detailsRef(c.parentElement.parentElement);\n        }\n      }, /*#__PURE__*/react__WEBPACK_IMPORTED_MODULE_2___default.a.createElement(_instructure_ui_text__WEBPACK_IMPORTED_MODULE_5__[\"Text\"], null, i18n_blueprint_settingsCoursePicker__WEBPACK_IMPORTED_MODULE_0__[\"default\"].t('Courses'))),\n      onToggle: this.onToggleCoursePicker\n    }, this.props.isLoadingCourses && /*#__PURE__*/react__WEBPACK_IMPORTED_MODULE_2___default.a.createElement(\"div\", {\n      className: \"bca-course-picker__loading\"\n    }, /*#__PURE__*/react__WEBPACK_IMPORTED_MODULE_2___default.a.createElement(_instructure_ui_spinner__WEBPACK_IMPORTED_MODULE_6__[\"Spinner\"], {\n      renderTitle: i18n_blueprint_settingsCoursePicker__WEBPACK_IMPORTED_MODULE_0__[\"default\"].t('Loading Courses')\n    })), /*#__PURE__*/react__WEBPACK_IMPORTED_MODULE_2___default.a.createElement(_CoursePickerTable__WEBPACK_IMPORTED_MODULE_10__[\"default\"], {\n      courses: this.props.courses,\n      selectedCourses: this.props.selectedCourses,\n      onSelectedChanged: this.onSelectedChanged\n    }))));\n  }\n\n}\nCoursePicker.propTypes = {\n  courses: _canvas_blueprint_courses_react_propTypes__WEBPACK_IMPORTED_MODULE_8__[\"default\"].courseList.isRequired,\n  terms: _canvas_blueprint_courses_react_propTypes__WEBPACK_IMPORTED_MODULE_8__[\"default\"].termList.isRequired,\n  subAccounts: _canvas_blueprint_courses_react_propTypes__WEBPACK_IMPORTED_MODULE_8__[\"default\"].accountList.isRequired,\n  selectedCourses: arrayOf(string).isRequired,\n  loadCourses: func.isRequired,\n  isLoadingCourses: bool.isRequired,\n  onSelectedChanged: func,\n  detailsRef: func,\n  isExpanded: bool\n};\nCoursePicker.defaultProps = {\n  detailsRef: () => {},\n  onSelectedChanged: () => {},\n  isExpanded: true\n};\n\n//# sourceURL=webpack:///./ui/features/blueprint_course_master/react/components/CoursePicker.js?");

/***/ }),

/***/ "M84J":
/*!***************************************************************************************!*\
  !*** ./ui/features/blueprint_course_master/react/components/BlueprintAssociations.js ***!
  \***************************************************************************************/
/*! exports provided: default, ConnectedBlueprintAssociations */
/***/ (function(module, __webpack_exports__, __webpack_require__) {

"use strict";
eval("__webpack_require__.r(__webpack_exports__);\n/* harmony export (binding) */ __webpack_require__.d(__webpack_exports__, \"default\", function() { return BlueprintAssociations; });\n/* harmony export (binding) */ __webpack_require__.d(__webpack_exports__, \"ConnectedBlueprintAssociations\", function() { return ConnectedBlueprintAssociations; });\n/* harmony import */ var i18n_BlueprintAssociations__WEBPACK_IMPORTED_MODULE_0__ = __webpack_require__(/*! i18n!BlueprintAssociations */ \"U9zT\");\n/* harmony import */ var jquery__WEBPACK_IMPORTED_MODULE_1__ = __webpack_require__(/*! jquery */ \"ouhR\");\n/* harmony import */ var jquery__WEBPACK_IMPORTED_MODULE_1___default = /*#__PURE__*/__webpack_require__.n(jquery__WEBPACK_IMPORTED_MODULE_1__);\n/* harmony import */ var underscore__WEBPACK_IMPORTED_MODULE_2__ = __webpack_require__(/*! underscore */ \"Y/W1\");\n/* harmony import */ var underscore__WEBPACK_IMPORTED_MODULE_2___default = /*#__PURE__*/__webpack_require__.n(underscore__WEBPACK_IMPORTED_MODULE_2__);\n/* harmony import */ var react__WEBPACK_IMPORTED_MODULE_3__ = __webpack_require__(/*! react */ \"q1tI\");\n/* harmony import */ var react__WEBPACK_IMPORTED_MODULE_3___default = /*#__PURE__*/__webpack_require__.n(react__WEBPACK_IMPORTED_MODULE_3__);\n/* harmony import */ var prop_types__WEBPACK_IMPORTED_MODULE_4__ = __webpack_require__(/*! prop-types */ \"17x9\");\n/* harmony import */ var prop_types__WEBPACK_IMPORTED_MODULE_4___default = /*#__PURE__*/__webpack_require__.n(prop_types__WEBPACK_IMPORTED_MODULE_4__);\n/* harmony import */ var react_redux__WEBPACK_IMPORTED_MODULE_5__ = __webpack_require__(/*! react-redux */ \"/MKj\");\n/* harmony import */ var redux__WEBPACK_IMPORTED_MODULE_6__ = __webpack_require__(/*! redux */ \"ANjH\");\n/* harmony import */ var obj_select__WEBPACK_IMPORTED_MODULE_7__ = __webpack_require__(/*! obj-select */ \"J+gj\");\n/* harmony import */ var _canvas_rails_flash_notifications__WEBPACK_IMPORTED_MODULE_8__ = __webpack_require__(/*! @canvas/rails-flash-notifications */ \"r2Yr\");\n/* harmony import */ var _instructure_ui_text__WEBPACK_IMPORTED_MODULE_9__ = __webpack_require__(/*! @instructure/ui-text */ \"iE3e\");\n/* harmony import */ var _instructure_ui_heading__WEBPACK_IMPORTED_MODULE_10__ = __webpack_require__(/*! @instructure/ui-heading */ \"nwNI\");\n/* harmony import */ var _instructure_ui_spinner__WEBPACK_IMPORTED_MODULE_11__ = __webpack_require__(/*! @instructure/ui-spinner */ \"cPO5\");\n/* harmony import */ var _instructure_ui_alerts__WEBPACK_IMPORTED_MODULE_12__ = __webpack_require__(/*! @instructure/ui-alerts */ \"spba\");\n/* harmony import */ var _instructure_ui_a11y_content__WEBPACK_IMPORTED_MODULE_13__ = __webpack_require__(/*! @instructure/ui-a11y-content */ \"9+/z\");\n/* harmony import */ var _CoursePicker__WEBPACK_IMPORTED_MODULE_14__ = __webpack_require__(/*! ./CoursePicker */ \"Kyqr\");\n/* harmony import */ var _AssociationsTable__WEBPACK_IMPORTED_MODULE_15__ = __webpack_require__(/*! ./AssociationsTable */ \"qcw0\");\n/* harmony import */ var _canvas_blueprint_courses_react_actions__WEBPACK_IMPORTED_MODULE_16__ = __webpack_require__(/*! @canvas/blueprint-courses/react/actions */ \"MYmO\");\n/* harmony import */ var _canvas_blueprint_courses_react_propTypes__WEBPACK_IMPORTED_MODULE_17__ = __webpack_require__(/*! @canvas/blueprint-courses/react/propTypes */ \"tlDv\");\n/* harmony import */ var _focusManager__WEBPACK_IMPORTED_MODULE_18__ = __webpack_require__(/*! ../focusManager */ \"J2HH\");\n/*\n * Copyright (C) 2017 - present Instructure, Inc.\n *\n * This file is part of Canvas.\n *\n * Canvas is free software: you can redistribute it and/or modify it under\n * the terms of the GNU Affero General Public License as published by the Free\n * Software Foundation, version 3 of the License.\n *\n * Canvas is distributed in the hope that it will be useful, but WITHOUT ANY\n * WARRANTY; without even the implied warranty of MERCHANTABILITY or FITNESS FOR\n * A PARTICULAR PURPOSE. See the GNU Affero General Public License for more\n * details.\n *\n * You should have received a copy of the GNU Affero General Public License along\n * with this program. If not, see <http://www.gnu.org/licenses/>.\n */\n\n\n\n\n\n\n\n\n\n\n\n\n\n\n\n\n\n\n\nconst string = prop_types__WEBPACK_IMPORTED_MODULE_4___default.a.string,\n      arrayOf = prop_types__WEBPACK_IMPORTED_MODULE_4___default.a.arrayOf,\n      func = prop_types__WEBPACK_IMPORTED_MODULE_4___default.a.func,\n      bool = prop_types__WEBPACK_IMPORTED_MODULE_4___default.a.bool;\nclass BlueprintAssociations extends react__WEBPACK_IMPORTED_MODULE_3___default.a.Component {\n  constructor(...args) {\n    super(...args);\n\n    this.onSelectedChanged = ({\n      added,\n      removed\n    }) => {\n      if (added.length) this.props.addAssociations(added);\n      if (removed.length) this.props.removeAssociations(removed);\n    };\n\n    this.focusManager = new _focusManager__WEBPACK_IMPORTED_MODULE_18__[\"default\"]();\n  }\n\n  componentDidMount() {\n    if (!this.props.hasLoadedCourses) {\n      this.props.loadCourses();\n    }\n  }\n\n  componentWillReceiveProps(nextProps) {\n    if (!this.props.isSavingAssociations && nextProps.isSavingAssociations) {\n      jquery__WEBPACK_IMPORTED_MODULE_1___default.a.screenReaderFlashMessage(i18n_BlueprintAssociations__WEBPACK_IMPORTED_MODULE_0__[\"default\"].t('Saving associations started'));\n    }\n\n    if (this.props.isSavingAssociations && !nextProps.isSavingAssociations) {\n      jquery__WEBPACK_IMPORTED_MODULE_1___default.a.screenReaderFlashMessageExclusive(i18n_BlueprintAssociations__WEBPACK_IMPORTED_MODULE_0__[\"default\"].t('Saving associations complete')); // when saving is done, reload courses in course picker\n      // this will remove courses we just associated from the picker\n\n      this.coursePicker.reloadCourses();\n    }\n  }\n\n  maybeRenderSyncWarning() {\n    const _this$props = this.props,\n          hasUnsyncedChanges = _this$props.hasUnsyncedChanges,\n          existingAssociations = _this$props.existingAssociations,\n          addedAssociations = _this$props.addedAssociations;\n\n    if (hasUnsyncedChanges && existingAssociations.length > 0 && addedAssociations.length > 0) {\n      return /*#__PURE__*/react__WEBPACK_IMPORTED_MODULE_3___default.a.createElement(_instructure_ui_alerts__WEBPACK_IMPORTED_MODULE_12__[\"Alert\"], {\n        variant: \"warning\",\n        renderCloseButtonLabel: i18n_BlueprintAssociations__WEBPACK_IMPORTED_MODULE_0__[\"default\"].t('Close'),\n        margin: \"0 0 large\"\n      }, /*#__PURE__*/react__WEBPACK_IMPORTED_MODULE_3___default.a.createElement(\"p\", {\n        style: {\n          margin: '0 -10px'\n        }\n      }, /*#__PURE__*/react__WEBPACK_IMPORTED_MODULE_3___default.a.createElement(_instructure_ui_text__WEBPACK_IMPORTED_MODULE_9__[\"Text\"], {\n        weight: \"bold\"\n      }, i18n_BlueprintAssociations__WEBPACK_IMPORTED_MODULE_0__[\"default\"].t('Warning:')), \"\\xA0\", /*#__PURE__*/react__WEBPACK_IMPORTED_MODULE_3___default.a.createElement(_instructure_ui_text__WEBPACK_IMPORTED_MODULE_9__[\"Text\"], null, i18n_BlueprintAssociations__WEBPACK_IMPORTED_MODULE_0__[\"default\"].t('You have unsynced changes that will sync to all associated courses when a new association is saved.'))));\n    }\n\n    return null;\n  }\n\n  renderLoadingOverlay() {\n    if (this.props.isSavingAssociations) {\n      const title = i18n_BlueprintAssociations__WEBPACK_IMPORTED_MODULE_0__[\"default\"].t('Saving Associations');\n      return /*#__PURE__*/react__WEBPACK_IMPORTED_MODULE_3___default.a.createElement(\"div\", {\n        className: \"bca__overlay\"\n      }, /*#__PURE__*/react__WEBPACK_IMPORTED_MODULE_3___default.a.createElement(\"div\", {\n        className: \"bca__overlay__save-wrapper\"\n      }, /*#__PURE__*/react__WEBPACK_IMPORTED_MODULE_3___default.a.createElement(_instructure_ui_spinner__WEBPACK_IMPORTED_MODULE_11__[\"Spinner\"], {\n        renderTitle: title\n      }), /*#__PURE__*/react__WEBPACK_IMPORTED_MODULE_3___default.a.createElement(_instructure_ui_text__WEBPACK_IMPORTED_MODULE_9__[\"Text\"], {\n        as: \"p\"\n      }, title)));\n    }\n\n    return null;\n  }\n\n  render() {\n    return /*#__PURE__*/react__WEBPACK_IMPORTED_MODULE_3___default.a.createElement(\"div\", {\n      className: \"bca__wrapper\"\n    }, this.maybeRenderSyncWarning(), this.renderLoadingOverlay(), /*#__PURE__*/react__WEBPACK_IMPORTED_MODULE_3___default.a.createElement(_instructure_ui_heading__WEBPACK_IMPORTED_MODULE_10__[\"Heading\"], {\n      level: \"h3\"\n    }, i18n_BlueprintAssociations__WEBPACK_IMPORTED_MODULE_0__[\"default\"].t('Search Courses')), /*#__PURE__*/react__WEBPACK_IMPORTED_MODULE_3___default.a.createElement(\"br\", null), /*#__PURE__*/react__WEBPACK_IMPORTED_MODULE_3___default.a.createElement(\"div\", {\n      className: \"bca-course-associations\"\n    }, /*#__PURE__*/react__WEBPACK_IMPORTED_MODULE_3___default.a.createElement(_CoursePicker__WEBPACK_IMPORTED_MODULE_14__[\"default\"], {\n      ref: c => {\n        this.coursePicker = c;\n      },\n      courses: this.props.courses,\n      terms: this.props.terms,\n      subAccounts: this.props.subAccounts,\n      loadCourses: underscore__WEBPACK_IMPORTED_MODULE_2___default.a.debounce(this.props.loadCourses, 200),\n      isLoadingCourses: this.props.isLoadingCourses,\n      selectedCourses: this.props.addedAssociations.map(course => course.id),\n      onSelectedChanged: this.onSelectedChanged,\n      isExpanded: this.props.isExpanded,\n      detailsRef: this.focusManager.registerBeforeRef\n    }), /*#__PURE__*/react__WEBPACK_IMPORTED_MODULE_3___default.a.createElement(_instructure_ui_a11y_content__WEBPACK_IMPORTED_MODULE_13__[\"PresentationContent\"], null, /*#__PURE__*/react__WEBPACK_IMPORTED_MODULE_3___default.a.createElement(\"hr\", null)), /*#__PURE__*/react__WEBPACK_IMPORTED_MODULE_3___default.a.createElement(_instructure_ui_heading__WEBPACK_IMPORTED_MODULE_10__[\"Heading\"], {\n      level: \"h3\"\n    }, i18n_BlueprintAssociations__WEBPACK_IMPORTED_MODULE_0__[\"default\"].t('Associated')), /*#__PURE__*/react__WEBPACK_IMPORTED_MODULE_3___default.a.createElement(_AssociationsTable__WEBPACK_IMPORTED_MODULE_15__[\"default\"], {\n      existingAssociations: this.props.existingAssociations,\n      addedAssociations: this.props.addedAssociations,\n      removedAssociations: this.props.removedAssociations,\n      onRemoveAssociations: this.props.removeAssociations,\n      onRestoreAssociations: this.props.addAssociations,\n      isLoadingAssociations: this.props.isLoadingAssociations,\n      handleFocusLoss: this.catchAssociationsFocus,\n      focusManager: this.focusManager\n    })));\n  }\n\n}\nBlueprintAssociations.propTypes = {\n  loadCourses: func.isRequired,\n  addAssociations: func.isRequired,\n  removeAssociations: func.isRequired,\n  terms: _canvas_blueprint_courses_react_propTypes__WEBPACK_IMPORTED_MODULE_17__[\"default\"].termList.isRequired,\n  subAccounts: _canvas_blueprint_courses_react_propTypes__WEBPACK_IMPORTED_MODULE_17__[\"default\"].accountList.isRequired,\n  courses: _canvas_blueprint_courses_react_propTypes__WEBPACK_IMPORTED_MODULE_17__[\"default\"].courseList.isRequired,\n  existingAssociations: _canvas_blueprint_courses_react_propTypes__WEBPACK_IMPORTED_MODULE_17__[\"default\"].courseList.isRequired,\n  addedAssociations: _canvas_blueprint_courses_react_propTypes__WEBPACK_IMPORTED_MODULE_17__[\"default\"].courseList.isRequired,\n  removedAssociations: _canvas_blueprint_courses_react_propTypes__WEBPACK_IMPORTED_MODULE_17__[\"default\"].courseList.isRequired,\n  hasLoadedCourses: bool.isRequired,\n  isLoadingCourses: bool.isRequired,\n  isLoadingAssociations: bool.isRequired,\n  isSavingAssociations: bool.isRequired,\n  hasUnsyncedChanges: bool.isRequired,\n  isExpanded: bool\n};\nBlueprintAssociations.defaultProps = {\n  isExpanded: false\n};\n\nconst connectState = state => Object.assign(Object(obj_select__WEBPACK_IMPORTED_MODULE_7__[\"default\"])(state, ['existingAssociations', 'addedAssociations', 'removedAssociations', 'courses', 'terms', 'subAccounts', 'hasLoadedCourses', 'isLoadingCourses', 'isLoadingAssociations', 'isSavingAssociations']), {\n  hasUnsyncedChanges: !state.hasLoadedUnsyncedChanges || state.unsyncedChanges.length > 0\n});\n\nconst connectActions = dispatch => Object(redux__WEBPACK_IMPORTED_MODULE_6__[\"bindActionCreators\"])(_canvas_blueprint_courses_react_actions__WEBPACK_IMPORTED_MODULE_16__[\"default\"], dispatch);\n\nconst ConnectedBlueprintAssociations = Object(react_redux__WEBPACK_IMPORTED_MODULE_5__[\"connect\"])(connectState, connectActions)(BlueprintAssociations);\n\n//# sourceURL=webpack:///./ui/features/blueprint_course_master/react/components/BlueprintAssociations.js?");

/***/ }),

/***/ "U9zT":
/*!**************************************************************************************!*\
  !*** ./frontend_build/i18n.js?BlueprintAssociations!./ui/shims/dummyI18nResource.js ***!
  \**************************************************************************************/
/*! exports provided: default */
/***/ (function(module, __webpack_exports__, __webpack_require__) {

"use strict";
eval("__webpack_require__.r(__webpack_exports__);\n/* harmony import */ var _canvas_i18n_i18nObj__WEBPACK_IMPORTED_MODULE_0__ = __webpack_require__(/*! @canvas/i18n/i18nObj */ \"HGxv\");\n/* harmony import */ var translations_core_en__WEBPACK_IMPORTED_MODULE_1__ = __webpack_require__(/*! translations/_core_en */ \"0sPK\");\n\n    \n    \n    \n\n    /* harmony default export */ __webpack_exports__[\"default\"] = (_canvas_i18n_i18nObj__WEBPACK_IMPORTED_MODULE_0__[\"default\"].scoped('BlueprintAssociations'));\n  \n\n//# sourceURL=webpack:///./ui/shims/dummyI18nResource.js?./frontend_build/i18n.js?BlueprintAssociations");

/***/ }),

/***/ "UJgo":
/*!***********************************************************************************************!*\
  !*** ./frontend_build/i18n.js?blueprint_settingsCoursePicker!./ui/shims/dummyI18nResource.js ***!
  \***********************************************************************************************/
/*! exports provided: default */
/***/ (function(module, __webpack_exports__, __webpack_require__) {

"use strict";
eval("__webpack_require__.r(__webpack_exports__);\n/* harmony import */ var _canvas_i18n_i18nObj__WEBPACK_IMPORTED_MODULE_0__ = __webpack_require__(/*! @canvas/i18n/i18nObj */ \"HGxv\");\n/* harmony import */ var translations_core_en__WEBPACK_IMPORTED_MODULE_1__ = __webpack_require__(/*! translations/_core_en */ \"0sPK\");\n\n    \n    \n    \n\n    /* harmony default export */ __webpack_exports__[\"default\"] = (_canvas_i18n_i18nObj__WEBPACK_IMPORTED_MODULE_0__[\"default\"].scoped('blueprint_settingsCoursePicker'));\n  \n\n//# sourceURL=webpack:///./ui/shims/dummyI18nResource.js?./frontend_build/i18n.js?blueprint_settingsCoursePicker");

/***/ }),

/***/ "Urkt":
/*!***********************************************************************************************!*\
  !*** ./frontend_build/i18n.js?blueprint_settingsCourseFilter!./ui/shims/dummyI18nResource.js ***!
  \***********************************************************************************************/
/*! exports provided: default */
/***/ (function(module, __webpack_exports__, __webpack_require__) {

"use strict";
eval("__webpack_require__.r(__webpack_exports__);\n/* harmony import */ var _canvas_i18n_i18nObj__WEBPACK_IMPORTED_MODULE_0__ = __webpack_require__(/*! @canvas/i18n/i18nObj */ \"HGxv\");\n/* harmony import */ var translations_core_en__WEBPACK_IMPORTED_MODULE_1__ = __webpack_require__(/*! translations/_core_en */ \"0sPK\");\n\n    \n    \n    \n\n    /* harmony default export */ __webpack_exports__[\"default\"] = (_canvas_i18n_i18nObj__WEBPACK_IMPORTED_MODULE_0__[\"default\"].scoped('blueprint_settingsCourseFilter'));\n  \n\n//# sourceURL=webpack:///./ui/shims/dummyI18nResource.js?./frontend_build/i18n.js?blueprint_settingsCourseFilter");

/***/ }),

/***/ "iBmR":
/*!****************************************************************************************************!*\
  !*** ./frontend_build/i18n.js?blueprint_settingsAssociationsTable!./ui/shims/dummyI18nResource.js ***!
  \****************************************************************************************************/
/*! exports provided: default */
/***/ (function(module, __webpack_exports__, __webpack_require__) {

"use strict";
eval("__webpack_require__.r(__webpack_exports__);\n/* harmony import */ var _canvas_i18n_i18nObj__WEBPACK_IMPORTED_MODULE_0__ = __webpack_require__(/*! @canvas/i18n/i18nObj */ \"HGxv\");\n/* harmony import */ var translations_core_en__WEBPACK_IMPORTED_MODULE_1__ = __webpack_require__(/*! translations/_core_en */ \"0sPK\");\n\n    \n    \n    \n\n    /* harmony default export */ __webpack_exports__[\"default\"] = (_canvas_i18n_i18nObj__WEBPACK_IMPORTED_MODULE_0__[\"default\"].scoped('blueprint_settingsAssociationsTable'));\n  \n\n//# sourceURL=webpack:///./ui/shims/dummyI18nResource.js?./frontend_build/i18n.js?blueprint_settingsAssociationsTable");

/***/ }),

/***/ "qcw0":
/*!***********************************************************************************!*\
  !*** ./ui/features/blueprint_course_master/react/components/AssociationsTable.js ***!
  \***********************************************************************************/
/*! exports provided: default */
/***/ (function(module, __webpack_exports__, __webpack_require__) {

"use strict";
eval("__webpack_require__.r(__webpack_exports__);\n/* harmony export (binding) */ __webpack_require__.d(__webpack_exports__, \"default\", function() { return AssociationsTable; });\n/* harmony import */ var i18n_blueprint_settingsAssociationsTable__WEBPACK_IMPORTED_MODULE_0__ = __webpack_require__(/*! i18n!blueprint_settingsAssociationsTable */ \"iBmR\");\n/* harmony import */ var jquery__WEBPACK_IMPORTED_MODULE_1__ = __webpack_require__(/*! jquery */ \"ouhR\");\n/* harmony import */ var jquery__WEBPACK_IMPORTED_MODULE_1___default = /*#__PURE__*/__webpack_require__.n(jquery__WEBPACK_IMPORTED_MODULE_1__);\n/* harmony import */ var react__WEBPACK_IMPORTED_MODULE_2__ = __webpack_require__(/*! react */ \"q1tI\");\n/* harmony import */ var react__WEBPACK_IMPORTED_MODULE_2___default = /*#__PURE__*/__webpack_require__.n(react__WEBPACK_IMPORTED_MODULE_2__);\n/* harmony import */ var prop_types__WEBPACK_IMPORTED_MODULE_3__ = __webpack_require__(/*! prop-types */ \"17x9\");\n/* harmony import */ var prop_types__WEBPACK_IMPORTED_MODULE_3___default = /*#__PURE__*/__webpack_require__.n(prop_types__WEBPACK_IMPORTED_MODULE_3__);\n/* harmony import */ var _canvas_rails_flash_notifications__WEBPACK_IMPORTED_MODULE_4__ = __webpack_require__(/*! @canvas/rails-flash-notifications */ \"r2Yr\");\n/* harmony import */ var _instructure_ui_text__WEBPACK_IMPORTED_MODULE_5__ = __webpack_require__(/*! @instructure/ui-text */ \"iE3e\");\n/* harmony import */ var _instructure_ui_table__WEBPACK_IMPORTED_MODULE_6__ = __webpack_require__(/*! @instructure/ui-table */ \"+DUA\");\n/* harmony import */ var _instructure_ui_spinner__WEBPACK_IMPORTED_MODULE_7__ = __webpack_require__(/*! @instructure/ui-spinner */ \"cPO5\");\n/* harmony import */ var _instructure_ui_a11y_content__WEBPACK_IMPORTED_MODULE_8__ = __webpack_require__(/*! @instructure/ui-a11y-content */ \"9+/z\");\n/* harmony import */ var _instructure_ui_buttons__WEBPACK_IMPORTED_MODULE_9__ = __webpack_require__(/*! @instructure/ui-buttons */ \"K6WN\");\n/* harmony import */ var _instructure_ui_icons__WEBPACK_IMPORTED_MODULE_10__ = __webpack_require__(/*! @instructure/ui-icons */ \"oMAr\");\n/* harmony import */ var _canvas_blueprint_courses_react_propTypes__WEBPACK_IMPORTED_MODULE_11__ = __webpack_require__(/*! @canvas/blueprint-courses/react/propTypes */ \"tlDv\");\n/* harmony import */ var _focusManager__WEBPACK_IMPORTED_MODULE_12__ = __webpack_require__(/*! ../focusManager */ \"J2HH\");\n/*\n * Copyright (C) 2017 - present Instructure, Inc.\n *\n * This file is part of Canvas.\n *\n * Canvas is free software: you can redistribute it and/or modify it under\n * the terms of the GNU Affero General Public License as published by the Free\n * Software Foundation, version 3 of the License.\n *\n * Canvas is distributed in the hope that it will be useful, but WITHOUT ANY\n * WARRANTY; without even the implied warranty of MERCHANTABILITY or FITNESS FOR\n * A PARTICULAR PURPOSE. See the GNU Affero General Public License for more\n * details.\n *\n * You should have received a copy of the GNU Affero General Public License along\n * with this program. If not, see <http://www.gnu.org/licenses/>.\n */\n\n\n\n\n\n\n\n\n\n\n\n\n\nconst func = prop_types__WEBPACK_IMPORTED_MODULE_3___default.a.func,\n      bool = prop_types__WEBPACK_IMPORTED_MODULE_3___default.a.bool,\n      instanceOf = prop_types__WEBPACK_IMPORTED_MODULE_3___default.a.instanceOf;\nclass AssociationsTable extends react__WEBPACK_IMPORTED_MODULE_2___default.a.Component {\n  constructor(props) {\n    super(props);\n\n    this.onRemove = e => {\n      e.preventDefault();\n      const form = e.currentTarget;\n      const courseId = form.getAttribute('data-course-id');\n      const courseName = form.getAttribute('data-course-name');\n      const focusIndex = form.getAttribute('data-focus-index');\n      setTimeout(() => this.props.focusManager.movePrev(focusIndex), 400);\n      jquery__WEBPACK_IMPORTED_MODULE_1___default.a.screenReaderFlashMessage(i18n_blueprint_settingsAssociationsTable__WEBPACK_IMPORTED_MODULE_0__[\"default\"].t('Removed course association %{course}', {\n        course: courseName\n      }));\n      this.props.onRemoveAssociations([courseId]);\n    };\n\n    this.onRestore = e => {\n      e.preventDefault();\n      const form = e.currentTarget;\n      const courseId = form.getAttribute('data-course-id');\n      const courseName = form.getAttribute('data-course-name'); // re-focus the restored association\n\n      setTimeout(() => document.querySelector(`.bca-associations-table form[data-course-id=\"${courseId}\"] button[type=\"submit\"]`).focus(), 400);\n      jquery__WEBPACK_IMPORTED_MODULE_1___default.a.screenReaderFlashMessage(i18n_blueprint_settingsAssociationsTable__WEBPACK_IMPORTED_MODULE_0__[\"default\"].t('Restored course association %{course}', {\n        course: courseName\n      }));\n      this.props.onRestoreAssociations([courseId]);\n    };\n\n    this.wrapper = /*#__PURE__*/react__WEBPACK_IMPORTED_MODULE_2___default.a.createRef();\n    this.state = {\n      visibleExisting: props.existingAssociations\n    };\n  }\n\n  componentDidMount() {\n    this.fixIcons();\n  }\n\n  UNSAFE_componentWillReceiveProps(nextProps) {\n    const removedIds = nextProps.removedAssociations.map(course => course.id);\n    this.setState({\n      visibleExisting: nextProps.existingAssociations.filter(assoc => !removedIds.includes(assoc.id))\n    });\n\n    if (!this.props.isLoadingAssociations && nextProps.isLoadingAssociations) {\n      jquery__WEBPACK_IMPORTED_MODULE_1___default.a.screenReaderFlashMessage(i18n_blueprint_settingsAssociationsTable__WEBPACK_IMPORTED_MODULE_0__[\"default\"].t('Loading associations started'));\n    }\n\n    if (this.props.isLoadingAssociations && !nextProps.isLoadingAssociations) {\n      jquery__WEBPACK_IMPORTED_MODULE_1___default.a.screenReaderFlashMessageExclusive(i18n_blueprint_settingsAssociationsTable__WEBPACK_IMPORTED_MODULE_0__[\"default\"].t('Loading associations complete'));\n    }\n  }\n\n  componentDidUpdate() {\n    this.fixIcons();\n  }\n\n  // in IE, instui icons are in the tab order and get focus, even if hidden\n  // this fixes them up so that doesn't happen.\n  // Eventually this should get folded into instui via INSTUI-572\n  fixIcons() {\n    const wrapper = this.wrapper.current;\n\n    if (wrapper) {\n      Array.prototype.forEach.call(wrapper.querySelectorAll('svg[aria-hidden]'), el => {\n        el.setAttribute('focusable', 'false');\n      });\n    }\n  }\n\n  renderHeaders() {\n    return /*#__PURE__*/react__WEBPACK_IMPORTED_MODULE_2___default.a.createElement(_instructure_ui_table__WEBPACK_IMPORTED_MODULE_6__[\"Table\"].Row, null, /*#__PURE__*/react__WEBPACK_IMPORTED_MODULE_2___default.a.createElement(_instructure_ui_table__WEBPACK_IMPORTED_MODULE_6__[\"Table\"].ColHeader, {\n      id: \"colheader-title\",\n      width: \"32%\"\n    }, i18n_blueprint_settingsAssociationsTable__WEBPACK_IMPORTED_MODULE_0__[\"default\"].t('Title')), /*#__PURE__*/react__WEBPACK_IMPORTED_MODULE_2___default.a.createElement(_instructure_ui_table__WEBPACK_IMPORTED_MODULE_6__[\"Table\"].ColHeader, {\n      id: \"colheader-shortname\",\n      width: \"15%\"\n    }, i18n_blueprint_settingsAssociationsTable__WEBPACK_IMPORTED_MODULE_0__[\"default\"].t('Short Name')), /*#__PURE__*/react__WEBPACK_IMPORTED_MODULE_2___default.a.createElement(_instructure_ui_table__WEBPACK_IMPORTED_MODULE_6__[\"Table\"].ColHeader, {\n      id: \"colheader-term\",\n      width: \"15%\"\n    }, i18n_blueprint_settingsAssociationsTable__WEBPACK_IMPORTED_MODULE_0__[\"default\"].t('Term')), /*#__PURE__*/react__WEBPACK_IMPORTED_MODULE_2___default.a.createElement(_instructure_ui_table__WEBPACK_IMPORTED_MODULE_6__[\"Table\"].ColHeader, {\n      id: \"colheader-sisid\",\n      width: \"10%\"\n    }, i18n_blueprint_settingsAssociationsTable__WEBPACK_IMPORTED_MODULE_0__[\"default\"].t('SIS ID')), /*#__PURE__*/react__WEBPACK_IMPORTED_MODULE_2___default.a.createElement(_instructure_ui_table__WEBPACK_IMPORTED_MODULE_6__[\"Table\"].ColHeader, {\n      id: \"colheader-teachers\",\n      width: \"25%\"\n    }, i18n_blueprint_settingsAssociationsTable__WEBPACK_IMPORTED_MODULE_0__[\"default\"].t('Teacher(s)')), /*#__PURE__*/react__WEBPACK_IMPORTED_MODULE_2___default.a.createElement(_instructure_ui_table__WEBPACK_IMPORTED_MODULE_6__[\"Table\"].ColHeader, {\n      id: \"colheader-remove\",\n      width: \"3%\"\n    }, /*#__PURE__*/react__WEBPACK_IMPORTED_MODULE_2___default.a.createElement(_instructure_ui_a11y_content__WEBPACK_IMPORTED_MODULE_8__[\"ScreenReaderContent\"], null, i18n_blueprint_settingsAssociationsTable__WEBPACK_IMPORTED_MODULE_0__[\"default\"].t('Remove Association'))));\n  }\n\n  renderCellText(text) {\n    return /*#__PURE__*/react__WEBPACK_IMPORTED_MODULE_2___default.a.createElement(_instructure_ui_text__WEBPACK_IMPORTED_MODULE_5__[\"Text\"], {\n      color: \"secondary\",\n      size: \"small\"\n    }, text);\n  }\n\n  renderRows(associations) {\n    return associations.map(course => {\n      const focusNode = this.props.focusManager.allocateNext();\n      const label = i18n_blueprint_settingsAssociationsTable__WEBPACK_IMPORTED_MODULE_0__[\"default\"].t('Remove course association %{name}', {\n        name: course.name\n      });\n      return /*#__PURE__*/react__WEBPACK_IMPORTED_MODULE_2___default.a.createElement(_instructure_ui_table__WEBPACK_IMPORTED_MODULE_6__[\"Table\"].Row, {\n        id: `course_${course.id}`,\n        key: course.id,\n        \"data-testid\": \"associations-course-row\"\n      }, /*#__PURE__*/react__WEBPACK_IMPORTED_MODULE_2___default.a.createElement(_instructure_ui_table__WEBPACK_IMPORTED_MODULE_6__[\"Table\"].Cell, null, this.renderCellText(course.name)), /*#__PURE__*/react__WEBPACK_IMPORTED_MODULE_2___default.a.createElement(_instructure_ui_table__WEBPACK_IMPORTED_MODULE_6__[\"Table\"].Cell, null, this.renderCellText(course.course_code)), /*#__PURE__*/react__WEBPACK_IMPORTED_MODULE_2___default.a.createElement(_instructure_ui_table__WEBPACK_IMPORTED_MODULE_6__[\"Table\"].Cell, null, this.renderCellText(course.term.name)), /*#__PURE__*/react__WEBPACK_IMPORTED_MODULE_2___default.a.createElement(_instructure_ui_table__WEBPACK_IMPORTED_MODULE_6__[\"Table\"].Cell, null, this.renderCellText(course.sis_course_id)), /*#__PURE__*/react__WEBPACK_IMPORTED_MODULE_2___default.a.createElement(_instructure_ui_table__WEBPACK_IMPORTED_MODULE_6__[\"Table\"].Cell, null, this.renderCellText(course.teachers ? course.teachers.map(teacher => teacher.display_name).join(', ') : i18n_blueprint_settingsAssociationsTable__WEBPACK_IMPORTED_MODULE_0__[\"default\"].t('%{teacher_count} teachers', {\n        teacher_count: course.teacher_count\n      }))), /*#__PURE__*/react__WEBPACK_IMPORTED_MODULE_2___default.a.createElement(_instructure_ui_table__WEBPACK_IMPORTED_MODULE_6__[\"Table\"].Cell, null, /*#__PURE__*/react__WEBPACK_IMPORTED_MODULE_2___default.a.createElement(\"form\", {\n        style: {\n          margin: 0\n        },\n        onSubmit: this.onRemove,\n        \"data-course-id\": course.id,\n        \"data-course-name\": course.name,\n        \"data-focus-index\": focusNode.index\n      }, /*#__PURE__*/react__WEBPACK_IMPORTED_MODULE_2___default.a.createElement(_instructure_ui_buttons__WEBPACK_IMPORTED_MODULE_9__[\"CondensedButton\"], {\n        type: \"submit\",\n        size: \"small\",\n        renderIcon: /*#__PURE__*/react__WEBPACK_IMPORTED_MODULE_2___default.a.createElement(_instructure_ui_icons__WEBPACK_IMPORTED_MODULE_10__[\"IconXSolid\"], null),\n        ref: focusNode.ref,\n        \"aria-label\": label\n      }, /*#__PURE__*/react__WEBPACK_IMPORTED_MODULE_2___default.a.createElement(_instructure_ui_a11y_content__WEBPACK_IMPORTED_MODULE_8__[\"ScreenReaderContent\"], null, label)))));\n    });\n  }\n\n  renderToBeRemovedRows(associations) {\n    return associations.map(course => {\n      const focusNode = this.props.focusManager.allocateNext();\n      const label = i18n_blueprint_settingsAssociationsTable__WEBPACK_IMPORTED_MODULE_0__[\"default\"].t('Undo remove course association %{name}', {\n        name: course.name\n      });\n      return /*#__PURE__*/react__WEBPACK_IMPORTED_MODULE_2___default.a.createElement(_instructure_ui_table__WEBPACK_IMPORTED_MODULE_6__[\"Table\"].Row, {\n        key: course.id,\n        \"data-testid\": \"associations-course-row\"\n      }, /*#__PURE__*/react__WEBPACK_IMPORTED_MODULE_2___default.a.createElement(_instructure_ui_table__WEBPACK_IMPORTED_MODULE_6__[\"Table\"].Cell, null, this.renderCellText(course.name)), /*#__PURE__*/react__WEBPACK_IMPORTED_MODULE_2___default.a.createElement(_instructure_ui_table__WEBPACK_IMPORTED_MODULE_6__[\"Table\"].Cell, null, this.renderCellText(course.course_code)), /*#__PURE__*/react__WEBPACK_IMPORTED_MODULE_2___default.a.createElement(_instructure_ui_table__WEBPACK_IMPORTED_MODULE_6__[\"Table\"].Cell, null, this.renderCellText(course.term.name)), /*#__PURE__*/react__WEBPACK_IMPORTED_MODULE_2___default.a.createElement(_instructure_ui_table__WEBPACK_IMPORTED_MODULE_6__[\"Table\"].Cell, null, this.renderCellText(course.sis_course_id)), /*#__PURE__*/react__WEBPACK_IMPORTED_MODULE_2___default.a.createElement(_instructure_ui_table__WEBPACK_IMPORTED_MODULE_6__[\"Table\"].Cell, null, this.renderCellText(course.teachers ? course.teachers.map(teacher => teacher.display_name).join(', ') : i18n_blueprint_settingsAssociationsTable__WEBPACK_IMPORTED_MODULE_0__[\"default\"].t('%{teacher_count} teachers', {\n        teacher_count: course.teacher_count\n      }))), /*#__PURE__*/react__WEBPACK_IMPORTED_MODULE_2___default.a.createElement(_instructure_ui_table__WEBPACK_IMPORTED_MODULE_6__[\"Table\"].Cell, null, /*#__PURE__*/react__WEBPACK_IMPORTED_MODULE_2___default.a.createElement(\"form\", {\n        style: {\n          margin: 0\n        },\n        onSubmit: this.onRestore,\n        \"data-course-id\": course.id,\n        \"data-course-name\": course.name,\n        \"data-focus-index\": focusNode.index\n      }, /*#__PURE__*/react__WEBPACK_IMPORTED_MODULE_2___default.a.createElement(_instructure_ui_buttons__WEBPACK_IMPORTED_MODULE_9__[\"CondensedButton\"], {\n        type: \"submit\",\n        size: \"small\",\n        margin: \"x-small 0\",\n        ref: focusNode.ref,\n        \"aria-label\": label\n      }, /*#__PURE__*/react__WEBPACK_IMPORTED_MODULE_2___default.a.createElement(_instructure_ui_a11y_content__WEBPACK_IMPORTED_MODULE_8__[\"PresentationContent\"], null, i18n_blueprint_settingsAssociationsTable__WEBPACK_IMPORTED_MODULE_0__[\"default\"].t('Undo')), /*#__PURE__*/react__WEBPACK_IMPORTED_MODULE_2___default.a.createElement(_instructure_ui_a11y_content__WEBPACK_IMPORTED_MODULE_8__[\"ScreenReaderContent\"], null, label)))));\n    });\n  }\n\n  renderExistingAssociations() {\n    if (this.state.visibleExisting.length) {\n      return [/*#__PURE__*/react__WEBPACK_IMPORTED_MODULE_2___default.a.createElement(_instructure_ui_table__WEBPACK_IMPORTED_MODULE_6__[\"Table\"].Row, {\n        key: \"existing-heading\"\n      }, /*#__PURE__*/react__WEBPACK_IMPORTED_MODULE_2___default.a.createElement(_instructure_ui_table__WEBPACK_IMPORTED_MODULE_6__[\"Table\"].ColHeader, {\n        id: \"existing-current\",\n        colSpan: 6\n      }, /*#__PURE__*/react__WEBPACK_IMPORTED_MODULE_2___default.a.createElement(_instructure_ui_text__WEBPACK_IMPORTED_MODULE_5__[\"Text\"], {\n        weight: \"bold\",\n        size: \"small\"\n      }, i18n_blueprint_settingsAssociationsTable__WEBPACK_IMPORTED_MODULE_0__[\"default\"].t('Current'))))].concat(this.renderRows(this.state.visibleExisting));\n    }\n\n    return null;\n  }\n\n  renderAddedAssociations() {\n    if (this.props.addedAssociations.length) {\n      return [/*#__PURE__*/react__WEBPACK_IMPORTED_MODULE_2___default.a.createElement(_instructure_ui_table__WEBPACK_IMPORTED_MODULE_6__[\"Table\"].Row, {\n        key: \"added-heading\"\n      }, /*#__PURE__*/react__WEBPACK_IMPORTED_MODULE_2___default.a.createElement(_instructure_ui_table__WEBPACK_IMPORTED_MODULE_6__[\"Table\"].ColHeader, {\n        id: \"added-to-be-added\",\n        colSpan: 6\n      }, /*#__PURE__*/react__WEBPACK_IMPORTED_MODULE_2___default.a.createElement(_instructure_ui_text__WEBPACK_IMPORTED_MODULE_5__[\"Text\"], {\n        weight: \"bold\",\n        size: \"small\"\n      }, i18n_blueprint_settingsAssociationsTable__WEBPACK_IMPORTED_MODULE_0__[\"default\"].t('To be Added'))))].concat(this.renderRows(this.props.addedAssociations));\n    }\n\n    return null;\n  }\n\n  renderRemovedAssociations() {\n    if (this.props.removedAssociations.length) {\n      return [/*#__PURE__*/react__WEBPACK_IMPORTED_MODULE_2___default.a.createElement(_instructure_ui_table__WEBPACK_IMPORTED_MODULE_6__[\"Table\"].Row, {\n        key: \"removed-heading\"\n      }, /*#__PURE__*/react__WEBPACK_IMPORTED_MODULE_2___default.a.createElement(_instructure_ui_table__WEBPACK_IMPORTED_MODULE_6__[\"Table\"].ColHeader, {\n        id: \"removed-to-be-removed\",\n        colSpan: 6\n      }, /*#__PURE__*/react__WEBPACK_IMPORTED_MODULE_2___default.a.createElement(_instructure_ui_text__WEBPACK_IMPORTED_MODULE_5__[\"Text\"], {\n        weight: \"bold\",\n        size: \"small\"\n      }, i18n_blueprint_settingsAssociationsTable__WEBPACK_IMPORTED_MODULE_0__[\"default\"].t('To be Removed'))))].concat(this.renderToBeRemovedRows(this.props.removedAssociations));\n    }\n\n    return null;\n  }\n\n  renderTable() {\n    return /*#__PURE__*/react__WEBPACK_IMPORTED_MODULE_2___default.a.createElement(_instructure_ui_table__WEBPACK_IMPORTED_MODULE_6__[\"Table\"], {\n      caption: i18n_blueprint_settingsAssociationsTable__WEBPACK_IMPORTED_MODULE_0__[\"default\"].t('Blueprint Course Associations')\n    }, /*#__PURE__*/react__WEBPACK_IMPORTED_MODULE_2___default.a.createElement(_instructure_ui_table__WEBPACK_IMPORTED_MODULE_6__[\"Table\"].Head, null, this.renderHeaders()), /*#__PURE__*/react__WEBPACK_IMPORTED_MODULE_2___default.a.createElement(_instructure_ui_table__WEBPACK_IMPORTED_MODULE_6__[\"Table\"].Body, null, this.renderExistingAssociations()), /*#__PURE__*/react__WEBPACK_IMPORTED_MODULE_2___default.a.createElement(_instructure_ui_table__WEBPACK_IMPORTED_MODULE_6__[\"Table\"].Body, null, this.renderAddedAssociations()), /*#__PURE__*/react__WEBPACK_IMPORTED_MODULE_2___default.a.createElement(_instructure_ui_table__WEBPACK_IMPORTED_MODULE_6__[\"Table\"].Body, null, this.renderRemovedAssociations()));\n  }\n\n  renderLoadingOverlay() {\n    const isLoadingAssociations = this.props.isLoadingAssociations;\n\n    if (isLoadingAssociations) {\n      const title = i18n_blueprint_settingsAssociationsTable__WEBPACK_IMPORTED_MODULE_0__[\"default\"].t('Loading Associations');\n      return /*#__PURE__*/react__WEBPACK_IMPORTED_MODULE_2___default.a.createElement(\"div\", {\n        className: \"bca__overlay\"\n      }, /*#__PURE__*/react__WEBPACK_IMPORTED_MODULE_2___default.a.createElement(_instructure_ui_spinner__WEBPACK_IMPORTED_MODULE_7__[\"Spinner\"], {\n        renderTitle: title\n      }), /*#__PURE__*/react__WEBPACK_IMPORTED_MODULE_2___default.a.createElement(_instructure_ui_text__WEBPACK_IMPORTED_MODULE_5__[\"Text\"], {\n        as: \"p\"\n      }, title));\n    }\n\n    return null;\n  }\n\n  render() {\n    const _this$props = this.props,\n          addedAssociations = _this$props.addedAssociations,\n          removedAssociations = _this$props.removedAssociations;\n    this.props.focusManager.reset();\n    return /*#__PURE__*/react__WEBPACK_IMPORTED_MODULE_2___default.a.createElement(\"div\", {\n      className: \"bca-associations-table\",\n      ref: this.wrapper\n    }, this.renderLoadingOverlay(), this.state.visibleExisting.length || addedAssociations.length || removedAssociations.length ? this.renderTable() : /*#__PURE__*/react__WEBPACK_IMPORTED_MODULE_2___default.a.createElement(_instructure_ui_text__WEBPACK_IMPORTED_MODULE_5__[\"Text\"], {\n      color: \"secondary\",\n      as: \"p\"\n    }, i18n_blueprint_settingsAssociationsTable__WEBPACK_IMPORTED_MODULE_0__[\"default\"].t('There are currently no associated courses.')));\n  }\n\n}\nAssociationsTable.propTypes = {\n  existingAssociations: _canvas_blueprint_courses_react_propTypes__WEBPACK_IMPORTED_MODULE_11__[\"default\"].courseList.isRequired,\n  addedAssociations: _canvas_blueprint_courses_react_propTypes__WEBPACK_IMPORTED_MODULE_11__[\"default\"].courseList.isRequired,\n  removedAssociations: _canvas_blueprint_courses_react_propTypes__WEBPACK_IMPORTED_MODULE_11__[\"default\"].courseList.isRequired,\n  onRemoveAssociations: func.isRequired,\n  onRestoreAssociations: func.isRequired,\n  isLoadingAssociations: bool.isRequired,\n  focusManager: instanceOf(_focusManager__WEBPACK_IMPORTED_MODULE_12__[\"default\"]).isRequired\n};\n\n//# sourceURL=webpack:///./ui/features/blueprint_course_master/react/components/AssociationsTable.js?");

/***/ }),

/***/ "rXr0":
/*!******************************************************************************!*\
  !*** ./ui/features/blueprint_course_master/react/components/CourseFilter.js ***!
  \******************************************************************************/
/*! exports provided: default */
/***/ (function(module, __webpack_exports__, __webpack_require__) {

"use strict";
eval("__webpack_require__.r(__webpack_exports__);\n/* harmony export (binding) */ __webpack_require__.d(__webpack_exports__, \"default\", function() { return CourseFilter; });\n/* harmony import */ var i18n_blueprint_settingsCourseFilter__WEBPACK_IMPORTED_MODULE_0__ = __webpack_require__(/*! i18n!blueprint_settingsCourseFilter */ \"Urkt\");\n/* harmony import */ var react__WEBPACK_IMPORTED_MODULE_1__ = __webpack_require__(/*! react */ \"q1tI\");\n/* harmony import */ var react__WEBPACK_IMPORTED_MODULE_1___default = /*#__PURE__*/__webpack_require__.n(react__WEBPACK_IMPORTED_MODULE_1__);\n/* harmony import */ var prop_types__WEBPACK_IMPORTED_MODULE_2__ = __webpack_require__(/*! prop-types */ \"17x9\");\n/* harmony import */ var prop_types__WEBPACK_IMPORTED_MODULE_2___default = /*#__PURE__*/__webpack_require__.n(prop_types__WEBPACK_IMPORTED_MODULE_2__);\n/* harmony import */ var _instructure_ui_text_input__WEBPACK_IMPORTED_MODULE_3__ = __webpack_require__(/*! @instructure/ui-text-input */ \"/09A\");\n/* harmony import */ var _instructure_ui_a11y_content__WEBPACK_IMPORTED_MODULE_4__ = __webpack_require__(/*! @instructure/ui-a11y-content */ \"9+/z\");\n/* harmony import */ var _instructure_ui_flex__WEBPACK_IMPORTED_MODULE_5__ = __webpack_require__(/*! @instructure/ui-flex */ \"N46v\");\n/* harmony import */ var _canvas_instui_bindings_react_Select__WEBPACK_IMPORTED_MODULE_6__ = __webpack_require__(/*! @canvas/instui-bindings/react/Select */ \"WROG\");\n/* harmony import */ var _canvas_blueprint_courses_react_propTypes__WEBPACK_IMPORTED_MODULE_7__ = __webpack_require__(/*! @canvas/blueprint-courses/react/propTypes */ \"tlDv\");\n/*\n * Copyright (C) 2017 - present Instructure, Inc.\n *\n * This file is part of Canvas.\n *\n * Canvas is free software: you can redistribute it and/or modify it under\n * the terms of the GNU Affero General Public License as published by the Free\n * Software Foundation, version 3 of the License.\n *\n * Canvas is distributed in the hope that it will be useful, but WITHOUT ANY\n * WARRANTY; without even the implied warranty of MERCHANTABILITY or FITNESS FOR\n * A PARTICULAR PURPOSE. See the GNU Affero General Public License for more\n * details.\n *\n * You should have received a copy of the GNU Affero General Public License along\n * with this program. If not, see <http://www.gnu.org/licenses/>.\n */\n\n\n\n\n\n\n\n\nconst func = prop_types__WEBPACK_IMPORTED_MODULE_2___default.a.func;\nconst MIN_SEACH = 3; // min search term length for API\n\nclass CourseFilter extends react__WEBPACK_IMPORTED_MODULE_1___default.a.Component {\n  constructor(props) {\n    super(props);\n\n    this.onChange = () => {\n      this.setState({\n        search: this.getSearchText()\n      });\n    };\n\n    this.handleFocus = () => {\n      if (!this.state.isActive) {\n        this.setState({\n          isActive: true\n        }, () => {\n          this.props.onActivate();\n        });\n      }\n    };\n\n    this.handleBlur = () => {\n      // the timeout prevents the courses from jumping between open between and close when you tab through the form elements\n      setTimeout(() => {\n        if (this.state.isActive) {\n          const search = this.searchInput.value;\n          const isEmpty = !search;\n\n          if (isEmpty && !this.wrapper.contains(document.activeElement)) {\n            this.setState({\n              isActive: false\n            });\n          }\n        }\n      }, 0);\n    };\n\n    this.state = {\n      isActive: false,\n      search: '',\n      term: '',\n      subAccount: ''\n    };\n  }\n\n  componentDidUpdate(prevProps, prevState) {\n    if (prevState.search !== this.state.search || prevState.term !== this.state.term || prevState.subAccount !== this.state.subAccount) {\n      this.props.onChange(this.state);\n    }\n  }\n\n  getSearchText() {\n    const searchText = this.searchInput.value.trim().toLowerCase();\n    return searchText.length >= MIN_SEACH ? searchText : '';\n  }\n\n  render() {\n    const termOptions = [/*#__PURE__*/react__WEBPACK_IMPORTED_MODULE_1___default.a.createElement(_canvas_instui_bindings_react_Select__WEBPACK_IMPORTED_MODULE_6__[\"default\"].Option, {\n      key: \"all\",\n      id: \"all\",\n      value: \"\"\n    }, i18n_blueprint_settingsCourseFilter__WEBPACK_IMPORTED_MODULE_0__[\"default\"].t('Any Term')), ...this.props.terms.map(term => /*#__PURE__*/react__WEBPACK_IMPORTED_MODULE_1___default.a.createElement(_canvas_instui_bindings_react_Select__WEBPACK_IMPORTED_MODULE_6__[\"default\"].Option, {\n      key: term.id,\n      id: term.id,\n      value: term.id\n    }, term.name))];\n    const subAccountOptions = [/*#__PURE__*/react__WEBPACK_IMPORTED_MODULE_1___default.a.createElement(_canvas_instui_bindings_react_Select__WEBPACK_IMPORTED_MODULE_6__[\"default\"].Option, {\n      key: \"all\",\n      id: \"all\",\n      value: \"\"\n    }, i18n_blueprint_settingsCourseFilter__WEBPACK_IMPORTED_MODULE_0__[\"default\"].t('Any Sub-Account')), ...this.props.subAccounts.map(account => /*#__PURE__*/react__WEBPACK_IMPORTED_MODULE_1___default.a.createElement(_canvas_instui_bindings_react_Select__WEBPACK_IMPORTED_MODULE_6__[\"default\"].Option, {\n      key: account.id,\n      id: account.id,\n      value: account.id\n    }, account.name))];\n    return /*#__PURE__*/react__WEBPACK_IMPORTED_MODULE_1___default.a.createElement(\"div\", {\n      className: \"bca-course-filter\",\n      ref: c => {\n        this.wrapper = c;\n      }\n    }, /*#__PURE__*/react__WEBPACK_IMPORTED_MODULE_1___default.a.createElement(_instructure_ui_flex__WEBPACK_IMPORTED_MODULE_5__[\"Flex\"], {\n      wrapItems: true\n    }, /*#__PURE__*/react__WEBPACK_IMPORTED_MODULE_1___default.a.createElement(_instructure_ui_flex__WEBPACK_IMPORTED_MODULE_5__[\"Flex\"].Item, {\n      grow: true,\n      padding: \"0 x-small x-small 0\"\n    }, /*#__PURE__*/react__WEBPACK_IMPORTED_MODULE_1___default.a.createElement(_instructure_ui_text_input__WEBPACK_IMPORTED_MODULE_3__[\"TextInput\"], {\n      ref: c => {\n        this.searchInput = c;\n      },\n      type: \"search\",\n      onChange: this.onChange,\n      onFocus: this.handleFocus,\n      onBlur: this.handleBlur,\n      placeholder: i18n_blueprint_settingsCourseFilter__WEBPACK_IMPORTED_MODULE_0__[\"default\"].t('Search by title, short name, or SIS ID'),\n      label: /*#__PURE__*/react__WEBPACK_IMPORTED_MODULE_1___default.a.createElement(_instructure_ui_a11y_content__WEBPACK_IMPORTED_MODULE_4__[\"ScreenReaderContent\"], null, i18n_blueprint_settingsCourseFilter__WEBPACK_IMPORTED_MODULE_0__[\"default\"].t('Search Courses'))\n    })), /*#__PURE__*/react__WEBPACK_IMPORTED_MODULE_1___default.a.createElement(_instructure_ui_flex__WEBPACK_IMPORTED_MODULE_5__[\"Flex\"].Item, {\n      padding: \"0 x-small x-small 0\"\n    }, /*#__PURE__*/react__WEBPACK_IMPORTED_MODULE_1___default.a.createElement(_canvas_instui_bindings_react_Select__WEBPACK_IMPORTED_MODULE_6__[\"default\"], {\n      id: \"termsFilter\",\n      key: \"terms\",\n      value: this.state.term,\n      onChange: (e, value) => this.setState({\n        term: value\n      }),\n      label: /*#__PURE__*/react__WEBPACK_IMPORTED_MODULE_1___default.a.createElement(_instructure_ui_a11y_content__WEBPACK_IMPORTED_MODULE_4__[\"ScreenReaderContent\"], null, i18n_blueprint_settingsCourseFilter__WEBPACK_IMPORTED_MODULE_0__[\"default\"].t('Select Term'))\n    }, termOptions)), /*#__PURE__*/react__WEBPACK_IMPORTED_MODULE_1___default.a.createElement(_instructure_ui_flex__WEBPACK_IMPORTED_MODULE_5__[\"Flex\"].Item, {\n      padding: \"0 0 x-small 0\"\n    }, /*#__PURE__*/react__WEBPACK_IMPORTED_MODULE_1___default.a.createElement(_canvas_instui_bindings_react_Select__WEBPACK_IMPORTED_MODULE_6__[\"default\"], {\n      id: \"subAccountsFilter\",\n      key: \"subAccounts\",\n      value: this.state.subAccount,\n      onChange: (e, value) => this.setState({\n        subAccount: value\n      }),\n      label: /*#__PURE__*/react__WEBPACK_IMPORTED_MODULE_1___default.a.createElement(_instructure_ui_a11y_content__WEBPACK_IMPORTED_MODULE_4__[\"ScreenReaderContent\"], null, i18n_blueprint_settingsCourseFilter__WEBPACK_IMPORTED_MODULE_0__[\"default\"].t('Select Sub-Account'))\n    }, subAccountOptions))));\n  }\n\n}\nCourseFilter.propTypes = {\n  onChange: func,\n  onActivate: func,\n  terms: _canvas_blueprint_courses_react_propTypes__WEBPACK_IMPORTED_MODULE_7__[\"default\"].termList.isRequired,\n  subAccounts: _canvas_blueprint_courses_react_propTypes__WEBPACK_IMPORTED_MODULE_7__[\"default\"].accountList.isRequired\n};\nCourseFilter.defaultProps = {\n  onChange: () => {},\n  onActivate: () => {}\n};\n\n//# sourceURL=webpack:///./ui/features/blueprint_course_master/react/components/CourseFilter.js?");

/***/ })

}]);