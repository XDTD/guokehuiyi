(window["canvasWebpackJsonp"] = window["canvasWebpackJsonp"] || []).push([[3688],{

/***/ "1IXI":
/*!**************************************************!*\
  !*** ./ui/boot/initializers/enableHelpDialog.js ***!
  \**************************************************/
/*! exports provided: default */
/***/ (function(module, __webpack_exports__, __webpack_require__) {

"use strict";
eval("__webpack_require__.r(__webpack_exports__);\n/* harmony import */ var i18n_helpDialog__WEBPACK_IMPORTED_MODULE_0__ = __webpack_require__(/*! i18n!helpDialog */ \"Fn8J\");\n/* harmony import */ var _jst_helpDialog_handlebars__WEBPACK_IMPORTED_MODULE_1__ = __webpack_require__(/*! ./jst/helpDialog.handlebars */ \"8SMD\");\n/* harmony import */ var jquery__WEBPACK_IMPORTED_MODULE_2__ = __webpack_require__(/*! jquery */ \"ouhR\");\n/* harmony import */ var jquery__WEBPACK_IMPORTED_MODULE_2___default = /*#__PURE__*/__webpack_require__.n(jquery__WEBPACK_IMPORTED_MODULE_2__);\n/* harmony import */ var underscore__WEBPACK_IMPORTED_MODULE_3__ = __webpack_require__(/*! underscore */ \"Y/W1\");\n/* harmony import */ var underscore__WEBPACK_IMPORTED_MODULE_3___default = /*#__PURE__*/__webpack_require__.n(underscore__WEBPACK_IMPORTED_MODULE_3__);\n/* harmony import */ var browser_sniffer__WEBPACK_IMPORTED_MODULE_4__ = __webpack_require__(/*! browser-sniffer */ \"ik22\");\n/* harmony import */ var html_escape__WEBPACK_IMPORTED_MODULE_5__ = __webpack_require__(/*! html-escape */ \"gI0r\");\n/* harmony import */ var prevent_default__WEBPACK_IMPORTED_MODULE_6__ = __webpack_require__(/*! prevent-default */ \"qqwe\");\n/* harmony import */ var _canvas_jquery_jquery_instructure_misc_helpers__WEBPACK_IMPORTED_MODULE_7__ = __webpack_require__(/*! @canvas/jquery/jquery.instructure_misc_helpers */ \"8JEM\");\n/* harmony import */ var jqueryui_dialog__WEBPACK_IMPORTED_MODULE_8__ = __webpack_require__(/*! jqueryui/dialog */ \"ESjL\");\n/* harmony import */ var _canvas_jquery_jquery_disableWhileLoading__WEBPACK_IMPORTED_MODULE_9__ = __webpack_require__(/*! @canvas/jquery/jquery.disableWhileLoading */ \"sXof\");\n//\n// Copyright (C) 2011 - present Instructure, Inc.\n//\n// This file is part of Canvas.\n//\n// Canvas is free software: you can redistribute it and/or modify it under\n// the terms of the GNU Affero General Public License as published by the Free\n// Software Foundation, version 3 of the License.\n//\n// Canvas is distributed in the hope that it will be useful, but WITHOUT ANY\n// WARRANTY; without even the implied warranty of MERCHANTABILITY or FITNESS FOR\n// A PARTICULAR PURPOSE. See the GNU Affero General Public License for more\n// details.\n//\n// You should have received a copy of the GNU Affero General Public License along\n// with this program. If not, see <http://www.gnu.org/licenses/>.\n// also requires\n// jquery.formSubmit\n// jqueryui dialog\n// jquery disableWhileLoading\n\n\n\n\n\n\n\n\n\n\nconst helpDialog = {\n  defaultTitle: i18n_helpDialog__WEBPACK_IMPORTED_MODULE_0__[\"default\"].t('Help', 'Help'),\n  showEmail: () => !ENV.current_user_id,\n  animateDuration: 100,\n\n  initDialog() {\n    helpDialog.defaultTitle = ENV.help_link_name || helpDialog.defaultTitle;\n    helpDialog.$dialog = jquery__WEBPACK_IMPORTED_MODULE_2___default()('<div style=\"padding:0; overflow: visible;\" />').dialog({\n      resizable: false,\n      width: 400,\n      title: helpDialog.defaultTitle,\n      close: () => helpDialog.switchTo('#help-dialog-options')\n    });\n    helpDialog.$dialog.dialog('widget').delegate(`a[href=\"#teacher_feedback\"],\n      a[href=\"#create_ticket\"],\n      a[href=\"#help-dialog-options\"]`, 'click', Object(prevent_default__WEBPACK_IMPORTED_MODULE_6__[\"default\"])(({\n      currentTarget\n    }) => helpDialog.switchTo(jquery__WEBPACK_IMPORTED_MODULE_2___default()(currentTarget).attr('href'))));\n    helpDialog.helpLinksDfd = jquery__WEBPACK_IMPORTED_MODULE_2___default.a.getJSON('/help_links').done(links => {\n      // only show the links that are available to the roles of this user\n      links = jquery__WEBPACK_IMPORTED_MODULE_2___default.a.grep(links, link => underscore__WEBPACK_IMPORTED_MODULE_3___default.a.find(link.available_to, role => role === 'user' || ENV.current_user_roles && ENV.current_user_roles.includes(role)));\n      const locals = {\n        showEmail: helpDialog.showEmail(),\n        helpLinks: links,\n        url: window.location,\n        contextAssetString: ENV.context_asset_string,\n        userRoles: ENV.current_user_roles\n      };\n      helpDialog.$dialog.html(Object(_jst_helpDialog_handlebars__WEBPACK_IMPORTED_MODULE_1__[\"default\"])(locals));\n      helpDialog.initTicketForm(); // recenter the dialog once all the links have been loaded so it is back in the\n      // middle of the page\n\n      if (helpDialog.$dialog) helpDialog.$dialog.dialog('option', 'position', 'center');\n      jquery__WEBPACK_IMPORTED_MODULE_2___default()(this).trigger('ready');\n    });\n    helpDialog.$dialog.disableWhileLoading(helpDialog.helpLinksDfd);\n    helpDialog.dialogInited = true;\n  },\n\n  initTicketForm() {\n    const required = ['error[subject]', 'error[comments]', 'error[user_perceived_severity]'];\n    if (helpDialog.showEmail()) required.push('error[email]');\n    const $form = helpDialog.$dialog.find('#create_ticket').formSubmit({\n      disableWhileLoading: true,\n      required,\n      success: () => {\n        helpDialog.$dialog.dialog('close');\n        $form.find(':input').val('');\n      }\n    });\n  },\n\n  switchTo(panelId) {\n    let newTitle;\n    const toggleablePanels = '#teacher_feedback, #create_ticket';\n    const homePanel = '#help-dialog-options';\n    helpDialog.$dialog.find(toggleablePanels).hide();\n    const newPanel = helpDialog.$dialog.find(panelId);\n    const newHeight = newPanel.show().outerHeight();\n    helpDialog.$dialog.animate({\n      left: toggleablePanels.match(panelId) ? -400 : 0,\n      height: newHeight\n    }, {\n      step: () => {\n        // reposition vertically to reflect current height\n        if (!(helpDialog.dialogInited && helpDialog.$dialog && helpDialog.$dialog.hasClass('ui-dialog-content'))) {\n          helpDialog.initDialog();\n        }\n\n        helpDialog.$dialog && helpDialog.$dialog.dialog('option', 'position', 'center');\n      },\n      duration: helpDialog.animateDuration,\n\n      complete() {\n        let toFocus = newPanel.find(':input').not(':disabled');\n        if (!toFocus.length) toFocus = newPanel.find(':focusable');\n        toFocus.first().focus();\n        if (panelId !== homePanel) jquery__WEBPACK_IMPORTED_MODULE_2___default()(homePanel).hide();\n      }\n\n    });\n\n    if (newTitle = helpDialog.$dialog.find(`a[href='${panelId}'] .text`).text()) {\n      newTitle = jquery__WEBPACK_IMPORTED_MODULE_2___default()(`<a class='ui-dialog-header-backlink' href='#help-dialog-options'>\n          ${Object(html_escape__WEBPACK_IMPORTED_MODULE_5__[\"default\"])(i18n_helpDialog__WEBPACK_IMPORTED_MODULE_0__[\"default\"].t('Back', 'Back'))} \\\n        </a>\n        <span>\n          ${Object(html_escape__WEBPACK_IMPORTED_MODULE_5__[\"default\"])(newTitle)}\n        </span>`);\n    } else {\n      newTitle = helpDialog.defaultTitle;\n    }\n\n    helpDialog.$dialog.dialog('option', 'title', newTitle);\n  },\n\n  open() {\n    if (!(helpDialog.dialogInited && helpDialog.$dialog && helpDialog.$dialog.hasClass('ui-dialog-content'))) {\n      helpDialog.initDialog();\n    }\n\n    helpDialog.$dialog.dialog('open');\n    helpDialog.initTeacherFeedback();\n  },\n\n  initTeacherFeedback() {\n    const currentUserIsStudent = ENV.current_user_roles && ENV.current_user_roles.includes('student');\n\n    if (!helpDialog.teacherFeedbackInited && currentUserIsStudent) {\n      helpDialog.teacherFeedbackInited = true;\n      const coursesDfd = jquery__WEBPACK_IMPORTED_MODULE_2___default.a.getJSON('/api/v1/courses.json');\n      let $form;\n      helpDialog.helpLinksDfd.done(() => {\n        $form = helpDialog.$dialog.find('#teacher_feedback').disableWhileLoading(coursesDfd).formSubmit({\n          disableWhileLoading: true,\n          required: ['recipients[]', 'body'],\n          success: () => helpDialog.$dialog.dialog('close')\n        });\n      });\n      jquery__WEBPACK_IMPORTED_MODULE_2___default.a.when(coursesDfd, helpDialog.helpLinksDfd).done(([courses]) => {\n        const optionsHtml = jquery__WEBPACK_IMPORTED_MODULE_2___default.a.map(courses, c => `<option\n            value='course_${c.id}_admins'\n            ${jquery__WEBPACK_IMPORTED_MODULE_2___default.a.raw(ENV.context_id === c.id ? 'selected' : '')}\n          >\n            ${Object(html_escape__WEBPACK_IMPORTED_MODULE_5__[\"default\"])(c.name)}\n          </option>`).join('');\n        $form.find('[name=\"recipients[]\"]').html(optionsHtml);\n      });\n    }\n  },\n\n  initTriggers() {\n    jquery__WEBPACK_IMPORTED_MODULE_2___default()('.help_dialog_trigger').click(Object(prevent_default__WEBPACK_IMPORTED_MODULE_6__[\"default\"])(helpDialog.open));\n  }\n\n};\n/* harmony default export */ __webpack_exports__[\"default\"] = (helpDialog);\n\n//# sourceURL=webpack:///./ui/boot/initializers/enableHelpDialog.js?");

/***/ }),

/***/ "8SMD":
/*!********************************************************!*\
  !*** ./ui/boot/initializers/jst/helpDialog.handlebars ***!
  \********************************************************/
/*! exports provided: default */
/***/ (function(module, __webpack_exports__, __webpack_require__) {

"use strict";
eval("__webpack_require__.r(__webpack_exports__);\n/* harmony import */ var handlebars_runtime__WEBPACK_IMPORTED_MODULE_0__ = __webpack_require__(/*! handlebars/runtime */ \"3O+N\");\n/* harmony import */ var handlebars_runtime__WEBPACK_IMPORTED_MODULE_0___default = /*#__PURE__*/__webpack_require__.n(handlebars_runtime__WEBPACK_IMPORTED_MODULE_0__);\n/* harmony import */ var i18n_help_dialog__WEBPACK_IMPORTED_MODULE_1__ = __webpack_require__(/*! i18n!help_dialog */ \"ZmLc\");\n/* harmony import */ var _canvas_handlebars_helpers_index_coffee__WEBPACK_IMPORTED_MODULE_2__ = __webpack_require__(/*! @canvas/handlebars-helpers/index.coffee */ \"BGrI\");\n\n    \n    var Handlebars = handlebars_runtime__WEBPACK_IMPORTED_MODULE_0___default.a.default;\n    \n\n\n    var template = Handlebars.template, templates = Handlebars.templates = Handlebars.templates || {};\n    var name = '/home/td/workspace/guokehuiyi/canvas/ui/boot/initializers/jst/helpDialog';\n    templates[name] = template(function (Handlebars,depth0,helpers,partials,data) {\n  this.compilerInfo = [4,'>= 1.0.0'];\nhelpers = this.merge(helpers, Handlebars.helpers); data = data || {};\n  var buffer = \"\", stack1, helper, options, functionType=\"function\", escapeExpression=this.escapeExpression, self=this, helperMissing=helpers.helperMissing;\n\nfunction program1(depth0,data) {\n  \n  var buffer = \"\", stack1, helper;\n  buffer += \"\\n      <li>\\n        <a href=\\\"\";\n  stack1 = helpers['if'].call(depth0, (depth0 && depth0.url), {hash:{},inverse:self.program(4, program4, data),fn:self.program(2, program2, data),data:data});\n  if(stack1 || stack1 === 0) { buffer += stack1; }\n  buffer += \"\\\" target=\\\"_blank\\\">\\n          <span class=\\\"text\\\">\";\n  if (helper = helpers.text) { stack1 = helper.call(depth0, {hash:{},data:data}); }\n  else { helper = (depth0 && depth0.text); stack1 = typeof helper === functionType ? helper.call(depth0, {hash:{},data:data}) : helper; }\n  buffer += escapeExpression(stack1)\n    + \"</span>\\n          <span class=\\\"subtext\\\">\";\n  if (helper = helpers.subtext) { stack1 = helper.call(depth0, {hash:{},data:data}); }\n  else { helper = (depth0 && depth0.subtext); stack1 = typeof helper === functionType ? helper.call(depth0, {hash:{},data:data}) : helper; }\n  buffer += escapeExpression(stack1)\n    + \"</span>\\n        </a>\\n      </li>\\n    \";\n  return buffer;\n  }\nfunction program2(depth0,data) {\n  \n  var stack1, helper;\n  if (helper = helpers.url) { stack1 = helper.call(depth0, {hash:{},data:data}); }\n  else { helper = (depth0 && depth0.url); stack1 = typeof helper === functionType ? helper.call(depth0, {hash:{},data:data}) : helper; }\n  return escapeExpression(stack1);\n  }\n\nfunction program4(depth0,data) {\n  \n  \n  return \"#\";\n  }\n\n  buffer += \"<div id=\\\"help-dialog\\\">\\n  <ul id=\\\"help-dialog-options\\\" class=\\\"help-dialog-pane\\\">\\n    \";\n  stack1 = helpers.each.call(depth0, (depth0 && depth0.helpLinks), {hash:{},inverse:self.noop,fn:self.program(1, program1, data),data:data});\n  if(stack1 || stack1 === 0) { buffer += stack1; }\n  buffer += \"\\n  </ul>\\n  <form class=\\\"help-dialog-pane\\\" id=\\\"teacher_feedback\\\" style=\\\"display:none\\\" action=\\\"/api/v1/conversations\\\" method=\\\"POST\\\">\\n    <label for=\\\"teacher-feedback-recipients\\\">\\n      \"\n    + escapeExpression((helper = helpers.t || (depth0 && depth0.t),options={hash:{\n    'scope': (\"help_dialog\")\n  },data:data},helper ? helper.call(depth0, \"which_course_is_this_question_about\", \"Which course is this question about?\", options) : helperMissing.call(depth0, \"t\", \"which_course_is_this_question_about\", \"Which course is this question about?\", options)))\n    + \"\\n      <small>\"\n    + escapeExpression((helper = helpers.t || (depth0 && depth0.t),options={hash:{\n    'scope': (\"help_dialog\")\n  },data:data},helper ? helper.call(depth0, \"message_will_be_sent_to_all_the_teachers_tas_in_the_course\", \"Message will be sent to all the Teachers / TA's in the course.\", options) : helperMissing.call(depth0, \"t\", \"message_will_be_sent_to_all_the_teachers_tas_in_the_course\", \"Message will be sent to all the Teachers / TA's in the course.\", options)))\n    + \"</small>\\n    </label>\\n    <select class=\\\"input-block-level\\\" name=\\\"recipients[]\\\" id=\\\"teacher-feedback-recipients\\\"></select>\\n    <label for=\\\"teacher-feedback-body\\\">\"\n    + escapeExpression((helper = helpers.t || (depth0 && depth0.t),options={hash:{\n    'scope': (\"help_dialog\")\n  },data:data},helper ? helper.call(depth0, \"message\", \"Message\", options) : helperMissing.call(depth0, \"t\", \"message\", \"Message\", options)))\n    + \"</label>\\n    <textarea id=\\\"teacher-feedback-body\\\" name=\\\"body\\\"></textarea>\\n    <div class=\\\"button-container\\\">\\n      <button type=\\\"submit\\\" class=\\\"btn\\\" data-text-while-loading=\\\"\"\n    + escapeExpression((helper = helpers.t || (depth0 && depth0.t),options={hash:{\n    'scope': (\"help_dialog\")\n  },data:data},helper ? helper.call(depth0, \"sending\", \"Sending...\", options) : helperMissing.call(depth0, \"t\", \"sending\", \"Sending...\", options)))\n    + \"\\\">\"\n    + escapeExpression((helper = helpers.t || (depth0 && depth0.t),options={hash:{\n    'scope': (\"help_dialog\")\n  },data:data},helper ? helper.call(depth0, \"send_message\", \"Send Message\", options) : helperMissing.call(depth0, \"t\", \"send_message\", \"Send Message\", options)))\n    + \"</button>\\n    </div>\\n    <input class=\\\"input-block-level\\\" type=\\\"hidden\\\" name=\\\"group_conversation\\\" value=\\\"true\\\">\\n  </form>\\n  <form class=\\\"help-dialog-pane bootstrap-form\\\" id=\\\"create_ticket\\\" style=\\\"display:none\\\" action=\\\"/error_reports\\\" method=\\\"POST\\\">\\n    <h4>\"\n    + escapeExpression((helper = helpers.t || (depth0 && depth0.t),options={hash:{\n    'scope': (\"help_dialog\")\n  },data:data},helper ? helper.call(depth0, \"file_a_ticket_for_a_personal_response_from_our_support_team\", \"File a ticket for a personal response from our support team\", options) : helperMissing.call(depth0, \"t\", \"file_a_ticket_for_a_personal_response_from_our_support_team\", \"File a ticket for a personal response from our support team\", options)))\n    + \"</h4>\\n    <div role=\\\"alert\\\" class=\\\"alert\\\">\\n      <strong>\"\n    + escapeExpression((helper = helpers.t || (depth0 && depth0.t),options={hash:{\n    'scope': (\"help_dialog\")\n  },data:data},helper ? helper.call(depth0, \"for_an_instant_answer\", \"For an instant answer:\", options) : helperMissing.call(depth0, \"t\", \"for_an_instant_answer\", \"For an instant answer:\", options)))\n    + \"</strong>\\n      <div>\"\n    + escapeExpression((helper = helpers.t || (depth0 && depth0.t),options={hash:{\n    'w0': (\"<a target=\\\"_blank\\\" href=\\\"http://guides.canvaslms.com/\\\">$1</a>\"),\n    'scope': (\"help_dialog\")\n  },data:data},helper ? helper.call(depth0, \"see_if_your_issue_is_addressed_in_the_canvas_guides\", \"See if your issue is addressed in the *Canvas Guides*.\", options) : helperMissing.call(depth0, \"t\", \"see_if_your_issue_is_addressed_in_the_canvas_guides\", \"See if your issue is addressed in the *Canvas Guides*.\", options)))\n    + \"</div>\\n    </div>\\n    <div>\\n      <label for=\\\"error_subject\\\">\"\n    + escapeExpression((helper = helpers.t || (depth0 && depth0.t),options={hash:{\n    'scope': (\"help_dialog\")\n  },data:data},helper ? helper.call(depth0, \"subject\", \"Subject\", options) : helperMissing.call(depth0, \"t\", \"subject\", \"Subject\", options)))\n    + \"</label>\\n      <input type=\\\"text\\\" class=\\\"input-block-level\\\" id=\\\"error_subject\\\" name=\\\"error[subject]\\\" />\\n    </div>\\n    <div>\\n      <label for=\\\"error-comments\\\">\\n        \"\n    + escapeExpression((helper = helpers.t || (depth0 && depth0.t),options={hash:{\n    'scope': (\"help_dialog\")\n  },data:data},helper ? helper.call(depth0, \"description\", \"Description\", options) : helperMissing.call(depth0, \"t\", \"description\", \"Description\", options)))\n    + \"\\n        <small>\"\n    + escapeExpression((helper = helpers.t || (depth0 && depth0.t),options={hash:{\n    'w0': (\"<a target=\\\"_blank\\\" href=\\\"http://www.techsmith.com/download/jing\\\">$1</a>\"),\n    'scope': (\"help_dialog\")\n  },data:data},helper ? helper.call(depth0, \"include_a_link_to_a_screencast_or_screenshot_using_something_like_jing\", \"Include a link to a screencast/screenshot using something like *Jing*.\", options) : helperMissing.call(depth0, \"t\", \"include_a_link_to_a_screencast_or_screenshot_using_something_like_jing\", \"Include a link to a screencast/screenshot using something like *Jing*.\", options)))\n    + \"</small>\\n      </label>\\n      <textarea class=\\\"input-block-level\\\" id=\\\"error-comments\\\" name=\\\"error[comments]\\\"></textarea>\\n    </div>\\n    <label for=\\\"severity\\\">\"\n    + escapeExpression((helper = helpers.t || (depth0 && depth0.t),options={hash:{\n    'scope': (\"help_dialog\")\n  },data:data},helper ? helper.call(depth0, \"how_is_this_affecting_you\", \"How is this affecting you?\", options) : helperMissing.call(depth0, \"t\", \"how_is_this_affecting_you\", \"How is this affecting you?\", options)))\n    + \"</label>\\n    <select class=\\\"input-block-level\\\" name=\\\"error[user_perceived_severity]\\\" id=\\\"severity\\\">\\n      <option value=\\\"\\\">\"\n    + escapeExpression((helper = helpers.t || (depth0 && depth0.t),options={hash:{\n    'scope': (\"help_dialog\")\n  },data:data},helper ? helper.call(depth0, \"please_select_one\", \"Please select one...\", options) : helperMissing.call(depth0, \"t\", \"please_select_one\", \"Please select one...\", options)))\n    + \"</option>\\n      <option value=\\\"just_a_comment\\\">\"\n    + escapeExpression((helper = helpers.t || (depth0 && depth0.t),options={hash:{\n    'scope': (\"help_dialog\")\n  },data:data},helper ? helper.call(depth0, \"just_a_casual_question_comment_idea_suggestion\", \"Just a casual question, comment, idea, suggestion\", options) : helperMissing.call(depth0, \"t\", \"just_a_casual_question_comment_idea_suggestion\", \"Just a casual question, comment, idea, suggestion\", options)))\n    + \"</option>\\n      <option value=\\\"not_urgent\\\">\"\n    + escapeExpression((helper = helpers.t || (depth0 && depth0.t),options={hash:{\n    'scope': (\"help_dialog\")\n  },data:data},helper ? helper.call(depth0, \"i_need_some_help_but_its_not_urgent\", \"I need some help but it's not urgent\", options) : helperMissing.call(depth0, \"t\", \"i_need_some_help_but_its_not_urgent\", \"I need some help but it's not urgent\", options)))\n    + \"</option>\\n      <option value=\\\"workaround_possible\\\">\"\n    + escapeExpression((helper = helpers.t || (depth0 && depth0.t),options={hash:{\n    'scope': (\"help_dialog\")\n  },data:data},helper ? helper.call(depth0, \"somethings_broken_but_i_can_work_around_it_for_now\", \"Something's broken but I can work around it for now\", options) : helperMissing.call(depth0, \"t\", \"somethings_broken_but_i_can_work_around_it_for_now\", \"Something's broken but I can work around it for now\", options)))\n    + \"</option>\\n      <option value=\\\"blocks_what_i_need_to_do\\\">\"\n    + escapeExpression((helper = helpers.t || (depth0 && depth0.t),options={hash:{\n    'scope': (\"help_dialog\")\n  },data:data},helper ? helper.call(depth0, \"i_cant_get_things_done_until_i_hear_back_from_you\", \"I can't get things done until I hear back from you\", options) : helperMissing.call(depth0, \"t\", \"i_cant_get_things_done_until_i_hear_back_from_you\", \"I can't get things done until I hear back from you\", options)))\n    + \"</option>\\n      <option value=\\\"extreme_critical_emergency\\\">\"\n    + escapeExpression((helper = helpers.t || (depth0 && depth0.t),options={hash:{\n    'scope': (\"help_dialog\")\n  },data:data},helper ? helper.call(depth0, \"extreme_critical_emergency\", \"EXTREME CRITICAL EMERGENCY!!\", options) : helperMissing.call(depth0, \"t\", \"extreme_critical_emergency\", \"EXTREME CRITICAL EMERGENCY!!\", options)))\n    + \"</option>\\n    </select>\\n    <div style=\\\"\"\n    + escapeExpression((helper = helpers.hiddenUnless || (depth0 && depth0.hiddenUnless),options={hash:{},data:data},helper ? helper.call(depth0, (depth0 && depth0.showEmail), options) : helperMissing.call(depth0, \"hiddenUnless\", (depth0 && depth0.showEmail), options)))\n    + \"\\\">\\n      <label for=\\\"error-email\\\">\"\n    + escapeExpression((helper = helpers.t || (depth0 && depth0.t),options={hash:{\n    'scope': (\"help_dialog\")\n  },data:data},helper ? helper.call(depth0, \"your_email_address\", \"Your email address\", options) : helperMissing.call(depth0, \"t\", \"your_email_address\", \"Your email address\", options)))\n    + \"</label>\\n      <input class=\\\"input-block-level\\\" type=\\\"email\\\" name=\\\"error[email]\\\" id=\\\"error-email\\\">\\n    </div>\\n    <input class=\\\"input-block-level\\\" type=\\\"hidden\\\" name=\\\"error[url]\\\" value=\\\"\";\n  if (helper = helpers.url) { stack1 = helper.call(depth0, {hash:{},data:data}); }\n  else { helper = (depth0 && depth0.url); stack1 = typeof helper === functionType ? helper.call(depth0, {hash:{},data:data}) : helper; }\n  buffer += escapeExpression(stack1)\n    + \"\\\">\\n    <input class=\\\"input-block-level\\\" type=\\\"hidden\\\" name=\\\"error[context_asset_string]\\\" value=\\\"\";\n  if (helper = helpers.contextAssetString) { stack1 = helper.call(depth0, {hash:{},data:data}); }\n  else { helper = (depth0 && depth0.contextAssetString); stack1 = typeof helper === functionType ? helper.call(depth0, {hash:{},data:data}) : helper; }\n  buffer += escapeExpression(stack1)\n    + \"\\\">\\n    <input class=\\\"input-block-level\\\" type=\\\"hidden\\\" name=\\\"error[user_roles]\\\" value=\\\"\";\n  if (helper = helpers.userRoles) { stack1 = helper.call(depth0, {hash:{},data:data}); }\n  else { helper = (depth0 && depth0.userRoles); stack1 = typeof helper === functionType ? helper.call(depth0, {hash:{},data:data}) : helper; }\n  buffer += escapeExpression(stack1)\n    + \"\\\">\\n    <div class=\\\"button-container\\\">\\n      <button type=\\\"submit\\\" data-text-while-loading=\\\"\"\n    + escapeExpression((helper = helpers.t || (depth0 && depth0.t),options={hash:{\n    'scope': (\"help_dialog\")\n  },data:data},helper ? helper.call(depth0, \"Submitting_Ticket\", \"Submitting Ticket...\", options) : helperMissing.call(depth0, \"t\", \"Submitting_Ticket\", \"Submitting Ticket...\", options)))\n    + \"\\\" class=\\\"btn submit_button\\\"><img src=\\\"/images/email.png\\\" alt=\\\"\\\"/>\"\n    + escapeExpression((helper = helpers.t || (depth0 && depth0.t),options={hash:{\n    'scope': (\"help_dialog\")\n  },data:data},helper ? helper.call(depth0, \"submit_this_support_request\", \"Submit Ticket\", options) : helperMissing.call(depth0, \"t\", \"submit_this_support_request\", \"Submit Ticket\", options)))\n    + \"</button>\\n    </div>\\n  </form>\\n</div>\\n\";\n  return buffer;\n  });\n    ;\n    ;\n    /* harmony default export */ __webpack_exports__[\"default\"] = (templates[name]);\n  \n\n//# sourceURL=webpack:///./ui/boot/initializers/jst/helpDialog.handlebars?");

/***/ }),

/***/ "Fn8J":
/*!***************************************************************************!*\
  !*** ./frontend_build/i18n.js?helpDialog!./ui/shims/dummyI18nResource.js ***!
  \***************************************************************************/
/*! exports provided: default */
/***/ (function(module, __webpack_exports__, __webpack_require__) {

"use strict";
eval("__webpack_require__.r(__webpack_exports__);\n/* harmony import */ var _canvas_i18n_i18nObj__WEBPACK_IMPORTED_MODULE_0__ = __webpack_require__(/*! @canvas/i18n/i18nObj */ \"HGxv\");\n/* harmony import */ var translations_core_en__WEBPACK_IMPORTED_MODULE_1__ = __webpack_require__(/*! translations/_core_en */ \"0sPK\");\n\n    \n    \n    \n\n    /* harmony default export */ __webpack_exports__[\"default\"] = (_canvas_i18n_i18nObj__WEBPACK_IMPORTED_MODULE_0__[\"default\"].scoped('helpDialog'));\n  \n\n//# sourceURL=webpack:///./ui/shims/dummyI18nResource.js?./frontend_build/i18n.js?helpDialog");

/***/ }),

/***/ "ZmLc":
/*!****************************************************************************!*\
  !*** ./frontend_build/i18n.js?help_dialog!./ui/shims/dummyI18nResource.js ***!
  \****************************************************************************/
/*! exports provided: default */
/***/ (function(module, __webpack_exports__, __webpack_require__) {

"use strict";
eval("__webpack_require__.r(__webpack_exports__);\n/* harmony import */ var _canvas_i18n_i18nObj__WEBPACK_IMPORTED_MODULE_0__ = __webpack_require__(/*! @canvas/i18n/i18nObj */ \"HGxv\");\n/* harmony import */ var translations_core_en__WEBPACK_IMPORTED_MODULE_1__ = __webpack_require__(/*! translations/_core_en */ \"0sPK\");\n\n    \n    \n    \n\n    /* harmony default export */ __webpack_exports__[\"default\"] = (_canvas_i18n_i18nObj__WEBPACK_IMPORTED_MODULE_0__[\"default\"].scoped('help_dialog'));\n  \n\n//# sourceURL=webpack:///./ui/shims/dummyI18nResource.js?./frontend_build/i18n.js?help_dialog");

/***/ }),

/***/ "hI1R":
/*!*****************************************************************************!*\
  !*** ./frontend_build/i18n.js?user_content!./ui/shims/dummyI18nResource.js ***!
  \*****************************************************************************/
/*! exports provided: default */
/***/ (function(module, __webpack_exports__, __webpack_require__) {

"use strict";
eval("__webpack_require__.r(__webpack_exports__);\n/* harmony import */ var _canvas_i18n_i18nObj__WEBPACK_IMPORTED_MODULE_0__ = __webpack_require__(/*! @canvas/i18n/i18nObj */ \"HGxv\");\n/* harmony import */ var translations_core_en__WEBPACK_IMPORTED_MODULE_1__ = __webpack_require__(/*! translations/_core_en */ \"0sPK\");\n\n    \n    \n    \n\n    /* harmony default export */ __webpack_exports__[\"default\"] = (_canvas_i18n_i18nObj__WEBPACK_IMPORTED_MODULE_0__[\"default\"].scoped('user_content'));\n  \n\n//# sourceURL=webpack:///./ui/shims/dummyI18nResource.js?./frontend_build/i18n.js?user_content");

/***/ }),

/***/ "msTH":
/*!*************************************************!*\
  !*** ./ui/shared/util/jquery/apiUserContent.js ***!
  \*************************************************/
/*! exports provided: default */
/***/ (function(module, __webpack_exports__, __webpack_require__) {

"use strict";
eval("__webpack_require__.r(__webpack_exports__);\n/* harmony import */ var jquery__WEBPACK_IMPORTED_MODULE_0__ = __webpack_require__(/*! jquery */ \"ouhR\");\n/* harmony import */ var jquery__WEBPACK_IMPORTED_MODULE_0___default = /*#__PURE__*/__webpack_require__.n(jquery__WEBPACK_IMPORTED_MODULE_0__);\n/* harmony import */ var underscore__WEBPACK_IMPORTED_MODULE_1__ = __webpack_require__(/*! underscore */ \"Y/W1\");\n/* harmony import */ var underscore__WEBPACK_IMPORTED_MODULE_1___default = /*#__PURE__*/__webpack_require__.n(underscore__WEBPACK_IMPORTED_MODULE_1__);\n/* harmony import */ var html_escape__WEBPACK_IMPORTED_MODULE_2__ = __webpack_require__(/*! html-escape */ \"gI0r\");\n/* harmony import */ var i18n_user_content__WEBPACK_IMPORTED_MODULE_3__ = __webpack_require__(/*! i18n!user_content */ \"hI1R\");\n//\n// Copyright (C) 2015 - present Instructure, Inc.\n//\n// This file is part of Canvas.\n//\n// Canvas is free software: you can redistribute it and/or modify it under\n// the terms of the GNU Affero General Public License as published by the Free\n// Software Foundation, version 3 of the License.\n//\n// Canvas is distributed in the hope that it will be useful, but WITHOUT ANY\n// WARRANTY; without even the implied warranty of MERCHANTABILITY or FITNESS FOR\n// A PARTICULAR PURPOSE. See the GNU Affero General Public License for more\n// details.\n//\n// You should have received a copy of the GNU Affero General Public License along\n// with this program. If not, see <http://www.gnu.org/licenses/>.\n\n\n\n\nconst apiUserContent = {\n  /*\n  xsslint safeString.identifier mathml\n  */\n  translateMathmlForScreenreaders($equationImage) {\n    var _ENV, _ENV$FEATURES;\n\n    if (!((_ENV = ENV) !== null && _ENV !== void 0 && (_ENV$FEATURES = _ENV.FEATURES) !== null && _ENV$FEATURES !== void 0 && _ENV$FEATURES.new_math_equation_handling)) {\n      // note, it is safe to treat the x-canvaslms-safe-mathml as html because it\n      // only ever gets put there by us (in Api::Html::Content::apply_mathml).\n      // Any user content that gets sent to the server will have the\n      // x-canvaslms-safe-mathml attribute stripped out.\n      const mathml = jquery__WEBPACK_IMPORTED_MODULE_0___default()('<div/>').html($equationImage.attr('x-canvaslms-safe-mathml')).html();\n      const mathmlSpan = jquery__WEBPACK_IMPORTED_MODULE_0___default()('<span class=\"hidden-readable\"></span>');\n      mathmlSpan.html(mathml);\n      return mathmlSpan;\n    }\n  },\n\n  toMediaCommentLink(node) {\n    const $link = jquery__WEBPACK_IMPORTED_MODULE_0___default()(`<a\n        id='media_comment_${Object(html_escape__WEBPACK_IMPORTED_MODULE_2__[\"default\"])(jquery__WEBPACK_IMPORTED_MODULE_0___default()(node).data('media_comment_id'))}'\n        data-media_comment_type='${Object(html_escape__WEBPACK_IMPORTED_MODULE_2__[\"default\"])(jquery__WEBPACK_IMPORTED_MODULE_0___default()(node).data('media_comment_type'))}'\n        class='instructure_inline_media_comment ${Object(html_escape__WEBPACK_IMPORTED_MODULE_2__[\"default\"])(node.nodeName.toLowerCase())}_comment'\n        data-alt='${Object(html_escape__WEBPACK_IMPORTED_MODULE_2__[\"default\"])(jquery__WEBPACK_IMPORTED_MODULE_0___default()(node).attr('data-alt'))}'\n      />`);\n    $link.html(jquery__WEBPACK_IMPORTED_MODULE_0___default()(node).html());\n    return $link;\n  },\n\n  /*\n  xsslint safeString.identifier mathmlSpan\n  */\n  // use this method to process any user content fields returned in api responses\n  // this is important to handle object/embed tags safely, and to properly display audio/video tags\n  convert(html, options = {}) {\n    const $dummy = jquery__WEBPACK_IMPORTED_MODULE_0___default()('<div />').html(html); // finds any <video/audio class=\"instructure_inline_media_comment\"> and turns them into media comment thumbnails\n\n    $dummy.find('video.instructure_inline_media_comment,audio.instructure_inline_media_comment').replaceWith(function () {\n      return apiUserContent.toMediaCommentLink(this);\n    }); // remove any embed tags inside an object tag, to avoid repeated translations\n\n    $dummy.find('object.instructure_user_content:not(#kaltura_player) embed').remove(); // if we aren't actually displaying this content but are instead putting\n    // it into a RTE, we want to preserve the object/embed tags\n\n    if (!options.forEditing) {\n      // find all object/embed tags and convert them into an iframe that posts\n      // to safefiles to display the content (to avoid javascript attacks)\n      //\n      // see the corresponding code in lib/user_content.rb for non-api user\n      // content handling\n      $dummy.find('object.instructure_user_content,embed.instructure_user_content').replaceWith(function () {\n        const $this = jquery__WEBPACK_IMPORTED_MODULE_0___default()(this);\n\n        if (!$this.data('uc_snippet') || !$this.data('uc_sig')) {\n          return this;\n        }\n\n        const uuid = underscore__WEBPACK_IMPORTED_MODULE_1___default.a.uniqueId('uc_');\n\n        let action = '/object_snippet';\n\n        if (ENV.files_domain) {\n          action = `//${ENV.files_domain}${action}`;\n        }\n\n        const $form = jquery__WEBPACK_IMPORTED_MODULE_0___default()(`<form\n            action='${Object(html_escape__WEBPACK_IMPORTED_MODULE_2__[\"default\"])(action)}'\n            method='post'\n            class='user_content_post_form'\n            target='${Object(html_escape__WEBPACK_IMPORTED_MODULE_2__[\"default\"])(uuid)}'\n            id='form-${Object(html_escape__WEBPACK_IMPORTED_MODULE_2__[\"default\"])(uuid)}'\n          />`);\n        $form.append(jquery__WEBPACK_IMPORTED_MODULE_0___default()(\"<input type='hidden'/>\").attr({\n          name: 'object_data',\n          value: $this.data('uc_snippet')\n        }));\n        $form.append(jquery__WEBPACK_IMPORTED_MODULE_0___default()(\"<input type='hidden'/>\").attr({\n          name: 's',\n          value: $this.data('uc_sig')\n        }));\n        jquery__WEBPACK_IMPORTED_MODULE_0___default()('body').append($form);\n        setTimeout(() => $form.submit(), 0);\n        return jquery__WEBPACK_IMPORTED_MODULE_0___default()(`<iframe\n            class='user_content_iframe'\n            name='${Object(html_escape__WEBPACK_IMPORTED_MODULE_2__[\"default\"])(uuid)}'\n            style='width: ${Object(html_escape__WEBPACK_IMPORTED_MODULE_2__[\"default\"])($this.data('uc_width'))}; height: ${Object(html_escape__WEBPACK_IMPORTED_MODULE_2__[\"default\"])($this.data('uc_height'))};'\n            frameborder='0'\n            title='${Object(html_escape__WEBPACK_IMPORTED_MODULE_2__[\"default\"])(i18n_user_content__WEBPACK_IMPORTED_MODULE_3__[\"default\"].t('User Content'))}'\n          />`);\n      });\n      $dummy.find('img.equation_image').each((index, equationImage) => {\n        const $equationImage = jquery__WEBPACK_IMPORTED_MODULE_0___default()(equationImage);\n        const mathmlSpan = apiUserContent.translateMathmlForScreenreaders($equationImage);\n        $equationImage.removeAttr('x-canvaslms-safe-mathml');\n        $equationImage.after(mathmlSpan);\n      });\n    }\n\n    return $dummy.html();\n  }\n\n};\n/* harmony default export */ __webpack_exports__[\"default\"] = (apiUserContent);\n\n//# sourceURL=webpack:///./ui/shared/util/jquery/apiUserContent.js?");

/***/ })

}]);