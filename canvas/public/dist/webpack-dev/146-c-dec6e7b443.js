(window["canvasWebpackJsonp"] = window["canvasWebpackJsonp"] || []).push([[146],{

/***/ "6g58":
/*!**********************************************************************!*\
  !*** ./ui/shared/external-tools/backbone/models/ExternalTool.coffee ***!
  \**********************************************************************/
/*! exports provided: default */
/***/ (function(module, __webpack_exports__, __webpack_require__) {

"use strict";
eval("__webpack_require__.r(__webpack_exports__);\n/* harmony import */ var underscore__WEBPACK_IMPORTED_MODULE_0__ = __webpack_require__(/*! underscore */ \"Y/W1\");\n/* harmony import */ var underscore__WEBPACK_IMPORTED_MODULE_0___default = /*#__PURE__*/__webpack_require__.n(underscore__WEBPACK_IMPORTED_MODULE_0__);\n/* harmony import */ var _canvas_backbone__WEBPACK_IMPORTED_MODULE_1__ = __webpack_require__(/*! @canvas/backbone */ \"mX+G\");\n/* harmony import */ var _canvas_backbone__WEBPACK_IMPORTED_MODULE_1___default = /*#__PURE__*/__webpack_require__.n(_canvas_backbone__WEBPACK_IMPORTED_MODULE_1__);\n/* harmony import */ var _canvas_backbone_DefaultUrlMixin__WEBPACK_IMPORTED_MODULE_2__ = __webpack_require__(/*! @canvas/backbone/DefaultUrlMixin */ \"2gWY\");\nvar ExternalTool,\n  extend = function(child, parent) { for (var key in parent) { if (hasProp.call(parent, key)) child[key] = parent[key]; } function ctor() { this.constructor = child; } ctor.prototype = parent.prototype; child.prototype = new ctor(); child.__super__ = parent.prototype; return child; },\n  hasProp = {}.hasOwnProperty;\n\n\n\n\n\n\n\n/* harmony default export */ __webpack_exports__[\"default\"] = (ExternalTool = (function(superClass) {\n  extend(ExternalTool, superClass);\n\n  function ExternalTool() {\n    return ExternalTool.__super__.constructor.apply(this, arguments);\n  }\n\n  ExternalTool.mixin(_canvas_backbone_DefaultUrlMixin__WEBPACK_IMPORTED_MODULE_2__[\"default\"]);\n\n  ExternalTool.prototype.initialize = function() {\n    ExternalTool.__super__.initialize.apply(this, arguments);\n    if (underscore__WEBPACK_IMPORTED_MODULE_0___default.a.has(this, 'url')) {\n      return delete this.url;\n    }\n  };\n\n  ExternalTool.prototype.resourceName = 'external_tools';\n\n  ExternalTool.prototype.computedAttributes = [\n    {\n      name: 'custom_fields_string',\n      deps: ['custom_fields']\n    }\n  ];\n\n  ExternalTool.prototype.urlRoot = function() {\n    return \"/api/v1/\" + (this._contextPath()) + \"/create_tool_with_verification\";\n  };\n\n  ExternalTool.prototype.custom_fields_string = function() {\n    var k, v;\n    return ((function() {\n      var ref, results;\n      ref = this.get('custom_fields');\n      results = [];\n      for (k in ref) {\n        v = ref[k];\n        results.push(k + \"=\" + v);\n      }\n      return results;\n    }).call(this)).join(\"\\n\");\n  };\n\n  ExternalTool.prototype.launchUrl = function(launchType, options) {\n    var key, params, url, value;\n    if (options == null) {\n      options = {};\n    }\n    params = (function() {\n      var results;\n      results = [];\n      for (key in options) {\n        value = options[key];\n        results.push(key + \"=\" + value);\n      }\n      return results;\n    })();\n    url = \"/\" + (this._contextPath()) + \"/external_tools/\" + this.id + \"/resource_selection?launch_type=\" + launchType;\n    if (params.length > 0) {\n      url = url + \"&\" + (params.join('&'));\n    }\n    return url;\n  };\n\n  ExternalTool.prototype.assetString = function() {\n    return \"context_external_tool_\" + this.id;\n  };\n\n  return ExternalTool;\n\n})(_canvas_backbone__WEBPACK_IMPORTED_MODULE_1__[\"Model\"]));\n\n\n//# sourceURL=webpack:///./ui/shared/external-tools/backbone/models/ExternalTool.coffee?");

/***/ }),

/***/ "P6Tl":
/*!***********************************************************************!*\
  !*** ./ui/shared/deep-linking/processors/processSingleContentItem.js ***!
  \***********************************************************************/
/*! exports provided: default */
/***/ (function(module, __webpack_exports__, __webpack_require__) {

"use strict";
eval("__webpack_require__.r(__webpack_exports__);\n/* harmony export (binding) */ __webpack_require__.d(__webpack_exports__, \"default\", function() { return processSingleContentItem; });\n/* harmony import */ var _ContentItemProcessor__WEBPACK_IMPORTED_MODULE_0__ = __webpack_require__(/*! ../ContentItemProcessor */ \"hK1/\");\n/*\n * Copyright (C) 2019 - present Instructure, Inc.\n *\n * This file is part of Canvas.\n *\n * Canvas is free software: you can redistribute it and/or modify it under\n * the terms of the GNU Affero General Public License as published by the Free\n * Software Foundation, version 3 of the License.\n *\n * Canvas is distributed in the hope that it will be useful, but WITHOUT ANY\n * WARRANTY; without even the implied warranty of MERCHANTABILITY or FITNESS FOR\n * A PARTICULAR PURPOSE. See the GNU Affero General Public License for more\n * details.\n *\n * You should have received a copy of the GNU Affero General Public License along\n * with this program. If not, see <http://www.gnu.org/licenses/>.\n */\n\nfunction processSingleContentItem(event) {\n  const processor = _ContentItemProcessor__WEBPACK_IMPORTED_MODULE_0__[\"default\"].fromEvent(event, processHandler);\n\n  if (processor) {\n    return processor.process();\n  }\n}\n\nasync function processHandler() {\n  if (this.contentItems.length > 0) {\n    return this.contentItems[0];\n  }\n}\n\n//# sourceURL=webpack:///./ui/shared/deep-linking/processors/processSingleContentItem.js?");

/***/ }),

/***/ "QAiK":
/*!**********************************************************************************!*\
  !*** ./ui/shared/external-tools/backbone/views/ExternalContentReturnView.coffee ***!
  \**********************************************************************************/
/*! exports provided: default */
/***/ (function(module, __webpack_exports__, __webpack_require__) {

"use strict";
eval("__webpack_require__.r(__webpack_exports__);\n/* harmony import */ var jquery__WEBPACK_IMPORTED_MODULE_0__ = __webpack_require__(/*! jquery */ \"ouhR\");\n/* harmony import */ var jquery__WEBPACK_IMPORTED_MODULE_0___default = /*#__PURE__*/__webpack_require__.n(jquery__WEBPACK_IMPORTED_MODULE_0__);\n/* harmony import */ var _canvas_backbone__WEBPACK_IMPORTED_MODULE_1__ = __webpack_require__(/*! @canvas/backbone */ \"mX+G\");\n/* harmony import */ var _canvas_backbone__WEBPACK_IMPORTED_MODULE_1___default = /*#__PURE__*/__webpack_require__.n(_canvas_backbone__WEBPACK_IMPORTED_MODULE_1__);\n/* harmony import */ var _jst_ExternalContentReturnView_handlebars__WEBPACK_IMPORTED_MODULE_2__ = __webpack_require__(/*! ../../jst/ExternalContentReturnView.handlebars */ \"onvg\");\n/* harmony import */ var _canvas_external_apps_iframeAllowances__WEBPACK_IMPORTED_MODULE_3__ = __webpack_require__(/*! @canvas/external-apps/iframeAllowances */ \"dDTa\");\nvar ExternalContentReturnView,\n  bind = function(fn, me){ return function(){ return fn.apply(me, arguments); }; },\n  extend = function(child, parent) { for (var key in parent) { if (hasProp.call(parent, key)) child[key] = parent[key]; } function ctor() { this.constructor = child; } ctor.prototype = parent.prototype; child.prototype = new ctor(); child.__super__ = parent.prototype; return child; },\n  hasProp = {}.hasOwnProperty;\n\n\n\n\n\n\n\n\n\n/* harmony default export */ __webpack_exports__[\"default\"] = (ExternalContentReturnView = (function(superClass) {\n  extend(ExternalContentReturnView, superClass);\n\n  function ExternalContentReturnView() {\n    this._contentCancel = bind(this._contentCancel, this);\n    this._contentReady = bind(this._contentReady, this);\n    this.removeDialog = bind(this.removeDialog, this);\n    this.handleAlertBlur = bind(this.handleAlertBlur, this);\n    return ExternalContentReturnView.__super__.constructor.apply(this, arguments);\n  }\n\n  ExternalContentReturnView.prototype.template = _jst_ExternalContentReturnView_handlebars__WEBPACK_IMPORTED_MODULE_2__[\"default\"];\n\n  ExternalContentReturnView.optionProperty('launchType');\n\n  ExternalContentReturnView.optionProperty('launchParams');\n\n  ExternalContentReturnView.optionProperty('displayAsModal');\n\n  ExternalContentReturnView.prototype.defaults = {\n    displayAsModal: true\n  };\n\n  ExternalContentReturnView.prototype.els = {\n    'iframe.tool_launch': \"$iframe\"\n  };\n\n  ExternalContentReturnView.prototype.events = {\n    'focus .before_external_content_info_alert': 'handleAlertFocus',\n    'focus .after_external_content_info_alert': 'handleAlertFocus',\n    'blur .before_external_content_info_alert': 'handleAlertBlur',\n    'blur .after_external_content_info_alert': 'handleAlertBlur'\n  };\n\n  ExternalContentReturnView.prototype.handleAlertFocus = function(e) {\n    jquery__WEBPACK_IMPORTED_MODULE_0___default()(e.target).removeClass('screenreader-only');\n    return this.$el.find('iframe').addClass('info_alert_outline');\n  };\n\n  ExternalContentReturnView.prototype.handleAlertBlur = function(e) {\n    jquery__WEBPACK_IMPORTED_MODULE_0___default()(e.target).addClass('screenreader-only');\n    return this.$el.find('iframe').removeClass('info_alert_outline');\n  };\n\n  ExternalContentReturnView.prototype.attach = function() {\n    return this.model.on('change', (function(_this) {\n      return function() {\n        return _this.render();\n      };\n    })(this));\n  };\n\n  ExternalContentReturnView.prototype.toJSON = function() {\n    var json;\n    json = ExternalContentReturnView.__super__.toJSON.apply(this, arguments);\n    json.allowances = Object(_canvas_external_apps_iframeAllowances__WEBPACK_IMPORTED_MODULE_3__[\"default\"])();\n    json.launch_url = this.model.launchUrl(this.launchType, this.launchParams);\n    return json;\n  };\n\n  ExternalContentReturnView.prototype.afterRender = function() {\n    var ref, settings;\n    this.attachLtiEvents();\n    settings = this.model.get(this.launchType) || {};\n    this.$iframe.width('100%');\n    this.$iframe.height(settings.selection_height);\n    if (this.displayAsModal) {\n      return this.$el.dialog({\n        title: ((ref = this.model.get(this.launchType)) != null ? ref.label : void 0) || '',\n        width: settings.selection_width,\n        height: settings.selection_height,\n        resizable: true,\n        close: this.removeDialog\n      });\n    }\n  };\n\n  ExternalContentReturnView.prototype.attachLtiEvents = function() {\n    jquery__WEBPACK_IMPORTED_MODULE_0___default()(window).on('externalContentReady', this._contentReady);\n    return jquery__WEBPACK_IMPORTED_MODULE_0___default()(window).on('externalContentCancel', this._contentCancel);\n  };\n\n  ExternalContentReturnView.prototype.detachLtiEvents = function() {\n    jquery__WEBPACK_IMPORTED_MODULE_0___default()(window).off('externalContentReady', this._contentReady);\n    return jquery__WEBPACK_IMPORTED_MODULE_0___default()(window).off('externalContentCancel', this._contentCancel);\n  };\n\n  ExternalContentReturnView.prototype.removeDialog = function() {\n    this.detachLtiEvents();\n    return this.remove();\n  };\n\n  ExternalContentReturnView.prototype._contentReady = function(event, data) {\n    this.trigger('ready', data);\n    return this.removeDialog();\n  };\n\n  ExternalContentReturnView.prototype._contentCancel = function(event, data) {\n    this.trigger('cancel', data);\n    return this.removeDialog();\n  };\n\n  return ExternalContentReturnView;\n\n})(_canvas_backbone__WEBPACK_IMPORTED_MODULE_1___default.a.View));\n\n\n//# sourceURL=webpack:///./ui/shared/external-tools/backbone/views/ExternalContentReturnView.coffee?");

/***/ }),

/***/ "dDTa":
/*!*****************************************************!*\
  !*** ./ui/shared/external-apps/iframeAllowances.js ***!
  \*****************************************************/
/*! exports provided: default */
/***/ (function(module, __webpack_exports__, __webpack_require__) {

"use strict";
eval("__webpack_require__.r(__webpack_exports__);\n/*\n * Copyright (C) 2018 - present Instructure, Inc.\n *\n * This file is part of Canvas.\n *\n * Canvas is free software: you can redistribute it and/or modify it under\n * the terms of the GNU Affero General Public License as published by the Free\n * Software Foundation, version 3 of the License.\n *\n * Canvas is distributed in the hope that it will be useful, but WITHOUT ANY\n * WARRANTY; without even the implied warranty of MERCHANTABILITY or FITNESS FOR\n * A PARTICULAR PURPOSE. See the GNU Affero General Public License for more\n * details.\n *\n * You should have received a copy of the GNU Affero General Public License along\n * with this program. If not, see <http://www.gnu.org/licenses/>.\n */\nconst iframeAllowances = () => {\n  const allowances = ENV.LTI_LAUNCH_FRAME_ALLOWANCES || [];\n  return allowances.join('; ');\n};\n\n/* harmony default export */ __webpack_exports__[\"default\"] = (iframeAllowances);\n\n//# sourceURL=webpack:///./ui/shared/external-apps/iframeAllowances.js?");

/***/ }),

/***/ "lILG":
/*!************************************************************************************************************!*\
  !*** ./frontend_build/i18n.js?external_tools.external_content_return_view!./ui/shims/dummyI18nResource.js ***!
  \************************************************************************************************************/
/*! exports provided: default */
/***/ (function(module, __webpack_exports__, __webpack_require__) {

"use strict";
eval("__webpack_require__.r(__webpack_exports__);\n/* harmony import */ var _canvas_i18n_i18nObj__WEBPACK_IMPORTED_MODULE_0__ = __webpack_require__(/*! @canvas/i18n/i18nObj */ \"HGxv\");\n/* harmony import */ var translations_core_en__WEBPACK_IMPORTED_MODULE_1__ = __webpack_require__(/*! translations/_core_en */ \"0sPK\");\n\n    \n    \n    \n\n    /* harmony default export */ __webpack_exports__[\"default\"] = (_canvas_i18n_i18nObj__WEBPACK_IMPORTED_MODULE_0__[\"default\"].scoped('external_tools.external_content_return_view'));\n  \n\n//# sourceURL=webpack:///./ui/shims/dummyI18nResource.js?./frontend_build/i18n.js?external_tools.external_content_return_view");

/***/ }),

/***/ "onvg":
/*!***************************************************************************!*\
  !*** ./ui/shared/external-tools/jst/ExternalContentReturnView.handlebars ***!
  \***************************************************************************/
/*! exports provided: default */
/***/ (function(module, __webpack_exports__, __webpack_require__) {

"use strict";
eval("__webpack_require__.r(__webpack_exports__);\n/* harmony import */ var handlebars_runtime__WEBPACK_IMPORTED_MODULE_0__ = __webpack_require__(/*! handlebars/runtime */ \"3O+N\");\n/* harmony import */ var handlebars_runtime__WEBPACK_IMPORTED_MODULE_0___default = /*#__PURE__*/__webpack_require__.n(handlebars_runtime__WEBPACK_IMPORTED_MODULE_0__);\n/* harmony import */ var i18n_external_tools_external_content_return_view__WEBPACK_IMPORTED_MODULE_1__ = __webpack_require__(/*! i18n!external_tools.external_content_return_view */ \"lILG\");\n/* harmony import */ var _canvas_handlebars_helpers_index_coffee__WEBPACK_IMPORTED_MODULE_2__ = __webpack_require__(/*! @canvas/handlebars-helpers/index.coffee */ \"BGrI\");\n\n    \n    var Handlebars = handlebars_runtime__WEBPACK_IMPORTED_MODULE_0___default.a.default;\n    \n\n\n    var template = Handlebars.template, templates = Handlebars.templates = Handlebars.templates || {};\n    var name = '/home/td/workspace/guokehuiyi/canvas/ui/shared/external-tools/jst/ExternalContentReturnView';\n    templates[name] = template(function (Handlebars,depth0,helpers,partials,data) {\n  this.compilerInfo = [4,'>= 1.0.0'];\nhelpers = this.merge(helpers, Handlebars.helpers); data = data || {};\n  var buffer = \"\", stack1, helper, options, helperMissing=helpers.helperMissing, escapeExpression=this.escapeExpression, functionType=\"function\";\n\n\n  buffer += \"<div class=\\\"before_external_content_info_alert screenreader-only\\\" tabindex=\\\"0\\\">\\n  <div class=\\\"ic-flash-info\\\">\\n    <div class=\\\"ic-flash__icon\\\" aria-hidden=\\\"true\\\">\\n      <i class=\\\"icon-info\\\"></i>\\n    </div>\\n    \"\n    + escapeExpression((helper = helpers.t || (depth0 && depth0.t),options={hash:{\n    'scope': (\"external_tools.external_content_return_view\")\n  },data:data},helper ? helper.call(depth0, \"The following content is partner provided\", options) : helperMissing.call(depth0, \"t\", \"The following content is partner provided\", options)))\n    + \"\\n  </div>\\n</div>\\n<iframe\\n  tabindex=\\\"0\\\"\\n  class=\\\"tool_launch\\\"\\n  src=\\\"\";\n  if (helper = helpers.launch_url) { stack1 = helper.call(depth0, {hash:{},data:data}); }\n  else { helper = (depth0 && depth0.launch_url); stack1 = typeof helper === functionType ? helper.call(depth0, {hash:{},data:data}) : helper; }\n  buffer += escapeExpression(stack1)\n    + \"\\\"\\n  title=\\\"\"\n    + escapeExpression((helper = helpers.t || (depth0 && depth0.t),options={hash:{\n    'i18n_inferred_key': (true)\n  },data:data},helper ? helper.call(depth0, \"tool_content_2924d18f\", \"Tool content\", options) : helperMissing.call(depth0, \"t\", \"tool_content_2924d18f\", \"Tool content\", options)))\n    + \"\\\"\\n  allow=\\\"\";\n  if (helper = helpers.allowances) { stack1 = helper.call(depth0, {hash:{},data:data}); }\n  else { helper = (depth0 && depth0.allowances); stack1 = typeof helper === functionType ? helper.call(depth0, {hash:{},data:data}) : helper; }\n  buffer += escapeExpression(stack1)\n    + \"\\\"\\n  data-lti-launch=\\\"true\\\"\\n>\\n</iframe>\\n<div class=\\\"after_external_content_info_alert screenreader-only\\\" tabindex=\\\"0\\\">\\n  <div class=\\\"ic-flash-info\\\">\\n    <div class=\\\"ic-flash__icon\\\" aria-hidden=\\\"true\\\">\\n      <i class=\\\"icon-info\\\"></i>\\n    </div>\\n    \"\n    + escapeExpression((helper = helpers.t || (depth0 && depth0.t),options={hash:{\n    'scope': (\"external_tools.external_content_return_view\")\n  },data:data},helper ? helper.call(depth0, \"The preceding content is partner provided\", options) : helperMissing.call(depth0, \"t\", \"The preceding content is partner provided\", options)))\n    + \"\\n  </div>\\n</div>\\n\";\n  return buffer;\n  });\n    ;\n    ;\n    /* harmony default export */ __webpack_exports__[\"default\"] = (templates[name]);\n  \n\n//# sourceURL=webpack:///./ui/shared/external-tools/jst/ExternalContentReturnView.handlebars?");

/***/ }),

/***/ "plYi":
/*!**************************************!*\
  !*** ./ui/shared/util/natcompare.js ***!
  \**************************************/
/*! exports provided: default */
/***/ (function(module, __webpack_exports__, __webpack_require__) {

"use strict";
eval("__webpack_require__.r(__webpack_exports__);\n/* harmony import */ var _canvas_i18n__WEBPACK_IMPORTED_MODULE_0__ = __webpack_require__(/*! @canvas/i18n */ \"HGxv\");\n//\n// Copyright (C) 2014 - present Instructure, Inc.\n//\n// This file is part of Canvas.\n//\n// Canvas is free software: you can redistribute it and/or modify it under\n// the terms of the GNU Affero General Public License as published by the Free\n// Software Foundation, version 3 of the License.\n//\n// Canvas is distributed in the hope that it will be useful, but WITHOUT ANY\n// WARRANTY; without even the implied warranty of MERCHANTABILITY or FITNESS FOR\n// A PARTICULAR PURPOSE. See the GNU Affero General Public License for more\n// details.\n//\n// You should have received a copy of the GNU Affero General Public License along\n// with this program. If not, see <http://www.gnu.org/licenses/>.\n\n/* harmony default export */ __webpack_exports__[\"default\"] = ({\n  strings(x, y) {\n    let locale = _canvas_i18n__WEBPACK_IMPORTED_MODULE_0__[\"default\"].locale || 'en-US';\n    const locale_map = {\n      zh_Hant: 'zh-Hant'\n    };\n    locale = locale_map[locale] || locale; // if you change these settings, also match the settings in best_unicode_collation_key\n    // and Canvas::ICU.collator\n\n    return x.localeCompare(y, locale, {\n      sensitivity: 'variant',\n      ignorePunctuation: false,\n      numeric: true\n    });\n  },\n\n  by(f) {\n    return (x, y) => this.strings(f(x), f(y));\n  },\n\n  byKey(key) {\n    return this.by(x => x[key]);\n  },\n\n  byGet(key) {\n    return this.by(x => x.get(key));\n  }\n\n});\n\n//# sourceURL=webpack:///./ui/shared/util/natcompare.js?");

/***/ })

}]);