(window["canvasWebpackJsonp"] = window["canvasWebpackJsonp"] || []).push([[3716],{

/***/ "RTmm":
/*!******************************************************************************************!*\
  !*** ./frontend_build/i18n.js?CourseAvailabilityOptions!./ui/shims/dummyI18nResource.js ***!
  \******************************************************************************************/
/*! exports provided: default */
/***/ (function(module, __webpack_exports__, __webpack_require__) {

"use strict";
eval("__webpack_require__.r(__webpack_exports__);\n/* harmony import */ var _canvas_i18n_i18nObj__WEBPACK_IMPORTED_MODULE_0__ = __webpack_require__(/*! @canvas/i18n/i18nObj */ \"HGxv\");\n/* harmony import */ var translations_core_en__WEBPACK_IMPORTED_MODULE_1__ = __webpack_require__(/*! translations/_core_en */ \"0sPK\");\n\n    \n    \n    \n\n    /* harmony default export */ __webpack_exports__[\"default\"] = (_canvas_i18n_i18nObj__WEBPACK_IMPORTED_MODULE_0__[\"default\"].scoped('CourseAvailabilityOptions'));\n  \n\n//# sourceURL=webpack:///./ui/shims/dummyI18nResource.js?./frontend_build/i18n.js?CourseAvailabilityOptions");

/***/ }),

/***/ "opr0":
/*!***********************************************************************************!*\
  !*** ./ui/features/course_settings/react/components/CourseAvailabilityOptions.js ***!
  \***********************************************************************************/
/*! exports provided: default */
/***/ (function(module, __webpack_exports__, __webpack_require__) {

"use strict";
eval("__webpack_require__.r(__webpack_exports__);\n/* harmony export (binding) */ __webpack_require__.d(__webpack_exports__, \"default\", function() { return CourseAvailabilityOptions; });\n/* harmony import */ var _babel_runtime_helpers_esm_slicedToArray__WEBPACK_IMPORTED_MODULE_0__ = __webpack_require__(/*! @babel/runtime/helpers/esm/slicedToArray */ \"ODXe\");\n/* harmony import */ var i18n_CourseAvailabilityOptions__WEBPACK_IMPORTED_MODULE_1__ = __webpack_require__(/*! i18n!CourseAvailabilityOptions */ \"RTmm\");\n/* harmony import */ var _canvas_timezone__WEBPACK_IMPORTED_MODULE_2__ = __webpack_require__(/*! @canvas/timezone */ \"3H9/\");\n/* harmony import */ var moment__WEBPACK_IMPORTED_MODULE_3__ = __webpack_require__(/*! moment */ \"wd/R\");\n/* harmony import */ var moment__WEBPACK_IMPORTED_MODULE_3___default = /*#__PURE__*/__webpack_require__.n(moment__WEBPACK_IMPORTED_MODULE_3__);\n/* harmony import */ var react__WEBPACK_IMPORTED_MODULE_4__ = __webpack_require__(/*! react */ \"q1tI\");\n/* harmony import */ var react__WEBPACK_IMPORTED_MODULE_4___default = /*#__PURE__*/__webpack_require__.n(react__WEBPACK_IMPORTED_MODULE_4__);\n/* harmony import */ var prop_types__WEBPACK_IMPORTED_MODULE_5__ = __webpack_require__(/*! prop-types */ \"17x9\");\n/* harmony import */ var prop_types__WEBPACK_IMPORTED_MODULE_5___default = /*#__PURE__*/__webpack_require__.n(prop_types__WEBPACK_IMPORTED_MODULE_5__);\n/* harmony import */ var _instructure_ui_simple_select__WEBPACK_IMPORTED_MODULE_6__ = __webpack_require__(/*! @instructure/ui-simple-select */ \"fw+x\");\n/* harmony import */ var _instructure_ui_text__WEBPACK_IMPORTED_MODULE_7__ = __webpack_require__(/*! @instructure/ui-text */ \"iE3e\");\n/* harmony import */ var _instructure_ui_form_field__WEBPACK_IMPORTED_MODULE_8__ = __webpack_require__(/*! @instructure/ui-form-field */ \"sTNg\");\n/* harmony import */ var _instructure_ui_checkbox__WEBPACK_IMPORTED_MODULE_9__ = __webpack_require__(/*! @instructure/ui-checkbox */ \"Kdwl\");\n/* harmony import */ var _canvas_datetime_react_components_DateInput__WEBPACK_IMPORTED_MODULE_10__ = __webpack_require__(/*! @canvas/datetime/react/components/DateInput */ \"4P7D\");\n/* harmony import */ var _instructure_ui_flex__WEBPACK_IMPORTED_MODULE_11__ = __webpack_require__(/*! @instructure/ui-flex */ \"N46v\");\n/* harmony import */ var _instructure_ui_a11y_content__WEBPACK_IMPORTED_MODULE_12__ = __webpack_require__(/*! @instructure/ui-a11y-content */ \"9+/z\");\n/* harmony import */ var _instructure_ui_icons__WEBPACK_IMPORTED_MODULE_13__ = __webpack_require__(/*! @instructure/ui-icons */ \"oMAr\");\n\n\n/*\n * Copyright (C) 2021 - present Instructure, Inc.\n *\n * This file is part of Canvas.\n *\n * Canvas is free software: you can redistribute it and/or modify it under\n * the terms of the GNU Affero General Public License as published by the Free\n * Software Foundation, version 3 of the License.\n *\n * Canvas is distributed in the hope that it will be useful, but WITHOUT ANY\n * WARRANTY; without even the implied warranty of MERCHANTABILITY or FITNESS FOR\n * A PARTICULAR PURPOSE. See the GNU Affero General Public License for more\n * details.\n *\n * You should have received a copy of the GNU Affero General Public License along\n * with this program. If not, see <http://www.gnu.org/licenses/>.\n */\n\n\n\n\n\n\n\n\n\n\n\n\n\nfunction CourseAvailabilityOptions({\n  canManage,\n  viewPastLocked,\n  viewFutureLocked\n}) {\n  var _window$ENV$STUDENTS_, _window$ENV$DEFAULT_T, _window$ENV$STUDENTS_2, _window$ENV$DEFAULT_T2;\n\n  const FORM_IDS = {\n    RESTRICT_ENROLLMENTS: 'course_restrict_enrollments_to_course_dates',\n    START_DATE: 'course_start_at',\n    END_DATE: 'course_conclude_at',\n    RESTRICT_FUTURE: 'course_restrict_student_future_view',\n    RESTRICT_PAST: 'course_restrict_student_past_view'\n  };\n  const TERM_DATES = {\n    START_DATE: ((_window$ENV$STUDENTS_ = window.ENV.STUDENTS_ENROLLMENT_DATES) === null || _window$ENV$STUDENTS_ === void 0 ? void 0 : _window$ENV$STUDENTS_.start_at) || ((_window$ENV$DEFAULT_T = window.ENV.DEFAULT_TERM_DATES) === null || _window$ENV$DEFAULT_T === void 0 ? void 0 : _window$ENV$DEFAULT_T.start_at),\n    END_DATE: ((_window$ENV$STUDENTS_2 = window.ENV.STUDENTS_ENROLLMENT_DATES) === null || _window$ENV$STUDENTS_2 === void 0 ? void 0 : _window$ENV$STUDENTS_2.end_at) || ((_window$ENV$DEFAULT_T2 = window.ENV.DEFAULT_TERM_DATES) === null || _window$ENV$DEFAULT_T2 === void 0 ? void 0 : _window$ENV$DEFAULT_T2.end_at)\n  };\n\n  const setFormValue = (id, value) => {\n    const field = document.getElementById(id);\n    field.value = value;\n  };\n\n  const getFormValue = id => document.getElementById(id).value;\n\n  const _useState = Object(react__WEBPACK_IMPORTED_MODULE_4__[\"useState\"])(getFormValue(FORM_IDS.RESTRICT_ENROLLMENTS) === 'true' ? 'course' : 'term'),\n        _useState2 = Object(_babel_runtime_helpers_esm_slicedToArray__WEBPACK_IMPORTED_MODULE_0__[\"default\"])(_useState, 2),\n        selectedApplicabilityValue = _useState2[0],\n        setSelectedApplicabilityValue = _useState2[1];\n\n  const _useState3 = Object(react__WEBPACK_IMPORTED_MODULE_4__[\"useState\"])(moment__WEBPACK_IMPORTED_MODULE_3___default()(getFormValue(FORM_IDS.START_DATE)).toISOString()),\n        _useState4 = Object(_babel_runtime_helpers_esm_slicedToArray__WEBPACK_IMPORTED_MODULE_0__[\"default\"])(_useState3, 2),\n        startDate = _useState4[0],\n        setStartDate = _useState4[1];\n\n  const _useState5 = Object(react__WEBPACK_IMPORTED_MODULE_4__[\"useState\"])(moment__WEBPACK_IMPORTED_MODULE_3___default()(getFormValue(FORM_IDS.END_DATE)).toISOString()),\n        _useState6 = Object(_babel_runtime_helpers_esm_slicedToArray__WEBPACK_IMPORTED_MODULE_0__[\"default\"])(_useState5, 2),\n        endDate = _useState6[0],\n        setEndDate = _useState6[1];\n\n  const _useState7 = Object(react__WEBPACK_IMPORTED_MODULE_4__[\"useState\"])(getFormValue(FORM_IDS.RESTRICT_FUTURE) === 'true'),\n        _useState8 = Object(_babel_runtime_helpers_esm_slicedToArray__WEBPACK_IMPORTED_MODULE_0__[\"default\"])(_useState7, 2),\n        restrictBefore = _useState8[0],\n        setRestrictBefore = _useState8[1];\n\n  const _useState9 = Object(react__WEBPACK_IMPORTED_MODULE_4__[\"useState\"])(getFormValue(FORM_IDS.RESTRICT_PAST) === 'true'),\n        _useState10 = Object(_babel_runtime_helpers_esm_slicedToArray__WEBPACK_IMPORTED_MODULE_0__[\"default\"])(_useState9, 2),\n        restrictAfter = _useState10[0],\n        setRestrictAfter = _useState10[1];\n\n  const datesInteraction = () => canManage && selectedApplicabilityValue === 'course' ? 'enabled' : 'disabled';\n\n  const formatDate = date => _canvas_timezone__WEBPACK_IMPORTED_MODULE_2__[\"default\"].format(date, 'date.formats.full');\n\n  const participationExplanationText = () => {\n    return selectedApplicabilityValue === 'term' ? i18n_CourseAvailabilityOptions__WEBPACK_IMPORTED_MODULE_1__[\"default\"].t('Course participation is limited to *term* start and end dates.', {\n      wrappers: [`<strong>$1</strong>`]\n    }) : i18n_CourseAvailabilityOptions__WEBPACK_IMPORTED_MODULE_1__[\"default\"].t('Course participation is limited to *course* start and end dates. Any section dates created in the course may override course dates.', {\n      wrappers: [`<strong>$1</strong>`]\n    });\n  };\n\n  const clearCourseDates = () => {\n    setFormValue(FORM_IDS.START_DATE, null);\n    setStartDate(null);\n    setFormValue(FORM_IDS.END_DATE, null);\n    setEndDate(null);\n  };\n\n  return /*#__PURE__*/react__WEBPACK_IMPORTED_MODULE_4___default.a.createElement(\"div\", {\n    className: \"CourseAvailabilityOptions\"\n  }, /*#__PURE__*/react__WEBPACK_IMPORTED_MODULE_4___default.a.createElement(_instructure_ui_form_field__WEBPACK_IMPORTED_MODULE_8__[\"FormFieldGroup\"], {\n    description: /*#__PURE__*/react__WEBPACK_IMPORTED_MODULE_4___default.a.createElement(_instructure_ui_a11y_content__WEBPACK_IMPORTED_MODULE_12__[\"ScreenReaderContent\"], null, i18n_CourseAvailabilityOptions__WEBPACK_IMPORTED_MODULE_1__[\"default\"].t('Course Participation and Access Settings')),\n    rowSpacing: \"small\",\n    layout: \"inline\"\n  }, /*#__PURE__*/react__WEBPACK_IMPORTED_MODULE_4___default.a.createElement(_instructure_ui_simple_select__WEBPACK_IMPORTED_MODULE_6__[\"SimpleSelect\"], {\n    renderLabel: /*#__PURE__*/react__WEBPACK_IMPORTED_MODULE_4___default.a.createElement(_instructure_ui_a11y_content__WEBPACK_IMPORTED_MODULE_12__[\"ScreenReaderContent\"], null, i18n_CourseAvailabilityOptions__WEBPACK_IMPORTED_MODULE_1__[\"default\"].t('Limit course participation to term or custom course dates?')),\n    interaction: canManage ? 'enabled' : 'disabled',\n    isInline: true,\n    width: \"350px\",\n    value: selectedApplicabilityValue,\n    onChange: (e, {\n      value\n    }) => {\n      if (value !== 'course') {\n        // Discard course dates, if they are removed from the Date inputs when Participation is different to course,\n        // in order to avoid saving these changes if they are not on the screen at the moment of submitting the form\n        clearCourseDates();\n      }\n\n      setFormValue(FORM_IDS.RESTRICT_ENROLLMENTS, value === 'course');\n      setSelectedApplicabilityValue(value);\n    }\n  }, /*#__PURE__*/react__WEBPACK_IMPORTED_MODULE_4___default.a.createElement(_instructure_ui_simple_select__WEBPACK_IMPORTED_MODULE_6__[\"SimpleSelect\"].Option, {\n    id: \"term\",\n    value: \"term\"\n  }, i18n_CourseAvailabilityOptions__WEBPACK_IMPORTED_MODULE_1__[\"default\"].t('Term')), /*#__PURE__*/react__WEBPACK_IMPORTED_MODULE_4___default.a.createElement(_instructure_ui_simple_select__WEBPACK_IMPORTED_MODULE_6__[\"SimpleSelect\"].Option, {\n    id: \"course\",\n    value: \"course\"\n  }, i18n_CourseAvailabilityOptions__WEBPACK_IMPORTED_MODULE_1__[\"default\"].t('Course'))), /*#__PURE__*/react__WEBPACK_IMPORTED_MODULE_4___default.a.createElement(_instructure_ui_text__WEBPACK_IMPORTED_MODULE_7__[\"Text\"], {\n    size: \"small\",\n    weight: \"light\",\n    dangerouslySetInnerHTML: {\n      __html: participationExplanationText()\n    }\n  }), /*#__PURE__*/react__WEBPACK_IMPORTED_MODULE_4___default.a.createElement(react__WEBPACK_IMPORTED_MODULE_4___default.a.Fragment, null, /*#__PURE__*/react__WEBPACK_IMPORTED_MODULE_4___default.a.createElement(_instructure_ui_flex__WEBPACK_IMPORTED_MODULE_11__[\"Flex\"], {\n    direction: \"column\",\n    display: \"inline-flex\"\n  }, /*#__PURE__*/react__WEBPACK_IMPORTED_MODULE_4___default.a.createElement(_instructure_ui_flex__WEBPACK_IMPORTED_MODULE_11__[\"Flex\"].Item, {\n    padding: \"xx-small\"\n  }, /*#__PURE__*/react__WEBPACK_IMPORTED_MODULE_4___default.a.createElement(_instructure_ui_a11y_content__WEBPACK_IMPORTED_MODULE_12__[\"ScreenReaderContent\"], null, i18n_CourseAvailabilityOptions__WEBPACK_IMPORTED_MODULE_1__[\"default\"].t('Course Start Date')), /*#__PURE__*/react__WEBPACK_IMPORTED_MODULE_4___default.a.createElement(_canvas_datetime_react_components_DateInput__WEBPACK_IMPORTED_MODULE_10__[\"default\"], {\n    renderLabel: i18n_CourseAvailabilityOptions__WEBPACK_IMPORTED_MODULE_1__[\"default\"].t('Start'),\n    formatDate: formatDate,\n    interaction: datesInteraction(),\n    width: \"16rem\",\n    selectedDate: selectedApplicabilityValue === 'course' ? startDate : TERM_DATES.START_DATE,\n    onSelectedDateChange: value => {\n      const start = moment__WEBPACK_IMPORTED_MODULE_3___default()(value).toISOString();\n      setFormValue(FORM_IDS.START_DATE, start);\n      setStartDate(start);\n    }\n  })), /*#__PURE__*/react__WEBPACK_IMPORTED_MODULE_4___default.a.createElement(_instructure_ui_flex__WEBPACK_IMPORTED_MODULE_11__[\"Flex\"].Item, {\n    padding: \"xx-small\"\n  }, /*#__PURE__*/react__WEBPACK_IMPORTED_MODULE_4___default.a.createElement(_instructure_ui_a11y_content__WEBPACK_IMPORTED_MODULE_12__[\"ScreenReaderContent\"], null, i18n_CourseAvailabilityOptions__WEBPACK_IMPORTED_MODULE_1__[\"default\"].t('Course End Date')), /*#__PURE__*/react__WEBPACK_IMPORTED_MODULE_4___default.a.createElement(_canvas_datetime_react_components_DateInput__WEBPACK_IMPORTED_MODULE_10__[\"default\"], {\n    renderLabel: i18n_CourseAvailabilityOptions__WEBPACK_IMPORTED_MODULE_1__[\"default\"].t('End'),\n    formatDate: formatDate,\n    interaction: datesInteraction(),\n    width: \"16rem\",\n    selectedDate: selectedApplicabilityValue === 'course' ? endDate : TERM_DATES.END_DATE,\n    onSelectedDateChange: value => {\n      const end = moment__WEBPACK_IMPORTED_MODULE_3___default()(value).toISOString();\n      setFormValue(FORM_IDS.END_DATE, end);\n      setEndDate(end);\n    }\n  }))), _canvas_timezone__WEBPACK_IMPORTED_MODULE_2__[\"default\"].isMidnight(endDate) && selectedApplicabilityValue === 'course' && /*#__PURE__*/react__WEBPACK_IMPORTED_MODULE_4___default.a.createElement(_instructure_ui_flex__WEBPACK_IMPORTED_MODULE_11__[\"Flex\"], null, /*#__PURE__*/react__WEBPACK_IMPORTED_MODULE_4___default.a.createElement(_instructure_ui_flex__WEBPACK_IMPORTED_MODULE_11__[\"Flex\"].Item, {\n    margin: \"xx-small small xx-small 0\",\n    align: \"start\"\n  }, /*#__PURE__*/react__WEBPACK_IMPORTED_MODULE_4___default.a.createElement(_instructure_ui_a11y_content__WEBPACK_IMPORTED_MODULE_12__[\"AccessibleContent\"], {\n    alt: i18n_CourseAvailabilityOptions__WEBPACK_IMPORTED_MODULE_1__[\"default\"].t('Warning')\n  }, /*#__PURE__*/react__WEBPACK_IMPORTED_MODULE_4___default.a.createElement(_instructure_ui_icons__WEBPACK_IMPORTED_MODULE_13__[\"IconWarningSolid\"], {\n    size: \"x-small\",\n    color: \"warning\"\n  }))), /*#__PURE__*/react__WEBPACK_IMPORTED_MODULE_4___default.a.createElement(_instructure_ui_flex__WEBPACK_IMPORTED_MODULE_11__[\"Flex\"].Item, null, /*#__PURE__*/react__WEBPACK_IMPORTED_MODULE_4___default.a.createElement(_instructure_ui_text__WEBPACK_IMPORTED_MODULE_7__[\"Text\"], {\n    size: \"small\"\n  }, i18n_CourseAvailabilityOptions__WEBPACK_IMPORTED_MODULE_1__[\"default\"].t('Course participation is set to expire at midnight, so the previous day is the last day this course will be active.'))))), /*#__PURE__*/react__WEBPACK_IMPORTED_MODULE_4___default.a.createElement(_instructure_ui_checkbox__WEBPACK_IMPORTED_MODULE_9__[\"Checkbox\"], {\n    label: selectedApplicabilityValue === 'term' ? i18n_CourseAvailabilityOptions__WEBPACK_IMPORTED_MODULE_1__[\"default\"].t('Restrict students from viewing course before term start date') : i18n_CourseAvailabilityOptions__WEBPACK_IMPORTED_MODULE_1__[\"default\"].t('Restrict students from viewing course before course start date'),\n    size: \"small\",\n    disabled: !canManage || viewFutureLocked,\n    checked: restrictBefore,\n    onChange: e => {\n      setFormValue(FORM_IDS.RESTRICT_FUTURE, e.target.checked);\n      setRestrictBefore(e.target.checked);\n    }\n  }), /*#__PURE__*/react__WEBPACK_IMPORTED_MODULE_4___default.a.createElement(_instructure_ui_checkbox__WEBPACK_IMPORTED_MODULE_9__[\"Checkbox\"], {\n    label: selectedApplicabilityValue === 'term' ? i18n_CourseAvailabilityOptions__WEBPACK_IMPORTED_MODULE_1__[\"default\"].t('Restrict students from viewing course after term end date') : i18n_CourseAvailabilityOptions__WEBPACK_IMPORTED_MODULE_1__[\"default\"].t('Restrict students from viewing course after course end date'),\n    size: \"small\",\n    disabled: !canManage || viewPastLocked,\n    checked: restrictAfter,\n    onChange: e => {\n      setFormValue(FORM_IDS.RESTRICT_PAST, e.target.checked);\n      setRestrictAfter(e.target.checked);\n    }\n  })));\n}\nCourseAvailabilityOptions.propTypes = {\n  canManage: prop_types__WEBPACK_IMPORTED_MODULE_5__[\"bool\"].isRequired,\n  viewPastLocked: prop_types__WEBPACK_IMPORTED_MODULE_5__[\"bool\"].isRequired,\n  viewFutureLocked: prop_types__WEBPACK_IMPORTED_MODULE_5__[\"bool\"].isRequired\n};\n\n//# sourceURL=webpack:///./ui/features/course_settings/react/components/CourseAvailabilityOptions.js?");

/***/ })

}]);