(window["canvasWebpackJsonp"] = window["canvasWebpackJsonp"] || []).push([[81],{

/***/ "4gpC":
/*!************************************************************************************!*\
  !*** ./frontend_build/i18n.js?edit_rubricComments!./ui/shims/dummyI18nResource.js ***!
  \************************************************************************************/
/*! exports provided: default */
/***/ (function(module, __webpack_exports__, __webpack_require__) {

"use strict";
eval("__webpack_require__.r(__webpack_exports__);\n/* harmony import */ var _canvas_i18n_i18nObj__WEBPACK_IMPORTED_MODULE_0__ = __webpack_require__(/*! @canvas/i18n/i18nObj */ \"HGxv\");\n/* harmony import */ var translations_core_en__WEBPACK_IMPORTED_MODULE_1__ = __webpack_require__(/*! translations/_core_en */ \"0sPK\");\n\n    \n    \n    \n\n    /* harmony default export */ __webpack_exports__[\"default\"] = (_canvas_i18n_i18nObj__WEBPACK_IMPORTED_MODULE_0__[\"default\"].scoped('edit_rubricComments'));\n  \n\n//# sourceURL=webpack:///./ui/shims/dummyI18nResource.js?./frontend_build/i18n.js?edit_rubricComments");

/***/ }),

/***/ "AS0N":
/*!*********************************************!*\
  !*** ./ui/shared/rubrics/react/Comments.js ***!
  \*********************************************/
/*! exports provided: CommentText, default */
/***/ (function(module, __webpack_exports__, __webpack_require__) {

"use strict";
eval("__webpack_require__.r(__webpack_exports__);\n/* harmony export (binding) */ __webpack_require__.d(__webpack_exports__, \"CommentText\", function() { return CommentText; });\n/* harmony import */ var _babel_runtime_helpers_esm_objectWithoutProperties__WEBPACK_IMPORTED_MODULE_0__ = __webpack_require__(/*! @babel/runtime/helpers/esm/objectWithoutProperties */ \"Ff2n\");\n/* harmony import */ var react__WEBPACK_IMPORTED_MODULE_1__ = __webpack_require__(/*! react */ \"q1tI\");\n/* harmony import */ var react__WEBPACK_IMPORTED_MODULE_1___default = /*#__PURE__*/__webpack_require__.n(react__WEBPACK_IMPORTED_MODULE_1__);\n/* harmony import */ var prop_types__WEBPACK_IMPORTED_MODULE_2__ = __webpack_require__(/*! prop-types */ \"17x9\");\n/* harmony import */ var prop_types__WEBPACK_IMPORTED_MODULE_2___default = /*#__PURE__*/__webpack_require__.n(prop_types__WEBPACK_IMPORTED_MODULE_2__);\n/* harmony import */ var _instructure_ui_a11y_content__WEBPACK_IMPORTED_MODULE_3__ = __webpack_require__(/*! @instructure/ui-a11y-content */ \"9+/z\");\n/* harmony import */ var _instructure_ui_text__WEBPACK_IMPORTED_MODULE_4__ = __webpack_require__(/*! @instructure/ui-text */ \"iE3e\");\n/* harmony import */ var _instructure_ui_checkbox__WEBPACK_IMPORTED_MODULE_5__ = __webpack_require__(/*! @instructure/ui-checkbox */ \"Kdwl\");\n/* harmony import */ var _instructure_ui_simple_select__WEBPACK_IMPORTED_MODULE_6__ = __webpack_require__(/*! @instructure/ui-simple-select */ \"fw+x\");\n/* harmony import */ var _instructure_ui_text_area__WEBPACK_IMPORTED_MODULE_7__ = __webpack_require__(/*! @instructure/ui-text-area */ \"SLJK\");\n/* harmony import */ var i18n_edit_rubricComments__WEBPACK_IMPORTED_MODULE_8__ = __webpack_require__(/*! i18n!edit_rubricComments */ \"4gpC\");\n/* harmony import */ var _types__WEBPACK_IMPORTED_MODULE_9__ = __webpack_require__(/*! ./types */ \"fHU0\");\n\nconst _excluded = [\"editing\", \"assessment\", \"footer\"];\n\n/*\n * Copyright (C) 2018 - present Instructure, Inc.\n *\n * This file is part of Canvas.\n *\n * Canvas is free software: you can redistribute it and/or modify it under\n * the terms of the GNU Affero General Public License as published by the Free\n * Software Foundation, version 3 of the License.\n *\n * Canvas is distributed in the hope that it will be useful, but WITHOUT ANY\n * WARRANTY; without even the implied warranty of MERCHANTABILITY or FITNESS FOR\n * A PARTICULAR PURPOSE. See the GNU Affero General Public License for more\n * details.\n *\n * You should have received a copy of the GNU Affero General Public License along\n * with this program. If not, see <http://www.gnu.org/licenses/>.\n */\n\n\n\n\n\n\n\n\n\n\nconst ellipsis = () => i18n_edit_rubricComments__WEBPACK_IMPORTED_MODULE_8__[\"default\"].t('â€¦');\n\nconst truncate = comment => comment.length > 100 ? comment.slice(0, 99) + ellipsis() : comment;\n\nconst slug = str => str.replace(/\\W/g, '');\n\nconst FreeFormComments = props => {\n  const allowSaving = props.allowSaving,\n        savedComments = props.savedComments,\n        comments = props.comments,\n        large = props.large,\n        saveLater = props.saveLater,\n        setComments = props.setComments,\n        setSaveLater = props.setSaveLater;\n  const first = /*#__PURE__*/react__WEBPACK_IMPORTED_MODULE_1___default.a.createElement(_instructure_ui_simple_select__WEBPACK_IMPORTED_MODULE_6__[\"SimpleSelect\"].Option, {\n    key: \"first\",\n    id: \"first\",\n    value: \"first\"\n  }, i18n_edit_rubricComments__WEBPACK_IMPORTED_MODULE_8__[\"default\"].t('[ Select ]'));\n  const options = savedComments.map((comment, ix) => /*#__PURE__*/react__WEBPACK_IMPORTED_MODULE_1___default.a.createElement(_instructure_ui_simple_select__WEBPACK_IMPORTED_MODULE_6__[\"SimpleSelect\"].Option, {\n    key: slug(comment).slice(-8),\n    id: `${slug(comment).slice(-6)}_${ix}`,\n    value: ix.toString(),\n    label: comment\n  }, truncate(comment)));\n  const selector = [/*#__PURE__*/react__WEBPACK_IMPORTED_MODULE_1___default.a.createElement(_instructure_ui_simple_select__WEBPACK_IMPORTED_MODULE_6__[\"SimpleSelect\"], {\n    renderLabel: i18n_edit_rubricComments__WEBPACK_IMPORTED_MODULE_8__[\"default\"].t('Saved Comments'),\n    assistiveText: i18n_edit_rubricComments__WEBPACK_IMPORTED_MODULE_8__[\"default\"].t('Select from saved comments'),\n    onChange: (_unused, el) => {\n      setComments(savedComments[el.value]);\n    }\n  }, [first, ...options]), /*#__PURE__*/react__WEBPACK_IMPORTED_MODULE_1___default.a.createElement(\"br\", {\n    key: \"br\"\n  })];\n\n  const saveBox = () => {\n    if (allowSaving && large) {\n      return /*#__PURE__*/react__WEBPACK_IMPORTED_MODULE_1___default.a.createElement(_instructure_ui_checkbox__WEBPACK_IMPORTED_MODULE_5__[\"Checkbox\"], {\n        checked: saveLater,\n        label: i18n_edit_rubricComments__WEBPACK_IMPORTED_MODULE_8__[\"default\"].t('Save this comment for reuse'),\n        size: \"small\",\n        onChange: event => setSaveLater(event.target.checked)\n      });\n    }\n  };\n\n  const label = i18n_edit_rubricComments__WEBPACK_IMPORTED_MODULE_8__[\"default\"].t('Comments');\n\n  const toScreenReader = el => /*#__PURE__*/react__WEBPACK_IMPORTED_MODULE_1___default.a.createElement(_instructure_ui_a11y_content__WEBPACK_IMPORTED_MODULE_3__[\"ScreenReaderContent\"], null, el);\n\n  const commentClass = `edit-freeform-comments-${large ? 'large' : 'small'}`;\n  return /*#__PURE__*/react__WEBPACK_IMPORTED_MODULE_1___default.a.createElement(\"div\", {\n    className: commentClass\n  }, options.length > 0 ? selector : null, /*#__PURE__*/react__WEBPACK_IMPORTED_MODULE_1___default.a.createElement(_instructure_ui_text_area__WEBPACK_IMPORTED_MODULE_7__[\"TextArea\"], {\n    \"data-selenium\": \"criterion_comments_text\",\n    label: large ? label : toScreenReader(label),\n    placeholder: large ? void 0 : label,\n    maxHeight: \"50rem\",\n    onChange: e => setComments(e.target.value),\n    resize: \"vertical\",\n    size: \"small\",\n    value: comments\n  }), large ? /*#__PURE__*/react__WEBPACK_IMPORTED_MODULE_1___default.a.createElement(\"br\", null) : null, saveBox());\n};\n\nFreeFormComments.propTypes = {\n  allowSaving: prop_types__WEBPACK_IMPORTED_MODULE_2___default.a.bool.isRequired,\n  savedComments: prop_types__WEBPACK_IMPORTED_MODULE_2___default.a.arrayOf(prop_types__WEBPACK_IMPORTED_MODULE_2___default.a.string).isRequired,\n  comments: prop_types__WEBPACK_IMPORTED_MODULE_2___default.a.string,\n  large: prop_types__WEBPACK_IMPORTED_MODULE_2___default.a.bool.isRequired,\n  saveLater: prop_types__WEBPACK_IMPORTED_MODULE_2___default.a.bool,\n  setComments: prop_types__WEBPACK_IMPORTED_MODULE_2___default.a.func.isRequired,\n  setSaveLater: prop_types__WEBPACK_IMPORTED_MODULE_2___default.a.func.isRequired\n};\nFreeFormComments.defaultProps = {\n  comments: '',\n  saveLater: false\n};\n\nconst commentElement = assessment => {\n  if (assessment.comments_html || assessment.comments) {\n    return /*#__PURE__*/react__WEBPACK_IMPORTED_MODULE_1___default.a.createElement(\"div\", null, /*#__PURE__*/react__WEBPACK_IMPORTED_MODULE_1___default.a.createElement(_instructure_ui_text__WEBPACK_IMPORTED_MODULE_4__[\"Text\"], {\n      size: \"small\",\n      weight: \"bold\"\n    }, i18n_edit_rubricComments__WEBPACK_IMPORTED_MODULE_8__[\"default\"].t('Comments')), assessment.comments_html ? /*#__PURE__*/react__WEBPACK_IMPORTED_MODULE_1___default.a.createElement(\"div\", {\n      dangerouslySetInnerHTML: {\n        __html: assessment.comments_html\n      }\n    }) : /*#__PURE__*/react__WEBPACK_IMPORTED_MODULE_1___default.a.createElement(\"div\", null, assessment.comments));\n  } else {\n    return null;\n  }\n};\n\nconst CommentText = ({\n  assessment,\n  placeholder,\n  weight\n}) => /*#__PURE__*/react__WEBPACK_IMPORTED_MODULE_1___default.a.createElement(\"span\", {\n  className: \"react-rubric-break-words\"\n}, /*#__PURE__*/react__WEBPACK_IMPORTED_MODULE_1___default.a.createElement(_instructure_ui_text__WEBPACK_IMPORTED_MODULE_4__[\"Text\"], {\n  size: \"x-small\",\n  weight: weight\n}, assessment !== null ? commentElement(assessment) : placeholder));\nCommentText.propTypes = {\n  assessment: prop_types__WEBPACK_IMPORTED_MODULE_2___default.a.shape(_types__WEBPACK_IMPORTED_MODULE_9__[\"assessmentShape\"]),\n  placeholder: prop_types__WEBPACK_IMPORTED_MODULE_2___default.a.string,\n  weight: prop_types__WEBPACK_IMPORTED_MODULE_2___default.a.string.isRequired\n};\nCommentText.defaultProps = {\n  assessment: null,\n  placeholder: ''\n};\n\nconst Comments = props => {\n  const editing = props.editing,\n        assessment = props.assessment,\n        footer = props.footer,\n        commentProps = Object(_babel_runtime_helpers_esm_objectWithoutProperties__WEBPACK_IMPORTED_MODULE_0__[\"default\"])(props, _excluded);\n\n  if (!editing || assessment === null) {\n    return /*#__PURE__*/react__WEBPACK_IMPORTED_MODULE_1___default.a.createElement(\"div\", {\n      className: \"rubric-freeform\"\n    }, /*#__PURE__*/react__WEBPACK_IMPORTED_MODULE_1___default.a.createElement(CommentText, {\n      assessment: assessment,\n      placeholder: i18n_edit_rubricComments__WEBPACK_IMPORTED_MODULE_8__[\"default\"].t('This area will be used by the assessor to leave comments related to this criterion.'),\n      weight: \"normal\"\n    }), footer);\n  } else {\n    return /*#__PURE__*/react__WEBPACK_IMPORTED_MODULE_1___default.a.createElement(FreeFormComments, Object.assign({\n      comments: assessment.comments,\n      saveLater: assessment.saveCommentsForLater\n    }, commentProps));\n  }\n};\n\nComments.propTypes = {\n  allowSaving: prop_types__WEBPACK_IMPORTED_MODULE_2___default.a.bool,\n  editing: prop_types__WEBPACK_IMPORTED_MODULE_2___default.a.bool.isRequired,\n  assessment: prop_types__WEBPACK_IMPORTED_MODULE_2___default.a.shape(_types__WEBPACK_IMPORTED_MODULE_9__[\"assessmentShape\"]),\n  footer: prop_types__WEBPACK_IMPORTED_MODULE_2___default.a.node,\n  large: prop_types__WEBPACK_IMPORTED_MODULE_2___default.a.bool,\n  savedComments: prop_types__WEBPACK_IMPORTED_MODULE_2___default.a.arrayOf(prop_types__WEBPACK_IMPORTED_MODULE_2___default.a.string).isRequired,\n  setComments: prop_types__WEBPACK_IMPORTED_MODULE_2___default.a.func.isRequired,\n  setSaveLater: prop_types__WEBPACK_IMPORTED_MODULE_2___default.a.func.isRequired\n};\nComments.defaultProps = {\n  allowSaving: true,\n  footer: null,\n  large: true\n};\n/* harmony default export */ __webpack_exports__[\"default\"] = (Comments);\n\n//# sourceURL=webpack:///./ui/shared/rubrics/react/Comments.js?");

/***/ }),

/***/ "D2PC":
/*!*****************************************************************************************!*\
  !*** ./frontend_build/i18n.js?edit_rubricCommentButton!./ui/shims/dummyI18nResource.js ***!
  \*****************************************************************************************/
/*! exports provided: default */
/***/ (function(module, __webpack_exports__, __webpack_require__) {

"use strict";
eval("__webpack_require__.r(__webpack_exports__);\n/* harmony import */ var _canvas_i18n_i18nObj__WEBPACK_IMPORTED_MODULE_0__ = __webpack_require__(/*! @canvas/i18n/i18nObj */ \"HGxv\");\n/* harmony import */ var translations_core_en__WEBPACK_IMPORTED_MODULE_1__ = __webpack_require__(/*! translations/_core_en */ \"0sPK\");\n\n    \n    \n    \n\n    /* harmony default export */ __webpack_exports__[\"default\"] = (_canvas_i18n_i18nObj__WEBPACK_IMPORTED_MODULE_0__[\"default\"].scoped('edit_rubricCommentButton'));\n  \n\n//# sourceURL=webpack:///./ui/shims/dummyI18nResource.js?./frontend_build/i18n.js?edit_rubricCommentButton");

/***/ }),

/***/ "VCL8":
/*!****************************************************************************!*\
  !*** ./node_modules/react-lifecycles-compat/react-lifecycles-compat.es.js ***!
  \****************************************************************************/
/*! exports provided: polyfill */
/***/ (function(module, __webpack_exports__, __webpack_require__) {

"use strict";
eval("__webpack_require__.r(__webpack_exports__);\n/* harmony export (binding) */ __webpack_require__.d(__webpack_exports__, \"polyfill\", function() { return polyfill; });\n/**\n * Copyright (c) 2013-present, Facebook, Inc.\n *\n * This source code is licensed under the MIT license found in the\n * LICENSE file in the root directory of this source tree.\n */\n\nfunction componentWillMount() {\n  // Call this.constructor.gDSFP to support sub-classes.\n  var state = this.constructor.getDerivedStateFromProps(this.props, this.state);\n  if (state !== null && state !== undefined) {\n    this.setState(state);\n  }\n}\n\nfunction componentWillReceiveProps(nextProps) {\n  // Call this.constructor.gDSFP to support sub-classes.\n  // Use the setState() updater to ensure state isn't stale in certain edge cases.\n  function updater(prevState) {\n    var state = this.constructor.getDerivedStateFromProps(nextProps, prevState);\n    return state !== null && state !== undefined ? state : null;\n  }\n  // Binding \"this\" is important for shallow renderer support.\n  this.setState(updater.bind(this));\n}\n\nfunction componentWillUpdate(nextProps, nextState) {\n  try {\n    var prevProps = this.props;\n    var prevState = this.state;\n    this.props = nextProps;\n    this.state = nextState;\n    this.__reactInternalSnapshotFlag = true;\n    this.__reactInternalSnapshot = this.getSnapshotBeforeUpdate(\n      prevProps,\n      prevState\n    );\n  } finally {\n    this.props = prevProps;\n    this.state = prevState;\n  }\n}\n\n// React may warn about cWM/cWRP/cWU methods being deprecated.\n// Add a flag to suppress these warnings for this special case.\ncomponentWillMount.__suppressDeprecationWarning = true;\ncomponentWillReceiveProps.__suppressDeprecationWarning = true;\ncomponentWillUpdate.__suppressDeprecationWarning = true;\n\nfunction polyfill(Component) {\n  var prototype = Component.prototype;\n\n  if (!prototype || !prototype.isReactComponent) {\n    throw new Error('Can only polyfill class components');\n  }\n\n  if (\n    typeof Component.getDerivedStateFromProps !== 'function' &&\n    typeof prototype.getSnapshotBeforeUpdate !== 'function'\n  ) {\n    return Component;\n  }\n\n  // If new component APIs are defined, \"unsafe\" lifecycles won't be called.\n  // Error if any of these lifecycles are present,\n  // Because they would work differently between older and newer (16.3+) versions of React.\n  var foundWillMountName = null;\n  var foundWillReceivePropsName = null;\n  var foundWillUpdateName = null;\n  if (typeof prototype.componentWillMount === 'function') {\n    foundWillMountName = 'componentWillMount';\n  } else if (typeof prototype.UNSAFE_componentWillMount === 'function') {\n    foundWillMountName = 'UNSAFE_componentWillMount';\n  }\n  if (typeof prototype.componentWillReceiveProps === 'function') {\n    foundWillReceivePropsName = 'componentWillReceiveProps';\n  } else if (typeof prototype.UNSAFE_componentWillReceiveProps === 'function') {\n    foundWillReceivePropsName = 'UNSAFE_componentWillReceiveProps';\n  }\n  if (typeof prototype.componentWillUpdate === 'function') {\n    foundWillUpdateName = 'componentWillUpdate';\n  } else if (typeof prototype.UNSAFE_componentWillUpdate === 'function') {\n    foundWillUpdateName = 'UNSAFE_componentWillUpdate';\n  }\n  if (\n    foundWillMountName !== null ||\n    foundWillReceivePropsName !== null ||\n    foundWillUpdateName !== null\n  ) {\n    var componentName = Component.displayName || Component.name;\n    var newApiName =\n      typeof Component.getDerivedStateFromProps === 'function'\n        ? 'getDerivedStateFromProps()'\n        : 'getSnapshotBeforeUpdate()';\n\n    throw Error(\n      'Unsafe legacy lifecycles will not be called for components using new component APIs.\\n\\n' +\n        componentName +\n        ' uses ' +\n        newApiName +\n        ' but also contains the following legacy lifecycles:' +\n        (foundWillMountName !== null ? '\\n  ' + foundWillMountName : '') +\n        (foundWillReceivePropsName !== null\n          ? '\\n  ' + foundWillReceivePropsName\n          : '') +\n        (foundWillUpdateName !== null ? '\\n  ' + foundWillUpdateName : '') +\n        '\\n\\nThe above lifecycles should be removed. Learn more about this warning here:\\n' +\n        'https://fb.me/react-async-component-lifecycle-hooks'\n    );\n  }\n\n  // React <= 16.2 does not support static getDerivedStateFromProps.\n  // As a workaround, use cWM and cWRP to invoke the new static lifecycle.\n  // Newer versions of React will ignore these lifecycles if gDSFP exists.\n  if (typeof Component.getDerivedStateFromProps === 'function') {\n    prototype.componentWillMount = componentWillMount;\n    prototype.componentWillReceiveProps = componentWillReceiveProps;\n  }\n\n  // React <= 16.2 does not support getSnapshotBeforeUpdate.\n  // As a workaround, use cWU to invoke the new lifecycle.\n  // Newer versions of React will ignore that lifecycle if gSBU exists.\n  if (typeof prototype.getSnapshotBeforeUpdate === 'function') {\n    if (typeof prototype.componentDidUpdate !== 'function') {\n      throw new Error(\n        'Cannot polyfill getSnapshotBeforeUpdate() for components that do not define componentDidUpdate() on the prototype'\n      );\n    }\n\n    prototype.componentWillUpdate = componentWillUpdate;\n\n    var componentDidUpdate = prototype.componentDidUpdate;\n\n    prototype.componentDidUpdate = function componentDidUpdatePolyfill(\n      prevProps,\n      prevState,\n      maybeSnapshot\n    ) {\n      // 16.3+ will not execute our will-update method;\n      // It will pass a snapshot value to did-update though.\n      // Older versions will require our polyfilled will-update value.\n      // We need to handle both cases, but can't just check for the presence of \"maybeSnapshot\",\n      // Because for <= 15.x versions this might be a \"prevContext\" object.\n      // We also can't just check \"__reactInternalSnapshot\",\n      // Because get-snapshot might return a falsy value.\n      // So check for the explicit __reactInternalSnapshotFlag flag to determine behavior.\n      var snapshot = this.__reactInternalSnapshotFlag\n        ? this.__reactInternalSnapshot\n        : maybeSnapshot;\n\n      componentDidUpdate.call(this, prevProps, prevState, snapshot);\n    };\n  }\n\n  return Component;\n}\n\n\n\n\n//# sourceURL=webpack:///./node_modules/react-lifecycles-compat/react-lifecycles-compat.es.js?");

/***/ }),

/***/ "VQ0T":
/*!*************************************************************************************!*\
  !*** ./frontend_build/i18n.js?edit_rubricCriterion!./ui/shims/dummyI18nResource.js ***!
  \*************************************************************************************/
/*! exports provided: default */
/***/ (function(module, __webpack_exports__, __webpack_require__) {

"use strict";
eval("__webpack_require__.r(__webpack_exports__);\n/* harmony import */ var _canvas_i18n_i18nObj__WEBPACK_IMPORTED_MODULE_0__ = __webpack_require__(/*! @canvas/i18n/i18nObj */ \"HGxv\");\n/* harmony import */ var translations_core_en__WEBPACK_IMPORTED_MODULE_1__ = __webpack_require__(/*! translations/_core_en */ \"0sPK\");\n\n    \n    \n    \n\n    /* harmony default export */ __webpack_exports__[\"default\"] = (_canvas_i18n_i18nObj__WEBPACK_IMPORTED_MODULE_0__[\"default\"].scoped('edit_rubricCriterion'));\n  \n\n//# sourceURL=webpack:///./ui/shims/dummyI18nResource.js?./frontend_build/i18n.js?edit_rubricCriterion");

/***/ }),

/***/ "W/pm":
/*!**********************************************************************************!*\
  !*** ./frontend_build/i18n.js?edit_rubricPoints!./ui/shims/dummyI18nResource.js ***!
  \**********************************************************************************/
/*! exports provided: default */
/***/ (function(module, __webpack_exports__, __webpack_require__) {

"use strict";
eval("__webpack_require__.r(__webpack_exports__);\n/* harmony import */ var _canvas_i18n_i18nObj__WEBPACK_IMPORTED_MODULE_0__ = __webpack_require__(/*! @canvas/i18n/i18nObj */ \"HGxv\");\n/* harmony import */ var translations_core_en__WEBPACK_IMPORTED_MODULE_1__ = __webpack_require__(/*! translations/_core_en */ \"0sPK\");\n\n    \n    \n    \n\n    /* harmony default export */ __webpack_exports__[\"default\"] = (_canvas_i18n_i18nObj__WEBPACK_IMPORTED_MODULE_0__[\"default\"].scoped('edit_rubricPoints'));\n  \n\n//# sourceURL=webpack:///./ui/shims/dummyI18nResource.js?./frontend_build/i18n.js?edit_rubricPoints");

/***/ }),

/***/ "ZlG4":
/*!**********************************************************************************!*\
  !*** ./frontend_build/i18n.js?edit_rubricRubric!./ui/shims/dummyI18nResource.js ***!
  \**********************************************************************************/
/*! exports provided: default */
/***/ (function(module, __webpack_exports__, __webpack_require__) {

"use strict";
eval("__webpack_require__.r(__webpack_exports__);\n/* harmony import */ var _canvas_i18n_i18nObj__WEBPACK_IMPORTED_MODULE_0__ = __webpack_require__(/*! @canvas/i18n/i18nObj */ \"HGxv\");\n/* harmony import */ var translations_core_en__WEBPACK_IMPORTED_MODULE_1__ = __webpack_require__(/*! translations/_core_en */ \"0sPK\");\n\n    \n    \n    \n\n    /* harmony default export */ __webpack_exports__[\"default\"] = (_canvas_i18n_i18nObj__WEBPACK_IMPORTED_MODULE_0__[\"default\"].scoped('edit_rubricRubric'));\n  \n\n//# sourceURL=webpack:///./ui/shims/dummyI18nResource.js?./frontend_build/i18n.js?edit_rubricRubric");

/***/ }),

/***/ "aLXX":
/*!********************************************!*\
  !*** ./ui/shared/rubrics/react/helpers.js ***!
  \********************************************/
/*! exports provided: defaultCriteria, fillAssessment, getSavedComments, updateAssociationData */
/***/ (function(module, __webpack_exports__, __webpack_require__) {

"use strict";
eval("__webpack_require__.r(__webpack_exports__);\n/* harmony export (binding) */ __webpack_require__.d(__webpack_exports__, \"defaultCriteria\", function() { return defaultCriteria; });\n/* harmony export (binding) */ __webpack_require__.d(__webpack_exports__, \"fillAssessment\", function() { return fillAssessment; });\n/* harmony export (binding) */ __webpack_require__.d(__webpack_exports__, \"getSavedComments\", function() { return getSavedComments; });\n/* harmony export (binding) */ __webpack_require__.d(__webpack_exports__, \"updateAssociationData\", function() { return updateAssociationData; });\n/* harmony import */ var _babel_runtime_helpers_esm_objectSpread2__WEBPACK_IMPORTED_MODULE_0__ = __webpack_require__(/*! @babel/runtime/helpers/esm/objectSpread2 */ \"VTBJ\");\n/* harmony import */ var lodash__WEBPACK_IMPORTED_MODULE_1__ = __webpack_require__(/*! lodash */ \"LvDl\");\n/* harmony import */ var lodash__WEBPACK_IMPORTED_MODULE_1___default = /*#__PURE__*/__webpack_require__.n(lodash__WEBPACK_IMPORTED_MODULE_1__);\n\n\n/*\n * Copyright (C) 2018 - present Instructure, Inc.\n *\n * This file is part of Canvas.\n *\n * Canvas is free software: you can redistribute it and/or modify it under\n * the terms of the GNU Affero General Public License as published by the Free\n * Software Foundation, version 3 of the License.\n *\n * Canvas is distributed in the hope that it will be useful, but WITHOUT ANY\n * WARRANTY; without even the implied warranty of MERCHANTABILITY or FITNESS FOR\n * A PARTICULAR PURPOSE. See the GNU Affero General Public License for more\n * details.\n *\n * You should have received a copy of the GNU Affero General Public License along\n * with this program. If not, see <http://www.gnu.org/licenses/>.\n */\n\nconst defaultCriteria = id => ({\n  criterion_id: id,\n  points: {\n    text: '',\n    valid: true\n  }\n});\n\nconst fillCriteria = criterion => {\n  const comments = criterion.comments,\n        points = criterion.points;\n  const hasPoints = !lodash__WEBPACK_IMPORTED_MODULE_1___default.a.isNil(points);\n  const hasComments = !lodash__WEBPACK_IMPORTED_MODULE_1___default.a.isNil(comments) && comments.length > 0;\n  return Object(_babel_runtime_helpers_esm_objectSpread2__WEBPACK_IMPORTED_MODULE_0__[\"default\"])(Object(_babel_runtime_helpers_esm_objectSpread2__WEBPACK_IMPORTED_MODULE_0__[\"default\"])({}, criterion), {}, {\n    points: {\n      text: hasPoints ? null : '--',\n      valid: hasPoints,\n      value: points\n    },\n    editComments: hasComments\n  });\n};\n\nconst fillAssessment = (rubric, partialAssessment, assessmentDefaults) => {\n  const prior = lodash__WEBPACK_IMPORTED_MODULE_1___default.a.keyBy(lodash__WEBPACK_IMPORTED_MODULE_1___default.a.cloneDeep(partialAssessment.data), c => c.criterion_id);\n\n  return Object(_babel_runtime_helpers_esm_objectSpread2__WEBPACK_IMPORTED_MODULE_0__[\"default\"])(Object(_babel_runtime_helpers_esm_objectSpread2__WEBPACK_IMPORTED_MODULE_0__[\"default\"])(Object(_babel_runtime_helpers_esm_objectSpread2__WEBPACK_IMPORTED_MODULE_0__[\"default\"])({\n    score: 0\n  }, assessmentDefaults), partialAssessment), {}, {\n    data: rubric.criteria.map(c => lodash__WEBPACK_IMPORTED_MODULE_1___default.a.has(prior, c.id) ? fillCriteria(prior[c.id]) : defaultCriteria(c.id))\n  });\n};\n\nconst savedCommentPath = id => ['summary_data', 'saved_comments', id];\n\nconst getSavedComments = (association, id) => lodash__WEBPACK_IMPORTED_MODULE_1___default.a.get(association, savedCommentPath(id), void 0);\nconst updateAssociationData = (association, assessment) => {\n  assessment.data.filter(({\n    saveCommentsForLater\n  }) => saveCommentsForLater).forEach(({\n    criterion_id: id,\n    comments\n  }) => {\n    const prior = getSavedComments(association, id) || [];\n\n    lodash__WEBPACK_IMPORTED_MODULE_1___default.a.set(association, savedCommentPath(id), lodash__WEBPACK_IMPORTED_MODULE_1___default.a.uniq([...prior, comments]));\n  });\n};\n\n//# sourceURL=webpack:///./ui/shared/rubrics/react/helpers.js?");

/***/ }),

/***/ "kv/t":
/*!*******************************************!*\
  !*** ./ui/shared/rubrics/react/Rubric.js ***!
  \*******************************************/
/*! exports provided: default */
/***/ (function(module, __webpack_exports__, __webpack_require__) {

"use strict";
eval("__webpack_require__.r(__webpack_exports__);\n/* harmony import */ var _babel_runtime_helpers_esm_objectSpread2__WEBPACK_IMPORTED_MODULE_0__ = __webpack_require__(/*! @babel/runtime/helpers/esm/objectSpread2 */ \"VTBJ\");\n/* harmony import */ var _babel_runtime_helpers_esm_slicedToArray__WEBPACK_IMPORTED_MODULE_1__ = __webpack_require__(/*! @babel/runtime/helpers/esm/slicedToArray */ \"ODXe\");\n/* harmony import */ var _instructure_ui_flex__WEBPACK_IMPORTED_MODULE_2__ = __webpack_require__(/*! @instructure/ui-flex */ \"N46v\");\n/* harmony import */ var _instructure_ui_table__WEBPACK_IMPORTED_MODULE_3__ = __webpack_require__(/*! @instructure/ui-table */ \"+DUA\");\n/* harmony import */ var i18n_edit_rubricRubric__WEBPACK_IMPORTED_MODULE_4__ = __webpack_require__(/*! i18n!edit_rubricRubric */ \"ZlG4\");\n/* harmony import */ var lodash__WEBPACK_IMPORTED_MODULE_5__ = __webpack_require__(/*! lodash */ \"LvDl\");\n/* harmony import */ var lodash__WEBPACK_IMPORTED_MODULE_5___default = /*#__PURE__*/__webpack_require__.n(lodash__WEBPACK_IMPORTED_MODULE_5__);\n/* harmony import */ var prop_types__WEBPACK_IMPORTED_MODULE_6__ = __webpack_require__(/*! prop-types */ \"17x9\");\n/* harmony import */ var prop_types__WEBPACK_IMPORTED_MODULE_6___default = /*#__PURE__*/__webpack_require__.n(prop_types__WEBPACK_IMPORTED_MODULE_6__);\n/* harmony import */ var react__WEBPACK_IMPORTED_MODULE_7__ = __webpack_require__(/*! react */ \"q1tI\");\n/* harmony import */ var react__WEBPACK_IMPORTED_MODULE_7___default = /*#__PURE__*/__webpack_require__.n(react__WEBPACK_IMPORTED_MODULE_7__);\n/* harmony import */ var _Criterion__WEBPACK_IMPORTED_MODULE_8__ = __webpack_require__(/*! ./Criterion */ \"tqBd\");\n/* harmony import */ var _helpers__WEBPACK_IMPORTED_MODULE_9__ = __webpack_require__(/*! ./helpers */ \"aLXX\");\n/* harmony import */ var _Points__WEBPACK_IMPORTED_MODULE_10__ = __webpack_require__(/*! ./Points */ \"w7AT\");\n/* harmony import */ var _types__WEBPACK_IMPORTED_MODULE_11__ = __webpack_require__(/*! ./types */ \"fHU0\");\n\n\n\n/*\n * Copyright (C) 2018 - present Instructure, Inc.\n *\n * This file is part of Canvas.\n *\n * Canvas is free software: you can redistribute it and/or modify it under\n * the terms of the GNU Affero General Public License as published by the Free\n * Software Foundation, version 3 of the License.\n *\n * Canvas is distributed in the hope that it will be useful, but WITHOUT ANY\n * WARRANTY; without even the implied warranty of MERCHANTABILITY or FITNESS FOR\n * A PARTICULAR PURPOSE. See the GNU Affero General Public License for more\n * details.\n *\n * You should have received a copy of the GNU Affero General Public License along\n * with this program. If not, see <http://www.gnu.org/licenses/>.\n */\n\n\n\n\n\n\n\n\n\n // be a little responsive about minimum widths of columns in the rubric table\n\nconst MIN_WIDTH_PERCENT = 20;\nconst MIN_WIDTH_PIXELS = 95;\n\nconst totalString = score => i18n_edit_rubricRubric__WEBPACK_IMPORTED_MODULE_4__[\"default\"].t('Total Points: %{total}', {\n  total: i18n_edit_rubricRubric__WEBPACK_IMPORTED_MODULE_4__[\"default\"].toNumber(score, {\n    precision: 2,\n    strip_insignificant_zeros: true\n  })\n});\n\nconst totalAssessingString = (score, possible) => i18n_edit_rubricRubric__WEBPACK_IMPORTED_MODULE_4__[\"default\"].t('Total Points: %{total} out of %{possible}', {\n  total: Object(_Points__WEBPACK_IMPORTED_MODULE_10__[\"roundIfWhole\"])(score),\n  possible: i18n_edit_rubricRubric__WEBPACK_IMPORTED_MODULE_4__[\"default\"].toNumber(possible, {\n    precision: 2,\n    strip_insignificant_zeros: true\n  })\n}); // This is a gross hack to make sure the first row in the table is of the eventual columns\n// that we want to render, so that they will autosize properly. If we don't do this, then\n// what would otherwise be the first row spans all the columns, and that screws up the\n// width computations of the entire rest of the table, for a reason I don't understand.\n\n\nconst HiddenTableRow = ({\n  children\n}) => /*#__PURE__*/react__WEBPACK_IMPORTED_MODULE_7___default.a.createElement(\"tr\", {\n  style: {\n    visibility: 'collapse'\n  }\n}, children);\n\nHiddenTableRow.displayName = 'Row';\n\nconst Rubric = props => {\n  const allowExtraCredit = props.allowExtraCredit,\n        customRatings = props.customRatings,\n        onAssessmentChange = props.onAssessmentChange,\n        rubric = props.rubric,\n        rubricAssessment = props.rubricAssessment,\n        rubricAssociation = props.rubricAssociation,\n        isSummary = props.isSummary,\n        flexWidth = props.flexWidth;\n  const tableRef = Object(react__WEBPACK_IMPORTED_MODULE_7__[\"useRef\"])();\n\n  const _useState = Object(react__WEBPACK_IMPORTED_MODULE_7__[\"useState\"])(void 0),\n        _useState2 = Object(_babel_runtime_helpers_esm_slicedToArray__WEBPACK_IMPORTED_MODULE_1__[\"default\"])(_useState, 2),\n        narrowColWidths = _useState2[0],\n        setNarrowColWidths = _useState2[1];\n\n  const peerReview = Object(lodash__WEBPACK_IMPORTED_MODULE_5__[\"get\"])(rubricAssessment, 'assessment_type') === 'peer_review';\n  const assessing = onAssessmentChange !== null;\n  const priorData = Object(lodash__WEBPACK_IMPORTED_MODULE_5__[\"get\"])(rubricAssessment, 'data', []);\n  const byCriteria = Object(lodash__WEBPACK_IMPORTED_MODULE_5__[\"keyBy\"])(priorData, ra => ra.criterion_id);\n  const criteriaById = Object(lodash__WEBPACK_IMPORTED_MODULE_5__[\"keyBy\"])(rubric.criteria, c => c.id);\n  const hidePoints = Object(lodash__WEBPACK_IMPORTED_MODULE_5__[\"get\"])(rubricAssociation, 'hide_points', false);\n  const freeForm = rubric.free_form_criterion_comments;\n\n  const onCriteriaChange = id => update => {\n    const data = priorData.map(prior => prior.criterion_id === id ? Object(_babel_runtime_helpers_esm_objectSpread2__WEBPACK_IMPORTED_MODULE_0__[\"default\"])(Object(_babel_runtime_helpers_esm_objectSpread2__WEBPACK_IMPORTED_MODULE_0__[\"default\"])({}, prior), update) : prior);\n\n    const ignore = c => Object(lodash__WEBPACK_IMPORTED_MODULE_5__[\"isUndefined\"])(c) ? true : c.ignore_for_scoring;\n\n    const points = data.filter(result => !ignore(criteriaById[result.criterion_id])).map(result => Object(lodash__WEBPACK_IMPORTED_MODULE_5__[\"get\"])(result, 'points.value', 0));\n    onAssessmentChange(Object(_babel_runtime_helpers_esm_objectSpread2__WEBPACK_IMPORTED_MODULE_0__[\"default\"])(Object(_babel_runtime_helpers_esm_objectSpread2__WEBPACK_IMPORTED_MODULE_0__[\"default\"])({}, rubricAssessment), {}, {\n      data,\n      score: Object(lodash__WEBPACK_IMPORTED_MODULE_5__[\"sum\"])(points)\n    }));\n  }; // we show the last column for points or comments button\n\n\n  const showPointsColumn = () => {\n    if (isSummary) {\n      return false;\n    }\n\n    if (!hidePoints) {\n      return true;\n    }\n\n    if (assessing && !freeForm) {\n      return true;\n    } // comments button\n\n\n    return false;\n  };\n\n  const criteria = rubric.criteria.map(criterion => {\n    const assessment = byCriteria[criterion.id];\n    return /*#__PURE__*/react__WEBPACK_IMPORTED_MODULE_7___default.a.createElement(_Criterion__WEBPACK_IMPORTED_MODULE_8__[\"default\"], {\n      allowExtraCredit: allowExtraCredit,\n      allowSavedComments: !peerReview,\n      key: criterion.id,\n      assessment: assessment,\n      criterion: criterion,\n      customRatings: customRatings,\n      freeForm: freeForm,\n      isSummary: isSummary,\n      onAssessmentChange: assessing ? onCriteriaChange(criterion.id) : void 0,\n      savedComments: Object(_helpers__WEBPACK_IMPORTED_MODULE_9__[\"getSavedComments\"])(rubricAssociation, criterion.id),\n      hidePoints: hidePoints,\n      hasPointsColumn: showPointsColumn()\n    });\n  });\n  const possible = rubric.points_possible;\n  const points = Object(lodash__WEBPACK_IMPORTED_MODULE_5__[\"get\"])(rubricAssessment, 'score', possible);\n  const total = assessing ? totalAssessingString(points, possible) : totalString(points);\n  const hideScoreTotal = Object(lodash__WEBPACK_IMPORTED_MODULE_5__[\"get\"])(rubricAssociation, 'hide_score_total') === true;\n  const noScore = Object(lodash__WEBPACK_IMPORTED_MODULE_5__[\"get\"])(rubricAssociation, 'score') === null;\n  const showTotalPoints = !hidePoints && !hideScoreTotal;\n  const maxRatings = Object(lodash__WEBPACK_IMPORTED_MODULE_5__[\"max\"])(rubric.criteria.map(c => c.ratings.length));\n\n  const minSize = () => {\n    if (isSummary || flexWidth) return {};else {\n      const ratingCorrection = freeForm ? 15 : 7.5 * maxRatings;\n      return {\n        minWidth: `${15 + ratingCorrection}rem`\n      };\n    }\n  };\n\n  const headingCells = [/*#__PURE__*/react__WEBPACK_IMPORTED_MODULE_7___default.a.createElement(_instructure_ui_table__WEBPACK_IMPORTED_MODULE_3__[\"Table\"].ColHeader, {\n    id: \"table-heading-criteria\",\n    key: \"TableHeadingCriteria\",\n    width: narrowColWidths\n  }, i18n_edit_rubricRubric__WEBPACK_IMPORTED_MODULE_4__[\"default\"].t('Criteria')), /*#__PURE__*/react__WEBPACK_IMPORTED_MODULE_7___default.a.createElement(_instructure_ui_table__WEBPACK_IMPORTED_MODULE_3__[\"Table\"].ColHeader, {\n    id: \"table-heading-ratings\",\n    key: \"TableHeadingRatings\"\n  }, i18n_edit_rubricRubric__WEBPACK_IMPORTED_MODULE_4__[\"default\"].t('Ratings')), showPointsColumn() ? /*#__PURE__*/react__WEBPACK_IMPORTED_MODULE_7___default.a.createElement(_instructure_ui_table__WEBPACK_IMPORTED_MODULE_3__[\"Table\"].ColHeader, {\n    id: \"table-heading-points\",\n    key: \"TableHeadingPoints\",\n    width: narrowColWidths\n  }, i18n_edit_rubricRubric__WEBPACK_IMPORTED_MODULE_4__[\"default\"].t('Pts')) : null];\n  const numColumns = 2 + (showPointsColumn() ? 1 : 0); // Try to be a little responsive about the column widths so the Criteria column\n  // looks reasonable at all times at the expense of other columns. We want to use\n  // the ResizeObserver for this, which isn't 100% supported by Canvas browsers quite\n  // yet; if it's not available, just give up and things might not look amazing when\n  // the Rubric table is too narrow.\n\n  Object(react__WEBPACK_IMPORTED_MODULE_7__[\"useEffect\"])(() => {\n    const table = tableRef.current;\n\n    function resizer(entries) {\n      const width = entries[0].contentRect.width;\n      if (width === 0) return; // we're not visible or have been shrunk to nothing\n\n      setNarrowColWidths(width * MIN_WIDTH_PERCENT / 100 > MIN_WIDTH_PIXELS ? `${MIN_WIDTH_PERCENT}%` : `${MIN_WIDTH_PIXELS}px`);\n    }\n\n    if (!table || !window.ResizeObserver) return;\n    const obs = new window.ResizeObserver(resizer);\n    obs.observe(table);\n    return () => {\n      obs.unobserve(table);\n    };\n  }, []);\n  return /*#__PURE__*/react__WEBPACK_IMPORTED_MODULE_7___default.a.createElement(\"div\", {\n    ref: tableRef,\n    className: \"react-rubric\",\n    style: minSize()\n  }, /*#__PURE__*/react__WEBPACK_IMPORTED_MODULE_7___default.a.createElement(_instructure_ui_table__WEBPACK_IMPORTED_MODULE_3__[\"Table\"], {\n    caption: rubric.title\n  }, /*#__PURE__*/react__WEBPACK_IMPORTED_MODULE_7___default.a.createElement(_instructure_ui_table__WEBPACK_IMPORTED_MODULE_3__[\"Table\"].Head, null, /*#__PURE__*/react__WEBPACK_IMPORTED_MODULE_7___default.a.createElement(HiddenTableRow, null, headingCells), /*#__PURE__*/react__WEBPACK_IMPORTED_MODULE_7___default.a.createElement(_instructure_ui_table__WEBPACK_IMPORTED_MODULE_3__[\"Table\"].Row, null, /*#__PURE__*/react__WEBPACK_IMPORTED_MODULE_7___default.a.createElement(_instructure_ui_table__WEBPACK_IMPORTED_MODULE_3__[\"Table\"].ColHeader, {\n    id: \"rubric-title\",\n    colSpan: numColumns\n  }, rubric.title)), /*#__PURE__*/react__WEBPACK_IMPORTED_MODULE_7___default.a.createElement(_instructure_ui_table__WEBPACK_IMPORTED_MODULE_3__[\"Table\"].Row, null, headingCells)), /*#__PURE__*/react__WEBPACK_IMPORTED_MODULE_7___default.a.createElement(_instructure_ui_table__WEBPACK_IMPORTED_MODULE_3__[\"Table\"].Body, {\n    \"data-testid\": \"criterions\"\n  }, criteria, showTotalPoints && /*#__PURE__*/react__WEBPACK_IMPORTED_MODULE_7___default.a.createElement(_instructure_ui_table__WEBPACK_IMPORTED_MODULE_3__[\"Table\"].Row, null, /*#__PURE__*/react__WEBPACK_IMPORTED_MODULE_7___default.a.createElement(_instructure_ui_table__WEBPACK_IMPORTED_MODULE_3__[\"Table\"].Cell, {\n    colSpan: numColumns\n  }, /*#__PURE__*/react__WEBPACK_IMPORTED_MODULE_7___default.a.createElement(_instructure_ui_flex__WEBPACK_IMPORTED_MODULE_2__[\"Flex\"], {\n    justifyItems: \"end\"\n  }, /*#__PURE__*/react__WEBPACK_IMPORTED_MODULE_7___default.a.createElement(_instructure_ui_flex__WEBPACK_IMPORTED_MODULE_2__[\"Flex\"].Item, {\n    \"data-selenium\": \"rubric_total\"\n  }, hideScoreTotal || noScore ? null : total)))))));\n};\n\nRubric.propTypes = {\n  allowExtraCredit: prop_types__WEBPACK_IMPORTED_MODULE_6___default.a.bool,\n  customRatings: prop_types__WEBPACK_IMPORTED_MODULE_6___default.a.arrayOf(prop_types__WEBPACK_IMPORTED_MODULE_6___default.a.object),\n  onAssessmentChange: prop_types__WEBPACK_IMPORTED_MODULE_6___default.a.func,\n  rubric: prop_types__WEBPACK_IMPORTED_MODULE_6___default.a.shape(_types__WEBPACK_IMPORTED_MODULE_11__[\"rubricShape\"]).isRequired,\n  rubricAssessment: props => {\n    const shape = prop_types__WEBPACK_IMPORTED_MODULE_6___default.a.shape(_types__WEBPACK_IMPORTED_MODULE_11__[\"rubricAssessmentShape\"]);\n    const rubricAssessment = props.onAssessmentChange ? shape.isRequired : shape;\n    return prop_types__WEBPACK_IMPORTED_MODULE_6___default.a.checkPropTypes({\n      rubricAssessment\n    }, props, 'prop', 'Rubric');\n  },\n  rubricAssociation: prop_types__WEBPACK_IMPORTED_MODULE_6___default.a.shape(_types__WEBPACK_IMPORTED_MODULE_11__[\"rubricAssociationShape\"]),\n  isSummary: prop_types__WEBPACK_IMPORTED_MODULE_6___default.a.bool,\n  flexWidth: prop_types__WEBPACK_IMPORTED_MODULE_6___default.a.bool\n};\nRubric.defaultProps = {\n  allowExtraCredit: false,\n  customRatings: [],\n  onAssessmentChange: null,\n  rubricAssessment: null,\n  rubricAssociation: {},\n  isSummary: false,\n  flexWidth: false\n};\n/* harmony default export */ __webpack_exports__[\"default\"] = (Rubric);\n\n//# sourceURL=webpack:///./ui/shared/rubrics/react/Rubric.js?");

/***/ }),

/***/ "tVBT":
/*!**************************************************!*\
  !*** ./ui/shared/rubrics/react/CommentButton.js ***!
  \**************************************************/
/*! exports provided: default */
/***/ (function(module, __webpack_exports__, __webpack_require__) {

"use strict";
eval("__webpack_require__.r(__webpack_exports__);\n/* harmony import */ var react__WEBPACK_IMPORTED_MODULE_0__ = __webpack_require__(/*! react */ \"q1tI\");\n/* harmony import */ var react__WEBPACK_IMPORTED_MODULE_0___default = /*#__PURE__*/__webpack_require__.n(react__WEBPACK_IMPORTED_MODULE_0__);\n/* harmony import */ var prop_types__WEBPACK_IMPORTED_MODULE_1__ = __webpack_require__(/*! prop-types */ \"17x9\");\n/* harmony import */ var prop_types__WEBPACK_IMPORTED_MODULE_1___default = /*#__PURE__*/__webpack_require__.n(prop_types__WEBPACK_IMPORTED_MODULE_1__);\n/* harmony import */ var _instructure_ui_buttons__WEBPACK_IMPORTED_MODULE_2__ = __webpack_require__(/*! @instructure/ui-buttons */ \"K6WN\");\n/* harmony import */ var _instructure_ui_icons__WEBPACK_IMPORTED_MODULE_3__ = __webpack_require__(/*! @instructure/ui-icons */ \"oMAr\");\n/* harmony import */ var _instructure_ui_a11y_content__WEBPACK_IMPORTED_MODULE_4__ = __webpack_require__(/*! @instructure/ui-a11y-content */ \"9+/z\");\n/* harmony import */ var i18n_edit_rubricCommentButton__WEBPACK_IMPORTED_MODULE_5__ = __webpack_require__(/*! i18n!edit_rubricCommentButton */ \"D2PC\");\n/*\n * Copyright (C) 2018 - present Instructure, Inc.\n *\n * This file is part of Canvas.\n *\n * Canvas is free software: you can redistribute it and/or modify it under\n * the terms of the GNU Affero General Public License as published by the Free\n * Software Foundation, version 3 of the License.\n *\n * Canvas is distributed in the hope that it will be useful, but WITHOUT ANY\n * WARRANTY; without even the implied warranty of MERCHANTABILITY or FITNESS FOR\n * A PARTICULAR PURPOSE. See the GNU Affero General Public License for more\n * details.\n *\n * You should have received a copy of the GNU Affero General Public License along\n * with this program. If not, see <http://www.gnu.org/licenses/>.\n */\n\n\n\n\n\n\n\nconst CommentButton = ({\n  onClick\n}) => /*#__PURE__*/react__WEBPACK_IMPORTED_MODULE_0___default.a.createElement(\"div\", null, /*#__PURE__*/react__WEBPACK_IMPORTED_MODULE_0___default.a.createElement(_instructure_ui_buttons__WEBPACK_IMPORTED_MODULE_2__[\"Button\"], {\n  variant: \"icon\",\n  icon: /*#__PURE__*/react__WEBPACK_IMPORTED_MODULE_0___default.a.createElement(_instructure_ui_icons__WEBPACK_IMPORTED_MODULE_3__[\"IconFeedbackLine\"], null),\n  margin: \"0 x-small 0 0\",\n  onClick: onClick\n}, /*#__PURE__*/react__WEBPACK_IMPORTED_MODULE_0___default.a.createElement(_instructure_ui_a11y_content__WEBPACK_IMPORTED_MODULE_4__[\"ScreenReaderContent\"], null, i18n_edit_rubricCommentButton__WEBPACK_IMPORTED_MODULE_5__[\"default\"].t('Add Additional Comments'))));\n\nCommentButton.propTypes = {\n  onClick: prop_types__WEBPACK_IMPORTED_MODULE_1___default.a.func.isRequired\n};\n/* harmony default export */ __webpack_exports__[\"default\"] = (CommentButton);\n\n//# sourceURL=webpack:///./ui/shared/rubrics/react/CommentButton.js?");

/***/ }),

/***/ "tqBd":
/*!**********************************************!*\
  !*** ./ui/shared/rubrics/react/Criterion.js ***!
  \**********************************************/
/*! exports provided: default */
/***/ (function(module, __webpack_exports__, __webpack_require__) {

"use strict";
eval("__webpack_require__.r(__webpack_exports__);\n/* harmony export (binding) */ __webpack_require__.d(__webpack_exports__, \"default\", function() { return Criterion; });\n/* harmony import */ var react__WEBPACK_IMPORTED_MODULE_0__ = __webpack_require__(/*! react */ \"q1tI\");\n/* harmony import */ var react__WEBPACK_IMPORTED_MODULE_0___default = /*#__PURE__*/__webpack_require__.n(react__WEBPACK_IMPORTED_MODULE_0__);\n/* harmony import */ var prop_types__WEBPACK_IMPORTED_MODULE_1__ = __webpack_require__(/*! prop-types */ \"17x9\");\n/* harmony import */ var prop_types__WEBPACK_IMPORTED_MODULE_1___default = /*#__PURE__*/__webpack_require__.n(prop_types__WEBPACK_IMPORTED_MODULE_1__);\n/* harmony import */ var lodash__WEBPACK_IMPORTED_MODULE_2__ = __webpack_require__(/*! lodash */ \"LvDl\");\n/* harmony import */ var lodash__WEBPACK_IMPORTED_MODULE_2___default = /*#__PURE__*/__webpack_require__.n(lodash__WEBPACK_IMPORTED_MODULE_2__);\n/* harmony import */ var _instructure_ui_a11y_content__WEBPACK_IMPORTED_MODULE_3__ = __webpack_require__(/*! @instructure/ui-a11y-content */ \"9+/z\");\n/* harmony import */ var _instructure_ui_dialog__WEBPACK_IMPORTED_MODULE_4__ = __webpack_require__(/*! @instructure/ui-dialog */ \"vr99\");\n/* harmony import */ var _instructure_ui_buttons__WEBPACK_IMPORTED_MODULE_5__ = __webpack_require__(/*! @instructure/ui-buttons */ \"K6WN\");\n/* harmony import */ var _instructure_ui_text__WEBPACK_IMPORTED_MODULE_6__ = __webpack_require__(/*! @instructure/ui-text */ \"iE3e\");\n/* harmony import */ var _instructure_ui_heading__WEBPACK_IMPORTED_MODULE_7__ = __webpack_require__(/*! @instructure/ui-heading */ \"nwNI\");\n/* harmony import */ var _instructure_ui_table__WEBPACK_IMPORTED_MODULE_8__ = __webpack_require__(/*! @instructure/ui-table */ \"+DUA\");\n/* harmony import */ var _instructure_ui_icons__WEBPACK_IMPORTED_MODULE_9__ = __webpack_require__(/*! @instructure/ui-icons */ \"oMAr\");\n/* harmony import */ var _instructure_ui_modal__WEBPACK_IMPORTED_MODULE_10__ = __webpack_require__(/*! @instructure/ui-modal */ \"7I2A\");\n/* harmony import */ var i18n_edit_rubricCriterion__WEBPACK_IMPORTED_MODULE_11__ = __webpack_require__(/*! i18n!edit_rubricCriterion */ \"VQ0T\");\n/* harmony import */ var _canvas_i18n_numberHelper__WEBPACK_IMPORTED_MODULE_12__ = __webpack_require__(/*! @canvas/i18n/numberHelper */ \"FdVj\");\n/* harmony import */ var _types__WEBPACK_IMPORTED_MODULE_13__ = __webpack_require__(/*! ./types */ \"fHU0\");\n/* harmony import */ var _CommentButton__WEBPACK_IMPORTED_MODULE_14__ = __webpack_require__(/*! ./CommentButton */ \"tVBT\");\n/* harmony import */ var _Comments__WEBPACK_IMPORTED_MODULE_15__ = __webpack_require__(/*! ./Comments */ \"AS0N\");\n/* harmony import */ var _Points__WEBPACK_IMPORTED_MODULE_16__ = __webpack_require__(/*! ./Points */ \"w7AT\");\n/* harmony import */ var _Ratings__WEBPACK_IMPORTED_MODULE_17__ = __webpack_require__(/*! ./Ratings */ \"EeaK\");\n/*\n * Copyright (C) 2018 - present Instructure, Inc.\n *\n * This file is part of Canvas.\n *\n * Canvas is free software: you can redistribute it and/or modify it under\n * the terms of the GNU Affero General Public License as published by the Free\n * Software Foundation, version 3 of the License.\n *\n * Canvas is distributed in the hope that it will be useful, but WITHOUT ANY\n * WARRANTY; without even the implied warranty of MERCHANTABILITY or FITNESS FOR\n * A PARTICULAR PURPOSE. See the GNU Affero General Public License for more\n * details.\n *\n * You should have received a copy of the GNU Affero General Public License along\n * with this program. If not, see <http://www.gnu.org/licenses/>.\n */\n\n\n\n\n\n\n\n\n\n\n\n\n\n\n\n\n\n\n\nconst OutcomeIcon = () => /*#__PURE__*/react__WEBPACK_IMPORTED_MODULE_0___default.a.createElement(\"span\", null, /*#__PURE__*/react__WEBPACK_IMPORTED_MODULE_0___default.a.createElement(_instructure_ui_icons__WEBPACK_IMPORTED_MODULE_9__[\"IconOutcomesLine\"], null), \"\\xA0\", /*#__PURE__*/react__WEBPACK_IMPORTED_MODULE_0___default.a.createElement(_instructure_ui_a11y_content__WEBPACK_IMPORTED_MODULE_3__[\"ScreenReaderContent\"], null, i18n_edit_rubricCriterion__WEBPACK_IMPORTED_MODULE_11__[\"default\"].t('This criterion is linked to a Learning Outcome')));\n\nconst LongDescription = ({\n  showLongDescription\n}) => /*#__PURE__*/react__WEBPACK_IMPORTED_MODULE_0___default.a.createElement(_instructure_ui_buttons__WEBPACK_IMPORTED_MODULE_5__[\"Button\"], {\n  fluidWidth: true,\n  variant: \"link\",\n  onClick: () => showLongDescription()\n}, /*#__PURE__*/react__WEBPACK_IMPORTED_MODULE_0___default.a.createElement(_instructure_ui_text__WEBPACK_IMPORTED_MODULE_6__[\"Text\"], {\n  size: \"x-small\"\n}, i18n_edit_rubricCriterion__WEBPACK_IMPORTED_MODULE_11__[\"default\"].t('view longer description')));\n\nLongDescription.propTypes = {\n  showLongDescription: prop_types__WEBPACK_IMPORTED_MODULE_1___default.a.func.isRequired\n};\n\nconst LongDescriptionDialog = ({\n  open,\n  close,\n  longDescription\n}) => {\n  const modalHeader = i18n_edit_rubricCriterion__WEBPACK_IMPORTED_MODULE_11__[\"default\"].t('Criterion Long Description');\n  return /*#__PURE__*/react__WEBPACK_IMPORTED_MODULE_0___default.a.createElement(_instructure_ui_modal__WEBPACK_IMPORTED_MODULE_10__[\"Modal\"], {\n    open: open,\n    onDismiss: close,\n    size: \"medium\",\n    label: modalHeader,\n    shouldCloseOnDocumentClick: true\n  }, /*#__PURE__*/react__WEBPACK_IMPORTED_MODULE_0___default.a.createElement(_instructure_ui_modal__WEBPACK_IMPORTED_MODULE_10__[\"Modal\"].Header, null, /*#__PURE__*/react__WEBPACK_IMPORTED_MODULE_0___default.a.createElement(_instructure_ui_buttons__WEBPACK_IMPORTED_MODULE_5__[\"CloseButton\"], {\n    placement: \"end\",\n    offset: \"medium\",\n    variant: \"icon\",\n    onClick: close\n  }, \"Close\"), /*#__PURE__*/react__WEBPACK_IMPORTED_MODULE_0___default.a.createElement(_instructure_ui_heading__WEBPACK_IMPORTED_MODULE_7__[\"Heading\"], null, modalHeader)), /*#__PURE__*/react__WEBPACK_IMPORTED_MODULE_0___default.a.createElement(_instructure_ui_modal__WEBPACK_IMPORTED_MODULE_10__[\"Modal\"].Body, null, /*#__PURE__*/react__WEBPACK_IMPORTED_MODULE_0___default.a.createElement(_instructure_ui_text__WEBPACK_IMPORTED_MODULE_6__[\"Text\"], {\n    lineHeight: \"double\",\n    wrap: \"break-word\"\n  }, /*#__PURE__*/react__WEBPACK_IMPORTED_MODULE_0___default.a.createElement(\"div\", {\n    dangerouslySetInnerHTML: {\n      __html: longDescription\n    }\n  }))));\n};\n\nLongDescriptionDialog.propTypes = {\n  close: prop_types__WEBPACK_IMPORTED_MODULE_1___default.a.func.isRequired,\n  longDescription: prop_types__WEBPACK_IMPORTED_MODULE_1___default.a.string.isRequired,\n  open: prop_types__WEBPACK_IMPORTED_MODULE_1___default.a.bool\n};\nLongDescriptionDialog.defaultProps = {\n  open: false\n};\n\nconst Threshold = ({\n  threshold\n}) => /*#__PURE__*/react__WEBPACK_IMPORTED_MODULE_0___default.a.createElement(_instructure_ui_text__WEBPACK_IMPORTED_MODULE_6__[\"Text\"], {\n  size: \"x-small\",\n  weight: \"normal\"\n}, i18n_edit_rubricCriterion__WEBPACK_IMPORTED_MODULE_11__[\"default\"].t('threshold: %{pts}', {\n  pts: i18n_edit_rubricCriterion__WEBPACK_IMPORTED_MODULE_11__[\"default\"].toNumber(threshold, {\n    precision: 2,\n    strip_insignificant_zeros: true\n  })\n}));\n\nThreshold.defaultProps = {\n  threshold: null\n};\nThreshold.propTypes = {\n  threshold: prop_types__WEBPACK_IMPORTED_MODULE_1___default.a.number\n};\nclass Criterion extends react__WEBPACK_IMPORTED_MODULE_0___default.a.Component {\n  constructor(...args) {\n    super(...args);\n    this.state = {};\n\n    this.closeModal = () => {\n      this.setState({\n        dialogOpen: false\n      });\n    };\n\n    this.openModal = () => {\n      this.setState({\n        dialogOpen: true\n      });\n    };\n  }\n\n  render() {\n    const _this$props = this.props,\n          allowExtraCredit = _this$props.allowExtraCredit,\n          allowSavedComments = _this$props.allowSavedComments,\n          assessment = _this$props.assessment,\n          criterion = _this$props.criterion,\n          customRatings = _this$props.customRatings,\n          freeForm = _this$props.freeForm,\n          onAssessmentChange = _this$props.onAssessmentChange,\n          savedComments = _this$props.savedComments,\n          isSummary = _this$props.isSummary,\n          hidePoints = _this$props.hidePoints,\n          hasPointsColumn = _this$props.hasPointsColumn;\n    const dialogOpen = this.state.dialogOpen;\n    const isOutcome = criterion.learning_outcome_id !== void 0;\n    const useRange = criterion.criterion_use_range;\n    const ignoreForScoring = criterion.ignore_for_scoring;\n    const assessing = onAssessmentChange !== null && assessment !== null;\n\n    const updatePoints = (tier, isSelected) => {\n      // Tier will be a string if entered directly from the point input field. In those situations,\n      // the tier description and ID will be added based off the point value upon saving in the\n      // rubric_association model\n      if (typeof tier === 'string') {\n        tier = lodash__WEBPACK_IMPORTED_MODULE_2___default.a.find(criterion.ratings, rating => rating.points.toString() === tier) || {\n          points: tier\n        };\n      }\n\n      const text = tier.points.toString();\n      const value = _canvas_i18n_numberHelper__WEBPACK_IMPORTED_MODULE_12__[\"default\"].parse(text);\n      const valid = !Number.isNaN(value);\n\n      if (isSelected) {\n        onAssessmentChange({\n          points: {\n            text: '',\n            valid: true\n          }\n        });\n      } else {\n        onAssessmentChange({\n          points: {\n            text,\n            valid,\n            value: valid ? value : void 0\n          },\n          description: tier.description,\n          id: tier.id\n        });\n      }\n    };\n\n    const onPointChange = assessing ? updatePoints : void 0;\n    const pointsPossible = criterion.points;\n\n    const pointsElement = () => !hidePoints && !ignoreForScoring && /*#__PURE__*/react__WEBPACK_IMPORTED_MODULE_0___default.a.createElement(_Points__WEBPACK_IMPORTED_MODULE_16__[\"default\"], {\n      key: \"points\",\n      allowExtraCredit: !isOutcome || allowExtraCredit,\n      assessing: assessing,\n      assessment: assessment,\n      onPointChange: onPointChange,\n      pointsPossible: pointsPossible\n    });\n\n    const pointsComment = () => /*#__PURE__*/react__WEBPACK_IMPORTED_MODULE_0___default.a.createElement(_Comments__WEBPACK_IMPORTED_MODULE_15__[\"CommentText\"], {\n      key: \"comment\",\n      assessment: assessment,\n      weight: \"light\"\n    });\n\n    const summaryFooter = () => [pointsComment(), pointsElement()];\n\n    const commentRating = /*#__PURE__*/react__WEBPACK_IMPORTED_MODULE_0___default.a.createElement(_Comments__WEBPACK_IMPORTED_MODULE_15__[\"default\"], {\n      allowSaving: allowSavedComments,\n      editing: assessing,\n      assessment: assessment,\n      footer: isSummary ? pointsElement() : null,\n      large: freeForm,\n      savedComments: savedComments,\n      setSaveLater: saveCommentsForLater => onAssessmentChange({\n        saveCommentsForLater\n      }),\n      setComments: comments => onAssessmentChange({\n        comments\n      })\n    });\n    const hasComments = (lodash__WEBPACK_IMPORTED_MODULE_2___default.a.get(assessment, 'comments') || '').length > 0;\n\n    const editingComments = hasComments || freeForm || lodash__WEBPACK_IMPORTED_MODULE_2___default.a.get(assessment, 'editComments', false);\n\n    const commentFocus = lodash__WEBPACK_IMPORTED_MODULE_2___default.a.get(assessment, 'commentFocus', false);\n\n    const ratingsFooter = () => {\n      if (editingComments) {\n        return commentFocus ? /*#__PURE__*/react__WEBPACK_IMPORTED_MODULE_0___default.a.createElement(_instructure_ui_dialog__WEBPACK_IMPORTED_MODULE_4__[\"Dialog\"], {\n          open: true\n        }, commentRating) : commentRating;\n      }\n    };\n\n    const ratings = freeForm ? commentRating : /*#__PURE__*/react__WEBPACK_IMPORTED_MODULE_0___default.a.createElement(_Ratings__WEBPACK_IMPORTED_MODULE_17__[\"default\"], {\n      assessing: assessing,\n      customRatings: customRatings,\n      footer: isSummary ? summaryFooter() : ratingsFooter(),\n      tiers: criterion.ratings,\n      onPointChange: onPointChange,\n      points: lodash__WEBPACK_IMPORTED_MODULE_2___default.a.get(assessment, 'points.value'),\n      selectedRatingId: lodash__WEBPACK_IMPORTED_MODULE_2___default.a.get(assessment, 'id'),\n      pointsPossible: pointsPossible,\n      defaultMasteryThreshold: isOutcome ? criterion.mastery_points : criterion.points,\n      isSummary: isSummary,\n      useRange: useRange,\n      hidePoints: hidePoints\n    });\n\n    const editComments = () => onAssessmentChange({\n      commentFocus: true,\n      editComments: true\n    });\n\n    const commentButton = assessment !== null ? /*#__PURE__*/react__WEBPACK_IMPORTED_MODULE_0___default.a.createElement(_CommentButton__WEBPACK_IMPORTED_MODULE_14__[\"default\"], {\n      onClick: editComments\n    }) : null;\n    const longDescription = criterion.long_description;\n    const threshold = criterion.mastery_points;\n    return /*#__PURE__*/react__WEBPACK_IMPORTED_MODULE_0___default.a.createElement(_instructure_ui_table__WEBPACK_IMPORTED_MODULE_8__[\"Table\"].Row, {\n      \"data-testid\": \"rubric-criterion\"\n    }, /*#__PURE__*/react__WEBPACK_IMPORTED_MODULE_0___default.a.createElement(_instructure_ui_table__WEBPACK_IMPORTED_MODULE_8__[\"Table\"].RowHeader, null, /*#__PURE__*/react__WEBPACK_IMPORTED_MODULE_0___default.a.createElement(\"div\", {\n      className: \"description react-rubric-cell\"\n    }, isOutcome ? /*#__PURE__*/react__WEBPACK_IMPORTED_MODULE_0___default.a.createElement(OutcomeIcon, null) : '', /*#__PURE__*/react__WEBPACK_IMPORTED_MODULE_0___default.a.createElement(_instructure_ui_text__WEBPACK_IMPORTED_MODULE_6__[\"Text\"], {\n      size: \"small\",\n      weight: \"normal\"\n    }, criterion.description)), /*#__PURE__*/react__WEBPACK_IMPORTED_MODULE_0___default.a.createElement(\"div\", {\n      className: \"long-description\"\n    }, longDescription !== '' ? /*#__PURE__*/react__WEBPACK_IMPORTED_MODULE_0___default.a.createElement(LongDescription, {\n      showLongDescription: this.openModal\n    }) : null, /*#__PURE__*/react__WEBPACK_IMPORTED_MODULE_0___default.a.createElement(LongDescriptionDialog, {\n      close: this.closeModal,\n      longDescription: longDescription,\n      open: dialogOpen\n    })), !(hidePoints || lodash__WEBPACK_IMPORTED_MODULE_2___default.a.isNil(threshold)) ? /*#__PURE__*/react__WEBPACK_IMPORTED_MODULE_0___default.a.createElement(Threshold, {\n      threshold: threshold\n    }) : null), /*#__PURE__*/react__WEBPACK_IMPORTED_MODULE_0___default.a.createElement(_instructure_ui_table__WEBPACK_IMPORTED_MODULE_8__[\"Table\"].Cell, null, ratings), hasPointsColumn && /*#__PURE__*/react__WEBPACK_IMPORTED_MODULE_0___default.a.createElement(_instructure_ui_table__WEBPACK_IMPORTED_MODULE_8__[\"Table\"].Cell, {\n      \"data-testid\": \"criterion-points\"\n    }, pointsElement(), assessing && !freeForm && !editingComments ? commentButton : null));\n  }\n\n}\nCriterion.displayName = 'Row';\nCriterion.propTypes = {\n  allowExtraCredit: prop_types__WEBPACK_IMPORTED_MODULE_1___default.a.bool,\n  allowSavedComments: prop_types__WEBPACK_IMPORTED_MODULE_1___default.a.bool,\n  assessment: prop_types__WEBPACK_IMPORTED_MODULE_1___default.a.shape(_types__WEBPACK_IMPORTED_MODULE_13__[\"assessmentShape\"]),\n  customRatings: prop_types__WEBPACK_IMPORTED_MODULE_1___default.a.arrayOf(prop_types__WEBPACK_IMPORTED_MODULE_1___default.a.object),\n  criterion: prop_types__WEBPACK_IMPORTED_MODULE_1___default.a.shape(_types__WEBPACK_IMPORTED_MODULE_13__[\"criterionShape\"]).isRequired,\n  freeForm: prop_types__WEBPACK_IMPORTED_MODULE_1___default.a.bool.isRequired,\n  onAssessmentChange: prop_types__WEBPACK_IMPORTED_MODULE_1___default.a.func,\n  savedComments: prop_types__WEBPACK_IMPORTED_MODULE_1___default.a.arrayOf(prop_types__WEBPACK_IMPORTED_MODULE_1___default.a.string),\n  isSummary: prop_types__WEBPACK_IMPORTED_MODULE_1___default.a.bool,\n  hidePoints: prop_types__WEBPACK_IMPORTED_MODULE_1___default.a.bool,\n  hasPointsColumn: prop_types__WEBPACK_IMPORTED_MODULE_1___default.a.bool\n};\nCriterion.defaultProps = {\n  allowExtraCredit: false,\n  allowSavedComments: true,\n  assessment: null,\n  customRatings: [],\n  onAssessmentChange: null,\n  savedComments: [],\n  isSummary: false,\n  hidePoints: false,\n  hasPointsColumn: true\n};\n\n//# sourceURL=webpack:///./ui/shared/rubrics/react/Criterion.js?");

/***/ }),

/***/ "w7AT":
/*!*******************************************!*\
  !*** ./ui/shared/rubrics/react/Points.js ***!
  \*******************************************/
/*! exports provided: roundIfWhole, possibleString, scoreString, default */
/***/ (function(module, __webpack_exports__, __webpack_require__) {

"use strict";
eval("__webpack_require__.r(__webpack_exports__);\n/* harmony export (binding) */ __webpack_require__.d(__webpack_exports__, \"roundIfWhole\", function() { return roundIfWhole; });\n/* harmony export (binding) */ __webpack_require__.d(__webpack_exports__, \"possibleString\", function() { return possibleString; });\n/* harmony export (binding) */ __webpack_require__.d(__webpack_exports__, \"scoreString\", function() { return scoreString; });\n/* harmony import */ var react__WEBPACK_IMPORTED_MODULE_0__ = __webpack_require__(/*! react */ \"q1tI\");\n/* harmony import */ var react__WEBPACK_IMPORTED_MODULE_0___default = /*#__PURE__*/__webpack_require__.n(react__WEBPACK_IMPORTED_MODULE_0__);\n/* harmony import */ var lodash__WEBPACK_IMPORTED_MODULE_1__ = __webpack_require__(/*! lodash */ \"LvDl\");\n/* harmony import */ var lodash__WEBPACK_IMPORTED_MODULE_1___default = /*#__PURE__*/__webpack_require__.n(lodash__WEBPACK_IMPORTED_MODULE_1__);\n/* harmony import */ var prop_types__WEBPACK_IMPORTED_MODULE_2__ = __webpack_require__(/*! prop-types */ \"17x9\");\n/* harmony import */ var prop_types__WEBPACK_IMPORTED_MODULE_2___default = /*#__PURE__*/__webpack_require__.n(prop_types__WEBPACK_IMPORTED_MODULE_2__);\n/* harmony import */ var _instructure_ui_a11y_content__WEBPACK_IMPORTED_MODULE_3__ = __webpack_require__(/*! @instructure/ui-a11y-content */ \"9+/z\");\n/* harmony import */ var _instructure_ui_text_input__WEBPACK_IMPORTED_MODULE_4__ = __webpack_require__(/*! @instructure/ui-text-input */ \"/09A\");\n/* harmony import */ var _instructure_ui_flex__WEBPACK_IMPORTED_MODULE_5__ = __webpack_require__(/*! @instructure/ui-flex */ \"N46v\");\n/* harmony import */ var i18n_edit_rubricPoints__WEBPACK_IMPORTED_MODULE_6__ = __webpack_require__(/*! i18n!edit_rubricPoints */ \"W/pm\");\n/* harmony import */ var _types__WEBPACK_IMPORTED_MODULE_7__ = __webpack_require__(/*! ./types */ \"fHU0\");\n/*\n * Copyright (C) 2018 - present Instructure, Inc.\n *\n * This file is part of Canvas.\n *\n * Canvas is free software: you can redistribute it and/or modify it under\n * the terms of the GNU Affero General Public License as published by the Free\n * Software Foundation, version 3 of the License.\n *\n * Canvas is distributed in the hope that it will be useful, but WITHOUT ANY\n * WARRANTY; without even the implied warranty of MERCHANTABILITY or FITNESS FOR\n * A PARTICULAR PURPOSE. See the GNU Affero General Public License for more\n * details.\n *\n * You should have received a copy of the GNU Affero General Public License along\n * with this program. If not, see <http://www.gnu.org/licenses/>.\n */\n\n\n\n\n\n\n\n\nconst roundIfWhole = n => i18n_edit_rubricPoints__WEBPACK_IMPORTED_MODULE_6__[\"default\"].toNumber(n, {\n  precision: Math.floor(n) === n ? 0 : 2,\n  strip_insignificant_zeros: true\n});\n\nconst pointString = points => points.text === null ? roundIfWhole(points.value).toString() : points.text;\n\nconst possibleString = possible => i18n_edit_rubricPoints__WEBPACK_IMPORTED_MODULE_6__[\"default\"].t('%{possible} pts', {\n  possible: i18n_edit_rubricPoints__WEBPACK_IMPORTED_MODULE_6__[\"default\"].toNumber(possible, {\n    precision: 2,\n    strip_insignificant_zeros: true\n  })\n});\nconst scoreString = (points, possible) => i18n_edit_rubricPoints__WEBPACK_IMPORTED_MODULE_6__[\"default\"].t('%{points} / %{possible}', {\n  points: pointString(points),\n  possible: possibleString(possible)\n});\n\nconst invalid = () => [{\n  text: i18n_edit_rubricPoints__WEBPACK_IMPORTED_MODULE_6__[\"default\"].t('Invalid score'),\n  type: 'error'\n}];\n\nconst pointError = points => points.valid ? [] : invalid();\n\nconst noExtraCredit = () => [{\n  text: i18n_edit_rubricPoints__WEBPACK_IMPORTED_MODULE_6__[\"default\"].t('Cannot give outcomes extra credit'),\n  type: 'error'\n}];\n\nconst extraCreditError = (points, possible, allowExtraCredit) => !allowExtraCredit && points.value > possible ? noExtraCredit() : [];\n\nconst Points = props => {\n  const allowExtraCredit = props.allowExtraCredit,\n        assessing = props.assessing,\n        assessment = props.assessment,\n        onPointChange = props.onPointChange,\n        pointsPossible = props.pointsPossible;\n\n  if (assessment === null) {\n    return /*#__PURE__*/react__WEBPACK_IMPORTED_MODULE_0___default.a.createElement(\"div\", {\n      className: \"react-rubric-cell graded-points\"\n    }, possibleString(pointsPossible));\n  } else {\n    const points = lodash__WEBPACK_IMPORTED_MODULE_1___default.a.get(assessment, 'points');\n\n    if (!assessing) {\n      return /*#__PURE__*/react__WEBPACK_IMPORTED_MODULE_0___default.a.createElement(\"div\", {\n        className: \"react-rubric-cell graded-points\"\n      }, scoreString(points, pointsPossible));\n    } else {\n      return /*#__PURE__*/react__WEBPACK_IMPORTED_MODULE_0___default.a.createElement(\"div\", {\n        className: \"react-rubric-cell graded-points\"\n      }, /*#__PURE__*/react__WEBPACK_IMPORTED_MODULE_0___default.a.createElement(_instructure_ui_flex__WEBPACK_IMPORTED_MODULE_5__[\"Flex\"], {\n        alignItems: \"end\",\n        wrapItems: true\n      }, /*#__PURE__*/react__WEBPACK_IMPORTED_MODULE_0___default.a.createElement(_instructure_ui_flex__WEBPACK_IMPORTED_MODULE_5__[\"Flex\"].Item, {\n        size: \"4rem\",\n        margin: \"none small none none\"\n      }, /*#__PURE__*/react__WEBPACK_IMPORTED_MODULE_0___default.a.createElement(_instructure_ui_text_input__WEBPACK_IMPORTED_MODULE_4__[\"TextInput\"], {\n        display: \"inline-block\",\n        renderLabel: /*#__PURE__*/react__WEBPACK_IMPORTED_MODULE_0___default.a.createElement(_instructure_ui_a11y_content__WEBPACK_IMPORTED_MODULE_3__[\"ScreenReaderContent\"], null, i18n_edit_rubricPoints__WEBPACK_IMPORTED_MODULE_6__[\"default\"].t('Points')),\n        messages: [...pointError(points), ...extraCreditError(points, pointsPossible, allowExtraCredit)],\n        onChange: e => onPointChange(e.target.value),\n        value: pointString(points),\n        width: \"4rem\"\n      })), /*#__PURE__*/react__WEBPACK_IMPORTED_MODULE_0___default.a.createElement(_instructure_ui_flex__WEBPACK_IMPORTED_MODULE_5__[\"Flex\"].Item, {\n        margin: \"small none none none\"\n      }, `/ ${possibleString(pointsPossible)}`)));\n    }\n  }\n};\n\nPoints.propTypes = {\n  allowExtraCredit: prop_types__WEBPACK_IMPORTED_MODULE_2___default.a.bool,\n  assessing: prop_types__WEBPACK_IMPORTED_MODULE_2___default.a.bool,\n  assessment: prop_types__WEBPACK_IMPORTED_MODULE_2___default.a.shape(_types__WEBPACK_IMPORTED_MODULE_7__[\"assessmentShape\"]),\n  onPointChange: prop_types__WEBPACK_IMPORTED_MODULE_2___default.a.func,\n  pointsPossible: prop_types__WEBPACK_IMPORTED_MODULE_2___default.a.number.isRequired\n};\nPoints.defaultProps = {\n  allowExtraCredit: true,\n  assessing: false,\n  onPointChange: null\n};\n/* harmony default export */ __webpack_exports__[\"default\"] = (Points);\n\n//# sourceURL=webpack:///./ui/shared/rubrics/react/Points.js?");

/***/ })

}]);