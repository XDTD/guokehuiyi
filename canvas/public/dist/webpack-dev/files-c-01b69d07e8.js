(window["canvasWebpackJsonp"] = window["canvasWebpackJsonp"] || []).push([["files"],{

/***/ "+Byb":
/*!**********************************************************!*\
  !*** ./ui/features/files/react/components/ShowFolder.js ***!
  \**********************************************************/
/*! exports provided: default */
/***/ (function(module, __webpack_exports__, __webpack_require__) {

"use strict";
eval("__webpack_require__.r(__webpack_exports__);\n/* harmony import */ var react__WEBPACK_IMPORTED_MODULE_0__ = __webpack_require__(/*! react */ \"q1tI\");\n/* harmony import */ var react__WEBPACK_IMPORTED_MODULE_0___default = /*#__PURE__*/__webpack_require__.n(react__WEBPACK_IMPORTED_MODULE_0__);\n/* harmony import */ var create_react_class__WEBPACK_IMPORTED_MODULE_1__ = __webpack_require__(/*! create-react-class */ \"fhzG\");\n/* harmony import */ var create_react_class__WEBPACK_IMPORTED_MODULE_1___default = /*#__PURE__*/__webpack_require__.n(create_react_class__WEBPACK_IMPORTED_MODULE_1__);\n/* harmony import */ var underscore__WEBPACK_IMPORTED_MODULE_2__ = __webpack_require__(/*! underscore */ \"Y/W1\");\n/* harmony import */ var underscore__WEBPACK_IMPORTED_MODULE_2___default = /*#__PURE__*/__webpack_require__.n(underscore__WEBPACK_IMPORTED_MODULE_2__);\n/* harmony import */ var classnames__WEBPACK_IMPORTED_MODULE_3__ = __webpack_require__(/*! classnames */ \"TSYQ\");\n/* harmony import */ var classnames__WEBPACK_IMPORTED_MODULE_3___default = /*#__PURE__*/__webpack_require__.n(classnames__WEBPACK_IMPORTED_MODULE_3__);\n/* harmony import */ var i18n_react_files__WEBPACK_IMPORTED_MODULE_4__ = __webpack_require__(/*! i18n!react_files */ \"mddV\");\n/* harmony import */ var _legacy_components_ShowFolder__WEBPACK_IMPORTED_MODULE_5__ = __webpack_require__(/*! ../legacy/components/ShowFolder */ \"CeR3\");\n/* harmony import */ var _canvas_files_backbone_models_File_coffee__WEBPACK_IMPORTED_MODULE_6__ = __webpack_require__(/*! @canvas/files/backbone/models/File.coffee */ \"C8i9\");\n/* harmony import */ var _canvas_files_react_components_FilePreview__WEBPACK_IMPORTED_MODULE_7__ = __webpack_require__(/*! @canvas/files/react/components/FilePreview */ \"Llkk\");\n/* harmony import */ var _shared_direct_sharing_react_components_DirectShareCourseTray__WEBPACK_IMPORTED_MODULE_8__ = __webpack_require__(/*! ../../../../shared/direct-sharing/react/components/DirectShareCourseTray */ \"Nuch\");\n/* harmony import */ var _shared_direct_sharing_react_components_DirectShareUserModal__WEBPACK_IMPORTED_MODULE_9__ = __webpack_require__(/*! ../../../../shared/direct-sharing/react/components/DirectShareUserModal */ \"QbG7\");\n/* harmony import */ var _FolderChild__WEBPACK_IMPORTED_MODULE_10__ = __webpack_require__(/*! ./FolderChild */ \"+WYy\");\n/* harmony import */ var _UploadDropZone__WEBPACK_IMPORTED_MODULE_11__ = __webpack_require__(/*! ./UploadDropZone */ \"bOH4\");\n/* harmony import */ var _FileUpload__WEBPACK_IMPORTED_MODULE_12__ = __webpack_require__(/*! ./FileUpload */ \"UbSY\");\n/* harmony import */ var _ColumnHeaders__WEBPACK_IMPORTED_MODULE_13__ = __webpack_require__(/*! ./ColumnHeaders */ \"Dxaw\");\n/* harmony import */ var _canvas_files_react_components_CurrentUploads__WEBPACK_IMPORTED_MODULE_14__ = __webpack_require__(/*! @canvas/files/react/components/CurrentUploads */ \"e2r+\");\n/* harmony import */ var _LoadingIndicator__WEBPACK_IMPORTED_MODULE_15__ = __webpack_require__(/*! ./LoadingIndicator */ \"GJkP\");\n/* harmony import */ var page__WEBPACK_IMPORTED_MODULE_16__ = __webpack_require__(/*! page */ \"KVl8\");\n/* harmony import */ var page__WEBPACK_IMPORTED_MODULE_16___default = /*#__PURE__*/__webpack_require__.n(page__WEBPACK_IMPORTED_MODULE_16__);\n/* harmony import */ var _legacy_modules_FocusStore__WEBPACK_IMPORTED_MODULE_17__ = __webpack_require__(/*! ../legacy/modules/FocusStore */ \"cBjt\");\n/*\n * Copyright (C) 2015 - present Instructure, Inc.\n *\n * This file is part of Canvas.\n *\n * Canvas is free software: you can redistribute it and/or modify it under\n * the terms of the GNU Affero General Public License as published by the Free\n * Software Foundation, version 3 of the License.\n *\n * Canvas is distributed in the hope that it will be useful, but WITHOUT ANY\n * WARRANTY; without even the implied warranty of MERCHANTABILITY or FITNESS FOR\n * A PARTICULAR PURPOSE. See the GNU Affero General Public License for more\n * details.\n *\n * You should have received a copy of the GNU Affero General Public License along\n * with this program. If not, see <http://www.gnu.org/licenses/>.\n */\n\n\n\n\n\n\n\n\n\n\n\n\n\n\n\n\n\n\n\n_legacy_components_ShowFolder__WEBPACK_IMPORTED_MODULE_5__[\"default\"].getInitialState = function () {\n  return {\n    hideToggleAll: true\n  };\n};\n\n_legacy_components_ShowFolder__WEBPACK_IMPORTED_MODULE_5__[\"default\"].closeFilePreview = function (url) {\n  page__WEBPACK_IMPORTED_MODULE_16___default()(url);\n  _legacy_modules_FocusStore__WEBPACK_IMPORTED_MODULE_17__[\"default\"].setFocusToItem();\n};\n\n_legacy_components_ShowFolder__WEBPACK_IMPORTED_MODULE_5__[\"default\"].renderFilePreview = function () {\n  /* Prepare and render the FilePreview if needed.\n       As long as ?preview is present in the url.\n    */\n  if (this.props.query.preview != null) {\n    return /*#__PURE__*/react__WEBPACK_IMPORTED_MODULE_0___default.a.createElement(_canvas_files_react_components_FilePreview__WEBPACK_IMPORTED_MODULE_7__[\"default\"], {\n      isOpen: true,\n      usageRightsRequiredForContext: this.props.usageRightsRequiredForContext,\n      currentFolder: this.props.currentFolder,\n      params: this.props.params,\n      query: this.props.query,\n      pathname: this.props.pathname,\n      splat: this.props.splat,\n      closePreview: this.closeFilePreview\n    });\n  }\n};\n\n_legacy_components_ShowFolder__WEBPACK_IMPORTED_MODULE_5__[\"default\"].renderFolderChildOrEmptyContainer = function () {\n  if (this.props.currentFolder.isEmpty()) {\n    return /*#__PURE__*/react__WEBPACK_IMPORTED_MODULE_0___default.a.createElement(\"div\", {\n      ref: \"folderEmpty\",\n      className: \"muted\"\n    }, i18n_react_files__WEBPACK_IMPORTED_MODULE_4__[\"default\"].t('this_folder_is_empty', 'This folder is empty'));\n  } else {\n    return this.props.currentFolder.children(this.props.query).map(child => /*#__PURE__*/react__WEBPACK_IMPORTED_MODULE_0___default.a.createElement(_FolderChild__WEBPACK_IMPORTED_MODULE_10__[\"default\"], {\n      key: child.cid,\n      model: child,\n      isSelected: underscore__WEBPACK_IMPORTED_MODULE_2___default.a.indexOf(this.props.selectedItems, child) >= 0,\n      toggleSelected: this.props.toggleItemSelected.bind(null, child),\n      userCanEditFilesForContext: this.props.userCanEditFilesForContext,\n      userCanDeleteFilesForContext: this.props.userCanDeleteFilesForContext,\n      userCanRestrictFilesForContext: this.props.userCanRestrictFilesForContext,\n      usageRightsRequiredForContext: this.props.usageRightsRequiredForContext,\n      externalToolsForContext: this.props.externalToolsForContext,\n      previewItem: this.props.previewItem.bind(null, child),\n      dndOptions: this.props.dndOptions,\n      modalOptions: this.props.modalOptions,\n      clearSelectedItems: this.props.clearSelectedItems,\n      onMove: this.props.onMove,\n      onCopyToClick: model => {\n        if (model instanceof _canvas_files_backbone_models_File_coffee__WEBPACK_IMPORTED_MODULE_6__[\"default\"]) {\n          this.setState({\n            copyFileId: model.id\n          });\n        }\n      },\n      onSendToClick: model => {\n        if (model instanceof _canvas_files_backbone_models_File_coffee__WEBPACK_IMPORTED_MODULE_6__[\"default\"]) {\n          this.setState({\n            sendFileId: model.id\n          });\n        }\n      }\n    }));\n  }\n};\n\n_legacy_components_ShowFolder__WEBPACK_IMPORTED_MODULE_5__[\"default\"].render = function () {\n  var _window$ENV, _window$ENV$FEATURES;\n\n  const currentState = this.state || {};\n\n  if (currentState.errorMessages) {\n    return /*#__PURE__*/react__WEBPACK_IMPORTED_MODULE_0___default.a.createElement(\"div\", null, currentState.errorMessages.map(error => {\n      ;\n\n      /*#__PURE__*/\n      react__WEBPACK_IMPORTED_MODULE_0___default.a.createElement(\"div\", {\n        className: \"muted\"\n      }, error.message);\n    }));\n  }\n\n  if (!this.props.currentFolder) {\n    return /*#__PURE__*/react__WEBPACK_IMPORTED_MODULE_0___default.a.createElement(\"div\", {\n      ref: \"emptyDiv\"\n    });\n  }\n\n  let folderOrRootFolder;\n\n  if (this.props.params.splat) {\n    folderOrRootFolder = 'folder';\n  } else {\n    folderOrRootFolder = 'rootFolder';\n  }\n\n  const foldersNextPageOrFilesNextPage = this.props.currentFolder.folders.fetchingNextPage || this.props.currentFolder.files.fetchingNextPage;\n  const selectAllLabelClass = classnames__WEBPACK_IMPORTED_MODULE_3___default()({\n    'screenreader-only': this.state.hideToggleAll\n  });\n  const hasLoadedAll = !!(this.props.currentFolder.folders.loadedAll && this.props.currentFolder.files.loadedAll);\n  const showNewFileUpload = (_window$ENV = window.ENV) === null || _window$ENV === void 0 ? void 0 : (_window$ENV$FEATURES = _window$ENV.FEATURES) === null || _window$ENV$FEATURES === void 0 ? void 0 : _window$ENV$FEATURES.files_dnd; // We have to put the \"select all\" checkbox out here because VO won't read the table properly\n  // if it's in the table header, and won't read it at all if it's outside the table but inside\n  // the <div role=\"grid\">.\n\n  return /*#__PURE__*/react__WEBPACK_IMPORTED_MODULE_0___default.a.createElement(\"div\", null, /*#__PURE__*/react__WEBPACK_IMPORTED_MODULE_0___default.a.createElement(\"input\", {\n    id: \"selectAllCheckbox\",\n    className: selectAllLabelClass,\n    type: \"checkbox\",\n    onFocus: event => this.setState({\n      hideToggleAll: false\n    }),\n    onBlur: event => this.setState({\n      hideToggleAll: true\n    }),\n    checked: this.props.areAllItemsSelected(),\n    onChange: event => this.props.toggleAllSelected(event.target.checked)\n  }), /*#__PURE__*/react__WEBPACK_IMPORTED_MODULE_0___default.a.createElement(\"label\", {\n    htmlFor: \"selectAllCheckbox\",\n    className: selectAllLabelClass\n  }, i18n_react_files__WEBPACK_IMPORTED_MODULE_4__[\"default\"].t('select_all', 'Select All')), /*#__PURE__*/react__WEBPACK_IMPORTED_MODULE_0___default.a.createElement(\"div\", {\n    role: \"grid\",\n    style: {\n      flex: '1 1 auto'\n    }\n  }, /*#__PURE__*/react__WEBPACK_IMPORTED_MODULE_0___default.a.createElement(\"div\", {\n    ref: \"accessibilityMessage\",\n    className: \"ShowFolder__accessbilityMessage col-xs\",\n    tabIndex: 0\n  }, i18n_react_files__WEBPACK_IMPORTED_MODULE_4__[\"default\"].t('Warning: For improved accessibility in moving files, please use the Move To Dialog option found in the menu.')), !showNewFileUpload && /*#__PURE__*/react__WEBPACK_IMPORTED_MODULE_0___default.a.createElement(react__WEBPACK_IMPORTED_MODULE_0___default.a.Fragment, null, /*#__PURE__*/react__WEBPACK_IMPORTED_MODULE_0___default.a.createElement(_UploadDropZone__WEBPACK_IMPORTED_MODULE_11__[\"default\"], {\n    currentFolder: this.props.currentFolder\n  }), /*#__PURE__*/react__WEBPACK_IMPORTED_MODULE_0___default.a.createElement(_canvas_files_react_components_CurrentUploads__WEBPACK_IMPORTED_MODULE_14__[\"default\"], null), /*#__PURE__*/react__WEBPACK_IMPORTED_MODULE_0___default.a.createElement(_ColumnHeaders__WEBPACK_IMPORTED_MODULE_13__[\"default\"], {\n    ref: \"columnHeaders\",\n    query: this.props.query,\n    pathname: this.props.pathname,\n    areAllItemsSelected: this.props.areAllItemsSelected,\n    usageRightsRequiredForContext: this.props.usageRightsRequiredForContext\n  }), this.renderFolderChildOrEmptyContainer()), showNewFileUpload && hasLoadedAll && /*#__PURE__*/react__WEBPACK_IMPORTED_MODULE_0___default.a.createElement(react__WEBPACK_IMPORTED_MODULE_0___default.a.Fragment, null, this.props.userCanAddFilesForContext && /*#__PURE__*/react__WEBPACK_IMPORTED_MODULE_0___default.a.createElement(_FileUpload__WEBPACK_IMPORTED_MODULE_12__[\"default\"], {\n    currentFolder: this.props.currentFolder,\n    filesDirectoryRef: this.props.filesDirectoryRef\n  }), /*#__PURE__*/react__WEBPACK_IMPORTED_MODULE_0___default.a.createElement(_ColumnHeaders__WEBPACK_IMPORTED_MODULE_13__[\"default\"], {\n    ref: \"columnHeaders\",\n    query: this.props.query,\n    pathname: this.props.pathname,\n    areAllItemsSelected: this.props.areAllItemsSelected,\n    usageRightsRequiredForContext: this.props.usageRightsRequiredForContext\n  }), this.renderFolderChildOrEmptyContainer()), /*#__PURE__*/react__WEBPACK_IMPORTED_MODULE_0___default.a.createElement(_LoadingIndicator__WEBPACK_IMPORTED_MODULE_15__[\"default\"], {\n    isLoading: foldersNextPageOrFilesNextPage\n  }), this.renderFilePreview()), this.state.sendFileId && /*#__PURE__*/react__WEBPACK_IMPORTED_MODULE_0___default.a.createElement(_shared_direct_sharing_react_components_DirectShareUserModal__WEBPACK_IMPORTED_MODULE_9__[\"default\"], {\n    contentShare: {\n      content_id: this.state.sendFileId,\n      content_type: 'attachment'\n    },\n    courseId: ENV.COURSE_ID,\n    onDismiss: () => {\n      this.setState({\n        sendFileId: null\n      });\n    },\n    open: !!this.state.sendFileId\n  }), this.state.copyFileId && /*#__PURE__*/react__WEBPACK_IMPORTED_MODULE_0___default.a.createElement(_shared_direct_sharing_react_components_DirectShareCourseTray__WEBPACK_IMPORTED_MODULE_8__[\"default\"], {\n    contentSelection: {\n      attachments: [this.state.copyFileId]\n    },\n    onDismiss: () => {\n      this.setState({\n        copyFileId: null\n      });\n    },\n    open: !!this.state.copyFileId,\n    sourceCourseId: ENV.COURSE_ID\n  }));\n};\n\n/* harmony default export */ __webpack_exports__[\"default\"] = (create_react_class__WEBPACK_IMPORTED_MODULE_1___default()(_legacy_components_ShowFolder__WEBPACK_IMPORTED_MODULE_5__[\"default\"]));\n\n//# sourceURL=webpack:///./ui/features/files/react/components/ShowFolder.js?");

/***/ }),

/***/ "+WYy":
/*!***********************************************************!*\
  !*** ./ui/features/files/react/components/FolderChild.js ***!
  \***********************************************************/
/*! exports provided: default */
/***/ (function(module, __webpack_exports__, __webpack_require__) {

"use strict";
eval("__webpack_require__.r(__webpack_exports__);\n/* harmony import */ var i18n_react_files__WEBPACK_IMPORTED_MODULE_0__ = __webpack_require__(/*! i18n!react_files */ \"mddV\");\n/* harmony import */ var react__WEBPACK_IMPORTED_MODULE_1__ = __webpack_require__(/*! react */ \"q1tI\");\n/* harmony import */ var react__WEBPACK_IMPORTED_MODULE_1___default = /*#__PURE__*/__webpack_require__.n(react__WEBPACK_IMPORTED_MODULE_1__);\n/* harmony import */ var create_react_class__WEBPACK_IMPORTED_MODULE_2__ = __webpack_require__(/*! create-react-class */ \"fhzG\");\n/* harmony import */ var create_react_class__WEBPACK_IMPORTED_MODULE_2___default = /*#__PURE__*/__webpack_require__.n(create_react_class__WEBPACK_IMPORTED_MODULE_2__);\n/* harmony import */ var _legacy_components_FolderChild__WEBPACK_IMPORTED_MODULE_3__ = __webpack_require__(/*! ../legacy/components/FolderChild */ \"3mOo\");\n/* harmony import */ var _canvas_files_react_modules_filesEnv__WEBPACK_IMPORTED_MODULE_4__ = __webpack_require__(/*! @canvas/files/react/modules/filesEnv */ \"m452\");\n/* harmony import */ var classnames__WEBPACK_IMPORTED_MODULE_5__ = __webpack_require__(/*! classnames */ \"TSYQ\");\n/* harmony import */ var classnames__WEBPACK_IMPORTED_MODULE_5___default = /*#__PURE__*/__webpack_require__.n(classnames__WEBPACK_IMPORTED_MODULE_5__);\n/* harmony import */ var _ItemCog__WEBPACK_IMPORTED_MODULE_6__ = __webpack_require__(/*! ./ItemCog */ \"E8av\");\n/* harmony import */ var _canvas_files_react_components_PublishCloud__WEBPACK_IMPORTED_MODULE_7__ = __webpack_require__(/*! @canvas/files/react/components/PublishCloud */ \"3Yjv\");\n/* harmony import */ var _MasterCourseLock__WEBPACK_IMPORTED_MODULE_8__ = __webpack_require__(/*! ../../MasterCourseLock */ \"/Drm\");\n/* harmony import */ var _canvas_files_react_components_FilesystemObjectThumbnail__WEBPACK_IMPORTED_MODULE_9__ = __webpack_require__(/*! @canvas/files/react/components/FilesystemObjectThumbnail */ \"vTMu\");\n/* harmony import */ var _canvas_files_react_components_UsageRightsIndicator__WEBPACK_IMPORTED_MODULE_10__ = __webpack_require__(/*! @canvas/files/react/components/UsageRightsIndicator */ \"kUCf\");\n/* harmony import */ var _canvas_files_backbone_models_Folder__WEBPACK_IMPORTED_MODULE_11__ = __webpack_require__(/*! @canvas/files/backbone/models/Folder */ \"3jyj\");\n/* harmony import */ var prevent_default__WEBPACK_IMPORTED_MODULE_12__ = __webpack_require__(/*! prevent-default */ \"qqwe\");\n/* harmony import */ var _canvas_datetime_react_components_FriendlyDatetime__WEBPACK_IMPORTED_MODULE_13__ = __webpack_require__(/*! @canvas/datetime/react/components/FriendlyDatetime */ \"ZDrK\");\n/* harmony import */ var _canvas_files_util_friendlyBytes__WEBPACK_IMPORTED_MODULE_14__ = __webpack_require__(/*! @canvas/files/util/friendlyBytes */ \"itXk\");\n/*\n * Copyright (C) 2015 - present Instructure, Inc.\n *\n * This file is part of Canvas.\n *\n * Canvas is free software: you can redistribute it and/or modify it under\n * the terms of the GNU Affero General Public License as published by the Free\n * Software Foundation, version 3 of the License.\n *\n * Canvas is distributed in the hope that it will be useful, but WITHOUT ANY\n * WARRANTY; without even the implied warranty of MERCHANTABILITY or FITNESS FOR\n * A PARTICULAR PURPOSE. See the GNU Affero General Public License for more\n * details.\n *\n * You should have received a copy of the GNU Affero General Public License along\n * with this program. If not, see <http://www.gnu.org/licenses/>.\n */\n\n\n\n\n\n\n\n\n\n\n\n\n\n\n\n\n_legacy_components_FolderChild__WEBPACK_IMPORTED_MODULE_3__[\"default\"].isFolder = function () {\n  return this.props.model instanceof _canvas_files_backbone_models_Folder__WEBPACK_IMPORTED_MODULE_11__[\"default\"];\n};\n\n_legacy_components_FolderChild__WEBPACK_IMPORTED_MODULE_3__[\"default\"].renderItemCog = function (canManage) {\n  if (!this.props.model.isNew() || this.props.model.get('locked_for_user')) {\n    return /*#__PURE__*/react__WEBPACK_IMPORTED_MODULE_1___default.a.createElement(_ItemCog__WEBPACK_IMPORTED_MODULE_6__[\"default\"], {\n      model: this.props.model,\n      startEditingName: this.startEditingName,\n      userCanEditFilesForContext: canManage && this.props.userCanEditFilesForContext,\n      userCanDeleteFilesForContext: canManage && this.props.userCanDeleteFilesForContext,\n      userCanRestrictFilesForContext: this.props.userCanRestrictFilesForContext,\n      usageRightsRequiredForContext: this.props.usageRightsRequiredForContext,\n      externalToolsForContext: this.props.externalToolsForContext,\n      modalOptions: this.props.modalOptions,\n      clearSelectedItems: this.props.clearSelectedItems,\n      onMove: this.props.onMove,\n      onCopyToClick: this.props.onCopyToClick,\n      onSendToClick: this.props.onSendToClick\n    });\n  }\n};\n\n_legacy_components_FolderChild__WEBPACK_IMPORTED_MODULE_3__[\"default\"].renderPublishCloud = function (canManage) {\n  if (!this.props.model.isNew()) {\n    return /*#__PURE__*/react__WEBPACK_IMPORTED_MODULE_1___default.a.createElement(_canvas_files_react_components_PublishCloud__WEBPACK_IMPORTED_MODULE_7__[\"default\"], {\n      model: this.props.model,\n      ref: \"publishButton\",\n      userCanEditFilesForContext: canManage && this.props.userCanRestrictFilesForContext,\n      usageRightsRequiredForContext: this.props.usageRightsRequiredForContext\n    });\n  }\n};\n\n_legacy_components_FolderChild__WEBPACK_IMPORTED_MODULE_3__[\"default\"].renderMasterCourseIcon = function (canManage) {\n  // never show if not involved in blueprint courses\n  if (!(this.props.model.get('is_master_course_master_content') || this.props.model.get('is_master_course_child_content'))) {\n    return null;\n  } // Never show the lock on master course folders\n  // because we don't always have it's children to know if any are locked\n\n\n  if (this.isFolder()) {\n    if (this.props.model.get('is_master_course_master_content') || !this.props.model.get('restricted_by_master_course')) {\n      return null;\n    }\n  }\n\n  return /*#__PURE__*/react__WEBPACK_IMPORTED_MODULE_1___default.a.createElement(_MasterCourseLock__WEBPACK_IMPORTED_MODULE_8__[\"default\"], {\n    model: this.props.model,\n    canManage: canManage && this.props.userCanEditFilesForContext\n  });\n};\n\n_legacy_components_FolderChild__WEBPACK_IMPORTED_MODULE_3__[\"default\"].renderEditingState = function () {\n  if (this.state.editing) {\n    return /*#__PURE__*/react__WEBPACK_IMPORTED_MODULE_1___default.a.createElement(\"form\", {\n      className: \"ef-edit-name-form\",\n      onSubmit: Object(prevent_default__WEBPACK_IMPORTED_MODULE_12__[\"default\"])(this.saveNameEdit)\n    }, /*#__PURE__*/react__WEBPACK_IMPORTED_MODULE_1___default.a.createElement(\"div\", {\n      className: \"ic-Input-group\"\n    }, /*#__PURE__*/react__WEBPACK_IMPORTED_MODULE_1___default.a.createElement(\"input\", {\n      type: \"text\",\n      ref: \"newName\",\n      className: \"ic-Input ef-edit-name-form__input\",\n      placeholder: i18n_react_files__WEBPACK_IMPORTED_MODULE_0__[\"default\"].t('name', 'Name'),\n      \"aria-label\": this.isFolder() ? i18n_react_files__WEBPACK_IMPORTED_MODULE_0__[\"default\"].t('folder_name', 'Folder Name') : i18n_react_files__WEBPACK_IMPORTED_MODULE_0__[\"default\"].t('File Name'),\n      defaultValue: this.props.model.displayName(),\n      maxLength: \"255\",\n      onKeyUp: event => {\n        if (event.keyCode === 27) {\n          this.cancelEditingName();\n        }\n      }\n    }), /*#__PURE__*/react__WEBPACK_IMPORTED_MODULE_1___default.a.createElement(\"button\", {\n      type: \"button\",\n      className: \"Button ef-edit-name-form__button ef-edit-name-accept\",\n      onClick: this.saveNameEdit\n    }, /*#__PURE__*/react__WEBPACK_IMPORTED_MODULE_1___default.a.createElement(\"i\", {\n      className: \"icon-check\",\n      \"aria-hidden\": true\n    }), /*#__PURE__*/react__WEBPACK_IMPORTED_MODULE_1___default.a.createElement(\"span\", {\n      className: \"screenreader-only\"\n    }, i18n_react_files__WEBPACK_IMPORTED_MODULE_0__[\"default\"].t('accept', 'Accept'))), /*#__PURE__*/react__WEBPACK_IMPORTED_MODULE_1___default.a.createElement(\"button\", {\n      type: \"button\",\n      className: \"Button ef-edit-name-form__button ef-edit-name-cancel\",\n      onClick: this.cancelEditingName\n    }, /*#__PURE__*/react__WEBPACK_IMPORTED_MODULE_1___default.a.createElement(\"i\", {\n      className: \"icon-x\",\n      \"aria-hidden\": true\n    }), /*#__PURE__*/react__WEBPACK_IMPORTED_MODULE_1___default.a.createElement(\"span\", {\n      className: \"screenreader-only\"\n    }, i18n_react_files__WEBPACK_IMPORTED_MODULE_0__[\"default\"].t('cancel', 'Cancel')))));\n  } else if (this.isFolder()) {\n    return /*#__PURE__*/react__WEBPACK_IMPORTED_MODULE_1___default.a.createElement(\"a\", {\n      ref: \"nameLink\",\n      href: `${_canvas_files_react_modules_filesEnv__WEBPACK_IMPORTED_MODULE_4__[\"default\"].baseUrl}/folder/${this.props.model.urlPath()}`,\n      className: \"ef-name-col__link\",\n      params: {\n        splat: this.props.model.urlPath()\n      },\n      role: \"button\"\n    }, /*#__PURE__*/react__WEBPACK_IMPORTED_MODULE_1___default.a.createElement(\"span\", {\n      className: \"ef-name-col__click-wrapper\",\n      ref: elt => {\n        if (elt) elt.addEventListener('click', this.checkForAccess);\n      }\n    }, /*#__PURE__*/react__WEBPACK_IMPORTED_MODULE_1___default.a.createElement(\"span\", {\n      className: \"ef-big-icon-container\"\n    }, /*#__PURE__*/react__WEBPACK_IMPORTED_MODULE_1___default.a.createElement(_canvas_files_react_components_FilesystemObjectThumbnail__WEBPACK_IMPORTED_MODULE_9__[\"default\"], {\n      model: this.props.model\n    })), /*#__PURE__*/react__WEBPACK_IMPORTED_MODULE_1___default.a.createElement(\"span\", {\n      className: \"ef-name-col__text\"\n    }, this.props.model.displayName())));\n  } else {\n    return /*#__PURE__*/react__WEBPACK_IMPORTED_MODULE_1___default.a.createElement(\"a\", {\n      href: this.props.model.get('url'),\n      onClick: Object(prevent_default__WEBPACK_IMPORTED_MODULE_12__[\"default\"])(this.handleFileLinkClick),\n      className: \"ef-name-col__link\",\n      ref: \"nameLink\",\n      role: \"button\"\n    }, /*#__PURE__*/react__WEBPACK_IMPORTED_MODULE_1___default.a.createElement(\"span\", {\n      className: \"ef-big-icon-container\"\n    }, /*#__PURE__*/react__WEBPACK_IMPORTED_MODULE_1___default.a.createElement(_canvas_files_react_components_FilesystemObjectThumbnail__WEBPACK_IMPORTED_MODULE_9__[\"default\"], {\n      model: this.props.model\n    })), /*#__PURE__*/react__WEBPACK_IMPORTED_MODULE_1___default.a.createElement(\"span\", {\n      className: \"ef-name-col__text\"\n    }, this.props.model.displayName()));\n  }\n};\n\n_legacy_components_FolderChild__WEBPACK_IMPORTED_MODULE_3__[\"default\"].renderUsageRightsIndicator = function () {\n  if (this.props.usageRightsRequiredForContext) {\n    return /*#__PURE__*/react__WEBPACK_IMPORTED_MODULE_1___default.a.createElement(\"div\", {\n      className: \"ef-usage-rights-col\",\n      role: \"gridcell\"\n    }, /*#__PURE__*/react__WEBPACK_IMPORTED_MODULE_1___default.a.createElement(_canvas_files_react_components_UsageRightsIndicator__WEBPACK_IMPORTED_MODULE_10__[\"default\"], {\n      model: this.props.model,\n      userCanEditFilesForContext: this.props.userCanEditFilesForContext,\n      userCanRestrictFilesForContext: this.props.userCanRestrictFilesForContext,\n      usageRightsRequiredForContext: this.props.usageRightsRequiredForContext,\n      modalOptions: this.props.modalOptions\n    }));\n  }\n};\n\n_legacy_components_FolderChild__WEBPACK_IMPORTED_MODULE_3__[\"default\"].render = function () {\n  const user = this.props.model.get('user') || {};\n  const selectCheckboxLabel = i18n_react_files__WEBPACK_IMPORTED_MODULE_0__[\"default\"].t('Select %{itemName}', {\n    itemName: this.props.model.displayName()\n  });\n  const keyboardCheckboxClass = classnames__WEBPACK_IMPORTED_MODULE_5___default()({\n    'screenreader-only': this.state.hideKeyboardCheck,\n    'multiselectable-toggler': true\n  });\n  const keyboardLabelClass = classnames__WEBPACK_IMPORTED_MODULE_5___default()({\n    'screenreader-only': !this.state.hideKeyboardCheck\n  });\n  const parentFolder = this.props.model.collection && this.props.model.collection.parentFolder;\n  const canManage = (!parentFolder || !parentFolder.get('for_submissions')) && !this.props.model.get('for_submissions');\n  return /*#__PURE__*/react__WEBPACK_IMPORTED_MODULE_1___default.a.createElement(\"div\", this.getAttributesForRootNode(), /*#__PURE__*/react__WEBPACK_IMPORTED_MODULE_1___default.a.createElement(\"label\", {\n    className: keyboardCheckboxClass\n  }, /*#__PURE__*/react__WEBPACK_IMPORTED_MODULE_1___default.a.createElement(\"input\", {\n    type: \"checkbox\",\n    onFocus: () => {\n      this.setState({\n        hideKeyboardCheck: false\n      });\n    },\n    onBlur: () => {\n      this.setState({\n        hideKeyboardCheck: true\n      });\n    },\n    className: keyboardCheckboxClass,\n    checked: this.props.isSelected,\n    onChange: () => {}\n  }), /*#__PURE__*/react__WEBPACK_IMPORTED_MODULE_1___default.a.createElement(\"span\", {\n    className: keyboardLabelClass\n  }, selectCheckboxLabel)), /*#__PURE__*/react__WEBPACK_IMPORTED_MODULE_1___default.a.createElement(\"div\", {\n    className: \"ef-name-col\",\n    role: \"rowheader\"\n  }, this.renderEditingState()), /*#__PURE__*/react__WEBPACK_IMPORTED_MODULE_1___default.a.createElement(\"div\", {\n    className: \"ef-date-created-col\",\n    role: \"gridcell\"\n  }, /*#__PURE__*/react__WEBPACK_IMPORTED_MODULE_1___default.a.createElement(_canvas_datetime_react_components_FriendlyDatetime__WEBPACK_IMPORTED_MODULE_13__[\"default\"], {\n    dateTime: this.props.model.get('created_at')\n  })), /*#__PURE__*/react__WEBPACK_IMPORTED_MODULE_1___default.a.createElement(\"div\", {\n    className: \"ef-date-modified-col\",\n    role: \"gridcell\"\n  }, !this.isFolder() && /*#__PURE__*/react__WEBPACK_IMPORTED_MODULE_1___default.a.createElement(_canvas_datetime_react_components_FriendlyDatetime__WEBPACK_IMPORTED_MODULE_13__[\"default\"], {\n    dateTime: this.props.model.get('modified_at')\n  })), /*#__PURE__*/react__WEBPACK_IMPORTED_MODULE_1___default.a.createElement(\"div\", {\n    className: \"ef-modified-by-col ellipsis\",\n    role: \"gridcell\"\n  }, /*#__PURE__*/react__WEBPACK_IMPORTED_MODULE_1___default.a.createElement(\"a\", {\n    href: user.html_url,\n    className: \"ef-plain-link\"\n  }, user.display_name)), /*#__PURE__*/react__WEBPACK_IMPORTED_MODULE_1___default.a.createElement(\"div\", {\n    className: \"ef-size-col\",\n    role: \"gridcell\"\n  }, Object(_canvas_files_util_friendlyBytes__WEBPACK_IMPORTED_MODULE_14__[\"default\"])(this.props.model.get('size'))), this.renderUsageRightsIndicator(), /*#__PURE__*/react__WEBPACK_IMPORTED_MODULE_1___default.a.createElement(\"div\", {\n    className: \"ef-links-col\",\n    role: \"gridcell\"\n  }, this.renderMasterCourseIcon(canManage), this.renderPublishCloud(canManage), this.renderItemCog(canManage)));\n};\n\n/* harmony default export */ __webpack_exports__[\"default\"] = (create_react_class__WEBPACK_IMPORTED_MODULE_2___default()(_legacy_components_FolderChild__WEBPACK_IMPORTED_MODULE_3__[\"default\"]));\n\n//# sourceURL=webpack:///./ui/features/files/react/components/FolderChild.js?");

/***/ }),

/***/ "/Drm":
/*!***********************************************!*\
  !*** ./ui/features/files/MasterCourseLock.js ***!
  \***********************************************/
/*! exports provided: default */
/***/ (function(module, __webpack_exports__, __webpack_require__) {

"use strict";
eval("__webpack_require__.r(__webpack_exports__);\n/* harmony import */ var react__WEBPACK_IMPORTED_MODULE_0__ = __webpack_require__(/*! react */ \"q1tI\");\n/* harmony import */ var react__WEBPACK_IMPORTED_MODULE_0___default = /*#__PURE__*/__webpack_require__.n(react__WEBPACK_IMPORTED_MODULE_0__);\n/* harmony import */ var prop_types__WEBPACK_IMPORTED_MODULE_1__ = __webpack_require__(/*! prop-types */ \"17x9\");\n/* harmony import */ var prop_types__WEBPACK_IMPORTED_MODULE_1___default = /*#__PURE__*/__webpack_require__.n(prop_types__WEBPACK_IMPORTED_MODULE_1__);\n/* harmony import */ var _canvas_axios__WEBPACK_IMPORTED_MODULE_2__ = __webpack_require__(/*! @canvas/axios */ \"BrAc\");\n/* harmony import */ var classnames__WEBPACK_IMPORTED_MODULE_3__ = __webpack_require__(/*! classnames */ \"TSYQ\");\n/* harmony import */ var classnames__WEBPACK_IMPORTED_MODULE_3___default = /*#__PURE__*/__webpack_require__.n(classnames__WEBPACK_IMPORTED_MODULE_3__);\n/* harmony import */ var i18n_MasterCourseLock__WEBPACK_IMPORTED_MODULE_4__ = __webpack_require__(/*! i18n!MasterCourseLock */ \"J6em\");\n/* harmony import */ var _canvas_files_backbone_models_FilesystemObject_coffee__WEBPACK_IMPORTED_MODULE_5__ = __webpack_require__(/*! @canvas/files/backbone/models/FilesystemObject.coffee */ \"QYKH\");\n/* harmony import */ var _canvas_alerts_react_FlashAlert__WEBPACK_IMPORTED_MODULE_6__ = __webpack_require__(/*! @canvas/alerts/react/FlashAlert */ \"uloQ\");\n/*\n * Copyright (C) 2018 - present Instructure, Inc.\n *\n * This file is part of Canvas.\n *\n * Canvas is free software: you can redistribute it and/or modify it under\n * the terms of the GNU Affero General Public License as published by the Free\n * Software Foundation, version 3 of the License.\n *\n * Canvas is distributed in the hope that it will be useful, but WITHOUT ANY\n * WARRANTY; without even the implied warranty of MERCHANTABILITY or FITNESS FOR\n * A PARTICULAR PURPOSE. See the GNU Affero General Public License for more\n * details.\n *\n * You should have received a copy of the GNU Affero General Public License along\n * with this program. If not, see <http://www.gnu.org/licenses/>.\n */\n\n\n\n\n\n\n\n\nclass MasterCourseLock extends react__WEBPACK_IMPORTED_MODULE_0___default.a.Component {\n  constructor(props) {\n    super(props);\n\n    this.toggleLockedState = () => {\n      const fileName = this.props.model && this.props.model.displayName() || i18n_MasterCourseLock__WEBPACK_IMPORTED_MODULE_4__[\"default\"].t('this file');\n      _canvas_axios__WEBPACK_IMPORTED_MODULE_2__[\"default\"].put(`/api/v1/courses/${ENV.COURSE_ID}/blueprint_templates/default/restrict_item`, {\n        content_type: 'attachment',\n        content_id: this.props.model.id,\n        restricted: !this.isLocked()\n      }).then(() => {\n        this.setLocked(!this.isLocked());\n      }).catch(Object(_canvas_alerts_react_FlashAlert__WEBPACK_IMPORTED_MODULE_6__[\"showFlashError\"])(i18n_MasterCourseLock__WEBPACK_IMPORTED_MODULE_4__[\"default\"].t('An error occurred changing the lock state for \"%{fileName}\"', {\n        fileName\n      })));\n    };\n\n    this.state = this.extractStateFromModel(props.model);\n  }\n\n  componentWillMount() {\n    const setState = model => this.setState(this.extractStateFromModel(model));\n\n    this.props.model.on('change', setState, this);\n  }\n\n  componentWillUnmount() {\n    this.props.model.off(null, null, this);\n  }\n  /* == Custom Functions == */\n\n\n  setLocked(locked) {\n    if (this.props.model) {\n      this.props.model.set('restricted_by_master_course', locked);\n    }\n  }\n\n  isLocked() {\n    return !!(this.props.model && this.props.model.get('restricted_by_master_course'));\n  }\n\n  canLockUnlock() {\n    return this.props.canManage && this.props.model.get('is_master_course_master_content');\n  } // Function Summary\n  // extractStateFromModel expects a backbone model wtih the follow attributes\n  // * hidden, lock_at, unlock_at\n  //\n  // It takes those attributes and returns an object that can be used to set the\n  // components internal state\n  //\n  // returns object\n\n\n  extractStateFromModel(model) {\n    return {\n      locked: !!model.get('restricted_by_master_course')\n    };\n  } // Function Summary\n  // allow locking/unlocking in this component.\n\n\n  // modeled after PUblishCloud to implement the adjacent lock icon|button\n  render() {\n    const locked = this.isLocked();\n    const fileName = this.props.model && this.props.model.displayName() || i18n_MasterCourseLock__WEBPACK_IMPORTED_MODULE_4__[\"default\"].t('This file');\n    const wrapperClass = classnames__WEBPACK_IMPORTED_MODULE_3___default()('lock-icon', {\n      disabled: !this.canLockUnlock(),\n      'lock-icon-locked': this.isLocked()\n    });\n    const buttonClass = `btn-link ${locked ? 'locked-status locked' : 'unlocked-status unlocked'}`;\n    const iconClass = locked ? 'icon-blueprint-lock' : 'icon-blueprint';\n    const title = locked ? i18n_MasterCourseLock__WEBPACK_IMPORTED_MODULE_4__[\"default\"].t('Locked') : i18n_MasterCourseLock__WEBPACK_IMPORTED_MODULE_4__[\"default\"].t('Unlocked');\n    const label = locked ? i18n_MasterCourseLock__WEBPACK_IMPORTED_MODULE_4__[\"default\"].t('%{fileName}  is Locked - Click to modify', {\n      fileName\n    }) : i18n_MasterCourseLock__WEBPACK_IMPORTED_MODULE_4__[\"default\"].t('%{fileName}  is Unlocked - Click to modify', {\n      fileName\n    });\n    return /*#__PURE__*/react__WEBPACK_IMPORTED_MODULE_0___default.a.createElement(\"span\", {\n      className: wrapperClass\n    }, this.canLockUnlock() ? /*#__PURE__*/react__WEBPACK_IMPORTED_MODULE_0___default.a.createElement(\"button\", {\n      type: \"button\",\n      \"data-tooltip\": \"left\",\n      onClick: this.toggleLockedState,\n      className: buttonClass,\n      title: title,\n      \"aria-label\": label\n    }, /*#__PURE__*/react__WEBPACK_IMPORTED_MODULE_0___default.a.createElement(\"i\", {\n      className: iconClass\n    })) : /*#__PURE__*/react__WEBPACK_IMPORTED_MODULE_0___default.a.createElement(\"i\", {\n      className: iconClass,\n      \"data-tooltip\": \"left\",\n      title: title\n    }, /*#__PURE__*/react__WEBPACK_IMPORTED_MODULE_0___default.a.createElement(\"span\", {\n      className: \"lock-text screenreader-only\"\n    }, title)));\n  }\n\n}\n\nMasterCourseLock.propTypes = {\n  model: prop_types__WEBPACK_IMPORTED_MODULE_1___default.a.instanceOf(_canvas_files_backbone_models_FilesystemObject_coffee__WEBPACK_IMPORTED_MODULE_5__[\"default\"]).isRequired,\n  canManage: prop_types__WEBPACK_IMPORTED_MODULE_1___default.a.bool.isRequired\n};\n/* harmony default export */ __webpack_exports__[\"default\"] = (MasterCourseLock);\n\n//# sourceURL=webpack:///./ui/features/files/MasterCourseLock.js?");

/***/ }),

/***/ "0UGX":
/*!*****************************************************************************************!*\
  !*** ./frontend_build/i18n.js?direct_share_course_tray!./ui/shims/dummyI18nResource.js ***!
  \*****************************************************************************************/
/*! exports provided: default */
/***/ (function(module, __webpack_exports__, __webpack_require__) {

"use strict";
eval("__webpack_require__.r(__webpack_exports__);\n/* harmony import */ var _canvas_i18n_i18nObj__WEBPACK_IMPORTED_MODULE_0__ = __webpack_require__(/*! @canvas/i18n/i18nObj */ \"HGxv\");\n/* harmony import */ var translations_core_en__WEBPACK_IMPORTED_MODULE_1__ = __webpack_require__(/*! translations/_core_en */ \"0sPK\");\n\n    \n    \n    \n\n    /* harmony default export */ __webpack_exports__[\"default\"] = (_canvas_i18n_i18nObj__WEBPACK_IMPORTED_MODULE_0__[\"default\"].scoped('direct_share_course_tray'));\n  \n\n//# sourceURL=webpack:///./ui/shims/dummyI18nResource.js?./frontend_build/i18n.js?direct_share_course_tray");

/***/ }),

/***/ "0UQo":
/*!******************************************************************************!*\
  !*** ./frontend_build/i18n.js?publish_cloud!./ui/shims/dummyI18nResource.js ***!
  \******************************************************************************/
/*! exports provided: default */
/***/ (function(module, __webpack_exports__, __webpack_require__) {

"use strict";
eval("__webpack_require__.r(__webpack_exports__);\n/* harmony import */ var _canvas_i18n_i18nObj__WEBPACK_IMPORTED_MODULE_0__ = __webpack_require__(/*! @canvas/i18n/i18nObj */ \"HGxv\");\n/* harmony import */ var translations_core_en__WEBPACK_IMPORTED_MODULE_1__ = __webpack_require__(/*! translations/_core_en */ \"0sPK\");\n\n    \n    \n    \n\n    /* harmony default export */ __webpack_exports__[\"default\"] = (_canvas_i18n_i18nObj__WEBPACK_IMPORTED_MODULE_0__[\"default\"].scoped('publish_cloud'));\n  \n\n//# sourceURL=webpack:///./ui/shims/dummyI18nResource.js?./frontend_build/i18n.js?publish_cloud");

/***/ }),

/***/ "0unK":
/*!******************************************!*\
  !*** ./ui/shared/modal/react/content.js ***!
  \******************************************/
/*! exports provided: default */
/***/ (function(module, __webpack_exports__, __webpack_require__) {

"use strict";
eval("__webpack_require__.r(__webpack_exports__);\n/* harmony export (binding) */ __webpack_require__.d(__webpack_exports__, \"default\", function() { return ModalContent; });\n/* harmony import */ var react__WEBPACK_IMPORTED_MODULE_0__ = __webpack_require__(/*! react */ \"q1tI\");\n/* harmony import */ var react__WEBPACK_IMPORTED_MODULE_0___default = /*#__PURE__*/__webpack_require__.n(react__WEBPACK_IMPORTED_MODULE_0__);\n/*\n * Copyright (C) 2015 - present Instructure, Inc.\n *\n * This file is part of Canvas.\n *\n * Canvas is free software: you can redistribute it and/or modify it under\n * the terms of the GNU Affero General Public License as published by the Free\n * Software Foundation, version 3 of the License.\n *\n * Canvas is distributed in the hope that it will be useful, but WITHOUT ANY\n * WARRANTY; without even the implied warranty of MERCHANTABILITY or FITNESS FOR\n * A PARTICULAR PURPOSE. See the GNU Affero General Public License for more\n * details.\n *\n * You should have received a copy of the GNU Affero General Public License along\n * with this program. If not, see <http://www.gnu.org/licenses/>.\n */\n\nclass ModalContent extends react__WEBPACK_IMPORTED_MODULE_0___default.a.Component {\n  render() {\n    return /*#__PURE__*/react__WEBPACK_IMPORTED_MODULE_0___default.a.createElement(\"div\", {\n      className: this.props.className,\n      style: this.props.style\n    }, this.props.children);\n  }\n\n}\nModalContent.displayName = 'ModalContent';\nModalContent.defaultProps = {\n  className: 'ReactModal__Body',\n  style: {}\n};\n\n//# sourceURL=webpack:///./ui/shared/modal/react/content.js?");

/***/ }),

/***/ "18+T":
/*!*************************************************************************************!*\
  !*** ./frontend_build/i18n.js?usageRightsSelectBox!./ui/shims/dummyI18nResource.js ***!
  \*************************************************************************************/
/*! exports provided: default */
/***/ (function(module, __webpack_exports__, __webpack_require__) {

"use strict";
eval("__webpack_require__.r(__webpack_exports__);\n/* harmony import */ var _canvas_i18n_i18nObj__WEBPACK_IMPORTED_MODULE_0__ = __webpack_require__(/*! @canvas/i18n/i18nObj */ \"HGxv\");\n/* harmony import */ var translations_core_en__WEBPACK_IMPORTED_MODULE_1__ = __webpack_require__(/*! translations/_core_en */ \"0sPK\");\n\n    \n    \n    \n\n    /* harmony default export */ __webpack_exports__[\"default\"] = (_canvas_i18n_i18nObj__WEBPACK_IMPORTED_MODULE_0__[\"default\"].scoped('usageRightsSelectBox'));\n  \n\n//# sourceURL=webpack:///./ui/shims/dummyI18nResource.js?./frontend_build/i18n.js?usageRightsSelectBox");

/***/ }),

/***/ "1e9t":
/*!*******************************************************!*\
  !*** ./ui/shared/files/react/modules/FileUploader.js ***!
  \*******************************************************/
/*! exports provided: default */
/***/ (function(module, __webpack_exports__, __webpack_require__) {

"use strict";
eval("__webpack_require__.r(__webpack_exports__);\n/* harmony export (binding) */ __webpack_require__.d(__webpack_exports__, \"default\", function() { return FileUploader; });\n/* harmony import */ var _backbone_models_File_coffee__WEBPACK_IMPORTED_MODULE_0__ = __webpack_require__(/*! ../../backbone/models/File.coffee */ \"C8i9\");\n/* harmony import */ var _BaseUploader__WEBPACK_IMPORTED_MODULE_1__ = __webpack_require__(/*! ./BaseUploader */ \"vavB\");\n/*\n * Copyright (C) 2014 - present Instructure, Inc.\n *\n * This file is part of Canvas.\n *\n * Canvas is free software: you can redistribute it and/or modify it under\n * the terms of the GNU Affero General Public License as published by the Free\n * Software Foundation, version 3 of the License.\n *\n * Canvas is distributed in the hope that it will be useful, but WITHOUT ANY\n * WARRANTY; without even the implied warranty of MERCHANTABILITY or FITNESS FOR\n * A PARTICULAR PURPOSE. See the GNU Affero General Public License for more\n * details.\n *\n * You should have received a copy of the GNU Affero General Public License along\n * with this program. If not, see <http://www.gnu.org/licenses/>.\n */\n\n\nclass FileUploader extends _BaseUploader__WEBPACK_IMPORTED_MODULE_1__[\"default\"] {\n  constructor(fileOptions, folder) {\n    super(fileOptions, folder);\n\n    this.addFileToCollection = attrs => {\n      var _this$folder, _this$folder$files;\n\n      if ((_this$folder = this.folder) !== null && _this$folder !== void 0 && (_this$folder$files = _this$folder.files) !== null && _this$folder$files !== void 0 && _this$folder$files.add) {\n        // exists on the Files page, but nowhere else\n        const uploadedFile = new _backbone_models_File_coffee__WEBPACK_IMPORTED_MODULE_0__[\"default\"](attrs, 'no/url/needed/'); // we've already done the upload, no preflight needed\n\n        this.folder.files.add(uploadedFile); // remove old version if it was just overwritten\n\n        if (this.options.dup === 'overwrite') {\n          const name = this.options.name || this.file.name;\n          const previous = this.folder.files.findWhere({\n            display_name: name\n          });\n\n          if (previous) {\n            this.folder.files.remove(previous);\n          }\n        }\n      }\n    };\n\n    this.onUploadPosted = this.onUploadPosted.bind(this);\n  }\n\n  onUploadPosted(fileJson) {\n    this.inFlight = false;\n\n    if (this.options.replacingFileId) {\n      fileJson.replacingFileId = this.options.replacingFileId;\n    }\n\n    this.addFileToCollection(fileJson);\n    super.onUploadPosted(fileJson);\n  }\n\n}\n\n//# sourceURL=webpack:///./ui/shared/files/react/modules/FileUploader.js?");

/***/ }),

/***/ "2+7R":
/*!******************************************************!*\
  !*** ./ui/shared/files/react/modules/ZipUploader.js ***!
  \******************************************************/
/*! exports provided: default */
/***/ (function(module, __webpack_exports__, __webpack_require__) {

"use strict";
eval("__webpack_require__.r(__webpack_exports__);\n/* harmony export (binding) */ __webpack_require__.d(__webpack_exports__, \"default\", function() { return ZipUploader; });\n/* harmony import */ var _canvas_axios__WEBPACK_IMPORTED_MODULE_0__ = __webpack_require__(/*! @canvas/axios */ \"BrAc\");\n/* harmony import */ var _BaseUploader__WEBPACK_IMPORTED_MODULE_1__ = __webpack_require__(/*! ./BaseUploader */ \"vavB\");\n/*\n * Copyright (C) 2014 - present Instructure, Inc.\n *\n * This file is part of Canvas.\n *\n * Canvas is free software: you can redistribute it and/or modify it under\n * the terms of the GNU Affero General Public License as published by the Free\n * Software Foundation, version 3 of the License.\n *\n * Canvas is distributed in the hope that it will be useful, but WITHOUT ANY\n * WARRANTY; without even the implied warranty of MERCHANTABILITY or FITNESS FOR\n * A PARTICULAR PURPOSE. See the GNU Affero General Public License for more\n * details.\n *\n * You should have received a copy of the GNU Affero General Public License along\n * with this program. If not, see <http://www.gnu.org/licenses/>.\n */\n// Zips that are to be expanded take a different upload workflow\n\n\nclass ZipUploader extends _BaseUploader__WEBPACK_IMPORTED_MODULE_1__[\"default\"] {\n  constructor(fileOptions, folder, contextId, contextType) {\n    super(fileOptions, folder);\n\n    this.onPreflightComplete = ({\n      data\n    }) => {\n      this.uploadData = data.pre_attachment;\n      this.contentMigrationId = data.id;\n      return this._actualUpload();\n    };\n\n    this.getContentMigration = () => {\n      return Object(_canvas_axios__WEBPACK_IMPORTED_MODULE_0__[\"default\"])({\n        url: `/api/v1/${this.contextType}/${this.contextId}/content_migrations/${this.contentMigrationId}`,\n        method: 'GET',\n        responseType: 'json'\n      }).then(({\n        data\n      }) => {\n        if (!data.progress_url) {\n          return new Promise((resolve, reject) => {\n            setTimeout(() => {\n              this.getContentMigration().then(resolve).catch(reject);\n            }, 500);\n          });\n        } else {\n          return this.pullMigrationProgress(data.progress_url);\n        }\n      });\n    };\n\n    this.pullMigrationProgress = url => {\n      return Object(_canvas_axios__WEBPACK_IMPORTED_MODULE_0__[\"default\"])({\n        url,\n        method: 'GET',\n        responseType: 'json'\n      }).then(({\n        data\n      }) => {\n        this.trackMigrationProgress(data.completion || 0);\n\n        if (data.workflow_state === 'failed') {\n          throw new Error('zip file migration failed');\n        } else if (data.completion < 100) {\n          // The progress bar defaults to 50% complete to account for the actual\n          // file upload. When we start polling the progress and the job hasn't\n          // been worked, the completion is 0. So without this check, the progress\n          // bar would start at 50%, then render to 0%, then render to 50% once\n          // the job starts getting worked.\n          if (data.completion > 0) {\n            const progress = {\n              loaded: data.completion,\n              total: 100\n            };\n            this.trackProgress(progress);\n          }\n\n          return new Promise((resolve, reject) => {\n            setTimeout(() => {\n              // for the sake of testing, each url has to be\n              // unique, so adding a hash that's not sent to canvas\n              this.pullMigrationProgress(`${url}#${data.completion}`).then(resolve).catch(reject);\n            }, 1000);\n          });\n        } else {\n          return this.onMigrationComplete();\n        }\n      });\n    };\n\n    this.trackProgress = e => {\n      this.progress = e.loaded / e.total;\n      return this.onProgress(this.progress, this.file);\n    };\n\n    this.contextId = contextId;\n    this.contextType = contextType;\n    this.migrationProgress = 0;\n    this.onUploadPosted = this.onUploadPosted.bind(this);\n    this.onUploadCancelled = this.onUploadCancelled.bind(this);\n  }\n\n  createPreFlightParams() {\n    return {\n      migration_type: 'zip_file_importer',\n      settings: {\n        folder_id: this.folder.id\n      },\n      pre_attachment: {\n        name: this.options.name || this.file.name,\n        size: this.file.size,\n        content_type: this.file.type,\n        on_duplicate: this.options.dup || 'rename',\n        no_redirect: true\n      }\n    };\n  }\n\n  getPreflightUrl() {\n    return `/api/v1/${this.contextType}/${this.contextId}/content_migrations`;\n  }\n\n  onUploadPosted() {\n    // at this point the user can no longer cancel the upload\n    this._cancelToken = null; // will get the cancel button un-rendered\n\n    this.onProgress(this.progress, this.file);\n    const migrationPromise = this.getContentMigration();\n    super.onUploadPosted();\n    return migrationPromise;\n  } // get the content migration when ready and use progress api to pull migration progress\n\n\n  onMigrationComplete() {\n    this.inFlight = false; // reload to get new files to appear\n\n    return this.folder.folders.fetch({\n      reset: true\n    }).then(() => this.folder.files.fetch({\n      reset: true\n    }));\n  }\n\n  // migration progress is [0..100]\n  trackMigrationProgress(value) {\n    return this.migrationProgress = value / 100;\n  } // progress counts for halp, migragtion for the other\n\n\n  getProgress() {\n    return (this.progress + this.migrationProgress) / 2;\n  }\n\n  roundProgress() {\n    const value = this.getProgress() || 0;\n    return Math.min(Math.round(value * 100), 100);\n  }\n\n  getFileName() {\n    return this.options.name || this.file.name;\n  }\n\n}\n\n//# sourceURL=webpack:///./ui/shared/files/react/modules/ZipUploader.js?");

/***/ }),

/***/ "22Ii":
/*!********************************************************!*\
  !*** ./ui/features/files/react/components/FilesApp.js ***!
  \********************************************************/
/*! exports provided: default */
/***/ (function(module, __webpack_exports__, __webpack_require__) {

"use strict";
eval("__webpack_require__.r(__webpack_exports__);\n/* harmony import */ var jquery__WEBPACK_IMPORTED_MODULE_0__ = __webpack_require__(/*! jquery */ \"ouhR\");\n/* harmony import */ var jquery__WEBPACK_IMPORTED_MODULE_0___default = /*#__PURE__*/__webpack_require__.n(jquery__WEBPACK_IMPORTED_MODULE_0__);\n/* harmony import */ var react__WEBPACK_IMPORTED_MODULE_1__ = __webpack_require__(/*! react */ \"q1tI\");\n/* harmony import */ var react__WEBPACK_IMPORTED_MODULE_1___default = /*#__PURE__*/__webpack_require__.n(react__WEBPACK_IMPORTED_MODULE_1__);\n/* harmony import */ var create_react_class__WEBPACK_IMPORTED_MODULE_2__ = __webpack_require__(/*! create-react-class */ \"fhzG\");\n/* harmony import */ var create_react_class__WEBPACK_IMPORTED_MODULE_2___default = /*#__PURE__*/__webpack_require__.n(create_react_class__WEBPACK_IMPORTED_MODULE_2__);\n/* harmony import */ var page__WEBPACK_IMPORTED_MODULE_3__ = __webpack_require__(/*! page */ \"KVl8\");\n/* harmony import */ var page__WEBPACK_IMPORTED_MODULE_3___default = /*#__PURE__*/__webpack_require__.n(page__WEBPACK_IMPORTED_MODULE_3__);\n/* harmony import */ var _legacy_components_FilesApp__WEBPACK_IMPORTED_MODULE_4__ = __webpack_require__(/*! ../legacy/components/FilesApp */ \"xyLk\");\n/* harmony import */ var _canvas_files_react_modules_filesEnv__WEBPACK_IMPORTED_MODULE_5__ = __webpack_require__(/*! @canvas/files/react/modules/filesEnv */ \"m452\");\n/* harmony import */ var i18n_react_files__WEBPACK_IMPORTED_MODULE_6__ = __webpack_require__(/*! i18n!react_files */ \"mddV\");\n/* harmony import */ var _Breadcrumbs__WEBPACK_IMPORTED_MODULE_7__ = __webpack_require__(/*! ./Breadcrumbs */ \"Jq1E\");\n/* harmony import */ var _FolderTree__WEBPACK_IMPORTED_MODULE_8__ = __webpack_require__(/*! ./FolderTree */ \"7l+j\");\n/* harmony import */ var _FilesUsage__WEBPACK_IMPORTED_MODULE_9__ = __webpack_require__(/*! ./FilesUsage */ \"GO8z\");\n/* harmony import */ var _Toolbar__WEBPACK_IMPORTED_MODULE_10__ = __webpack_require__(/*! ./Toolbar */ \"uCzP\");\n/*\n * Copyright (C) 2015 - present Instructure, Inc.\n *\n * This file is part of Canvas.\n *\n * Canvas is free software: you can redistribute it and/or modify it under\n * the terms of the GNU Affero General Public License as published by the Free\n * Software Foundation, version 3 of the License.\n *\n * Canvas is distributed in the hope that it will be useful, but WITHOUT ANY\n * WARRANTY; without even the implied warranty of MERCHANTABILITY or FITNESS FOR\n * A PARTICULAR PURPOSE. See the GNU Affero General Public License for more\n * details.\n *\n * You should have received a copy of the GNU Affero General Public License along\n * with this program. If not, see <http://www.gnu.org/licenses/>.\n */\n\n\n\n\n\n\n\n\n\n\n\n\n_legacy_components_FilesApp__WEBPACK_IMPORTED_MODULE_4__[\"default\"].previewItem = function (item) {\n  this.clearSelectedItems(() => {\n    this.toggleItemSelected(item, null, () => {\n      const queryString = jquery__WEBPACK_IMPORTED_MODULE_0___default.a.param(this.getPreviewQuery());\n      page__WEBPACK_IMPORTED_MODULE_3___default()(`${this.getPreviewRoute()}?${queryString}`);\n    });\n  });\n};\n\n_legacy_components_FilesApp__WEBPACK_IMPORTED_MODULE_4__[\"default\"].getPreviewRoute = function () {\n  if (this.props.query && this.props.query.search_term) {\n    return '/search';\n  } else if (this.props.splat) {\n    return `/folder/${this.props.splat}`;\n  } else {\n    return '';\n  }\n};\n\n_legacy_components_FilesApp__WEBPACK_IMPORTED_MODULE_4__[\"default\"].render = function () {\n  let contextType;\n  let contextId; // when showing a folder\n\n  if (this.state.currentFolder) {\n    contextType = `${this.state.currentFolder.get('context_type').toLowerCase()}s`;\n    contextId = this.state.currentFolder.get('context_id');\n  } else {\n    // when showing search results\n    contextType = _canvas_files_react_modules_filesEnv__WEBPACK_IMPORTED_MODULE_5__[\"default\"].contextType;\n    contextId = _canvas_files_react_modules_filesEnv__WEBPACK_IMPORTED_MODULE_5__[\"default\"].contextId;\n  }\n\n  const canManageFilesForContext = permission => {\n    return _canvas_files_react_modules_filesEnv__WEBPACK_IMPORTED_MODULE_5__[\"default\"].userHasPermission({\n      contextType,\n      contextId\n    }, permission);\n  };\n\n  const userCanAddFilesForContext = canManageFilesForContext('manage_files_add');\n  const userCanEditFilesForContext = canManageFilesForContext('manage_files_edit');\n  const userCanDeleteFilesForContext = canManageFilesForContext('manage_files_delete');\n  const userCanManageFilesForContext = userCanAddFilesForContext || userCanEditFilesForContext || userCanDeleteFilesForContext;\n  const userCanRestrictFilesForContext = userCanEditFilesForContext && contextType !== 'groups';\n  const usageRightsRequiredForContext = _canvas_files_react_modules_filesEnv__WEBPACK_IMPORTED_MODULE_5__[\"default\"].contextsDictionary[`${contextType}_${contextId}`] ? _canvas_files_react_modules_filesEnv__WEBPACK_IMPORTED_MODULE_5__[\"default\"].contextsDictionary[`${contextType}_${contextId}`].usage_rights_required : false;\n  const externalToolsForContext = _canvas_files_react_modules_filesEnv__WEBPACK_IMPORTED_MODULE_5__[\"default\"].contextFor({\n    contextType,\n    contextId\n  }) ? _canvas_files_react_modules_filesEnv__WEBPACK_IMPORTED_MODULE_5__[\"default\"].contextFor({\n    contextType,\n    contextId\n  }).file_menu_tools : [];\n  const indexExternalToolsForContext = _canvas_files_react_modules_filesEnv__WEBPACK_IMPORTED_MODULE_5__[\"default\"].contextFor({\n    contextType,\n    contextId\n  }) ? _canvas_files_react_modules_filesEnv__WEBPACK_IMPORTED_MODULE_5__[\"default\"].contextFor({\n    contextType,\n    contextId\n  }).file_index_menu_tools : [];\n  return /*#__PURE__*/react__WEBPACK_IMPORTED_MODULE_1___default.a.createElement(\"div\", null, /*#__PURE__*/react__WEBPACK_IMPORTED_MODULE_1___default.a.createElement(\"header\", null, /*#__PURE__*/react__WEBPACK_IMPORTED_MODULE_1___default.a.createElement(\"h1\", {\n    className: \"screenreader-only\"\n  }, i18n_react_files__WEBPACK_IMPORTED_MODULE_6__[\"default\"].t('Files'))), !window.ENV.K5_SUBJECT_COURSE && /*#__PURE__*/react__WEBPACK_IMPORTED_MODULE_1___default.a.createElement(\"div\", {\n    className: \"ic-app-nav-toggle-and-crumbs ic-app-nav-toggle-and-crumbs--files no-print\"\n  }, /*#__PURE__*/react__WEBPACK_IMPORTED_MODULE_1___default.a.createElement(\"button\", {\n    className: \"Button Button--link ic-app-course-nav-toggle\",\n    type: \"button\",\n    id: \"courseMenuToggle\",\n    \"aria-label\": i18n_react_files__WEBPACK_IMPORTED_MODULE_6__[\"default\"].t('Show and hide courses menu'),\n    \"aria-hidden\": true\n  }, /*#__PURE__*/react__WEBPACK_IMPORTED_MODULE_1___default.a.createElement(\"i\", {\n    className: \"icon-hamburger\",\n    \"aria-hidden\": \"true\"\n  })), /*#__PURE__*/react__WEBPACK_IMPORTED_MODULE_1___default.a.createElement(\"div\", {\n    className: \"ic-app-crumbs\"\n  }, /*#__PURE__*/react__WEBPACK_IMPORTED_MODULE_1___default.a.createElement(_Breadcrumbs__WEBPACK_IMPORTED_MODULE_7__[\"default\"], {\n    rootTillCurrentFolder: this.state.rootTillCurrentFolder,\n    showingSearchResults: this.state.showingSearchResults,\n    query: this.props.query,\n    contextAssetString: this.props.contextAssetString\n  })), /*#__PURE__*/react__WEBPACK_IMPORTED_MODULE_1___default.a.createElement(\"div\", {\n    className: \"TutorialToggleHolder\"\n  })), /*#__PURE__*/react__WEBPACK_IMPORTED_MODULE_1___default.a.createElement(_Toolbar__WEBPACK_IMPORTED_MODULE_10__[\"default\"], {\n    currentFolder: this.state.currentFolder,\n    query: this.props.query,\n    selectedItems: this.state.selectedItems,\n    clearSelectedItems: this.clearSelectedItems,\n    onMove: this.onMove,\n    contextType: contextType,\n    contextId: contextId,\n    userCanAddFilesForContext: userCanAddFilesForContext,\n    userCanEditFilesForContext: userCanEditFilesForContext,\n    userCanDeleteFilesForContext: userCanDeleteFilesForContext,\n    usageRightsRequiredForContext: usageRightsRequiredForContext,\n    userCanRestrictFilesForContext: userCanRestrictFilesForContext,\n    indexExternalToolsForContext: indexExternalToolsForContext,\n    getPreviewQuery: this.getPreviewQuery,\n    getPreviewRoute: this.getPreviewRoute,\n    modalOptions: {\n      isOpen: this.state.showingModal,\n      openModal: this.openModal,\n      closeModal: this.closeModal\n    },\n    showingSearchResults: this.state.showingSearchResults\n  }), /*#__PURE__*/react__WEBPACK_IMPORTED_MODULE_1___default.a.createElement(\"div\", {\n    className: \"ef-main\"\n  }, /*#__PURE__*/react__WEBPACK_IMPORTED_MODULE_1___default.a.createElement(\"aside\", {\n    className: \"visible-desktop ef-folder-content\",\n    role: \"region\",\n    \"aria-label\": i18n_react_files__WEBPACK_IMPORTED_MODULE_6__[\"default\"].t('Folder Browsing Tree')\n  }, /*#__PURE__*/react__WEBPACK_IMPORTED_MODULE_1___default.a.createElement(_FolderTree__WEBPACK_IMPORTED_MODULE_8__[\"default\"], {\n    rootTillCurrentFolder: this.state.rootTillCurrentFolder,\n    rootFoldersToShow: _canvas_files_react_modules_filesEnv__WEBPACK_IMPORTED_MODULE_5__[\"default\"].rootFolders,\n    dndOptions: {\n      onItemDragEnterOrOver: this.onItemDragEnterOrOver,\n      onItemDragLeaveOrEnd: this.onItemDragLeaveOrEnd,\n      onItemDrop: this.onItemDrop\n    }\n  })), /*#__PURE__*/react__WEBPACK_IMPORTED_MODULE_1___default.a.createElement(\"div\", {\n    className: \"ef-directory\",\n    role: \"region\",\n    \"aria-label\": i18n_react_files__WEBPACK_IMPORTED_MODULE_6__[\"default\"].t('File List'),\n    ref: e => this.filesDirectory = e\n  }, /*#__PURE__*/react__WEBPACK_IMPORTED_MODULE_1___default.a.cloneElement(this.props.children, {\n    key: this.state.key,\n    pathname: this.props.pathname,\n    splat: this.props.splat,\n    query: this.props.query,\n    params: this.props.params,\n    onResolvePath: this.onResolvePath,\n    currentFolder: this.state.currentFolder,\n    contextType,\n    contextId,\n    selectedItems: this.state.selectedItems,\n    toggleItemSelected: this.toggleItemSelected,\n    toggleAllSelected: this.toggleAllSelected,\n    areAllItemsSelected: this.areAllItemsSelected,\n    userCanAddFilesForContext,\n    userCanEditFilesForContext,\n    userCanDeleteFilesForContext,\n    userCanRestrictFilesForContext,\n    usageRightsRequiredForContext,\n    externalToolsForContext,\n    previewItem: this.previewItem,\n    onMove: this.onMove,\n    modalOptions: {\n      isOpen: this.state.showingModal,\n      openModal: this.openModal,\n      closeModal: this.closeModal\n    },\n    dndOptions: {\n      onItemDragStart: this.onItemDragStart,\n      onItemDragEnterOrOver: this.onItemDragEnterOrOver,\n      onItemDragLeaveOrEnd: this.onItemDragLeaveOrEnd,\n      onItemDrop: this.onItemDrop\n    },\n    clearSelectedItems: this.clearSelectedItems,\n    filesDirectoryRef: this.filesDirectory\n  }))), /*#__PURE__*/react__WEBPACK_IMPORTED_MODULE_1___default.a.createElement(\"div\", {\n    className: \"ef-footer grid-row\"\n  }, userCanManageFilesForContext && /*#__PURE__*/react__WEBPACK_IMPORTED_MODULE_1___default.a.createElement(\"div\", {\n    className: \"col-xs-6\"\n  }, /*#__PURE__*/react__WEBPACK_IMPORTED_MODULE_1___default.a.createElement(_FilesUsage__WEBPACK_IMPORTED_MODULE_9__[\"default\"], {\n    className: \"col-xs-4\",\n    contextType: contextType,\n    contextId: contextId\n  })), !_canvas_files_react_modules_filesEnv__WEBPACK_IMPORTED_MODULE_5__[\"default\"].showingAllContexts && /*#__PURE__*/react__WEBPACK_IMPORTED_MODULE_1___default.a.createElement(\"div\", {\n    className: \"col-xs-6\"\n  }, /*#__PURE__*/react__WEBPACK_IMPORTED_MODULE_1___default.a.createElement(\"div\", null, /*#__PURE__*/react__WEBPACK_IMPORTED_MODULE_1___default.a.createElement(\"a\", {\n    className: \"pull-right\",\n    href: \"/files\"\n  }, i18n_react_files__WEBPACK_IMPORTED_MODULE_6__[\"default\"].t('All My Files'))))), this.state.showingModal && this.state.modalContents);\n};\n\n/* harmony default export */ __webpack_exports__[\"default\"] = (create_react_class__WEBPACK_IMPORTED_MODULE_2___default()(_legacy_components_FilesApp__WEBPACK_IMPORTED_MODULE_4__[\"default\"]));\n\n//# sourceURL=webpack:///./ui/features/files/react/components/FilesApp.js?");

/***/ }),

/***/ "3+TV":
/*!******************************************************************!*\
  !*** ./ui/features/files/react/legacy/components/Breadcrumbs.js ***!
  \******************************************************************/
/*! exports provided: default */
/***/ (function(module, __webpack_exports__, __webpack_require__) {

"use strict";
eval("__webpack_require__.r(__webpack_exports__);\n/* harmony import */ var jquery__WEBPACK_IMPORTED_MODULE_0__ = __webpack_require__(/*! jquery */ \"ouhR\");\n/* harmony import */ var jquery__WEBPACK_IMPORTED_MODULE_0___default = /*#__PURE__*/__webpack_require__.n(jquery__WEBPACK_IMPORTED_MODULE_0__);\n/* harmony import */ var react_dom__WEBPACK_IMPORTED_MODULE_1__ = __webpack_require__(/*! react-dom */ \"i8i4\");\n/* harmony import */ var react_dom__WEBPACK_IMPORTED_MODULE_1___default = /*#__PURE__*/__webpack_require__.n(react_dom__WEBPACK_IMPORTED_MODULE_1__);\n/* harmony import */ var prop_types__WEBPACK_IMPORTED_MODULE_2__ = __webpack_require__(/*! prop-types */ \"17x9\");\n/* harmony import */ var prop_types__WEBPACK_IMPORTED_MODULE_2___default = /*#__PURE__*/__webpack_require__.n(prop_types__WEBPACK_IMPORTED_MODULE_2__);\n/* harmony import */ var _canvas_files_react_modules_customPropTypes__WEBPACK_IMPORTED_MODULE_3__ = __webpack_require__(/*! @canvas/files/react/modules/customPropTypes */ \"Lg2F\");\n/*\n * Copyright (C) 2014 - present Instructure, Inc.\n *\n * This file is part of Canvas.\n *\n * Canvas is free software: you can redistribute it and/or modify it under\n * the terms of the GNU Affero General Public License as published by the Free\n * Software Foundation, version 3 of the License.\n *\n * Canvas is distributed in the hope that it will be useful, but WITHOUT ANY\n * WARRANTY; without even the implied warranty of MERCHANTABILITY or FITNESS FOR\n * A PARTICULAR PURPOSE. See the GNU Affero General Public License for more\n * details.\n *\n * You should have received a copy of the GNU Affero General Public License along\n * with this program. If not, see <http://www.gnu.org/licenses/>.\n */\n\n\n\n\nconst MAX_CRUMB_WIDTH = 500;\nconst MIN_CRUMB_WIDTH = 80;\n/* harmony default export */ __webpack_exports__[\"default\"] = ({\n  displayName: 'Breadcrumbs',\n  propTypes: {\n    rootTillCurrentFolder: prop_types__WEBPACK_IMPORTED_MODULE_2___default.a.arrayOf(_canvas_files_react_modules_customPropTypes__WEBPACK_IMPORTED_MODULE_3__[\"default\"].folder),\n    contextAssetString: prop_types__WEBPACK_IMPORTED_MODULE_2___default.a.string.isRequired\n  },\n\n  getInitialState() {\n    return {\n      maxCrumbWidth: MAX_CRUMB_WIDTH,\n      availableWidth: 200000\n    };\n  },\n\n  componentWillMount() {\n    // Get the existing Canvas breadcrumbs, store them, and remove them\n    this.fixOldCrumbs();\n  },\n\n  componentDidMount() {\n    // Attach the resize listener to dynamically change the components\n    // involved in the breadcrumb trail.\n    jquery__WEBPACK_IMPORTED_MODULE_0___default()(window).on('resize', this.handleResize);\n    this.handleResize();\n  },\n\n  componentWillUnmount() {\n    jquery__WEBPACK_IMPORTED_MODULE_0___default()(window).off('resize', this.handleResize);\n  },\n\n  fixOldCrumbs() {\n    const $oldCrumbs = jquery__WEBPACK_IMPORTED_MODULE_0___default()('#breadcrumbs');\n    const heightOfOneBreadcrumb = $oldCrumbs.find('li:visible:first').height() * 1.5;\n    const homeName = $oldCrumbs.find('.home').text();\n    const $a = $oldCrumbs.find('li').eq(1).find('a');\n    const contextUrl = $a.attr('href');\n    const contextName = $a.text();\n    jquery__WEBPACK_IMPORTED_MODULE_0___default()('.ic-app-nav-toggle-and-crumbs').remove();\n    this.setState({\n      homeName,\n      contextUrl,\n      contextName,\n      heightOfOneBreadcrumb\n    });\n  },\n\n  handleResize() {\n    this.startRecalculating(window.innerWidth);\n  },\n\n  startRecalculating(newAvailableWidth) {\n    this.setState({\n      availableWidth: newAvailableWidth,\n      maxCrumbWidth: MAX_CRUMB_WIDTH\n    }, this.checkIfCrumbsFit);\n  },\n\n  componentWillReceiveProps() {\n    setTimeout(this.startRecalculating);\n  },\n\n  checkIfCrumbsFit() {\n    if (!this.state.heightOfOneBreadcrumb) return;\n    const breadcrumbHeight = jquery__WEBPACK_IMPORTED_MODULE_0___default()(react_dom__WEBPACK_IMPORTED_MODULE_1___default.a.findDOMNode(this.refs.breadcrumbs)).height();\n\n    if (breadcrumbHeight > this.state.heightOfOneBreadcrumb && this.state.maxCrumbWidth > MIN_CRUMB_WIDTH) {\n      const maxCrumbWidth = Math.max(MIN_CRUMB_WIDTH, this.state.maxCrumbWidth - 20);\n      this.setState({\n        maxCrumbWidth\n      }, this.checkIfCrumbsFit);\n    }\n  }\n\n});\n\n//# sourceURL=webpack:///./ui/features/files/react/legacy/components/Breadcrumbs.js?");

/***/ }),

/***/ "3Yjv":
/*!**********************************************************!*\
  !*** ./ui/shared/files/react/components/PublishCloud.js ***!
  \**********************************************************/
/*! exports provided: default */
/***/ (function(module, __webpack_exports__, __webpack_require__) {

"use strict";
eval("__webpack_require__.r(__webpack_exports__);\n/* harmony import */ var react__WEBPACK_IMPORTED_MODULE_0__ = __webpack_require__(/*! react */ \"q1tI\");\n/* harmony import */ var react__WEBPACK_IMPORTED_MODULE_0___default = /*#__PURE__*/__webpack_require__.n(react__WEBPACK_IMPORTED_MODULE_0__);\n/* harmony import */ var create_react_class__WEBPACK_IMPORTED_MODULE_1__ = __webpack_require__(/*! create-react-class */ \"fhzG\");\n/* harmony import */ var create_react_class__WEBPACK_IMPORTED_MODULE_1___default = /*#__PURE__*/__webpack_require__.n(create_react_class__WEBPACK_IMPORTED_MODULE_1__);\n/* harmony import */ var react_dom__WEBPACK_IMPORTED_MODULE_2__ = __webpack_require__(/*! react-dom */ \"i8i4\");\n/* harmony import */ var react_dom__WEBPACK_IMPORTED_MODULE_2___default = /*#__PURE__*/__webpack_require__.n(react_dom__WEBPACK_IMPORTED_MODULE_2__);\n/* harmony import */ var jquery__WEBPACK_IMPORTED_MODULE_3__ = __webpack_require__(/*! jquery */ \"ouhR\");\n/* harmony import */ var jquery__WEBPACK_IMPORTED_MODULE_3___default = /*#__PURE__*/__webpack_require__.n(jquery__WEBPACK_IMPORTED_MODULE_3__);\n/* harmony import */ var i18n_publish_cloud__WEBPACK_IMPORTED_MODULE_4__ = __webpack_require__(/*! i18n!publish_cloud */ \"0UQo\");\n/* harmony import */ var _LegacyPublishCloud__WEBPACK_IMPORTED_MODULE_5__ = __webpack_require__(/*! ./LegacyPublishCloud */ \"smbH\");\n/* harmony import */ var jqueryui_dialog__WEBPACK_IMPORTED_MODULE_6__ = __webpack_require__(/*! jqueryui/dialog */ \"ESjL\");\n/*\n * Copyright (C) 2015 - present Instructure, Inc.\n *\n * This file is part of Canvas.\n *\n * Canvas is free software: you can redistribute it and/or modify it under\n * the terms of the GNU Affero General Public License as published by the Free\n * Software Foundation, version 3 of the License.\n *\n * Canvas is distributed in the hope that it will be useful, but WITHOUT ANY\n * WARRANTY; without even the implied warranty of MERCHANTABILITY or FITNESS FOR\n * A PARTICULAR PURPOSE. See the GNU Affero General Public License for more\n * details.\n *\n * You should have received a copy of the GNU Affero General Public License along\n * with this program. If not, see <http://www.gnu.org/licenses/>.\n */\n\n\n\n\n\n\n // Function Summary\n// Create a blank dialog window via jQuery, then dump the RestrictedDialogForm into that\n// dialog window. This allows us to do react things inside of this all ready rendered\n// jQueryUI widget\n\n_LegacyPublishCloud__WEBPACK_IMPORTED_MODULE_5__[\"default\"].openRestrictedDialog = function () {\n  const $dialog = jquery__WEBPACK_IMPORTED_MODULE_3___default()('<div>').dialog({\n    title: i18n_publish_cloud__WEBPACK_IMPORTED_MODULE_4__[\"default\"].t('Editing permissions for: %{name}', {\n      name: this.props.model.displayName()\n    }),\n    width: 800,\n    minHeight: 300,\n\n    close() {\n      react_dom__WEBPACK_IMPORTED_MODULE_2___default.a.unmountComponentAtNode(this);\n      jquery__WEBPACK_IMPORTED_MODULE_3___default()(this).remove();\n    }\n\n  });\n  __webpack_require__.e(/*! import() */ 3660).then(__webpack_require__.bind(null, /*! ./RestrictedDialogForm */ \"c9cI\")).then(({\n    default: RestrictedDialogForm\n  }) => {\n    react_dom__WEBPACK_IMPORTED_MODULE_2___default.a.render( /*#__PURE__*/react__WEBPACK_IMPORTED_MODULE_0___default.a.createElement(RestrictedDialogForm, {\n      usageRightsRequiredForContext: this.props.usageRightsRequiredForContext,\n      models: [this.props.model],\n      closeDialog: () => {\n        $dialog.dialog('close');\n      }\n    }), $dialog[0]);\n  });\n};\n\n_LegacyPublishCloud__WEBPACK_IMPORTED_MODULE_5__[\"default\"].render = function () {\n  const fileName = this.props.model && this.props.model.displayName() || i18n_publish_cloud__WEBPACK_IMPORTED_MODULE_4__[\"default\"].t('This file');\n\n  if (this.props.userCanEditFilesForContext) {\n    if (this.state.published && this.state.restricted) {\n      return /*#__PURE__*/react__WEBPACK_IMPORTED_MODULE_0___default.a.createElement(\"button\", {\n        type: \"button\",\n        \"data-tooltip\": \"left\",\n        onClick: this.openRestrictedDialog,\n        ref: \"publishCloud\",\n        className: \"btn-link published-status restricted\",\n        title: this.getRestrictedText(),\n        \"aria-label\": i18n_publish_cloud__WEBPACK_IMPORTED_MODULE_4__[\"default\"].t('%{fileName} is %{restricted} - Click to modify', {\n          fileName,\n          restricted: this.getRestrictedText()\n        })\n      }, /*#__PURE__*/react__WEBPACK_IMPORTED_MODULE_0___default.a.createElement(\"i\", {\n        className: \"icon-calendar-month icon-line\"\n      }));\n    } else if (this.state.published && this.state.hidden) {\n      return /*#__PURE__*/react__WEBPACK_IMPORTED_MODULE_0___default.a.createElement(\"button\", {\n        type: \"button\",\n        \"data-tooltip\": \"left\",\n        onClick: this.openRestrictedDialog,\n        ref: \"publishCloud\",\n        className: \"btn-link published-status hiddenState\",\n        title: i18n_publish_cloud__WEBPACK_IMPORTED_MODULE_4__[\"default\"].t('Only available to students with link'),\n        \"aria-label\": i18n_publish_cloud__WEBPACK_IMPORTED_MODULE_4__[\"default\"].t('%{fileName} is only available to students with the link - Click to modify', {\n          fileName\n        })\n      }, /*#__PURE__*/react__WEBPACK_IMPORTED_MODULE_0___default.a.createElement(\"i\", {\n        className: \"icon-off icon-line\"\n      }));\n    } else if (this.state.published) {\n      return /*#__PURE__*/react__WEBPACK_IMPORTED_MODULE_0___default.a.createElement(\"button\", {\n        type: \"button\",\n        \"data-tooltip\": \"left\",\n        onClick: this.openRestrictedDialog,\n        ref: \"publishCloud\",\n        className: \"btn-link published-status published\",\n        title: i18n_publish_cloud__WEBPACK_IMPORTED_MODULE_4__[\"default\"].t('Published'),\n        \"aria-label\": i18n_publish_cloud__WEBPACK_IMPORTED_MODULE_4__[\"default\"].t('%{fileName} is Published - Click to modify', {\n          fileName\n        })\n      }, /*#__PURE__*/react__WEBPACK_IMPORTED_MODULE_0___default.a.createElement(\"i\", {\n        className: \"icon-publish icon-Solid\"\n      }));\n    } else {\n      return /*#__PURE__*/react__WEBPACK_IMPORTED_MODULE_0___default.a.createElement(\"button\", {\n        type: \"button\",\n        \"data-tooltip\": \"left\",\n        onClick: this.openRestrictedDialog,\n        ref: \"publishCloud\",\n        className: \"btn-link published-status unpublished\",\n        title: i18n_publish_cloud__WEBPACK_IMPORTED_MODULE_4__[\"default\"].t('Unpublished'),\n        \"aria-label\": i18n_publish_cloud__WEBPACK_IMPORTED_MODULE_4__[\"default\"].t('%{fileName} is Unpublished - Click to modify', {\n          fileName\n        })\n      }, /*#__PURE__*/react__WEBPACK_IMPORTED_MODULE_0___default.a.createElement(\"i\", {\n        className: \"icon-unpublish\"\n      }));\n    }\n  } else if (this.state.published && this.state.restricted) {\n    return /*#__PURE__*/react__WEBPACK_IMPORTED_MODULE_0___default.a.createElement(\"div\", {\n      style: {\n        marginRight: '12px'\n      },\n      \"data-tooltip\": \"left\",\n      ref: \"publishCloud\",\n      className: \"published-status restricted\",\n      title: this.getRestrictedText(),\n      \"aria-label\": i18n_publish_cloud__WEBPACK_IMPORTED_MODULE_4__[\"default\"].t('%{fileName} is %{restricted}', {\n        fileName,\n        restricted: this.getRestrictedText()\n      })\n    }, /*#__PURE__*/react__WEBPACK_IMPORTED_MODULE_0___default.a.createElement(\"i\", {\n      className: \"icon-calendar-day\"\n    }));\n  } else {\n    return /*#__PURE__*/react__WEBPACK_IMPORTED_MODULE_0___default.a.createElement(\"div\", {\n      style: {\n        width: 28,\n        height: 36\n      }\n    });\n  }\n};\n\n/* harmony default export */ __webpack_exports__[\"default\"] = (create_react_class__WEBPACK_IMPORTED_MODULE_1___default()(_LegacyPublishCloud__WEBPACK_IMPORTED_MODULE_5__[\"default\"]));\n\n//# sourceURL=webpack:///./ui/shared/files/react/components/PublishCloud.js?");

/***/ }),

/***/ "3jyj":
/*!***************************************************!*\
  !*** ./ui/shared/files/backbone/models/Folder.js ***!
  \***************************************************/
/*! exports provided: default */
/***/ (function(module, __webpack_exports__, __webpack_require__) {

"use strict";
eval("__webpack_require__.r(__webpack_exports__);\n/* harmony import */ var _FilesystemObject_coffee__WEBPACK_IMPORTED_MODULE_0__ = __webpack_require__(/*! ./FilesystemObject.coffee */ \"QYKH\");\n/* harmony import */ var backbone_identity_map__WEBPACK_IMPORTED_MODULE_1__ = __webpack_require__(/*! backbone-identity-map */ \"4xnm\");\n/* harmony import */ var _canvas_pagination_backbone_collections_PaginatedCollection_coffee__WEBPACK_IMPORTED_MODULE_2__ = __webpack_require__(/*! @canvas/pagination/backbone/collections/PaginatedCollection.coffee */ \"TnsN\");\n/* harmony import */ var _collections_FilesCollection__WEBPACK_IMPORTED_MODULE_3__ = __webpack_require__(/*! ../collections/FilesCollection */ \"VXGR\");\n/* harmony import */ var _canvas_util_natcompare__WEBPACK_IMPORTED_MODULE_4__ = __webpack_require__(/*! @canvas/util/natcompare */ \"plYi\");\n/* harmony import */ var url_encoding__WEBPACK_IMPORTED_MODULE_5__ = __webpack_require__(/*! url-encoding */ \"LRs1\");\n//\n// Copyright (C) 2012 - present Instructure, Inc.\n//\n// This file is part of Canvas.\n//\n// Canvas is free software: you can redistribute it and/or modify it under\n// the terms of the GNU Affero General Public License as published by the Free\n// Software Foundation, version 3 of the License.\n//\n// Canvas is distributed in the hope that it will be useful, but WITHOUT ANY\n// WARRANTY; without even the implied warranty of MERCHANTABILITY or FITNESS FOR\n// A PARTICULAR PURPOSE. See the GNU Affero General Public License for more\n// details.\n//\n// You should have received a copy of the GNU Affero General Public License along\n// with this program. If not, see <http://www.gnu.org/licenses/>.\n\n\n\n\n\n // `full_name` will be something like \"course files/some folder/another\".\n// For routing in the react app in the browser, we want something that will take that \"course files\"\n// out. because urls will end up being /courses/2/files/folder/some folder/another\n\nconst EVERYTHING_BEFORE_THE_FIRST_SLASH = /^[^\\/]+\\/?/;\nlet filesEnv = null;\n\nfunction getSortProp(model, sortProp) {\n  // if we are sorting by name use 'display_name' for files and 'name' for folders.\n  if (sortProp === 'name' && !(model instanceof Folder)) {\n    return model.get('display_name');\n  } else if (sortProp === 'user') {\n    return __guard__(model.get('user'), x => x.display_name) || '';\n  } else if (sortProp === 'usage_rights') {\n    return __guard__(model.get('usage_rights'), x1 => x1.license_name) || '';\n  } else {\n    return model.get(sortProp);\n  }\n}\n\nclass __Folder extends _FilesystemObject_coffee__WEBPACK_IMPORTED_MODULE_0__[\"default\"] {\n  initialize(options) {\n    if (!this.contentTypes) this.contentTypes = options != null ? options.contentTypes : void 0;\n    if (!this.useVerifiers) this.useVerifiers = options != null ? options.useVerifiers : void 0;\n    this.setUpFilesAndFoldersIfNeeded();\n    this.on('change:sort change:order', this.setQueryStringParams);\n    return super.initialize(...arguments);\n  }\n\n  url() {\n    if (this.isNew()) {\n      return super.url(...arguments);\n    } else {\n      return `/api/v1/folders/${this.id}`;\n    }\n  }\n\n  parse(response) {\n    const json = super.parse(...arguments);\n    if (!this.contentTypes) this.contentTypes = response.contentTypes;\n    if (!this.useVerifiers) this.useVerifiers = response.useVerifiers;\n    this.setUpFilesAndFoldersIfNeeded();\n    this.folders.url = response.folders_url;\n    this.files.url = response.files_url;\n    return json;\n  }\n\n  setUpFilesAndFoldersIfNeeded() {\n    if (!this.folders) {\n      this.folders = new FoldersCollection([], {\n        parentFolder: this\n      });\n    }\n\n    if (!this.files) {\n      return this.files = new _collections_FilesCollection__WEBPACK_IMPORTED_MODULE_3__[\"default\"]([], {\n        parentFolder: this\n      });\n    }\n  }\n\n  getSubtrees() {\n    return this.folders;\n  }\n\n  getItems() {\n    return this.files;\n  }\n\n  expand(force = false, options = {}) {\n    let fetchDfd;\n    this.isExpanded = true;\n    this.trigger('expanded');\n\n    if (this.expandDfd || force) {\n      return $.when();\n    }\n\n    this.isExpanding = true;\n    this.trigger('beginexpanding');\n    this.expandDfd = $.Deferred().done(() => {\n      this.isExpanding = false;\n      return this.trigger('endexpanding');\n    });\n    const selfHasntBeenFetched = this.folders.url === this.folders.constructor.prototype.url || this.files.url === this.files.constructor.prototype.url;\n\n    if (selfHasntBeenFetched || force) {\n      fetchDfd = this.fetch();\n    }\n\n    return $.when(fetchDfd).done(() => {\n      let filesDfd, foldersDfd;\n\n      if (this.get('folders_count') !== 0) {\n        foldersDfd = this.folders.fetch();\n      }\n\n      if (this.get('files_count') !== 0 && !options.onlyShowSubtrees) {\n        filesDfd = this.files.fetch();\n      }\n\n      return $.when(foldersDfd, filesDfd).done(this.expandDfd.resolve);\n    });\n  }\n\n  collapse() {\n    this.isExpanded = false;\n    return this.trigger('collapsed');\n  }\n\n  toggle(options) {\n    if (this.isExpanded) {\n      return this.collapse();\n    } else {\n      return this.expand(false, options);\n    }\n  }\n\n  previewUrl() {\n    let needle;\n\n    if (needle = this.get('context_type'), ['Course', 'Group'].includes(needle)) {\n      return `/${`${this.get('context_type').toLowerCase()}s`}/${this.get('context_id')}/files/{{id}}/preview`;\n    }\n  }\n\n  isEmpty() {\n    return !!(this.files.loadedAll && this.files.length === 0) && this.folders.loadedAll && this.folders.length === 0;\n  }\n\n  urlPath() {\n    let relativePath = (this.get('full_name') || '').replace(EVERYTHING_BEFORE_THE_FIRST_SLASH, '');\n    relativePath = url_encoding__WEBPACK_IMPORTED_MODULE_5__[\"default\"].encodeSpecialChars(relativePath);\n    relativePath = relativePath.split('/').map(component => encodeURIComponent(component)).join('/');\n    if (!filesEnv) filesEnv = __webpack_require__(/*! ../../react/modules/filesEnv */ \"m452\").default; // circular dep\n    // when we are viewing all files we need to pad the context_asset_string on the front of the url\n    // so it would be something like /files/folder/users_1/some/sub/folder\n\n    if (filesEnv.showingAllContexts) {\n      const assetString = `${__guard__(this.get('context_type'), x => x.toLowerCase())}s_${this.get('context_id')}`;\n      relativePath = `${assetString}/${relativePath}`;\n    }\n\n    return relativePath;\n  } // #\n  // Special sorter for handling sorting with special properties\n  // It's been enhanced to sort naturally when certain sortProps\n  // are used.\n\n\n  childrenSorter(sortProp = 'name', sortOrder = 'asc', a, b) {\n    // Only use natural mode for instances we expect strings in.\n    let res;\n    const naturalMode = ['name', 'user', 'usage_rights'].includes(sortProp); // Get actual values for the properties we are sorting by.\n\n    a = getSortProp(a, sortProp);\n    b = getSortProp(b, sortProp);\n\n    if (naturalMode) {\n      res = _canvas_util_natcompare__WEBPACK_IMPORTED_MODULE_4__[\"default\"].strings(a, b);\n    } else {\n      res = (() => {\n        if (a === b) {\n          return 0;\n        } else if (a > b || a === void 0) {\n          return 1;\n        } else if (a < b || b === void 0) {\n          return -1;\n        } else {\n          throw new Error('wat? error sorting');\n        }\n      })();\n    }\n\n    if (sortOrder === 'desc') {\n      res = 0 - res;\n    }\n\n    return res;\n  }\n\n  children({\n    sort,\n    order\n  }) {\n    return this.folders.toArray().concat(this.files.toArray()).sort(this.childrenSorter.bind(null, sort, order));\n  }\n\n}\n\n__Folder.resolvePath = function (contextType, contextId, folderPath) {\n  folderPath = url_encoding__WEBPACK_IMPORTED_MODULE_5__[\"default\"].decodeSpecialChars(folderPath);\n  const url = `/api/v1/${contextType}/${contextId}/folders/by_path${folderPath}`;\n  return $.getJSON(url).pipe(folders => folders.map(folderAttrs => new Folder(folderAttrs, {\n    parse: true\n  })));\n};\n\n__Folder.prototype.defaults = {\n  name: ''\n};\nconst Folder = Object(backbone_identity_map__WEBPACK_IMPORTED_MODULE_1__[\"default\"])(__Folder);\n/* harmony default export */ __webpack_exports__[\"default\"] = (Folder);\n\nclass FoldersCollection extends _canvas_pagination_backbone_collections_PaginatedCollection_coffee__WEBPACK_IMPORTED_MODULE_2__[\"default\"] {\n  static initClass() {\n    this.optionProperty('parentFolder');\n    this.prototype.model = Folder;\n  }\n\n  parse(response) {\n    if (response) {\n      response.forEach(folder => {\n        folder.contentTypes = this.parentFolder.contentTypes;\n        return folder.useVerifiers = this.parentFolder.useVerifiers;\n      });\n    }\n\n    return super.parse(...arguments);\n  }\n\n}\n\nFoldersCollection.initClass(); // FoldersCollection is defined inside of this file, and not where it\n// should be, because RequireJS sucks at figuring out circular dependencies.\n// '../collections/FoldersCollection' just grabs this and re-exports it.\n\nFolder.FoldersCollection = FoldersCollection;\n\nfunction __guard__(value, transform) {\n  return typeof value !== 'undefined' && value !== null ? transform(value) : void 0;\n}\n\n//# sourceURL=webpack:///./ui/shared/files/backbone/models/Folder.js?");

/***/ }),

/***/ "3mOo":
/*!******************************************************************!*\
  !*** ./ui/features/files/react/legacy/components/FolderChild.js ***!
  \******************************************************************/
/*! exports provided: default */
/***/ (function(module, __webpack_exports__, __webpack_require__) {

"use strict";
eval("__webpack_require__.r(__webpack_exports__);\n/* harmony import */ var i18n_react_files__WEBPACK_IMPORTED_MODULE_0__ = __webpack_require__(/*! i18n!react_files */ \"mddV\");\n/* harmony import */ var react_dom__WEBPACK_IMPORTED_MODULE_1__ = __webpack_require__(/*! react-dom */ \"i8i4\");\n/* harmony import */ var react_dom__WEBPACK_IMPORTED_MODULE_1___default = /*#__PURE__*/__webpack_require__.n(react_dom__WEBPACK_IMPORTED_MODULE_1__);\n/* harmony import */ var _canvas_files_react_mixins_BackboneMixin__WEBPACK_IMPORTED_MODULE_2__ = __webpack_require__(/*! @canvas/files/react/mixins/BackboneMixin */ \"Vwmk\");\n/* harmony import */ var _canvas_files_backbone_models_Folder__WEBPACK_IMPORTED_MODULE_3__ = __webpack_require__(/*! @canvas/files/backbone/models/Folder */ \"3jyj\");\n/* harmony import */ var _modules_FocusStore__WEBPACK_IMPORTED_MODULE_4__ = __webpack_require__(/*! ../modules/FocusStore */ \"cBjt\");\n/* harmony import */ var classnames__WEBPACK_IMPORTED_MODULE_5__ = __webpack_require__(/*! classnames */ \"TSYQ\");\n/* harmony import */ var classnames__WEBPACK_IMPORTED_MODULE_5___default = /*#__PURE__*/__webpack_require__.n(classnames__WEBPACK_IMPORTED_MODULE_5__);\n/* harmony import */ var _canvas_rails_flash_notifications__WEBPACK_IMPORTED_MODULE_6__ = __webpack_require__(/*! @canvas/rails-flash-notifications */ \"r2Yr\");\n/*\n * Copyright (C) 2014 - present Instructure, Inc.\n *\n * This file is part of Canvas.\n *\n * Canvas is free software: you can redistribute it and/or modify it under\n * the terms of the GNU Affero General Public License as published by the Free\n * Software Foundation, version 3 of the License.\n *\n * Canvas is distributed in the hope that it will be useful, but WITHOUT ANY\n * WARRANTY; without even the implied warranty of MERCHANTABILITY or FITNESS FOR\n * A PARTICULAR PURPOSE. See the GNU Affero General Public License for more\n * details.\n *\n * You should have received a copy of the GNU Affero General Public License along\n * with this program. If not, see <http://www.gnu.org/licenses/>.\n */\n\n\n\n\n\n\n\n/* harmony default export */ __webpack_exports__[\"default\"] = ({\n  displayName: 'FolderChild',\n  mixins: [Object(_canvas_files_react_mixins_BackboneMixin__WEBPACK_IMPORTED_MODULE_2__[\"default\"])('model')],\n\n  getInitialState() {\n    return {\n      editing: this.props.model.isNew(),\n      hideKeyboardCheck: true,\n      isSelected: this.props.isSelected\n    };\n  },\n\n  componentDidMount() {\n    if (this.state.editing) this.focusNameInput();\n  },\n\n  startEditingName() {\n    this.setState({\n      editing: true\n    }, this.focusNameInput);\n  },\n\n  focusPreviousElement() {\n    if (this.previouslyFocusedElement != null) {\n      this.previouslyFocusedElement.focus();\n    }\n\n    if (document.activeElement === this.previouslyFocusedElement) return;\n    this.focusNameLink();\n  },\n\n  focusNameInput() {\n    // If the activeElement is currently the \"body\" that means they clicked on some type of cog to enable this state.\n    // This is an edge case that ensures focus remains in context of whats being edited, in this case, the nameLink\n    this.previouslyFocusedElement = document.activeElement.nodeName === 'BODY' ? react_dom__WEBPACK_IMPORTED_MODULE_1___default.a.findDOMNode(this.refs.nameLink) : document.activeElement;\n    setTimeout(() => {\n      const input = this.refs.newName;\n\n      if (input) {\n        const ext = input.value.lastIndexOf('.');\n        input.setSelectionRange(0, ext < 0 ? input.value.length : ext);\n        input.focus();\n      }\n    }, 0);\n  },\n\n  focusNameLink() {\n    setTimeout(() => {\n      const ref = react_dom__WEBPACK_IMPORTED_MODULE_1___default.a.findDOMNode(this.refs.nameLink);\n      if (ref) ref.focus();\n    }, 100);\n  },\n\n  saveNameEdit() {\n    this.setState({\n      editing: false\n    }, this.focusNameLink);\n    const newName = react_dom__WEBPACK_IMPORTED_MODULE_1___default.a.findDOMNode(this.refs.newName).value;\n    return this.props.model.save({\n      name: newName\n    }, {\n      success: () => {\n        this.focusNameLink();\n      },\n      error: (model, response) => {\n        if (response.status === 409) $.flashError(i18n_react_files__WEBPACK_IMPORTED_MODULE_0__[\"default\"].t('A file named %{itemName} already exists in this folder.', {\n          itemName: newName\n        }));\n      }\n    });\n  },\n\n  cancelEditingName() {\n    if (this.props.model.isNew()) this.props.model.collection.remove(this.props.model);\n    this.setState({\n      editing: false\n    }, this.focusPreviousElement);\n  },\n\n  getAttributesForRootNode() {\n    const classNameString = classnames__WEBPACK_IMPORTED_MODULE_5___default()({\n      'ef-item-row': true,\n      'ef-item-selected': this.props.isSelected,\n      activeDragTarget: this.state.isActiveDragTarget\n    });\n    const attrs = {\n      onClick: this.props.toggleSelected,\n      className: classNameString,\n      role: 'row',\n      'aria-selected': this.props.isSelected,\n      draggable: !this.state.editing,\n      ref: 'FolderChild',\n      onDragStart: event => {\n        if (!this.props.isSelected) {\n          this.props.toggleSelected();\n        }\n\n        return this.props.dndOptions.onItemDragStart(event);\n      }\n    };\n\n    if (this.props.model instanceof _canvas_files_backbone_models_Folder__WEBPACK_IMPORTED_MODULE_3__[\"default\"] && !this.props.model.get('for_submissions')) {\n      const toggleActive = setActive => {\n        if (this.state.isActiveDragTarget !== setActive) this.setState({\n          isActiveDragTarget: setActive\n        });\n      };\n\n      attrs.onDragEnter = attrs.onDragOver = event => this.props.dndOptions.onItemDragEnterOrOver(event, toggleActive(true));\n\n      attrs.onDragLeave = attrs.onDragEnd = event => this.props.dndOptions.onItemDragLeaveOrEnd(event, toggleActive(false));\n\n      attrs.onDrop = event => this.props.dndOptions.onItemDrop(event, this.props.model, ({\n        success,\n        event\n      }) => {\n        toggleActive(false);\n        if (success) react_dom__WEBPACK_IMPORTED_MODULE_1___default.a.unmountComponentAtNode(react_dom__WEBPACK_IMPORTED_MODULE_1___default.a.findDOMNode(this.refs.FolderChild).parentNode);\n      });\n    }\n\n    return attrs;\n  },\n\n  checkForAccess(event) {\n    if (this.props.model.get('locked_for_user')) {\n      event.preventDefault();\n      const message = i18n_react_files__WEBPACK_IMPORTED_MODULE_0__[\"default\"].t('This folder is currently locked and unavailable to view.');\n      $.flashError(message);\n      $.screenReaderFlashMessage(message);\n      return false;\n    }\n  },\n\n  handleFileLinkClick() {\n    _modules_FocusStore__WEBPACK_IMPORTED_MODULE_4__[\"default\"].setItemToFocus(react_dom__WEBPACK_IMPORTED_MODULE_1___default.a.findDOMNode(this.refs.nameLink));\n    return this.props.previewItem();\n  }\n\n});\n\n//# sourceURL=webpack:///./ui/features/files/react/legacy/components/FolderChild.js?");

/***/ }),

/***/ "4M30":
/*!******************************************************!*\
  !*** ./ui/shared/util/legacyCoffeesScriptHelpers.js ***!
  \******************************************************/
/*! exports provided: extend, shimGetterShorthand */
/***/ (function(module, __webpack_exports__, __webpack_require__) {

"use strict";
eval("__webpack_require__.r(__webpack_exports__);\n/* harmony export (binding) */ __webpack_require__.d(__webpack_exports__, \"extend\", function() { return extend; });\n/* harmony export (binding) */ __webpack_require__.d(__webpack_exports__, \"shimGetterShorthand\", function() { return shimGetterShorthand; });\n/*\n * Copyright (C) 2018 - present Instructure, Inc.\n *\n * This file is part of Canvas.\n *\n * Canvas is free software: you can redistribute it and/or modify it under\n * the terms of the GNU Affero General Public License as published by the Free\n * Software Foundation, version 3 of the License.\n *\n * Canvas is distributed in the hope that it will be useful, but WITHOUT ANY\n * WARRANTY; without even the implied warranty of MERCHANTABILITY or FITNESS FOR\n * A PARTICULAR PURPOSE. See the GNU Affero General Public License for more\n * details.\n *\n * You should have received a copy of the GNU Affero General Public License along\n * with this program. If not, see <http://www.gnu.org/licenses/>.\n */\nconst hasProp = {}.hasOwnProperty;\nfunction extend(child, parent) {\n  for (const key in parent) {\n    if (hasProp.call(parent, key)) child[key] = parent[key];\n  }\n\n  function ctor() {\n    this.constructor = child;\n  }\n\n  ctor.prototype = parent.prototype;\n  child.prototype = new ctor();\n  child.__super__ = parent.prototype;\n  return child;\n}\n/**\n * since you can't use es6 Object initializer getter shorthand (eg: {get foo(){ return 'bar'}})\n * in coffeescript, this is a helper to do it the manual way using Object.defineProperty\n * @param {Object} [hostObject] the object that you want to define the getters onto\n * @param {Object} getters key/value pairs of \"propertyName\" and getter functions. eg: {foo: () => \"bar\"}\n * @returns {Object} hostObject\n */\n\nfunction shimGetterShorthand(hostObject, getters) {\n  Object.keys(getters).forEach(key => Object.defineProperty(hostObject, key, {\n    get: getters[key],\n    enumerable: true,\n    configurable: true\n  }));\n  return hostObject;\n}\n\n//# sourceURL=webpack:///./ui/shared/util/legacyCoffeesScriptHelpers.js?");

/***/ }),

/***/ "4xnm":
/*!*************************************************!*\
  !*** ./packages/backbone-identity-map/index.js ***!
  \*************************************************/
/*! exports provided: default */
/***/ (function(module, __webpack_exports__, __webpack_require__) {

"use strict";
eval("__webpack_require__.r(__webpack_exports__);\n/* harmony import */ var _canvas_backbone__WEBPACK_IMPORTED_MODULE_0__ = __webpack_require__(/*! @canvas/backbone */ \"mX+G\");\n/* harmony import */ var _canvas_backbone__WEBPACK_IMPORTED_MODULE_0___default = /*#__PURE__*/__webpack_require__.n(_canvas_backbone__WEBPACK_IMPORTED_MODULE_0__);\n/* harmony import */ var underscore__WEBPACK_IMPORTED_MODULE_1__ = __webpack_require__(/*! underscore */ \"Y/W1\");\n/* harmony import */ var underscore__WEBPACK_IMPORTED_MODULE_1___default = /*#__PURE__*/__webpack_require__.n(underscore__WEBPACK_IMPORTED_MODULE_1__);\n// from https://github.com/shinetech/backbone-identity-map/blob/d9d1b5faf8f5cf4ef05b358f65347745f0df2693/backbone-identity-map.js\n\n/**\n * Identity Map for Backbone models.\n *\n * Usage:\n *\n *    var NewModel = IdentityMap(Backbone.Model.extend(\n *      {...},\n *      {...}\n *    ));\n *\n * A model that is wrapped in IdentityMap will cache models by their\n * ID. Any time you call new NewModel(), and you pass in an id\n * attribute, IdentityMap will check the cache to see if that object\n * has already been created. If so, that existing object will be\n * returned. Otherwise, a new model will be instantiated.\n *\n * Any models that are created without an ID will instantiate a new\n * object. If that model is subsequently assigned an ID, it will add\n * itself to the cache with this ID. If by that point another object\n * has already been assigned to the cache with the same ID, then\n * that object will be overridden.\n */\n\n\n\n  // Stores cached models:\n  // key: (unique identifier per class) + ':' + (model id)\n  // value: model object\n  var cache = {};\n\n  /**\n   * realConstructor: a backbone model constructor function\n   * returns a constructor function that acts like realConstructor,\n   * but returns cached objects if possible.\n   */\n  var IdentityMap = function(realConstructor) {\n    var classCacheKey = underscore__WEBPACK_IMPORTED_MODULE_1___default.a.uniqueId();\n    var modelConstructor = underscore__WEBPACK_IMPORTED_MODULE_1___default.a.extend(function(attributes, options) {\n      // creates a new object (used if the object isn't found in\n      // the cache)\n      var create = function() {\n        return new realConstructor(attributes, options);\n      };\n      var objectId = attributes &&\n        attributes[realConstructor.prototype.idAttribute];\n      // if there is an ID, check if that object exists in the\n      // cache already\n      if (objectId) {\n        var cacheKey = classCacheKey + ':' + objectId;\n        if (!cache[cacheKey]) {\n          // the object has an ID, but isn't found in the cache\n          cache[cacheKey] = create();\n        } else {\n          // the object was in the cache\n          var object = cache[cacheKey];\n          // set up the object just like new Backbone.Model() would\n          if (options && options.parse) {\n            attributes = object.parse(attributes);\n          }\n          object.set(attributes);\n        }\n        return cache[cacheKey];\n      } else {\n        var obj = create();\n        // when an object's id is set, add it to the cache\n        obj.on('change:' + realConstructor.prototype.idAttribute,\n          function(model, objectId) {\n            cache[classCacheKey + ':' + objectId] = obj;\n            obj.off(null, null, this);\n          },\n        this);\n        return obj;\n      }\n    }, realConstructor);\n    modelConstructor.prototype = realConstructor.prototype;\n    return modelConstructor;\n  };\n\n  /**\n   * Clears the cache. (useful for unit testing)\n   */\n  IdentityMap.resetCache = function() {\n    cache = {};\n  };\n\n  /* harmony default export */ __webpack_exports__[\"default\"] = (IdentityMap);\n\n\n\n\n//# sourceURL=webpack:///./packages/backbone-identity-map/index.js?");

/***/ }),

/***/ "5LPm":
/*!*************************************************************************!*\
  !*** ./ui/features/files/react/legacy/util/updateAPIQuerySortParams.js ***!
  \*************************************************************************/
/*! exports provided: default */
/***/ (function(module, __webpack_exports__, __webpack_require__) {

"use strict";
eval("__webpack_require__.r(__webpack_exports__);\n/* harmony export (binding) */ __webpack_require__.d(__webpack_exports__, \"default\", function() { return updateAPIQuerySortParams; });\n/* harmony import */ var _babel_runtime_helpers_esm_slicedToArray__WEBPACK_IMPORTED_MODULE_0__ = __webpack_require__(/*! @babel/runtime/helpers/esm/slicedToArray */ \"ODXe\");\n/* harmony import */ var underscore__WEBPACK_IMPORTED_MODULE_1__ = __webpack_require__(/*! underscore */ \"Y/W1\");\n/* harmony import */ var underscore__WEBPACK_IMPORTED_MODULE_1___default = /*#__PURE__*/__webpack_require__.n(underscore__WEBPACK_IMPORTED_MODULE_1__);\n/* harmony import */ var jquery__WEBPACK_IMPORTED_MODULE_2__ = __webpack_require__(/*! jquery */ \"ouhR\");\n/* harmony import */ var jquery__WEBPACK_IMPORTED_MODULE_2___default = /*#__PURE__*/__webpack_require__.n(jquery__WEBPACK_IMPORTED_MODULE_2__);\n/* harmony import */ var deparam__WEBPACK_IMPORTED_MODULE_3__ = __webpack_require__(/*! deparam */ \"6NVu\");\n\n\n/*\n * Copyright (C) 2014 - present Instructure, Inc.\n *\n * This file is part of Canvas.\n *\n * Canvas is free software: you can redistribute it and/or modify it under\n * the terms of the GNU Affero General Public License as published by the Free\n * Software Foundation, version 3 of the License.\n *\n * Canvas is distributed in the hope that it will be useful, but WITHOUT ANY\n * WARRANTY; without even the implied warranty of MERCHANTABILITY or FITNESS FOR\n * A PARTICULAR PURPOSE. See the GNU Affero General Public License for more\n * details.\n *\n * You should have received a copy of the GNU Affero General Public License along\n * with this program. If not, see <http://www.gnu.org/licenses/>.\n */\n// if you change which column to order by or wheather to to sort asc or desc,\n// use this to change the api url of the collection\n\n\n\nfunction updateAPIQuerySortParams(collection, queryParams) {\n  const newParams = {\n    include: ['user', 'usage_rights', 'enhanced_preview_url', 'context_asset_string'],\n    per_page: 20,\n    sort: queryParams.sort || '',\n    order: queryParams.order || ''\n  };\n  const oldUrl = collection.url;\n\n  const _oldUrl$split = oldUrl.split('?'),\n        _oldUrl$split2 = Object(_babel_runtime_helpers_esm_slicedToArray__WEBPACK_IMPORTED_MODULE_0__[\"default\"])(_oldUrl$split, 2),\n        baseUrl = _oldUrl$split2[0],\n        search = _oldUrl$split2[1];\n\n  const params = underscore__WEBPACK_IMPORTED_MODULE_1___default.a.extend(Object(deparam__WEBPACK_IMPORTED_MODULE_3__[\"default\"])(search), newParams);\n\n  const newUrl = `${baseUrl}?${Object(jquery__WEBPACK_IMPORTED_MODULE_2__[\"param\"])(params)}`;\n  collection.url = newUrl;\n  if (newUrl !== oldUrl && !collection.loadedAll) return collection.reset();\n}\n\n//# sourceURL=webpack:///./ui/features/files/react/legacy/util/updateAPIQuerySortParams.js?");

/***/ }),

/***/ "5SYd":
/*!****************************************************!*\
  !*** ./ui/features/files/RootFoldersFinder.coffee ***!
  \****************************************************/
/*! exports provided: default */
/***/ (function(module, __webpack_exports__, __webpack_require__) {

"use strict";
eval("__webpack_require__.r(__webpack_exports__);\n/* harmony import */ var i18n_rootFoldersFinder__WEBPACK_IMPORTED_MODULE_0__ = __webpack_require__(/*! i18n!rootFoldersFinder */ \"ffXL\");\n/* harmony import */ var _canvas_files_backbone_models_Folder__WEBPACK_IMPORTED_MODULE_1__ = __webpack_require__(/*! @canvas/files/backbone/models/Folder */ \"3jyj\");\n/* harmony import */ var _canvas_util_splitAssetString__WEBPACK_IMPORTED_MODULE_2__ = __webpack_require__(/*! @canvas/util/splitAssetString */ \"s9Pr\");\nvar RootFoldersFinder;\n\n\n\n\n\n\n\n/* harmony default export */ __webpack_exports__[\"default\"] = (RootFoldersFinder = (function() {\n  function RootFoldersFinder(opts) {\n    this.rootFoldersToShow = opts.rootFoldersToShow;\n    this.contentTypes = opts.contentTypes;\n    this.useVerifiers = opts.useVerifiers;\n  }\n\n  RootFoldersFinder.prototype.find = function() {\n    if (this.rootFoldersToShow) {\n      return this.rootFoldersToShow;\n    }\n    return RootFoldersFinder.rootFolders || (RootFoldersFinder.rootFolders = (function(_this) {\n      return function() {\n        var contextFiles, contextTypeAndId, myFiles, result;\n        contextFiles = null;\n        contextTypeAndId = Object(_canvas_util_splitAssetString__WEBPACK_IMPORTED_MODULE_2__[\"default\"])(ENV.context_asset_string || '');\n        if (contextTypeAndId && contextTypeAndId.length === 2 && (contextTypeAndId[0] === 'courses' || contextTypeAndId[0] === 'groups')) {\n          contextFiles = new _canvas_files_backbone_models_Folder__WEBPACK_IMPORTED_MODULE_1__[\"default\"]({\n            contentTypes: _this.contentTypes\n          });\n          contextFiles.set('custom_name', contextTypeAndId[0] === 'courses' ? i18n_rootFoldersFinder__WEBPACK_IMPORTED_MODULE_0__[\"default\"].t('course_files', 'Course files') : i18n_rootFoldersFinder__WEBPACK_IMPORTED_MODULE_0__[\"default\"].t('group_files', 'Group files'));\n          contextFiles.url = \"/api/v1/\" + contextTypeAndId[0] + \"/\" + contextTypeAndId[1] + \"/folders/root\";\n          contextFiles.fetch();\n        }\n        myFiles = new _canvas_files_backbone_models_Folder__WEBPACK_IMPORTED_MODULE_1__[\"default\"]({\n          contentTypes: _this.contentTypes,\n          useVerifiers: _this.useVerifiers\n        });\n        myFiles.set('custom_name', i18n_rootFoldersFinder__WEBPACK_IMPORTED_MODULE_0__[\"default\"].t('my_files', 'My files'));\n        myFiles.url = '/api/v1/users/self/folders/root';\n        myFiles.fetch();\n        result = [];\n        if (contextFiles) {\n          result.push(contextFiles);\n        }\n        result.push(myFiles);\n        return result;\n      };\n    })(this)());\n  };\n\n  return RootFoldersFinder;\n\n})());\n\n\n//# sourceURL=webpack:///./ui/features/files/RootFoldersFinder.coffee?");

/***/ }),

/***/ "6EIe":
/*!****************************************************************!*\
  !*** ./ui/shared/files/react/components/ZipFileOptionsForm.js ***!
  \****************************************************************/
/*! exports provided: default */
/***/ (function(module, __webpack_exports__, __webpack_require__) {

"use strict";
eval("__webpack_require__.r(__webpack_exports__);\n/* harmony import */ var i18n_zip_file_options_form__WEBPACK_IMPORTED_MODULE_0__ = __webpack_require__(/*! i18n!zip_file_options_form */ \"HTXa\");\n/* harmony import */ var react__WEBPACK_IMPORTED_MODULE_1__ = __webpack_require__(/*! react */ \"q1tI\");\n/* harmony import */ var react__WEBPACK_IMPORTED_MODULE_1___default = /*#__PURE__*/__webpack_require__.n(react__WEBPACK_IMPORTED_MODULE_1__);\n/* harmony import */ var prop_types__WEBPACK_IMPORTED_MODULE_2__ = __webpack_require__(/*! prop-types */ \"17x9\");\n/* harmony import */ var prop_types__WEBPACK_IMPORTED_MODULE_2___default = /*#__PURE__*/__webpack_require__.n(prop_types__WEBPACK_IMPORTED_MODULE_2__);\n/* harmony import */ var _canvas_modal__WEBPACK_IMPORTED_MODULE_3__ = __webpack_require__(/*! @canvas/modal */ \"vCN0\");\n/* harmony import */ var _canvas_modal_react_content__WEBPACK_IMPORTED_MODULE_4__ = __webpack_require__(/*! @canvas/modal/react/content */ \"0unK\");\n/* harmony import */ var _canvas_modal_react_buttons__WEBPACK_IMPORTED_MODULE_5__ = __webpack_require__(/*! @canvas/modal/react/buttons */ \"GN1s\");\n/*\n * Copyright (C) 2015 - present Instructure, Inc.\n *\n * This file is part of Canvas.\n *\n * Canvas is free software: you can redistribute it and/or modify it under\n * the terms of the GNU Affero General Public License as published by the Free\n * Software Foundation, version 3 of the License.\n *\n * Canvas is distributed in the hope that it will be useful, but WITHOUT ANY\n * WARRANTY; without even the implied warranty of MERCHANTABILITY or FITNESS FOR\n * A PARTICULAR PURPOSE. See the GNU Affero General Public License for more\n * details.\n *\n * You should have received a copy of the GNU Affero General Public License along\n * with this program. If not, see <http://www.gnu.org/licenses/>.\n */\n\n\n\n\n\n\n\nclass ZipFileOptionsForm extends react__WEBPACK_IMPORTED_MODULE_1___default.a.Component {\n  constructor(...args) {\n    super(...args);\n\n    this.handleExpandClick = () => {\n      this.props.onZipOptionsResolved({\n        file: this.props.fileOptions.file,\n        expandZip: true\n      });\n    };\n\n    this.handleUploadClick = () => {\n      this.props.onZipOptionsResolved({\n        file: this.props.fileOptions.file,\n        expandZip: false\n      });\n    };\n\n    this.buildMessage = fileOptions => {\n      let message;\n\n      if (this.props.fileOptions) {\n        const name = this.props.fileOptions.file.name;\n        message = i18n_zip_file_options_form__WEBPACK_IMPORTED_MODULE_0__[\"default\"].t('message', 'Would you like to expand the contents of \"%{fileName}\" into the current folder, or upload the zip file as is?', {\n          fileName: name\n        });\n      }\n\n      return message;\n    };\n  }\n\n  render() {\n    return /*#__PURE__*/react__WEBPACK_IMPORTED_MODULE_1___default.a.createElement(_canvas_modal__WEBPACK_IMPORTED_MODULE_3__[\"default\"], {\n      className: \"ReactModal__Content--canvas ReactModal__Content--mini-modal\",\n      isOpen: !!this.props.fileOptions,\n      ref: \"canvasModal\",\n      title: i18n_zip_file_options_form__WEBPACK_IMPORTED_MODULE_0__[\"default\"].t('zip_options', 'Zip file options'),\n      onRequestClose: this.props.onClose\n    }, /*#__PURE__*/react__WEBPACK_IMPORTED_MODULE_1___default.a.createElement(_canvas_modal_react_content__WEBPACK_IMPORTED_MODULE_4__[\"default\"], null, /*#__PURE__*/react__WEBPACK_IMPORTED_MODULE_1___default.a.createElement(\"p\", {\n      className: \"modalMessage\"\n    }, this.buildMessage())), /*#__PURE__*/react__WEBPACK_IMPORTED_MODULE_1___default.a.createElement(_canvas_modal_react_buttons__WEBPACK_IMPORTED_MODULE_5__[\"default\"], null, /*#__PURE__*/react__WEBPACK_IMPORTED_MODULE_1___default.a.createElement(\"button\", {\n      className: \"btn\",\n      onClick: this.handleExpandClick\n    }, i18n_zip_file_options_form__WEBPACK_IMPORTED_MODULE_0__[\"default\"].t('expand', 'Expand It')), /*#__PURE__*/react__WEBPACK_IMPORTED_MODULE_1___default.a.createElement(\"button\", {\n      className: \"btn btn-primary\",\n      onClick: this.handleUploadClick\n    }, i18n_zip_file_options_form__WEBPACK_IMPORTED_MODULE_0__[\"default\"].t('upload', 'Upload It'))));\n  }\n\n}\n\nZipFileOptionsForm.displayName = 'ZipFileOptionsForm';\nZipFileOptionsForm.propTypes = {\n  onZipOptionsResolved: prop_types__WEBPACK_IMPORTED_MODULE_2___default.a.func.isRequired\n};\n/* harmony default export */ __webpack_exports__[\"default\"] = (ZipFileOptionsForm);\n\n//# sourceURL=webpack:///./ui/shared/files/react/components/ZipFileOptionsForm.js?");

/***/ }),

/***/ "6NVu":
/*!***********************************!*\
  !*** ./packages/deparam/index.js ***!
  \***********************************/
/*! exports provided: default */
/***/ (function(module, __webpack_exports__, __webpack_require__) {

"use strict";
eval("__webpack_require__.r(__webpack_exports__);\n/* harmony export (binding) */ __webpack_require__.d(__webpack_exports__, \"default\", function() { return deparam; });\n/* harmony import */ var obj_unflatten__WEBPACK_IMPORTED_MODULE_0__ = __webpack_require__(/*! obj-unflatten */ \"IxAH\");\n//\n// Copyright (C) 2012 - present Instructure, Inc.\n//\n// This file is part of Canvas.\n//\n// Canvas is free software: you can redistribute it and/or modify it under\n// the terms of the GNU Affero General Public License as published by the Free\n// Software Foundation, version 3 of the License.\n//\n// Canvas is distributed in the hope that it will be useful, but WITHOUT ANY\n// WARRANTY; without even the implied warranty of MERCHANTABILITY or FITNESS FOR\n// A PARTICULAR PURPOSE. See the GNU Affero General Public License for more\n// details.\n//\n// You should have received a copy of the GNU Affero General Public License along\n// with this program. If not, see <http://www.gnu.org/licenses/>.\n\n// an extraction of the deparam method from Ben Alman's jQuery BBQ\n// http://benalman.com/projects/jquery-bbq-plugin/\n\n\n\nconst coerceTypes = {\n  true: true,\n  false: false,\n  null: null\n}\n\nfunction deparam(params, coerce) {\n  // shortcut for just deparam'ing the current querystring\n  if (!params || typeof params === 'boolean') {\n    const currentQueryString = window.location.search\n    if (!currentQueryString) return {}\n    return deparam(currentQueryString, ...arguments)\n  }\n\n  const obj = {}\n  params\n    .replace(/\\+/g, ' ')\n    .split('&')\n    .forEach(param => {\n      let [key, val] = param.split('=')\n      key = decodeURIComponent(key)\n      val = decodeURIComponent(val)\n\n      // coerce values.\n      if (coerce) {\n        val =\n          val && !isNaN(val)\n            ? +val // number\n            : val === 'undefined'\n            ? undefined // undefined\n            : coerceTypes[val] !== undefined\n            ? coerceTypes[val] // true, false, null\n            : val // string\n      }\n\n      obj[key] = val\n    })\n\n  return Object(obj_unflatten__WEBPACK_IMPORTED_MODULE_0__[\"default\"])(obj)\n}\n\n\n//# sourceURL=webpack:///./packages/deparam/index.js?");

/***/ }),

/***/ "7l+j":
/*!**********************************************************!*\
  !*** ./ui/features/files/react/components/FolderTree.js ***!
  \**********************************************************/
/*! exports provided: default */
/***/ (function(module, __webpack_exports__, __webpack_require__) {

"use strict";
eval("__webpack_require__.r(__webpack_exports__);\n/* harmony import */ var react__WEBPACK_IMPORTED_MODULE_0__ = __webpack_require__(/*! react */ \"q1tI\");\n/* harmony import */ var react__WEBPACK_IMPORTED_MODULE_0___default = /*#__PURE__*/__webpack_require__.n(react__WEBPACK_IMPORTED_MODULE_0__);\n/* harmony import */ var create_react_class__WEBPACK_IMPORTED_MODULE_1__ = __webpack_require__(/*! create-react-class */ \"fhzG\");\n/* harmony import */ var create_react_class__WEBPACK_IMPORTED_MODULE_1___default = /*#__PURE__*/__webpack_require__.n(create_react_class__WEBPACK_IMPORTED_MODULE_1__);\n/* harmony import */ var _legacy_components_FolderTree__WEBPACK_IMPORTED_MODULE_2__ = __webpack_require__(/*! ../legacy/components/FolderTree */ \"oYHZ\");\n/*\n * Copyright (C) 2015 - present Instructure, Inc.\n *\n * This file is part of Canvas.\n *\n * Canvas is free software: you can redistribute it and/or modify it under\n * the terms of the GNU Affero General Public License as published by the Free\n * Software Foundation, version 3 of the License.\n *\n * Canvas is distributed in the hope that it will be useful, but WITHOUT ANY\n * WARRANTY; without even the implied warranty of MERCHANTABILITY or FITNESS FOR\n * A PARTICULAR PURPOSE. See the GNU Affero General Public License for more\n * details.\n *\n * You should have received a copy of the GNU Affero General Public License along\n * with this program. If not, see <http://www.gnu.org/licenses/>.\n */\n\n\n\n\n_legacy_components_FolderTree__WEBPACK_IMPORTED_MODULE_2__[\"default\"].render = function () {\n  return /*#__PURE__*/react__WEBPACK_IMPORTED_MODULE_0___default.a.createElement(\"div\", {\n    className: \"ef-folder-list\",\n    ref: \"FolderTreeHolder\"\n  });\n};\n\n/* harmony default export */ __webpack_exports__[\"default\"] = (create_react_class__WEBPACK_IMPORTED_MODULE_1___default()(_legacy_components_FolderTree__WEBPACK_IMPORTED_MODULE_2__[\"default\"]));\n\n//# sourceURL=webpack:///./ui/features/files/react/components/FolderTree.js?");

/***/ }),

/***/ "7lHU":
/*!********************************************************!*\
  !*** ./ui/shared/files/react/components/UploadForm.js ***!
  \********************************************************/
/*! exports provided: UploadFormPropTypes, default */
/***/ (function(module, __webpack_exports__, __webpack_require__) {

"use strict";
eval("__webpack_require__.r(__webpack_exports__);\n/* harmony export (binding) */ __webpack_require__.d(__webpack_exports__, \"UploadFormPropTypes\", function() { return UploadFormPropTypes; });\n/* harmony import */ var _babel_runtime_helpers_esm_objectSpread2__WEBPACK_IMPORTED_MODULE_0__ = __webpack_require__(/*! @babel/runtime/helpers/esm/objectSpread2 */ \"VTBJ\");\n/* harmony import */ var react__WEBPACK_IMPORTED_MODULE_1__ = __webpack_require__(/*! react */ \"q1tI\");\n/* harmony import */ var react__WEBPACK_IMPORTED_MODULE_1___default = /*#__PURE__*/__webpack_require__.n(react__WEBPACK_IMPORTED_MODULE_1__);\n/* harmony import */ var prop_types__WEBPACK_IMPORTED_MODULE_2__ = __webpack_require__(/*! prop-types */ \"17x9\");\n/* harmony import */ var prop_types__WEBPACK_IMPORTED_MODULE_2___default = /*#__PURE__*/__webpack_require__.n(prop_types__WEBPACK_IMPORTED_MODULE_2__);\n/* harmony import */ var _FileRenameForm__WEBPACK_IMPORTED_MODULE_3__ = __webpack_require__(/*! ./FileRenameForm */ \"RfgP\");\n/* harmony import */ var _ZipFileOptionsForm__WEBPACK_IMPORTED_MODULE_4__ = __webpack_require__(/*! ./ZipFileOptionsForm */ \"6EIe\");\n/* harmony import */ var _modules_FileOptionsCollection__WEBPACK_IMPORTED_MODULE_5__ = __webpack_require__(/*! ../modules/FileOptionsCollection */ \"MAjw\");\n\n\n/*\n * Copyright (C) 2015 - present Instructure, Inc.\n *\n * This file is part of Canvas.\n *\n * Canvas is free software: you can redistribute it and/or modify it under\n * the terms of the GNU Affero General Public License as published by the Free\n * Software Foundation, version 3 of the License.\n *\n * Canvas is distributed in the hope that it will be useful, but WITHOUT ANY\n * WARRANTY; without even the implied warranty of MERCHANTABILITY or FITNESS FOR\n * A PARTICULAR PURPOSE. See the GNU Affero General Public License for more\n * details.\n *\n * You should have received a copy of the GNU Affero General Public License along\n * with this program. If not, see <http://www.gnu.org/licenses/>.\n */\n\n\n\n\n\nconst UploadFormPropTypes = {\n  contextId: Object(prop_types__WEBPACK_IMPORTED_MODULE_2__[\"oneOfType\"])([prop_types__WEBPACK_IMPORTED_MODULE_2__[\"string\"], prop_types__WEBPACK_IMPORTED_MODULE_2__[\"number\"]]).isRequired,\n  contextType: prop_types__WEBPACK_IMPORTED_MODULE_2__[\"string\"].isRequired,\n  currentFolder: prop_types__WEBPACK_IMPORTED_MODULE_2__[\"object\"],\n  // could be instanceOf(Folder), but if I import 'compiled/models/Folder', jest fails to run\n  allowSkip: prop_types__WEBPACK_IMPORTED_MODULE_2__[\"bool\"],\n  visible: prop_types__WEBPACK_IMPORTED_MODULE_2__[\"bool\"],\n  inputId: prop_types__WEBPACK_IMPORTED_MODULE_2__[\"string\"],\n  inputName: prop_types__WEBPACK_IMPORTED_MODULE_2__[\"string\"],\n  autoUpload: prop_types__WEBPACK_IMPORTED_MODULE_2__[\"bool\"],\n  // if true, upload as soon as file(s) are selected\n  disabled: prop_types__WEBPACK_IMPORTED_MODULE_2__[\"bool\"],\n  alwaysRename: prop_types__WEBPACK_IMPORTED_MODULE_2__[\"bool\"],\n  // if false offer to rename files\n  alwaysUploadZips: prop_types__WEBPACK_IMPORTED_MODULE_2__[\"bool\"],\n  // if false offer to expand zip files\n  onChange: prop_types__WEBPACK_IMPORTED_MODULE_2__[\"func\"],\n  onEmptyOrClose: prop_types__WEBPACK_IMPORTED_MODULE_2__[\"func\"],\n  onRenameFileMessage: prop_types__WEBPACK_IMPORTED_MODULE_2__[\"func\"],\n  onLockFileMessage: prop_types__WEBPACK_IMPORTED_MODULE_2__[\"func\"]\n};\n\nclass UploadForm extends react__WEBPACK_IMPORTED_MODULE_1___default.a.Component {\n  constructor(props) {\n    super(props);\n\n    this.addFiles = () => {\n      return this.addFileInputRef.current.click();\n    };\n\n    this.handleFilesInputChange = e => {\n      this.props.onChange(e);\n      _modules_FileOptionsCollection__WEBPACK_IMPORTED_MODULE_5__[\"default\"].setOptionsFromFiles(e.target.files);\n      this.setStateFromOptions();\n    };\n\n    this.onNameConflictResolved = fileNameOptions => {\n      _modules_FileOptionsCollection__WEBPACK_IMPORTED_MODULE_5__[\"default\"].onNameConflictResolved(fileNameOptions);\n      this.setStateFromOptions(() => {\n        if (this.state.resolvedNames.length + this.state.nameCollisions.length + this.state.zipOptions.length === 0) {\n          this.reset();\n          this.props.onChange();\n        }\n      });\n    };\n\n    this.onZipOptionsResolved = fileNameOptions => {\n      _modules_FileOptionsCollection__WEBPACK_IMPORTED_MODULE_5__[\"default\"].onZipOptionsResolved(fileNameOptions);\n      this.setStateFromOptions();\n    };\n\n    this.onClose = () => {\n      // user dismissed a zip or name conflict modal\n      if (this.props.autoUpload) {\n        // autoUpload enabled, so reset state to dump previously selected files\n        this.reset();\n        _modules_FileOptionsCollection__WEBPACK_IMPORTED_MODULE_5__[\"default\"].resetState();\n        this.setStateFromOptions();\n        this.props.onEmptyOrClose();\n      } else {\n        // autoUpload disabled, so restore to currently selected files\n        this.restore();\n      }\n    };\n\n    this.setStateFromOptions = callback => {\n      this.setState(_modules_FileOptionsCollection__WEBPACK_IMPORTED_MODULE_5__[\"default\"].getState(), callback);\n    };\n\n    this.buildPotentialModal = () => {\n      if (this.state.zipOptions.length && !this.props.alwaysUploadZips) {\n        return /*#__PURE__*/react__WEBPACK_IMPORTED_MODULE_1___default.a.createElement(_ZipFileOptionsForm__WEBPACK_IMPORTED_MODULE_4__[\"default\"], {\n          fileOptions: this.state.zipOptions[0],\n          onZipOptionsResolved: this.onZipOptionsResolved,\n          onClose: this.onClose\n        });\n      } else if (this.state.nameCollisions.length && !this.props.alwaysRename) {\n        return /*#__PURE__*/react__WEBPACK_IMPORTED_MODULE_1___default.a.createElement(_FileRenameForm__WEBPACK_IMPORTED_MODULE_3__[\"default\"], {\n          \"data-testid\": \"rename-dialog\",\n          fileOptions: this.state.nameCollisions[0],\n          onNameConflictResolved: this.onNameConflictResolved,\n          onClose: this.onClose,\n          allowSkip: this.props.allowSkip,\n          onRenameFileMessage: this.props.onRenameFileMessage,\n          onLockFileMessage: this.props.onLockFileMessage\n        });\n      }\n    };\n\n    this.formRef = /*#__PURE__*/react__WEBPACK_IMPORTED_MODULE_1___default.a.createRef();\n    this.addFileInputRef = /*#__PURE__*/react__WEBPACK_IMPORTED_MODULE_1___default.a.createRef();\n    this.state = Object(_babel_runtime_helpers_esm_objectSpread2__WEBPACK_IMPORTED_MODULE_0__[\"default\"])(Object(_babel_runtime_helpers_esm_objectSpread2__WEBPACK_IMPORTED_MODULE_0__[\"default\"])({}, _modules_FileOptionsCollection__WEBPACK_IMPORTED_MODULE_5__[\"default\"].getState()), {}, {\n      showResolveModals: this.props.autoUpload\n    });\n    this.setFolder(props.currentFolder);\n    this.setUploadOptions(props);\n  }\n\n  setFolder(folder) {\n    const previous = _modules_FileOptionsCollection__WEBPACK_IMPORTED_MODULE_5__[\"default\"].getFolder();\n    _modules_FileOptionsCollection__WEBPACK_IMPORTED_MODULE_5__[\"default\"].setFolder(folder); // When auto upload is disabled, then its possible for the folder\n    // to change before upload actually occurs, so if the folder is\n    // different than before then call `setOptionsFromFiles` again\n    // to resolve any name collisions under the new folder.\n\n    if (!this.props.autoUpload && previous !== null && previous !== void 0 && previous.id && folder !== null && folder !== void 0 && folder.id && folder.id !== previous.id) {\n      _modules_FileOptionsCollection__WEBPACK_IMPORTED_MODULE_5__[\"default\"].setOptionsFromFiles(this.addFileInputRef.current.files);\n      this.setStateFromOptions();\n    }\n  }\n\n  getFolder() {\n    return _modules_FileOptionsCollection__WEBPACK_IMPORTED_MODULE_5__[\"default\"].getFolder();\n  }\n\n  reset(force = false) {\n    // Don't reset the form if we're not auto uploading,\n    // since the user may have just closed a file rename dialog,\n    // and they should return to the form with the\n    // currently selected files still chosen.\n    if (force || this.props.autoUpload) {\n      var _this$formRef$current;\n\n      (_this$formRef$current = this.formRef.current) === null || _this$formRef$current === void 0 ? void 0 : _this$formRef$current.reset();\n    }\n\n    this.setState({\n      showResolveModals: this.props.autoUpload\n    });\n  }\n\n  restore() {\n    _modules_FileOptionsCollection__WEBPACK_IMPORTED_MODULE_5__[\"default\"].setOptionsFromFiles(this.addFileInputRef.current.files);\n    this.setStateFromOptions();\n    this.setState({\n      showResolveModals: false\n    });\n  }\n\n  setUploadOptions({\n    alwaysRename,\n    alwaysUploadZips\n  }) {\n    _modules_FileOptionsCollection__WEBPACK_IMPORTED_MODULE_5__[\"default\"].setUploadOptions({\n      alwaysRename,\n      alwaysUploadZips\n    });\n  }\n\n  _actualQueueUploads() {\n    this.reset();\n    return _modules_FileOptionsCollection__WEBPACK_IMPORTED_MODULE_5__[\"default\"].queueUploads(this.props.contextId, this.props.contextType);\n  }\n\n  queueUploads() {\n    if (this.props.autoUpload) {\n      this._actualQueueUploads();\n    } else if (!this.state.showResolveModals) {\n      // When autoUpload is disabled, we don't queue uploads\n      // immediately, but instead show any modals necessary\n      // to resolve name collisions or locked files\n      this.setState({\n        showResolveModals: true\n      });\n    }\n  }\n\n  componentDidUpdate() {\n    this.setFolder(this.props.currentFolder);\n    this.setUploadOptions(this.props);\n\n    if (this.state.zipOptions.length === 0 && this.state.nameCollisions.length === 0 && _modules_FileOptionsCollection__WEBPACK_IMPORTED_MODULE_5__[\"default\"].hasNewOptions()) {\n      if (this.props.autoUpload) {\n        if (this.state.resolvedNames.length > 0) {\n          this._actualQueueUploads();\n        } else {\n          this.props.onEmptyOrClose();\n        }\n      } else if (this.state.showResolveModals) {\n        if (this.state.resolvedNames.length > 0) {\n          this._actualQueueUploads();\n        } else {\n          this.restore();\n        }\n      }\n    }\n  }\n\n  UNSAFE_componentWillMount() {\n    _modules_FileOptionsCollection__WEBPACK_IMPORTED_MODULE_5__[\"default\"].onChange = this.setStateFromOptions;\n  }\n\n  componentWillUnMount() {\n    _modules_FileOptionsCollection__WEBPACK_IMPORTED_MODULE_5__[\"default\"].onChange = null;\n  }\n\n  render() {\n    return /*#__PURE__*/react__WEBPACK_IMPORTED_MODULE_1___default.a.createElement(\"span\", null, /*#__PURE__*/react__WEBPACK_IMPORTED_MODULE_1___default.a.createElement(\"form\", {\n      ref: this.formRef,\n      className: this.props.visible ? '' : 'hidden'\n    }, /*#__PURE__*/react__WEBPACK_IMPORTED_MODULE_1___default.a.createElement(\"input\", {\n      id: this.props.inputId,\n      name: this.props.inputName,\n      type: \"file\",\n      ref: this.addFileInputRef,\n      onChange: this.handleFilesInputChange,\n      multiple: true,\n      \"data-testid\": \"file-input\",\n      disabled: this.props.disabled\n    })), this.state.showResolveModals && this.buildPotentialModal());\n  }\n\n}\n\nUploadForm.propTypes = UploadFormPropTypes;\nUploadForm.defaultProps = {\n  allowSkip: false,\n  autoUpload: true,\n  disabled: false,\n  alwaysRename: false,\n  alwaysUploadZips: false,\n  onChange: () => {},\n  onEmptyOrClose: () => {},\n  onRenameFileMessage: () => {},\n  onLockFileMessage: () => {}\n};\n/* harmony default export */ __webpack_exports__[\"default\"] = (UploadForm);\n\n//# sourceURL=webpack:///./ui/shared/files/react/components/UploadForm.js?");

/***/ }),

/***/ "9Qmj":
/*!************************************************************!*\
  !*** ./ui/shared/progress/react/components/ProgressBar.js ***!
  \************************************************************/
/*! exports provided: default */
/***/ (function(module, __webpack_exports__, __webpack_require__) {

"use strict";
eval("__webpack_require__.r(__webpack_exports__);\n/* harmony export (binding) */ __webpack_require__.d(__webpack_exports__, \"default\", function() { return ProgressBar; });\n/* harmony import */ var react__WEBPACK_IMPORTED_MODULE_0__ = __webpack_require__(/*! react */ \"q1tI\");\n/* harmony import */ var react__WEBPACK_IMPORTED_MODULE_0___default = /*#__PURE__*/__webpack_require__.n(react__WEBPACK_IMPORTED_MODULE_0__);\n/* harmony import */ var prop_types__WEBPACK_IMPORTED_MODULE_1__ = __webpack_require__(/*! prop-types */ \"17x9\");\n/* harmony import */ var prop_types__WEBPACK_IMPORTED_MODULE_1___default = /*#__PURE__*/__webpack_require__.n(prop_types__WEBPACK_IMPORTED_MODULE_1__);\n/* harmony import */ var classnames__WEBPACK_IMPORTED_MODULE_2__ = __webpack_require__(/*! classnames */ \"TSYQ\");\n/* harmony import */ var classnames__WEBPACK_IMPORTED_MODULE_2___default = /*#__PURE__*/__webpack_require__.n(classnames__WEBPACK_IMPORTED_MODULE_2__);\n/*\n * Copyright (C) 2015 - present Instructure, Inc.\n *\n * This file is part of Canvas.\n *\n * Canvas is free software: you can redistribute it and/or modify it under\n * the terms of the GNU Affero General Public License as published by the Free\n * Software Foundation, version 3 of the License.\n *\n * Canvas is distributed in the hope that it will be useful, but WITHOUT ANY\n * WARRANTY; without even the implied warranty of MERCHANTABILITY or FITNESS FOR\n * A PARTICULAR PURPOSE. See the GNU Affero General Public License for more\n * details.\n *\n * You should have received a copy of the GNU Affero General Public License along\n * with this program. If not, see <http://www.gnu.org/licenses/>.\n */\n\n\n\nfunction ProgressBar(props) {\n  return /*#__PURE__*/react__WEBPACK_IMPORTED_MODULE_0___default.a.createElement(\"div\", {\n    className: classnames__WEBPACK_IMPORTED_MODULE_2___default()({\n      'progress-bar__bar-container': true,\n      'almost-done': props.progress === 100\n    })\n  }, /*#__PURE__*/react__WEBPACK_IMPORTED_MODULE_0___default.a.createElement(\"div\", {\n    className: classnames__WEBPACK_IMPORTED_MODULE_2___default()({\n      'progress-bar__bar': true,\n      'almost-done': props.progress === 100\n    }),\n    role: \"progressbar\",\n    \"aria-valuenow\": props.progress,\n    \"aria-valuemin\": \"0\",\n    \"aria-valuemax\": \"100\",\n    \"aria-label\": props['aria-label'] || '',\n    style: {\n      width: `${Math.min(props.progress, 100)}%`\n    }\n  }));\n}\nProgressBar.propTypes = {\n  'aria-label': prop_types__WEBPACK_IMPORTED_MODULE_1__[\"string\"],\n  progress: prop_types__WEBPACK_IMPORTED_MODULE_1__[\"number\"].isRequired\n};\n\n//# sourceURL=webpack:///./ui/shared/progress/react/components/ProgressBar.js?");

/***/ }),

/***/ "AB3t":
/*!******************************************************************!*\
  !*** ./ui/shared/files/react/components/LegacyFileRenameForm.js ***!
  \******************************************************************/
/*! exports provided: default */
/***/ (function(module, __webpack_exports__, __webpack_require__) {

"use strict";
eval("__webpack_require__.r(__webpack_exports__);\n/* harmony import */ var react_dom__WEBPACK_IMPORTED_MODULE_0__ = __webpack_require__(/*! react-dom */ \"i8i4\");\n/* harmony import */ var react_dom__WEBPACK_IMPORTED_MODULE_0___default = /*#__PURE__*/__webpack_require__.n(react_dom__WEBPACK_IMPORTED_MODULE_0__);\n/* harmony import */ var prop_types__WEBPACK_IMPORTED_MODULE_1__ = __webpack_require__(/*! prop-types */ \"17x9\");\n/* harmony import */ var prop_types__WEBPACK_IMPORTED_MODULE_1___default = /*#__PURE__*/__webpack_require__.n(prop_types__WEBPACK_IMPORTED_MODULE_1__);\n/*\n * Copyright (C) 2014 - present Instructure, Inc.\n *\n * This file is part of Canvas.\n *\n * Canvas is free software: you can redistribute it and/or modify it under\n * the terms of the GNU Affero General Public License as published by the Free\n * Software Foundation, version 3 of the License.\n *\n * Canvas is distributed in the hope that it will be useful, but WITHOUT ANY\n * WARRANTY; without even the implied warranty of MERCHANTABILITY or FITNESS FOR\n * A PARTICULAR PURPOSE. See the GNU Affero General Public License for more\n * details.\n *\n * You should have received a copy of the GNU Affero General Public License along\n * with this program. If not, see <http://www.gnu.org/licenses/>.\n */\n\n\n/* harmony default export */ __webpack_exports__[\"default\"] = ({\n  displayName: 'FileRenameForm',\n  // dialog for renaming\n  propType: {\n    fileOptions: prop_types__WEBPACK_IMPORTED_MODULE_1___default.a.object,\n    onNameConflictResolved: prop_types__WEBPACK_IMPORTED_MODULE_1___default.a.func.isRequired,\n    allowSkip: prop_types__WEBPACK_IMPORTED_MODULE_1___default.a.bool,\n    onRenameFileMessage: prop_types__WEBPACK_IMPORTED_MODULE_1___default.a.func,\n    onLockFileMessage: prop_types__WEBPACK_IMPORTED_MODULE_1___default.a.func\n  },\n\n  getInitialState() {\n    return {\n      isEditing: false,\n      fileOptions: this.props.fileOptions\n    };\n  },\n\n  componentWillReceiveProps(newProps) {\n    this.setState({\n      fileOptions: newProps.fileOptions,\n      isEditing: false\n    });\n  },\n\n  handleRenameClick() {\n    this.setState({\n      isEditing: true\n    });\n  },\n\n  handleBackClick() {\n    this.setState({\n      isEditing: false\n    });\n  },\n\n  handleSkipClick() {\n    if (this.props.closeOnResolve) this.refs.canvasModal.closeModal();\n    return this.props.onNameConflictResolved({\n      file: this.state.fileOptions.file,\n      dup: 'skip',\n      name: this.state.fileOptions.name,\n      expandZip: this.state.fileOptions.expandZip\n    });\n  },\n\n  // pass back expandZip to preserve options that was possibly already made\n  // in a previous modal\n  handleReplaceClick() {\n    if (this.props.closeOnResolve) this.refs.canvasModal.closeModal();\n    return this.props.onNameConflictResolved({\n      file: this.state.fileOptions.file,\n      dup: 'overwrite',\n      name: this.state.fileOptions.name,\n      expandZip: this.state.fileOptions.expandZip\n    });\n  },\n\n  // pass back expandZip to preserve options that was possibly already made\n  // in a previous modal\n  handleChangeClick() {\n    if (this.props.closeOnResolve) this.refs.canvasModal.closeModal();\n    return this.props.onNameConflictResolved({\n      file: this.state.fileOptions.file,\n      dup: 'rename',\n      name: react_dom__WEBPACK_IMPORTED_MODULE_0___default.a.findDOMNode(this.refs.newName).value,\n      expandZip: this.state.fileOptions.expandZip\n    });\n  },\n\n  handleFormSubmit(e) {\n    e.preventDefault();\n    return this.handleChangeClick();\n  }\n\n});\n\n//# sourceURL=webpack:///./ui/shared/files/react/components/LegacyFileRenameForm.js?");

/***/ }),

/***/ "BcBy":
/*!***********************************************!*\
  !*** ./ui/shared/files/util/getFileStatus.js ***!
  \***********************************************/
/*! exports provided: default */
/***/ (function(module, __webpack_exports__, __webpack_require__) {

"use strict";
eval("__webpack_require__.r(__webpack_exports__);\n/* harmony export (binding) */ __webpack_require__.d(__webpack_exports__, \"default\", function() { return getFileStatus; });\n/* harmony import */ var _canvas_backbone__WEBPACK_IMPORTED_MODULE_0__ = __webpack_require__(/*! @canvas/backbone */ \"mX+G\");\n/* harmony import */ var _canvas_backbone__WEBPACK_IMPORTED_MODULE_0___default = /*#__PURE__*/__webpack_require__.n(_canvas_backbone__WEBPACK_IMPORTED_MODULE_0__);\n/* harmony import */ var i18n_file_status__WEBPACK_IMPORTED_MODULE_1__ = __webpack_require__(/*! i18n!file_status */ \"WZul\");\n/*\n * Copyright (C) 2014 - present Instructure, Inc.\n *\n * This file is part of Canvas.\n *\n * Canvas is free software: you can redistribute it and/or modify it under\n * the terms of the GNU Affero General Public License as published by the Free\n * Software Foundation, version 3 of the License.\n *\n * Canvas is distributed in the hope that it will be useful, but WITHOUT ANY\n * WARRANTY; without even the implied warranty of MERCHANTABILITY or FITNESS FOR\n * A PARTICULAR PURPOSE. See the GNU Affero General Public License for more\n * details.\n *\n * You should have received a copy of the GNU Affero General Public License along\n * with this program. If not, see <http://www.gnu.org/licenses/>.\n */\n\n // Handles getting the status for a file.\n//\n// Returns an internationalized string describing the status of a file.\n//\n// model is a Backbone file model.\n\nfunction getFileStatus(model) {\n  // Error handling to return an empty string should a Backbone model not\n  // be provided, or if it is currently undefined/null.\n  if (model == null || !(model instanceof _canvas_backbone__WEBPACK_IMPORTED_MODULE_0___default.a.Model)) return ''; // Determine what the file status is\n\n  const status = {\n    published: !model.get('locked'),\n    restricted: !!model.get('lock_at') || !!model.get('unlock_at'),\n    hidden: !!model.get('hidden')\n  };\n\n  if (status.published && status.restricted) {\n    return i18n_file_status__WEBPACK_IMPORTED_MODULE_1__[\"default\"].t('restricted_status', 'Available from %{from_date} until %{until_date}', {\n      from_date: $.datetimeString(model.get('unlock_at')),\n      until_date: $.datetimeString(model.get('lock_at'))\n    });\n  } else if (status.published && status.hidden) {\n    return i18n_file_status__WEBPACK_IMPORTED_MODULE_1__[\"default\"].t('hidden_status', 'Hidden. Available with a link');\n  } else if (status.published) {\n    return i18n_file_status__WEBPACK_IMPORTED_MODULE_1__[\"default\"].t('published_status', 'Published');\n  } else {\n    return i18n_file_status__WEBPACK_IMPORTED_MODULE_1__[\"default\"].t('unpublished_status', 'Unpublished');\n  }\n}\n\n//# sourceURL=webpack:///./ui/shared/files/util/getFileStatus.js?");

/***/ }),

/***/ "ByV2":
/*!************************************************!*\
  !*** ./ui/shared/files/util/setUsageRights.js ***!
  \************************************************/
/*! exports provided: default */
/***/ (function(module, __webpack_exports__, __webpack_require__) {

"use strict";
eval("__webpack_require__.r(__webpack_exports__);\n/* harmony export (binding) */ __webpack_require__.d(__webpack_exports__, \"default\", function() { return setUsageRights; });\n/* harmony import */ var jquery__WEBPACK_IMPORTED_MODULE_0__ = __webpack_require__(/*! jquery */ \"ouhR\");\n/* harmony import */ var jquery__WEBPACK_IMPORTED_MODULE_0___default = /*#__PURE__*/__webpack_require__.n(jquery__WEBPACK_IMPORTED_MODULE_0__);\n/* harmony import */ var _backbone_models_Folder__WEBPACK_IMPORTED_MODULE_1__ = __webpack_require__(/*! ../backbone/models/Folder */ \"3jyj\");\n/* harmony import */ var _react_modules_filesEnv__WEBPACK_IMPORTED_MODULE_2__ = __webpack_require__(/*! ../react/modules/filesEnv */ \"m452\");\n/*\n * Copyright (C) 2014 - present Instructure, Inc.\n *\n * This file is part of Canvas.\n *\n * Canvas is free software: you can redistribute it and/or modify it under\n * the terms of the GNU Affero General Public License as published by the Free\n * Software Foundation, version 3 of the License.\n *\n * Canvas is distributed in the hope that it will be useful, but WITHOUT ANY\n * WARRANTY; without even the implied warranty of MERCHANTABILITY or FITNESS FOR\n * A PARTICULAR PURPOSE. See the GNU Affero General Public License for more\n * details.\n *\n * You should have received a copy of the GNU Affero General Public License along\n * with this program. If not, see <http://www.gnu.org/licenses/>.\n */\n// ###\n// Sets the usage rights for the given items.\n// - items should be an array of Files/Folders models\n// - usageRights should be an object of this form:\n//   {\n//      use_justification: fair_use, etc.\n//      legal_copyright: \"(C) 2014 Instructure\"\n//      license: creative_commons, etc.\n//   }\n//\n// - callback should be a function that handles what to do when complete\n//   It is called with these parameters (success, data)\n//     - success is a boolean indicating if the api call worked\n//     - data is the data returned from the api\n// ###\n\n\n\nfunction setUsageRights(items, usageRights, callback, overrideContextId = null, overrideContextType = null) {\n  let contextId, contextType, parentFolder;\n\n  if (_react_modules_filesEnv__WEBPACK_IMPORTED_MODULE_2__[\"default\"].contextType === 'users' && items.length > 0 && (parentFolder = items[0].collection && items[0].collection.parentFolder)) {\n    contextType = `${parentFolder.get('context_type').toLowerCase()}s`;\n    contextId = parentFolder.get('context_id');\n  } else {\n    ;\n    contextType = _react_modules_filesEnv__WEBPACK_IMPORTED_MODULE_2__[\"default\"].contextType;\n    contextId = _react_modules_filesEnv__WEBPACK_IMPORTED_MODULE_2__[\"default\"].contextId;\n  }\n\n  if (!contextType) {\n    contextType = overrideContextType;\n  }\n\n  if (!contextId) {\n    contextId = overrideContextId;\n  }\n\n  const apiUrl = `/api/v1/${contextType}/${contextId}/usage_rights`;\n  const folder_ids = [];\n  const file_ids = [];\n  items.forEach(item => {\n    if (item instanceof _backbone_models_Folder__WEBPACK_IMPORTED_MODULE_1__[\"default\"]) {\n      folder_ids.push(item.get('id'));\n    } else {\n      file_ids.push(item.get('id'));\n    }\n  });\n  return jquery__WEBPACK_IMPORTED_MODULE_0___default.a.ajax({\n    url: apiUrl,\n    type: 'PUT',\n    data: {\n      folder_ids,\n      file_ids,\n      usage_rights: usageRights\n    },\n\n    success(data) {\n      return callback(true, data);\n    },\n\n    error(data) {\n      return callback(false, data);\n    }\n\n  });\n}\n\n//# sourceURL=webpack:///./ui/shared/files/util/setUsageRights.js?");

/***/ }),

/***/ "C4hU":
/*!***************************************************!*\
  !*** ./ui/shared/files/util/collectionHandler.js ***!
  \***************************************************/
/*! exports provided: default */
/***/ (function(module, __webpack_exports__, __webpack_require__) {

"use strict";
eval("__webpack_require__.r(__webpack_exports__);\n/* harmony import */ var _canvas_backbone__WEBPACK_IMPORTED_MODULE_0__ = __webpack_require__(/*! @canvas/backbone */ \"mX+G\");\n/* harmony import */ var _canvas_backbone__WEBPACK_IMPORTED_MODULE_0___default = /*#__PURE__*/__webpack_require__.n(_canvas_backbone__WEBPACK_IMPORTED_MODULE_0__);\n/*\n * Copyright (C) 2014 - present Instructure, Inc.\n *\n * This file is part of Canvas.\n *\n * Canvas is free software: you can redistribute it and/or modify it under\n * the terms of the GNU Affero General Public License as published by the Free\n * Software Foundation, version 3 of the License.\n *\n * Canvas is distributed in the hope that it will be useful, but WITHOUT ANY\n * WARRANTY; without even the implied warranty of MERCHANTABILITY or FITNESS FOR\n * A PARTICULAR PURPOSE. See the GNU Affero General Public License for more\n * details.\n *\n * You should have received a copy of the GNU Affero General Public License along\n * with this program. If not, see <http://www.gnu.org/licenses/>.\n */\n// Handles navigation through a collection.\n\n/* harmony default export */ __webpack_exports__[\"default\"] = ({\n  isBackboneCollection(collection) {\n    return collection instanceof _canvas_backbone__WEBPACK_IMPORTED_MODULE_0___default.a.Collection;\n  },\n\n  // Get the previous item in a collection.\n  getPreviousInRelationTo(collection, collectionItem) {\n    const isBackbone = this.isBackboneCollection(collection);\n    const itemIndex = collection.indexOf(collectionItem); // Return null if the item wasn't found.\n\n    if (!(itemIndex >= 0)) {\n      return null;\n    }\n\n    const nextIndex = itemIndex - 1; // Return the last item if we were at the first.\n\n    if (nextIndex < 0) {\n      if (isBackbone) {\n        return collection.at(collection.length - 1);\n      } else {\n        return collection[collection.length - 1];\n      }\n    } // Otherwise let's just return the previous item.\n\n\n    if (isBackbone) {\n      return collection.at(nextIndex);\n    } else {\n      return collection[nextIndex];\n    }\n  },\n\n  // Get the next item in a collection.\n  getNextInRelationTo(collection, collectionItem) {\n    const isBackbone = this.isBackboneCollection(collection);\n    const itemIndex = collection.indexOf(collectionItem); // Return null if the item wasn't found.\n\n    if (!(itemIndex >= 0)) return null;\n    const nextIndex = itemIndex + 1; // Return the first item if we were at the last.\n\n    if (nextIndex > collection.length - 1) {\n      if (isBackbone) {\n        return collection.at(0);\n      } else {\n        return collection[0];\n      }\n    } // Otherwise let's just return the next item.\n\n\n    if (isBackbone) {\n      return collection.at(nextIndex);\n    } else {\n      return collection[nextIndex];\n    }\n  }\n\n});\n\n//# sourceURL=webpack:///./ui/shared/files/util/collectionHandler.js?");

/***/ }),

/***/ "C7Zj":
/*!****************************************************************************************!*\
  !*** ./frontend_build/i18n.js?direct_share_user_modal!./ui/shims/dummyI18nResource.js ***!
  \****************************************************************************************/
/*! exports provided: default */
/***/ (function(module, __webpack_exports__, __webpack_require__) {

"use strict";
eval("__webpack_require__.r(__webpack_exports__);\n/* harmony import */ var _canvas_i18n_i18nObj__WEBPACK_IMPORTED_MODULE_0__ = __webpack_require__(/*! @canvas/i18n/i18nObj */ \"HGxv\");\n/* harmony import */ var translations_core_en__WEBPACK_IMPORTED_MODULE_1__ = __webpack_require__(/*! translations/_core_en */ \"0sPK\");\n\n    \n    \n    \n\n    /* harmony default export */ __webpack_exports__[\"default\"] = (_canvas_i18n_i18nObj__WEBPACK_IMPORTED_MODULE_0__[\"default\"].scoped('direct_share_user_modal'));\n  \n\n//# sourceURL=webpack:///./ui/shims/dummyI18nResource.js?./frontend_build/i18n.js?direct_share_user_modal");

/***/ }),

/***/ "C8i9":
/*!*****************************************************!*\
  !*** ./ui/shared/files/backbone/models/File.coffee ***!
  \*****************************************************/
/*! exports provided: default */
/***/ (function(module, __webpack_exports__, __webpack_require__) {

"use strict";
eval("__webpack_require__.r(__webpack_exports__);\n/* harmony import */ var jquery__WEBPACK_IMPORTED_MODULE_0__ = __webpack_require__(/*! jquery */ \"ouhR\");\n/* harmony import */ var jquery__WEBPACK_IMPORTED_MODULE_0___default = /*#__PURE__*/__webpack_require__.n(jquery__WEBPACK_IMPORTED_MODULE_0__);\n/* harmony import */ var underscore__WEBPACK_IMPORTED_MODULE_1__ = __webpack_require__(/*! underscore */ \"Y/W1\");\n/* harmony import */ var underscore__WEBPACK_IMPORTED_MODULE_1___default = /*#__PURE__*/__webpack_require__.n(underscore__WEBPACK_IMPORTED_MODULE_1__);\n/* harmony import */ var _FilesystemObject_coffee__WEBPACK_IMPORTED_MODULE_2__ = __webpack_require__(/*! ./FilesystemObject.coffee */ \"QYKH\");\n/* harmony import */ var _canvas_upload_file__WEBPACK_IMPORTED_MODULE_3__ = __webpack_require__(/*! @canvas/upload-file */ \"EyBU\");\n/* harmony import */ var _canvas_jquery_jquery_ajaxJSON__WEBPACK_IMPORTED_MODULE_4__ = __webpack_require__(/*! @canvas/jquery/jquery.ajaxJSON */ \"dhbk\");\nvar File,\n  bind = function(fn, me){ return function(){ return fn.apply(me, arguments); }; },\n  extend = function(child, parent) { for (var key in parent) { if (hasProp.call(parent, key)) child[key] = parent[key]; } function ctor() { this.constructor = child; } ctor.prototype = parent.prototype; child.prototype = new ctor(); child.__super__ = parent.prototype; return child; },\n  hasProp = {}.hasOwnProperty,\n  slice = [].slice;\n\n\n\n\n\n\n\n\n\n\n\n/* harmony default export */ __webpack_exports__[\"default\"] = (File = (function(superClass) {\n  extend(File, superClass);\n\n  function File() {\n    this.externalToolEnabled = bind(this.externalToolEnabled, this);\n    return File.__super__.constructor.apply(this, arguments);\n  }\n\n  File.prototype.url = function() {\n    if (this.isNew()) {\n      return File.__super__.url.apply(this, arguments);\n    } else {\n      return \"/api/v1/files/\" + this.id;\n    }\n  };\n\n  File.prototype.initialize = function(attributes, options) {\n    if (options == null) {\n      options = {};\n    }\n    this.preflightUrl = options.preflightUrl;\n    return File.__super__.initialize.apply(this, arguments);\n  };\n\n  File.prototype.save = function(attrs, options) {\n    var dfrd, file, filename, onError, onUpload, preflightData;\n    if (attrs == null) {\n      attrs = {};\n    }\n    if (options == null) {\n      options = {};\n    }\n    if (!this.get('file')) {\n      return File.__super__.save.apply(this, arguments);\n    }\n    this.set(attrs);\n    dfrd = jquery__WEBPACK_IMPORTED_MODULE_0___default.a.Deferred();\n    onUpload = (function(_this) {\n      return function(data) {\n        _this.set(data);\n        dfrd.resolve(data);\n        return typeof options.success === \"function\" ? options.success(data) : void 0;\n      };\n    })(this);\n    onError = (function(_this) {\n      return function(error) {\n        dfrd.reject(error);\n        return typeof options.error === \"function\" ? options.error(error) : void 0;\n      };\n    })(this);\n    file = this.get('file');\n    filename = (file.value || file.name).split(/[\\/\\\\]/).pop();\n    file = file.files[0];\n    preflightData = {\n      name: filename,\n      on_duplicate: 'rename'\n    };\n    Object(_canvas_upload_file__WEBPACK_IMPORTED_MODULE_3__[\"uploadFile\"])(this.preflightUrl, preflightData, file).then(onUpload)[\"catch\"](onError);\n    return dfrd;\n  };\n\n  File.prototype.isFile = true;\n\n  File.prototype.toJSON = function() {\n    var ref;\n    if (!this.get('file')) {\n      return File.__super__.toJSON.apply(this, arguments);\n    }\n    return underscore__WEBPACK_IMPORTED_MODULE_1___default.a.pick.apply(underscore__WEBPACK_IMPORTED_MODULE_1___default.a, [this.attributes, 'file'].concat(slice.call(underscore__WEBPACK_IMPORTED_MODULE_1___default.a.keys((ref = this.uploadParams) != null ? ref : {}))));\n  };\n\n  File.prototype.present = function() {\n    return underscore__WEBPACK_IMPORTED_MODULE_1___default.a.clone(this.attributes);\n  };\n\n  File.prototype.externalToolEnabled = function(tool) {\n    var content_type;\n    if (tool.accept_media_types && tool.accept_media_types.length > 0) {\n      content_type = this.get('content-type');\n      return underscore__WEBPACK_IMPORTED_MODULE_1___default.a.find(tool.accept_media_types.split(\",\"), function(t) {\n        var regex;\n        regex = new RegExp(\"^\" + (t.replace('*', '.*')) + \"$\");\n        return content_type.match(regex);\n      });\n    } else {\n      return true;\n    }\n  };\n\n  return File;\n\n})(_FilesystemObject_coffee__WEBPACK_IMPORTED_MODULE_2__[\"default\"]));\n\n\n//# sourceURL=webpack:///./ui/shared/files/backbone/models/File.coffee?");

/***/ }),

/***/ "CeR3":
/*!*****************************************************************!*\
  !*** ./ui/features/files/react/legacy/components/ShowFolder.js ***!
  \*****************************************************************/
/*! exports provided: default */
/***/ (function(module, __webpack_exports__, __webpack_require__) {

"use strict";
eval("__webpack_require__.r(__webpack_exports__);\n/* harmony import */ var jquery__WEBPACK_IMPORTED_MODULE_0__ = __webpack_require__(/*! jquery */ \"ouhR\");\n/* harmony import */ var jquery__WEBPACK_IMPORTED_MODULE_0___default = /*#__PURE__*/__webpack_require__.n(jquery__WEBPACK_IMPORTED_MODULE_0__);\n/* harmony import */ var page__WEBPACK_IMPORTED_MODULE_1__ = __webpack_require__(/*! page */ \"KVl8\");\n/* harmony import */ var page__WEBPACK_IMPORTED_MODULE_1___default = /*#__PURE__*/__webpack_require__.n(page__WEBPACK_IMPORTED_MODULE_1__);\n/* harmony import */ var underscore__WEBPACK_IMPORTED_MODULE_2__ = __webpack_require__(/*! underscore */ \"Y/W1\");\n/* harmony import */ var underscore__WEBPACK_IMPORTED_MODULE_2___default = /*#__PURE__*/__webpack_require__.n(underscore__WEBPACK_IMPORTED_MODULE_2__);\n/* harmony import */ var i18n_react_files__WEBPACK_IMPORTED_MODULE_3__ = __webpack_require__(/*! i18n!react_files */ \"mddV\");\n/* harmony import */ var _canvas_files_react_modules_filesEnv__WEBPACK_IMPORTED_MODULE_4__ = __webpack_require__(/*! @canvas/files/react/modules/filesEnv */ \"m452\");\n/* harmony import */ var _util_getAllPages__WEBPACK_IMPORTED_MODULE_5__ = __webpack_require__(/*! ../util/getAllPages */ \"JMNg\");\n/* harmony import */ var _util_updateAPIQuerySortParams__WEBPACK_IMPORTED_MODULE_6__ = __webpack_require__(/*! ../util/updateAPIQuerySortParams */ \"5LPm\");\n/* harmony import */ var _canvas_files_backbone_models_Folder__WEBPACK_IMPORTED_MODULE_7__ = __webpack_require__(/*! @canvas/files/backbone/models/Folder */ \"3jyj\");\n/*\n * Copyright (C) 2014 - present Instructure, Inc.\n *\n * This file is part of Canvas.\n *\n * Canvas is free software: you can redistribute it and/or modify it under\n * the terms of the GNU Affero General Public License as published by the Free\n * Software Foundation, version 3 of the License.\n *\n * Canvas is distributed in the hope that it will be useful, but WITHOUT ANY\n * WARRANTY; without even the implied warranty of MERCHANTABILITY or FITNESS FOR\n * A PARTICULAR PURPOSE. See the GNU Affero General Public License for more\n * details.\n *\n * You should have received a copy of the GNU Affero General Public License along\n * with this program. If not, see <http://www.gnu.org/licenses/>.\n */\n\n\n\n\n\n\n\n\nconst LEADING_SLASH_TILL_BUT_NOT_INCLUDING_NEXT_SLASH = /^\\/[^\\/]*/;\n/* harmony default export */ __webpack_exports__[\"default\"] = ({\n  displayName: 'ShowFolder',\n  debouncedForceUpdate: underscore__WEBPACK_IMPORTED_MODULE_2___default.a.debounce(function () {\n    if (this.isMounted()) this.forceUpdate();\n  }, 0),\n  previousIdentifier: '',\n\n  registerListeners(props) {\n    if (!props.currentFolder) return;\n    props.currentFolder.folders.on('all', this.debouncedForceUpdate, this);\n    props.currentFolder.files.on('all', this.debouncedForceUpdate, this);\n  },\n\n  unregisterListeners() {\n    // Ensure that we clean up any dangling references when the component is destroyed.\n    this.props.currentFolder && this.props.currentFolder.off(null, null, this);\n  },\n\n  getCurrentFolder(options = {}) {\n    let contextId, contextType;\n    let path = `/${options.splat || ''}`;\n\n    if (_canvas_files_react_modules_filesEnv__WEBPACK_IMPORTED_MODULE_4__[\"default\"].showingAllContexts) {\n      const pluralAssetString = path.split('/')[1];\n      const context = _canvas_files_react_modules_filesEnv__WEBPACK_IMPORTED_MODULE_4__[\"default\"].contextsDictionary[pluralAssetString] || _canvas_files_react_modules_filesEnv__WEBPACK_IMPORTED_MODULE_4__[\"default\"].contexts[0];\n      contextType = context.contextType;\n      contextId = context.contextId;\n      path = path.replace(LEADING_SLASH_TILL_BUT_NOT_INCLUDING_NEXT_SLASH, '');\n    } else {\n      ;\n      contextType = _canvas_files_react_modules_filesEnv__WEBPACK_IMPORTED_MODULE_4__[\"default\"].contextType;\n      contextId = _canvas_files_react_modules_filesEnv__WEBPACK_IMPORTED_MODULE_4__[\"default\"].contextId;\n    }\n\n    return _canvas_files_backbone_models_Folder__WEBPACK_IMPORTED_MODULE_7__[\"default\"].resolvePath(contextType, contextId, path).then(rootTillCurrentFolder => {\n      const currentFolder = rootTillCurrentFolder[rootTillCurrentFolder.length - 1];\n      this.props.onResolvePath({\n        currentFolder,\n        rootTillCurrentFolder,\n        showingSearchResults: false\n      });\n      return [currentFolder.folders, currentFolder.files].forEach(collection => {\n        Object(_util_updateAPIQuerySortParams__WEBPACK_IMPORTED_MODULE_6__[\"default\"])(collection, this.props.query); // TODO: use scroll position to only fetch the pages we need\n\n        return Object(_util_getAllPages__WEBPACK_IMPORTED_MODULE_5__[\"default\"])(collection, this.debouncedForceUpdate);\n      });\n    }, jqXHR => {\n      let parsedResponse;\n\n      try {\n        parsedResponse = jquery__WEBPACK_IMPORTED_MODULE_0___default.a.parseJSON(jqXHR.responseText);\n      } catch (error) {}\n\n      if (parsedResponse) {\n        this.setState({\n          errorMessages: parsedResponse.errors\n        });\n\n        if (this.props.query.preview != null) {\n          return this.redirectToCourseFiles();\n        }\n      }\n    });\n  },\n\n  componentWillMount() {\n    this.registerListeners(this.props);\n    this.getCurrentFolder(this.props);\n  },\n\n  componentWillUnmount() {\n    this.unregisterListeners();\n  },\n\n  componentDidUpdate() {\n    if (this.props.currentFolder == null || this.props.currentFolder && this.props.currentFolder.get('locked_for_user')) {\n      return this.redirectToCourseFiles();\n    }\n  },\n\n  componentWillReceiveProps(newProps) {\n    this.unregisterListeners();\n    if (!newProps.currentFolder) return;\n\n    if (this.props.pathname !== newProps.pathname) {\n      this.getCurrentFolder(newProps);\n    }\n\n    this.registerListeners(newProps);\n    [newProps.currentFolder.folders, newProps.currentFolder.files].forEach(collection => {\n      Object(_util_updateAPIQuerySortParams__WEBPACK_IMPORTED_MODULE_6__[\"default\"])(collection, this.props.query);\n    });\n  },\n\n  redirectToCourseFiles() {\n    const isntPreviousFolder = this.props.currentFolder != null && this.previousIdentifier != null !== this.props.currentFolder.get('id').toString();\n    const isPreviewForFile = window.location.pathname !== _canvas_files_react_modules_filesEnv__WEBPACK_IMPORTED_MODULE_4__[\"default\"].baseUrl && this.props.query.preview != null && this.previousIdentifier !== this.props.query.preview;\n\n    if (isntPreviousFolder || isPreviewForFile) {\n      this.previousIdentifier = this.props.currentFolder && this.props.currentFolder.get('id').toString() || this.props.query.preview.toString();\n\n      if (!isPreviewForFile) {\n        const message = i18n_react_files__WEBPACK_IMPORTED_MODULE_3__[\"default\"].t('This folder is currently locked and unavailable to view.');\n        jquery__WEBPACK_IMPORTED_MODULE_0___default.a.flashError(message);\n        jquery__WEBPACK_IMPORTED_MODULE_0___default.a.screenReaderFlashMessage(message);\n      }\n\n      return setTimeout(() => page__WEBPACK_IMPORTED_MODULE_1___default()(`${_canvas_files_react_modules_filesEnv__WEBPACK_IMPORTED_MODULE_4__[\"default\"].baseUrl}?${jquery__WEBPACK_IMPORTED_MODULE_0___default.a.param(this.props.query)}`), 0);\n    }\n  }\n\n});\n\n//# sourceURL=webpack:///./ui/features/files/react/legacy/components/ShowFolder.js?");

/***/ }),

/***/ "DhTC":
/*!*********************************************************************************!*\
  !*** ./frontend_build/i18n.js?file_rename_form!./ui/shims/dummyI18nResource.js ***!
  \*********************************************************************************/
/*! exports provided: default */
/***/ (function(module, __webpack_exports__, __webpack_require__) {

"use strict";
eval("__webpack_require__.r(__webpack_exports__);\n/* harmony import */ var _canvas_i18n_i18nObj__WEBPACK_IMPORTED_MODULE_0__ = __webpack_require__(/*! @canvas/i18n/i18nObj */ \"HGxv\");\n/* harmony import */ var translations_core_en__WEBPACK_IMPORTED_MODULE_1__ = __webpack_require__(/*! translations/_core_en */ \"0sPK\");\n\n    \n    \n    \n\n    /* harmony default export */ __webpack_exports__[\"default\"] = (_canvas_i18n_i18nObj__WEBPACK_IMPORTED_MODULE_0__[\"default\"].scoped('file_rename_form'));\n  \n\n//# sourceURL=webpack:///./ui/shims/dummyI18nResource.js?./frontend_build/i18n.js?file_rename_form");

/***/ }),

/***/ "Dxaw":
/*!*************************************************************!*\
  !*** ./ui/features/files/react/components/ColumnHeaders.js ***!
  \*************************************************************/
/*! exports provided: default */
/***/ (function(module, __webpack_exports__, __webpack_require__) {

"use strict";
eval("__webpack_require__.r(__webpack_exports__);\n/* harmony import */ var jquery__WEBPACK_IMPORTED_MODULE_0__ = __webpack_require__(/*! jquery */ \"ouhR\");\n/* harmony import */ var jquery__WEBPACK_IMPORTED_MODULE_0___default = /*#__PURE__*/__webpack_require__.n(jquery__WEBPACK_IMPORTED_MODULE_0__);\n/* harmony import */ var i18n_react_files__WEBPACK_IMPORTED_MODULE_1__ = __webpack_require__(/*! i18n!react_files */ \"mddV\");\n/* harmony import */ var react__WEBPACK_IMPORTED_MODULE_2__ = __webpack_require__(/*! react */ \"q1tI\");\n/* harmony import */ var react__WEBPACK_IMPORTED_MODULE_2___default = /*#__PURE__*/__webpack_require__.n(react__WEBPACK_IMPORTED_MODULE_2__);\n/* harmony import */ var create_react_class__WEBPACK_IMPORTED_MODULE_3__ = __webpack_require__(/*! create-react-class */ \"fhzG\");\n/* harmony import */ var create_react_class__WEBPACK_IMPORTED_MODULE_3___default = /*#__PURE__*/__webpack_require__.n(create_react_class__WEBPACK_IMPORTED_MODULE_3__);\n/* harmony import */ var classnames__WEBPACK_IMPORTED_MODULE_4__ = __webpack_require__(/*! classnames */ \"TSYQ\");\n/* harmony import */ var classnames__WEBPACK_IMPORTED_MODULE_4___default = /*#__PURE__*/__webpack_require__.n(classnames__WEBPACK_IMPORTED_MODULE_4__);\n/* harmony import */ var _legacy_components_ColumnHeaders__WEBPACK_IMPORTED_MODULE_5__ = __webpack_require__(/*! ../legacy/components/ColumnHeaders */ \"h5Dl\");\n/*\n * Copyright (C) 2015 - present Instructure, Inc.\n *\n * This file is part of Canvas.\n *\n * Canvas is free software: you can redistribute it and/or modify it under\n * the terms of the GNU Affero General Public License as published by the Free\n * Software Foundation, version 3 of the License.\n *\n * Canvas is distributed in the hope that it will be useful, but WITHOUT ANY\n * WARRANTY; without even the implied warranty of MERCHANTABILITY or FITNESS FOR\n * A PARTICULAR PURPOSE. See the GNU Affero General Public License for more\n * details.\n *\n * You should have received a copy of the GNU Affero General Public License along\n * with this program. If not, see <http://www.gnu.org/licenses/>.\n */\n\n\n\n\n\n\n\n_legacy_components_ColumnHeaders__WEBPACK_IMPORTED_MODULE_5__[\"default\"].renderColumns = function (sort, order) {\n  return this.columns.map(column => {\n    if (column.property === 'usage_rights' && !this.props.usageRightsRequiredForContext) {\n      return;\n    }\n\n    const isSortedCol = sort === column.property;\n\n    if (this.props.query.sort && isSortedCol && order) {\n      const direction = order === 'asc' ? 'ascending' : 'descending';\n      jquery__WEBPACK_IMPORTED_MODULE_0___default.a.screenReaderFlashMessage(i18n_react_files__WEBPACK_IMPORTED_MODULE_1__[\"default\"].t('Sorted %{direction} by %{columnName}', {\n        direction,\n        columnName: column.displayName\n      }));\n    }\n\n    const columnClassNameObj = {\n      'current-filter': isSortedCol\n    };\n    columnClassNameObj[column.className] = true;\n    const columnClassName = classnames__WEBPACK_IMPORTED_MODULE_4___default()(columnClassNameObj);\n    const linkClassName = classnames__WEBPACK_IMPORTED_MODULE_4___default()({\n      'visible-desktop': column.displayNameShort,\n      'ef-usage-rights-col-offset': column.property === 'usage_rights'\n    });\n    const encoded_path = this.props.pathname.split('/').map(part => window.encodeURIComponent(part)).join('/');\n    const href = `${encoded_path}?${jquery__WEBPACK_IMPORTED_MODULE_0___default.a.param(this.queryParamsFor(this.props.query, column.property))}`;\n    const linkProps = {\n      className: 'ef-plain-link',\n      href\n    };\n    let linkText;\n\n    if (column.property === 'select') {\n      linkText = /*#__PURE__*/react__WEBPACK_IMPORTED_MODULE_2___default.a.createElement(\"span\", {\n        className: \"screenreader-only\"\n      }, column.displayName);\n    } else if (column.property == 'usage_rights') {\n      linkText = /*#__PURE__*/react__WEBPACK_IMPORTED_MODULE_2___default.a.createElement(\"i\", {\n        className: \"icon-files-copyright\"\n      }, /*#__PURE__*/react__WEBPACK_IMPORTED_MODULE_2___default.a.createElement(\"span\", {\n        className: \"screenreader-only\"\n      }, column.displayName));\n    } else {\n      linkText = column.displayName;\n    }\n\n    return /*#__PURE__*/react__WEBPACK_IMPORTED_MODULE_2___default.a.createElement(\"div\", {\n      key: column.property,\n      className: columnClassName,\n      role: \"columnheader\",\n      \"aria-sort\": {\n        asc: 'ascending',\n        desc: 'descending'\n      }[isSortedCol && order] || 'none'\n    }, /*#__PURE__*/react__WEBPACK_IMPORTED_MODULE_2___default.a.createElement(\"a\", linkProps, /*#__PURE__*/react__WEBPACK_IMPORTED_MODULE_2___default.a.createElement(\"span\", {\n      className: linkClassName\n    }, linkText), column.displayNameShort && /*#__PURE__*/react__WEBPACK_IMPORTED_MODULE_2___default.a.createElement(\"span\", {\n      className: \"hidden-desktop\"\n    }, column.displayNameShort), isSortedCol && order === 'asc' && /*#__PURE__*/react__WEBPACK_IMPORTED_MODULE_2___default.a.createElement(\"i\", {\n      className: \"icon-mini-arrow-up\"\n    }, /*#__PURE__*/react__WEBPACK_IMPORTED_MODULE_2___default.a.createElement(\"span\", {\n      className: \"screenreader-only\"\n    }, i18n_react_files__WEBPACK_IMPORTED_MODULE_1__[\"default\"].t('sorted_ascending', 'Sorted Ascending'))), isSortedCol && order === 'desc' && /*#__PURE__*/react__WEBPACK_IMPORTED_MODULE_2___default.a.createElement(\"i\", {\n      className: \"icon-mini-arrow-down\"\n    }, /*#__PURE__*/react__WEBPACK_IMPORTED_MODULE_2___default.a.createElement(\"span\", {\n      className: \"screenreader-only\"\n    }, i18n_react_files__WEBPACK_IMPORTED_MODULE_1__[\"default\"].t('sorted_desending', 'Sorted Descending')))));\n  });\n};\n\n_legacy_components_ColumnHeaders__WEBPACK_IMPORTED_MODULE_5__[\"default\"].render = function () {\n  const sort = this.props.query.sort || 'name';\n  const order = this.props.query.order || 'asc';\n  return /*#__PURE__*/react__WEBPACK_IMPORTED_MODULE_2___default.a.createElement(\"header\", {\n    className: \"ef-directory-header\",\n    role: \"row\"\n  }, /*#__PURE__*/react__WEBPACK_IMPORTED_MODULE_2___default.a.createElement(\"div\", {\n    className: \"screenreader-only\",\n    role: \"columnheader\"\n  }, i18n_react_files__WEBPACK_IMPORTED_MODULE_1__[\"default\"].t('Select')), this.renderColumns(sort, order), /*#__PURE__*/react__WEBPACK_IMPORTED_MODULE_2___default.a.createElement(\"div\", {\n    className: \"ef-links-col\",\n    role: \"columnheader\"\n  }, /*#__PURE__*/react__WEBPACK_IMPORTED_MODULE_2___default.a.createElement(\"span\", {\n    className: \"screenreader-only\"\n  }, i18n_react_files__WEBPACK_IMPORTED_MODULE_1__[\"default\"].t('Actions'))));\n};\n\n/* harmony default export */ __webpack_exports__[\"default\"] = (create_react_class__WEBPACK_IMPORTED_MODULE_3___default()(_legacy_components_ColumnHeaders__WEBPACK_IMPORTED_MODULE_5__[\"default\"]));\n\n//# sourceURL=webpack:///./ui/features/files/react/components/ColumnHeaders.js?");

/***/ }),

/***/ "E8av":
/*!*******************************************************!*\
  !*** ./ui/features/files/react/components/ItemCog.js ***!
  \*******************************************************/
/*! exports provided: default */
/***/ (function(module, __webpack_exports__, __webpack_require__) {

"use strict";
eval("__webpack_require__.r(__webpack_exports__);\n/* harmony import */ var i18n_react_files__WEBPACK_IMPORTED_MODULE_0__ = __webpack_require__(/*! i18n!react_files */ \"mddV\");\n/* harmony import */ var react__WEBPACK_IMPORTED_MODULE_1__ = __webpack_require__(/*! react */ \"q1tI\");\n/* harmony import */ var react__WEBPACK_IMPORTED_MODULE_1___default = /*#__PURE__*/__webpack_require__.n(react__WEBPACK_IMPORTED_MODULE_1__);\n/* harmony import */ var prop_types__WEBPACK_IMPORTED_MODULE_2__ = __webpack_require__(/*! prop-types */ \"17x9\");\n/* harmony import */ var prop_types__WEBPACK_IMPORTED_MODULE_2___default = /*#__PURE__*/__webpack_require__.n(prop_types__WEBPACK_IMPORTED_MODULE_2__);\n/* harmony import */ var react_dom__WEBPACK_IMPORTED_MODULE_3__ = __webpack_require__(/*! react-dom */ \"i8i4\");\n/* harmony import */ var react_dom__WEBPACK_IMPORTED_MODULE_3___default = /*#__PURE__*/__webpack_require__.n(react_dom__WEBPACK_IMPORTED_MODULE_3__);\n/* harmony import */ var prevent_default__WEBPACK_IMPORTED_MODULE_4__ = __webpack_require__(/*! prevent-default */ \"qqwe\");\n/* harmony import */ var _canvas_files_react_modules_customPropTypes__WEBPACK_IMPORTED_MODULE_5__ = __webpack_require__(/*! @canvas/files/react/modules/customPropTypes */ \"Lg2F\");\n/* harmony import */ var _canvas_files_react_modules_filesEnv__WEBPACK_IMPORTED_MODULE_6__ = __webpack_require__(/*! @canvas/files/react/modules/filesEnv */ \"m452\");\n/* harmony import */ var _canvas_files_backbone_models_File_coffee__WEBPACK_IMPORTED_MODULE_7__ = __webpack_require__(/*! @canvas/files/backbone/models/File.coffee */ \"C8i9\");\n/* harmony import */ var _canvas_files_backbone_models_Folder__WEBPACK_IMPORTED_MODULE_8__ = __webpack_require__(/*! @canvas/files/backbone/models/Folder */ \"3jyj\");\n/* harmony import */ var _canvas_files_react_components_UsageRightsDialog__WEBPACK_IMPORTED_MODULE_9__ = __webpack_require__(/*! @canvas/files/react/components/UsageRightsDialog */ \"YPkD\");\n/* harmony import */ var _openMoveDialog__WEBPACK_IMPORTED_MODULE_10__ = __webpack_require__(/*! ../../openMoveDialog */ \"U6ji\");\n/* harmony import */ var _legacy_util_downloadStuffAsAZip__WEBPACK_IMPORTED_MODULE_11__ = __webpack_require__(/*! ../legacy/util/downloadStuffAsAZip */ \"Jnhg\");\n/* harmony import */ var _legacy_util_deleteStuff__WEBPACK_IMPORTED_MODULE_12__ = __webpack_require__(/*! ../legacy/util/deleteStuff */ \"QtMz\");\n/* harmony import */ var jquery__WEBPACK_IMPORTED_MODULE_13__ = __webpack_require__(/*! jquery */ \"ouhR\");\n/* harmony import */ var jquery__WEBPACK_IMPORTED_MODULE_13___default = /*#__PURE__*/__webpack_require__.n(jquery__WEBPACK_IMPORTED_MODULE_13__);\n/*\n * Copyright (C) 2015 - present Instructure, Inc.\n *\n * This file is part of Canvas.\n *\n * Canvas is free software: you can redistribute it and/or modify it under\n * the terms of the GNU Affero General Public License as published by the Free\n * Software Foundation, version 3 of the License.\n *\n * Canvas is distributed in the hope that it will be useful, but WITHOUT ANY\n * WARRANTY; without even the implied warranty of MERCHANTABILITY or FITNESS FOR\n * A PARTICULAR PURPOSE. See the GNU Affero General Public License for more\n * details.\n *\n * You should have received a copy of the GNU Affero General Public License along\n * with this program. If not, see <http://www.gnu.org/licenses/>.\n */\n\n/* eslint-disable jsx-a11y/anchor-is-valid */\n\n\n\n\n\n\n\n\n\n\n\n\n\n\n\nclass ItemCog extends react__WEBPACK_IMPORTED_MODULE_1___default.a.Component {\n  constructor(props) {\n    super(props);\n\n    this.isMasterCourseRestricted = () => this.props.model.get('is_master_course_child_content') && this.props.model.get('restricted_by_master_course');\n\n    this.downloadFile = (file, args) => {\n      var _args$returnFocusTo;\n\n      window.location = file[0].get('url');\n      (_args$returnFocusTo = args.returnFocusTo) === null || _args$returnFocusTo === void 0 ? void 0 : _args$returnFocusTo.focus();\n    };\n\n    this.downloadZip = (folder, args) => {\n      var _args$returnFocusTo2;\n\n      Object(_legacy_util_downloadStuffAsAZip__WEBPACK_IMPORTED_MODULE_11__[\"default\"])(folder, args);\n      (_args$returnFocusTo2 = args.returnFocusTo) === null || _args$returnFocusTo2 === void 0 ? void 0 : _args$returnFocusTo2.focus();\n    };\n\n    this.deleteItem = (item, args) => {\n      // Unfortunately, ars.returnFocusTo isn't really the one we want to focus,\n      // because we want the previous one or the +Folder button\n      // Also unfortunately, our state management in this app is a bit terrible\n      // so we'll just handle all that via jQuery right here for now.\n      // TODO: Make this less terrible when we have sane state management\n      const allTriggers = jquery__WEBPACK_IMPORTED_MODULE_13___default()('.al-trigger').toArray();\n      const hasMoreTriggers = allTriggers.length - 1 > 0;\n      let toFocus = document.querySelector('.ef-name-col a');\n\n      if (hasMoreTriggers) {\n        const prevTriggerIndex = allTriggers.indexOf(args.returnFocusTo) - 1;\n\n        if (prevTriggerIndex >= 0) {\n          toFocus = allTriggers[prevTriggerIndex];\n        }\n      }\n\n      args.returnFocusTo = toFocus;\n      Object(_legacy_util_deleteStuff__WEBPACK_IMPORTED_MODULE_12__[\"default\"])(item, args);\n    };\n\n    this.openUsageRightsDialog = event => {\n      const contents = /*#__PURE__*/react__WEBPACK_IMPORTED_MODULE_1___default.a.createElement(_canvas_files_react_components_UsageRightsDialog__WEBPACK_IMPORTED_MODULE_9__[\"default\"], {\n        isOpen: true,\n        closeModal: this.props.modalOptions.closeModal,\n        itemsToManage: [this.props.model],\n        userCanRestrictFilesForContext: this.props.userCanRestrictFilesForContext\n      });\n      this.props.modalOptions.openModal(contents, () => {\n        react_dom__WEBPACK_IMPORTED_MODULE_3___default.a.findDOMNode(this.settingsCogBtnRef.current).focus();\n      });\n    };\n\n    this.settingsCogBtnRef = /*#__PURE__*/react__WEBPACK_IMPORTED_MODULE_1___default.a.createRef();\n  }\n\n  render() {\n    let externalToolMenuItems;\n\n    if (this.props.model instanceof _canvas_files_backbone_models_File_coffee__WEBPACK_IMPORTED_MODULE_7__[\"default\"]) {\n      externalToolMenuItems = this.props.externalToolsForContext.map(tool => {\n        if (this.props.model.externalToolEnabled(tool)) {\n          return /*#__PURE__*/react__WEBPACK_IMPORTED_MODULE_1___default.a.createElement(\"li\", {\n            key: tool.title,\n            role: \"presentation\"\n          }, /*#__PURE__*/react__WEBPACK_IMPORTED_MODULE_1___default.a.createElement(\"a\", {\n            href: `${tool.base_url}&files[]=${this.props.model.id}`,\n            role: \"menuitem\",\n            tabIndex: \"-1\"\n          }, tool.title));\n        } else {\n          return /*#__PURE__*/react__WEBPACK_IMPORTED_MODULE_1___default.a.createElement(\"li\", {\n            key: tool.title,\n            role: \"presentation\"\n          }, /*#__PURE__*/react__WEBPACK_IMPORTED_MODULE_1___default.a.createElement(\"a\", {\n            href: \"#\",\n            className: \"disabled\",\n            role: \"menuitem\",\n            tabIndex: \"-1\",\n            \"aria-disabled\": \"true\"\n          }, tool.title));\n        }\n      });\n    } else {\n      externalToolMenuItems = [];\n    }\n\n    const wrap = (fn, params = {}) => Object(prevent_default__WEBPACK_IMPORTED_MODULE_4__[\"default\"])(event => {\n      const singularContextType = this.props.model.collection && this.props.model.collection.parentFolder ? this.props.model.collection.parentFolder.get('context_type').toLowerCase() : null;\n      const pluralContextType = singularContextType ? `${singularContextType}s` : null;\n      const contextType = pluralContextType || _canvas_files_react_modules_filesEnv__WEBPACK_IMPORTED_MODULE_6__[\"default\"].contextType;\n      const contextId = this.props.model.collection && this.props.model.collection.parentFolder ? this.props.model.collection.parentFolder.get('context_id') : _canvas_files_react_modules_filesEnv__WEBPACK_IMPORTED_MODULE_6__[\"default\"].contextId;\n      let args = {\n        contextType,\n        contextId,\n        returnFocusTo: react_dom__WEBPACK_IMPORTED_MODULE_3___default.a.findDOMNode(this.settingsCogBtnRef.current)\n      };\n      args = jquery__WEBPACK_IMPORTED_MODULE_13___default.a.extend(args, params);\n      return fn([this.props.model], args);\n    });\n\n    const menuItems = []; // Download Link\n\n    if (this.props.model instanceof _canvas_files_backbone_models_Folder__WEBPACK_IMPORTED_MODULE_8__[\"default\"]) {\n      menuItems.push( /*#__PURE__*/react__WEBPACK_IMPORTED_MODULE_1___default.a.createElement(\"li\", {\n        key: \"folderDownload\",\n        role: \"presentation\"\n      }, /*#__PURE__*/react__WEBPACK_IMPORTED_MODULE_1___default.a.createElement(\"a\", {\n        href: \"#\",\n        onClick: wrap(this.downloadZip),\n        \"data-testid\": \"download\",\n        role: \"menuitem\",\n        tabIndex: \"-1\"\n      }, i18n_react_files__WEBPACK_IMPORTED_MODULE_0__[\"default\"].t('Download'))));\n    } else {\n      menuItems.push( /*#__PURE__*/react__WEBPACK_IMPORTED_MODULE_1___default.a.createElement(\"li\", {\n        key: \"download\",\n        role: \"presentation\"\n      }, /*#__PURE__*/react__WEBPACK_IMPORTED_MODULE_1___default.a.createElement(\"a\", {\n        onClick: wrap(this.downloadFile),\n        href: this.props.model.get('url'),\n        \"data-testid\": \"download\",\n        role: \"menuitem\",\n        tabIndex: \"-1\"\n      }, i18n_react_files__WEBPACK_IMPORTED_MODULE_0__[\"default\"].t('Download'))));\n\n      if (this.props.userCanEditFilesForContext) {\n        var _ENV$context_asset_st;\n\n        if ((_ENV$context_asset_st = ENV.context_asset_string) !== null && _ENV$context_asset_st !== void 0 && _ENV$context_asset_st.startsWith('course_')) {\n          menuItems.push( /*#__PURE__*/react__WEBPACK_IMPORTED_MODULE_1___default.a.createElement(\"li\", {\n            key: \"send-to\",\n            role: \"presentation\"\n          }, /*#__PURE__*/react__WEBPACK_IMPORTED_MODULE_1___default.a.createElement(\"a\", {\n            href: \"#\",\n            onClick: () => {\n              this.props.onSendToClick(this.props.model);\n            },\n            role: \"menuitem\",\n            tabIndex: \"-1\"\n          }, i18n_react_files__WEBPACK_IMPORTED_MODULE_0__[\"default\"].t('Send To...'))), /*#__PURE__*/react__WEBPACK_IMPORTED_MODULE_1___default.a.createElement(\"li\", {\n            key: \"copy-to\",\n            role: \"presentation\"\n          }, /*#__PURE__*/react__WEBPACK_IMPORTED_MODULE_1___default.a.createElement(\"a\", {\n            href: \"#\",\n            onClick: () => {\n              this.props.onCopyToClick(this.props.model);\n            },\n            role: \"menuitem\",\n            tabIndex: \"-1\"\n          }, i18n_react_files__WEBPACK_IMPORTED_MODULE_0__[\"default\"].t('Copy To...'))));\n        }\n      }\n    }\n\n    if (!this.isMasterCourseRestricted()) {\n      if (this.props.userCanEditFilesForContext) {\n        // Rename Link\n        menuItems.push( /*#__PURE__*/react__WEBPACK_IMPORTED_MODULE_1___default.a.createElement(\"li\", {\n          key: \"rename\",\n          role: \"presentation\"\n        }, /*#__PURE__*/react__WEBPACK_IMPORTED_MODULE_1___default.a.createElement(\"a\", {\n          href: \"#\",\n          onClick: Object(prevent_default__WEBPACK_IMPORTED_MODULE_4__[\"default\"])(this.props.startEditingName),\n          \"data-testid\": \"editName\",\n          role: \"menuitem\",\n          tabIndex: \"-1\"\n        }, i18n_react_files__WEBPACK_IMPORTED_MODULE_0__[\"default\"].t('Rename')))); // Move Link\n\n        menuItems.push( /*#__PURE__*/react__WEBPACK_IMPORTED_MODULE_1___default.a.createElement(\"li\", {\n          key: \"move\",\n          role: \"presentation\"\n        }, /*#__PURE__*/react__WEBPACK_IMPORTED_MODULE_1___default.a.createElement(\"a\", {\n          href: \"#\",\n          onClick: wrap(_openMoveDialog__WEBPACK_IMPORTED_MODULE_10__[\"default\"], {\n            clearSelectedItems: this.props.clearSelectedItems,\n            onMove: this.props.onMove\n          }),\n          \"data-testid\": \"move\",\n          role: \"menuitem\",\n          tabIndex: \"-1\"\n        }, i18n_react_files__WEBPACK_IMPORTED_MODULE_0__[\"default\"].t('Move')))); // Manage Usage Rights Link\n\n        if (this.props.usageRightsRequiredForContext) {\n          menuItems.push( /*#__PURE__*/react__WEBPACK_IMPORTED_MODULE_1___default.a.createElement(\"li\", {\n            key: \"manageUsageRights\",\n            className: \"ItemCog__OpenUsageRights\",\n            role: \"presentation\"\n          }, /*#__PURE__*/react__WEBPACK_IMPORTED_MODULE_1___default.a.createElement(\"a\", {\n            href: \"#\",\n            onClick: Object(prevent_default__WEBPACK_IMPORTED_MODULE_4__[\"default\"])(this.openUsageRightsDialog),\n            \"data-testid\": \"usageRights\",\n            role: \"menuitem\",\n            tabIndex: \"-1\"\n          }, i18n_react_files__WEBPACK_IMPORTED_MODULE_0__[\"default\"].t('Manage Usage Rights'))));\n        }\n      }\n\n      if (this.props.userCanDeleteFilesForContext) {\n        // Delete Link\n        menuItems.push( /*#__PURE__*/react__WEBPACK_IMPORTED_MODULE_1___default.a.createElement(\"li\", {\n          key: \"delete\",\n          role: \"presentation\"\n        }, /*#__PURE__*/react__WEBPACK_IMPORTED_MODULE_1___default.a.createElement(\"a\", {\n          href: \"#\",\n          onClick: wrap(this.deleteItem),\n          \"data-testid\": \"deleteLink\",\n          role: \"menuitem\",\n          tabIndex: \"-1\"\n        }, i18n_react_files__WEBPACK_IMPORTED_MODULE_0__[\"default\"].t('Delete'))));\n      }\n    }\n\n    return (\n      /*#__PURE__*/\n      // without the stopPropagation(), using the cog menu causes the file's invisible selection checkbox to be toggled as well\n      react__WEBPACK_IMPORTED_MODULE_1___default.a.createElement(\"div\", {\n        className: \"al-dropdown__container\",\n        style: {\n          minWidth: '45px',\n          display: 'inline-block'\n        },\n        onClick: e => e.stopPropagation()\n      }, /*#__PURE__*/react__WEBPACK_IMPORTED_MODULE_1___default.a.createElement(\"button\", {\n        type: \"button\",\n        ref: this.settingsCogBtnRef,\n        \"data-testid\": \"settingsCogBtn\",\n        className: \"al-trigger al-trigger-gray btn btn-link\",\n        \"aria-label\": i18n_react_files__WEBPACK_IMPORTED_MODULE_0__[\"default\"].t('Actions'),\n        \"data-popup-within\": \"#application\",\n        \"data-append-to-body\": true\n      }, /*#__PURE__*/react__WEBPACK_IMPORTED_MODULE_1___default.a.createElement(\"i\", {\n        className: \"icon-more\"\n      })), /*#__PURE__*/react__WEBPACK_IMPORTED_MODULE_1___default.a.createElement(\"ul\", {\n        className: \"al-options\",\n        role: \"menu\",\n        \"aria-hidden\": \"true\",\n        \"aria-expanded\": \"false\",\n        tabIndex: \"0\"\n      }, menuItems.concat(externalToolMenuItems)))\n    );\n  }\n\n}\n\nItemCog.displayName = 'ItemCog';\nItemCog.propTypes = {\n  model: _canvas_files_react_modules_customPropTypes__WEBPACK_IMPORTED_MODULE_5__[\"default\"].filesystemObject,\n  modalOptions: prop_types__WEBPACK_IMPORTED_MODULE_2___default.a.object.isRequired,\n  onCopyToClick: prop_types__WEBPACK_IMPORTED_MODULE_2___default.a.func,\n  onSendToClick: prop_types__WEBPACK_IMPORTED_MODULE_2___default.a.func,\n  externalToolsForContext: prop_types__WEBPACK_IMPORTED_MODULE_2___default.a.arrayOf(prop_types__WEBPACK_IMPORTED_MODULE_2___default.a.object),\n  userCanEditFilesForContext: prop_types__WEBPACK_IMPORTED_MODULE_2___default.a.bool,\n  userCanDeleteFilesForContext: prop_types__WEBPACK_IMPORTED_MODULE_2___default.a.bool,\n  userCanRestrictFilesForContext: prop_types__WEBPACK_IMPORTED_MODULE_2___default.a.bool.isRequired,\n  usageRightsRequiredForContext: prop_types__WEBPACK_IMPORTED_MODULE_2___default.a.bool\n};\n/* harmony default export */ __webpack_exports__[\"default\"] = (ItemCog);\n\n//# sourceURL=webpack:///./ui/features/files/react/components/ItemCog.js?");

/***/ }),

/***/ "FO65":
/*!**************************************************************************************!*\
  !*** ./frontend_build/i18n.js?files_upload_progress!./ui/shims/dummyI18nResource.js ***!
  \**************************************************************************************/
/*! exports provided: default */
/***/ (function(module, __webpack_exports__, __webpack_require__) {

"use strict";
eval("__webpack_require__.r(__webpack_exports__);\n/* harmony import */ var _canvas_i18n_i18nObj__WEBPACK_IMPORTED_MODULE_0__ = __webpack_require__(/*! @canvas/i18n/i18nObj */ \"HGxv\");\n/* harmony import */ var translations_core_en__WEBPACK_IMPORTED_MODULE_1__ = __webpack_require__(/*! translations/_core_en */ \"0sPK\");\n\n    \n    \n    \n\n    /* harmony default export */ __webpack_exports__[\"default\"] = (_canvas_i18n_i18nObj__WEBPACK_IMPORTED_MODULE_0__[\"default\"].scoped('files_upload_progress'));\n  \n\n//# sourceURL=webpack:///./ui/shims/dummyI18nResource.js?./frontend_build/i18n.js?files_upload_progress");

/***/ }),

/***/ "G4i8":
/*!**************************************************************************!*\
  !*** ./ui/shared/lti/jquery/subjects lazy ^\.\/.*\.js$ namespace object ***!
  \**************************************************************************/
/*! no static exports found */
/***/ (function(module, exports, __webpack_require__) {

eval("var map = {\n\t\"./__tests__/lti.resourceImported.test.js\": [\n\t\t\"LFe7\",\n\t\t3726\n\t],\n\t\"./__tests__/lti.screenReaderAlert.test.js\": [\n\t\t\"0Guc\",\n\t\t3727\n\t],\n\t\"./__tests__/requestFullWindowLaunch.test.js\": [\n\t\t\"o6ta\",\n\t\t3728\n\t],\n\t\"./lti.enableScrollEvents.js\": [\n\t\t\"HVU3\",\n\t\t3770\n\t],\n\t\"./lti.fetchWindowSize.js\": [\n\t\t\"OANa\",\n\t\t3771\n\t],\n\t\"./lti.frameResize.js\": [\n\t\t\"bSyB\",\n\t\t3709\n\t],\n\t\"./lti.removeUnloadMessage.js\": [\n\t\t\"tjuu\",\n\t\t3729\n\t],\n\t\"./lti.resourceImported.js\": [\n\t\t\"FC2N\",\n\t\t3772\n\t],\n\t\"./lti.screenReaderAlert.js\": [\n\t\t\"YYEg\",\n\t\t3773\n\t],\n\t\"./lti.scrollToTop.js\": [\n\t\t\"W/R1\",\n\t\t3774\n\t],\n\t\"./lti.setUnloadMessage.js\": [\n\t\t\"6fDN\",\n\t\t3730\n\t],\n\t\"./lti.showModuleNavigation.js\": [\n\t\t\"NSTA\",\n\t\t3775\n\t],\n\t\"./requestFullWindowLaunch.js\": [\n\t\t\"8IHO\",\n\t\t3776\n\t],\n\t\"./toggleCourseNavigationMenu.js\": [\n\t\t\"ECMy\",\n\t\t3699\n\t]\n};\nfunction webpackAsyncContext(req) {\n\tif(!__webpack_require__.o(map, req)) {\n\t\treturn Promise.resolve().then(function() {\n\t\t\tvar e = new Error(\"Cannot find module '\" + req + \"'\");\n\t\t\te.code = 'MODULE_NOT_FOUND';\n\t\t\tthrow e;\n\t\t});\n\t}\n\n\tvar ids = map[req], id = ids[0];\n\treturn __webpack_require__.e(ids[1]).then(function() {\n\t\treturn __webpack_require__(id);\n\t});\n}\nwebpackAsyncContext.keys = function webpackAsyncContextKeys() {\n\treturn Object.keys(map);\n};\nwebpackAsyncContext.id = \"G4i8\";\nmodule.exports = webpackAsyncContext;\n\n//# sourceURL=webpack:///./ui/shared/lti/jquery/subjects_lazy_^\\.\\/.*\\.js$_namespace_object?");

/***/ }),

/***/ "GJkP":
/*!****************************************************************!*\
  !*** ./ui/features/files/react/components/LoadingIndicator.js ***!
  \****************************************************************/
/*! exports provided: default */
/***/ (function(module, __webpack_exports__, __webpack_require__) {

"use strict";
eval("__webpack_require__.r(__webpack_exports__);\n/* harmony export (binding) */ __webpack_require__.d(__webpack_exports__, \"default\", function() { return LoadingIndicator; });\n/* harmony import */ var i18n_react_files__WEBPACK_IMPORTED_MODULE_0__ = __webpack_require__(/*! i18n!react_files */ \"mddV\");\n/* harmony import */ var react__WEBPACK_IMPORTED_MODULE_1__ = __webpack_require__(/*! react */ \"q1tI\");\n/* harmony import */ var react__WEBPACK_IMPORTED_MODULE_1___default = /*#__PURE__*/__webpack_require__.n(react__WEBPACK_IMPORTED_MODULE_1__);\n/*\n * Copyright (C) 2015 - present Instructure, Inc.\n *\n * This file is part of Canvas.\n *\n * Canvas is free software: you can redistribute it and/or modify it under\n * the terms of the GNU Affero General Public License as published by the Free\n * Software Foundation, version 3 of the License.\n *\n * Canvas is distributed in the hope that it will be useful, but WITHOUT ANY\n * WARRANTY; without even the implied warranty of MERCHANTABILITY or FITNESS FOR\n * A PARTICULAR PURPOSE. See the GNU Affero General Public License for more\n * details.\n *\n * You should have received a copy of the GNU Affero General Public License along\n * with this program. If not, see <http://www.gnu.org/licenses/>.\n */\n\n\nfunction LoadingIndicator(props) {\n  const style = {\n    display: props.isLoading ? '' : 'none'\n  };\n  return /*#__PURE__*/react__WEBPACK_IMPORTED_MODULE_1___default.a.createElement(\"div\", {\n    style: style,\n    className: \"paginatedView-loading\",\n    role: \"status\",\n    \"aria-live\": \"polite\"\n  }, i18n_react_files__WEBPACK_IMPORTED_MODULE_0__[\"default\"].t('Loading more results...'));\n}\n\n//# sourceURL=webpack:///./ui/features/files/react/components/LoadingIndicator.js?");

/***/ }),

/***/ "GN1s":
/*!******************************************!*\
  !*** ./ui/shared/modal/react/buttons.js ***!
  \******************************************/
/*! exports provided: default */
/***/ (function(module, __webpack_exports__, __webpack_require__) {

"use strict";
eval("__webpack_require__.r(__webpack_exports__);\n/* harmony export (binding) */ __webpack_require__.d(__webpack_exports__, \"default\", function() { return ModalButtons; });\n/* harmony import */ var react__WEBPACK_IMPORTED_MODULE_0__ = __webpack_require__(/*! react */ \"q1tI\");\n/* harmony import */ var react__WEBPACK_IMPORTED_MODULE_0___default = /*#__PURE__*/__webpack_require__.n(react__WEBPACK_IMPORTED_MODULE_0__);\n/*\n * Copyright (C) 2015 - present Instructure, Inc.\n *\n * This file is part of Canvas.\n *\n * Canvas is free software: you can redistribute it and/or modify it under\n * the terms of the GNU Affero General Public License as published by the Free\n * Software Foundation, version 3 of the License.\n *\n * Canvas is distributed in the hope that it will be useful, but WITHOUT ANY\n * WARRANTY; without even the implied warranty of MERCHANTABILITY or FITNESS FOR\n * A PARTICULAR PURPOSE. See the GNU Affero General Public License for more\n * details.\n *\n * You should have received a copy of the GNU Affero General Public License along\n * with this program. If not, see <http://www.gnu.org/licenses/>.\n */\n\nclass ModalButtons extends react__WEBPACK_IMPORTED_MODULE_0___default.a.Component {\n  render() {\n    return /*#__PURE__*/react__WEBPACK_IMPORTED_MODULE_0___default.a.createElement(\"div\", {\n      className: this.props.className\n    }, /*#__PURE__*/react__WEBPACK_IMPORTED_MODULE_0___default.a.createElement(\"div\", {\n      className: this.props.footerClassName\n    }, this.props.children));\n  }\n\n}\nModalButtons.displayName = 'ModalButtons';\nModalButtons.defaultProps = {\n  className: 'ReactModal__Footer',\n  footerClassName: 'ReactModal__Footer-Actions'\n};\n\n//# sourceURL=webpack:///./ui/shared/modal/react/buttons.js?");

/***/ }),

/***/ "GO8z":
/*!**********************************************************!*\
  !*** ./ui/features/files/react/components/FilesUsage.js ***!
  \**********************************************************/
/*! exports provided: default */
/***/ (function(module, __webpack_exports__, __webpack_require__) {

"use strict";
eval("__webpack_require__.r(__webpack_exports__);\n/* harmony import */ var react__WEBPACK_IMPORTED_MODULE_0__ = __webpack_require__(/*! react */ \"q1tI\");\n/* harmony import */ var react__WEBPACK_IMPORTED_MODULE_0___default = /*#__PURE__*/__webpack_require__.n(react__WEBPACK_IMPORTED_MODULE_0__);\n/* harmony import */ var create_react_class__WEBPACK_IMPORTED_MODULE_1__ = __webpack_require__(/*! create-react-class */ \"fhzG\");\n/* harmony import */ var create_react_class__WEBPACK_IMPORTED_MODULE_1___default = /*#__PURE__*/__webpack_require__.n(create_react_class__WEBPACK_IMPORTED_MODULE_1__);\n/* harmony import */ var i18n_react_files__WEBPACK_IMPORTED_MODULE_2__ = __webpack_require__(/*! i18n!react_files */ \"mddV\");\n/* harmony import */ var _legacy_components_FilesUsage__WEBPACK_IMPORTED_MODULE_3__ = __webpack_require__(/*! ../legacy/components/FilesUsage */ \"Mj0w\");\n/* harmony import */ var _canvas_files_util_friendlyBytes__WEBPACK_IMPORTED_MODULE_4__ = __webpack_require__(/*! @canvas/files/util/friendlyBytes */ \"itXk\");\n/*\n * Copyright (C) 2015 - present Instructure, Inc.\n *\n * This file is part of Canvas.\n *\n * Canvas is free software: you can redistribute it and/or modify it under\n * the terms of the GNU Affero General Public License as published by the Free\n * Software Foundation, version 3 of the License.\n *\n * Canvas is distributed in the hope that it will be useful, but WITHOUT ANY\n * WARRANTY; without even the implied warranty of MERCHANTABILITY or FITNESS FOR\n * A PARTICULAR PURPOSE. See the GNU Affero General Public License for more\n * details.\n *\n * You should have received a copy of the GNU Affero General Public License along\n * with this program. If not, see <http://www.gnu.org/licenses/>.\n */\n\n\n\n\n\n\n_legacy_components_FilesUsage__WEBPACK_IMPORTED_MODULE_3__[\"default\"].render = function () {\n  if (this.state) {\n    const percentUsed = Math.round(this.state.quota_used / this.state.quota * 100);\n    const label = i18n_react_files__WEBPACK_IMPORTED_MODULE_2__[\"default\"].t('%{percentUsed} of %{bytesAvailable} used', {\n      percentUsed: i18n_react_files__WEBPACK_IMPORTED_MODULE_2__[\"default\"].n(percentUsed, {\n        percentage: true\n      }),\n      bytesAvailable: Object(_canvas_files_util_friendlyBytes__WEBPACK_IMPORTED_MODULE_4__[\"default\"])(this.state.quota)\n    });\n    const srLabel = i18n_react_files__WEBPACK_IMPORTED_MODULE_2__[\"default\"].t('Files Quota: %{percentUsed} of %{bytesAvailable} used', {\n      percentUsed: i18n_react_files__WEBPACK_IMPORTED_MODULE_2__[\"default\"].n(percentUsed, {\n        percentage: true\n      }),\n      bytesAvailable: Object(_canvas_files_util_friendlyBytes__WEBPACK_IMPORTED_MODULE_4__[\"default\"])(this.state.quota)\n    });\n    return /*#__PURE__*/react__WEBPACK_IMPORTED_MODULE_0___default.a.createElement(\"div\", {\n      className: \"grid-row ef-quota-usage\"\n    }, /*#__PURE__*/react__WEBPACK_IMPORTED_MODULE_0___default.a.createElement(\"div\", {\n      className: \"col-xs-3\"\n    }, /*#__PURE__*/react__WEBPACK_IMPORTED_MODULE_0___default.a.createElement(\"div\", {\n      ref: \"container\",\n      className: \"progress-bar__bar-container\",\n      \"aria-hidden\": true\n    }, /*#__PURE__*/react__WEBPACK_IMPORTED_MODULE_0___default.a.createElement(\"div\", {\n      ref: \"bar\",\n      className: \"progress-bar__bar\",\n      style: {\n        width: Math.min(percentUsed, 100) + '%'\n      }\n    }))), /*#__PURE__*/react__WEBPACK_IMPORTED_MODULE_0___default.a.createElement(\"div\", {\n      className: \"col-xs-9\",\n      style: {\n        paddingLeft: '0px'\n      },\n      \"aria-hidden\": true\n    }, label), /*#__PURE__*/react__WEBPACK_IMPORTED_MODULE_0___default.a.createElement(\"div\", {\n      className: \"screenreader-only\"\n    }, srLabel));\n  } else {\n    return /*#__PURE__*/react__WEBPACK_IMPORTED_MODULE_0___default.a.createElement(\"div\", null);\n  }\n};\n\n/* harmony default export */ __webpack_exports__[\"default\"] = (create_react_class__WEBPACK_IMPORTED_MODULE_1___default()(_legacy_components_FilesUsage__WEBPACK_IMPORTED_MODULE_3__[\"default\"]));\n\n//# sourceURL=webpack:///./ui/features/files/react/components/FilesUsage.js?");

/***/ }),

/***/ "Gm1p":
/*!************************************************************!*\
  !*** ./ui/features/files/react/components/UploadButton.js ***!
  \************************************************************/
/*! exports provided: default */
/***/ (function(module, __webpack_exports__, __webpack_require__) {

"use strict";
eval("__webpack_require__.r(__webpack_exports__);\n/* harmony import */ var _babel_runtime_helpers_esm_objectSpread2__WEBPACK_IMPORTED_MODULE_0__ = __webpack_require__(/*! @babel/runtime/helpers/esm/objectSpread2 */ \"VTBJ\");\n/* harmony import */ var _babel_runtime_helpers_esm_slicedToArray__WEBPACK_IMPORTED_MODULE_1__ = __webpack_require__(/*! @babel/runtime/helpers/esm/slicedToArray */ \"ODXe\");\n/* harmony import */ var i18n_upload_button__WEBPACK_IMPORTED_MODULE_2__ = __webpack_require__(/*! i18n!upload_button */ \"iOsA\");\n/* harmony import */ var react__WEBPACK_IMPORTED_MODULE_3__ = __webpack_require__(/*! react */ \"q1tI\");\n/* harmony import */ var react__WEBPACK_IMPORTED_MODULE_3___default = /*#__PURE__*/__webpack_require__.n(react__WEBPACK_IMPORTED_MODULE_3__);\n/* harmony import */ var prop_types__WEBPACK_IMPORTED_MODULE_4__ = __webpack_require__(/*! prop-types */ \"17x9\");\n/* harmony import */ var prop_types__WEBPACK_IMPORTED_MODULE_4___default = /*#__PURE__*/__webpack_require__.n(prop_types__WEBPACK_IMPORTED_MODULE_4__);\n/* harmony import */ var classnames__WEBPACK_IMPORTED_MODULE_5__ = __webpack_require__(/*! classnames */ \"TSYQ\");\n/* harmony import */ var classnames__WEBPACK_IMPORTED_MODULE_5___default = /*#__PURE__*/__webpack_require__.n(classnames__WEBPACK_IMPORTED_MODULE_5__);\n/* harmony import */ var _canvas_files_react_components_UploadForm__WEBPACK_IMPORTED_MODULE_6__ = __webpack_require__(/*! @canvas/files/react/components/UploadForm */ \"7lHU\");\n/* harmony import */ var _canvas_files_react_modules_UploadQueue__WEBPACK_IMPORTED_MODULE_7__ = __webpack_require__(/*! @canvas/files/react/modules/UploadQueue */ \"hlSq\");\n\n\n\n/*\n * Copyright (C) 2015 - present Instructure, Inc.\n *\n * This file is part of Canvas.\n *\n * Canvas is free software: you can redistribute it and/or modify it under\n * the terms of the GNU Affero General Public License as published by the Free\n * Software Foundation, version 3 of the License.\n *\n * Canvas is distributed in the hope that it will be useful, but WITHOUT ANY\n * WARRANTY; without even the implied warranty of MERCHANTABILITY or FITNESS FOR\n * A PARTICULAR PURPOSE. See the GNU Affero General Public License for more\n * details.\n *\n * You should have received a copy of the GNU Affero General Public License along\n * with this program. If not, see <http://www.gnu.org/licenses/>.\n */\n\n\n\n\n\n\n\nconst UploadButton = function (props) {\n  var _window, _window$ENV, _window$ENV$FEATURES;\n\n  const formRef = Object(react__WEBPACK_IMPORTED_MODULE_3__[\"useRef\"])(null);\n\n  const _useState = Object(react__WEBPACK_IMPORTED_MODULE_3__[\"useState\"])(_canvas_files_react_modules_UploadQueue__WEBPACK_IMPORTED_MODULE_7__[\"default\"].pendingUploads()),\n        _useState2 = Object(_babel_runtime_helpers_esm_slicedToArray__WEBPACK_IMPORTED_MODULE_1__[\"default\"])(_useState, 2),\n        disabled = _useState2[0],\n        setDisabled = _useState2[1];\n\n  const handleQueueChange = Object(react__WEBPACK_IMPORTED_MODULE_3__[\"useCallback\"])(upload_queue => {\n    setDisabled(!!upload_queue.pendingUploads());\n  }, []);\n  Object(react__WEBPACK_IMPORTED_MODULE_3__[\"useEffect\"])(() => {\n    _canvas_files_react_modules_UploadQueue__WEBPACK_IMPORTED_MODULE_7__[\"default\"].addChangeListener(handleQueueChange);\n    return () => _canvas_files_react_modules_UploadQueue__WEBPACK_IMPORTED_MODULE_7__[\"default\"].removeChangeListener(handleQueueChange);\n  }, []); // eslint-disable-line react-hooks/exhaustive-deps\n\n  function handleUploadClick() {\n    var _formRef$current;\n\n    (_formRef$current = formRef.current) === null || _formRef$current === void 0 ? void 0 : _formRef$current.addFiles();\n  }\n\n  const renameFileMessage = nameToUse => {\n    return i18n_upload_button__WEBPACK_IMPORTED_MODULE_2__[\"default\"].t('A file named \"%{name}\" already exists in this folder. Do you want to replace the existing file?', {\n      name: nameToUse\n    });\n  };\n\n  const lockFileMessage = nameToUse => {\n    return i18n_upload_button__WEBPACK_IMPORTED_MODULE_2__[\"default\"].t('A locked file named \"%{name}\" already exists in this folder. Please enter a new name.', {\n      name: nameToUse\n    });\n  };\n\n  return /*#__PURE__*/react__WEBPACK_IMPORTED_MODULE_3___default.a.createElement(react__WEBPACK_IMPORTED_MODULE_3___default.a.Fragment, null, /*#__PURE__*/react__WEBPACK_IMPORTED_MODULE_3___default.a.createElement(_canvas_files_react_components_UploadForm__WEBPACK_IMPORTED_MODULE_6__[\"default\"], {\n    allowSkip: (_window = window) === null || _window === void 0 ? void 0 : (_window$ENV = _window.ENV) === null || _window$ENV === void 0 ? void 0 : (_window$ENV$FEATURES = _window$ENV.FEATURES) === null || _window$ENV$FEATURES === void 0 ? void 0 : _window$ENV$FEATURES.files_dnd,\n    ref: formRef,\n    currentFolder: props.currentFolder,\n    contextId: props.contextId,\n    contextType: props.contextType,\n    onRenameFileMessage: renameFileMessage,\n    onLockFileMessage: lockFileMessage\n  }), /*#__PURE__*/react__WEBPACK_IMPORTED_MODULE_3___default.a.createElement(\"button\", {\n    type: \"button\",\n    className: \"btn btn-primary btn-upload\",\n    onClick: handleUploadClick,\n    disabled: disabled\n  }, /*#__PURE__*/react__WEBPACK_IMPORTED_MODULE_3___default.a.createElement(\"i\", {\n    className: \"icon-upload\",\n    \"aria-hidden\": true\n  }), \"\\xA0\", /*#__PURE__*/react__WEBPACK_IMPORTED_MODULE_3___default.a.createElement(\"span\", {\n    className: classnames__WEBPACK_IMPORTED_MODULE_5___default()({\n      'hidden-phone': props.showingButtons\n    })\n  }, i18n_upload_button__WEBPACK_IMPORTED_MODULE_2__[\"default\"].t('Upload'))));\n};\n\nUploadButton.propTypes = Object(_babel_runtime_helpers_esm_objectSpread2__WEBPACK_IMPORTED_MODULE_0__[\"default\"])(Object(_babel_runtime_helpers_esm_objectSpread2__WEBPACK_IMPORTED_MODULE_0__[\"default\"])({}, _canvas_files_react_components_UploadForm__WEBPACK_IMPORTED_MODULE_6__[\"UploadFormPropTypes\"]), {}, {\n  showingButtons: prop_types__WEBPACK_IMPORTED_MODULE_4__[\"bool\"]\n});\nUploadButton.defaultProps = {\n  showingButtons: false\n};\n/* harmony default export */ __webpack_exports__[\"default\"] = (UploadButton);\n\n//# sourceURL=webpack:///./ui/features/files/react/components/UploadButton.js?");

/***/ }),

/***/ "GvzL":
/*!**************************************************************!*\
  !*** ./node_modules/location-origin/dist/location-origin.js ***!
  \**************************************************************/
/*! no static exports found */
/***/ (function(module, exports) {

eval("(function() {\n  'use strict';\n  var loc, value;\n\n  loc = window.location;\n\n  if (loc.origin) {\n    return;\n  }\n\n  value = loc.protocol + '//' + loc.hostname + (loc.port ? ':' + loc.port : '');\n\n  try {\n    Object.defineProperty(loc, 'origin', {\n      value: value,\n      enumerable: true\n    });\n  } catch (_error) {\n    loc.origin = value;\n  }\n\n}).call(this);\n\n\n//# sourceURL=webpack:///./node_modules/location-origin/dist/location-origin.js?");

/***/ }),

/***/ "HTXa":
/*!**************************************************************************************!*\
  !*** ./frontend_build/i18n.js?zip_file_options_form!./ui/shims/dummyI18nResource.js ***!
  \**************************************************************************************/
/*! exports provided: default */
/***/ (function(module, __webpack_exports__, __webpack_require__) {

"use strict";
eval("__webpack_require__.r(__webpack_exports__);\n/* harmony import */ var _canvas_i18n_i18nObj__WEBPACK_IMPORTED_MODULE_0__ = __webpack_require__(/*! @canvas/i18n/i18nObj */ \"HGxv\");\n/* harmony import */ var translations_core_en__WEBPACK_IMPORTED_MODULE_1__ = __webpack_require__(/*! translations/_core_en */ \"0sPK\");\n\n    \n    \n    \n\n    /* harmony default export */ __webpack_exports__[\"default\"] = (_canvas_i18n_i18nObj__WEBPACK_IMPORTED_MODULE_0__[\"default\"].scoped('zip_file_options_form'));\n  \n\n//# sourceURL=webpack:///./ui/shims/dummyI18nResource.js?./frontend_build/i18n.js?zip_file_options_form");

/***/ }),

/***/ "IkBu":
/*!*********************************************************************************!*\
  !*** ./frontend_build/i18n.js?upload_drop_zone!./ui/shims/dummyI18nResource.js ***!
  \*********************************************************************************/
/*! exports provided: default */
/***/ (function(module, __webpack_exports__, __webpack_require__) {

"use strict";
eval("__webpack_require__.r(__webpack_exports__);\n/* harmony import */ var _canvas_i18n_i18nObj__WEBPACK_IMPORTED_MODULE_0__ = __webpack_require__(/*! @canvas/i18n/i18nObj */ \"HGxv\");\n/* harmony import */ var translations_core_en__WEBPACK_IMPORTED_MODULE_1__ = __webpack_require__(/*! translations/_core_en */ \"0sPK\");\n\n    \n    \n    \n\n    /* harmony default export */ __webpack_exports__[\"default\"] = (_canvas_i18n_i18nObj__WEBPACK_IMPORTED_MODULE_0__[\"default\"].scoped('upload_drop_zone'));\n  \n\n//# sourceURL=webpack:///./ui/shims/dummyI18nResource.js?./frontend_build/i18n.js?upload_drop_zone");

/***/ }),

/***/ "IxAH":
/*!*****************************************!*\
  !*** ./packages/obj-unflatten/index.js ***!
  \*****************************************/
/*! exports provided: default */
/***/ (function(module, __webpack_exports__, __webpack_require__) {

"use strict";
eval("__webpack_require__.r(__webpack_exports__);\n/* harmony export (binding) */ __webpack_require__.d(__webpack_exports__, \"default\", function() { return unflatten; });\n/* harmony import */ var underscore__WEBPACK_IMPORTED_MODULE_0__ = __webpack_require__(/*! underscore */ \"Y/W1\");\n/* harmony import */ var underscore__WEBPACK_IMPORTED_MODULE_0___default = /*#__PURE__*/__webpack_require__.n(underscore__WEBPACK_IMPORTED_MODULE_0__);\n//\n// Copyright (C) 2012 - present Instructure, Inc.\n//\n// This file is part of Canvas.\n//\n// Canvas is free software: you can redistribute it and/or modify it under\n// the terms of the GNU Affero General Public License as published by the Free\n// Software Foundation, version 3 of the License.\n//\n// Canvas is distributed in the hope that it will be useful, but WITHOUT ANY\n// WARRANTY; without even the implied warranty of MERCHANTABILITY or FITNESS FOR\n// A PARTICULAR PURPOSE. See the GNU Affero General Public License for more\n// details.\n//\n// You should have received a copy of the GNU Affero General Public License along\n// with this program. If not, see <http://www.gnu.org/licenses/>.\n\n\n\n// turns {'foo[bar]': 1} into {foo: {bar: 1}}\nfunction unflatten(obj) {\n  return underscore__WEBPACK_IMPORTED_MODULE_0___default()(obj).reduce((newObj, val, key) => {\n    let keys = key.split('][')\n    let lastKey = keys.length - 1\n\n    // If the first keys part contains [ and the last ends with ], then []\n    // are correctly balanced.\n    if (/\\[/.test(keys[0]) && /\\]$/.test(keys[lastKey])) {\n      // Remove the trailing ] from the last keys part.\n      keys[lastKey] = keys[lastKey].replace(/\\]$/, '')\n\n      // Split first keys part into two parts on the [ and add them back onto\n      // the beginning of the keys array.\n      keys = keys\n        .shift()\n        .split('[')\n        .concat(keys)\n      lastKey = keys.length - 1\n    } else {\n      // Basic 'foo' style key.\n      lastKey = 0\n    }\n\n    if (lastKey) {\n      // Complex key, build deep object structure based on a few rules:\n      // * The 'cur' pointer starts at the object top-level.\n      // * [] = array push (n is set to array length), [n] = array if n is\n      //   numeric, otherwise object.\n      // * If at the last keys part, set the value.\n      // * For each keys part, if the current level is undefined create an\n      //   object or array based on the type of the next keys part.\n      // * Move the 'cur' pointer to the next level.\n      // * Rinse & repeat.\n      let i = 0\n      let cur = newObj\n      while (i <= lastKey) {\n        key = keys[i] === '' ? cur.length : keys[i]\n\n        cur = cur[key] =\n          i < lastKey ? cur[key] || (keys[i + 1] && isNaN(keys[i + 1]) ? {} : []) : val\n        i++\n      }\n    } else {\n      // Simple key, even simpler rules, since only scalars and shallow\n      // arrays are allowed.\n\n      if (underscore__WEBPACK_IMPORTED_MODULE_0___default.a.isArray(newObj[key])) {\n        // val is already an array, so push on the next value.\n        newObj[key].push(val)\n      } else if (newObj[key] != null) {\n        // val isn't an array, but since a second value has been specified,\n        // convert val into an array.\n        newObj[key] = [newObj[key], val]\n      } else {\n        // val is a scalar.\n        newObj[key] = val\n      }\n    }\n\n    return newObj\n  }, Object.create(null))\n}\n\n\n//# sourceURL=webpack:///./packages/obj-unflatten/index.js?");

/***/ }),

/***/ "J6em":
/*!*********************************************************************************!*\
  !*** ./frontend_build/i18n.js?MasterCourseLock!./ui/shims/dummyI18nResource.js ***!
  \*********************************************************************************/
/*! exports provided: default */
/***/ (function(module, __webpack_exports__, __webpack_require__) {

"use strict";
eval("__webpack_require__.r(__webpack_exports__);\n/* harmony import */ var _canvas_i18n_i18nObj__WEBPACK_IMPORTED_MODULE_0__ = __webpack_require__(/*! @canvas/i18n/i18nObj */ \"HGxv\");\n/* harmony import */ var translations_core_en__WEBPACK_IMPORTED_MODULE_1__ = __webpack_require__(/*! translations/_core_en */ \"0sPK\");\n\n    \n    \n    \n\n    /* harmony default export */ __webpack_exports__[\"default\"] = (_canvas_i18n_i18nObj__WEBPACK_IMPORTED_MODULE_0__[\"default\"].scoped('MasterCourseLock'));\n  \n\n//# sourceURL=webpack:///./ui/shims/dummyI18nResource.js?./frontend_build/i18n.js?MasterCourseLock");

/***/ }),

/***/ "JMNg":
/*!************************************************************!*\
  !*** ./ui/features/files/react/legacy/util/getAllPages.js ***!
  \************************************************************/
/*! exports provided: default */
/***/ (function(module, __webpack_exports__, __webpack_require__) {

"use strict";
eval("__webpack_require__.r(__webpack_exports__);\n/* harmony export (binding) */ __webpack_require__.d(__webpack_exports__, \"default\", function() { return getAllPages; });\n/*\n * Copyright (C) 2014 - present Instructure, Inc.\n *\n * This file is part of Canvas.\n *\n * Canvas is free software: you can redistribute it and/or modify it under\n * the terms of the GNU Affero General Public License as published by the Free\n * Software Foundation, version 3 of the License.\n *\n * Canvas is distributed in the hope that it will be useful, but WITHOUT ANY\n * WARRANTY; without even the implied warranty of MERCHANTABILITY or FITNESS FOR\n * A PARTICULAR PURPOSE. See the GNU Affero General Public License for more\n * details.\n *\n * You should have received a copy of the GNU Affero General Public License along\n * with this program. If not, see <http://www.gnu.org/licenses/>.\n */\n// TODO: don't use this and use scroll position to only load the pages we need\nfunction getAllPages(modelOrCollection, onUpdate) {\n  if (modelOrCollection.loadedAll) return;\n  const promise = modelOrCollection.fetch({\n    page: 'next'\n  });\n  promise.then(onUpdate);\n  return promise.pipe(() => getAllPages(modelOrCollection, onUpdate));\n}\n\n//# sourceURL=webpack:///./ui/features/files/react/legacy/util/getAllPages.js?");

/***/ }),

/***/ "JZLF":
/*!****************************************************************************!*\
  !*** ./ui/features/files/react/components/BreadcrumbCollapsedContainer.js ***!
  \****************************************************************************/
/*! exports provided: default */
/***/ (function(module, __webpack_exports__, __webpack_require__) {

"use strict";
eval("__webpack_require__.r(__webpack_exports__);\n/* harmony import */ var react__WEBPACK_IMPORTED_MODULE_0__ = __webpack_require__(/*! react */ \"q1tI\");\n/* harmony import */ var react__WEBPACK_IMPORTED_MODULE_0___default = /*#__PURE__*/__webpack_require__.n(react__WEBPACK_IMPORTED_MODULE_0__);\n/* harmony import */ var prop_types__WEBPACK_IMPORTED_MODULE_1__ = __webpack_require__(/*! prop-types */ \"17x9\");\n/* harmony import */ var prop_types__WEBPACK_IMPORTED_MODULE_1___default = /*#__PURE__*/__webpack_require__.n(prop_types__WEBPACK_IMPORTED_MODULE_1__);\n/* harmony import */ var classnames__WEBPACK_IMPORTED_MODULE_2__ = __webpack_require__(/*! classnames */ \"TSYQ\");\n/* harmony import */ var classnames__WEBPACK_IMPORTED_MODULE_2___default = /*#__PURE__*/__webpack_require__.n(classnames__WEBPACK_IMPORTED_MODULE_2__);\n/* harmony import */ var _canvas_files_react_modules_filesEnv__WEBPACK_IMPORTED_MODULE_3__ = __webpack_require__(/*! @canvas/files/react/modules/filesEnv */ \"m452\");\n/* harmony import */ var _canvas_files_react_modules_customPropTypes__WEBPACK_IMPORTED_MODULE_4__ = __webpack_require__(/*! @canvas/files/react/modules/customPropTypes */ \"Lg2F\");\n/*\n * Copyright (C) 2015 - present Instructure, Inc.\n *\n * This file is part of Canvas.\n *\n * Canvas is free software: you can redistribute it and/or modify it under\n * the terms of the GNU Affero General Public License as published by the Free\n * Software Foundation, version 3 of the License.\n *\n * Canvas is distributed in the hope that it will be useful, but WITHOUT ANY\n * WARRANTY; without even the implied warranty of MERCHANTABILITY or FITNESS FOR\n * A PARTICULAR PURPOSE. See the GNU Affero General Public License for more\n * details.\n *\n * You should have received a copy of the GNU Affero General Public License along\n * with this program. If not, see <http://www.gnu.org/licenses/>.\n */\n\n\n\n\n\n\nclass BreadcrumbCollapsedContainer extends react__WEBPACK_IMPORTED_MODULE_0___default.a.Component {\n  constructor(...args) {\n    super(...args);\n    this.state = {\n      open: false\n    };\n\n    this.open = () => {\n      window.clearTimeout(this.timeout);\n      this.setState({\n        open: true\n      });\n    };\n\n    this.close = () => {\n      this.timeout = window.setTimeout(() => {\n        this.setState({\n          open: false\n        });\n      }, 100);\n    };\n  }\n\n  render() {\n    const divClasses = classnames__WEBPACK_IMPORTED_MODULE_2___default()({\n      open: this.state.open,\n      closed: !this.state.open,\n      popover: true,\n      bottom: true,\n      'ef-breadcrumb-popover': true\n    });\n    return /*#__PURE__*/react__WEBPACK_IMPORTED_MODULE_0___default.a.createElement(\"li\", {\n      href: \"#\",\n      onMouseEnter: this.open,\n      onMouseLeave: this.close,\n      onFocus: this.open,\n      onBlur: this.close,\n      style: {\n        position: 'relative'\n      }\n    }, /*#__PURE__*/react__WEBPACK_IMPORTED_MODULE_0___default.a.createElement(\"a\", {\n      href: \"#\"\n    }, \"\\u2026\"), /*#__PURE__*/react__WEBPACK_IMPORTED_MODULE_0___default.a.createElement(\"div\", {\n      className: divClasses\n    }, /*#__PURE__*/react__WEBPACK_IMPORTED_MODULE_0___default.a.createElement(\"div\", {\n      className: \"arrow\"\n    }), /*#__PURE__*/react__WEBPACK_IMPORTED_MODULE_0___default.a.createElement(\"div\", {\n      className: \"popover-content\"\n    }, /*#__PURE__*/react__WEBPACK_IMPORTED_MODULE_0___default.a.createElement(\"ul\", null, this.props.foldersToContain.map(folder => /*#__PURE__*/react__WEBPACK_IMPORTED_MODULE_0___default.a.createElement(\"li\", {\n      key: folder.cid\n    }, /*#__PURE__*/react__WEBPACK_IMPORTED_MODULE_0___default.a.createElement(\"a\", {\n      href: folder.urlPath() ? `${_canvas_files_react_modules_filesEnv__WEBPACK_IMPORTED_MODULE_3__[\"default\"].baseUrl}/folder/${folder.urlPath()}` : _canvas_files_react_modules_filesEnv__WEBPACK_IMPORTED_MODULE_3__[\"default\"].baseUrl,\n      activeClassName: \"active\",\n      className: \"ellipsis\"\n    }, /*#__PURE__*/react__WEBPACK_IMPORTED_MODULE_0___default.a.createElement(\"i\", {\n      className: \"ef-big-icon icon-folder\"\n    }), /*#__PURE__*/react__WEBPACK_IMPORTED_MODULE_0___default.a.createElement(\"span\", null, folder.get('name')))))))));\n  }\n\n}\n\nBreadcrumbCollapsedContainer.displayName = 'BreadcrumbCollapsedContainer';\nBreadcrumbCollapsedContainer.propTypes = {\n  foldersToContain: prop_types__WEBPACK_IMPORTED_MODULE_1___default.a.arrayOf(_canvas_files_react_modules_customPropTypes__WEBPACK_IMPORTED_MODULE_4__[\"default\"].folder).isRequired\n};\n/* harmony default export */ __webpack_exports__[\"default\"] = (BreadcrumbCollapsedContainer);\n\n//# sourceURL=webpack:///./ui/features/files/react/components/BreadcrumbCollapsedContainer.js?");

/***/ }),

/***/ "Jnhg":
/*!********************************************************************!*\
  !*** ./ui/features/files/react/legacy/util/downloadStuffAsAZip.js ***!
  \********************************************************************/
/*! exports provided: default */
/***/ (function(module, __webpack_exports__, __webpack_require__) {

"use strict";
eval("__webpack_require__.r(__webpack_exports__);\n/* harmony export (binding) */ __webpack_require__.d(__webpack_exports__, \"default\", function() { return downloadStuffAsAZip; });\n/* harmony import */ var underscore__WEBPACK_IMPORTED_MODULE_0__ = __webpack_require__(/*! underscore */ \"Y/W1\");\n/* harmony import */ var underscore__WEBPACK_IMPORTED_MODULE_0___default = /*#__PURE__*/__webpack_require__.n(underscore__WEBPACK_IMPORTED_MODULE_0__);\n/* harmony import */ var i18n_react_files__WEBPACK_IMPORTED_MODULE_1__ = __webpack_require__(/*! i18n!react_files */ \"mddV\");\n/* harmony import */ var jquery__WEBPACK_IMPORTED_MODULE_2__ = __webpack_require__(/*! jquery */ \"ouhR\");\n/* harmony import */ var jquery__WEBPACK_IMPORTED_MODULE_2___default = /*#__PURE__*/__webpack_require__.n(jquery__WEBPACK_IMPORTED_MODULE_2__);\n/* harmony import */ var _canvas_progress_backbone_models_Progress_coffee__WEBPACK_IMPORTED_MODULE_3__ = __webpack_require__(/*! @canvas/progress/backbone/models/Progress.coffee */ \"KK2i\");\n/* harmony import */ var _canvas_files_backbone_models_Folder__WEBPACK_IMPORTED_MODULE_4__ = __webpack_require__(/*! @canvas/files/backbone/models/Folder */ \"3jyj\");\n/*\n * Copyright (C) 2014 - present Instructure, Inc.\n *\n * This file is part of Canvas.\n *\n * Canvas is free software: you can redistribute it and/or modify it under\n * the terms of the GNU Affero General Public License as published by the Free\n * Software Foundation, version 3 of the License.\n *\n * Canvas is distributed in the hope that it will be useful, but WITHOUT ANY\n * WARRANTY; without even the implied warranty of MERCHANTABILITY or FITNESS FOR\n * A PARTICULAR PURPOSE. See the GNU Affero General Public License for more\n * details.\n *\n * You should have received a copy of the GNU Affero General Public License along\n * with this program. If not, see <http://www.gnu.org/licenses/>.\n */\n\n\n\n\n\nfunction downloadStuffAsAZip(filesAndFolders, {\n  contextType,\n  contextId\n}) {\n  let promptBeforeLeaving;\n  const files = [];\n  const folders = [];\n  filesAndFolders.forEach(item => {\n    if (item instanceof _canvas_files_backbone_models_Folder__WEBPACK_IMPORTED_MODULE_4__[\"default\"]) {\n      folders.push(item.id);\n    } else {\n      files.push(item.id);\n    }\n  });\n  const url = `/api/v1/${contextType}/${contextId}/content_exports`; // This gives at least 2.5 seconds between updates of the status for screenreaders,\n  // this should allow them to get the full message before it triggers another\n  // reading of the message.  Technically, if the screenreader read speed is set\n  // such that this is slower it won't work as intended.  But, most experienced\n  // SR users set it much higher speed (300 wpm according to http://webaim.org/techniques/screenreader/)\n  // This works well for the default read speed which is around 180 wpm.\n\n  const screenreaderMessageWaitTimeMS = 2500;\n\n  const throttledSRMessage = underscore__WEBPACK_IMPORTED_MODULE_0___default.a.throttle(jquery__WEBPACK_IMPORTED_MODULE_2___default.a.screenReaderFlashMessageExclusive, screenreaderMessageWaitTimeMS, {\n    leading: false\n  }); // TODO: handle progress events with nicer UI\n\n\n  const $progressIndicator = jquery__WEBPACK_IMPORTED_MODULE_2___default()('<div style=\"position: fixed; top: 4px; left: 50%; margin-left: -120px; width: 240px; z-index: 11; text-align: center; box-sizing: border-box; padding: 8px;\" class=\"alert alert-info\">');\n\n  function onProgress(progessAPIResponse) {\n    const message = i18n_react_files__WEBPACK_IMPORTED_MODULE_1__[\"default\"].t('progress_message', 'Preparing download: %{percent}% complete', {\n      percent: progessAPIResponse.completion\n    });\n    $progressIndicator.appendTo('body').text(message);\n    return throttledSRMessage(message);\n  }\n\n  const data = {\n    export_type: 'zip',\n    select: {\n      files,\n      folders\n    }\n  };\n  jquery__WEBPACK_IMPORTED_MODULE_2___default()(window).on('beforeunload', promptBeforeLeaving = () => i18n_react_files__WEBPACK_IMPORTED_MODULE_1__[\"default\"].t('If you leave, the zip file download currently being prepared will be canceled.'));\n  return jquery__WEBPACK_IMPORTED_MODULE_2___default.a.post(url, data).pipe(progressObject => new _canvas_progress_backbone_models_Progress_coffee__WEBPACK_IMPORTED_MODULE_3__[\"default\"]({\n    url: progressObject.progress_url\n  }).poll().progress(onProgress)).pipe(progressObject => {\n    const contentExportId = progressObject.context_id;\n    return jquery__WEBPACK_IMPORTED_MODULE_2___default.a.getJSON(`${url}/${contentExportId}`);\n  }).pipe(response => {\n    jquery__WEBPACK_IMPORTED_MODULE_2___default()(window).off('beforeunload', promptBeforeLeaving);\n\n    if (response.workflow_state === 'exported') {\n      window.location = response.attachment.url;\n    } else {\n      jquery__WEBPACK_IMPORTED_MODULE_2___default.a.flashError(i18n_react_files__WEBPACK_IMPORTED_MODULE_1__[\"default\"].t('An error occurred trying to prepare download, please try again.'));\n    }\n  }).fail(() => jquery__WEBPACK_IMPORTED_MODULE_2___default.a.flashError(i18n_react_files__WEBPACK_IMPORTED_MODULE_1__[\"default\"].t('An error occurred trying to prepare download, please try again.'))).always(() => {\n    jquery__WEBPACK_IMPORTED_MODULE_2___default()(window).off('beforeunload', promptBeforeLeaving);\n    $progressIndicator.remove();\n  });\n}\n\n//# sourceURL=webpack:///./ui/features/files/react/legacy/util/downloadStuffAsAZip.js?");

/***/ }),

/***/ "Jq1E":
/*!***********************************************************!*\
  !*** ./ui/features/files/react/components/Breadcrumbs.js ***!
  \***********************************************************/
/*! exports provided: default */
/***/ (function(module, __webpack_exports__, __webpack_require__) {

"use strict";
eval("__webpack_require__.r(__webpack_exports__);\n/* harmony import */ var _babel_runtime_helpers_esm_slicedToArray__WEBPACK_IMPORTED_MODULE_0__ = __webpack_require__(/*! @babel/runtime/helpers/esm/slicedToArray */ \"ODXe\");\n/* harmony import */ var react__WEBPACK_IMPORTED_MODULE_1__ = __webpack_require__(/*! react */ \"q1tI\");\n/* harmony import */ var react__WEBPACK_IMPORTED_MODULE_1___default = /*#__PURE__*/__webpack_require__.n(react__WEBPACK_IMPORTED_MODULE_1__);\n/* harmony import */ var create_react_class__WEBPACK_IMPORTED_MODULE_2__ = __webpack_require__(/*! create-react-class */ \"fhzG\");\n/* harmony import */ var create_react_class__WEBPACK_IMPORTED_MODULE_2___default = /*#__PURE__*/__webpack_require__.n(create_react_class__WEBPACK_IMPORTED_MODULE_2__);\n/* harmony import */ var i18n_react_files__WEBPACK_IMPORTED_MODULE_3__ = __webpack_require__(/*! i18n!react_files */ \"mddV\");\n/* harmony import */ var _legacy_components_Breadcrumbs__WEBPACK_IMPORTED_MODULE_4__ = __webpack_require__(/*! ../legacy/components/Breadcrumbs */ \"3+TV\");\n/* harmony import */ var _canvas_files_react_modules_filesEnv__WEBPACK_IMPORTED_MODULE_5__ = __webpack_require__(/*! @canvas/files/react/modules/filesEnv */ \"m452\");\n/* harmony import */ var _BreadcrumbCollapsedContainer__WEBPACK_IMPORTED_MODULE_6__ = __webpack_require__(/*! ./BreadcrumbCollapsedContainer */ \"JZLF\");\n/* harmony import */ var _canvas_util_splitAssetString__WEBPACK_IMPORTED_MODULE_7__ = __webpack_require__(/*! @canvas/util/splitAssetString */ \"s9Pr\");\n\n\n/*\n * Copyright (C) 2015 - present Instructure, Inc.\n *\n * This file is part of Canvas.\n *\n * Canvas is free software: you can redistribute it and/or modify it under\n * the terms of the GNU Affero General Public License as published by the Free\n * Software Foundation, version 3 of the License.\n *\n * Canvas is distributed in the hope that it will be useful, but WITHOUT ANY\n * WARRANTY; without even the implied warranty of MERCHANTABILITY or FITNESS FOR\n * A PARTICULAR PURPOSE. See the GNU Affero General Public License for more\n * details.\n *\n * You should have received a copy of the GNU Affero General Public License along\n * with this program. If not, see <http://www.gnu.org/licenses/>.\n */\n\n\n\n\n\n\n\nconst MAX_CRUMB_WIDTH = 500;\nconst MIN_CRUMB_WIDTH = 80;\n\n_legacy_components_Breadcrumbs__WEBPACK_IMPORTED_MODULE_4__[\"default\"].renderSingleCrumb = function (folder, isLastCrumb, isRootCrumb) {\n  const _splitAssetString = Object(_canvas_util_splitAssetString__WEBPACK_IMPORTED_MODULE_7__[\"default\"])(this.props.contextAssetString, false),\n        _splitAssetString2 = Object(_babel_runtime_helpers_esm_slicedToArray__WEBPACK_IMPORTED_MODULE_0__[\"default\"])(_splitAssetString, 2),\n        contextType = _splitAssetString2[0],\n        contextId = _splitAssetString2[1];\n\n  const isContextRoot = !folder || !!(folder && (folder.get('context_type') || '').toLowerCase() === contextType && (folder.get('context_id') || -1).toString() === contextId);\n  const name = isRootCrumb && isContextRoot ? i18n_react_files__WEBPACK_IMPORTED_MODULE_3__[\"default\"].t('files', 'Files') : folder && (folder.get('custom_name') || folder.get('name'));\n  return /*#__PURE__*/react__WEBPACK_IMPORTED_MODULE_1___default.a.createElement(\"li\", {\n    key: name\n  }, /*#__PURE__*/react__WEBPACK_IMPORTED_MODULE_1___default.a.createElement(\"a\", {\n    href: isRootCrumb && isContextRoot ? _canvas_files_react_modules_filesEnv__WEBPACK_IMPORTED_MODULE_5__[\"default\"].baseUrl : `${_canvas_files_react_modules_filesEnv__WEBPACK_IMPORTED_MODULE_5__[\"default\"].baseUrl}/folder/${folder ? folder.urlPath() : null}` // only add title tooltips if there's a chance they could be ellipsized\n    ,\n    title: this.state.maxCrumbWidth < 500 ? name : null\n  }, /*#__PURE__*/react__WEBPACK_IMPORTED_MODULE_1___default.a.createElement(\"span\", {\n    className: \"ellipsis\",\n    style: {\n      maxWidth: isLastCrumb ? null : this.state.maxCrumbWidth\n    }\n  }, name)));\n};\n\n_legacy_components_Breadcrumbs__WEBPACK_IMPORTED_MODULE_4__[\"default\"].renderDynamicCrumbs = function () {\n  if (this.props.showingSearchResults) {\n    return [this.renderSingleCrumb(null, !'isLastCrumb', !!'isRootCrumb'), /*#__PURE__*/react__WEBPACK_IMPORTED_MODULE_1___default.a.createElement(\"li\", {\n      key: \"searchLink\"\n    }, /*#__PURE__*/react__WEBPACK_IMPORTED_MODULE_1___default.a.createElement(\"a\", {\n      href: \"/search\"\n    }, /*#__PURE__*/react__WEBPACK_IMPORTED_MODULE_1___default.a.createElement(\"span\", {\n      className: \"ellipsis\"\n    }, this.props.query.search_term && i18n_react_files__WEBPACK_IMPORTED_MODULE_3__[\"default\"].t('search_results_for', 'search results for \"%{search_term}\"', {\n      search_term: this.props.query.search_term\n    }))))];\n  } else {\n    if (!this.props.rootTillCurrentFolder || !this.props.rootTillCurrentFolder.length) {\n      return [];\n    } // Formerly, in CoffeeScript [...foldersInMiddle, lastFolder] = this.props.rootTillCurrentFolder\n\n\n    const foldersInMiddle = this.props.rootTillCurrentFolder.slice(0, this.props.rootTillCurrentFolder.length - 1);\n    const lastFolder = this.props.rootTillCurrentFolder[this.props.rootTillCurrentFolder.length - 1];\n\n    if (this.state.maxCrumbWidth > MIN_CRUMB_WIDTH) {\n      return this.props.rootTillCurrentFolder.map((folder, i) => {\n        return this.renderSingleCrumb(folder, folder === lastFolder, i === 0);\n      });\n    } else {\n      return [/*#__PURE__*/react__WEBPACK_IMPORTED_MODULE_1___default.a.createElement(_BreadcrumbCollapsedContainer__WEBPACK_IMPORTED_MODULE_6__[\"default\"], {\n        foldersToContain: foldersInMiddle\n      }), this.renderSingleCrumb(lastFolder, true)];\n    }\n  }\n};\n\n_legacy_components_Breadcrumbs__WEBPACK_IMPORTED_MODULE_4__[\"default\"].render = function () {\n  return /*#__PURE__*/react__WEBPACK_IMPORTED_MODULE_1___default.a.createElement(\"nav\", {\n    \"aria-label\": \"breadcrumbs\",\n    role: \"navigation\",\n    id: \"breadcrumbs\",\n    ref: \"breadcrumbs\"\n  }, /*#__PURE__*/react__WEBPACK_IMPORTED_MODULE_1___default.a.createElement(\"ul\", null, /*#__PURE__*/react__WEBPACK_IMPORTED_MODULE_1___default.a.createElement(\"li\", {\n    className: \"home\"\n  }, /*#__PURE__*/react__WEBPACK_IMPORTED_MODULE_1___default.a.createElement(\"a\", {\n    href: \"/\"\n  }, /*#__PURE__*/react__WEBPACK_IMPORTED_MODULE_1___default.a.createElement(\"i\", {\n    className: \"icon-home standalone-icon\",\n    title: this.state.homeName\n  }, /*#__PURE__*/react__WEBPACK_IMPORTED_MODULE_1___default.a.createElement(\"span\", {\n    className: \"screenreader-only\"\n  }, this.state.homeName)))), /*#__PURE__*/react__WEBPACK_IMPORTED_MODULE_1___default.a.createElement(\"li\", null, /*#__PURE__*/react__WEBPACK_IMPORTED_MODULE_1___default.a.createElement(\"a\", {\n    href: this.state.contextUrl\n  }, /*#__PURE__*/react__WEBPACK_IMPORTED_MODULE_1___default.a.createElement(\"span\", {\n    className: \"ellipsible\"\n  }, this.state.contextName))), this.renderDynamicCrumbs()));\n};\n\n/* harmony default export */ __webpack_exports__[\"default\"] = (create_react_class__WEBPACK_IMPORTED_MODULE_2___default()(_legacy_components_Breadcrumbs__WEBPACK_IMPORTED_MODULE_4__[\"default\"]));\n\n//# sourceURL=webpack:///./ui/features/files/react/components/Breadcrumbs.js?");

/***/ }),

/***/ "KiLB":
/*!*******************************************************************************!*\
  !*** ./frontend_build/i18n.js?broccoli_cloud!./ui/shims/dummyI18nResource.js ***!
  \*******************************************************************************/
/*! exports provided: default */
/***/ (function(module, __webpack_exports__, __webpack_require__) {

"use strict";
eval("__webpack_require__.r(__webpack_exports__);\n/* harmony import */ var _canvas_i18n_i18nObj__WEBPACK_IMPORTED_MODULE_0__ = __webpack_require__(/*! @canvas/i18n/i18nObj */ \"HGxv\");\n/* harmony import */ var translations_core_en__WEBPACK_IMPORTED_MODULE_1__ = __webpack_require__(/*! translations/_core_en */ \"0sPK\");\n\n    \n    \n    \n\n    /* harmony default export */ __webpack_exports__[\"default\"] = (_canvas_i18n_i18nObj__WEBPACK_IMPORTED_MODULE_0__[\"default\"].scoped('broccoli_cloud'));\n  \n\n//# sourceURL=webpack:///./ui/shims/dummyI18nResource.js?./frontend_build/i18n.js?broccoli_cloud");

/***/ }),

/***/ "LRs1":
/*!****************************************!*\
  !*** ./packages/url-encoding/index.js ***!
  \****************************************/
/*! exports provided: default */
/***/ (function(module, __webpack_exports__, __webpack_require__) {

"use strict";
eval("__webpack_require__.r(__webpack_exports__);\n/*\n * Copyright (C) 2016 - present Instructure, Inc.\n *\n * This file is part of Canvas.\n *\n * Canvas is free software: you can redistribute it and/or modify it under\n * the terms of the GNU Affero General Public License as published by the Free\n * Software Foundation, version 3 of the License.\n *\n * Canvas is distributed in the hope that it will be useful, but WITHOUT ANY\n * WARRANTY; without even the implied warranty of MERCHANTABILITY or FITNESS FOR\n * A PARTICULAR PURPOSE. See the GNU Affero General Public License for more\n * details.\n *\n * You should have received a copy of the GNU Affero General Public License along\n * with this program. If not, see <http://www.gnu.org/licenses/>.\n */\n\n/* harmony default export */ __webpack_exports__[\"default\"] = ({\n  encodeSpecialChars: url => url.replace(/%/g, '&#37;'),\n  decodeSpecialChars: url =>\n    url\n      .split('/')\n      .map(component => encodeURIComponent(decodeURIComponent(component).replace(/&#37;/, '%')))\n      .join('/')\n});\n\n\n//# sourceURL=webpack:///./packages/url-encoding/index.js?");

/***/ }),

/***/ "Lg2F":
/*!**********************************************************!*\
  !*** ./ui/shared/files/react/modules/customPropTypes.js ***!
  \**********************************************************/
/*! exports provided: default */
/***/ (function(module, __webpack_exports__, __webpack_require__) {

"use strict";
eval("__webpack_require__.r(__webpack_exports__);\n/* harmony import */ var prop_types__WEBPACK_IMPORTED_MODULE_0__ = __webpack_require__(/*! prop-types */ \"17x9\");\n/* harmony import */ var prop_types__WEBPACK_IMPORTED_MODULE_0___default = /*#__PURE__*/__webpack_require__.n(prop_types__WEBPACK_IMPORTED_MODULE_0__);\n/* harmony import */ var _backbone_models_Folder__WEBPACK_IMPORTED_MODULE_1__ = __webpack_require__(/*! ../../backbone/models/Folder */ \"3jyj\");\n/* harmony import */ var _backbone_models_FilesystemObject_coffee__WEBPACK_IMPORTED_MODULE_2__ = __webpack_require__(/*! ../../backbone/models/FilesystemObject.coffee */ \"QYKH\");\n/*\n * Copyright (C) 2014 - present Instructure, Inc.\n *\n * This file is part of Canvas.\n *\n * Canvas is free software: you can redistribute it and/or modify it under\n * the terms of the GNU Affero General Public License as published by the Free\n * Software Foundation, version 3 of the License.\n *\n * Canvas is distributed in the hope that it will be useful, but WITHOUT ANY\n * WARRANTY; without even the implied warranty of MERCHANTABILITY or FITNESS FOR\n * A PARTICULAR PURPOSE. See the GNU Affero General Public License for more\n * details.\n *\n * You should have received a copy of the GNU Affero General Public License along\n * with this program. If not, see <http://www.gnu.org/licenses/>.\n */\n\n\n\n/* harmony default export */ __webpack_exports__[\"default\"] = ({\n  contextType: prop_types__WEBPACK_IMPORTED_MODULE_0___default.a.oneOf(['users', 'groups', 'accounts', 'courses']),\n  contextId: prop_types__WEBPACK_IMPORTED_MODULE_0___default.a.oneOfType([prop_types__WEBPACK_IMPORTED_MODULE_0___default.a.string, prop_types__WEBPACK_IMPORTED_MODULE_0___default.a.number]),\n  folder: prop_types__WEBPACK_IMPORTED_MODULE_0___default.a.instanceOf(_backbone_models_Folder__WEBPACK_IMPORTED_MODULE_1__[\"default\"]),\n  filesystemObject: prop_types__WEBPACK_IMPORTED_MODULE_0___default.a.instanceOf(_backbone_models_FilesystemObject_coffee__WEBPACK_IMPORTED_MODULE_2__[\"default\"])\n});\n\n//# sourceURL=webpack:///./ui/shared/files/react/modules/customPropTypes.js?");

/***/ }),

/***/ "Llkk":
/*!*********************************************************!*\
  !*** ./ui/shared/files/react/components/FilePreview.js ***!
  \*********************************************************/
/*! exports provided: default */
/***/ (function(module, __webpack_exports__, __webpack_require__) {

"use strict";
eval("__webpack_require__.r(__webpack_exports__);\n/* harmony export (binding) */ __webpack_require__.d(__webpack_exports__, \"default\", function() { return FilePreview; });\n/* harmony import */ var react__WEBPACK_IMPORTED_MODULE_0__ = __webpack_require__(/*! react */ \"q1tI\");\n/* harmony import */ var react__WEBPACK_IMPORTED_MODULE_0___default = /*#__PURE__*/__webpack_require__.n(react__WEBPACK_IMPORTED_MODULE_0__);\n/* harmony import */ var page__WEBPACK_IMPORTED_MODULE_1__ = __webpack_require__(/*! page */ \"KVl8\");\n/* harmony import */ var page__WEBPACK_IMPORTED_MODULE_1___default = /*#__PURE__*/__webpack_require__.n(page__WEBPACK_IMPORTED_MODULE_1__);\n/* harmony import */ var jquery__WEBPACK_IMPORTED_MODULE_2__ = __webpack_require__(/*! jquery */ \"ouhR\");\n/* harmony import */ var jquery__WEBPACK_IMPORTED_MODULE_2___default = /*#__PURE__*/__webpack_require__.n(jquery__WEBPACK_IMPORTED_MODULE_2__);\n/* harmony import */ var classnames__WEBPACK_IMPORTED_MODULE_3__ = __webpack_require__(/*! classnames */ \"TSYQ\");\n/* harmony import */ var classnames__WEBPACK_IMPORTED_MODULE_3___default = /*#__PURE__*/__webpack_require__.n(classnames__WEBPACK_IMPORTED_MODULE_3__);\n/* harmony import */ var _instructure_ui_overlays__WEBPACK_IMPORTED_MODULE_4__ = __webpack_require__(/*! @instructure/ui-overlays */ \"vWls\");\n/* harmony import */ var _FilePreviewInfoPanel__WEBPACK_IMPORTED_MODULE_5__ = __webpack_require__(/*! ./FilePreviewInfoPanel */ \"jFkK\");\n/* harmony import */ var _util_collectionHandler__WEBPACK_IMPORTED_MODULE_6__ = __webpack_require__(/*! ../../util/collectionHandler */ \"C4hU\");\n/* harmony import */ var prevent_default__WEBPACK_IMPORTED_MODULE_7__ = __webpack_require__(/*! prevent-default */ \"qqwe\");\n/* harmony import */ var underscore__WEBPACK_IMPORTED_MODULE_8__ = __webpack_require__(/*! underscore */ \"Y/W1\");\n/* harmony import */ var underscore__WEBPACK_IMPORTED_MODULE_8___default = /*#__PURE__*/__webpack_require__.n(underscore__WEBPACK_IMPORTED_MODULE_8__);\n/* harmony import */ var prop_types__WEBPACK_IMPORTED_MODULE_9__ = __webpack_require__(/*! prop-types */ \"17x9\");\n/* harmony import */ var prop_types__WEBPACK_IMPORTED_MODULE_9___default = /*#__PURE__*/__webpack_require__.n(prop_types__WEBPACK_IMPORTED_MODULE_9__);\n/* harmony import */ var _modules_customPropTypes__WEBPACK_IMPORTED_MODULE_10__ = __webpack_require__(/*! ../modules/customPropTypes */ \"Lg2F\");\n/* harmony import */ var i18n_file_preview__WEBPACK_IMPORTED_MODULE_11__ = __webpack_require__(/*! i18n!file_preview */ \"aq4X\");\n/* harmony import */ var _backbone_models_File_coffee__WEBPACK_IMPORTED_MODULE_12__ = __webpack_require__(/*! ../../backbone/models/File.coffee */ \"C8i9\");\n/* harmony import */ var _backbone_models_FilesystemObject_coffee__WEBPACK_IMPORTED_MODULE_13__ = __webpack_require__(/*! ../../backbone/models/FilesystemObject.coffee */ \"QYKH\");\n/* harmony import */ var _jquery_codeToRemoveLater__WEBPACK_IMPORTED_MODULE_14__ = __webpack_require__(/*! ../../jquery/codeToRemoveLater */ \"TjAh\");\n/* harmony import */ var _canvas_rails_flash_notifications__WEBPACK_IMPORTED_MODULE_15__ = __webpack_require__(/*! @canvas/rails-flash-notifications */ \"r2Yr\");\n/*\n * Copyright (C) 2015 - present Instructure, Inc.\n *\n * This file is part of Canvas.\n *\n * Canvas is free software: you can redistribute it and/or modify it under\n * the terms of the GNU Affero General Public License as published by the Free\n * Software Foundation, version 3 of the License.\n *\n * Canvas is distributed in the hope that it will be useful, but WITHOUT ANY\n * WARRANTY; without even the implied warranty of MERCHANTABILITY or FITNESS FOR\n * A PARTICULAR PURPOSE. See the GNU Affero General Public License for more\n * details.\n *\n * You should have received a copy of the GNU Affero General Public License along\n * with this program. If not, see <http://www.gnu.org/licenses/>.\n */\n\n\n\n\n\n\n\n\n\n\n\n\n\n\n\n\nclass FilePreview extends react__WEBPACK_IMPORTED_MODULE_0___default.a.PureComponent {\n  constructor(...args) {\n    super(...args);\n    this.state = {\n      showInfoPanel: false,\n      displayedItem: null\n    };\n\n    this.getRouteIdentifier = () => {\n      if (this.props.query && this.props.query.search_term) {\n        return '/search';\n      } else if (this.props.splat) {\n        return `/folder/${this.props.splat}`;\n      } else {\n        return '';\n      }\n    };\n\n    this.getNavigationParams = (opts = {\n      id: null,\n      except: []\n    }) => {\n      const obj = {\n        preview: opts && opts.id,\n        search_term: this.props.query.search_term || void 0,\n        only_preview: this.props.query.only_preview || void 0,\n        sort: this.props.query.sort || void 0,\n        order: this.props.query.order || void 0\n      };\n\n      underscore__WEBPACK_IMPORTED_MODULE_8___default.a.each(obj, (v, k) => {\n        if (!v || opts.except && opts.except.length && (opts.except === k || opts.except.includes(k))) {\n          delete obj[k];\n        }\n      });\n\n      return obj;\n    };\n\n    this.getItemsToView = (props, cb) => {\n      if (typeof cb !== 'function') throw new Error('getItemsToView(props: obj, callback: fn) requires `callback` to be a function'); // Sets up our collection that we will be using.\n\n      let initialItem = null;\n      const onlyIdsToPreview = props.query.only_preview && props.query.only_preview.split(',');\n      const files = props.query.search_term ? props.collection.models : props.currentFolder.files.models;\n      const otherItems = files.filter(file => {\n        if (!onlyIdsToPreview) return true;\n        return onlyIdsToPreview.includes(file.id);\n      });\n\n      const visibleFile = props.query.preview && underscore__WEBPACK_IMPORTED_MODULE_8___default.a.findWhere(files, {\n        id: props.query.preview\n      });\n\n      if (!visibleFile) {\n        const responseDataRequested = ['enhanced_preview_url'];\n\n        if (props.usageRightsRequiredForContext) {\n          responseDataRequested.push('usage_rights');\n        }\n\n        new _backbone_models_File_coffee__WEBPACK_IMPORTED_MODULE_12__[\"default\"]({\n          id: props.query.preview\n        }, {\n          preflightUrl: 'no/url/needed'\n        }).fetch({\n          data: jquery__WEBPACK_IMPORTED_MODULE_2___default.a.param({\n            include: responseDataRequested\n          })\n        }).success(file => {\n          initialItem = new _backbone_models_FilesystemObject_coffee__WEBPACK_IMPORTED_MODULE_13__[\"default\"](file);\n          return cb({\n            initialItem,\n            otherItems\n          });\n        });\n      } else {\n        initialItem = visibleFile || (files.length ? files[0] : void 0);\n        cb({\n          initialItem,\n          otherItems\n        });\n      }\n    };\n\n    this.setUpOtherItemsQuery = otherItems => otherItems.map(item => item.id).join(',');\n\n    this.toggle = key => {\n      const newState = {};\n      newState[key] = !this.state[key];\n      return () => {\n        this.setState(newState, function () {\n          if (key === 'showInfoPanel' && this.state.showInfoPanel) {\n            jquery__WEBPACK_IMPORTED_MODULE_2___default.a.screenReaderFlashMessage(i18n_file_preview__WEBPACK_IMPORTED_MODULE_11__[\"default\"].t('Info panel displayed'));\n          } else {\n            jquery__WEBPACK_IMPORTED_MODULE_2___default.a.screenReaderFlashMessage(i18n_file_preview__WEBPACK_IMPORTED_MODULE_11__[\"default\"].t('Info panel hidden'));\n          }\n        });\n      };\n    };\n\n    this.handleKeyboardNavigation = event => {\n      if (!(event.keyCode === jquery__WEBPACK_IMPORTED_MODULE_2___default.a.ui.keyCode.LEFT || event.keyCode === jquery__WEBPACK_IMPORTED_MODULE_2___default.a.ui.keyCode.RIGHT)) {\n        return null;\n      }\n\n      let nextItem = null;\n\n      if (event.keyCode === jquery__WEBPACK_IMPORTED_MODULE_2___default.a.ui.keyCode.LEFT) {\n        nextItem = _util_collectionHandler__WEBPACK_IMPORTED_MODULE_6__[\"default\"].getPreviousInRelationTo(this.state.otherItems, this.state.displayedItem);\n      }\n\n      if (event.keyCode === jquery__WEBPACK_IMPORTED_MODULE_2___default.a.ui.keyCode.RIGHT) {\n        nextItem = _util_collectionHandler__WEBPACK_IMPORTED_MODULE_6__[\"default\"].getNextInRelationTo(this.state.otherItems, this.state.displayedItem);\n      }\n\n      page__WEBPACK_IMPORTED_MODULE_1___default()(`${this.getRouteIdentifier()}?${jquery__WEBPACK_IMPORTED_MODULE_2___default.a.param(this.getNavigationParams({\n        id: nextItem.id\n      }))}`);\n    };\n\n    this.closeModal = () => {\n      this.props.closePreview(`${this.getRouteIdentifier()}?${jquery__WEBPACK_IMPORTED_MODULE_2___default.a.param(this.getNavigationParams({\n        except: 'only_preview'\n      }))}`);\n    };\n\n    this.stateProperties = items => ({\n      initialItem: items.initialItem,\n      displayedItem: items.initialItem,\n      otherItems: items.otherItems\n    });\n\n    this.renderArrowLink = direction => {\n      const nextItem = direction === 'left' ? _util_collectionHandler__WEBPACK_IMPORTED_MODULE_6__[\"default\"].getPreviousInRelationTo(this.state.otherItems, this.state.displayedItem) : _util_collectionHandler__WEBPACK_IMPORTED_MODULE_6__[\"default\"].getNextInRelationTo(this.state.otherItems, this.state.displayedItem);\n\n      if (!nextItem) {\n        return null;\n      }\n\n      const linkText = direction === 'left' ? i18n_file_preview__WEBPACK_IMPORTED_MODULE_11__[\"default\"].t('View previous file') : i18n_file_preview__WEBPACK_IMPORTED_MODULE_11__[\"default\"].t('View next file');\n      const baseUrl = page__WEBPACK_IMPORTED_MODULE_1___default.a.base();\n      return /*#__PURE__*/react__WEBPACK_IMPORTED_MODULE_0___default.a.createElement(\"div\", {\n        className: \"col-xs-1 ef-file-arrow_container\"\n      }, /*#__PURE__*/react__WEBPACK_IMPORTED_MODULE_0___default.a.createElement(\"a\", {\n        href: `${baseUrl}${this.getRouteIdentifier()}?${jquery__WEBPACK_IMPORTED_MODULE_2___default.a.param(this.getNavigationParams({\n          id: nextItem.id\n        }))}`,\n        className: \"ef-file-preview-container-arrow-link\",\n        onClick: e => page__WEBPACK_IMPORTED_MODULE_1___default.a.clickHandler(e.nativeEvent)\n      }, /*#__PURE__*/react__WEBPACK_IMPORTED_MODULE_0___default.a.createElement(\"div\", {\n        className: \"ef-file-preview-arrow-link\"\n      }, /*#__PURE__*/react__WEBPACK_IMPORTED_MODULE_0___default.a.createElement(\"span\", {\n        className: \"screenreader-only\"\n      }, linkText), /*#__PURE__*/react__WEBPACK_IMPORTED_MODULE_0___default.a.createElement(\"i\", {\n        \"aria-hidden\": \"true\",\n        className: `icon-arrow-open-${direction}`\n      }))));\n    };\n\n    this.renderPreview = () => {\n      if (this.state.displayedItem && this.state.displayedItem.get('preview_url')) {\n        const html = this.state.displayedItem.get('content-type') === 'text/html';\n        const iFrameClasses = classnames__WEBPACK_IMPORTED_MODULE_3___default()({\n          'ef-file-preview-frame': true,\n          'ef-file-preview-frame-html': html,\n          'attachment-html-iframe': html\n        });\n        return /*#__PURE__*/react__WEBPACK_IMPORTED_MODULE_0___default.a.createElement(\"iframe\", {\n          allowFullScreen: true,\n          title: i18n_file_preview__WEBPACK_IMPORTED_MODULE_11__[\"default\"].t('File Preview'),\n          src: this.state.displayedItem.get('preview_url'),\n          className: iFrameClasses\n        });\n      } else {\n        return /*#__PURE__*/react__WEBPACK_IMPORTED_MODULE_0___default.a.createElement(\"div\", {\n          className: \"ef-file-not-found ef-file-preview-frame\"\n        }, /*#__PURE__*/react__WEBPACK_IMPORTED_MODULE_0___default.a.createElement(\"i\", {\n          className: \"media-object ef-not-found-icon FilesystemObjectThumbnail mimeClass-file\"\n        }), i18n_file_preview__WEBPACK_IMPORTED_MODULE_11__[\"default\"].t('File not found'));\n      }\n    };\n  }\n\n  componentWillMount() {\n    if (this.props.isOpen) {\n      this.getItemsToView(this.props, items => this.setState(this.stateProperties(items)));\n    }\n  }\n\n  componentDidMount() {\n    return _jquery_codeToRemoveLater__WEBPACK_IMPORTED_MODULE_14__[\"default\"].hideFileTreeFromPreviewInJaws();\n  }\n\n  componentWillReceiveProps(newProps) {\n    if (newProps.isOpen) {\n      this.getItemsToView(newProps, items => this.setState(this.stateProperties(items)));\n    }\n  }\n\n  componentWillUnmount() {\n    jquery__WEBPACK_IMPORTED_MODULE_2___default()(this.previewOverlay).on('keydown', this.handleKeyboardNavigation);\n    return _jquery_codeToRemoveLater__WEBPACK_IMPORTED_MODULE_14__[\"default\"].revertJawsChangesBackToNormal();\n  }\n\n  render() {\n    const showInfoPanelClasses = classnames__WEBPACK_IMPORTED_MODULE_3___default()({\n      'ef-file-preview-header-info': true,\n      'ef-file-preview-button': true,\n      'ef-file-preview-button--active': this.state.showInfoPanel\n    });\n    return /*#__PURE__*/react__WEBPACK_IMPORTED_MODULE_0___default.a.createElement(_instructure_ui_overlays__WEBPACK_IMPORTED_MODULE_4__[\"Overlay\"], {\n      ref: e => this.previewOverlay = e,\n      open: this.props.isOpen,\n      onDismiss: this.closeModal,\n      onKeyDown: this.handleKeyboardNavigation,\n      label: i18n_file_preview__WEBPACK_IMPORTED_MODULE_11__[\"default\"].t('File Preview Overlay'),\n      defaultFocusElement: () => this.closeButton,\n      shouldContainFocus: true,\n      shouldReturnFocus: true,\n      unmountOnExit: true\n    }, /*#__PURE__*/react__WEBPACK_IMPORTED_MODULE_0___default.a.createElement(_instructure_ui_overlays__WEBPACK_IMPORTED_MODULE_4__[\"Mask\"], {\n      theme: {\n        background: 'rgba(0, 0, 0, 0.75)'\n      }\n    }, /*#__PURE__*/react__WEBPACK_IMPORTED_MODULE_0___default.a.createElement(\"div\", {\n      className: \"ef-file-preview-overlay\"\n    }, /*#__PURE__*/react__WEBPACK_IMPORTED_MODULE_0___default.a.createElement(\"div\", {\n      className: \"ef-file-preview-header\"\n    }, /*#__PURE__*/react__WEBPACK_IMPORTED_MODULE_0___default.a.createElement(\"h1\", {\n      className: \"ef-file-preview-header-filename\"\n    }, this.state.initialItem ? this.state.initialItem.displayName() : ''), /*#__PURE__*/react__WEBPACK_IMPORTED_MODULE_0___default.a.createElement(\"div\", {\n      className: \"ef-file-preview-header-buttons\"\n    }, this.state.displayedItem && !this.state.displayedItem.get('locked_for_user') && /*#__PURE__*/react__WEBPACK_IMPORTED_MODULE_0___default.a.createElement(\"a\", {\n      href: this.state.displayedItem.get('url'),\n      download: true,\n      className: \"ef-file-preview-header-download ef-file-preview-button\"\n    }, /*#__PURE__*/react__WEBPACK_IMPORTED_MODULE_0___default.a.createElement(\"i\", {\n      className: \"icon-download\"\n    }), /*#__PURE__*/react__WEBPACK_IMPORTED_MODULE_0___default.a.createElement(\"span\", {\n      className: \"hidden-phone\"\n    }, ` ${i18n_file_preview__WEBPACK_IMPORTED_MODULE_11__[\"default\"].t('Download')}`)), /*#__PURE__*/react__WEBPACK_IMPORTED_MODULE_0___default.a.createElement(\"button\", {\n      type: \"button\",\n      className: showInfoPanelClasses,\n      ref: e => this.infoButton = e,\n      onClick: this.toggle('showInfoPanel')\n    }, /*#__PURE__*/react__WEBPACK_IMPORTED_MODULE_0___default.a.createElement(\"div\", null, /*#__PURE__*/react__WEBPACK_IMPORTED_MODULE_0___default.a.createElement(\"i\", {\n      className: \"icon-info\"\n    }), /*#__PURE__*/react__WEBPACK_IMPORTED_MODULE_0___default.a.createElement(\"span\", {\n      className: \"hidden-phone\"\n    }, ` ${i18n_file_preview__WEBPACK_IMPORTED_MODULE_11__[\"default\"].t('Info')}`))), /*#__PURE__*/react__WEBPACK_IMPORTED_MODULE_0___default.a.createElement(\"button\", {\n      type: \"button\",\n      onClick: Object(prevent_default__WEBPACK_IMPORTED_MODULE_7__[\"default\"])(this.closeModal),\n      ref: e => this.closeButton = e,\n      className: \"ef-file-preview-header-close ef-file-preview-button\"\n    }, /*#__PURE__*/react__WEBPACK_IMPORTED_MODULE_0___default.a.createElement(\"i\", {\n      className: \"icon-end\"\n    }), /*#__PURE__*/react__WEBPACK_IMPORTED_MODULE_0___default.a.createElement(\"span\", {\n      className: \"hidden-phone\"\n    }, ` ${i18n_file_preview__WEBPACK_IMPORTED_MODULE_11__[\"default\"].t('Close')}`)))), /*#__PURE__*/react__WEBPACK_IMPORTED_MODULE_0___default.a.createElement(\"div\", {\n      className: \"ef-file-preview-stretch\"\n    }, this.state.otherItems && this.state.otherItems.length && this.renderArrowLink('left'), this.renderPreview(), this.state.otherItems && this.state.otherItems.length && this.renderArrowLink('right'), this.state.showInfoPanel && /*#__PURE__*/react__WEBPACK_IMPORTED_MODULE_0___default.a.createElement(_FilePreviewInfoPanel__WEBPACK_IMPORTED_MODULE_5__[\"default\"], {\n      displayedItem: this.state.displayedItem,\n      getStatusMessage: this.getStatusMessage,\n      usageRightsRequiredForContext: this.props.usageRightsRequiredForContext\n    })))));\n  }\n\n}\nFilePreview.propTypes = {\n  currentFolder: _modules_customPropTypes__WEBPACK_IMPORTED_MODULE_10__[\"default\"].folder,\n  query: prop_types__WEBPACK_IMPORTED_MODULE_9___default.a.object,\n  collection: prop_types__WEBPACK_IMPORTED_MODULE_9___default.a.object,\n  params: prop_types__WEBPACK_IMPORTED_MODULE_9___default.a.object,\n  isOpen: prop_types__WEBPACK_IMPORTED_MODULE_9___default.a.bool,\n  closePreview: prop_types__WEBPACK_IMPORTED_MODULE_9___default.a.func,\n  splat: prop_types__WEBPACK_IMPORTED_MODULE_9___default.a.string,\n  usageRightsRequiredForContext: prop_types__WEBPACK_IMPORTED_MODULE_9___default.a.bool\n};\n\n//# sourceURL=webpack:///./ui/shared/files/react/components/FilePreview.js?");

/***/ }),

/***/ "MAjw":
/*!****************************************************************!*\
  !*** ./ui/shared/files/react/modules/FileOptionsCollection.js ***!
  \****************************************************************/
/*! exports provided: default */
/***/ (function(module, __webpack_exports__, __webpack_require__) {

"use strict";
eval("__webpack_require__.r(__webpack_exports__);\n/* harmony import */ var underscore__WEBPACK_IMPORTED_MODULE_0__ = __webpack_require__(/*! underscore */ \"Y/W1\");\n/* harmony import */ var underscore__WEBPACK_IMPORTED_MODULE_0___default = /*#__PURE__*/__webpack_require__.n(underscore__WEBPACK_IMPORTED_MODULE_0__);\n/* harmony import */ var _UploadQueue__WEBPACK_IMPORTED_MODULE_1__ = __webpack_require__(/*! ./UploadQueue */ \"hlSq\");\n/* harmony import */ var react_dom__WEBPACK_IMPORTED_MODULE_2__ = __webpack_require__(/*! react-dom */ \"i8i4\");\n/* harmony import */ var react_dom__WEBPACK_IMPORTED_MODULE_2___default = /*#__PURE__*/__webpack_require__.n(react_dom__WEBPACK_IMPORTED_MODULE_2__);\n/*\n * Copyright (C) 2014 - present Instructure, Inc.\n *\n * This file is part of Canvas.\n *\n * Canvas is free software: you can redistribute it and/or modify it under\n * the terms of the GNU Affero General Public License as published by the Free\n * Software Foundation, version 3 of the License.\n *\n * Canvas is distributed in the hope that it will be useful, but WITHOUT ANY\n * WARRANTY; without even the implied warranty of MERCHANTABILITY or FITNESS FOR\n * A PARTICULAR PURPOSE. See the GNU Affero General Public License for more\n * details.\n *\n * You should have received a copy of the GNU Affero General Public License along\n * with this program. If not, see <http://www.gnu.org/licenses/>.\n */\n\n\n\n/*\nManages buckets of FileOptions (resolved, nameCollisions, zipOptions)\n\nFileOption:\n  file: <File>\n  dup: how to handle duplicate names rename || overwrite (used in api call)\n  name: name by which to upload the file\n  expandZip: (bool) upload the zip or expand it to current directory\n*/\n\nclass FileOptionsCollection {\n  constructor() {\n    this.state = this.buildDefaultState();\n    this.uploadOptions = {\n      alwaysRename: false,\n      alwaysUploadZips: false\n    };\n  }\n\n  buildDefaultState() {\n    return {\n      resolvedNames: [],\n      nameCollisions: [],\n      zipOptions: [],\n      newOptions: false\n    };\n  }\n\n  queueUploads(contextId, contextType) {\n    this.state.resolvedNames.forEach(f => {\n      _UploadQueue__WEBPACK_IMPORTED_MODULE_1__[\"default\"].enqueue(f, this.folder, contextId, contextType);\n    });\n    this.setState({\n      newOptions: false\n    });\n  }\n\n  toFilesOptionArray(fList) {\n    return [].slice.call(fList, 0).map(file => ({\n      file\n    }));\n  }\n\n  findMatchingFile(name) {\n    return (this.folder.files.models || this.folder.files).find(f => f.get('display_name') === name);\n  }\n\n  isZipFile(file) {\n    return !!(file.type != null ? file.type.match(/zip/) : void 0);\n  } // divide into existing naming collisions and resolved ones\n\n\n  segregateOptionBuckets(selectedFiles) {\n    const collisions = [],\n          resolved = [],\n          zips = [];\n    selectedFiles.forEach(file => {\n      if (this.isZipFile(file.file) && this.uploadOptions.alwaysUploadZips) {\n        file.expandZip = false; // treat this as a plain old file\n      }\n\n      if (this.isZipFile(file.file) && typeof file.expandZip === 'undefined') {\n        zips.push(file); // only mark as collision if it is a collision that hasn't been resolved, or is is a zip that will be expanded\n      } else if (file.dup !== 'skip') {\n        const nameToTest = file.name || file.file.name;\n        const matchingFile = this.findMatchingFile(nameToTest);\n\n        if (matchingFile && file.dup !== 'overwrite' && (file.expandZip == null || file.expandZip === false) && !this.uploadOptions.alwaysRename) {\n          if (matchingFile.get('restricted_by_master_course')) {\n            file.cannotOverwrite = true;\n          }\n\n          collisions.push(file);\n        } else {\n          file.replacingFileId = matchingFile === null || matchingFile === void 0 ? void 0 : matchingFile.id;\n          resolved.push(file);\n        }\n      }\n    });\n    return {\n      collisions,\n      resolved,\n      zips\n    };\n  }\n\n  handleAddFilesClick() {\n    return react_dom__WEBPACK_IMPORTED_MODULE_2___default.a.findDOMNode(this.refs.addFileInput).click();\n  }\n\n  handleFilesInputChange(e) {\n    const selectedFiles = this.toFilesOptionArray(react_dom__WEBPACK_IMPORTED_MODULE_2___default.a.findDOMNode(this.refs.addFileInput).files);\n\n    const _this$segregateOption = this.segregateOptionBuckets(selectedFiles),\n          resolved = _this$segregateOption.resolved,\n          collisions = _this$segregateOption.collisions,\n          zips = _this$segregateOption.zips;\n\n    this.setState({\n      nameCollisions: collisions,\n      resolvedNames: resolved,\n      zipOptions: zips\n    });\n  }\n\n  onNameConflictResolved(fileNameOptions) {\n    let collisions, resolved;\n    const nameCollisions = this.state.nameCollisions;\n    const resolvedNames = this.state.resolvedNames;\n    let zips = this.state.zipOptions;\n    resolvedNames.push(fileNameOptions); // TODO: only difference is that we remove the first nameCollision here\n\n    nameCollisions.shift(); // redo conflict resolution, new name from user could still conflict\n\n    const allOptions = resolvedNames.concat(nameCollisions).concat(zips);\n\n    var _this$segregateOption2 = this.segregateOptionBuckets(allOptions);\n\n    resolved = _this$segregateOption2.resolved;\n    collisions = _this$segregateOption2.collisions;\n    zips = _this$segregateOption2.zips;\n    this.setState({\n      nameCollisions: collisions,\n      resolvedNames: resolved,\n      zipOptions: zips\n    });\n  }\n\n  onZipOptionsResolved(fileNameOptions) {\n    let collisions, resolved;\n    const nameCollisions = this.state.nameCollisions;\n    const resolvedNames = this.state.resolvedNames;\n    let zips = this.state.zipOptions;\n    resolvedNames.push(fileNameOptions); // TODO: only difference is that we remove the first zip here\n\n    zips.shift(); // redo conflict resolution, new name from user could still conflict\n\n    const allOptions = resolvedNames.concat(nameCollisions).concat(zips);\n\n    var _this$segregateOption3 = this.segregateOptionBuckets(allOptions);\n\n    resolved = _this$segregateOption3.resolved;\n    collisions = _this$segregateOption3.collisions;\n    zips = _this$segregateOption3.zips;\n    this.setState({\n      nameCollisions: collisions,\n      resolvedNames: resolved,\n      zipOptions: zips\n    });\n  }\n\n  setOptionsFromFiles(files, notifyChange) {\n    const allOptions = this.toFilesOptionArray(files);\n\n    const _this$segregateOption4 = this.segregateOptionBuckets(allOptions),\n          resolved = _this$segregateOption4.resolved,\n          collisions = _this$segregateOption4.collisions,\n          zips = _this$segregateOption4.zips;\n\n    this.setState({\n      nameCollisions: collisions,\n      resolvedNames: resolved,\n      zipOptions: zips,\n      newOptions: true\n    });\n\n    if (notifyChange && this.onChange) {\n      return this.onChange();\n    }\n  }\n\n  hasNewOptions() {\n    return this.state.newOptions;\n  }\n\n  setFolder(folder) {\n    return this.folder = folder;\n  }\n\n  getFolder() {\n    return this.folder;\n  }\n\n  setState(options) {\n    return this.state = underscore__WEBPACK_IMPORTED_MODULE_0___default.a.defaults(options, this.state);\n  }\n\n  getState() {\n    return this.state;\n  }\n\n  resetState() {\n    return this.state = this.buildDefaultState();\n  }\n\n  setUploadOptions(options) {\n    this.uploadOptions.alwaysRename = !!options.alwaysRename;\n    this.uploadOptions.alwaysUploadZips = !!options.alwaysUploadZips;\n  } // noop\n\n\n  onChange() {}\n\n}\n\n/* harmony default export */ __webpack_exports__[\"default\"] = (new FileOptionsCollection());\n\n//# sourceURL=webpack:///./ui/shared/files/react/modules/FileOptionsCollection.js?");

/***/ }),

/***/ "Mj0w":
/*!*****************************************************************!*\
  !*** ./ui/features/files/react/legacy/components/FilesUsage.js ***!
  \*****************************************************************/
/*! exports provided: default */
/***/ (function(module, __webpack_exports__, __webpack_require__) {

"use strict";
eval("__webpack_require__.r(__webpack_exports__);\n/* harmony import */ var _canvas_files_react_modules_customPropTypes__WEBPACK_IMPORTED_MODULE_0__ = __webpack_require__(/*! @canvas/files/react/modules/customPropTypes */ \"Lg2F\");\n/*\n * Copyright (C) 2014 - present Instructure, Inc.\n *\n * This file is part of Canvas.\n *\n * Canvas is free software: you can redistribute it and/or modify it under\n * the terms of the GNU Affero General Public License as published by the Free\n * Software Foundation, version 3 of the License.\n *\n * Canvas is distributed in the hope that it will be useful, but WITHOUT ANY\n * WARRANTY; without even the implied warranty of MERCHANTABILITY or FITNESS FOR\n * A PARTICULAR PURPOSE. See the GNU Affero General Public License for more\n * details.\n *\n * You should have received a copy of the GNU Affero General Public License along\n * with this program. If not, see <http://www.gnu.org/licenses/>.\n */\n\n/* harmony default export */ __webpack_exports__[\"default\"] = ({\n  displayName: 'FilesUsage',\n\n  url() {\n    return `/api/v1/${this.props.contextType}/${this.props.contextId}/files/quota`;\n  },\n\n  propTypes: {\n    contextType: _canvas_files_react_modules_customPropTypes__WEBPACK_IMPORTED_MODULE_0__[\"default\"].contextType.isRequired,\n    contextId: _canvas_files_react_modules_customPropTypes__WEBPACK_IMPORTED_MODULE_0__[\"default\"].contextId.isRequired\n  },\n\n  update() {\n    return $.get(this.url(), data => {\n      this.setState(data);\n    });\n  },\n\n  componentDidMount() {\n    this.update();\n    this.interval = setInterval(this.update, 1000 * 60 * 5);\n  },\n\n  // refresh every 5 minutes\n  componentWillUnmount() {\n    clearInterval(this.interval);\n  }\n\n});\n\n//# sourceURL=webpack:///./ui/features/files/react/legacy/components/FilesUsage.js?");

/***/ }),

/***/ "NK9e":
/*!********************************************************************!*\
  !*** ./ui/features/files/react/legacy/components/SearchResults.js ***!
  \********************************************************************/
/*! exports provided: default */
/***/ (function(module, __webpack_exports__, __webpack_require__) {

"use strict";
eval("__webpack_require__.r(__webpack_exports__);\n/* harmony import */ var underscore__WEBPACK_IMPORTED_MODULE_0__ = __webpack_require__(/*! underscore */ \"Y/W1\");\n/* harmony import */ var underscore__WEBPACK_IMPORTED_MODULE_0___default = /*#__PURE__*/__webpack_require__.n(underscore__WEBPACK_IMPORTED_MODULE_0__);\n/* harmony import */ var i18n_react_files__WEBPACK_IMPORTED_MODULE_1__ = __webpack_require__(/*! i18n!react_files */ \"mddV\");\n/* harmony import */ var _canvas_files_backbone_collections_FilesCollection__WEBPACK_IMPORTED_MODULE_2__ = __webpack_require__(/*! @canvas/files/backbone/collections/FilesCollection */ \"VXGR\");\n/* harmony import */ var _canvas_files_react_modules_customPropTypes__WEBPACK_IMPORTED_MODULE_3__ = __webpack_require__(/*! @canvas/files/react/modules/customPropTypes */ \"Lg2F\");\n/* harmony import */ var _util_updateAPIQuerySortParams__WEBPACK_IMPORTED_MODULE_4__ = __webpack_require__(/*! ../util/updateAPIQuerySortParams */ \"5LPm\");\n/* harmony import */ var _util_getAllPages__WEBPACK_IMPORTED_MODULE_5__ = __webpack_require__(/*! ../util/getAllPages */ \"JMNg\");\n/* harmony import */ var location_origin__WEBPACK_IMPORTED_MODULE_6__ = __webpack_require__(/*! location-origin */ \"GvzL\");\n/* harmony import */ var location_origin__WEBPACK_IMPORTED_MODULE_6___default = /*#__PURE__*/__webpack_require__.n(location_origin__WEBPACK_IMPORTED_MODULE_6__);\n/*\n * Copyright (C) 2014 - present Instructure, Inc.\n *\n * This file is part of Canvas.\n *\n * Canvas is free software: you can redistribute it and/or modify it under\n * the terms of the GNU Affero General Public License as published by the Free\n * Software Foundation, version 3 of the License.\n *\n * Canvas is distributed in the hope that it will be useful, but WITHOUT ANY\n * WARRANTY; without even the implied warranty of MERCHANTABILITY or FITNESS FOR\n * A PARTICULAR PURPOSE. See the GNU Affero General Public License for more\n * details.\n *\n * You should have received a copy of the GNU Affero General Public License along\n * with this program. If not, see <http://www.gnu.org/licenses/>.\n */\n\n\n\n\n\n\n\n/* harmony default export */ __webpack_exports__[\"default\"] = ({\n  displayName: 'SearchResults',\n  propTypes: {\n    contextType: _canvas_files_react_modules_customPropTypes__WEBPACK_IMPORTED_MODULE_3__[\"default\"].contextType,\n    contextId: _canvas_files_react_modules_customPropTypes__WEBPACK_IMPORTED_MODULE_3__[\"default\"].contextId\n  },\n  name: 'search',\n\n  getInitialState() {\n    return {\n      collection: new _canvas_files_backbone_collections_FilesCollection__WEBPACK_IMPORTED_MODULE_2__[\"default\"](),\n      errors: null\n    };\n  },\n\n  onFetchError(jqXHR, textStatus, errorThrown) {\n    let responseText;\n    const message = i18n_react_files__WEBPACK_IMPORTED_MODULE_1__[\"default\"].t('An unknown server error occurred.  Please try again.');\n\n    try {\n      responseText = JSON.parse(textStatus.responseText);\n    } catch (e) {\n      responseText = {\n        errors: [{\n          message\n        }]\n      };\n    }\n\n    const errors = underscore__WEBPACK_IMPORTED_MODULE_0___default.a.isArray(responseText.errors) ? this.translateErrors(responseText.errors) : responseText.errors && responseText.errors.base ? [{\n      message: `${responseText.errors.base}, ${responseText.status}`\n    }] : [{\n      message\n    }];\n    this.setState({\n      errors\n    });\n    $.screenReaderFlashMessageExclusive(underscore__WEBPACK_IMPORTED_MODULE_0___default.a.map(errors, error => error.message).join(' '));\n  },\n\n  translateErrors(errors) {\n    return underscore__WEBPACK_IMPORTED_MODULE_0___default.a.map(errors, error => {\n      if (error.message === '3 or more characters is required') {\n        return {\n          message: i18n_react_files__WEBPACK_IMPORTED_MODULE_1__[\"default\"].t('Please enter a search term with three or more characters')\n        };\n      } else {\n        return error;\n      }\n    });\n  },\n\n  updateResults(props) {\n    const oldUrl = this.state.collection.url;\n    this.state.collection.url = `${window.location.origin}/api/v1/${this.props.contextType}/${this.props.contextId}/files`;\n    Object(_util_updateAPIQuerySortParams__WEBPACK_IMPORTED_MODULE_4__[\"default\"])(this.state.collection, this.props.query);\n\n    if (this.state.collection.url === oldUrl && this.state.collection.models.length > 0) {\n      return;\n    } // doesn't search for the same thing twice\n\n\n    this.setState({\n      collection: this.state.collection\n    }); // Refactor this when given time. Maybe even use setState instead of forceUpdate\n\n    if (!this.state.collection.loadedAll || !underscore__WEBPACK_IMPORTED_MODULE_0___default.a.isEqual(this.props.query.search_term, props.query && props.query.search_term)) {\n      const forceUpdate = () => {\n        if (this.isMounted()) {\n          this.setState({\n            errors: null\n          });\n          this.forceUpdate();\n        }\n\n        $.screenReaderFlashMessageExclusive(i18n_react_files__WEBPACK_IMPORTED_MODULE_1__[\"default\"].t('results_count', 'Showing %{num_results} search results', {\n          num_results: this.state.collection.length\n        }));\n      };\n\n      return this.state.collection.fetch({\n        data: props.query,\n        error: this.onFetchError\n      }).then(forceUpdate) // TODO: use scroll position to only fetch the pages we need\n      .then(_util_getAllPages__WEBPACK_IMPORTED_MODULE_5__[\"default\"].bind(null, this.state.collection, forceUpdate));\n    }\n  },\n\n  componentWillReceiveProps(newProps) {\n    return this.updateResults(newProps);\n  },\n\n  componentDidMount() {\n    this.updateResults(this.props); // this setTimeout is to handle a race condition with the setTimeout in the componentWillUnmount method of ShowFolder\n\n    setTimeout(() => {\n      this.props.onResolvePath({\n        currentFolder: null,\n        rootTillCurrentFolder: null,\n        showingSearchResults: true,\n        searchResultCollection: this.state.collection\n      });\n    });\n  }\n\n});\n\n//# sourceURL=webpack:///./ui/features/files/react/legacy/components/SearchResults.js?");

/***/ }),

/***/ "Nuch":
/*!****************************************************************************!*\
  !*** ./ui/shared/direct-sharing/react/components/DirectShareCourseTray.js ***!
  \****************************************************************************/
/*! exports provided: default */
/***/ (function(module, __webpack_exports__, __webpack_require__) {

"use strict";
eval("__webpack_require__.r(__webpack_exports__);\n/* harmony export (binding) */ __webpack_require__.d(__webpack_exports__, \"default\", function() { return DirectShareCourseTray; });\n/* harmony import */ var _babel_runtime_helpers_esm_objectWithoutProperties__WEBPACK_IMPORTED_MODULE_0__ = __webpack_require__(/*! @babel/runtime/helpers/esm/objectWithoutProperties */ \"Ff2n\");\n/* harmony import */ var i18n_direct_share_course_tray__WEBPACK_IMPORTED_MODULE_1__ = __webpack_require__(/*! i18n!direct_share_course_tray */ \"0UGX\");\n/* harmony import */ var react__WEBPACK_IMPORTED_MODULE_2__ = __webpack_require__(/*! react */ \"q1tI\");\n/* harmony import */ var react__WEBPACK_IMPORTED_MODULE_2___default = /*#__PURE__*/__webpack_require__.n(react__WEBPACK_IMPORTED_MODULE_2__);\n/* harmony import */ var _canvas_trays_react_LazyTray__WEBPACK_IMPORTED_MODULE_3__ = __webpack_require__(/*! @canvas/trays/react/LazyTray */ \"l0h0\");\n\nconst _excluded = [\"sourceCourseId\", \"contentSelection\", \"onDismiss\"];\n\n/*\n * Copyright (C) 2019 - present Instructure, Inc.\n *\n * This file is part of Canvas.\n *\n * Canvas is free software: you can redistribute it and/or modify it under\n * the terms of the GNU Affero General Public License as published by the Free\n * Software Foundation, version 3 of the License.\n *\n * Canvas is distributed in the hope that it will be useful, but WITHOUT ANY\n * WARRANTY; without even the implied warranty of MERCHANTABILITY or FITNESS FOR\n * A PARTICULAR PURPOSE. See the GNU Affero General Public License for more\n * details.\n *\n * You should have received a copy of the GNU Affero General Public License along\n * with this program. If not, see <http://www.gnu.org/licenses/>.\n */\n\n\n\nconst DirectShareCoursePanel = /*#__PURE__*/Object(react__WEBPACK_IMPORTED_MODULE_2__[\"lazy\"])(() => Promise.all(/*! import() */[__webpack_require__.e(13), __webpack_require__.e(16), __webpack_require__.e(17), __webpack_require__.e(22), __webpack_require__.e(116), __webpack_require__.e(134), __webpack_require__.e(3687)]).then(__webpack_require__.bind(null, /*! ./DirectShareCoursePanel */ \"dpkT\")));\nfunction DirectShareCourseTray(_ref) {\n  let sourceCourseId = _ref.sourceCourseId,\n      contentSelection = _ref.contentSelection,\n      onDismiss = _ref.onDismiss,\n      trayProps = Object(_babel_runtime_helpers_esm_objectWithoutProperties__WEBPACK_IMPORTED_MODULE_0__[\"default\"])(_ref, _excluded);\n\n  return /*#__PURE__*/react__WEBPACK_IMPORTED_MODULE_2___default.a.createElement(_canvas_trays_react_LazyTray__WEBPACK_IMPORTED_MODULE_3__[\"default\"], Object.assign({\n    label: i18n_direct_share_course_tray__WEBPACK_IMPORTED_MODULE_1__[\"default\"].t('Copy To...'),\n    placement: \"end\",\n    onDismiss: onDismiss,\n    padding: \"medium\"\n  }, trayProps), /*#__PURE__*/react__WEBPACK_IMPORTED_MODULE_2___default.a.createElement(DirectShareCoursePanel, {\n    sourceCourseId: sourceCourseId,\n    contentSelection: contentSelection,\n    onCancel: onDismiss\n  }));\n}\n\n//# sourceURL=webpack:///./ui/shared/direct-sharing/react/components/DirectShareCourseTray.js?");

/***/ }),

/***/ "PP3H":
/*!***********************************************************!*\
  !*** ./ui/features/files/react/legacy/mixins/dndMixin.js ***!
  \***********************************************************/
/*! exports provided: default */
/***/ (function(module, __webpack_exports__, __webpack_require__) {

"use strict";
eval("__webpack_require__.r(__webpack_exports__);\n/* harmony import */ var react__WEBPACK_IMPORTED_MODULE_0__ = __webpack_require__(/*! react */ \"q1tI\");\n/* harmony import */ var react__WEBPACK_IMPORTED_MODULE_0___default = /*#__PURE__*/__webpack_require__.n(react__WEBPACK_IMPORTED_MODULE_0__);\n/* harmony import */ var react_dom__WEBPACK_IMPORTED_MODULE_1__ = __webpack_require__(/*! react-dom */ \"i8i4\");\n/* harmony import */ var react_dom__WEBPACK_IMPORTED_MODULE_1___default = /*#__PURE__*/__webpack_require__.n(react_dom__WEBPACK_IMPORTED_MODULE_1__);\n/* harmony import */ var _components_DragFeedback__WEBPACK_IMPORTED_MODULE_2__ = __webpack_require__(/*! ../../components/DragFeedback */ \"sfLk\");\n/* harmony import */ var _util_moveStuff__WEBPACK_IMPORTED_MODULE_3__ = __webpack_require__(/*! ../util/moveStuff */ \"PVeh\");\n/* harmony import */ var jquery__WEBPACK_IMPORTED_MODULE_4__ = __webpack_require__(/*! jquery */ \"ouhR\");\n/* harmony import */ var jquery__WEBPACK_IMPORTED_MODULE_4___default = /*#__PURE__*/__webpack_require__.n(jquery__WEBPACK_IMPORTED_MODULE_4__);\n/* harmony import */ var underscore__WEBPACK_IMPORTED_MODULE_5__ = __webpack_require__(/*! underscore */ \"Y/W1\");\n/* harmony import */ var underscore__WEBPACK_IMPORTED_MODULE_5___default = /*#__PURE__*/__webpack_require__.n(underscore__WEBPACK_IMPORTED_MODULE_5__);\n/*\n * Copyright (C) 2014 - present Instructure, Inc.\n *\n * This file is part of Canvas.\n *\n * Canvas is free software: you can redistribute it and/or modify it under\n * the terms of the GNU Affero General Public License as published by the Free\n * Software Foundation, version 3 of the License.\n *\n * Canvas is distributed in the hope that it will be useful, but WITHOUT ANY\n * WARRANTY; without even the implied warranty of MERCHANTABILITY or FITNESS FOR\n * A PARTICULAR PURPOSE. See the GNU Affero General Public License for more\n * details.\n *\n * You should have received a copy of the GNU Affero General Public License along\n * with this program. If not, see <http://www.gnu.org/licenses/>.\n */\n\n\n\n\n\n\n/* harmony default export */ __webpack_exports__[\"default\"] = ({\n  itemsToDrag() {\n    return this.state.selectedItems;\n  },\n\n  renderDragFeedback({\n    pageX,\n    pageY\n  }) {\n    if (!this.dragHolder) {\n      this.dragHolder = jquery__WEBPACK_IMPORTED_MODULE_4___default()('<div>').appendTo(document.body);\n    } // This should be in JSX, but /o\\\n\n\n    react_dom__WEBPACK_IMPORTED_MODULE_1___default.a.render( /*#__PURE__*/react__WEBPACK_IMPORTED_MODULE_0___default.a.createElement(_components_DragFeedback__WEBPACK_IMPORTED_MODULE_2__[\"default\"], {\n      pageX: pageX,\n      pageY: pageY,\n      itemsToDrag: this.itemsToDrag()\n    }), this.dragHolder[0]);\n  },\n\n  removeDragFeedback() {\n    jquery__WEBPACK_IMPORTED_MODULE_4___default()(document).off('.MultiDraggableMixin');\n\n    if (this.dragHolder) {\n      react_dom__WEBPACK_IMPORTED_MODULE_1___default.a.unmountComponentAtNode(this.dragHolder[0]);\n    }\n\n    this.dragHolder = null;\n  },\n\n  onItemDragStart(event) {\n    // IE 10 can't do this stuff:\n    try {\n      // make it so you can drag stuff to other apps and it will at least copy a list of urls\n      // see: https://developer.mozilla.org/en-US/docs/Web/Guide/HTML/Recommended_Drag_Types#link\n      const itemsToDrag = this.itemsToDrag();\n\n      if (itemsToDrag.length && underscore__WEBPACK_IMPORTED_MODULE_5___default.a.isArray(itemsToDrag)) {\n        event.dataTransfer.setData('text/uri-list', itemsToDrag.map(item => item.get('url')).join('\\n'));\n      } // replace the default ghost dragging element with a transparent gif\n      // since we are going to use our own custom drag image\n\n\n      const img = new Image();\n      img.src = 'data:image/gif;base64,R0lGODlhAQABAIAAAAAAAP///yH5BAEAAAAALAAAAAABAAEAAAIBRAA7';\n      event.dataTransfer.setDragImage(img, 150, 150);\n    } catch (error) {}\n\n    this.renderDragFeedback(event);\n    event.dataTransfer.effectAllowed = 'move';\n    event.dataTransfer.setData('Text', 'in_a_dndMixin_drag');\n    return jquery__WEBPACK_IMPORTED_MODULE_4___default()(document).on({\n      'dragover.MultiDraggableMixin': event => this.renderDragFeedback(event.originalEvent),\n      'dragend.MultiDraggableMixin': this.removeDragFeedback\n    });\n  },\n\n  onItemDragEnterOrOver(event, callback) {\n    const types = event.dataTransfer.types || [];\n    if (!types.includes('Text') && !types.includes('text/plain')) return;\n    event.preventDefault();\n    if (callback) return callback(event);\n  },\n\n  onItemDragLeaveOrEnd(event, callback) {\n    const types = event.dataTransfer.types || [];\n    if (!types.includes('Text') && !types.includes('text/plain')) return;\n    if (callback) return callback(event);\n  },\n\n  onItemDrop(event, destinationFolder, callback) {\n    if ((event.dataTransfer.getData('Text') || event.dataTransfer.getData('text/plain')) !== 'in_a_dndMixin_drag') {\n      return;\n    }\n\n    event.preventDefault();\n    return Object(_util_moveStuff__WEBPACK_IMPORTED_MODULE_3__[\"default\"])(this.itemsToDrag(), destinationFolder).then(() => {\n      if (callback) {\n        return callback({\n          success: true,\n          event\n        });\n      }\n    }, () => {\n      if (callback) {\n        return callback({\n          success: false,\n          event\n        });\n      }\n    }).done(this.clearSelectedItems);\n  }\n\n}); //      @clearSelectedItems()\n//      callback(event) if callback\n\n//# sourceURL=webpack:///./ui/features/files/react/legacy/mixins/dndMixin.js?");

/***/ }),

/***/ "PVeh":
/*!**********************************************************!*\
  !*** ./ui/features/files/react/legacy/util/moveStuff.js ***!
  \**********************************************************/
/*! exports provided: default */
/***/ (function(module, __webpack_exports__, __webpack_require__) {

"use strict";
eval("__webpack_require__.r(__webpack_exports__);\n/* harmony export (binding) */ __webpack_require__.d(__webpack_exports__, \"default\", function() { return moveStuff; });\n/* harmony import */ var i18n_react_files__WEBPACK_IMPORTED_MODULE_0__ = __webpack_require__(/*! i18n!react_files */ \"mddV\");\n/* harmony import */ var jquery__WEBPACK_IMPORTED_MODULE_1__ = __webpack_require__(/*! jquery */ \"ouhR\");\n/* harmony import */ var jquery__WEBPACK_IMPORTED_MODULE_1___default = /*#__PURE__*/__webpack_require__.n(jquery__WEBPACK_IMPORTED_MODULE_1__);\n/* harmony import */ var _canvas_files_react_components_FileRenameForm__WEBPACK_IMPORTED_MODULE_2__ = __webpack_require__(/*! @canvas/files/react/components/FileRenameForm */ \"RfgP\");\n/* harmony import */ var react__WEBPACK_IMPORTED_MODULE_3__ = __webpack_require__(/*! react */ \"q1tI\");\n/* harmony import */ var react__WEBPACK_IMPORTED_MODULE_3___default = /*#__PURE__*/__webpack_require__.n(react__WEBPACK_IMPORTED_MODULE_3__);\n/* harmony import */ var react_dom__WEBPACK_IMPORTED_MODULE_4__ = __webpack_require__(/*! react-dom */ \"i8i4\");\n/* harmony import */ var react_dom__WEBPACK_IMPORTED_MODULE_4___default = /*#__PURE__*/__webpack_require__.n(react_dom__WEBPACK_IMPORTED_MODULE_4__);\n/*\n * Copyright (C) 2014 - present Instructure, Inc.\n *\n * This file is part of Canvas.\n *\n * Canvas is free software: you can redistribute it and/or modify it under\n * the terms of the GNU Affero General Public License as published by the Free\n * Software Foundation, version 3 of the License.\n *\n * Canvas is distributed in the hope that it will be useful, but WITHOUT ANY\n * WARRANTY; without even the implied warranty of MERCHANTABILITY or FITNESS FOR\n * A PARTICULAR PURPOSE. See the GNU Affero General Public License for more\n * details.\n *\n * You should have received a copy of the GNU Affero General Public License along\n * with this program. If not, see <http://www.gnu.org/licenses/>.\n */\n\n\n\n\n\n\nfunction moveItem(item, destinationFolder, options = {}) {\n  const dfd = jquery__WEBPACK_IMPORTED_MODULE_1___default.a.Deferred();\n  item.moveTo(destinationFolder, options).then( // success\n  data => dfd.resolve(data), // failure\n  (jqXHR, textStatus, errorThrown) => {\n    if (jqXHR.status === 409) {\n      // file already exists: prompt and retry\n      react_dom__WEBPACK_IMPORTED_MODULE_4___default.a.render( /*#__PURE__*/react__WEBPACK_IMPORTED_MODULE_3___default.a.createFactory(_canvas_files_react_components_FileRenameForm__WEBPACK_IMPORTED_MODULE_2__[\"default\"])({\n        onClose() {},\n\n        closeWithX() {\n          return dfd.reject();\n        },\n\n        closeOnResolve: true,\n        fileOptions: {\n          name: item.attributes.display_name\n        },\n        onNameConflictResolved: opts => moveItem(item, destinationFolder, opts).then(data => dfd.resolve(data), () => dfd.reject())\n      }), jquery__WEBPACK_IMPORTED_MODULE_1___default()('<div>').appendTo('body')[0]);\n    } else {\n      // some other error: fail\n      return dfd.reject();\n    }\n  });\n  return dfd;\n}\n\nfunction moveStuff(filesAndFolders, destinationFolder) {\n  const promises = filesAndFolders.map(item => moveItem(item, destinationFolder));\n  return jquery__WEBPACK_IMPORTED_MODULE_1___default.a.when(...promises).then(() => {\n    jquery__WEBPACK_IMPORTED_MODULE_1___default.a.flashMessage(i18n_react_files__WEBPACK_IMPORTED_MODULE_0__[\"default\"].t('move_success', {\n      one: '%{item} moved to %{destinationFolder}',\n      other: '%{count} items moved to %{destinationFolder}'\n    }, {\n      count: filesAndFolders.length,\n      item: filesAndFolders[0] && filesAndFolders[0].displayName(),\n      destinationFolder: destinationFolder.displayName()\n    }));\n  });\n}\n\n//# sourceURL=webpack:///./ui/features/files/react/legacy/util/moveStuff.js?");

/***/ }),

/***/ "QLaP":
/*!*******************************************!*\
  !*** ./node_modules/invariant/browser.js ***!
  \*******************************************/
/*! no static exports found */
/***/ (function(module, exports, __webpack_require__) {

"use strict";
eval("/**\n * Copyright (c) 2013-present, Facebook, Inc.\n *\n * This source code is licensed under the MIT license found in the\n * LICENSE file in the root directory of this source tree.\n */\n\n\n\n/**\n * Use invariant() to assert state which your program assumes to be true.\n *\n * Provide sprintf-style format (only %s is supported) and arguments\n * to provide information about what broke and what you were\n * expecting.\n *\n * The invariant message will be stripped in production, but the invariant\n * will remain to ensure logic does not differ in production.\n */\n\nvar invariant = function(condition, format, a, b, c, d, e, f) {\n  if (true) {\n    if (format === undefined) {\n      throw new Error('invariant requires an error message argument');\n    }\n  }\n\n  if (!condition) {\n    var error;\n    if (format === undefined) {\n      error = new Error(\n        'Minified exception occurred; use the non-minified dev environment ' +\n        'for the full error message and additional helpful warnings.'\n      );\n    } else {\n      var args = [a, b, c, d, e, f];\n      var argIndex = 0;\n      error = new Error(\n        format.replace(/%s/g, function() { return args[argIndex++]; })\n      );\n      error.name = 'Invariant Violation';\n    }\n\n    error.framesToPop = 1; // we don't care about invariant's own frame\n    throw error;\n  }\n};\n\nmodule.exports = invariant;\n\n\n//# sourceURL=webpack:///./node_modules/invariant/browser.js?");

/***/ }),

/***/ "QMmc":
/*!**********************************************************!*\
  !*** ./ui/features/files/react/components/MoveDialog.js ***!
  \**********************************************************/
/*! exports provided: default */
/***/ (function(module, __webpack_exports__, __webpack_require__) {

"use strict";
eval("__webpack_require__.r(__webpack_exports__);\n/* harmony import */ var i18n_react_files__WEBPACK_IMPORTED_MODULE_0__ = __webpack_require__(/*! i18n!react_files */ \"mddV\");\n/* harmony import */ var react__WEBPACK_IMPORTED_MODULE_1__ = __webpack_require__(/*! react */ \"q1tI\");\n/* harmony import */ var react__WEBPACK_IMPORTED_MODULE_1___default = /*#__PURE__*/__webpack_require__.n(react__WEBPACK_IMPORTED_MODULE_1__);\n/* harmony import */ var create_react_class__WEBPACK_IMPORTED_MODULE_2__ = __webpack_require__(/*! create-react-class */ \"fhzG\");\n/* harmony import */ var create_react_class__WEBPACK_IMPORTED_MODULE_2___default = /*#__PURE__*/__webpack_require__.n(create_react_class__WEBPACK_IMPORTED_MODULE_2__);\n/* harmony import */ var _legacy_components_MoveDialog__WEBPACK_IMPORTED_MODULE_3__ = __webpack_require__(/*! ../legacy/components/MoveDialog */ \"uWGO\");\n/* harmony import */ var _canvas_modal__WEBPACK_IMPORTED_MODULE_4__ = __webpack_require__(/*! @canvas/modal */ \"vCN0\");\n/* harmony import */ var _canvas_modal_react_content__WEBPACK_IMPORTED_MODULE_5__ = __webpack_require__(/*! @canvas/modal/react/content */ \"0unK\");\n/* harmony import */ var _canvas_modal_react_buttons__WEBPACK_IMPORTED_MODULE_6__ = __webpack_require__(/*! @canvas/modal/react/buttons */ \"GN1s\");\n/* harmony import */ var _BBTreeBrowser__WEBPACK_IMPORTED_MODULE_7__ = __webpack_require__(/*! ./BBTreeBrowser */ \"wA4H\");\n/* harmony import */ var classnames__WEBPACK_IMPORTED_MODULE_8__ = __webpack_require__(/*! classnames */ \"TSYQ\");\n/* harmony import */ var classnames__WEBPACK_IMPORTED_MODULE_8___default = /*#__PURE__*/__webpack_require__.n(classnames__WEBPACK_IMPORTED_MODULE_8__);\n/*\n * Copyright (C) 2015 - present Instructure, Inc.\n *\n * This file is part of Canvas.\n *\n * Canvas is free software: you can redistribute it and/or modify it under\n * the terms of the GNU Affero General Public License as published by the Free\n * Software Foundation, version 3 of the License.\n *\n * Canvas is distributed in the hope that it will be useful, but WITHOUT ANY\n * WARRANTY; without even the implied warranty of MERCHANTABILITY or FITNESS FOR\n * A PARTICULAR PURPOSE. See the GNU Affero General Public License for more\n * details.\n *\n * You should have received a copy of the GNU Affero General Public License along\n * with this program. If not, see <http://www.gnu.org/licenses/>.\n */\n\n\n\n\n\n\n\n\n\n\n_legacy_components_MoveDialog__WEBPACK_IMPORTED_MODULE_3__[\"default\"].renderMoveButton = function () {\n  const buttonClassNames = classnames__WEBPACK_IMPORTED_MODULE_8___default()({\n    disabled: !this.state.destinationFolder,\n    btn: true,\n    'btn-primary': true\n  });\n\n  if (this.state.isCopyingFile) {\n    return /*#__PURE__*/react__WEBPACK_IMPORTED_MODULE_1___default.a.createElement(\"button\", {\n      type: \"submit\",\n      \"aria-disabled\": !this.state.destinationFolder,\n      className: buttonClassNames,\n      \"data-text-while-loading\": i18n_react_files__WEBPACK_IMPORTED_MODULE_0__[\"default\"].t('Copying...')\n    }, i18n_react_files__WEBPACK_IMPORTED_MODULE_0__[\"default\"].t('Copy to Folder'));\n  } else {\n    return /*#__PURE__*/react__WEBPACK_IMPORTED_MODULE_1___default.a.createElement(\"button\", {\n      type: \"submit\",\n      \"aria-disabled\": !this.state.destinationFolder,\n      className: buttonClassNames,\n      \"data-text-while-loading\": i18n_react_files__WEBPACK_IMPORTED_MODULE_0__[\"default\"].t('Moving...')\n    }, i18n_react_files__WEBPACK_IMPORTED_MODULE_0__[\"default\"].t('Move'));\n  }\n};\n\n_legacy_components_MoveDialog__WEBPACK_IMPORTED_MODULE_3__[\"default\"].render = function () {\n  return /*#__PURE__*/react__WEBPACK_IMPORTED_MODULE_1___default.a.createElement(_canvas_modal__WEBPACK_IMPORTED_MODULE_4__[\"default\"], {\n    className: \"ReactModal__Content--canvas ReactModal__Content--mini-modal\",\n    overlayClassName: \"ReactModal__Overlay--canvas\",\n    ref: \"canvasModal\",\n    isOpen: this.state.isOpen,\n    title: this.getTitle(),\n    onRequestClose: this.closeDialog,\n    onSubmit: this.submit\n  }, /*#__PURE__*/react__WEBPACK_IMPORTED_MODULE_1___default.a.createElement(_canvas_modal_react_content__WEBPACK_IMPORTED_MODULE_5__[\"default\"], null, /*#__PURE__*/react__WEBPACK_IMPORTED_MODULE_1___default.a.createElement(_BBTreeBrowser__WEBPACK_IMPORTED_MODULE_7__[\"default\"], {\n    rootFoldersToShow: this.props.rootFoldersToShow,\n    onSelectFolder: this.onSelectFolder\n  })), /*#__PURE__*/react__WEBPACK_IMPORTED_MODULE_1___default.a.createElement(_canvas_modal_react_buttons__WEBPACK_IMPORTED_MODULE_6__[\"default\"], null, /*#__PURE__*/react__WEBPACK_IMPORTED_MODULE_1___default.a.createElement(\"button\", {\n    type: \"button\",\n    className: \"btn\",\n    onClick: this.closeDialog\n  }, i18n_react_files__WEBPACK_IMPORTED_MODULE_0__[\"default\"].t('Cancel')), this.renderMoveButton()));\n};\n\n/* harmony default export */ __webpack_exports__[\"default\"] = (create_react_class__WEBPACK_IMPORTED_MODULE_2___default()(_legacy_components_MoveDialog__WEBPACK_IMPORTED_MODULE_3__[\"default\"]));\n\n//# sourceURL=webpack:///./ui/features/files/react/components/MoveDialog.js?");

/***/ }),

/***/ "QYKH":
/*!*****************************************************************!*\
  !*** ./ui/shared/files/backbone/models/FilesystemObject.coffee ***!
  \*****************************************************************/
/*! exports provided: default */
/***/ (function(module, __webpack_exports__, __webpack_require__) {

"use strict";
eval("__webpack_require__.r(__webpack_exports__);\n/* harmony import */ var _canvas_backbone__WEBPACK_IMPORTED_MODULE_0__ = __webpack_require__(/*! @canvas/backbone */ \"mX+G\");\n/* harmony import */ var _canvas_backbone__WEBPACK_IMPORTED_MODULE_0___default = /*#__PURE__*/__webpack_require__.n(_canvas_backbone__WEBPACK_IMPORTED_MODULE_0__);\n/* harmony import */ var underscore__WEBPACK_IMPORTED_MODULE_1__ = __webpack_require__(/*! underscore */ \"Y/W1\");\n/* harmony import */ var underscore__WEBPACK_IMPORTED_MODULE_1___default = /*#__PURE__*/__webpack_require__.n(underscore__WEBPACK_IMPORTED_MODULE_1__);\n/* harmony import */ var _canvas_util_splitAssetString__WEBPACK_IMPORTED_MODULE_2__ = __webpack_require__(/*! @canvas/util/splitAssetString */ \"s9Pr\");\nvar FilesystemObject,\n  extend = function(child, parent) { for (var key in parent) { if (hasProp.call(parent, key)) child[key] = parent[key]; } function ctor() { this.constructor = child; } ctor.prototype = parent.prototype; child.prototype = new ctor(); child.__super__ = parent.prototype; return child; },\n  hasProp = {}.hasOwnProperty;\n\n\n\n\n\n\n\n/* harmony default export */ __webpack_exports__[\"default\"] = (FilesystemObject = (function(superClass) {\n  extend(FilesystemObject, superClass);\n\n  function FilesystemObject() {\n    return FilesystemObject.__super__.constructor.apply(this, arguments);\n  }\n\n  FilesystemObject.prototype.displayName = function() {\n    return this.get('display_name') || this.get('name');\n  };\n\n  FilesystemObject.prototype.destinationIsSameContext = function(destination) {\n    var assetString, contextId, contextType, ref, ref1, ref2, ref3, ref4;\n    ref3 = (assetString = this.get(\"context_asset_string\")) ? Object(_canvas_util_splitAssetString__WEBPACK_IMPORTED_MODULE_2__[\"default\"])(assetString, false) : [(ref = this.collection.parentFolder) != null ? ref.get(\"context_type\") : void 0, (ref1 = this.collection.parentFolder) != null ? (ref2 = ref1.get(\"context_id\")) != null ? ref2.toString() : void 0 : void 0], contextType = ref3[0], contextId = ref3[1];\n    return contextType && contextId && contextType.toLowerCase() === destination.get(\"context_type\").toLowerCase() && contextId === ((ref4 = destination.get(\"context_id\")) != null ? ref4.toString() : void 0);\n  };\n\n  FilesystemObject.prototype.moveTo = function(newFolder, options) {\n    if (options == null) {\n      options = {};\n    }\n    if (this.destinationIsSameContext(newFolder)) {\n      return this.moveToFolder(newFolder, options);\n    } else {\n      return this.copyToContext(newFolder, options);\n    }\n  };\n\n  FilesystemObject.prototype.moveToFolder = function(newFolder, options) {\n    var attrs;\n    if (options == null) {\n      options = {};\n    }\n    attrs = this.setAttributes({\n      parent_folder_id: newFolder.id\n    }, options);\n    $.extend(attrs, {\n      parent_folder_id: newFolder.id\n    });\n    return this.save({}, {\n      attrs: attrs\n    }).then((function(_this) {\n      return function() {\n        _this.collection.remove(_this);\n        return _this.updateCollection(_this, newFolder, options);\n      };\n    })(this));\n  };\n\n  FilesystemObject.prototype.copyToContext = function(newFolder, options) {\n    var attrs, clonedModel, collection, endpoint, type, url;\n    if (options == null) {\n      options = {};\n    }\n    attrs = this.setAttributes($.extend({}, this.attributes), options);\n    type = this.isFile ? \"file\" : \"folder\";\n    attrs[\"source_\" + type + \"_id\"] = attrs.id;\n    delete attrs.id;\n    clonedModel = new this.constructor(underscore__WEBPACK_IMPORTED_MODULE_1___default.a.omit(attrs, 'id', 'parent_folder_id', 'parent_folder_path'));\n    collection = this.updateCollection(clonedModel, newFolder, options);\n    clonedModel.url = collection.url;\n    this.set('url', collection.url);\n    endpoint = \"copy_\" + type;\n    url = \"/api/v1/folders/\" + newFolder.attributes.id + \"/\" + endpoint;\n    return clonedModel.save(attrs, {\n      url: url\n    });\n  };\n\n  FilesystemObject.prototype.setAttributes = function(attrs, options) {\n    if (attrs == null) {\n      attrs = {};\n    }\n    if (options == null) {\n      options = {};\n    }\n    if (options.dup === 'overwrite') {\n      $.extend(attrs, {\n        on_duplicate: 'overwrite'\n      });\n    } else if (options.dup === 'rename') {\n      if (options.name) {\n        $.extend(attrs, {\n          display_name: options.name,\n          name: options.name,\n          on_duplicate: 'rename'\n        });\n      } else {\n        $.extend(attrs, {\n          on_duplicate: 'rename'\n        });\n      }\n    }\n    return attrs;\n  };\n\n  FilesystemObject.prototype.updateCollection = function(model, newFolder, options) {\n    var collection, objectType;\n    objectType = this.isFile ? 'files' : 'folders';\n    collection = newFolder[objectType];\n    if (options.dup === 'overwrite') {\n      collection.remove(collection.where({\n        display_name: model.get('display_name')\n      }));\n    }\n    collection.add(model, {\n      merge: true\n    });\n    return collection;\n  };\n\n  return FilesystemObject;\n\n})(_canvas_backbone__WEBPACK_IMPORTED_MODULE_0___default.a.Model));\n\n\n//# sourceURL=webpack:///./ui/shared/files/backbone/models/FilesystemObject.coffee?");

/***/ }),

/***/ "QbG7":
/*!***************************************************************************!*\
  !*** ./ui/shared/direct-sharing/react/components/DirectShareUserModal.js ***!
  \***************************************************************************/
/*! exports provided: default */
/***/ (function(module, __webpack_exports__, __webpack_require__) {

"use strict";
eval("__webpack_require__.r(__webpack_exports__);\n/* harmony export (binding) */ __webpack_require__.d(__webpack_exports__, \"default\", function() { return DirectShareUserModal; });\n/* harmony import */ var _babel_runtime_helpers_esm_objectSpread2__WEBPACK_IMPORTED_MODULE_0__ = __webpack_require__(/*! @babel/runtime/helpers/esm/objectSpread2 */ \"VTBJ\");\n/* harmony import */ var _babel_runtime_helpers_esm_slicedToArray__WEBPACK_IMPORTED_MODULE_1__ = __webpack_require__(/*! @babel/runtime/helpers/esm/slicedToArray */ \"ODXe\");\n/* harmony import */ var _babel_runtime_helpers_esm_objectWithoutProperties__WEBPACK_IMPORTED_MODULE_2__ = __webpack_require__(/*! @babel/runtime/helpers/esm/objectWithoutProperties */ \"Ff2n\");\n/* harmony import */ var i18n_direct_share_user_modal__WEBPACK_IMPORTED_MODULE_3__ = __webpack_require__(/*! i18n!direct_share_user_modal */ \"C7Zj\");\n/* harmony import */ var react__WEBPACK_IMPORTED_MODULE_4__ = __webpack_require__(/*! react */ \"q1tI\");\n/* harmony import */ var react__WEBPACK_IMPORTED_MODULE_4___default = /*#__PURE__*/__webpack_require__.n(react__WEBPACK_IMPORTED_MODULE_4__);\n/* harmony import */ var prop_types__WEBPACK_IMPORTED_MODULE_5__ = __webpack_require__(/*! prop-types */ \"17x9\");\n/* harmony import */ var prop_types__WEBPACK_IMPORTED_MODULE_5___default = /*#__PURE__*/__webpack_require__.n(prop_types__WEBPACK_IMPORTED_MODULE_5__);\n/* harmony import */ var _instructure_ui_alerts__WEBPACK_IMPORTED_MODULE_6__ = __webpack_require__(/*! @instructure/ui-alerts */ \"spba\");\n/* harmony import */ var _instructure_ui_buttons__WEBPACK_IMPORTED_MODULE_7__ = __webpack_require__(/*! @instructure/ui-buttons */ \"K6WN\");\n/* harmony import */ var _instructure_ui_spinner__WEBPACK_IMPORTED_MODULE_8__ = __webpack_require__(/*! @instructure/ui-spinner */ \"cPO5\");\n/* harmony import */ var _instructure_ui_view__WEBPACK_IMPORTED_MODULE_9__ = __webpack_require__(/*! @instructure/ui-view */ \"OkHH\");\n/* harmony import */ var _canvas_instui_bindings_react_Modal__WEBPACK_IMPORTED_MODULE_10__ = __webpack_require__(/*! @canvas/instui-bindings/react/Modal */ \"HeaX\");\n/* harmony import */ var _canvas_content_sharing_react_proptypes_contentShare__WEBPACK_IMPORTED_MODULE_11__ = __webpack_require__(/*! @canvas/content-sharing/react/proptypes/contentShare */ \"XFtX\");\n/* harmony import */ var _canvas_alerts_react_FlashAlert__WEBPACK_IMPORTED_MODULE_12__ = __webpack_require__(/*! @canvas/alerts/react/FlashAlert */ \"uloQ\");\n/* harmony import */ var _canvas_do_fetch_api_effect__WEBPACK_IMPORTED_MODULE_13__ = __webpack_require__(/*! @canvas/do-fetch-api-effect */ \"Ipg6\");\n\n\n\nconst _excluded = [\"contentShare\", \"courseId\"];\n\n/*\n * Copyright (C) 2019 - present Instructure, Inc.\n *\n * This file is part of Canvas.\n *\n * Canvas is free software: you can redistribute it and/or modify it under\n * the terms of the GNU Affero General Public License as published by the Free\n * Software Foundation, version 3 of the License.\n *\n * Canvas is distributed in the hope that it will be useful, but WITHOUT ANY\n * WARRANTY; without even the implied warranty of MERCHANTABILITY or FITNESS FOR\n * A PARTICULAR PURPOSE. See the GNU Affero General Public License for more\n * details.\n *\n * You should have received a copy of the GNU Affero General Public License along\n * with this program. If not, see <http://www.gnu.org/licenses/>.\n */\n\n\n\n\n\n\n\n\n\n\n\nconst DirectShareUserPanel = /*#__PURE__*/Object(react__WEBPACK_IMPORTED_MODULE_4__[\"lazy\"])(() => Promise.all(/*! import() */[__webpack_require__.e(13), __webpack_require__.e(16), __webpack_require__.e(17), __webpack_require__.e(28), __webpack_require__.e(84), __webpack_require__.e(3659)]).then(__webpack_require__.bind(null, /*! ./DirectShareUserPanel */ \"pdP4\")));\nDirectShareUserModal.propTypes = {\n  contentShare: Object(prop_types__WEBPACK_IMPORTED_MODULE_5__[\"shape\"])({\n    content_id: prop_types__WEBPACK_IMPORTED_MODULE_5__[\"string\"],\n    content_type: Object(prop_types__WEBPACK_IMPORTED_MODULE_5__[\"oneOf\"])(_canvas_content_sharing_react_proptypes_contentShare__WEBPACK_IMPORTED_MODULE_11__[\"CONTENT_SHARE_TYPES\"])\n  }),\n  courseId: prop_types__WEBPACK_IMPORTED_MODULE_5__[\"string\"]\n};\nfunction DirectShareUserModal(_ref) {\n  let contentShare = _ref.contentShare,\n      courseId = _ref.courseId,\n      modalProps = Object(_babel_runtime_helpers_esm_objectWithoutProperties__WEBPACK_IMPORTED_MODULE_2__[\"default\"])(_ref, _excluded);\n\n  const _useState = Object(react__WEBPACK_IMPORTED_MODULE_4__[\"useState\"])([]),\n        _useState2 = Object(_babel_runtime_helpers_esm_slicedToArray__WEBPACK_IMPORTED_MODULE_1__[\"default\"])(_useState, 2),\n        selectedUsers = _useState2[0],\n        setSelectedUsers = _useState2[1];\n\n  const _useState3 = Object(react__WEBPACK_IMPORTED_MODULE_4__[\"useState\"])(null),\n        _useState4 = Object(_babel_runtime_helpers_esm_slicedToArray__WEBPACK_IMPORTED_MODULE_1__[\"default\"])(_useState3, 2),\n        postStatus = _useState4[0],\n        setPostStatus = _useState4[1];\n\n  const previousOpen = Object(react__WEBPACK_IMPORTED_MODULE_4__[\"useRef\"])(modalProps.open);\n\n  function resetState() {\n    setSelectedUsers([]);\n    setPostStatus(null);\n  }\n\n  function handleUserSelected(newUser) {\n    if (!selectedUsers.find(user => user.id === newUser.id)) {\n      setSelectedUsers(selectedUsers.concat([newUser]));\n    }\n  }\n\n  function handleUserRemoved(doomedUser) {\n    setSelectedUsers(selectedUsers.filter(user => user.id !== doomedUser.id));\n  }\n\n  function startSendOperation() {\n    return Object(_canvas_do_fetch_api_effect__WEBPACK_IMPORTED_MODULE_13__[\"default\"])({\n      method: 'POST',\n      path: '/api/v1/users/self/content_shares',\n      body: Object(_babel_runtime_helpers_esm_objectSpread2__WEBPACK_IMPORTED_MODULE_0__[\"default\"])(Object(_babel_runtime_helpers_esm_objectSpread2__WEBPACK_IMPORTED_MODULE_0__[\"default\"])({}, contentShare), {}, {\n        receiver_ids: selectedUsers.map(user => user.id)\n      })\n    });\n  }\n\n  function handleSend() {\n    setPostStatus('info');\n    startSendOperation().then(sendSuccessful).catch(err => {\n      console.error(err); // eslint-disable-line no-console\n\n      if (err.response) console.error(err.response); // eslint-disable-line no-console\n\n      setPostStatus('error');\n    });\n  }\n\n  function sendSuccessful() {\n    Object(_canvas_alerts_react_FlashAlert__WEBPACK_IMPORTED_MODULE_12__[\"showFlashSuccess\"])(i18n_direct_share_user_modal__WEBPACK_IMPORTED_MODULE_3__[\"default\"].t('Content share started successfully'))();\n    modalProps.onDismiss();\n  }\n\n  function Footer() {\n    return /*#__PURE__*/react__WEBPACK_IMPORTED_MODULE_4___default.a.createElement(react__WEBPACK_IMPORTED_MODULE_4___default.a.Fragment, null, /*#__PURE__*/react__WEBPACK_IMPORTED_MODULE_4___default.a.createElement(_instructure_ui_buttons__WEBPACK_IMPORTED_MODULE_7__[\"Button\"], {\n      onClick: modalProps.onDismiss\n    }, i18n_direct_share_user_modal__WEBPACK_IMPORTED_MODULE_3__[\"default\"].t('Cancel')), /*#__PURE__*/react__WEBPACK_IMPORTED_MODULE_4___default.a.createElement(_instructure_ui_buttons__WEBPACK_IMPORTED_MODULE_7__[\"Button\"], {\n      disabled: selectedUsers.length === 0 || postStatus === 'info',\n      variant: \"primary\",\n      margin: \"0 0 0 x-small\",\n      onClick: handleSend\n    }, i18n_direct_share_user_modal__WEBPACK_IMPORTED_MODULE_3__[\"default\"].t('Send')));\n  }\n\n  const suspenseFallback = /*#__PURE__*/react__WEBPACK_IMPORTED_MODULE_4___default.a.createElement(_instructure_ui_view__WEBPACK_IMPORTED_MODULE_9__[\"View\"], {\n    as: \"div\",\n    textAlign: \"center\"\n  }, /*#__PURE__*/react__WEBPACK_IMPORTED_MODULE_4___default.a.createElement(_instructure_ui_spinner__WEBPACK_IMPORTED_MODULE_8__[\"Spinner\"], {\n    renderTitle: i18n_direct_share_user_modal__WEBPACK_IMPORTED_MODULE_3__[\"default\"].t('Loading')\n  })); // Reset the state when the open prop changes so we don't carry over state\n  // from the previously opened dialog\n\n  if (modalProps.open !== previousOpen.current) {\n    previousOpen.current = modalProps.open;\n    resetState();\n  }\n\n  let alertMessage = '';\n  if (postStatus === 'info') alertMessage = i18n_direct_share_user_modal__WEBPACK_IMPORTED_MODULE_3__[\"default\"].t('Starting content share');else if (postStatus === 'error') alertMessage = i18n_direct_share_user_modal__WEBPACK_IMPORTED_MODULE_3__[\"default\"].t('Error starting content share');\n  const alert = alertMessage ? /*#__PURE__*/react__WEBPACK_IMPORTED_MODULE_4___default.a.createElement(_instructure_ui_alerts__WEBPACK_IMPORTED_MODULE_6__[\"Alert\"], {\n    variant: postStatus\n  }, /*#__PURE__*/react__WEBPACK_IMPORTED_MODULE_4___default.a.createElement(\"div\", {\n    role: \"alert\",\n    \"aria-live\": \"assertive\",\n    \"aria-atomic\": true\n  }, alertMessage), postStatus === 'info' ? /*#__PURE__*/react__WEBPACK_IMPORTED_MODULE_4___default.a.createElement(_instructure_ui_spinner__WEBPACK_IMPORTED_MODULE_8__[\"Spinner\"], {\n    renderTitle: alertMessage,\n    size: \"x-small\"\n  }) : null) : null; // TODO: should show the title of item being shared\n\n  return /*#__PURE__*/react__WEBPACK_IMPORTED_MODULE_4___default.a.createElement(_canvas_instui_bindings_react_Modal__WEBPACK_IMPORTED_MODULE_10__[\"default\"], Object.assign({\n    label: i18n_direct_share_user_modal__WEBPACK_IMPORTED_MODULE_3__[\"default\"].t('Send To...'),\n    size: \"medium\"\n  }, modalProps, {\n    footer: /*#__PURE__*/react__WEBPACK_IMPORTED_MODULE_4___default.a.createElement(Footer, null)\n  }), /*#__PURE__*/react__WEBPACK_IMPORTED_MODULE_4___default.a.createElement(react__WEBPACK_IMPORTED_MODULE_4__[\"Suspense\"], {\n    fallback: suspenseFallback\n  }, alert, /*#__PURE__*/react__WEBPACK_IMPORTED_MODULE_4___default.a.createElement(DirectShareUserPanel, {\n    courseId: courseId,\n    selectedUsers: selectedUsers,\n    onUserSelected: handleUserSelected,\n    onUserRemoved: handleUserRemoved\n  })));\n}\n\n//# sourceURL=webpack:///./ui/shared/direct-sharing/react/components/DirectShareUserModal.js?");

/***/ }),

/***/ "QjQa":
/*!***************************************************************************!*\
  !*** ./frontend_build/i18n.js?dateformat!./ui/shims/dummyI18nResource.js ***!
  \***************************************************************************/
/*! exports provided: default */
/***/ (function(module, __webpack_exports__, __webpack_require__) {

"use strict";
eval("__webpack_require__.r(__webpack_exports__);\n/* harmony import */ var _canvas_i18n_i18nObj__WEBPACK_IMPORTED_MODULE_0__ = __webpack_require__(/*! @canvas/i18n/i18nObj */ \"HGxv\");\n/* harmony import */ var translations_core_en__WEBPACK_IMPORTED_MODULE_1__ = __webpack_require__(/*! translations/_core_en */ \"0sPK\");\n\n    \n    \n    \n\n    /* harmony default export */ __webpack_exports__[\"default\"] = (_canvas_i18n_i18nObj__WEBPACK_IMPORTED_MODULE_0__[\"default\"].scoped('dateformat'));\n  \n\n//# sourceURL=webpack:///./ui/shims/dummyI18nResource.js?./frontend_build/i18n.js?dateformat");

/***/ }),

/***/ "QtMz":
/*!************************************************************!*\
  !*** ./ui/features/files/react/legacy/util/deleteStuff.js ***!
  \************************************************************/
/*! exports provided: default */
/***/ (function(module, __webpack_exports__, __webpack_require__) {

"use strict";
eval("__webpack_require__.r(__webpack_exports__);\n/* harmony export (binding) */ __webpack_require__.d(__webpack_exports__, \"default\", function() { return deleteStuff; });\n/* harmony import */ var i18n_react_files__WEBPACK_IMPORTED_MODULE_0__ = __webpack_require__(/*! i18n!react_files */ \"mddV\");\n/* harmony import */ var jquery__WEBPACK_IMPORTED_MODULE_1__ = __webpack_require__(/*! jquery */ \"ouhR\");\n/* harmony import */ var jquery__WEBPACK_IMPORTED_MODULE_1___default = /*#__PURE__*/__webpack_require__.n(jquery__WEBPACK_IMPORTED_MODULE_1__);\n/*\n * Copyright (C) 2014 - present Instructure, Inc.\n *\n * This file is part of Canvas.\n *\n * Canvas is free software: you can redistribute it and/or modify it under\n * the terms of the GNU Affero General Public License as published by the Free\n * Software Foundation, version 3 of the License.\n *\n * Canvas is distributed in the hope that it will be useful, but WITHOUT ANY\n * WARRANTY; without even the implied warranty of MERCHANTABILITY or FITNESS FOR\n * A PARTICULAR PURPOSE. See the GNU Affero General Public License for more\n * details.\n *\n * You should have received a copy of the GNU Affero General Public License along\n * with this program. If not, see <http://www.gnu.org/licenses/>.\n */\n\n\nfunction deleteStuff(filesAndFolders, args) {\n  const isDeletingAnUnemptyFolder = filesAndFolders.some(item => item.get('folders_count') || item.get('files_count'));\n  const message = isDeletingAnUnemptyFolder ? i18n_react_files__WEBPACK_IMPORTED_MODULE_0__[\"default\"].t('confirm_delete_with_contents', {\n    one: 'Are you sure you want to delete %{name}? It is not empty, anything inside it will be deleted too.',\n    other: 'Are you sure you want to delete these %{count} items and everything inside them?'\n  }, {\n    count: filesAndFolders.length,\n    name: filesAndFolders[0] && filesAndFolders[0].displayName()\n  }) : i18n_react_files__WEBPACK_IMPORTED_MODULE_0__[\"default\"].t({\n    one: 'Are you sure you want to delete %{name}?',\n    other: 'Are you sure you want to delete these %{count} items?'\n  }, {\n    count: filesAndFolders.length,\n    name: filesAndFolders[0] && filesAndFolders[0].displayName()\n  });\n  if (!confirm(message)) return;\n  const promises = filesAndFolders.map(item => item.destroy({\n    emulateHTTP: true,\n    emulateJSON: true,\n    data: {\n      force: 'true'\n    },\n    wait: true,\n\n    error(model, response, options) {\n      const reason = (() => {\n        try {\n          const json = jquery__WEBPACK_IMPORTED_MODULE_1___default.a.parseJSON(response.responseText);\n          return json && json.message;\n        } catch (error) {}\n      })();\n\n      return jquery__WEBPACK_IMPORTED_MODULE_1___default.a.flashError(i18n_react_files__WEBPACK_IMPORTED_MODULE_0__[\"default\"].t('Error deleting %{name}: %{reason}', {\n        name: item.displayName(),\n        reason\n      }));\n    }\n\n  }));\n  return jquery__WEBPACK_IMPORTED_MODULE_1___default.a.when(...Array.from(promises || [])).then(() => {\n    jquery__WEBPACK_IMPORTED_MODULE_1___default.a.flashMessage(i18n_react_files__WEBPACK_IMPORTED_MODULE_0__[\"default\"].t({\n      one: '%{name} deleted successfully.',\n      other: '%{count} items deleted successfully.'\n    }, {\n      count: filesAndFolders.length,\n      name: filesAndFolders[0] && filesAndFolders[0].displayName()\n    }));\n\n    if (args && args.returnFocusTo) {\n      args.returnFocusTo.focus();\n    }\n  });\n}\n\n//# sourceURL=webpack:///./ui/features/files/react/legacy/util/deleteStuff.js?");

/***/ }),

/***/ "RJe1":
/*!*********************************************************************!*\
  !*** ./ui/features/files/react/legacy/modules/BBTreeBrowserView.js ***!
  \*********************************************************************/
/*! exports provided: default */
/***/ (function(module, __webpack_exports__, __webpack_require__) {

"use strict";
eval("__webpack_require__.r(__webpack_exports__);\n/* harmony export (binding) */ __webpack_require__.d(__webpack_exports__, \"default\", function() { return BBTreeBrowserView; });\n/* harmony import */ var jquery__WEBPACK_IMPORTED_MODULE_0__ = __webpack_require__(/*! jquery */ \"ouhR\");\n/* harmony import */ var jquery__WEBPACK_IMPORTED_MODULE_0___default = /*#__PURE__*/__webpack_require__.n(jquery__WEBPACK_IMPORTED_MODULE_0__);\n/* harmony import */ var _canvas_tree_browser_view__WEBPACK_IMPORTED_MODULE_1__ = __webpack_require__(/*! @canvas/tree-browser-view */ \"BxZT\");\n/*\n * Copyright (C) 2014 - present Instructure, Inc.\n *\n * This file is part of Canvas.\n *\n * Canvas is free software: you can redistribute it and/or modify it under\n * the terms of the GNU Affero General Public License as published by the Free\n * Software Foundation, version 3 of the License.\n *\n * Canvas is distributed in the hope that it will be useful, but WITHOUT ANY\n * WARRANTY; without even the implied warranty of MERCHANTABILITY or FITNESS FOR\n * A PARTICULAR PURPOSE. See the GNU Affero General Public License for more\n * details.\n *\n * You should have received a copy of the GNU Affero General Public License along\n * with this program. If not, see <http://www.gnu.org/licenses/>.\n */\n\n\nclass BBTreeBrowserView {\n  static create(bbOptions, options = {}) {\n    if (!options.render) {\n      options.render = false;\n    }\n\n    const view = new _canvas_tree_browser_view__WEBPACK_IMPORTED_MODULE_1__[\"default\"](bbOptions);\n    const viewObj = {\n      view,\n      viewOptions: bbOptions,\n      renderOptions: options\n    };\n    const length = this.views.push(viewObj);\n    const index = length - 1;\n    this.set(index, {\n      index\n    });\n\n    if (options.render) {\n      if (options.element == null) {\n        console.error(\"`element` option missing error: An element to attach the TreeBrowserView to must be specified when setting the render option to 'true' for BBTreeBrowserView\");\n      }\n\n      if (options.element) {\n        this.render(index, options.element, options.callback);\n      }\n    }\n\n    return this.get(index);\n  }\n\n  static set(index, newValues = {}) {\n    let currentValues;\n\n    if (currentValues = this.get(index)) {\n      const values = jquery__WEBPACK_IMPORTED_MODULE_0___default.a.extend(currentValues, newValues);\n      return currentValues = values;\n    }\n  }\n\n  static get(index) {\n    return this.views[index] || null;\n  }\n\n  static getView(index) {\n    return this.get(index) && this.get(index).view || null;\n  }\n\n  static remove(index) {\n    this.views.splice(index, 1);\n    return this.refresh();\n  }\n\n  static getViews() {\n    return this.views;\n  }\n\n  static render(index, element, callback) {\n    setTimeout(() => {\n      const view = this.getView(index);\n\n      if (view) {\n        const res = view.render();\n        res && res.$el && res.$el.appendTo(element);\n      }\n    }, 0);\n    if (typeof callback === 'function') return callback();\n  }\n\n  static refresh() {\n    return this.views.map(item => {\n      const index = item.index;\n      const previous = this.get(index);\n      this.remove(index);\n      item.view.destroyView();\n      const refreshed = this.create(previous.viewOptions, previous.renderOptions);\n\n      if (!previous.renderOptions.render) {\n        this.render(refreshed.index, refreshed.renderOptions.element, refreshed.renderOptions.callback);\n      }\n\n      return refreshed;\n    });\n  }\n\n}\nBBTreeBrowserView.views = [];\n\n//# sourceURL=webpack:///./ui/features/files/react/legacy/modules/BBTreeBrowserView.js?");

/***/ }),

/***/ "RfgP":
/*!************************************************************!*\
  !*** ./ui/shared/files/react/components/FileRenameForm.js ***!
  \************************************************************/
/*! exports provided: default */
/***/ (function(module, __webpack_exports__, __webpack_require__) {

"use strict";
eval("__webpack_require__.r(__webpack_exports__);\n/* harmony import */ var react__WEBPACK_IMPORTED_MODULE_0__ = __webpack_require__(/*! react */ \"q1tI\");\n/* harmony import */ var react__WEBPACK_IMPORTED_MODULE_0___default = /*#__PURE__*/__webpack_require__.n(react__WEBPACK_IMPORTED_MODULE_0__);\n/* harmony import */ var create_react_class__WEBPACK_IMPORTED_MODULE_1__ = __webpack_require__(/*! create-react-class */ \"fhzG\");\n/* harmony import */ var create_react_class__WEBPACK_IMPORTED_MODULE_1___default = /*#__PURE__*/__webpack_require__.n(create_react_class__WEBPACK_IMPORTED_MODULE_1__);\n/* harmony import */ var _LegacyFileRenameForm__WEBPACK_IMPORTED_MODULE_2__ = __webpack_require__(/*! ./LegacyFileRenameForm */ \"AB3t\");\n/* harmony import */ var _canvas_modal__WEBPACK_IMPORTED_MODULE_3__ = __webpack_require__(/*! @canvas/modal */ \"vCN0\");\n/* harmony import */ var _canvas_modal_react_content__WEBPACK_IMPORTED_MODULE_4__ = __webpack_require__(/*! @canvas/modal/react/content */ \"0unK\");\n/* harmony import */ var _canvas_modal_react_buttons__WEBPACK_IMPORTED_MODULE_5__ = __webpack_require__(/*! @canvas/modal/react/buttons */ \"GN1s\");\n/* harmony import */ var i18n_file_rename_form__WEBPACK_IMPORTED_MODULE_6__ = __webpack_require__(/*! i18n!file_rename_form */ \"DhTC\");\n/*\n * Copyright (C) 2015 - present Instructure, Inc.\n *\n * This file is part of Canvas.\n *\n * Canvas is free software: you can redistribute it and/or modify it under\n * the terms of the GNU Affero General Public License as published by the Free\n * Software Foundation, version 3 of the License.\n *\n * Canvas is distributed in the hope that it will be useful, but WITHOUT ANY\n * WARRANTY; without even the implied warranty of MERCHANTABILITY or FITNESS FOR\n * A PARTICULAR PURPOSE. See the GNU Affero General Public License for more\n * details.\n *\n * You should have received a copy of the GNU Affero General Public License along\n * with this program. If not, see <http://www.gnu.org/licenses/>.\n */\n\n\n\n\n\n\n\n\n_LegacyFileRenameForm__WEBPACK_IMPORTED_MODULE_2__[\"default\"].buildContent = function () {\n  const _this$props = this.props,\n        onRenameFileMessage = _this$props.onRenameFileMessage,\n        onLockFileMessage = _this$props.onLockFileMessage;\n  const nameToUse = this.state.fileOptions.name || this.state.fileOptions.file.name;\n  let buildContentToRender;\n\n  if (!this.state.isEditing && !this.state.fileOptions.cannotOverwrite) {\n    buildContentToRender = /*#__PURE__*/react__WEBPACK_IMPORTED_MODULE_0___default.a.createElement(\"div\", {\n      ref: \"bodyContent\"\n    }, /*#__PURE__*/react__WEBPACK_IMPORTED_MODULE_0___default.a.createElement(\"p\", {\n      id: \"renameFileMessage\"\n    }, (onRenameFileMessage === null || onRenameFileMessage === void 0 ? void 0 : onRenameFileMessage(nameToUse)) || i18n_file_rename_form__WEBPACK_IMPORTED_MODULE_6__[\"default\"].t('An item named \"%{name}\" already exists in this location. Do you want to replace the existing file?', {\n      name: nameToUse\n    })));\n  } else {\n    let renameMessage;\n\n    if (this.state.fileOptions.cannotOverwrite) {\n      renameMessage = (onLockFileMessage === null || onLockFileMessage === void 0 ? void 0 : onLockFileMessage(nameToUse)) || i18n_file_rename_form__WEBPACK_IMPORTED_MODULE_6__[\"default\"].t('A locked item named \"%{name}\" already exists in this location. Please enter a new name.', {\n        name: nameToUse\n      });\n    } else {\n      renameMessage = i18n_file_rename_form__WEBPACK_IMPORTED_MODULE_6__[\"default\"].t('Change \"%{name}\" to', {\n        name: nameToUse\n      });\n    }\n\n    buildContentToRender = /*#__PURE__*/react__WEBPACK_IMPORTED_MODULE_0___default.a.createElement(\"div\", {\n      ref: \"bodyContent\"\n    }, /*#__PURE__*/react__WEBPACK_IMPORTED_MODULE_0___default.a.createElement(\"p\", null, renameMessage), /*#__PURE__*/react__WEBPACK_IMPORTED_MODULE_0___default.a.createElement(\"form\", {\n      onSubmit: this.handleFormSubmit\n    }, /*#__PURE__*/react__WEBPACK_IMPORTED_MODULE_0___default.a.createElement(\"label\", {\n      className: \"file-rename-form__form-label\"\n    }, i18n_file_rename_form__WEBPACK_IMPORTED_MODULE_6__[\"default\"].t('Name')), /*#__PURE__*/react__WEBPACK_IMPORTED_MODULE_0___default.a.createElement(\"input\", {\n      className: \"input-block-level\",\n      type: \"text\",\n      defaultValue: nameToUse,\n      ref: \"newName\"\n    })));\n  }\n\n  return buildContentToRender;\n};\n\n_LegacyFileRenameForm__WEBPACK_IMPORTED_MODULE_2__[\"default\"].buildButtons = function () {\n  let buildButtonsToRender;\n\n  if (this.state.fileOptions.cannotOverwrite) {\n    buildButtonsToRender = [/*#__PURE__*/react__WEBPACK_IMPORTED_MODULE_0___default.a.createElement(\"button\", {\n      key: \"commitChangeBtn\",\n      ref: \"commitChangeBtn\",\n      className: \"btn btn-primary\",\n      onClick: this.handleChangeClick\n    }, i18n_file_rename_form__WEBPACK_IMPORTED_MODULE_6__[\"default\"].t('Change'))];\n  } else if (!this.state.isEditing) {\n    buildButtonsToRender = [/*#__PURE__*/react__WEBPACK_IMPORTED_MODULE_0___default.a.createElement(\"button\", {\n      key: \"renameBtn\",\n      ref: \"renameBtn\",\n      className: \"btn btn-default\",\n      onClick: this.handleRenameClick\n    }, i18n_file_rename_form__WEBPACK_IMPORTED_MODULE_6__[\"default\"].t('Change Name')), /*#__PURE__*/react__WEBPACK_IMPORTED_MODULE_0___default.a.createElement(\"button\", {\n      key: \"replaceBtn\",\n      ref: \"replaceBtn\",\n      className: \"btn btn-primary\",\n      onClick: this.handleReplaceClick\n    }, i18n_file_rename_form__WEBPACK_IMPORTED_MODULE_6__[\"default\"].t('Replace'))];\n\n    if (this.props.allowSkip) {\n      buildButtonsToRender.unshift( /*#__PURE__*/react__WEBPACK_IMPORTED_MODULE_0___default.a.createElement(\"button\", {\n        key: \"skipBtn\",\n        ref: \"skipBtn\",\n        className: \"btn btn-default\",\n        onClick: this.handleSkipClick\n      }, i18n_file_rename_form__WEBPACK_IMPORTED_MODULE_6__[\"default\"].t('Skip')));\n    }\n  } else {\n    buildButtonsToRender = [/*#__PURE__*/react__WEBPACK_IMPORTED_MODULE_0___default.a.createElement(\"button\", {\n      key: \"backBtn\",\n      ref: \"backBtn\",\n      className: \"btn btn-default\",\n      onClick: this.handleBackClick\n    }, i18n_file_rename_form__WEBPACK_IMPORTED_MODULE_6__[\"default\"].t('Back')), /*#__PURE__*/react__WEBPACK_IMPORTED_MODULE_0___default.a.createElement(\"button\", {\n      key: \"commitChangeBtn\",\n      ref: \"commitChangeBtn\",\n      className: \"btn btn-primary\",\n      onClick: this.handleChangeClick\n    }, i18n_file_rename_form__WEBPACK_IMPORTED_MODULE_6__[\"default\"].t('Change'))];\n  }\n\n  return buildButtonsToRender;\n};\n\n_LegacyFileRenameForm__WEBPACK_IMPORTED_MODULE_2__[\"default\"].render = function () {\n  return /*#__PURE__*/react__WEBPACK_IMPORTED_MODULE_0___default.a.createElement(\"div\", null, /*#__PURE__*/react__WEBPACK_IMPORTED_MODULE_0___default.a.createElement(_canvas_modal__WEBPACK_IMPORTED_MODULE_3__[\"default\"], {\n    className: \"ReactModal__Content--canvas ReactModal__Content--mini-modal\",\n    ref: \"canvasModal\",\n    isOpen: this.props.fileOptions,\n    title: i18n_file_rename_form__WEBPACK_IMPORTED_MODULE_6__[\"default\"].t('Copy'),\n    onRequestClose: this.props.onClose,\n    closeWithX: this.props.closeWithX,\n    \"data-testid\": \"FileRenameForm-modal\"\n  }, /*#__PURE__*/react__WEBPACK_IMPORTED_MODULE_0___default.a.createElement(_canvas_modal_react_content__WEBPACK_IMPORTED_MODULE_4__[\"default\"], null, this.buildContent(), /*#__PURE__*/react__WEBPACK_IMPORTED_MODULE_0___default.a.createElement(_canvas_modal_react_buttons__WEBPACK_IMPORTED_MODULE_5__[\"default\"], null, this.buildButtons()))));\n};\n\n/* harmony default export */ __webpack_exports__[\"default\"] = (create_react_class__WEBPACK_IMPORTED_MODULE_1___default()(_LegacyFileRenameForm__WEBPACK_IMPORTED_MODULE_2__[\"default\"]));\n\n//# sourceURL=webpack:///./ui/shared/files/react/components/FileRenameForm.js?");

/***/ }),

/***/ "S2y0":
/*!************************************************************************!*\
  !*** ./ui/shared/files/react/components/LegacyRestrictedDialogForm.js ***!
  \************************************************************************/
/*! exports provided: default */
/***/ (function(module, __webpack_exports__, __webpack_require__) {

"use strict";
eval("__webpack_require__.r(__webpack_exports__);\n/* harmony import */ var jquery__WEBPACK_IMPORTED_MODULE_0__ = __webpack_require__(/*! jquery */ \"ouhR\");\n/* harmony import */ var jquery__WEBPACK_IMPORTED_MODULE_0___default = /*#__PURE__*/__webpack_require__.n(jquery__WEBPACK_IMPORTED_MODULE_0__);\n/* harmony import */ var prop_types__WEBPACK_IMPORTED_MODULE_1__ = __webpack_require__(/*! prop-types */ \"17x9\");\n/* harmony import */ var prop_types__WEBPACK_IMPORTED_MODULE_1___default = /*#__PURE__*/__webpack_require__.n(prop_types__WEBPACK_IMPORTED_MODULE_1__);\n/* harmony import */ var i18n_restrict_student_access__WEBPACK_IMPORTED_MODULE_2__ = __webpack_require__(/*! i18n!restrict_student_access */ \"qJ3g\");\n/* harmony import */ var _backbone_models_Folder__WEBPACK_IMPORTED_MODULE_3__ = __webpack_require__(/*! ../../backbone/models/Folder */ \"3jyj\");\n/* harmony import */ var _modules_customPropTypes__WEBPACK_IMPORTED_MODULE_4__ = __webpack_require__(/*! ../modules/customPropTypes */ \"Lg2F\");\n/* harmony import */ var _util_setUsageRights__WEBPACK_IMPORTED_MODULE_5__ = __webpack_require__(/*! ../../util/setUsageRights */ \"ByV2\");\n/* harmony import */ var _util_updateModelsUsageRights__WEBPACK_IMPORTED_MODULE_6__ = __webpack_require__(/*! ../../util/updateModelsUsageRights */ \"ShJr\");\n/* harmony import */ var _canvas_datetime__WEBPACK_IMPORTED_MODULE_7__ = __webpack_require__(/*! @canvas/datetime */ \"7AEQ\");\n/* harmony import */ var _canvas_forms_jquery_jquery_instructure_forms__WEBPACK_IMPORTED_MODULE_8__ = __webpack_require__(/*! @canvas/forms/jquery/jquery.instructure_forms */ \"Dhso\");\n/*\n * Copyright (C) 2014 - present Instructure, Inc.\n *\n * This file is part of Canvas.\n *\n * Canvas is free software: you can redistribute it and/or modify it under\n * the terms of the GNU Affero General Public License as published by the Free\n * Software Foundation, version 3 of the License.\n *\n * Canvas is distributed in the hope that it will be useful, but WITHOUT ANY\n * WARRANTY; without even the implied warranty of MERCHANTABILITY or FITNESS FOR\n * A PARTICULAR PURPOSE. See the GNU Affero General Public License for more\n * details.\n *\n * You should have received a copy of the GNU Affero General Public License along\n * with this program. If not, see <http://www.gnu.org/licenses/>.\n */\n\n\n\n\n\n\n\n\n\n/* harmony default export */ __webpack_exports__[\"default\"] = ({\n  displayName: 'RestrictedDialogForm',\n  propTypes: {\n    closeDialog: prop_types__WEBPACK_IMPORTED_MODULE_1___default.a.func.isRequired,\n    models: prop_types__WEBPACK_IMPORTED_MODULE_1___default.a.arrayOf(_modules_customPropTypes__WEBPACK_IMPORTED_MODULE_4__[\"default\"].filesystemObject).isRequired,\n    usageRightsRequiredForContext: prop_types__WEBPACK_IMPORTED_MODULE_1___default.a.bool.isRequired\n  },\n\n  getInitialState() {\n    return {\n      submitable: false\n    };\n  },\n\n  componentDidMount() {\n    this.updateSubmitable();\n    jquery__WEBPACK_IMPORTED_MODULE_0___default()('.ui-dialog-titlebar-close').focus();\n  },\n\n  updateSubmitable() {\n    if (this.restrictedSelection.state && this.restrictedSelection.state.selectedOption) {\n      this.setState({\n        submitable: true\n      });\n    }\n  },\n\n  // === Custom Functions === #\n  // Function Summary\n  //\n  // Event though you can technically set each of these fields independently, since we\n  // are using them with a radio button we will grab all of the values and treat it as\n  // a state based on the input fields.\n  handleSubmit(event) {\n    event.preventDefault();\n\n    if (this.props.usageRightsRequiredForContext && !this.usageRightsOnAll() && !this.allFolders()) {\n      const values = this.usageSelection.getValues(); // They didn't choose a use justification\n\n      if (values.use_justification === 'choose') {\n        jquery__WEBPACK_IMPORTED_MODULE_0___default()(this.usageSelection.usageRightSelection).errorBox(i18n_restrict_student_access__WEBPACK_IMPORTED_MODULE_2__[\"default\"].t('You must specify a usage right.'));\n        return false;\n      }\n\n      const usageRightValue = {\n        use_justification: values.use_justification,\n        legal_copyright: values.copyright,\n        license: values.cc_license\n      }; // We need to first set usage rights before handling the setting of\n      // restricted access things.\n\n      return Object(_util_setUsageRights__WEBPACK_IMPORTED_MODULE_5__[\"default\"])(this.props.models, usageRightValue, (success, data) => {\n        if (success) {\n          Object(_util_updateModelsUsageRights__WEBPACK_IMPORTED_MODULE_6__[\"default\"])(data, this.props.models);\n          this.setRestrictedAccess();\n        } else {\n          jquery__WEBPACK_IMPORTED_MODULE_0___default.a.flashError(i18n_restrict_student_access__WEBPACK_IMPORTED_MODULE_2__[\"default\"].t('There was an error setting usage rights.'));\n        }\n      });\n    } else {\n      this.setRestrictedAccess();\n    }\n  },\n\n  setRestrictedAccess() {\n    const attributes = this.restrictedSelection.extractFormValues();\n\n    if (attributes.unlock_at && attributes.lock_at && attributes.unlock_at > attributes.lock_at) {\n      jquery__WEBPACK_IMPORTED_MODULE_0___default()(this.restrictedSelection.unlock_at).errorBox(i18n_restrict_student_access__WEBPACK_IMPORTED_MODULE_2__[\"default\"].t('\"Available From\" date must precede \"Available Until\"'));\n      return false;\n    }\n\n    const promises = this.props.models.map(item => // Calling .save like this (passing data as the 'attrs' property on\n    // the 'options' argument instead of as the first argument) is so that we just send\n    // the 3 attributes we care about (hidden, lock_at, unlock_at) in the PUT\n    // request (like you would for a PATCH request, execept our api doesn't support PATCH).\n    // We do this so if some other user changes the name while we are looking at the page,\n    // when we submit this form, we don't blow away their change and change the name back\n    // to what it was. we just update the things we intended.\n    item.save({}, {\n      attrs: attributes\n    }));\n    const dfd = jquery__WEBPACK_IMPORTED_MODULE_0___default.a.when(...Array.from(promises || []));\n    dfd.done(() => this.props.closeDialog());\n    jquery__WEBPACK_IMPORTED_MODULE_0___default()(this.dialogForm).disableWhileLoading(dfd);\n  },\n\n  /*\n   * Returns true if all the models passed in have usage rights\n   */\n  usageRightsOnAll() {\n    return this.props.models.every(model => model.get('usage_rights'));\n  },\n\n  /*\n   * Returns true if all the models passed in are folders.\n   */\n  allFolders() {\n    return this.props.models.every(model => model instanceof _backbone_models_Folder__WEBPACK_IMPORTED_MODULE_3__[\"default\"]);\n  },\n\n  /*\n   * Returns true if all the models passed in are folders.\n   */\n  anyFolders() {\n    return this.props.models.filter(model => model instanceof _backbone_models_Folder__WEBPACK_IMPORTED_MODULE_3__[\"default\"]).length;\n  },\n\n  // callback function passed to RestrictedRadioButtons as props\n  // for disabling/enabling of the Update Button\n  radioStateChange() {\n    this.setState({\n      submitable: true\n    });\n  }\n\n});\n\n//# sourceURL=webpack:///./ui/shared/files/react/components/LegacyRestrictedDialogForm.js?");

/***/ }),

/***/ "ShJr":
/*!*********************************************************!*\
  !*** ./ui/shared/files/util/updateModelsUsageRights.js ***!
  \*********************************************************/
/*! exports provided: default */
/***/ (function(module, __webpack_exports__, __webpack_require__) {

"use strict";
eval("__webpack_require__.r(__webpack_exports__);\n/* harmony export (binding) */ __webpack_require__.d(__webpack_exports__, \"default\", function() { return updateModelsUsageRights; });\n/* harmony import */ var underscore__WEBPACK_IMPORTED_MODULE_0__ = __webpack_require__(/*! underscore */ \"Y/W1\");\n/* harmony import */ var underscore__WEBPACK_IMPORTED_MODULE_0___default = /*#__PURE__*/__webpack_require__.n(underscore__WEBPACK_IMPORTED_MODULE_0__);\n/* harmony import */ var _backbone_models_Folder__WEBPACK_IMPORTED_MODULE_1__ = __webpack_require__(/*! ../backbone/models/Folder */ \"3jyj\");\n/* harmony import */ var _backbone_models_File_coffee__WEBPACK_IMPORTED_MODULE_2__ = __webpack_require__(/*! ../backbone/models/File.coffee */ \"C8i9\");\n/* harmony import */ var _backbone_models_ModuleFile__WEBPACK_IMPORTED_MODULE_3__ = __webpack_require__(/*! ../backbone/models/ModuleFile */ \"zq/q\");\n/*\n * Copyright (C) 2014 - present Instructure, Inc.\n *\n * This file is part of Canvas.\n *\n * Canvas is free software: you can redistribute it and/or modify it under\n * the terms of the GNU Affero General Public License as published by the Free\n * Software Foundation, version 3 of the License.\n *\n * Canvas is distributed in the hope that it will be useful, but WITHOUT ANY\n * WARRANTY; without even the implied warranty of MERCHANTABILITY or FITNESS FOR\n * A PARTICULAR PURPOSE. See the GNU Affero General Public License for more\n * details.\n *\n * You should have received a copy of the GNU Affero General Public License along\n * with this program. If not, see <http://www.gnu.org/licenses/>.\n */\n\n\n\n\n/*\n * Sets usage rights on the models in memory based on the response from the\n * API.\n *    apiData - the response from the API\n *    models - an array containing the files/folders to update\n */\n// Grab the ids affected from the apiData\n\nfunction updateModelsUsageRights(apiData, models) {\n  const affectedIds = apiData && apiData.file_ids; // Seperate the models array into a file group and a folder group.\n\n  const _$groupBy = underscore__WEBPACK_IMPORTED_MODULE_0___default.a.groupBy(models, item => {\n    if (item instanceof _backbone_models_File_coffee__WEBPACK_IMPORTED_MODULE_2__[\"default\"]) return 'files';\n    if (item instanceof _backbone_models_ModuleFile__WEBPACK_IMPORTED_MODULE_3__[\"default\"]) return 'files';\n    if (item instanceof _backbone_models_Folder__WEBPACK_IMPORTED_MODULE_1__[\"default\"]) return 'folders';\n  }),\n        files = _$groupBy.files,\n        folders = _$groupBy.folders; // We'll go ahead and update the files and remove the id from our list.\n\n\n  if (files) {\n    files.map((file, index) => {\n      const id = parseInt(file[file.idAttribute], 10);\n      const idx = affectedIds.indexOf(id);\n\n      if (affectedIds.includes(id)) {\n        file.set({\n          usage_rights: {\n            legal_copyright: apiData && apiData.legal_copyright,\n            license: apiData && apiData.license,\n            use_justification: apiData && apiData.use_justification,\n            own_copyright: apiData && apiData.own_copyright,\n            license_name: apiData && apiData.license_name\n          }\n        });\n        return affectedIds.splice(idx, 1);\n      }\n    });\n  }\n\n  if (affectedIds.length === 0) return; // Now that we have the files out of the way we can continue to the folders\n\n  if (folders) {\n    folders.forEach(folder => {\n      // Combine the models from the files and folders collection\n      const combinedCollection = folder.files.models.concat(folder.folders.models); // The function expects us to give it apiData with file ids, so we\n      // update it then give it back to the function recursively.\n\n      apiData.file_ids = affectedIds;\n      updateModelsUsageRights(apiData, combinedCollection);\n    });\n  }\n}\n\n//# sourceURL=webpack:///./ui/shared/files/util/updateModelsUsageRights.js?");

/***/ }),

/***/ "TjAh":
/*!*****************************************************!*\
  !*** ./ui/shared/files/jquery/codeToRemoveLater.js ***!
  \*****************************************************/
/*! exports provided: default */
/***/ (function(module, __webpack_exports__, __webpack_require__) {

"use strict";
eval("__webpack_require__.r(__webpack_exports__);\n/* harmony import */ var jquery__WEBPACK_IMPORTED_MODULE_0__ = __webpack_require__(/*! jquery */ \"ouhR\");\n/* harmony import */ var jquery__WEBPACK_IMPORTED_MODULE_0___default = /*#__PURE__*/__webpack_require__.n(jquery__WEBPACK_IMPORTED_MODULE_0__);\n/*\n * Copyright (C) 2015 - present Instructure, Inc.\n *\n * This file is part of Canvas.\n *\n * Canvas is free software: you can redistribute it and/or modify it under\n * the terms of the GNU Affero General Public License as published by the Free\n * Software Foundation, version 3 of the License.\n *\n * Canvas is distributed in the hope that it will be useful, but WITHOUT ANY\n * WARRANTY; without even the implied warranty of MERCHANTABILITY or FITNESS FOR\n * A PARTICULAR PURPOSE. See the GNU Affero General Public License for more\n * details.\n *\n * You should have received a copy of the GNU Affero General Public License along\n * with this program. If not, see <http://www.gnu.org/licenses/>.\n */\n\n/* This file contains code specific to weird edge cases that can be removed later. For instance, if you\n * are writing some weird code around something that is broken in Jaws, it can live here\n */\n\nconst codeToRemoveLater = {\n  hideFileTreeFromPreviewInJaws() {\n    jquery__WEBPACK_IMPORTED_MODULE_0___default()(\"aside ul[role='tree']\").attr('role', 'presentation');\n  },\n\n  revertJawsChangesBackToNormal() {\n    jquery__WEBPACK_IMPORTED_MODULE_0___default()(\"aside ul[role='presentation']\").attr('role', 'tree');\n  }\n\n};\n/* harmony default export */ __webpack_exports__[\"default\"] = (codeToRemoveLater);\n\n//# sourceURL=webpack:///./ui/shared/files/jquery/codeToRemoveLater.js?");

/***/ }),

/***/ "U6ji":
/*!*********************************************!*\
  !*** ./ui/features/files/openMoveDialog.js ***!
  \*********************************************/
/*! exports provided: default */
/***/ (function(module, __webpack_exports__, __webpack_require__) {

"use strict";
eval("__webpack_require__.r(__webpack_exports__);\n/* harmony import */ var underscore__WEBPACK_IMPORTED_MODULE_0__ = __webpack_require__(/*! underscore */ \"Y/W1\");\n/* harmony import */ var underscore__WEBPACK_IMPORTED_MODULE_0___default = /*#__PURE__*/__webpack_require__.n(underscore__WEBPACK_IMPORTED_MODULE_0__);\n/* harmony import */ var react__WEBPACK_IMPORTED_MODULE_1__ = __webpack_require__(/*! react */ \"q1tI\");\n/* harmony import */ var react__WEBPACK_IMPORTED_MODULE_1___default = /*#__PURE__*/__webpack_require__.n(react__WEBPACK_IMPORTED_MODULE_1__);\n/* harmony import */ var react_dom__WEBPACK_IMPORTED_MODULE_2__ = __webpack_require__(/*! react-dom */ \"i8i4\");\n/* harmony import */ var react_dom__WEBPACK_IMPORTED_MODULE_2___default = /*#__PURE__*/__webpack_require__.n(react_dom__WEBPACK_IMPORTED_MODULE_2__);\n/* harmony import */ var _react_components_MoveDialog__WEBPACK_IMPORTED_MODULE_3__ = __webpack_require__(/*! ./react/components/MoveDialog */ \"QMmc\");\n/* harmony import */ var _canvas_files_react_modules_filesEnv__WEBPACK_IMPORTED_MODULE_4__ = __webpack_require__(/*! @canvas/files/react/modules/filesEnv */ \"m452\");\n/* harmony import */ var jquery__WEBPACK_IMPORTED_MODULE_5__ = __webpack_require__(/*! jquery */ \"ouhR\");\n/* harmony import */ var jquery__WEBPACK_IMPORTED_MODULE_5___default = /*#__PURE__*/__webpack_require__.n(jquery__WEBPACK_IMPORTED_MODULE_5__);\n/*\n * Copyright (C) 2015 - present Instructure, Inc.\n *\n * This file is part of Canvas.\n *\n * Canvas is free software: you can redistribute it and/or modify it under\n * the terms of the GNU Affero General Public License as published by the Free\n * Software Foundation, version 3 of the License.\n *\n * Canvas is distributed in the hope that it will be useful, but WITHOUT ANY\n * WARRANTY; without even the implied warranty of MERCHANTABILITY or FITNESS FOR\n * A PARTICULAR PURPOSE. See the GNU Affero General Public License for more\n * details.\n *\n * You should have received a copy of the GNU Affero General Public License along\n * with this program. If not, see <http://www.gnu.org/licenses/>.\n */\n\n\n\n\n\n\n\nfunction openMoveDialog(thingsToMove, {\n  contextType,\n  contextId,\n  returnFocusTo,\n  clearSelectedItems,\n  onMove\n}) {\n  const rootFolderToShow = underscore__WEBPACK_IMPORTED_MODULE_0___default.a.find(_canvas_files_react_modules_filesEnv__WEBPACK_IMPORTED_MODULE_4__[\"default\"].rootFolders, folder => {\n    return `${folder.get('context_type').toLowerCase()}s` === contextType && String(folder.get('context_id')) === String(contextId);\n  });\n\n  const $moveDialog = jquery__WEBPACK_IMPORTED_MODULE_5___default()('<div>').appendTo(document.body);\n\n  const handleClose = () => {\n    react_dom__WEBPACK_IMPORTED_MODULE_2___default.a.unmountComponentAtNode($moveDialog[0]);\n    $moveDialog.remove();\n    jquery__WEBPACK_IMPORTED_MODULE_5___default()(returnFocusTo).focus();\n  };\n\n  const handleMove = models => {\n    onMove(models) && clearSelectedItems();\n  };\n\n  react_dom__WEBPACK_IMPORTED_MODULE_2___default.a.render( /*#__PURE__*/react__WEBPACK_IMPORTED_MODULE_1___default.a.createElement(_react_components_MoveDialog__WEBPACK_IMPORTED_MODULE_3__[\"default\"], {\n    thingsToMove: thingsToMove,\n    rootFoldersToShow: _canvas_files_react_modules_filesEnv__WEBPACK_IMPORTED_MODULE_4__[\"default\"].showingAllContexts ? _canvas_files_react_modules_filesEnv__WEBPACK_IMPORTED_MODULE_4__[\"default\"].rootFolders : [rootFolderToShow],\n    onClose: handleClose,\n    onMove: handleMove\n  }), $moveDialog[0]);\n}\n\n/* harmony default export */ __webpack_exports__[\"default\"] = (openMoveDialog);\n\n//# sourceURL=webpack:///./ui/features/files/openMoveDialog.js?");

/***/ }),

/***/ "UbSY":
/*!**********************************************************!*\
  !*** ./ui/features/files/react/components/FileUpload.js ***!
  \**********************************************************/
/*! exports provided: default */
/***/ (function(module, __webpack_exports__, __webpack_require__) {

"use strict";
eval("__webpack_require__.r(__webpack_exports__);\n/* harmony import */ var react__WEBPACK_IMPORTED_MODULE_0__ = __webpack_require__(/*! react */ \"q1tI\");\n/* harmony import */ var react__WEBPACK_IMPORTED_MODULE_0___default = /*#__PURE__*/__webpack_require__.n(react__WEBPACK_IMPORTED_MODULE_0__);\n/* harmony import */ var prop_types__WEBPACK_IMPORTED_MODULE_1__ = __webpack_require__(/*! prop-types */ \"17x9\");\n/* harmony import */ var prop_types__WEBPACK_IMPORTED_MODULE_1___default = /*#__PURE__*/__webpack_require__.n(prop_types__WEBPACK_IMPORTED_MODULE_1__);\n/* harmony import */ var classnames__WEBPACK_IMPORTED_MODULE_2__ = __webpack_require__(/*! classnames */ \"TSYQ\");\n/* harmony import */ var classnames__WEBPACK_IMPORTED_MODULE_2___default = /*#__PURE__*/__webpack_require__.n(classnames__WEBPACK_IMPORTED_MODULE_2__);\n/* harmony import */ var i18n_upload_drop_zone__WEBPACK_IMPORTED_MODULE_3__ = __webpack_require__(/*! i18n!upload_drop_zone */ \"IkBu\");\n/* harmony import */ var _instructure_ui_billboard__WEBPACK_IMPORTED_MODULE_4__ = __webpack_require__(/*! @instructure/ui-billboard */ \"CEBC\");\n/* harmony import */ var _instructure_ui_text__WEBPACK_IMPORTED_MODULE_5__ = __webpack_require__(/*! @instructure/ui-text */ \"iE3e\");\n/* harmony import */ var _instructure_ui_file_drop__WEBPACK_IMPORTED_MODULE_6__ = __webpack_require__(/*! @instructure/ui-file-drop */ \"PfNx\");\n/* harmony import */ var _instructure_ui_icons__WEBPACK_IMPORTED_MODULE_7__ = __webpack_require__(/*! @instructure/ui-icons */ \"oMAr\");\n/* harmony import */ var _canvas_files_react_modules_FileOptionsCollection__WEBPACK_IMPORTED_MODULE_8__ = __webpack_require__(/*! @canvas/files/react/modules/FileOptionsCollection */ \"MAjw\");\n/* harmony import */ var _canvas_files_backbone_models_Folder__WEBPACK_IMPORTED_MODULE_9__ = __webpack_require__(/*! @canvas/files/backbone/models/Folder */ \"3jyj\");\n/* harmony import */ var _canvas_rails_flash_notifications__WEBPACK_IMPORTED_MODULE_10__ = __webpack_require__(/*! @canvas/rails-flash-notifications */ \"r2Yr\");\n/* harmony import */ var _canvas_files_react_components_CurrentUploads__WEBPACK_IMPORTED_MODULE_11__ = __webpack_require__(/*! @canvas/files/react/components/CurrentUploads */ \"e2r+\");\n/*\n * Copyright (C) 2015 - present Instructure, Inc.\n *\n * This file is part of Canvas.\n *\n * Canvas is free software: you can redistribute it and/or modify it under\n * the terms of the GNU Affero General Public License as published by the Free\n * Software Foundation, version 3 of the License.\n *\n * Canvas is distributed in the hope that it will be useful, but WITHOUT ANY\n * WARRANTY; without even the implied warranty of MERCHANTABILITY or FITNESS FOR\n * A PARTICULAR PURPOSE. See the GNU Affero General Public License for more\n * details.\n *\n * You should have received a copy of the GNU Affero General Public License along\n * with this program. If not, see <http://www.gnu.org/licenses/>.\n */\n\n\n\n\n\n\n\n\n\n\n\n\n\nclass FileUpload extends react__WEBPACK_IMPORTED_MODULE_0___default.a.Component {\n  constructor(...args) {\n    super(...args);\n    this.state = {\n      isUploading: false,\n      isDragging: false\n    };\n\n    this.killWindowDrop = e => {\n      e.preventDefault();\n    };\n\n    this.getSurroundingBox = () => {\n      // Return a ref of the file container here because that\n      // gives a much more consistently sized container to start displaying\n      // the file upload overlay with\n      return this.props.filesDirectoryRef;\n    };\n\n    this.handleDragEnter = e => {\n      if (this.shouldAcceptDrop(e.dataTransfer)) {\n        e.dataTransfer.dropEffect = 'copy';\n        e.preventDefault();\n\n        if (!(this.state.isDragging || this.state.isUploading)) {\n          this.setState({\n            isDragging: true\n          });\n        }\n\n        return false;\n      } else {\n        return true;\n      }\n    };\n\n    this.handleDragLeave = e => {\n      const rect = this.getSurroundingBox().getBoundingClientRect();\n\n      if (e.clientY < rect.top || e.clientY >= rect.bottom || e.clientX < rect.left || e.clientX >= rect.right) {\n        this.setState({\n          isDragging: false\n        });\n      }\n    };\n\n    this.handleParentDrop = e => {\n      e.preventDefault();\n      e.stopPropagation();\n      this.handleDrop(e.dataTransfer.files);\n    };\n\n    this.handleDrop = files => {\n      this.setState({\n        isDragging: false\n      });\n      _canvas_files_react_modules_FileOptionsCollection__WEBPACK_IMPORTED_MODULE_8__[\"default\"].setFolder(this.props.currentFolder);\n      _canvas_files_react_modules_FileOptionsCollection__WEBPACK_IMPORTED_MODULE_8__[\"default\"].setOptionsFromFiles(files, true);\n    };\n\n    this.shouldAcceptDrop = dataTransfer => {\n      if (dataTransfer) {\n        return dataTransfer.types.includes('Files');\n      }\n    };\n\n    this.renderDropZone = () => {\n      const isDragging = this.state.isDragging;\n      const isEmpty = this.props.currentFolder.isEmpty();\n      return /*#__PURE__*/react__WEBPACK_IMPORTED_MODULE_0___default.a.createElement(_instructure_ui_file_drop__WEBPACK_IMPORTED_MODULE_6__[\"FileDrop\"], {\n        allowMultiple: true // Called when dropping files or when clicking,\n        // after the file dialog window exits successfully\n        ,\n        onDrop: this.handleDrop,\n        label: /*#__PURE__*/react__WEBPACK_IMPORTED_MODULE_0___default.a.createElement(_instructure_ui_billboard__WEBPACK_IMPORTED_MODULE_4__[\"Billboard\"], {\n          size: \"small\",\n          hero: /*#__PURE__*/react__WEBPACK_IMPORTED_MODULE_0___default.a.createElement(_instructure_ui_icons__WEBPACK_IMPORTED_MODULE_7__[\"IconUploadLine\"], {\n            color: isDragging ? `brand` : `primary`\n          }),\n          as: \"div\",\n          headingAs: \"span\",\n          headingLevel: \"h2\",\n          heading: i18n_upload_drop_zone__WEBPACK_IMPORTED_MODULE_3__[\"default\"].t('Drop files here to upload'),\n          message: isEmpty && /*#__PURE__*/react__WEBPACK_IMPORTED_MODULE_0___default.a.createElement(_instructure_ui_text__WEBPACK_IMPORTED_MODULE_5__[\"Text\"], {\n            color: \"brand\"\n          }, i18n_upload_drop_zone__WEBPACK_IMPORTED_MODULE_3__[\"default\"].t('or choose files'))\n        })\n      });\n    };\n\n    this.handleUploadChange = queueSize => {\n      this.setState({\n        isUploading: queueSize > 0\n      });\n    };\n  }\n\n  componentDidMount() {\n    this.getSurroundingBox().addEventListener('dragenter', this.handleDragEnter); // Capture dragleave events that occur outside of the window\n\n    document.addEventListener('dragleave', this.handleDragLeave);\n    document.addEventListener('dragenter', this.killWindowDrop);\n    document.addEventListener('dragover', this.killWindowDrop);\n    document.addEventListener('drop', this.killWindowDrop);\n  }\n\n  componentWillUnmount() {\n    this.getSurroundingBox().removeEventListener('dragenter', this.handleDragEnter);\n    document.removeEventListener('dragleave', this.handleDragLeave);\n    document.removeEventListener('dragenter', this.killWindowDrop);\n    document.removeEventListener('dragover', this.killWindowDrop);\n    document.removeEventListener('drop', this.killWindowDrop);\n  }\n\n  render() {\n    const _this$state = this.state,\n          isDragging = _this$state.isDragging,\n          isUploading = _this$state.isUploading;\n    const isEmptyFolder = this.props.currentFolder.isEmpty();\n    const classes = classnames__WEBPACK_IMPORTED_MODULE_2___default()({\n      FileUpload: true,\n      FileUpload__full: isEmptyFolder && !isDragging,\n      FileUpload__dragging: isDragging\n    });\n    return /*#__PURE__*/react__WEBPACK_IMPORTED_MODULE_0___default.a.createElement(react__WEBPACK_IMPORTED_MODULE_0___default.a.Fragment, null, isUploading || /*#__PURE__*/react__WEBPACK_IMPORTED_MODULE_0___default.a.createElement(\"div\", {\n      className: classes,\n      onDrop: this.handleParentDrop\n    }, this.renderDropZone()), /*#__PURE__*/react__WEBPACK_IMPORTED_MODULE_0___default.a.createElement(_canvas_files_react_components_CurrentUploads__WEBPACK_IMPORTED_MODULE_11__[\"default\"], {\n      onUploadChange: this.handleUploadChange\n    }));\n  }\n\n}\n\nFileUpload.displayName = 'FileUpload';\nFileUpload.propTypes = {\n  currentFolder: prop_types__WEBPACK_IMPORTED_MODULE_1___default.a.instanceOf(_canvas_files_backbone_models_Folder__WEBPACK_IMPORTED_MODULE_9__[\"default\"]),\n  filesDirectoryRef: prop_types__WEBPACK_IMPORTED_MODULE_1___default.a.oneOfType([prop_types__WEBPACK_IMPORTED_MODULE_1___default.a.func, prop_types__WEBPACK_IMPORTED_MODULE_1___default.a.shape({\n    current: prop_types__WEBPACK_IMPORTED_MODULE_1___default.a.elementType\n  })])\n};\n/* harmony default export */ __webpack_exports__[\"default\"] = (FileUpload);\n\n//# sourceURL=webpack:///./ui/features/files/react/components/FileUpload.js?");

/***/ }),

/***/ "VXGR":
/*!*****************************************************************!*\
  !*** ./ui/shared/files/backbone/collections/FilesCollection.js ***!
  \*****************************************************************/
/*! exports provided: default */
/***/ (function(module, __webpack_exports__, __webpack_require__) {

"use strict";
eval("__webpack_require__.r(__webpack_exports__);\n/* harmony export (binding) */ __webpack_require__.d(__webpack_exports__, \"default\", function() { return FilesCollection; });\n/* harmony import */ var _canvas_pagination_backbone_collections_PaginatedCollection_coffee__WEBPACK_IMPORTED_MODULE_0__ = __webpack_require__(/*! @canvas/pagination/backbone/collections/PaginatedCollection.coffee */ \"TnsN\");\n/* harmony import */ var underscore__WEBPACK_IMPORTED_MODULE_1__ = __webpack_require__(/*! underscore */ \"Y/W1\");\n/* harmony import */ var underscore__WEBPACK_IMPORTED_MODULE_1___default = /*#__PURE__*/__webpack_require__.n(underscore__WEBPACK_IMPORTED_MODULE_1__);\n/* harmony import */ var _models_File_coffee__WEBPACK_IMPORTED_MODULE_2__ = __webpack_require__(/*! ../models/File.coffee */ \"C8i9\");\n//\n// Copyright (C) 2012 - present Instructure, Inc.\n//\n// This file is part of Canvas.\n//\n// Canvas is free software: you can redistribute it and/or modify it under\n// the terms of the GNU Affero General Public License as published by the Free\n// Software Foundation, version 3 of the License.\n//\n// Canvas is distributed in the hope that it will be useful, but WITHOUT ANY\n// WARRANTY; without even the implied warranty of MERCHANTABILITY or FITNESS FOR\n// A PARTICULAR PURPOSE. See the GNU Affero General Public License for more\n// details.\n//\n// You should have received a copy of the GNU Affero General Public License along\n// with this program. If not, see <http://www.gnu.org/licenses/>.\n//\n\n\n\nclass FilesCollection extends _canvas_pagination_backbone_collections_PaginatedCollection_coffee__WEBPACK_IMPORTED_MODULE_0__[\"default\"] {\n  initialize() {\n    this.on('change:sort change:order', this.setQueryStringParams);\n    return super.initialize(...arguments);\n  }\n\n  fetch(options = {}) {\n    let res;\n    options.data = underscore__WEBPACK_IMPORTED_MODULE_1___default.a.extend({\n      content_types: this.parentFolder != null ? this.parentFolder.contentTypes : void 0\n    }, options.data || {});\n\n    if (this.parentFolder != null ? this.parentFolder.useVerifiers : void 0) {\n      options.data.use_verifiers = 1;\n    }\n\n    return res = super.fetch(options);\n  }\n\n  parse(response) {\n    if (response && this.parentFolder) {\n      const previewUrl = this.parentFolder.previewUrl();\n\n      underscore__WEBPACK_IMPORTED_MODULE_1___default.a.each(response, file => file.rce_preview_url = previewUrl ? previewUrl.replace('{{id}}', file.id.toString()) : file.url);\n    }\n\n    return super.parse(...arguments);\n  } // TODO: This is duplicate code from Folder.coffee, can we DRY?\n\n\n  setQueryStringParams() {\n    const newParams = {\n      include: ['user'],\n      per_page: 20,\n      sort: this.get('sort'),\n      order: this.get('order')\n    };\n    if (this.loadedAll) return;\n    const url = new URL(this.url);\n    const params = deparam(url.search);\n    url.search = $.param(underscore__WEBPACK_IMPORTED_MODULE_1___default.a.extend(params, newParams));\n    this.url = url.toString();\n    return this.reset();\n  }\n\n}\nFilesCollection.optionProperty('parentFolder');\nFilesCollection.prototype.model = _models_File_coffee__WEBPACK_IMPORTED_MODULE_2__[\"default\"];\n\n//# sourceURL=webpack:///./ui/shared/files/backbone/collections/FilesCollection.js?");

/***/ }),

/***/ "Vwmk":
/*!*******************************************************!*\
  !*** ./ui/shared/files/react/mixins/BackboneMixin.js ***!
  \*******************************************************/
/*! exports provided: default */
/***/ (function(module, __webpack_exports__, __webpack_require__) {

"use strict";
eval("__webpack_require__.r(__webpack_exports__);\n/* harmony export (binding) */ __webpack_require__.d(__webpack_exports__, \"default\", function() { return BackboneMixin; });\n/* harmony import */ var _canvas_backbone__WEBPACK_IMPORTED_MODULE_0__ = __webpack_require__(/*! @canvas/backbone */ \"mX+G\");\n/* harmony import */ var _canvas_backbone__WEBPACK_IMPORTED_MODULE_0___default = /*#__PURE__*/__webpack_require__.n(_canvas_backbone__WEBPACK_IMPORTED_MODULE_0__);\n/* harmony import */ var underscore__WEBPACK_IMPORTED_MODULE_1__ = __webpack_require__(/*! underscore */ \"Y/W1\");\n/* harmony import */ var underscore__WEBPACK_IMPORTED_MODULE_1___default = /*#__PURE__*/__webpack_require__.n(underscore__WEBPACK_IMPORTED_MODULE_1__);\n/*\n * Copyright (C) 2014 - present Instructure, Inc.\n *\n * This file is part of Canvas.\n *\n * Canvas is free software: you can redistribute it and/or modify it under\n * the terms of the GNU Affero General Public License as published by the Free\n * Software Foundation, version 3 of the License.\n *\n * Canvas is distributed in the hope that it will be useful, but WITHOUT ANY\n * WARRANTY; without even the implied warranty of MERCHANTABILITY or FITNESS FOR\n * A PARTICULAR PURPOSE. See the GNU Affero General Public License for more\n * details.\n *\n * You should have received a copy of the GNU Affero General Public License along\n * with this program. If not, see <http://www.gnu.org/licenses/>.\n */\n// this is just https://github.com/usepropeller/react.backbone but without the UMD wrapper.\n\n\nconst collectionBehavior = {\n  changeOptions: 'add remove reset sort',\n\n  updateScheduler(func) {\n    return underscore__WEBPACK_IMPORTED_MODULE_1___default.a.debounce(func, 0);\n  }\n\n};\nconst modelBehavior = {\n  changeOptions: 'change',\n  // note: if we debounce models too we can no longer use model attributes\n  // as properties to react controlled components due to https://github.com/facebook/react/issues/955\n  updateScheduler: underscore__WEBPACK_IMPORTED_MODULE_1___default.a.identity\n};\n\nfunction subscribe(component, modelOrCollection, customChangeOptions) {\n  if (!modelOrCollection) return;\n  const behavior = modelOrCollection instanceof _canvas_backbone__WEBPACK_IMPORTED_MODULE_0___default.a.Collection ? collectionBehavior : modelBehavior;\n  const triggerUpdate = behavior.updateScheduler(() => {\n    if (component.isMounted()) {\n      return (component.onModelChange || component.forceUpdate).call(component);\n    }\n  });\n  const changeOptions = customChangeOptions || component.changeOptions || behavior.changeOptions;\n  return modelOrCollection.on(changeOptions, triggerUpdate, component);\n}\n\nfunction unsubscribe(component, modelOrCollection) {\n  if (!modelOrCollection) return;\n  return modelOrCollection.off(null, null, component);\n}\n\nfunction BackboneMixin(optionsOrPropName, customChangeOptions) {\n  let modelOrCollection, propName;\n\n  if (typeof optionsOrPropName === 'object') {\n    customChangeOptions = optionsOrPropName.renderOn;\n    propName = optionsOrPropName.propName;\n    modelOrCollection = optionsOrPropName.modelOrCollection;\n  } else {\n    propName = optionsOrPropName;\n  }\n\n  if (!modelOrCollection) {\n    modelOrCollection = props => props[propName];\n  }\n\n  return {\n    componentDidMount() {\n      // Whenever there may be a change in the Backbone data, trigger a reconcile.\n      subscribe(this, modelOrCollection(this.props), customChangeOptions);\n    },\n\n    componentWillReceiveProps(nextProps) {\n      if (modelOrCollection(this.props) === modelOrCollection(nextProps)) return;\n      unsubscribe(this, modelOrCollection(this.props));\n      subscribe(this, modelOrCollection(nextProps), customChangeOptions);\n      if (typeof this.componentWillChangeModel === 'function') this.componentWillChangeModel();\n    },\n\n    componentDidUpdate(prevProps, prevState) {\n      if (modelOrCollection(this.props) === modelOrCollection(prevProps)) return;\n      if (typeof this.componentDidChangeModel === 'function') this.componentDidChangeModel();\n    },\n\n    componentWillUnmount() {\n      // Ensure that we clean up any dangling references when the component is destroyed.\n      unsubscribe(this, modelOrCollection(this.props));\n    }\n\n  };\n}\n\n//# sourceURL=webpack:///./ui/shared/files/react/mixins/BackboneMixin.js?");

/***/ }),

/***/ "WIG6":
/*!**************************************************************!*\
  !*** ./ui/shared/trays/react/ContentTypeExternalToolTray.js ***!
  \**************************************************************/
/*! exports provided: default */
/***/ (function(module, __webpack_exports__, __webpack_require__) {

"use strict";
eval("__webpack_require__.r(__webpack_exports__);\n/* harmony export (binding) */ __webpack_require__.d(__webpack_exports__, \"default\", function() { return ContentTypeExternalToolTray; });\n/* harmony import */ var react__WEBPACK_IMPORTED_MODULE_0__ = __webpack_require__(/*! react */ \"q1tI\");\n/* harmony import */ var react__WEBPACK_IMPORTED_MODULE_0___default = /*#__PURE__*/__webpack_require__.n(react__WEBPACK_IMPORTED_MODULE_0__);\n/* harmony import */ var prop_types__WEBPACK_IMPORTED_MODULE_1__ = __webpack_require__(/*! prop-types */ \"17x9\");\n/* harmony import */ var prop_types__WEBPACK_IMPORTED_MODULE_1___default = /*#__PURE__*/__webpack_require__.n(prop_types__WEBPACK_IMPORTED_MODULE_1__);\n/* harmony import */ var _Tray__WEBPACK_IMPORTED_MODULE_2__ = __webpack_require__(/*! ./Tray */ \"bJGz\");\n/* harmony import */ var jquery__WEBPACK_IMPORTED_MODULE_3__ = __webpack_require__(/*! jquery */ \"ouhR\");\n/* harmony import */ var jquery__WEBPACK_IMPORTED_MODULE_3___default = /*#__PURE__*/__webpack_require__.n(jquery__WEBPACK_IMPORTED_MODULE_3__);\n//\n// Copyright (C) 2019 - present Instructure, Inc.\n//\n// This file is part of Canvas.\n//\n// Canvas is free software: you can redistribute it and/or modify it under the\n// terms of the GNU Affero General Public License as published by the Free\n// Software Foundation, version 3 of the License.\n//\n// Canvas is distributed in the hope that it will be useful, but WITHOUT ANY\n// WARRANTY; without even the implied warranty of MERCHANTABILITY or FITNESS\n// FOR A PARTICULAR PURPOSE. See the GNU Affero General Public License for more\n// details.\n//\n// You should have received a copy of the GNU Affero General Public License\n// along with this program. If not, see <http://www.gnu.org/licenses/>.\n\n\n\n\nconst toolShape = Object(prop_types__WEBPACK_IMPORTED_MODULE_1__[\"shape\"])({\n  id: prop_types__WEBPACK_IMPORTED_MODULE_1__[\"string\"].isRequired,\n  title: prop_types__WEBPACK_IMPORTED_MODULE_1__[\"string\"].isRequired,\n  base_url: prop_types__WEBPACK_IMPORTED_MODULE_1__[\"string\"].isRequired,\n  icon_url: prop_types__WEBPACK_IMPORTED_MODULE_1__[\"string\"]\n});\nconst moduleShape = Object(prop_types__WEBPACK_IMPORTED_MODULE_1__[\"shape\"])({\n  id: prop_types__WEBPACK_IMPORTED_MODULE_1__[\"string\"].isRequired,\n  name: prop_types__WEBPACK_IMPORTED_MODULE_1__[\"string\"].isRequired\n});\nconst knownResourceTypes = ['assignment', 'assignment_group', 'audio', 'discussion_topic', 'document', 'image', 'module', 'quiz', 'page', 'video'];\nContentTypeExternalToolTray.propTypes = {\n  tool: toolShape,\n  placement: prop_types__WEBPACK_IMPORTED_MODULE_1__[\"string\"].isRequired,\n  acceptedResourceTypes: Object(prop_types__WEBPACK_IMPORTED_MODULE_1__[\"arrayOf\"])(Object(prop_types__WEBPACK_IMPORTED_MODULE_1__[\"oneOf\"])(knownResourceTypes)).isRequired,\n  targetResourceType: Object(prop_types__WEBPACK_IMPORTED_MODULE_1__[\"oneOf\"])(knownResourceTypes).isRequired,\n  allowItemSelection: prop_types__WEBPACK_IMPORTED_MODULE_1__[\"bool\"].isRequired,\n  selectableItems: Object(prop_types__WEBPACK_IMPORTED_MODULE_1__[\"arrayOf\"])(moduleShape).isRequired,\n  onDismiss: prop_types__WEBPACK_IMPORTED_MODULE_1__[\"func\"],\n  open: prop_types__WEBPACK_IMPORTED_MODULE_1__[\"bool\"]\n};\nfunction ContentTypeExternalToolTray({\n  tool,\n  placement,\n  acceptedResourceTypes,\n  targetResourceType,\n  allowItemSelection,\n  selectableItems,\n  onDismiss,\n  open\n}) {\n  const queryParams = {\n    com_instructure_course_accept_canvas_resource_types: acceptedResourceTypes,\n    com_instructure_course_canvas_resource_type: targetResourceType,\n    com_instructure_course_allow_canvas_resource_selection: allowItemSelection,\n    com_instructure_course_available_canvas_resources: selectableItems,\n    display: 'borderless',\n    placement\n  };\n  const prefix = (tool === null || tool === void 0 ? void 0 : tool.base_url.indexOf('?')) === -1 ? '?' : '&';\n  const iframeUrl = `${tool === null || tool === void 0 ? void 0 : tool.base_url}${prefix}${jquery__WEBPACK_IMPORTED_MODULE_3___default.a.param(queryParams)}`;\n  const title = tool ? tool.title : '';\n  return /*#__PURE__*/react__WEBPACK_IMPORTED_MODULE_0___default.a.createElement(_Tray__WEBPACK_IMPORTED_MODULE_2__[\"default\"], {\n    open: open,\n    label: title,\n    onDismiss: onDismiss,\n    placement: \"end\",\n    size: \"regular\",\n    padding: \"0\",\n    headerPadding: \"medium\"\n  }, /*#__PURE__*/react__WEBPACK_IMPORTED_MODULE_0___default.a.createElement(\"iframe\", {\n    style: {\n      border: 'none',\n      display: 'block',\n      width: '100%',\n      height: '100%'\n    },\n    \"data-testid\": \"ltiIframe\",\n    src: iframeUrl,\n    title: title,\n    \"data-lti-launch\": \"true\"\n  }));\n}\n\n//# sourceURL=webpack:///./ui/shared/trays/react/ContentTypeExternalToolTray.js?");

/***/ }),

/***/ "WZul":
/*!****************************************************************************!*\
  !*** ./frontend_build/i18n.js?file_status!./ui/shims/dummyI18nResource.js ***!
  \****************************************************************************/
/*! exports provided: default */
/***/ (function(module, __webpack_exports__, __webpack_require__) {

"use strict";
eval("__webpack_require__.r(__webpack_exports__);\n/* harmony import */ var _canvas_i18n_i18nObj__WEBPACK_IMPORTED_MODULE_0__ = __webpack_require__(/*! @canvas/i18n/i18nObj */ \"HGxv\");\n/* harmony import */ var translations_core_en__WEBPACK_IMPORTED_MODULE_1__ = __webpack_require__(/*! translations/_core_en */ \"0sPK\");\n\n    \n    \n    \n\n    /* harmony default export */ __webpack_exports__[\"default\"] = (_canvas_i18n_i18nObj__WEBPACK_IMPORTED_MODULE_0__[\"default\"].scoped('file_status'));\n  \n\n//# sourceURL=webpack:///./ui/shims/dummyI18nResource.js?./frontend_build/i18n.js?file_status");

/***/ }),

/***/ "WiTB":
/*!*****************************************************************************!*\
  !*** ./ui/shared/files/react/components/LegacyFilesystemObjectThumbnail.js ***!
  \*****************************************************************************/
/*! exports provided: default */
/***/ (function(module, __webpack_exports__, __webpack_require__) {

"use strict";
eval("__webpack_require__.r(__webpack_exports__);\n/* harmony import */ var _mixins_BackboneMixin__WEBPACK_IMPORTED_MODULE_0__ = __webpack_require__(/*! ../mixins/BackboneMixin */ \"Vwmk\");\n/* harmony import */ var _backbone_models_Folder__WEBPACK_IMPORTED_MODULE_1__ = __webpack_require__(/*! ../../backbone/models/Folder */ \"3jyj\");\n/* harmony import */ var _modules_customPropTypes__WEBPACK_IMPORTED_MODULE_2__ = __webpack_require__(/*! ../modules/customPropTypes */ \"Lg2F\");\n/*\n * Copyright (C) 2014 - present Instructure, Inc.\n *\n * This file is part of Canvas.\n *\n * Canvas is free software: you can redistribute it and/or modify it under\n * the terms of the GNU Affero General Public License as published by the Free\n * Software Foundation, version 3 of the License.\n *\n * Canvas is distributed in the hope that it will be useful, but WITHOUT ANY\n * WARRANTY; without even the implied warranty of MERCHANTABILITY or FITNESS FOR\n * A PARTICULAR PURPOSE. See the GNU Affero General Public License for more\n * details.\n *\n * You should have received a copy of the GNU Affero General Public License along\n * with this program. If not, see <http://www.gnu.org/licenses/>.\n */\n\n\n\n/* harmony default export */ __webpack_exports__[\"default\"] = ({\n  displayName: 'FilesystemObjectThumbnail',\n  propTypes: {\n    model: _modules_customPropTypes__WEBPACK_IMPORTED_MODULE_2__[\"default\"].filesystemObject\n  },\n  mixins: [Object(_mixins_BackboneMixin__WEBPACK_IMPORTED_MODULE_0__[\"default\"])('model')],\n\n  getInitialState() {\n    return {\n      thumbnail_url: this.props.model && this.props.model.get('thumbnail_url')\n    };\n  },\n\n  componentDidMount() {\n    // Set an interval to check for thumbnails\n    // if they don't currently exist (e.g. when\n    // a thumbnail is being generated but not\n    // immediately available after file upload)\n    const intervalMultiplier = 2.0;\n    let delay = 10000;\n    let attempts = 0;\n    const maxAttempts = 4;\n\n    const checkThumbnailTimeout = () => {\n      delay *= intervalMultiplier;\n      attempts++;\n      return setTimeout(() => {\n        this.checkForThumbnail(checkThumbnailTimeout);\n        if (attempts >= maxAttempts) return clearTimeout(checkThumbnailTimeout);\n        checkThumbnailTimeout();\n      }, delay);\n    };\n\n    checkThumbnailTimeout();\n  },\n\n  checkForThumbnail(timeout) {\n    if (this.state.thumbnail_url || this.props.model && this.props.model.attributes && this.props.model.attributes.locked_for_user || this.props.model instanceof _backbone_models_Folder__WEBPACK_IMPORTED_MODULE_1__[\"default\"] || this.props.model && this.props.model.get('content-type') && this.props.model.get('content-type').match('audio')) {\n      return;\n    }\n\n    if (this.props.model) return this.props.model.fetch({\n      success: (model, response, options) => setTimeout(() => {\n        if (response && response.thumbnail_url) {\n          this.setState({\n            thumbnail_url: response.thumbnail_url\n          });\n        }\n      }, 0),\n\n      error() {\n        return clearTimeout(timeout);\n      }\n\n    });\n  }\n\n});\n\n//# sourceURL=webpack:///./ui/shared/files/react/components/LegacyFilesystemObjectThumbnail.js?");

/***/ }),

/***/ "YPkD":
/*!***************************************************************!*\
  !*** ./ui/shared/files/react/components/UsageRightsDialog.js ***!
  \***************************************************************/
/*! exports provided: default */
/***/ (function(module, __webpack_exports__, __webpack_require__) {

"use strict";
eval("__webpack_require__.r(__webpack_exports__);\n/* harmony import */ var react__WEBPACK_IMPORTED_MODULE_0__ = __webpack_require__(/*! react */ \"q1tI\");\n/* harmony import */ var react__WEBPACK_IMPORTED_MODULE_0___default = /*#__PURE__*/__webpack_require__.n(react__WEBPACK_IMPORTED_MODULE_0__);\n/* harmony import */ var create_react_class__WEBPACK_IMPORTED_MODULE_1__ = __webpack_require__(/*! create-react-class */ \"fhzG\");\n/* harmony import */ var create_react_class__WEBPACK_IMPORTED_MODULE_1___default = /*#__PURE__*/__webpack_require__.n(create_react_class__WEBPACK_IMPORTED_MODULE_1__);\n/* harmony import */ var _LegacyUsageRightsDialog__WEBPACK_IMPORTED_MODULE_2__ = __webpack_require__(/*! ./LegacyUsageRightsDialog */ \"y6HF\");\n/* harmony import */ var i18n_usage_rights_modal__WEBPACK_IMPORTED_MODULE_3__ = __webpack_require__(/*! i18n!usage_rights_modal */ \"mFaB\");\n/* harmony import */ var _UsageRightsSelectBox__WEBPACK_IMPORTED_MODULE_4__ = __webpack_require__(/*! ./UsageRightsSelectBox */ \"e/fc\");\n/* harmony import */ var _RestrictedRadioButtons__WEBPACK_IMPORTED_MODULE_5__ = __webpack_require__(/*! ./RestrictedRadioButtons */ \"rRaX\");\n/* harmony import */ var _DialogPreview__WEBPACK_IMPORTED_MODULE_6__ = __webpack_require__(/*! ./DialogPreview */ \"dEqW\");\n/* harmony import */ var _backbone_models_Folder__WEBPACK_IMPORTED_MODULE_7__ = __webpack_require__(/*! ../../backbone/models/Folder */ \"3jyj\");\n/* harmony import */ var _instructure_ui_modal__WEBPACK_IMPORTED_MODULE_8__ = __webpack_require__(/*! @instructure/ui-modal */ \"7I2A\");\n/* harmony import */ var _instructure_ui_buttons__WEBPACK_IMPORTED_MODULE_9__ = __webpack_require__(/*! @instructure/ui-buttons */ \"K6WN\");\n/* harmony import */ var _instructure_ui_heading__WEBPACK_IMPORTED_MODULE_10__ = __webpack_require__(/*! @instructure/ui-heading */ \"nwNI\");\n/* harmony import */ var html_escape__WEBPACK_IMPORTED_MODULE_11__ = __webpack_require__(/*! html-escape */ \"gI0r\");\n/*\n * Copyright (C) 2015 - present Instructure, Inc.\n *\n * This file is part of Canvas.\n *\n * Canvas is free software: you can redistribute it and/or modify it under\n * the terms of the GNU Affero General Public License as published by the Free\n * Software Foundation, version 3 of the License.\n *\n * Canvas is distributed in the hope that it will be useful, but WITHOUT ANY\n * WARRANTY; without even the implied warranty of MERCHANTABILITY or FITNESS FOR\n * A PARTICULAR PURPOSE. See the GNU Affero General Public License for more\n * details.\n *\n * You should have received a copy of the GNU Affero General Public License along\n * with this program. If not, see <http://www.gnu.org/licenses/>.\n */\n\n\n\n\n\n\n\n\n\n\n\n\nconst MAX_FOLDERS_TO_SHOW = 2;\n\n_LegacyUsageRightsDialog__WEBPACK_IMPORTED_MODULE_2__[\"default\"].renderFileName = function () {\n  const textToShow = this.props.itemsToManage.length > 1 ? i18n_usage_rights_modal__WEBPACK_IMPORTED_MODULE_3__[\"default\"].t('%{items} items selected', {\n    items: this.props.itemsToManage.length\n  }) : this.props.itemsToManage[0].displayName();\n  return /*#__PURE__*/react__WEBPACK_IMPORTED_MODULE_0___default.a.createElement(\"span\", {\n    ref: e => this.fileName = e,\n    className: \"UsageRightsDialog__fileName\"\n  }, textToShow);\n};\n\n_LegacyUsageRightsDialog__WEBPACK_IMPORTED_MODULE_2__[\"default\"].renderFolderList = function (folders) {\n  if (folders.length) {\n    const foldersToShow = folders.slice(0, MAX_FOLDERS_TO_SHOW);\n    return /*#__PURE__*/react__WEBPACK_IMPORTED_MODULE_0___default.a.createElement(\"div\", null, /*#__PURE__*/react__WEBPACK_IMPORTED_MODULE_0___default.a.createElement(\"span\", null, i18n_usage_rights_modal__WEBPACK_IMPORTED_MODULE_3__[\"default\"].t('Usage rights will be set for all of the files contained in:')), /*#__PURE__*/react__WEBPACK_IMPORTED_MODULE_0___default.a.createElement(\"ul\", {\n      ref: e => this.folderBulletList = e,\n      className: \"UsageRightsDialog__folderBulletList\"\n    }, foldersToShow.map(item => /*#__PURE__*/react__WEBPACK_IMPORTED_MODULE_0___default.a.createElement(\"li\", {\n      key: item.cid\n    }, item.displayName()))));\n  } else {\n    return null;\n  }\n};\n\n_LegacyUsageRightsDialog__WEBPACK_IMPORTED_MODULE_2__[\"default\"].renderFolderTooltip = function (folders) {\n  const toolTipFolders = folders.slice(MAX_FOLDERS_TO_SHOW);\n\n  if (toolTipFolders.length) {\n    const renderItems = toolTipFolders.map(item => ({\n      cid: item.cid,\n      displayName: Object(html_escape__WEBPACK_IMPORTED_MODULE_11__[\"default\"])(item.displayName()).toString()\n    })); // Doing it this way so commas, don't show up when rendering the list out in the tooltip.\n\n    const renderedNames = renderItems.map(item => item.displayName).join('<br />');\n    return /*#__PURE__*/react__WEBPACK_IMPORTED_MODULE_0___default.a.createElement(\"span\", {\n      className: \"UsageRightsDialog__andMore\",\n      tabIndex: \"0\",\n      ref: e => this.folderTooltip = e,\n      \"data-html-tooltip-title\": renderedNames,\n      \"data-tooltip\": \"right\",\n      \"data-tooltip-class\": \"UsageRightsDialog__tooltip\"\n    }, i18n_usage_rights_modal__WEBPACK_IMPORTED_MODULE_3__[\"default\"].t('and %{count} more…', {\n      count: toolTipFolders.length\n    }), /*#__PURE__*/react__WEBPACK_IMPORTED_MODULE_0___default.a.createElement(\"span\", {\n      className: \"screenreader-only\"\n    }, /*#__PURE__*/react__WEBPACK_IMPORTED_MODULE_0___default.a.createElement(\"ul\", null, renderItems.map((item, i) => /*#__PURE__*/react__WEBPACK_IMPORTED_MODULE_0___default.a.createElement(\"li\", {\n      key: item.cid,\n      ref: e => this[`displayNameTooltip${i}-screenreader`] = e\n    }, ' ', item.displayName)))));\n  } else {\n    return null;\n  }\n};\n\n_LegacyUsageRightsDialog__WEBPACK_IMPORTED_MODULE_2__[\"default\"].renderFolderMessage = function () {\n  const folders = this.props.itemsToManage.filter(item => item instanceof _backbone_models_Folder__WEBPACK_IMPORTED_MODULE_7__[\"default\"]);\n  return /*#__PURE__*/react__WEBPACK_IMPORTED_MODULE_0___default.a.createElement(\"div\", null, this.renderFolderList(folders), this.renderFolderTooltip(folders), /*#__PURE__*/react__WEBPACK_IMPORTED_MODULE_0___default.a.createElement(\"hr\", {\n    \"aria-hidden\": \"true\"\n  }));\n};\n\n_LegacyUsageRightsDialog__WEBPACK_IMPORTED_MODULE_2__[\"default\"].renderDifferentRightsMessage = function () {\n  if ((this.copyright == null || this.use_justification === 'choose') && this.props.itemsToManage.length > 1) {\n    return /*#__PURE__*/react__WEBPACK_IMPORTED_MODULE_0___default.a.createElement(\"span\", {\n      ref: e => this.differentRightsMessage = e,\n      className: \"UsageRightsDialog__differentRightsMessage alert\"\n    }, /*#__PURE__*/react__WEBPACK_IMPORTED_MODULE_0___default.a.createElement(\"i\", {\n      className: \"icon-warning UsageRightsDialog__warning\"\n    }), i18n_usage_rights_modal__WEBPACK_IMPORTED_MODULE_3__[\"default\"].t('Items selected have different usage rights.'));\n  }\n};\n\n_LegacyUsageRightsDialog__WEBPACK_IMPORTED_MODULE_2__[\"default\"].renderAccessManagement = function () {\n  if (this.props.userCanRestrictFilesForContext) {\n    return /*#__PURE__*/react__WEBPACK_IMPORTED_MODULE_0___default.a.createElement(\"div\", null, /*#__PURE__*/react__WEBPACK_IMPORTED_MODULE_0___default.a.createElement(\"hr\", {\n      \"aria-hidden\": \"true\"\n    }), /*#__PURE__*/react__WEBPACK_IMPORTED_MODULE_0___default.a.createElement(\"div\", {\n      className: \"form-horizontal\"\n    }, /*#__PURE__*/react__WEBPACK_IMPORTED_MODULE_0___default.a.createElement(\"p\", {\n      className: \"manage-access\"\n    }, i18n_usage_rights_modal__WEBPACK_IMPORTED_MODULE_3__[\"default\"].t('You can also manage access at this time:')), /*#__PURE__*/react__WEBPACK_IMPORTED_MODULE_0___default.a.createElement(_RestrictedRadioButtons__WEBPACK_IMPORTED_MODULE_5__[\"default\"], {\n      ref: e => this.restrictedSelection = e,\n      models: this.props.itemsToManage\n    })));\n  }\n};\n\n_LegacyUsageRightsDialog__WEBPACK_IMPORTED_MODULE_2__[\"default\"].render = function () {\n  return /*#__PURE__*/react__WEBPACK_IMPORTED_MODULE_0___default.a.createElement(_instructure_ui_modal__WEBPACK_IMPORTED_MODULE_8__[\"Modal\"], {\n    ref: e => this.usageRightsDialog = e,\n    open: this.props.isOpen,\n    onDismiss: this.props.closeModal,\n    label: i18n_usage_rights_modal__WEBPACK_IMPORTED_MODULE_3__[\"default\"].t('Manage Usage Rights'),\n    shouldCloseOnDocumentClick: false // otherwise clicking in the datepicker will dismiss the modal underneath it\n\n  }, /*#__PURE__*/react__WEBPACK_IMPORTED_MODULE_0___default.a.createElement(_instructure_ui_modal__WEBPACK_IMPORTED_MODULE_8__[\"Modal\"].Header, null, /*#__PURE__*/react__WEBPACK_IMPORTED_MODULE_0___default.a.createElement(_instructure_ui_buttons__WEBPACK_IMPORTED_MODULE_9__[\"CloseButton\"], {\n    buttonRef: e => this.cancelXButton = e,\n    className: \"Button Button--icon-action\",\n    placement: \"end\",\n    offset: \"medium\",\n    variant: \"icon\",\n    onClick: this.props.closeModal\n  }, i18n_usage_rights_modal__WEBPACK_IMPORTED_MODULE_3__[\"default\"].t('Close')), /*#__PURE__*/react__WEBPACK_IMPORTED_MODULE_0___default.a.createElement(_instructure_ui_heading__WEBPACK_IMPORTED_MODULE_10__[\"Heading\"], {\n    level: \"h4\"\n  }, i18n_usage_rights_modal__WEBPACK_IMPORTED_MODULE_3__[\"default\"].t('Manage Usage Rights'))), /*#__PURE__*/react__WEBPACK_IMPORTED_MODULE_0___default.a.createElement(_instructure_ui_modal__WEBPACK_IMPORTED_MODULE_8__[\"Modal\"].Body, null, /*#__PURE__*/react__WEBPACK_IMPORTED_MODULE_0___default.a.createElement(\"div\", {\n    ref: e => this.form = e,\n    className: \"UsageRightsDialog__Content\"\n  }, /*#__PURE__*/react__WEBPACK_IMPORTED_MODULE_0___default.a.createElement(\"div\", null, /*#__PURE__*/react__WEBPACK_IMPORTED_MODULE_0___default.a.createElement(\"div\", {\n    className: \"UsageRightsDialog__paddingFix grid-row\"\n  }, !this.props.hidePreview && /*#__PURE__*/react__WEBPACK_IMPORTED_MODULE_0___default.a.createElement(\"div\", {\n    className: \"UsageRightsDialog__previewColumn col-xs-3\"\n  }, /*#__PURE__*/react__WEBPACK_IMPORTED_MODULE_0___default.a.createElement(_DialogPreview__WEBPACK_IMPORTED_MODULE_6__[\"default\"], {\n    itemsToShow: this.props.itemsToManage\n  })), /*#__PURE__*/react__WEBPACK_IMPORTED_MODULE_0___default.a.createElement(\"div\", {\n    className: \"UsageRightsDialog__contentColumn off-xs-1 col-xs-8\"\n  }, this.renderDifferentRightsMessage(), this.renderFileName(), this.renderFolderMessage(), /*#__PURE__*/react__WEBPACK_IMPORTED_MODULE_0___default.a.createElement(_UsageRightsSelectBox__WEBPACK_IMPORTED_MODULE_4__[\"default\"], {\n    ref: e => this.usageSelection = e,\n    use_justification: this.use_justification,\n    copyright: this.copyright || '',\n    cc_value: this.cc_value,\n    contextType: this.props.contextType,\n    contextId: this.props.contextId\n  }), this.renderAccessManagement()))))), /*#__PURE__*/react__WEBPACK_IMPORTED_MODULE_0___default.a.createElement(_instructure_ui_modal__WEBPACK_IMPORTED_MODULE_8__[\"Modal\"].Footer, null, /*#__PURE__*/react__WEBPACK_IMPORTED_MODULE_0___default.a.createElement(\"span\", {\n    className: \"UsageRightsDialog__Footer-Actions\"\n  }, /*#__PURE__*/react__WEBPACK_IMPORTED_MODULE_0___default.a.createElement(_instructure_ui_buttons__WEBPACK_IMPORTED_MODULE_9__[\"Button\"], {\n    buttonRef: e => this.cancelButton = e,\n    onClick: this.props.closeModal\n  }, i18n_usage_rights_modal__WEBPACK_IMPORTED_MODULE_3__[\"default\"].t('Cancel')), \"\\xA0\", /*#__PURE__*/react__WEBPACK_IMPORTED_MODULE_0___default.a.createElement(_instructure_ui_buttons__WEBPACK_IMPORTED_MODULE_9__[\"Button\"], {\n    buttonRef: e => this.saveButton = e,\n    variant: \"primary\",\n    type: \"submit\",\n    onClick: () => this.submit(this.props.deferSave)\n  }, i18n_usage_rights_modal__WEBPACK_IMPORTED_MODULE_3__[\"default\"].t('Save')))));\n};\n\n/* harmony default export */ __webpack_exports__[\"default\"] = (create_react_class__WEBPACK_IMPORTED_MODULE_1___default()(_LegacyUsageRightsDialog__WEBPACK_IMPORTED_MODULE_2__[\"default\"]));\n\n//# sourceURL=webpack:///./ui/shared/files/react/components/UsageRightsDialog.js?");

/***/ }),

/***/ "ZDrK":
/*!*****************************************************************!*\
  !*** ./ui/shared/datetime/react/components/FriendlyDatetime.js ***!
  \*****************************************************************/
/*! exports provided: default */
/***/ (function(module, __webpack_exports__, __webpack_require__) {

"use strict";
eval("__webpack_require__.r(__webpack_exports__);\n/* harmony import */ var _babel_runtime_helpers_esm_objectSpread2__WEBPACK_IMPORTED_MODULE_0__ = __webpack_require__(/*! @babel/runtime/helpers/esm/objectSpread2 */ \"VTBJ\");\n/* harmony import */ var _babel_runtime_helpers_esm_objectWithoutProperties__WEBPACK_IMPORTED_MODULE_1__ = __webpack_require__(/*! @babel/runtime/helpers/esm/objectWithoutProperties */ \"Ff2n\");\n/* harmony import */ var react__WEBPACK_IMPORTED_MODULE_2__ = __webpack_require__(/*! react */ \"q1tI\");\n/* harmony import */ var react__WEBPACK_IMPORTED_MODULE_2___default = /*#__PURE__*/__webpack_require__.n(react__WEBPACK_IMPORTED_MODULE_2__);\n/* harmony import */ var prop_types__WEBPACK_IMPORTED_MODULE_3__ = __webpack_require__(/*! prop-types */ \"17x9\");\n/* harmony import */ var prop_types__WEBPACK_IMPORTED_MODULE_3___default = /*#__PURE__*/__webpack_require__.n(prop_types__WEBPACK_IMPORTED_MODULE_3__);\n/* harmony import */ var _canvas_timezone__WEBPACK_IMPORTED_MODULE_4__ = __webpack_require__(/*! @canvas/timezone */ \"3H9/\");\n/* harmony import */ var underscore__WEBPACK_IMPORTED_MODULE_5__ = __webpack_require__(/*! underscore */ \"Y/W1\");\n/* harmony import */ var underscore__WEBPACK_IMPORTED_MODULE_5___default = /*#__PURE__*/__webpack_require__.n(underscore__WEBPACK_IMPORTED_MODULE_5__);\n/* harmony import */ var jquery__WEBPACK_IMPORTED_MODULE_6__ = __webpack_require__(/*! jquery */ \"ouhR\");\n/* harmony import */ var jquery__WEBPACK_IMPORTED_MODULE_6___default = /*#__PURE__*/__webpack_require__.n(jquery__WEBPACK_IMPORTED_MODULE_6__);\n/* harmony import */ var _jquery_index__WEBPACK_IMPORTED_MODULE_7__ = __webpack_require__(/*! ../../jquery/index */ \"7svE\");\n/* harmony import */ var _instructure_ui_a11y_content__WEBPACK_IMPORTED_MODULE_8__ = __webpack_require__(/*! @instructure/ui-a11y-content */ \"9+/z\");\n\n\nconst _excluded = [\"showTime\"];\n\n/*\n * Copyright (C) 2015 - present Instructure, Inc.\n *\n * This file is part of Canvas.\n *\n * Canvas is free software: you can redistribute it and/or modify it under\n * the terms of the GNU Affero General Public License as published by the Free\n * Software Foundation, version 3 of the License.\n *\n * Canvas is distributed in the hope that it will be useful, but WITHOUT ANY\n * WARRANTY; without even the implied warranty of MERCHANTABILITY or FITNESS FOR\n * A PARTICULAR PURPOSE. See the GNU Affero General Public License for more\n * details.\n *\n * You should have received a copy of the GNU Affero General Public License along\n * with this program. If not, see <http://www.gnu.org/licenses/>.\n */\n\n\n\n\n\n\n\n\nclass FriendlyDatetime extends react__WEBPACK_IMPORTED_MODULE_2__[\"Component\"] {\n  constructor(...args) {\n    super(...args);\n    this.render = underscore__WEBPACK_IMPORTED_MODULE_5___default.a.memoize(() => {\n      // Separate props not used by the `time` element\n      const _this$props = this.props,\n            showTime = _this$props.showTime,\n            timeElementProps = Object(_babel_runtime_helpers_esm_objectWithoutProperties__WEBPACK_IMPORTED_MODULE_1__[\"default\"])(_this$props, _excluded);\n\n      let datetime = this.props.dateTime;\n\n      if (!datetime) {\n        return /*#__PURE__*/react__WEBPACK_IMPORTED_MODULE_2___default.a.createElement(\"time\", null);\n      }\n\n      if (!underscore__WEBPACK_IMPORTED_MODULE_5___default.a.isDate(datetime)) {\n        datetime = _canvas_timezone__WEBPACK_IMPORTED_MODULE_4__[\"default\"].parse(datetime);\n      }\n\n      const fudged = jquery__WEBPACK_IMPORTED_MODULE_6___default.a.fudgeDateForProfileTimezone(datetime);\n      let friendly;\n\n      if (this.props.format) {\n        friendly = _canvas_timezone__WEBPACK_IMPORTED_MODULE_4__[\"default\"].format(datetime, this.props.format);\n      } else if (showTime) {\n        friendly = jquery__WEBPACK_IMPORTED_MODULE_6___default.a.datetimeString(datetime);\n      } else {\n        friendly = jquery__WEBPACK_IMPORTED_MODULE_6___default.a.friendlyDatetime(fudged);\n      }\n\n      const timeProps = Object(_babel_runtime_helpers_esm_objectSpread2__WEBPACK_IMPORTED_MODULE_0__[\"default\"])(Object(_babel_runtime_helpers_esm_objectSpread2__WEBPACK_IMPORTED_MODULE_0__[\"default\"])({}, timeElementProps), {}, {\n        title: jquery__WEBPACK_IMPORTED_MODULE_6___default.a.datetimeString(datetime),\n        dateTime: datetime.toISOString()\n      });\n\n      let fixedPrefix = this.props.prefix;\n\n      if (fixedPrefix && !fixedPrefix.endsWith(' ')) {\n        fixedPrefix += ' ';\n      }\n\n      let fixedPrefixMobile = this.props.prefixMobile;\n\n      if (fixedPrefixMobile && !fixedPrefixMobile.endsWith(' ')) {\n        fixedPrefixMobile += ' ';\n      }\n\n      return /*#__PURE__*/react__WEBPACK_IMPORTED_MODULE_2___default.a.createElement(\"span\", {\n        \"data-testid\": \"friendly-date-time\"\n      }, /*#__PURE__*/react__WEBPACK_IMPORTED_MODULE_2___default.a.createElement(_instructure_ui_a11y_content__WEBPACK_IMPORTED_MODULE_8__[\"ScreenReaderContent\"], null, fixedPrefix + friendly), /*#__PURE__*/react__WEBPACK_IMPORTED_MODULE_2___default.a.createElement(\"time\", Object.assign({}, timeProps, {\n        ref: c => {\n          this.time = c;\n        },\n        \"aria-hidden\": \"true\"\n      }), /*#__PURE__*/react__WEBPACK_IMPORTED_MODULE_2___default.a.createElement(\"span\", {\n        className: \"visible-desktop\"\n      }, fixedPrefix + friendly), /*#__PURE__*/react__WEBPACK_IMPORTED_MODULE_2___default.a.createElement(\"span\", {\n        className: \"hidden-desktop\"\n      }, (fixedPrefixMobile || '') + fudged.toLocaleDateString())));\n    }, () => this.props.dateTime);\n  }\n\n}\n\nFriendlyDatetime.propTypes = {\n  dateTime: prop_types__WEBPACK_IMPORTED_MODULE_3___default.a.oneOfType([prop_types__WEBPACK_IMPORTED_MODULE_3___default.a.string, prop_types__WEBPACK_IMPORTED_MODULE_3___default.a.instanceOf(Date)]).isRequired,\n  format: prop_types__WEBPACK_IMPORTED_MODULE_3___default.a.string,\n  prefix: prop_types__WEBPACK_IMPORTED_MODULE_3___default.a.string,\n  prefixMobile: prop_types__WEBPACK_IMPORTED_MODULE_3___default.a.string,\n  showTime: prop_types__WEBPACK_IMPORTED_MODULE_3___default.a.bool\n};\nFriendlyDatetime.defaultProps = {\n  format: null,\n  prefix: '',\n  prefixMobile: null,\n  showTime: false\n};\n/* harmony default export */ __webpack_exports__[\"default\"] = (FriendlyDatetime);\n\n//# sourceURL=webpack:///./ui/shared/datetime/react/components/FriendlyDatetime.js?");

/***/ }),

/***/ "ZfIV":
/*!************************************************************!*\
  !*** ./ui/shared/files/react/components/UploadProgress.js ***!
  \************************************************************/
/*! exports provided: default */
/***/ (function(module, __webpack_exports__, __webpack_require__) {

"use strict";
eval("__webpack_require__.r(__webpack_exports__);\n/* harmony import */ var react__WEBPACK_IMPORTED_MODULE_0__ = __webpack_require__(/*! react */ \"q1tI\");\n/* harmony import */ var react__WEBPACK_IMPORTED_MODULE_0___default = /*#__PURE__*/__webpack_require__.n(react__WEBPACK_IMPORTED_MODULE_0__);\n/* harmony import */ var prop_types__WEBPACK_IMPORTED_MODULE_1__ = __webpack_require__(/*! prop-types */ \"17x9\");\n/* harmony import */ var prop_types__WEBPACK_IMPORTED_MODULE_1___default = /*#__PURE__*/__webpack_require__.n(prop_types__WEBPACK_IMPORTED_MODULE_1__);\n/* harmony import */ var i18n_files_upload_progress__WEBPACK_IMPORTED_MODULE_2__ = __webpack_require__(/*! i18n!files_upload_progress */ \"FO65\");\n/* harmony import */ var classnames__WEBPACK_IMPORTED_MODULE_3__ = __webpack_require__(/*! classnames */ \"TSYQ\");\n/* harmony import */ var classnames__WEBPACK_IMPORTED_MODULE_3___default = /*#__PURE__*/__webpack_require__.n(classnames__WEBPACK_IMPORTED_MODULE_3__);\n/* harmony import */ var _canvas_progress_react_components_ProgressBar__WEBPACK_IMPORTED_MODULE_4__ = __webpack_require__(/*! @canvas/progress/react/components/ProgressBar */ \"9Qmj\");\n/* harmony import */ var _canvas_mime_mimeClass__WEBPACK_IMPORTED_MODULE_5__ = __webpack_require__(/*! @canvas/mime/mimeClass */ \"scx4\");\n/* harmony import */ var _modules_UploadQueue__WEBPACK_IMPORTED_MODULE_6__ = __webpack_require__(/*! ../modules/UploadQueue */ \"hlSq\");\n/* harmony import */ var _canvas_alerts_react_FlashAlert__WEBPACK_IMPORTED_MODULE_7__ = __webpack_require__(/*! @canvas/alerts/react/FlashAlert */ \"uloQ\");\n/*\n * Copyright (C) 2015 - present Instructure, Inc.\n *\n * This file is part of Canvas.\n *\n * Canvas is free software: you can redistribute it and/or modify it under\n * the terms of the GNU Affero General Public License as published by the Free\n * Software Foundation, version 3 of the License.\n *\n * Canvas is distributed in the hope that it will be useful, but WITHOUT ANY\n * WARRANTY; without even the implied warranty of MERCHANTABILITY or FITNESS FOR\n * A PARTICULAR PURPOSE. See the GNU Affero General Public License for more\n * details.\n *\n * You should have received a copy of the GNU Affero General Public License along\n * with this program. If not, see <http://www.gnu.org/licenses/>.\n */\n\n\n\n\n\n\n\n\n\nclass UploadProgress extends react__WEBPACK_IMPORTED_MODULE_0___default.a.Component {\n  constructor(props) {\n    super(props);\n    this.state = {\n      progress: 0,\n      messages: {}\n    };\n    this.resetProgress = this.resetProgress.bind(this);\n  }\n\n  componentDidMount() {\n    const newProgress = this.props.uploader.roundProgress();\n\n    if (this.state.progress !== newProgress) {\n      return this.sendProgressUpdate(newProgress);\n    }\n  }\n\n  UNSAFE_componentWillReceiveProps(nextProps) {\n    const newProgress = nextProps.uploader.roundProgress();\n\n    if (this.state.progress !== newProgress) {\n      return this.sendProgressUpdate(newProgress);\n    }\n  }\n\n  componentWillUnmount() {\n    return this.sendProgressUpdate(this.state.progress);\n  }\n\n  sendProgressUpdate(progress) {\n    // Track which status updates have been sent to prevent duplicate messages\n    const messages = this.state.messages;\n\n    if (!(progress in messages)) {\n      const fileName = this.props.uploader.getFileName();\n      const message = progress < 100 ? i18n_files_upload_progress__WEBPACK_IMPORTED_MODULE_2__[\"default\"].t('%{fileName} - %{progress} percent uploaded', {\n        fileName,\n        progress\n      }) : i18n_files_upload_progress__WEBPACK_IMPORTED_MODULE_2__[\"default\"].t('%{fileName} uploaded successfully!', {\n        fileName\n      });\n      Object(_canvas_alerts_react_FlashAlert__WEBPACK_IMPORTED_MODULE_7__[\"showFlashAlert\"])({\n        message,\n        err: null,\n        type: 'info',\n        srOnly: true\n      });\n      messages[progress] = true;\n      this.setState({\n        messages,\n        progress\n      });\n    }\n  }\n\n  resetProgress() {\n    this.setState({\n      messages: {},\n      progress: 0\n    });\n  }\n\n  renderProgressBar() {\n    if (this.props.uploader.error) {\n      const errorMessage = this.props.uploader.error.message ? i18n_files_upload_progress__WEBPACK_IMPORTED_MODULE_2__[\"default\"].t('Error: %{message}', {\n        message: this.props.uploader.error.message\n      }) : i18n_files_upload_progress__WEBPACK_IMPORTED_MODULE_2__[\"default\"].t('Error uploading file.');\n      Object(_canvas_alerts_react_FlashAlert__WEBPACK_IMPORTED_MODULE_7__[\"showFlashAlert\"])({\n        message: errorMessage,\n        type: 'error',\n        srOnly: true\n      });\n      return /*#__PURE__*/react__WEBPACK_IMPORTED_MODULE_0___default.a.createElement(\"span\", null, errorMessage, /*#__PURE__*/react__WEBPACK_IMPORTED_MODULE_0___default.a.createElement(\"button\", {\n        type: \"button\",\n        className: \"btn-link\",\n        onClick: () => {\n          this.resetProgress();\n          _modules_UploadQueue__WEBPACK_IMPORTED_MODULE_6__[\"default\"].attemptThisUpload(this.props.uploader);\n        }\n      }, i18n_files_upload_progress__WEBPACK_IMPORTED_MODULE_2__[\"default\"].t('Retry')));\n    } else {\n      return /*#__PURE__*/react__WEBPACK_IMPORTED_MODULE_0___default.a.createElement(_canvas_progress_react_components_ProgressBar__WEBPACK_IMPORTED_MODULE_4__[\"default\"], {\n        progress: this.props.uploader.roundProgress()\n      });\n    }\n  }\n\n  render() {\n    const rowClassNames = classnames__WEBPACK_IMPORTED_MODULE_3___default()({\n      'ef-item-row': true,\n      'text-error': this.props.uploader.error\n    });\n    return /*#__PURE__*/react__WEBPACK_IMPORTED_MODULE_0___default.a.createElement(\"div\", {\n      className: rowClassNames\n    }, /*#__PURE__*/react__WEBPACK_IMPORTED_MODULE_0___default.a.createElement(\"div\", {\n      className: \"col-xs-6\"\n    }, /*#__PURE__*/react__WEBPACK_IMPORTED_MODULE_0___default.a.createElement(\"div\", {\n      className: \"media ellipsis\"\n    }, /*#__PURE__*/react__WEBPACK_IMPORTED_MODULE_0___default.a.createElement(\"span\", {\n      className: \"pull-left\"\n    }, /*#__PURE__*/react__WEBPACK_IMPORTED_MODULE_0___default.a.createElement(\"i\", {\n      className: `media-object mimeClass-${Object(_canvas_mime_mimeClass__WEBPACK_IMPORTED_MODULE_5__[\"default\"])(this.props.uploader.getFileType())}`\n    })), /*#__PURE__*/react__WEBPACK_IMPORTED_MODULE_0___default.a.createElement(\"span\", {\n      className: \"media-body\"\n    }, this.props.uploader.getFileName()))), /*#__PURE__*/react__WEBPACK_IMPORTED_MODULE_0___default.a.createElement(\"div\", {\n      className: \"col-xs-5\"\n    }, this.renderProgressBar()), this.props.uploader.canAbort() && /*#__PURE__*/react__WEBPACK_IMPORTED_MODULE_0___default.a.createElement(\"button\", {\n      type: \"button\",\n      onClick: this.props.uploader.cancel,\n      \"aria-label\": i18n_files_upload_progress__WEBPACK_IMPORTED_MODULE_2__[\"default\"].t('Cancel'),\n      className: \"btn-link upload-progress-view__button\"\n    }, \"x\"));\n  }\n\n}\n\nUploadProgress.propTypes = {\n  uploader: Object(prop_types__WEBPACK_IMPORTED_MODULE_1__[\"shape\"])({\n    getFileName: prop_types__WEBPACK_IMPORTED_MODULE_1__[\"func\"].isRequired,\n    roundProgress: prop_types__WEBPACK_IMPORTED_MODULE_1__[\"func\"].isRequired,\n    abort: prop_types__WEBPACK_IMPORTED_MODULE_1__[\"func\"].isRequired,\n    file: Object(prop_types__WEBPACK_IMPORTED_MODULE_1__[\"instanceOf\"])(File).isRequired,\n    canAbort: prop_types__WEBPACK_IMPORTED_MODULE_1__[\"func\"].isRequired\n  })\n};\n/* harmony default export */ __webpack_exports__[\"default\"] = (UploadProgress);\n\n//# sourceURL=webpack:///./ui/shared/files/react/components/UploadProgress.js?");

/***/ }),

/***/ "aq4X":
/*!*****************************************************************************!*\
  !*** ./frontend_build/i18n.js?file_preview!./ui/shims/dummyI18nResource.js ***!
  \*****************************************************************************/
/*! exports provided: default */
/***/ (function(module, __webpack_exports__, __webpack_require__) {

"use strict";
eval("__webpack_require__.r(__webpack_exports__);\n/* harmony import */ var _canvas_i18n_i18nObj__WEBPACK_IMPORTED_MODULE_0__ = __webpack_require__(/*! @canvas/i18n/i18nObj */ \"HGxv\");\n/* harmony import */ var translations_core_en__WEBPACK_IMPORTED_MODULE_1__ = __webpack_require__(/*! translations/_core_en */ \"0sPK\");\n\n    \n    \n    \n\n    /* harmony default export */ __webpack_exports__[\"default\"] = (_canvas_i18n_i18nObj__WEBPACK_IMPORTED_MODULE_0__[\"default\"].scoped('file_preview'));\n  \n\n//# sourceURL=webpack:///./ui/shims/dummyI18nResource.js?./frontend_build/i18n.js?file_preview");

/***/ }),

/***/ "bOH4":
/*!**************************************************************!*\
  !*** ./ui/features/files/react/components/UploadDropZone.js ***!
  \**************************************************************/
/*! exports provided: default */
/***/ (function(module, __webpack_exports__, __webpack_require__) {

"use strict";
eval("__webpack_require__.r(__webpack_exports__);\n/* harmony import */ var underscore__WEBPACK_IMPORTED_MODULE_0__ = __webpack_require__(/*! underscore */ \"Y/W1\");\n/* harmony import */ var underscore__WEBPACK_IMPORTED_MODULE_0___default = /*#__PURE__*/__webpack_require__.n(underscore__WEBPACK_IMPORTED_MODULE_0__);\n/* harmony import */ var react__WEBPACK_IMPORTED_MODULE_1__ = __webpack_require__(/*! react */ \"q1tI\");\n/* harmony import */ var react__WEBPACK_IMPORTED_MODULE_1___default = /*#__PURE__*/__webpack_require__.n(react__WEBPACK_IMPORTED_MODULE_1__);\n/* harmony import */ var prop_types__WEBPACK_IMPORTED_MODULE_2__ = __webpack_require__(/*! prop-types */ \"17x9\");\n/* harmony import */ var prop_types__WEBPACK_IMPORTED_MODULE_2___default = /*#__PURE__*/__webpack_require__.n(prop_types__WEBPACK_IMPORTED_MODULE_2__);\n/* harmony import */ var react_dom__WEBPACK_IMPORTED_MODULE_3__ = __webpack_require__(/*! react-dom */ \"i8i4\");\n/* harmony import */ var react_dom__WEBPACK_IMPORTED_MODULE_3___default = /*#__PURE__*/__webpack_require__.n(react_dom__WEBPACK_IMPORTED_MODULE_3__);\n/* harmony import */ var i18n_upload_drop_zone__WEBPACK_IMPORTED_MODULE_4__ = __webpack_require__(/*! i18n!upload_drop_zone */ \"IkBu\");\n/* harmony import */ var _canvas_files_react_modules_FileOptionsCollection__WEBPACK_IMPORTED_MODULE_5__ = __webpack_require__(/*! @canvas/files/react/modules/FileOptionsCollection */ \"MAjw\");\n/* harmony import */ var _canvas_files_backbone_models_Folder__WEBPACK_IMPORTED_MODULE_6__ = __webpack_require__(/*! @canvas/files/backbone/models/Folder */ \"3jyj\");\n/* harmony import */ var _canvas_rails_flash_notifications__WEBPACK_IMPORTED_MODULE_7__ = __webpack_require__(/*! @canvas/rails-flash-notifications */ \"r2Yr\");\n/*\n * Copyright (C) 2015 - present Instructure, Inc.\n *\n * This file is part of Canvas.\n *\n * Canvas is free software: you can redistribute it and/or modify it under\n * the terms of the GNU Affero General Public License as published by the Free\n * Software Foundation, version 3 of the License.\n *\n * Canvas is distributed in the hope that it will be useful, but WITHOUT ANY\n * WARRANTY; without even the implied warranty of MERCHANTABILITY or FITNESS FOR\n * A PARTICULAR PURPOSE. See the GNU Affero General Public License for more\n * details.\n *\n * You should have received a copy of the GNU Affero General Public License along\n * with this program. If not, see <http://www.gnu.org/licenses/>.\n */\n\n\n\n\n\n\n\n\n\nclass UploadDropZone extends react__WEBPACK_IMPORTED_MODULE_1___default.a.Component {\n  constructor(...args) {\n    super(...args);\n    this.state = {\n      active: false\n    };\n\n    this.onDragEnter = e => {\n      if (this.shouldAcceptDrop(e.dataTransfer)) {\n        this.setState({\n          active: true\n        });\n        e.dataTransfer.dropEffect = 'copy';\n        e.preventDefault();\n        e.stopPropagation(); // keep event from getting to document\n\n        return false;\n      } else {\n        return true;\n      }\n    };\n\n    this.onDragLeave = e => {\n      this.setState({\n        active: false\n      });\n    };\n\n    this.onDrop = e => {\n      this.setState({\n        active: false\n      });\n      _canvas_files_react_modules_FileOptionsCollection__WEBPACK_IMPORTED_MODULE_5__[\"default\"].setFolder(this.props.currentFolder);\n      _canvas_files_react_modules_FileOptionsCollection__WEBPACK_IMPORTED_MODULE_5__[\"default\"].setOptionsFromFiles(e.dataTransfer.files, true);\n      e.preventDefault();\n      e.stopPropagation();\n      return false;\n    };\n\n    this.onParentDragEnter = e => {\n      if (this.shouldAcceptDrop(e.dataTransfer)) {\n        if (!this.state.active) {\n          this.setState({\n            active: true\n          });\n        }\n      }\n    };\n\n    this.killWindowDropDisplay = e => {\n      if (e.target != this.getParent()) {\n        e.preventDefault();\n      }\n    };\n\n    this.killWindowDrop = e => {\n      e.preventDefault();\n    };\n\n    this.shouldAcceptDrop = dataTransfer => {\n      if (dataTransfer) {\n        return underscore__WEBPACK_IMPORTED_MODULE_0___default.a.indexOf(dataTransfer.types, 'Files') >= 0;\n      }\n    };\n\n    this.getParent = () => // We are actually returning the parent's parent here because that\n    // gives a much more consistently sized container to start displaying\n    // the drop zone overlay with.\n    react_dom__WEBPACK_IMPORTED_MODULE_3___default.a.findDOMNode(this).parentElement.parentElement;\n\n    this.buildNonActiveDropZone = () => /*#__PURE__*/react__WEBPACK_IMPORTED_MODULE_1___default.a.createElement(\"div\", {\n      className: \"UploadDropZone\"\n    });\n\n    this.buildInstructions = () => /*#__PURE__*/react__WEBPACK_IMPORTED_MODULE_1___default.a.createElement(\"div\", {\n      className: \"UploadDropZone__instructions\"\n    }, /*#__PURE__*/react__WEBPACK_IMPORTED_MODULE_1___default.a.createElement(\"i\", {\n      className: \"icon-upload UploadDropZone__instructions--icon-upload\"\n    }), /*#__PURE__*/react__WEBPACK_IMPORTED_MODULE_1___default.a.createElement(\"div\", null, /*#__PURE__*/react__WEBPACK_IMPORTED_MODULE_1___default.a.createElement(\"p\", {\n      className: \"UploadDropZone__instructions--drag\"\n    }, i18n_upload_drop_zone__WEBPACK_IMPORTED_MODULE_4__[\"default\"].t('drop_to_upload', 'Drop items to upload'))));\n\n    this.buildDropZone = () => /*#__PURE__*/react__WEBPACK_IMPORTED_MODULE_1___default.a.createElement(\"div\", {\n      className: \"UploadDropZone UploadDropZone__active\",\n      onDrop: this.onDrop,\n      onDragLeave: this.onDragLeave,\n      onDragOver: this.onDragEnter,\n      onDragEnter: this.onDragEnter\n    }, this.buildInstructions());\n  }\n\n  componentDidMount() {\n    this.getParent().addEventListener('dragenter', this.onParentDragEnter);\n    document.addEventListener('dragenter', this.killWindowDropDisplay);\n    document.addEventListener('dragover', this.killWindowDropDisplay);\n    document.addEventListener('drop', this.killWindowDrop);\n  }\n\n  componentWillUnmount() {\n    this.getParent().removeEventListener('dragenter', this.onParentDragEnter);\n    document.removeEventListener('dragenter', this.killWindowDropDisplay);\n    document.removeEventListener('dragover', this.killWindowDropDisplay);\n    document.removeEventListener('drop', this.killWindowDrop);\n  }\n\n  render() {\n    if (this.state.active) {\n      return this.buildDropZone();\n    } else {\n      return this.buildNonActiveDropZone();\n    }\n  }\n\n}\n\nUploadDropZone.displayName = 'UploadDropZone';\nUploadDropZone.propTypes = {\n  currentFolder: prop_types__WEBPACK_IMPORTED_MODULE_2___default.a.instanceOf(_canvas_files_backbone_models_Folder__WEBPACK_IMPORTED_MODULE_6__[\"default\"])\n};\n/* harmony default export */ __webpack_exports__[\"default\"] = (UploadDropZone);\n\n//# sourceURL=webpack:///./ui/features/files/react/components/UploadDropZone.js?");

/***/ }),

/***/ "c9cI":
/*!******************************************************************!*\
  !*** ./ui/shared/files/react/components/RestrictedDialogForm.js ***!
  \******************************************************************/
/*! exports provided: default */
/***/ (function(module, __webpack_exports__, __webpack_require__) {

"use strict";
eval("__webpack_require__.r(__webpack_exports__);\n/* harmony import */ var react__WEBPACK_IMPORTED_MODULE_0__ = __webpack_require__(/*! react */ \"q1tI\");\n/* harmony import */ var react__WEBPACK_IMPORTED_MODULE_0___default = /*#__PURE__*/__webpack_require__.n(react__WEBPACK_IMPORTED_MODULE_0__);\n/* harmony import */ var create_react_class__WEBPACK_IMPORTED_MODULE_1__ = __webpack_require__(/*! create-react-class */ \"fhzG\");\n/* harmony import */ var create_react_class__WEBPACK_IMPORTED_MODULE_1___default = /*#__PURE__*/__webpack_require__.n(create_react_class__WEBPACK_IMPORTED_MODULE_1__);\n/* harmony import */ var i18n_restrict_student_access__WEBPACK_IMPORTED_MODULE_2__ = __webpack_require__(/*! i18n!restrict_student_access */ \"qJ3g\");\n/* harmony import */ var classnames__WEBPACK_IMPORTED_MODULE_3__ = __webpack_require__(/*! classnames */ \"TSYQ\");\n/* harmony import */ var classnames__WEBPACK_IMPORTED_MODULE_3___default = /*#__PURE__*/__webpack_require__.n(classnames__WEBPACK_IMPORTED_MODULE_3__);\n/* harmony import */ var _UsageRightsSelectBox__WEBPACK_IMPORTED_MODULE_4__ = __webpack_require__(/*! ./UsageRightsSelectBox */ \"e/fc\");\n/* harmony import */ var _RestrictedRadioButtons__WEBPACK_IMPORTED_MODULE_5__ = __webpack_require__(/*! ./RestrictedRadioButtons */ \"rRaX\");\n/* harmony import */ var _DialogPreview__WEBPACK_IMPORTED_MODULE_6__ = __webpack_require__(/*! ./DialogPreview */ \"dEqW\");\n/* harmony import */ var _LegacyRestrictedDialogForm__WEBPACK_IMPORTED_MODULE_7__ = __webpack_require__(/*! ./LegacyRestrictedDialogForm */ \"S2y0\");\n/*\n * Copyright (C) 2015 - present Instructure, Inc.\n *\n * This file is part of Canvas.\n *\n * Canvas is free software: you can redistribute it and/or modify it under\n * the terms of the GNU Affero General Public License as published by the Free\n * Software Foundation, version 3 of the License.\n *\n * Canvas is distributed in the hope that it will be useful, but WITHOUT ANY\n * WARRANTY; without even the implied warranty of MERCHANTABILITY or FITNESS FOR\n * A PARTICULAR PURPOSE. See the GNU Affero General Public License for more\n * details.\n *\n * You should have received a copy of the GNU Affero General Public License along\n * with this program. If not, see <http://www.gnu.org/licenses/>.\n */\n\n\n\n\n\n\n\n\n\n_LegacyRestrictedDialogForm__WEBPACK_IMPORTED_MODULE_7__[\"default\"].renderUsageRightsWarning = function () {\n  return /*#__PURE__*/react__WEBPACK_IMPORTED_MODULE_0___default.a.createElement(\"div\", {\n    className: \"RestrictedDialogForm__banner col-xs-12\"\n  }, /*#__PURE__*/react__WEBPACK_IMPORTED_MODULE_0___default.a.createElement(\"span\", {\n    className: \"alert\"\n  }, /*#__PURE__*/react__WEBPACK_IMPORTED_MODULE_0___default.a.createElement(\"i\", {\n    className: \"icon-warning RestrictedDialogForm__warning\"\n  }), i18n_restrict_student_access__WEBPACK_IMPORTED_MODULE_2__[\"default\"].t('Before publishing, you must set usage rights on your files.')));\n}; // Renders out the restricted access form\n// - options is an object which can be used to conditionally set certain aspects\n//   of rendering.\n//   Future Refactor: Move this to another component should it's use elsewhere\n//                  be meritted.\n\n\n_LegacyRestrictedDialogForm__WEBPACK_IMPORTED_MODULE_7__[\"default\"].renderRestrictedAccessForm = function (options) {\n  const formContainerClasses = classnames__WEBPACK_IMPORTED_MODULE_3___default()({\n    RestrictedDialogForm__form: true,\n    'col-xs-9': true,\n    'off-xs-3': options && options.offset\n  });\n  return /*#__PURE__*/react__WEBPACK_IMPORTED_MODULE_0___default.a.createElement(\"div\", {\n    className: formContainerClasses\n  }, /*#__PURE__*/react__WEBPACK_IMPORTED_MODULE_0___default.a.createElement(\"form\", {\n    ref: e => this.dialogForm = e,\n    onSubmit: this.handleSubmit,\n    className: \"form-horizontal form-dialog permissions-dialog-form\"\n  }, /*#__PURE__*/react__WEBPACK_IMPORTED_MODULE_0___default.a.createElement(_RestrictedRadioButtons__WEBPACK_IMPORTED_MODULE_5__[\"default\"], {\n    ref: e => this.restrictedSelection = e,\n    models: this.props.models,\n    radioStateChange: this.radioStateChange\n  }), /*#__PURE__*/react__WEBPACK_IMPORTED_MODULE_0___default.a.createElement(\"div\", {\n    className: \"form-controls\"\n  }, /*#__PURE__*/react__WEBPACK_IMPORTED_MODULE_0___default.a.createElement(\"button\", {\n    type: \"button\",\n    onClick: this.props.closeDialog,\n    className: \"btn\"\n  }, i18n_restrict_student_access__WEBPACK_IMPORTED_MODULE_2__[\"default\"].t('Cancel')), /*#__PURE__*/react__WEBPACK_IMPORTED_MODULE_0___default.a.createElement(\"button\", {\n    ref: e => this.updateBtn = e,\n    type: \"submit\",\n    className: \"btn btn-primary\",\n    disabled: !this.state.submitable\n  }, i18n_restrict_student_access__WEBPACK_IMPORTED_MODULE_2__[\"default\"].t('Update')))));\n};\n\n_LegacyRestrictedDialogForm__WEBPACK_IMPORTED_MODULE_7__[\"default\"].render = function () {\n  // Doing this here to prevent possible repeat runs of this.usageRightsOnAll and this.allFolders\n  const showUsageRights = this.props.usageRightsRequiredForContext && !this.usageRightsOnAll() && !this.allFolders();\n  return /*#__PURE__*/react__WEBPACK_IMPORTED_MODULE_0___default.a.createElement(\"div\", {\n    className: \"RestrictedDialogForm__container\"\n  }, !!showUsageRights && /*#__PURE__*/react__WEBPACK_IMPORTED_MODULE_0___default.a.createElement(\"div\", {\n    className: \"RestrictedDialogForm__firstRow grid-row\"\n  }, this.renderUsageRightsWarning()), /*#__PURE__*/react__WEBPACK_IMPORTED_MODULE_0___default.a.createElement(\"div\", {\n    className: \"RestrictedDialogForm__secondRow grid-row\"\n  }, /*#__PURE__*/react__WEBPACK_IMPORTED_MODULE_0___default.a.createElement(\"div\", {\n    className: \"RestrictedDialogForm__preview col-xs-3\"\n  }, /*#__PURE__*/react__WEBPACK_IMPORTED_MODULE_0___default.a.createElement(_DialogPreview__WEBPACK_IMPORTED_MODULE_6__[\"default\"], {\n    itemsToShow: this.props.models\n  })), !!showUsageRights && /*#__PURE__*/react__WEBPACK_IMPORTED_MODULE_0___default.a.createElement(\"div\", {\n    className: \"RestrictedDialogForm__usageRights col-xs-9\"\n  }, /*#__PURE__*/react__WEBPACK_IMPORTED_MODULE_0___default.a.createElement(_UsageRightsSelectBox__WEBPACK_IMPORTED_MODULE_4__[\"default\"], {\n    ref: e => this.usageSelection = e\n  }), /*#__PURE__*/react__WEBPACK_IMPORTED_MODULE_0___default.a.createElement(\"hr\", null)), !showUsageRights && this.renderRestrictedAccessForm()), !!showUsageRights && /*#__PURE__*/react__WEBPACK_IMPORTED_MODULE_0___default.a.createElement(\"div\", {\n    className: \"RestrictedDialogForm__thirdRow grid-row\"\n  }, this.renderRestrictedAccessForm({\n    offset: true\n  })));\n};\n\n/* harmony default export */ __webpack_exports__[\"default\"] = (create_react_class__WEBPACK_IMPORTED_MODULE_1___default()(_LegacyRestrictedDialogForm__WEBPACK_IMPORTED_MODULE_7__[\"default\"]));\n\n//# sourceURL=webpack:///./ui/shared/files/react/components/RestrictedDialogForm.js?");

/***/ }),

/***/ "cBjt":
/*!**************************************************************!*\
  !*** ./ui/features/files/react/legacy/modules/FocusStore.js ***!
  \**************************************************************/
/*! exports provided: default */
/***/ (function(module, __webpack_exports__, __webpack_require__) {

"use strict";
eval("__webpack_require__.r(__webpack_exports__);\n/*\n * Copyright (C) 2015 - present Instructure, Inc.\n *\n * This file is part of Canvas.\n *\n * Canvas is free software: you can redistribute it and/or modify it under\n * the terms of the GNU Affero General Public License as published by the Free\n * Software Foundation, version 3 of the License.\n *\n * Canvas is distributed in the hope that it will be useful, but WITHOUT ANY\n * WARRANTY; without even the implied warranty of MERCHANTABILITY or FITNESS FOR\n * A PARTICULAR PURPOSE. See the GNU Affero General Public License for more\n * details.\n *\n * You should have received a copy of the GNU Affero General Public License along\n * with this program. If not, see <http://www.gnu.org/licenses/>.\n */\n/* harmony default export */ __webpack_exports__[\"default\"] = ({\n  _itemToFocus: null,\n\n  setItemToFocus(DOMNode) {\n    return this._itemToFocus = DOMNode;\n  },\n\n  getItemToFocus() {\n    return this._itemToFocus;\n  },\n\n  setFocusToItem() {\n    if (this._itemToFocus) {\n      return this._itemToFocus.focus();\n    } else {\n      throw new Error('FocusStore has not been set.');\n    }\n  }\n\n});\n\n//# sourceURL=webpack:///./ui/features/files/react/legacy/modules/FocusStore.js?");

/***/ }),

/***/ "dEqW":
/*!***********************************************************!*\
  !*** ./ui/shared/files/react/components/DialogPreview.js ***!
  \***********************************************************/
/*! exports provided: default */
/***/ (function(module, __webpack_exports__, __webpack_require__) {

"use strict";
eval("__webpack_require__.r(__webpack_exports__);\n/* harmony import */ var react__WEBPACK_IMPORTED_MODULE_0__ = __webpack_require__(/*! react */ \"q1tI\");\n/* harmony import */ var react__WEBPACK_IMPORTED_MODULE_0___default = /*#__PURE__*/__webpack_require__.n(react__WEBPACK_IMPORTED_MODULE_0__);\n/* harmony import */ var prop_types__WEBPACK_IMPORTED_MODULE_1__ = __webpack_require__(/*! prop-types */ \"17x9\");\n/* harmony import */ var prop_types__WEBPACK_IMPORTED_MODULE_1___default = /*#__PURE__*/__webpack_require__.n(prop_types__WEBPACK_IMPORTED_MODULE_1__);\n/* harmony import */ var _modules_customPropTypes__WEBPACK_IMPORTED_MODULE_2__ = __webpack_require__(/*! ../modules/customPropTypes */ \"Lg2F\");\n/* harmony import */ var _modules_filesEnv__WEBPACK_IMPORTED_MODULE_3__ = __webpack_require__(/*! ../modules/filesEnv */ \"m452\");\n/* harmony import */ var _FilesystemObjectThumbnail__WEBPACK_IMPORTED_MODULE_4__ = __webpack_require__(/*! ./FilesystemObjectThumbnail */ \"vTMu\");\n/*\n * Copyright (C) 2015 - present Instructure, Inc.\n *\n * This file is part of Canvas.\n *\n * Canvas is free software: you can redistribute it and/or modify it under\n * the terms of the GNU Affero General Public License as published by the Free\n * Software Foundation, version 3 of the License.\n *\n * Canvas is distributed in the hope that it will be useful, but WITHOUT ANY\n * WARRANTY; without even the implied warranty of MERCHANTABILITY or FITNESS FOR\n * A PARTICULAR PURPOSE. See the GNU Affero General Public License for more\n * details.\n *\n * You should have received a copy of the GNU Affero General Public License along\n * with this program. If not, see <http://www.gnu.org/licenses/>.\n */\n\n\n\n\n\nconst MAX_THUMBNAILS_TO_SHOW = 5; // This is used to show a preview inside of a modal dialog.\n\nclass DialogPreview extends react__WEBPACK_IMPORTED_MODULE_0___default.a.Component {\n  constructor(...args) {\n    super(...args);\n\n    this.renderPreview = () => {\n      if (this.props.itemsToShow.length === 1) {\n        return /*#__PURE__*/react__WEBPACK_IMPORTED_MODULE_0___default.a.createElement(_FilesystemObjectThumbnail__WEBPACK_IMPORTED_MODULE_4__[\"default\"], {\n          model: this.props.itemsToShow[0],\n          className: \"DialogPreview__thumbnail\"\n        });\n      } else {\n        return this.props.itemsToShow.slice(0, MAX_THUMBNAILS_TO_SHOW).map((model, index) => /*#__PURE__*/react__WEBPACK_IMPORTED_MODULE_0___default.a.createElement(\"i\", {\n          key: model.cid,\n          className: \"media-object ef-big-icon FilesystemObjectThumbnail mimeClass-file DialogPreview__thumbnail\",\n          style: {\n            left: 10 * index,\n            top: -140 * index\n          }\n        }));\n      }\n    };\n  }\n\n  render() {\n    return /*#__PURE__*/react__WEBPACK_IMPORTED_MODULE_0___default.a.createElement(\"div\", {\n      className: \"DialogPreview__container\"\n    }, this.renderPreview());\n  }\n\n}\n\nDialogPreview.displayName = 'DialogPreview';\nDialogPreview.propTypes = {\n  itemsToShow: prop_types__WEBPACK_IMPORTED_MODULE_1___default.a.arrayOf(_modules_customPropTypes__WEBPACK_IMPORTED_MODULE_2__[\"default\"].filesystemObject).isRequired\n};\n/* harmony default export */ __webpack_exports__[\"default\"] = (DialogPreview);\n\n//# sourceURL=webpack:///./ui/shared/files/react/components/DialogPreview.js?");

/***/ }),

/***/ "dbrX":
/*!******************************************!*\
  !*** ./ui/shared/brandable-css/index.js ***!
  \******************************************/
/*! exports provided: default */
/***/ (function(module, __webpack_exports__, __webpack_require__) {

"use strict";
eval("__webpack_require__.r(__webpack_exports__);\n/* harmony import */ var _babel_runtime_helpers_esm_slicedToArray__WEBPACK_IMPORTED_MODULE_0__ = __webpack_require__(/*! @babel/runtime/helpers/esm/slicedToArray */ \"ODXe\");\n/* harmony import */ var _canvas_i18n_rtlHelper__WEBPACK_IMPORTED_MODULE_1__ = __webpack_require__(/*! @canvas/i18n/rtlHelper */ \"uYtQ\");\n/* harmony import */ var invariant__WEBPACK_IMPORTED_MODULE_2__ = __webpack_require__(/*! invariant */ \"QLaP\");\n/* harmony import */ var invariant__WEBPACK_IMPORTED_MODULE_2___default = /*#__PURE__*/__webpack_require__.n(invariant__WEBPACK_IMPORTED_MODULE_2__);\n\n//\n// Copyright (C) 2015 - present Instructure, Inc.\n//\n// This file is part of Canvas.\n//\n// Canvas is free software: you can redistribute it and/or modify it under\n// the terms of the GNU Affero General Public License as published by the Free\n// Software Foundation, version 3 of the License.\n//\n// Canvas is distributed in the hope that it will be useful, but WITHOUT ANY\n// WARRANTY; without even the implied warranty of MERCHANTABILITY or FITNESS FOR\n// A PARTICULAR PURPOSE. See the GNU Affero General Public License for more\n// details.\n//\n// You should have received a copy of the GNU Affero General Public License along\n// with this program. If not, see <http://www.gnu.org/licenses/>.\n\n\nconst loadedStylesheets = {};\nconst brandableCss = {\n  getCssVariant() {\n    const variant = window.ENV.use_responsive_layout ? 'responsive_layout' : 'new_styles';\n    const contrast = window.ENV.use_high_contrast ? 'high_contrast' : 'normal_contrast';\n    const rtl = Object(_canvas_i18n_rtlHelper__WEBPACK_IMPORTED_MODULE_1__[\"isRTL\"])() ? '_rtl' : '';\n    return `${variant}_${contrast}${rtl}`;\n  },\n\n  // see lib/brandable_css.rb#handlebars_index_json\n  getHandlebarsIndex() {\n    return window.BRANDABLE_CSS_HANDLEBARS_INDEX || [[], {}];\n  },\n\n  // combinedChecksum should be like '09f833ef7a'\n  // and includesNoVariables should be true if this bundle does not\n  // \"@include\" variables.scss, brand_variables.scss or variant_variables.scss\n  urlFor(bundleName, {\n    combinedChecksum,\n    includesNoVariables\n  }) {\n    const brandAndVariant = includesNoVariables ? 'no_variables' : brandableCss.getCssVariant();\n    return [window.ENV.ASSET_HOST || '', 'dist', 'brandable_css', brandAndVariant, `${bundleName}-${combinedChecksum}.css`].join('/');\n  },\n\n  // bundleName should be something like 'jst/foo'\n  loadStylesheet(bundleName, opts) {\n    if (bundleName in loadedStylesheets) return;\n    const linkElement = document.createElement('link');\n    linkElement.rel = 'stylesheet';\n    linkElement.href = brandableCss.urlFor(bundleName, opts); // give the person trying to track down a bug a hint on how this link tag got on the page\n\n    linkElement.setAttribute('data-loaded-by-brandableCss', true);\n    document.head.appendChild(linkElement);\n  },\n\n  loadStylesheetForJST({\n    bundle,\n    id\n  }) {\n    const _brandableCss$getHand = brandableCss.getHandlebarsIndex(),\n          _brandableCss$getHand2 = Object(_babel_runtime_helpers_esm_slicedToArray__WEBPACK_IMPORTED_MODULE_0__[\"default\"])(_brandableCss$getHand, 2),\n          variants = _brandableCss$getHand2[0],\n          bundles = _brandableCss$getHand2[1];\n\n    invariant__WEBPACK_IMPORTED_MODULE_2___default()(bundles.hasOwnProperty(id), `requested to load stylesheet for template \"${bundle}\" (${id}) but no ` + `mapping is available for it!`); // \"includesNoVariables\" true; there's only one file regardless of variant\n\n    if (bundles[id].length === 1) {\n      return brandableCss.loadStylesheet(bundle, {\n        combinedChecksum: bundles[id][0],\n        includesNoVariables: true\n      });\n    } else {\n      // this can be a bit whoozy, remember the structure:\n      //\n      //     [\n      //       [ 'a', 'b', 'c' ],\n      //       ^^^^^^^^^^^^^^^^^ known variants, brandableCss.getCssVariant()\n      //                         will be one of them\n      //\n      //       {\n      //         \"f0d\": [\n      //          ^^^ id\n      //           \"variant[0] checksum\",\n      //           \"variant[1] checksum\",\n      //           0,\n      //           ^ a ref that resolves into \"variant[0] checksum\"\n      //           \"variant[3] checksum\"\n      //         ]\n      //       }\n      //     ]\n      //\n      let checksum = bundles[id][variants.indexOf(brandableCss.getCssVariant())];\n\n      if (typeof checksum === 'number') {\n        checksum = bundles[id][checksum];\n      }\n\n      return brandableCss.loadStylesheet(bundle, {\n        combinedChecksum: checksum,\n        includesNoVariables: false\n      });\n    }\n  }\n\n};\n/* harmony default export */ __webpack_exports__[\"default\"] = (brandableCss);\n\n//# sourceURL=webpack:///./ui/shared/brandable-css/index.js?");

/***/ }),

/***/ "e/fc":
/*!******************************************************************!*\
  !*** ./ui/shared/files/react/components/UsageRightsSelectBox.js ***!
  \******************************************************************/
/*! exports provided: default */
/***/ (function(module, __webpack_exports__, __webpack_require__) {

"use strict";
eval("__webpack_require__.r(__webpack_exports__);\n/* harmony export (binding) */ __webpack_require__.d(__webpack_exports__, \"default\", function() { return UsageRightsSelectBox; });\n/* harmony import */ var jquery__WEBPACK_IMPORTED_MODULE_0__ = __webpack_require__(/*! jquery */ \"ouhR\");\n/* harmony import */ var jquery__WEBPACK_IMPORTED_MODULE_0___default = /*#__PURE__*/__webpack_require__.n(jquery__WEBPACK_IMPORTED_MODULE_0__);\n/* harmony import */ var react__WEBPACK_IMPORTED_MODULE_1__ = __webpack_require__(/*! react */ \"q1tI\");\n/* harmony import */ var react__WEBPACK_IMPORTED_MODULE_1___default = /*#__PURE__*/__webpack_require__.n(react__WEBPACK_IMPORTED_MODULE_1__);\n/* harmony import */ var prop_types__WEBPACK_IMPORTED_MODULE_2__ = __webpack_require__(/*! prop-types */ \"17x9\");\n/* harmony import */ var prop_types__WEBPACK_IMPORTED_MODULE_2___default = /*#__PURE__*/__webpack_require__.n(prop_types__WEBPACK_IMPORTED_MODULE_2__);\n/* harmony import */ var i18n_usageRightsSelectBox__WEBPACK_IMPORTED_MODULE_3__ = __webpack_require__(/*! i18n!usageRightsSelectBox */ \"18+T\");\n/* harmony import */ var _modules_filesEnv__WEBPACK_IMPORTED_MODULE_4__ = __webpack_require__(/*! ../modules/filesEnv */ \"m452\");\n/*\n * Copyright (C) 2015 - present Instructure, Inc.\n *\n * This file is part of Canvas.\n *\n * Canvas is free software: you can redistribute it and/or modify it under\n * the terms of the GNU Affero General Public License as published by the Free\n * Software Foundation, version 3 of the License.\n *\n * Canvas is distributed in the hope that it will be useful, but WITHOUT ANY\n * WARRANTY; without even the implied warranty of MERCHANTABILITY or FITNESS FOR\n * A PARTICULAR PURPOSE. See the GNU Affero General Public License for more\n * details.\n *\n * You should have received a copy of the GNU Affero General Public License along\n * with this program. If not, see <http://www.gnu.org/licenses/>.\n */\n\n\n\n\n\n\nfunction omitEmptyValues(obj) {\n  Object.keys(obj).forEach(k => {\n    if (obj[k] == null) delete obj[k];\n  });\n  return obj;\n}\n\nconst CONTENT_OPTIONS = [{\n  display: i18n_usageRightsSelectBox__WEBPACK_IMPORTED_MODULE_3__[\"default\"].t('Choose usage rights...'),\n  value: 'choose'\n}, {\n  display: i18n_usageRightsSelectBox__WEBPACK_IMPORTED_MODULE_3__[\"default\"].t('I hold the copyright'),\n  value: 'own_copyright'\n}, {\n  display: i18n_usageRightsSelectBox__WEBPACK_IMPORTED_MODULE_3__[\"default\"].t('I have obtained permission to use this file.'),\n  value: 'used_by_permission'\n}, {\n  display: i18n_usageRightsSelectBox__WEBPACK_IMPORTED_MODULE_3__[\"default\"].t('The material is in the public domain'),\n  value: 'public_domain'\n}, {\n  display: i18n_usageRightsSelectBox__WEBPACK_IMPORTED_MODULE_3__[\"default\"].t('The material is subject to an exception - e.g. fair use, the right to quote, or others under applicable copyright laws'),\n  value: 'fair_use'\n}, {\n  display: i18n_usageRightsSelectBox__WEBPACK_IMPORTED_MODULE_3__[\"default\"].t('The material is licensed under Creative Commons'),\n  value: 'creative_commons'\n}];\nclass UsageRightsSelectBox extends react__WEBPACK_IMPORTED_MODULE_1___default.a.Component {\n  constructor(...args) {\n    super(...args);\n    this.state = {\n      showTextBox: this.props.use_justification !== 'choose',\n      showCreativeCommonsOptions: this.props.use_justification === 'creative_commons' && this.props.copyright != null,\n      licenseOptions: [],\n      showMessage: this.props.showMessage,\n      usageRightSelectionValue: this.props.use_justification ? this.props.use_justification : void 0\n    };\n  }\n\n  componentDidMount() {\n    this.getUsageRightsOptions();\n  }\n\n  apiUrl() {\n    return `/api/v1/${_modules_filesEnv__WEBPACK_IMPORTED_MODULE_4__[\"default\"].contextType || this.props.contextType}/${_modules_filesEnv__WEBPACK_IMPORTED_MODULE_4__[\"default\"].contextId || this.props.contextId}/content_licenses`;\n  } // Exposes the selected values to the outside world.\n\n\n  getValues() {\n    let x;\n    const obj = {\n      use_justification: this.usageRightSelection.value,\n      copyright: this.state.showTextBox ? (x = this.copyright) && x.value : void 0,\n      cc_license: this.state.showCreativeCommonsOptions ? (x = this.creativeCommons) && x.value : void 0\n    };\n    return omitEmptyValues(obj);\n  }\n\n  getUsageRightsOptions() {\n    return jquery__WEBPACK_IMPORTED_MODULE_0___default.a.get(this.apiUrl(), data => {\n      this.setState({\n        licenseOptions: data\n      });\n    });\n  }\n\n  handleChange(event) {\n    this.setState({\n      usageRightSelectionValue: event.target.value,\n      showTextBox: event.target.value !== 'choose',\n      showCreativeCommonsOptions: event.target.value === 'creative_commons',\n      showMessage: this.props.showMessage && event.target.value === 'choose'\n    });\n  } // This method only really applies to firefox which doesn't handle onChange\n  // events on select boxes like every other browser.\n\n\n  handleChooseKeyPress(event) {\n    if (event.key === 'ArrowUp' || event.key === 'ArrowDown') {\n      this.setState({\n        usageRightSelectionValue: event.target.value\n      }, this.handleChange(event));\n    }\n  }\n\n  renderContentOptions() {\n    return CONTENT_OPTIONS.map(contentOption => /*#__PURE__*/react__WEBPACK_IMPORTED_MODULE_1___default.a.createElement(\"option\", {\n      key: contentOption.value,\n      value: contentOption.value\n    }, contentOption.display));\n  }\n\n  renderCreativeCommonsOptions() {\n    const onlyCC = this.state.licenseOptions.filter(license => license.id.indexOf('cc') === 0);\n    return onlyCC.map(license => /*#__PURE__*/react__WEBPACK_IMPORTED_MODULE_1___default.a.createElement(\"option\", {\n      key: license.id,\n      value: license.id\n    }, license.name));\n  }\n\n  renderShowCreativeCommonsOptions() {\n    return /*#__PURE__*/react__WEBPACK_IMPORTED_MODULE_1___default.a.createElement(\"div\", {\n      className: \"control-group\"\n    }, /*#__PURE__*/react__WEBPACK_IMPORTED_MODULE_1___default.a.createElement(\"label\", {\n      className: \"control-label\",\n      htmlFor: \"creativeCommonsSelection\"\n    }, i18n_usageRightsSelectBox__WEBPACK_IMPORTED_MODULE_3__[\"default\"].t('Creative Commons License:')), /*#__PURE__*/react__WEBPACK_IMPORTED_MODULE_1___default.a.createElement(\"div\", {\n      className: \"control\"\n    }, /*#__PURE__*/react__WEBPACK_IMPORTED_MODULE_1___default.a.createElement(\"select\", {\n      id: \"creativeCommonsSelection\",\n      className: \"UsageRightsSelectBox__creativeCommons\",\n      ref: e => this.creativeCommons = e,\n      defaultValue: this.props.cc_value\n    }, this.renderCreativeCommonsOptions())));\n  }\n\n  renderShowMessage() {\n    const renderShowMessage = /*#__PURE__*/react__WEBPACK_IMPORTED_MODULE_1___default.a.createElement(\"div\", {\n      ref: e => this.showMessageAlert = e,\n      className: \"alert\"\n    }, /*#__PURE__*/react__WEBPACK_IMPORTED_MODULE_1___default.a.createElement(\"span\", null, /*#__PURE__*/react__WEBPACK_IMPORTED_MODULE_1___default.a.createElement(\"i\", {\n      className: \"icon-warning\"\n    }), /*#__PURE__*/react__WEBPACK_IMPORTED_MODULE_1___default.a.createElement(\"span\", {\n      style: {\n        paddingLeft: '10px'\n      }\n    }, i18n_usageRightsSelectBox__WEBPACK_IMPORTED_MODULE_3__[\"default\"].t(\"If you do not select usage rights now, this file will be unpublished after it's uploaded.\"))));\n    return this.state.showMessage ? renderShowMessage : null;\n  }\n\n  render() {\n    return /*#__PURE__*/react__WEBPACK_IMPORTED_MODULE_1___default.a.createElement(\"div\", {\n      className: \"UsageRightsSelectBox__container\"\n    }, /*#__PURE__*/react__WEBPACK_IMPORTED_MODULE_1___default.a.createElement(\"div\", {\n      className: \"control-group\"\n    }, /*#__PURE__*/react__WEBPACK_IMPORTED_MODULE_1___default.a.createElement(\"label\", {\n      className: \"control-label\",\n      htmlFor: \"usageRightSelector\"\n    }, i18n_usageRightsSelectBox__WEBPACK_IMPORTED_MODULE_3__[\"default\"].t('Usage Right:')), /*#__PURE__*/react__WEBPACK_IMPORTED_MODULE_1___default.a.createElement(\"div\", {\n      className: \"controls\"\n    }, /*#__PURE__*/react__WEBPACK_IMPORTED_MODULE_1___default.a.createElement(\"select\", {\n      id: \"usageRightSelector\",\n      className: \"UsageRightsSelectBox__select\",\n      onChange: e => this.handleChange(e),\n      onKeyUp: e => this.handleChooseKeyPress(e),\n      ref: e => this.usageRightSelection = e,\n      value: this.state.usageRightSelectionValue\n    }, this.renderContentOptions()))), this.state.showCreativeCommonsOptions && this.renderShowCreativeCommonsOptions(), /*#__PURE__*/react__WEBPACK_IMPORTED_MODULE_1___default.a.createElement(\"div\", {\n      className: \"control-group\"\n    }, /*#__PURE__*/react__WEBPACK_IMPORTED_MODULE_1___default.a.createElement(\"label\", {\n      className: \"control-label\",\n      htmlFor: \"copyrightHolder\"\n    }, i18n_usageRightsSelectBox__WEBPACK_IMPORTED_MODULE_3__[\"default\"].t('Copyright Holder:')), /*#__PURE__*/react__WEBPACK_IMPORTED_MODULE_1___default.a.createElement(\"div\", {\n      className: \"controls\"\n    }, /*#__PURE__*/react__WEBPACK_IMPORTED_MODULE_1___default.a.createElement(\"input\", {\n      id: \"copyrightHolder\",\n      type: \"text\",\n      ref: e => this.copyright = e,\n      defaultValue: this.props.copyright,\n      placeholder: i18n_usageRightsSelectBox__WEBPACK_IMPORTED_MODULE_3__[\"default\"].t('(c) 2001 Acme Inc.')\n    }))), this.renderShowMessage());\n  }\n\n}\nUsageRightsSelectBox.propTypes = {\n  cc_value: prop_types__WEBPACK_IMPORTED_MODULE_2___default.a.string,\n  use_justification: prop_types__WEBPACK_IMPORTED_MODULE_2___default.a.oneOf(Object.values(CONTENT_OPTIONS).map(o => o.value)),\n  copyright: prop_types__WEBPACK_IMPORTED_MODULE_2___default.a.string,\n  showMessage: prop_types__WEBPACK_IMPORTED_MODULE_2___default.a.bool,\n  contextType: prop_types__WEBPACK_IMPORTED_MODULE_2___default.a.string,\n  contextId: prop_types__WEBPACK_IMPORTED_MODULE_2___default.a.oneOfType([prop_types__WEBPACK_IMPORTED_MODULE_2___default.a.string, prop_types__WEBPACK_IMPORTED_MODULE_2___default.a.number])\n};\n\n//# sourceURL=webpack:///./ui/shared/files/react/components/UsageRightsSelectBox.js?");

/***/ }),

/***/ "e2r+":
/*!************************************************************!*\
  !*** ./ui/shared/files/react/components/CurrentUploads.js ***!
  \************************************************************/
/*! exports provided: default */
/***/ (function(module, __webpack_exports__, __webpack_require__) {

"use strict";
eval("__webpack_require__.r(__webpack_exports__);\n/* harmony import */ var react__WEBPACK_IMPORTED_MODULE_0__ = __webpack_require__(/*! react */ \"q1tI\");\n/* harmony import */ var react__WEBPACK_IMPORTED_MODULE_0___default = /*#__PURE__*/__webpack_require__.n(react__WEBPACK_IMPORTED_MODULE_0__);\n/* harmony import */ var prop_types__WEBPACK_IMPORTED_MODULE_1__ = __webpack_require__(/*! prop-types */ \"17x9\");\n/* harmony import */ var prop_types__WEBPACK_IMPORTED_MODULE_1___default = /*#__PURE__*/__webpack_require__.n(prop_types__WEBPACK_IMPORTED_MODULE_1__);\n/* harmony import */ var classnames__WEBPACK_IMPORTED_MODULE_2__ = __webpack_require__(/*! classnames */ \"TSYQ\");\n/* harmony import */ var classnames__WEBPACK_IMPORTED_MODULE_2___default = /*#__PURE__*/__webpack_require__.n(classnames__WEBPACK_IMPORTED_MODULE_2__);\n/* harmony import */ var _UploadProgress__WEBPACK_IMPORTED_MODULE_3__ = __webpack_require__(/*! ./UploadProgress */ \"ZfIV\");\n/* harmony import */ var _modules_UploadQueue__WEBPACK_IMPORTED_MODULE_4__ = __webpack_require__(/*! ../modules/UploadQueue */ \"hlSq\");\n/*\n * Copyright (C) 2015 - present Instructure, Inc.\n *\n * This file is part of Canvas.\n *\n * Canvas is free software: you can redistribute it and/or modify it under\n * the terms of the GNU Affero General Public License as published by the Free\n * Software Foundation, version 3 of the License.\n *\n * Canvas is distributed in the hope that it will be useful, but WITHOUT ANY\n * WARRANTY; without even the implied warranty of MERCHANTABILITY or FITNESS FOR\n * A PARTICULAR PURPOSE. See the GNU Affero General Public License for more\n * details.\n *\n * You should have received a copy of the GNU Affero General Public License along\n * with this program. If not, see <http://www.gnu.org/licenses/>.\n */\n\n\n\n\n\n\nclass CurrentUploads extends react__WEBPACK_IMPORTED_MODULE_0___default.a.Component {\n  constructor(...args) {\n    super(...args);\n    this.state = {\n      currentUploads: []\n    };\n\n    this.handleUploadQueueChange = upload_queue => {\n      this.setState({\n        currentUploads: upload_queue.getAllUploaders()\n      }, () => {\n        this.props.onUploadChange(this.state.currentUploads.length);\n      });\n    };\n\n    this.renderUploadProgress = function () {\n      if (this.state.currentUploads.length) {\n        const progessComponents = this.state.currentUploads.map(uploader => {\n          return /*#__PURE__*/react__WEBPACK_IMPORTED_MODULE_0___default.a.createElement(_UploadProgress__WEBPACK_IMPORTED_MODULE_3__[\"default\"], {\n            uploader: uploader,\n            key: uploader.getFileName()\n          });\n        });\n        return /*#__PURE__*/react__WEBPACK_IMPORTED_MODULE_0___default.a.createElement(\"div\", {\n          className: \"current_uploads__uploaders\"\n        }, progessComponents);\n      } else {\n        return null;\n      }\n    };\n  }\n\n  componentDidMount() {\n    _modules_UploadQueue__WEBPACK_IMPORTED_MODULE_4__[\"default\"].addChangeListener(this.handleUploadQueueChange);\n  }\n\n  componentWillUnmount() {\n    _modules_UploadQueue__WEBPACK_IMPORTED_MODULE_4__[\"default\"].removeChangeListener(this.handleUploadQueueChange);\n  }\n\n  render() {\n    const classes = classnames__WEBPACK_IMPORTED_MODULE_2___default()({\n      current_uploads: this.state.currentUploads.length\n    });\n    return /*#__PURE__*/react__WEBPACK_IMPORTED_MODULE_0___default.a.createElement(\"div\", {\n      className: classes\n    }, this.renderUploadProgress());\n  }\n\n}\n\nCurrentUploads.propTypes = {\n  onUploadChange: prop_types__WEBPACK_IMPORTED_MODULE_1__[\"func\"]\n};\nCurrentUploads.defaultProps = {\n  onUploadChange: () => {}\n};\n/* harmony default export */ __webpack_exports__[\"default\"] = (CurrentUploads);\n\n//# sourceURL=webpack:///./ui/shared/files/react/components/CurrentUploads.js?");

/***/ }),

/***/ "ffXL":
/*!**********************************************************************************!*\
  !*** ./frontend_build/i18n.js?rootFoldersFinder!./ui/shims/dummyI18nResource.js ***!
  \**********************************************************************************/
/*! exports provided: default */
/***/ (function(module, __webpack_exports__, __webpack_require__) {

"use strict";
eval("__webpack_require__.r(__webpack_exports__);\n/* harmony import */ var _canvas_i18n_i18nObj__WEBPACK_IMPORTED_MODULE_0__ = __webpack_require__(/*! @canvas/i18n/i18nObj */ \"HGxv\");\n/* harmony import */ var translations_core_en__WEBPACK_IMPORTED_MODULE_1__ = __webpack_require__(/*! translations/_core_en */ \"0sPK\");\n\n    \n    \n    \n\n    /* harmony default export */ __webpack_exports__[\"default\"] = (_canvas_i18n_i18nObj__WEBPACK_IMPORTED_MODULE_0__[\"default\"].scoped('rootFoldersFinder'));\n  \n\n//# sourceURL=webpack:///./ui/shims/dummyI18nResource.js?./frontend_build/i18n.js?rootFoldersFinder");

/***/ }),

/***/ "fhP7":
/*!************************************************************!*\
  !*** ./ui/shared/rce/plugins/canvas_mentions/constants.js ***!
  \************************************************************/
/*! exports provided: TRIGGER_CHAR, MARKER_ID, MARKER_SELECTOR, MENTION_MENU_ID, MENTION_MENU_SELECTOR, TRUSTED_MESSAGE_ORIGIN, NAVIGATION_MESSAGE, INPUT_CHANGE_MESSAGE, SELECTION_MESSAGE, KEY_CODES, KEY_NAMES, ARIA_ID_TEMPLATES */
/***/ (function(module, __webpack_exports__, __webpack_require__) {

"use strict";
eval("__webpack_require__.r(__webpack_exports__);\n/* harmony export (binding) */ __webpack_require__.d(__webpack_exports__, \"TRIGGER_CHAR\", function() { return TRIGGER_CHAR; });\n/* harmony export (binding) */ __webpack_require__.d(__webpack_exports__, \"MARKER_ID\", function() { return MARKER_ID; });\n/* harmony export (binding) */ __webpack_require__.d(__webpack_exports__, \"MARKER_SELECTOR\", function() { return MARKER_SELECTOR; });\n/* harmony export (binding) */ __webpack_require__.d(__webpack_exports__, \"MENTION_MENU_ID\", function() { return MENTION_MENU_ID; });\n/* harmony export (binding) */ __webpack_require__.d(__webpack_exports__, \"MENTION_MENU_SELECTOR\", function() { return MENTION_MENU_SELECTOR; });\n/* harmony export (binding) */ __webpack_require__.d(__webpack_exports__, \"TRUSTED_MESSAGE_ORIGIN\", function() { return TRUSTED_MESSAGE_ORIGIN; });\n/* harmony export (binding) */ __webpack_require__.d(__webpack_exports__, \"NAVIGATION_MESSAGE\", function() { return NAVIGATION_MESSAGE; });\n/* harmony export (binding) */ __webpack_require__.d(__webpack_exports__, \"INPUT_CHANGE_MESSAGE\", function() { return INPUT_CHANGE_MESSAGE; });\n/* harmony export (binding) */ __webpack_require__.d(__webpack_exports__, \"SELECTION_MESSAGE\", function() { return SELECTION_MESSAGE; });\n/* harmony export (binding) */ __webpack_require__.d(__webpack_exports__, \"KEY_CODES\", function() { return KEY_CODES; });\n/* harmony export (binding) */ __webpack_require__.d(__webpack_exports__, \"KEY_NAMES\", function() { return KEY_NAMES; });\n/* harmony export (binding) */ __webpack_require__.d(__webpack_exports__, \"ARIA_ID_TEMPLATES\", function() { return ARIA_ID_TEMPLATES; });\n/*\n * Copyright (C) 2021 - present Instructure, Inc.\n *\n * This file is part of Canvas.\n *\n * Canvas is free software: you can redistribute it and/or modify it under\n * the terms of the GNU Affero General Public License as published by the Free\n * Software Foundation, version 3 of the License.\n *\n * Canvas is distributed in the hope that it will be useful, but WITHOUT ANY\n * WARRANTY; without even the implied warranty of MERCHANTABILITY or FITNESS FOR\n * A PARTICULAR PURPOSE. See the GNU Affero General Public License for more\n * details.\n *\n * You should have received a copy of the GNU Affero General Public License along\n * with this program. If not, see <http://www.gnu.org/licenses/>.\n */\nconst TRIGGER_CHAR = '@';\nconst MARKER_ID = 'mentions-marker';\nconst MARKER_SELECTOR = `span#${MARKER_ID}`;\nconst MENTION_MENU_ID = 'mention-menu';\nconst MENTION_MENU_SELECTOR = 'span#mention-menu';\nconst TRUSTED_MESSAGE_ORIGIN = ENV.DEEP_LINKING_POST_MESSAGE_ORIGIN;\nconst NAVIGATION_MESSAGE = 'mentions.NavigationEvent';\nconst INPUT_CHANGE_MESSAGE = 'mentions.InputChangeEvent';\nconst SELECTION_MESSAGE = 'mentions.SelectionEvent';\nconst KEY_CODES = {\n  backspace: 8,\n  enter: 13,\n  up: 38,\n  down: 40,\n  escape: 27,\n  tab: 9\n};\nconst KEY_NAMES = {\n  [KEY_CODES.up]: 'UpArrow',\n  [KEY_CODES.down]: 'DownArrow',\n  [KEY_CODES.enter]: 'Enter'\n};\nconst ARIA_ID_TEMPLATES = {\n  ariaControlTemplate: instanceId => {\n    return `${instanceId}-mention-popup`;\n  },\n  activeDescendant: (instanceId, itemId) => {\n    return `${instanceId}-mention-popup-item-${itemId}`;\n  }\n};\n\n//# sourceURL=webpack:///./ui/shared/rce/plugins/canvas_mentions/constants.js?");

/***/ }),

/***/ "h5Dl":
/*!********************************************************************!*\
  !*** ./ui/features/files/react/legacy/components/ColumnHeaders.js ***!
  \********************************************************************/
/*! exports provided: default */
/***/ (function(module, __webpack_exports__, __webpack_require__) {

"use strict";
eval("__webpack_require__.r(__webpack_exports__);\n/* harmony import */ var i18n_react_files__WEBPACK_IMPORTED_MODULE_0__ = __webpack_require__(/*! i18n!react_files */ \"mddV\");\n/* harmony import */ var underscore__WEBPACK_IMPORTED_MODULE_1__ = __webpack_require__(/*! underscore */ \"Y/W1\");\n/* harmony import */ var underscore__WEBPACK_IMPORTED_MODULE_1___default = /*#__PURE__*/__webpack_require__.n(underscore__WEBPACK_IMPORTED_MODULE_1__);\n/* harmony import */ var prop_types__WEBPACK_IMPORTED_MODULE_2__ = __webpack_require__(/*! prop-types */ \"17x9\");\n/* harmony import */ var prop_types__WEBPACK_IMPORTED_MODULE_2___default = /*#__PURE__*/__webpack_require__.n(prop_types__WEBPACK_IMPORTED_MODULE_2__);\n/*\n * Copyright (C) 2014 - present Instructure, Inc.\n *\n * This file is part of Canvas.\n *\n * Canvas is free software: you can redistribute it and/or modify it under\n * the terms of the GNU Affero General Public License as published by the Free\n * Software Foundation, version 3 of the License.\n *\n * Canvas is distributed in the hope that it will be useful, but WITHOUT ANY\n * WARRANTY; without even the implied warranty of MERCHANTABILITY or FITNESS FOR\n * A PARTICULAR PURPOSE. See the GNU Affero General Public License for more\n * details.\n *\n * You should have received a copy of the GNU Affero General Public License along\n * with this program. If not, see <http://www.gnu.org/licenses/>.\n */\n\n\n\nconst columns = [{\n  displayName: i18n_react_files__WEBPACK_IMPORTED_MODULE_0__[\"default\"].t('name', 'Name'),\n  property: 'name',\n  className: 'ef-name-col'\n}, {\n  displayNameShort: i18n_react_files__WEBPACK_IMPORTED_MODULE_0__[\"default\"].t('created_at_short', 'Created'),\n  displayName: i18n_react_files__WEBPACK_IMPORTED_MODULE_0__[\"default\"].t('created_at', 'Date Created'),\n  property: 'created_at',\n  className: 'ef-date-created-col'\n}, {\n  displayNameShort: i18n_react_files__WEBPACK_IMPORTED_MODULE_0__[\"default\"].t('updated_at_short', 'Modified'),\n  displayName: i18n_react_files__WEBPACK_IMPORTED_MODULE_0__[\"default\"].t('updated_at', 'Date Modified'),\n  property: 'modified_at',\n  className: 'ef-date-modified-col'\n}, {\n  displayName: i18n_react_files__WEBPACK_IMPORTED_MODULE_0__[\"default\"].t('modified_by', 'Modified By'),\n  className: 'ef-modified-by-col',\n  property: 'user'\n}, {\n  displayName: i18n_react_files__WEBPACK_IMPORTED_MODULE_0__[\"default\"].t('size', 'Size'),\n  property: 'size',\n  className: 'ef-size-col'\n}, {\n  displayName: i18n_react_files__WEBPACK_IMPORTED_MODULE_0__[\"default\"].t('Usage Rights'),\n  property: 'usage_rights',\n  className: 'ef-usage-rights-col'\n}];\n/* harmony default export */ __webpack_exports__[\"default\"] = ({\n  displayName: 'ColumnHeaders',\n  columns,\n  propTypes: {\n    query: prop_types__WEBPACK_IMPORTED_MODULE_2___default.a.object.isRequired,\n    areAllItemsSelected: prop_types__WEBPACK_IMPORTED_MODULE_2___default.a.func.isRequired\n  },\n\n  getInitialState() {\n    return {\n      hideToggleAll: true\n    };\n  },\n\n  queryParamsFor(query, property) {\n    const order = (query.sort || 'name') === property && query.order === 'desc' ? 'asc' : 'desc';\n    return underscore__WEBPACK_IMPORTED_MODULE_1___default.a.defaults({\n      sort: property,\n      order\n    }, query);\n  }\n\n});\n\n//# sourceURL=webpack:///./ui/features/files/react/legacy/components/ColumnHeaders.js?");

/***/ }),

/***/ "hI1R":
/*!*****************************************************************************!*\
  !*** ./frontend_build/i18n.js?user_content!./ui/shims/dummyI18nResource.js ***!
  \*****************************************************************************/
/*! exports provided: default */
/***/ (function(module, __webpack_exports__, __webpack_require__) {

"use strict";
eval("__webpack_require__.r(__webpack_exports__);\n/* harmony import */ var _canvas_i18n_i18nObj__WEBPACK_IMPORTED_MODULE_0__ = __webpack_require__(/*! @canvas/i18n/i18nObj */ \"HGxv\");\n/* harmony import */ var translations_core_en__WEBPACK_IMPORTED_MODULE_1__ = __webpack_require__(/*! translations/_core_en */ \"0sPK\");\n\n    \n    \n    \n\n    /* harmony default export */ __webpack_exports__[\"default\"] = (_canvas_i18n_i18nObj__WEBPACK_IMPORTED_MODULE_0__[\"default\"].scoped('user_content'));\n  \n\n//# sourceURL=webpack:///./ui/shims/dummyI18nResource.js?./frontend_build/i18n.js?user_content");

/***/ }),

/***/ "hKby":
/*!****************************************************!*\
  !*** ./ui/shared/datetime/accessibleDateFormat.js ***!
  \****************************************************/
/*! exports provided: default */
/***/ (function(module, __webpack_exports__, __webpack_require__) {

"use strict";
eval("__webpack_require__.r(__webpack_exports__);\n/* harmony import */ var i18n_dateformat__WEBPACK_IMPORTED_MODULE_0__ = __webpack_require__(/*! i18n!dateformat */ \"QjQa\");\n/*\n * Copyright (C) 2015 - present Instructure, Inc.\n *\n * This file is part of Canvas.\n *\n * Canvas is free software: you can redistribute it and/or modify it under\n * the terms of the GNU Affero General Public License as published by the Free\n * Software Foundation, version 3 of the License.\n *\n * Canvas is distributed in the hope that it will be useful, but WITHOUT ANY\n * WARRANTY; without even the implied warranty of MERCHANTABILITY or FITNESS FOR\n * A PARTICULAR PURPOSE. See the GNU Affero General Public License for more\n * details.\n *\n * You should have received a copy of the GNU Affero General Public License along\n * with this program. If not, see <http://www.gnu.org/licenses/>.\n */\n\n/**\n * For use with date input fields.  Set the title to this value and\n * data-tooltip=\"\"\n */\n\n\nconst accessibleDateFormat = () => {\n  return i18n_dateformat__WEBPACK_IMPORTED_MODULE_0__[\"default\"].t('YYYY-MM-DD hh:mm');\n};\n\n/* harmony default export */ __webpack_exports__[\"default\"] = (accessibleDateFormat);\n\n//# sourceURL=webpack:///./ui/shared/datetime/accessibleDateFormat.js?");

/***/ }),

/***/ "hlSq":
/*!******************************************************!*\
  !*** ./ui/shared/files/react/modules/UploadQueue.js ***!
  \******************************************************/
/*! exports provided: default */
/***/ (function(module, __webpack_exports__, __webpack_require__) {

"use strict";
eval("__webpack_require__.r(__webpack_exports__);\n/* harmony import */ var underscore__WEBPACK_IMPORTED_MODULE_0__ = __webpack_require__(/*! underscore */ \"Y/W1\");\n/* harmony import */ var underscore__WEBPACK_IMPORTED_MODULE_0___default = /*#__PURE__*/__webpack_require__.n(underscore__WEBPACK_IMPORTED_MODULE_0__);\n/* harmony import */ var _FileUploader__WEBPACK_IMPORTED_MODULE_1__ = __webpack_require__(/*! ./FileUploader */ \"1e9t\");\n/* harmony import */ var _ZipUploader__WEBPACK_IMPORTED_MODULE_2__ = __webpack_require__(/*! ./ZipUploader */ \"2+7R\");\n/*\n * Copyright (C) 2014 - present Instructure, Inc.\n *\n * This file is part of Canvas.\n *\n * Canvas is free software: you can redistribute it and/or modify it under\n * the terms of the GNU Affero General Public License as published by the Free\n * Software Foundation, version 3 of the License.\n *\n * Canvas is distributed in the hope that it will be useful, but WITHOUT ANY\n * WARRANTY; without even the implied warranty of MERCHANTABILITY or FITNESS FOR\n * A PARTICULAR PURPOSE. See the GNU Affero General Public License for more\n * details.\n *\n * You should have received a copy of the GNU Affero General Public License along\n * with this program. If not, see <http://www.gnu.org/licenses/>.\n */\n\n\n\n\nclass UploadQueue {\n  constructor() {\n    this.listeners = [];\n  }\n\n  length() {\n    return this._queue.length;\n  }\n\n  pendingUploads() {\n    return this._queue.length + (this.currentUploader ? 1 : 0);\n  }\n\n  flush() {\n    this._queue = [];\n    this.currentUploader = null;\n    this.onChange();\n  }\n\n  getAllUploaders() {\n    let all = this._queue.slice();\n\n    if (this.currentUploader) {\n      all = all.concat(this.currentUploader);\n    }\n\n    return all.reverse();\n  }\n\n  getCurrentUploader() {\n    return this.currentUploader;\n  }\n\n  addChangeListener(callback) {\n    this.listeners.push(callback);\n  }\n\n  removeChangeListener(callback) {\n    this.listeners = this.listeners.filter(l => l !== callback);\n  }\n\n  onChange() {\n    this.listeners.forEach(l => l(this));\n  }\n\n  createUploader(fileOptions, folder, contextId, contextType) {\n    const uploader = fileOptions.expandZip ? new _ZipUploader__WEBPACK_IMPORTED_MODULE_2__[\"default\"](fileOptions, folder, contextId, contextType) : new _FileUploader__WEBPACK_IMPORTED_MODULE_1__[\"default\"](fileOptions, folder);\n\n    uploader.onProgress = () => {\n      this.onChange();\n    };\n\n    uploader.cancel = () => {\n      uploader.abort();\n      this._queue = underscore__WEBPACK_IMPORTED_MODULE_0___default.a.without(this._queue, uploader);\n      if (this.currentUploader === uploader) this.currentUploader = null;\n      return this.onChange();\n    };\n\n    return uploader;\n  }\n\n  enqueue(fileOptions, folder, contextId, contextType) {\n    const uploader = this.createUploader(fileOptions, folder, contextId, contextType);\n\n    this._queue.push(uploader);\n\n    return this.attemptNextUpload();\n  }\n\n  dequeue() {\n    const firstNonErroredUpload = this._queue.find(upload => !upload.error);\n\n    this._queue = underscore__WEBPACK_IMPORTED_MODULE_0___default.a.without(this._queue, firstNonErroredUpload);\n    return firstNonErroredUpload;\n  }\n\n  removeUploaderFromQueue(uploader) {\n    if (uploader.error || uploader.inFlight) return;\n\n    const index = this._queue.findIndex(u => u === uploader);\n\n    if (index >= 0) {\n      this._queue.splice(index, 1);\n    }\n  }\n\n  pageChangeWarning(event) {\n    event.preventDefault();\n    event.returnValue = '';\n  }\n\n  attemptNextUpload() {\n    if (this._uploading || this._queue.length === 0) return;\n    const uploader = this.dequeue();\n    this.attemptThisUpload(uploader);\n  }\n\n  attemptThisUpload(uploader) {\n    if (!uploader) {\n      return;\n    }\n\n    uploader.reset();\n\n    if (this._uploading) {\n      return;\n    } // when retrying, the uploader is still queued\n\n\n    this.removeUploaderFromQueue(uploader);\n    this.currentUploader = uploader;\n    this.onChange();\n    this._uploading = true;\n    window.addEventListener('beforeunload', this.pageChangeWarning);\n    return uploader.upload().catch(failReason => {\n      // put it back in the queue unless the user aborted it\n      if (failReason !== 'user_aborted_upload') {\n        return this._queue.unshift(uploader);\n      }\n    }).finally(() => {\n      var _this$currentUploader;\n\n      this._uploading = false;\n\n      if (!((_this$currentUploader = this.currentUploader) !== null && _this$currentUploader !== void 0 && _this$currentUploader.inFlight)) {\n        this.currentUploader = null;\n      }\n\n      window.removeEventListener('beforeunload', this.pageChangeWarning);\n      this.onChange();\n      this.attemptNextUpload();\n    });\n  }\n\n}\n\nUploadQueue.prototype._uploading = false;\nUploadQueue.prototype._queue = [];\n/* harmony default export */ __webpack_exports__[\"default\"] = (new UploadQueue());\n\n//# sourceURL=webpack:///./ui/shared/files/react/modules/UploadQueue.js?");

/***/ }),

/***/ "iCd6":
/*!****************************************************************************!*\
  !*** ./frontend_build/i18n.js?folder_tree!./ui/shims/dummyI18nResource.js ***!
  \****************************************************************************/
/*! exports provided: default */
/***/ (function(module, __webpack_exports__, __webpack_require__) {

"use strict";
eval("__webpack_require__.r(__webpack_exports__);\n/* harmony import */ var _canvas_i18n_i18nObj__WEBPACK_IMPORTED_MODULE_0__ = __webpack_require__(/*! @canvas/i18n/i18nObj */ \"HGxv\");\n/* harmony import */ var translations_core_en__WEBPACK_IMPORTED_MODULE_1__ = __webpack_require__(/*! translations/_core_en */ \"0sPK\");\n\n    \n    \n    \n\n    /* harmony default export */ __webpack_exports__[\"default\"] = (_canvas_i18n_i18nObj__WEBPACK_IMPORTED_MODULE_0__[\"default\"].scoped('folder_tree'));\n  \n\n//# sourceURL=webpack:///./ui/shims/dummyI18nResource.js?./frontend_build/i18n.js?folder_tree");

/***/ }),

/***/ "iO0t":
/*!***************************************************!*\
  !*** ./ui/shared/lti/jquery/response_messages.js ***!
  \***************************************************/
/*! exports provided: default */
/***/ (function(module, __webpack_exports__, __webpack_require__) {

"use strict";
eval("__webpack_require__.r(__webpack_exports__);\n/* harmony import */ var _babel_runtime_helpers_esm_objectSpread2__WEBPACK_IMPORTED_MODULE_0__ = __webpack_require__(/*! @babel/runtime/helpers/esm/objectSpread2 */ \"VTBJ\");\n\n\n/*\n * Copyright (C) 2021 - present Instructure, Inc.\n *\n * This file is part of Canvas.\n *\n * Canvas is free software: you can redistribute it and/or modify it under\n * the terms of the GNU Affero General Public License as published by the Free\n * Software Foundation, version 3 of the License.\n *\n * Canvas is distributed in the hope that it will be useful, but WITHOUT ANY\n * WARRANTY; without even the implied warranty of MERCHANTABILITY or FITNESS FOR\n * A PARTICULAR PURPOSE. See the GNU Affero General Public License for more\n * details.\n *\n * You should have received a copy of the GNU Affero General Public License along\n * with this program. If not, see <http://www.gnu.org/licenses/>.\n */\nconst GENERIC_ERROR_CODE = 'error';\nconst UNSUPPORTED_SUBJECT_ERROR_CODE = 'unsupported_subject';\nconst WRONG_ORIGIN_ERROR_CODE = 'wrong_origin';\nconst BAD_REQUEST_ERROR_CODE = 'bad_request';\n\nconst buildResponseMessages = ({\n  targetWindow,\n  origin,\n  subject,\n  message_id\n}) => {\n  const sendResponse = (contents = {}) => {\n    const message = {\n      subject: `${subject}.response`\n    };\n\n    if (message_id) {\n      message.message_id = message_id;\n    }\n\n    if (targetWindow) {\n      targetWindow.postMessage(Object(_babel_runtime_helpers_esm_objectSpread2__WEBPACK_IMPORTED_MODULE_0__[\"default\"])(Object(_babel_runtime_helpers_esm_objectSpread2__WEBPACK_IMPORTED_MODULE_0__[\"default\"])({}, message), contents), origin);\n    } else {\n      // eslint-disable-next-line no-console\n      console.error('Error sending response postMessage: target window does not exist');\n    }\n  };\n\n  const sendSuccess = () => {\n    sendResponse({});\n  };\n\n  const sendError = (code, message) => {\n    const error = {\n      code\n    };\n\n    if (message) {\n      error.message = message;\n    }\n\n    sendResponse({\n      error\n    });\n  };\n\n  const sendGenericError = message => {\n    sendError(GENERIC_ERROR_CODE, message);\n  };\n\n  const sendBadRequestError = message => {\n    sendError(BAD_REQUEST_ERROR_CODE, message);\n  };\n\n  const sendWrongOriginError = () => {\n    sendError(WRONG_ORIGIN_ERROR_CODE);\n  };\n\n  const sendUnsupportedSubjectError = () => {\n    sendError(UNSUPPORTED_SUBJECT_ERROR_CODE);\n  };\n\n  return {\n    sendResponse,\n    sendSuccess,\n    sendError,\n    sendGenericError,\n    sendBadRequestError,\n    sendWrongOriginError,\n    sendUnsupportedSubjectError\n  };\n};\n\n/* harmony default export */ __webpack_exports__[\"default\"] = (buildResponseMessages);\n\n//# sourceURL=webpack:///./ui/shared/lti/jquery/response_messages.js?");

/***/ }),

/***/ "iOsA":
/*!******************************************************************************!*\
  !*** ./frontend_build/i18n.js?upload_button!./ui/shims/dummyI18nResource.js ***!
  \******************************************************************************/
/*! exports provided: default */
/***/ (function(module, __webpack_exports__, __webpack_require__) {

"use strict";
eval("__webpack_require__.r(__webpack_exports__);\n/* harmony import */ var _canvas_i18n_i18nObj__WEBPACK_IMPORTED_MODULE_0__ = __webpack_require__(/*! @canvas/i18n/i18nObj */ \"HGxv\");\n/* harmony import */ var translations_core_en__WEBPACK_IMPORTED_MODULE_1__ = __webpack_require__(/*! translations/_core_en */ \"0sPK\");\n\n    \n    \n    \n\n    /* harmony default export */ __webpack_exports__[\"default\"] = (_canvas_i18n_i18nObj__WEBPACK_IMPORTED_MODULE_0__[\"default\"].scoped('upload_button'));\n  \n\n//# sourceURL=webpack:///./ui/shims/dummyI18nResource.js?./frontend_build/i18n.js?upload_button");

/***/ }),

/***/ "itXk":
/*!***********************************************!*\
  !*** ./ui/shared/files/util/friendlyBytes.js ***!
  \***********************************************/
/*! exports provided: default */
/***/ (function(module, __webpack_exports__, __webpack_require__) {

"use strict";
eval("__webpack_require__.r(__webpack_exports__);\n/* harmony export (binding) */ __webpack_require__.d(__webpack_exports__, \"default\", function() { return friendlyBytes; });\n/* harmony import */ var _canvas_i18n__WEBPACK_IMPORTED_MODULE_0__ = __webpack_require__(/*! @canvas/i18n */ \"HGxv\");\n//\n// Copyright (C) 2014 - present Instructure, Inc.\n//\n// This file is part of Canvas.\n//\n// Canvas is free software: you can redistribute it and/or modify it under\n// the terms of the GNU Affero General Public License as published by the Free\n// Software Foundation, version 3 of the License.\n//\n// Canvas is distributed in the hope that it will be useful, but WITHOUT ANY\n// WARRANTY; without even the implied warranty of MERCHANTABILITY or FITNESS FOR\n// A PARTICULAR PURPOSE. See the GNU Affero General Public License for more\n// details.\n//\n// You should have received a copy of the GNU Affero General Public License along\n// with this program. If not, see <http://www.gnu.org/licenses/>.\n\nconst units = ['byte', 'bytes', 'KB', 'MB', 'GB', 'TB']; // converts bytes into a nice representation with unit. e.g. 13661855 -> 13.7 MB, 825399 -> 825 KB, 1396 -> 1 KB\n\nfunction friendlyBytes(value) {\n  let resInt, resValue;\n  const bytes = parseInt(value, 10);\n  if (bytes.toString() === 'NaN') return '--';\n\n  if (bytes === 0) {\n    resInt = resValue = 0;\n  } else {\n    resInt = Math.floor(Math.log(bytes) / Math.log(1000)); // base 10 (rather than 1024) matches Mac OS X\n\n    resValue = (bytes / Math.pow(1000, Math.floor(resInt))).toFixed(resInt < 2 ? 0 : 1); // no decimals for anything smaller than 1 MB\n\n    if (bytes === 1) resInt = -1; // 1 byte special case\n  }\n\n  return `${_canvas_i18n__WEBPACK_IMPORTED_MODULE_0__[\"default\"].n(resValue)} ${units[resInt + 1]}`;\n}\n\n//# sourceURL=webpack:///./ui/shared/files/util/friendlyBytes.js?");

/***/ }),

/***/ "jFkK":
/*!******************************************************************!*\
  !*** ./ui/shared/files/react/components/FilePreviewInfoPanel.js ***!
  \******************************************************************/
/*! exports provided: default */
/***/ (function(module, __webpack_exports__, __webpack_require__) {

"use strict";
eval("__webpack_require__.r(__webpack_exports__);\n/* harmony import */ var react__WEBPACK_IMPORTED_MODULE_0__ = __webpack_require__(/*! react */ \"q1tI\");\n/* harmony import */ var react__WEBPACK_IMPORTED_MODULE_0___default = /*#__PURE__*/__webpack_require__.n(react__WEBPACK_IMPORTED_MODULE_0__);\n/* harmony import */ var prop_types__WEBPACK_IMPORTED_MODULE_1__ = __webpack_require__(/*! prop-types */ \"17x9\");\n/* harmony import */ var prop_types__WEBPACK_IMPORTED_MODULE_1___default = /*#__PURE__*/__webpack_require__.n(prop_types__WEBPACK_IMPORTED_MODULE_1__);\n/* harmony import */ var i18n_file_preview__WEBPACK_IMPORTED_MODULE_2__ = __webpack_require__(/*! i18n!file_preview */ \"aq4X\");\n/* harmony import */ var _canvas_datetime_react_components_FriendlyDatetime__WEBPACK_IMPORTED_MODULE_3__ = __webpack_require__(/*! @canvas/datetime/react/components/FriendlyDatetime */ \"ZDrK\");\n/* harmony import */ var _util_friendlyBytes__WEBPACK_IMPORTED_MODULE_4__ = __webpack_require__(/*! ../../util/friendlyBytes */ \"itXk\");\n/* harmony import */ var _modules_customPropTypes__WEBPACK_IMPORTED_MODULE_5__ = __webpack_require__(/*! ../modules/customPropTypes */ \"Lg2F\");\n/* harmony import */ var _util_getFileStatus__WEBPACK_IMPORTED_MODULE_6__ = __webpack_require__(/*! ../../util/getFileStatus */ \"BcBy\");\n/* harmony import */ var _canvas_mime_mimeClass__WEBPACK_IMPORTED_MODULE_7__ = __webpack_require__(/*! @canvas/mime/mimeClass */ \"scx4\");\n/*\n * Copyright (C) 2015 - present Instructure, Inc.\n *\n * This file is part of Canvas.\n *\n * Canvas is free software: you can redistribute it and/or modify it under\n * the terms of the GNU Affero General Public License as published by the Free\n * Software Foundation, version 3 of the License.\n *\n * Canvas is distributed in the hope that it will be useful, but WITHOUT ANY\n * WARRANTY; without even the implied warranty of MERCHANTABILITY or FITNESS FOR\n * A PARTICULAR PURPOSE. See the GNU Affero General Public License for more\n * details.\n *\n * You should have received a copy of the GNU Affero General Public License along\n * with this program. If not, see <http://www.gnu.org/licenses/>.\n */\n\n\n\n\n\n\n\n\n\nclass FilePreviewInfoPanel extends react__WEBPACK_IMPORTED_MODULE_0___default.a.Component {\n  render() {\n    return /*#__PURE__*/react__WEBPACK_IMPORTED_MODULE_0___default.a.createElement(\"div\", {\n      className: \"ef-file-preview-information-container\"\n    }, /*#__PURE__*/react__WEBPACK_IMPORTED_MODULE_0___default.a.createElement(\"table\", {\n      className: \"ef-file-preview-infotable\"\n    }, /*#__PURE__*/react__WEBPACK_IMPORTED_MODULE_0___default.a.createElement(\"tbody\", null, /*#__PURE__*/react__WEBPACK_IMPORTED_MODULE_0___default.a.createElement(\"tr\", null, /*#__PURE__*/react__WEBPACK_IMPORTED_MODULE_0___default.a.createElement(\"th\", {\n      scope: \"row\"\n    }, i18n_file_preview__WEBPACK_IMPORTED_MODULE_2__[\"default\"].t('Name')), /*#__PURE__*/react__WEBPACK_IMPORTED_MODULE_0___default.a.createElement(\"td\", {\n      ref: \"displayName\"\n    }, this.props.displayedItem.displayName())), /*#__PURE__*/react__WEBPACK_IMPORTED_MODULE_0___default.a.createElement(\"tr\", null, /*#__PURE__*/react__WEBPACK_IMPORTED_MODULE_0___default.a.createElement(\"th\", {\n      scope: \"row\"\n    }, i18n_file_preview__WEBPACK_IMPORTED_MODULE_2__[\"default\"].t('Status')), /*#__PURE__*/react__WEBPACK_IMPORTED_MODULE_0___default.a.createElement(\"td\", {\n      ref: \"status\"\n    }, Object(_util_getFileStatus__WEBPACK_IMPORTED_MODULE_6__[\"default\"])(this.props.displayedItem))), /*#__PURE__*/react__WEBPACK_IMPORTED_MODULE_0___default.a.createElement(\"tr\", null, /*#__PURE__*/react__WEBPACK_IMPORTED_MODULE_0___default.a.createElement(\"th\", {\n      scope: \"row\"\n    }, i18n_file_preview__WEBPACK_IMPORTED_MODULE_2__[\"default\"].t('Kind')), /*#__PURE__*/react__WEBPACK_IMPORTED_MODULE_0___default.a.createElement(\"td\", {\n      ref: \"contentType\"\n    }, _canvas_mime_mimeClass__WEBPACK_IMPORTED_MODULE_7__[\"default\"].displayName(this.props.displayedItem.get('content-type')))), /*#__PURE__*/react__WEBPACK_IMPORTED_MODULE_0___default.a.createElement(\"tr\", null, /*#__PURE__*/react__WEBPACK_IMPORTED_MODULE_0___default.a.createElement(\"th\", {\n      scope: \"row\"\n    }, i18n_file_preview__WEBPACK_IMPORTED_MODULE_2__[\"default\"].t('Size')), /*#__PURE__*/react__WEBPACK_IMPORTED_MODULE_0___default.a.createElement(\"td\", {\n      ref: \"size\"\n    }, Object(_util_friendlyBytes__WEBPACK_IMPORTED_MODULE_4__[\"default\"])(this.props.displayedItem.get('size')))), /*#__PURE__*/react__WEBPACK_IMPORTED_MODULE_0___default.a.createElement(\"tr\", null, /*#__PURE__*/react__WEBPACK_IMPORTED_MODULE_0___default.a.createElement(\"th\", {\n      scope: \"row\"\n    }, i18n_file_preview__WEBPACK_IMPORTED_MODULE_2__[\"default\"].t('Date Modified')), /*#__PURE__*/react__WEBPACK_IMPORTED_MODULE_0___default.a.createElement(\"td\", {\n      id: \"dateModified\",\n      ref: \"dateModified\"\n    }, /*#__PURE__*/react__WEBPACK_IMPORTED_MODULE_0___default.a.createElement(_canvas_datetime_react_components_FriendlyDatetime__WEBPACK_IMPORTED_MODULE_3__[\"default\"], {\n      dateTime: this.props.displayedItem.get('updated_at')\n    }))), this.props.displayedItem.get('user') && /*#__PURE__*/react__WEBPACK_IMPORTED_MODULE_0___default.a.createElement(\"tr\", null, /*#__PURE__*/react__WEBPACK_IMPORTED_MODULE_0___default.a.createElement(\"th\", {\n      scope: \"row\"\n    }, i18n_file_preview__WEBPACK_IMPORTED_MODULE_2__[\"default\"].t('Last Modified By')), /*#__PURE__*/react__WEBPACK_IMPORTED_MODULE_0___default.a.createElement(\"td\", {\n      ref: \"modifedBy\"\n    }, /*#__PURE__*/react__WEBPACK_IMPORTED_MODULE_0___default.a.createElement(\"a\", {\n      href: this.props.displayedItem.get('user').html_url\n    }, this.props.displayedItem.get('user').display_name))), /*#__PURE__*/react__WEBPACK_IMPORTED_MODULE_0___default.a.createElement(\"tr\", null, /*#__PURE__*/react__WEBPACK_IMPORTED_MODULE_0___default.a.createElement(\"th\", {\n      scope: \"row\"\n    }, i18n_file_preview__WEBPACK_IMPORTED_MODULE_2__[\"default\"].t('Date Created')), /*#__PURE__*/react__WEBPACK_IMPORTED_MODULE_0___default.a.createElement(\"td\", {\n      id: \"dateCreated\"\n    }, /*#__PURE__*/react__WEBPACK_IMPORTED_MODULE_0___default.a.createElement(_canvas_datetime_react_components_FriendlyDatetime__WEBPACK_IMPORTED_MODULE_3__[\"default\"], {\n      dateTime: this.props.displayedItem.get('created_at')\n    }))), this.props.usageRightsRequiredForContext && /*#__PURE__*/react__WEBPACK_IMPORTED_MODULE_0___default.a.createElement(\"tr\", {\n      className: \"FilePreviewInfoPanel__usageRights\"\n    }, /*#__PURE__*/react__WEBPACK_IMPORTED_MODULE_0___default.a.createElement(\"th\", {\n      scope: \"row\"\n    }, i18n_file_preview__WEBPACK_IMPORTED_MODULE_2__[\"default\"].t('Usage Rights')), /*#__PURE__*/react__WEBPACK_IMPORTED_MODULE_0___default.a.createElement(\"td\", null, this.props.displayedItem && this.props.displayedItem.get('usage_rights') && this.props.displayedItem.get('usage_rights').license_name && /*#__PURE__*/react__WEBPACK_IMPORTED_MODULE_0___default.a.createElement(\"div\", {\n      ref: \"licenseName\"\n    }, this.props.displayedItem.get('usage_rights').license_name), this.props.displayedItem && this.props.displayedItem.get('usage_rights') && this.props.displayedItem.get('usage_rights').legal_copyright && /*#__PURE__*/react__WEBPACK_IMPORTED_MODULE_0___default.a.createElement(\"div\", {\n      ref: \"legalCopyright\"\n    }, this.props.displayedItem.get('usage_rights').legal_copyright))))));\n  }\n\n}\n\nFilePreviewInfoPanel.displayName = 'FilePreviewInfoPanel';\nFilePreviewInfoPanel.propTypes = {\n  displayedItem: _modules_customPropTypes__WEBPACK_IMPORTED_MODULE_5__[\"default\"].filesystemObject.isRequired,\n  usageRightsRequiredForContext: prop_types__WEBPACK_IMPORTED_MODULE_1___default.a.bool\n};\n/* harmony default export */ __webpack_exports__[\"default\"] = (FilePreviewInfoPanel);\n\n//# sourceURL=webpack:///./ui/shared/files/react/components/FilePreviewInfoPanel.js?");

/***/ }),

/***/ "jFoo":
/*!******************************************!*\
  !*** ./ui/shared/lti/jquery/messages.js ***!
  \******************************************/
/*! exports provided: ltiState, SUBJECT_ALLOW_LIST, SUBJECT_IGNORE_LIST, ltiMessageHandler, monitorLtiMessages */
/***/ (function(module, __webpack_exports__, __webpack_require__) {

"use strict";
eval("__webpack_require__.r(__webpack_exports__);\n/* harmony export (binding) */ __webpack_require__.d(__webpack_exports__, \"ltiState\", function() { return ltiState; });\n/* harmony export (binding) */ __webpack_require__.d(__webpack_exports__, \"SUBJECT_ALLOW_LIST\", function() { return SUBJECT_ALLOW_LIST; });\n/* harmony export (binding) */ __webpack_require__.d(__webpack_exports__, \"SUBJECT_IGNORE_LIST\", function() { return SUBJECT_IGNORE_LIST; });\n/* harmony export (binding) */ __webpack_require__.d(__webpack_exports__, \"ltiMessageHandler\", function() { return ltiMessageHandler; });\n/* harmony export (binding) */ __webpack_require__.d(__webpack_exports__, \"monitorLtiMessages\", function() { return monitorLtiMessages; });\n/* harmony import */ var _rce_plugins_canvas_mentions_constants__WEBPACK_IMPORTED_MODULE_0__ = __webpack_require__(/*! ../../rce/plugins/canvas_mentions/constants */ \"fhP7\");\n/* harmony import */ var _response_messages__WEBPACK_IMPORTED_MODULE_1__ = __webpack_require__(/*! ./response_messages */ \"iO0t\");\n/*\n * Copyright (C) 2018 - present Instructure, Inc.\n *\n * This file is part of Canvas.\n *\n * Canvas is free software: you can redistribute it and/or modify it under\n * the terms of the GNU Affero General Public License as published by the Free\n * Software Foundation, version 3 of the License.\n *\n * Canvas is distributed in the hope that it will be useful, but WITHOUT ANY\n * WARRANTY; without even the implied warranty of MERCHANTABILITY or FITNESS FOR\n * A PARTICULAR PURPOSE. See the GNU Affero General Public License for more\n * details.\n *\n * You should have received a copy of the GNU Affero General Public License along\n * with this program. If not, see <http://www.gnu.org/licenses/>.\n */\n\n/* eslint no-console: 0 */\n\n // page-global storage for data relevant to LTI postMessage events\n\nconst ltiState = {};\nconst SUBJECT_ALLOW_LIST = ['lti.enableScrollEvents', 'lti.fetchWindowSize', 'lti.frameResize', 'lti.removeUnloadMessage', 'lti.resourceImported', 'lti.screenReaderAlert', 'lti.scrollToTop', 'lti.setUnloadMessage', 'lti.showModuleNavigation', 'requestFullWindowLaunch', 'toggleCourseNavigationMenu']; // These are handled elsewhere so ignore them\n\nconst SUBJECT_IGNORE_LIST = ['A2ExternalContentReady', 'LtiDeepLinkingResponse', _rce_plugins_canvas_mentions_constants__WEBPACK_IMPORTED_MODULE_0__[\"NAVIGATION_MESSAGE\"], _rce_plugins_canvas_mentions_constants__WEBPACK_IMPORTED_MODULE_0__[\"INPUT_CHANGE_MESSAGE\"], _rce_plugins_canvas_mentions_constants__WEBPACK_IMPORTED_MODULE_0__[\"SELECTION_MESSAGE\"]];\n\nasync function ltiMessageHandler(e, platformStorageFeatureFlag = false) {\n  if (e.data.source && e.data.source.includes('react-devtools')) {\n    return false;\n  }\n\n  let message;\n\n  try {\n    message = typeof e.data === 'string' ? JSON.parse(e.data) : e.data;\n  } catch (err) {\n    // unparseable message may not be meant for our handlers\n    return false;\n  } // look at messageType for backwards compatibility\n\n\n  const subject = message.subject || message.messageType;\n  const responseMessages = Object(_response_messages__WEBPACK_IMPORTED_MODULE_1__[\"default\"])({\n    targetWindow: e.source,\n    origin: e.origin,\n    subject,\n    message_id: message.message_id\n  });\n\n  if (SUBJECT_IGNORE_LIST.includes(subject)) {\n    // These messages are handled elsewhere\n    return false;\n  } else if (!SUBJECT_ALLOW_LIST.includes(subject)) {\n    // Enforce subject allowlist -- unknown type\n    if (platformStorageFeatureFlag) {\n      responseMessages.sendUnsupportedSubjectError();\n    }\n\n    return false;\n  }\n\n  try {\n    const handlerModule = await __webpack_require__(\"G4i8\")(`./${subject}.js`);\n    const hasSentResponse = handlerModule.default({\n      message,\n      event: e,\n      responseMessages\n    });\n\n    if (!hasSentResponse && platformStorageFeatureFlag) {\n      responseMessages.sendSuccess();\n    }\n\n    return true;\n  } catch (error) {\n    console.error(`Error loading or executing message handler for \"${subject}\": ${error}`);\n\n    if (platformStorageFeatureFlag) {\n      responseMessages.sendGenericError(error.message);\n    }\n\n    return false;\n  }\n}\n\nfunction monitorLtiMessages() {\n  var _ENV, _ENV$FEATURES;\n\n  const platformStorageFeatureFlag = (_ENV = ENV) === null || _ENV === void 0 ? void 0 : (_ENV$FEATURES = _ENV.FEATURES) === null || _ENV$FEATURES === void 0 ? void 0 : _ENV$FEATURES.lti_platform_storage;\n  window.addEventListener('message', e => {\n    if (e.data !== '') ltiMessageHandler(e, platformStorageFeatureFlag);\n  });\n}\n\n\n\n//# sourceURL=webpack:///./ui/shared/lti/jquery/messages.js?");

/***/ }),

/***/ "kUCf":
/*!******************************************************************!*\
  !*** ./ui/shared/files/react/components/UsageRightsIndicator.js ***!
  \******************************************************************/
/*! exports provided: default */
/***/ (function(module, __webpack_exports__, __webpack_require__) {

"use strict";
eval("__webpack_require__.r(__webpack_exports__);\n/* harmony export (binding) */ __webpack_require__.d(__webpack_exports__, \"default\", function() { return UsageRightsIndicator; });\n/* harmony import */ var i18n_react_files__WEBPACK_IMPORTED_MODULE_0__ = __webpack_require__(/*! i18n!react_files */ \"mddV\");\n/* harmony import */ var react__WEBPACK_IMPORTED_MODULE_1__ = __webpack_require__(/*! react */ \"q1tI\");\n/* harmony import */ var react__WEBPACK_IMPORTED_MODULE_1___default = /*#__PURE__*/__webpack_require__.n(react__WEBPACK_IMPORTED_MODULE_1__);\n/* harmony import */ var prop_types__WEBPACK_IMPORTED_MODULE_2__ = __webpack_require__(/*! prop-types */ \"17x9\");\n/* harmony import */ var prop_types__WEBPACK_IMPORTED_MODULE_2___default = /*#__PURE__*/__webpack_require__.n(prop_types__WEBPACK_IMPORTED_MODULE_2__);\n/* harmony import */ var react_dom__WEBPACK_IMPORTED_MODULE_3__ = __webpack_require__(/*! react-dom */ \"i8i4\");\n/* harmony import */ var react_dom__WEBPACK_IMPORTED_MODULE_3___default = /*#__PURE__*/__webpack_require__.n(react_dom__WEBPACK_IMPORTED_MODULE_3__);\n/* harmony import */ var _modules_customPropTypes__WEBPACK_IMPORTED_MODULE_4__ = __webpack_require__(/*! ../modules/customPropTypes */ \"Lg2F\");\n/* harmony import */ var _backbone_models_Folder__WEBPACK_IMPORTED_MODULE_5__ = __webpack_require__(/*! ../../backbone/models/Folder */ \"3jyj\");\n/* harmony import */ var _UsageRightsDialog__WEBPACK_IMPORTED_MODULE_6__ = __webpack_require__(/*! ./UsageRightsDialog */ \"YPkD\");\n/*\n * Copyright (C) 2015 - present Instructure, Inc.\n *\n * This file is part of Canvas.\n *\n * Canvas is free software: you can redistribute it and/or modify it under\n * the terms of the GNU Affero General Public License as published by the Free\n * Software Foundation, version 3 of the License.\n *\n * Canvas is distributed in the hope that it will be useful, but WITHOUT ANY\n * WARRANTY; without even the implied warranty of MERCHANTABILITY or FITNESS FOR\n * A PARTICULAR PURPOSE. See the GNU Affero General Public License for more\n * details.\n *\n * You should have received a copy of the GNU Affero General Public License along\n * with this program. If not, see <http://www.gnu.org/licenses/>.\n */\n\n\n\n\n\n\n\nclass UsageRightsIndicator extends react__WEBPACK_IMPORTED_MODULE_1___default.a.Component {\n  constructor(...args) {\n    super(...args);\n    this.warningMessage = i18n_react_files__WEBPACK_IMPORTED_MODULE_0__[\"default\"].t('Before publishing this file, you must specify usage rights.');\n\n    this.handleClick = event => {\n      event.preventDefault();\n      const contents = /*#__PURE__*/react__WEBPACK_IMPORTED_MODULE_1___default.a.createElement(_UsageRightsDialog__WEBPACK_IMPORTED_MODULE_6__[\"default\"], {\n        isOpen: true,\n        closeModal: this.props.modalOptions.closeModal,\n        itemsToManage: [this.props.model],\n        userCanRestrictFilesForContext: this.props.userCanRestrictFilesForContext,\n        contextType: this.props.contextType,\n        contextId: this.props.contextId,\n        hidePreview: this.props.hidePreview,\n        deferSave: this.props.deferSave\n      });\n      this.props.modalOptions.openModal(contents, () => {\n        react_dom__WEBPACK_IMPORTED_MODULE_3___default.a.findDOMNode(this).focus();\n      });\n    };\n\n    this.getIconData = useJustification => {\n      switch (useJustification) {\n        case 'own_copyright':\n          return {\n            iconClass: 'icon-files-copyright',\n            text: i18n_react_files__WEBPACK_IMPORTED_MODULE_0__[\"default\"].t('Own Copyright')\n          };\n\n        case 'public_domain':\n          return {\n            iconClass: 'icon-files-public-domain',\n            text: i18n_react_files__WEBPACK_IMPORTED_MODULE_0__[\"default\"].t('Public Domain')\n          };\n\n        case 'used_by_permission':\n          return {\n            iconClass: 'icon-files-obtained-permission',\n            text: i18n_react_files__WEBPACK_IMPORTED_MODULE_0__[\"default\"].t('Used by Permission')\n          };\n\n        case 'fair_use':\n          return {\n            iconClass: 'icon-files-fair-use',\n            text: i18n_react_files__WEBPACK_IMPORTED_MODULE_0__[\"default\"].t('Fair Use')\n          };\n\n        case 'creative_commons':\n          return {\n            iconClass: 'icon-files-creative-commons',\n            text: i18n_react_files__WEBPACK_IMPORTED_MODULE_0__[\"default\"].t('Creative Commons')\n          };\n      }\n    };\n  }\n\n  render() {\n    if (this.props.model instanceof _backbone_models_Folder__WEBPACK_IMPORTED_MODULE_5__[\"default\"] || !this.props.usageRightsRequiredForContext && !this.props.model.get('usage_rights')) {\n      return null;\n    } else if (this.props.usageRightsRequiredForContext && !this.props.model.get('usage_rights')) {\n      if (this.props.userCanEditFilesForContext) {\n        return /*#__PURE__*/react__WEBPACK_IMPORTED_MODULE_1___default.a.createElement(\"button\", {\n          className: \"UsageRightsIndicator__openModal btn-link\",\n          onClick: this.handleClick,\n          title: this.props.suppressWarning ? i18n_react_files__WEBPACK_IMPORTED_MODULE_0__[\"default\"].t('Manage usage rights') : this.warningMessage,\n          \"data-tooltip\": \"top\",\n          \"aria-label\": i18n_react_files__WEBPACK_IMPORTED_MODULE_0__[\"default\"].t('Set usage rights')\n        }, !this.props.suppressWarning && /*#__PURE__*/react__WEBPACK_IMPORTED_MODULE_1___default.a.createElement(\"span\", {\n          className: \"screenreader-only\"\n        }, this.warningMessage), /*#__PURE__*/react__WEBPACK_IMPORTED_MODULE_1___default.a.createElement(\"i\", {\n          className: \"UsageRightsIndicator__warning icon-warning\"\n        }));\n      } else {\n        return null;\n      }\n    } else {\n      const useJustification = this.props.model.get('usage_rights').use_justification;\n      const iconData = this.getIconData(useJustification);\n      return /*#__PURE__*/react__WEBPACK_IMPORTED_MODULE_1___default.a.createElement(\"button\", {\n        className: \"UsageRightsIndicator__openModal btn-link\",\n        onClick: this.handleClick,\n        disabled: !this.props.userCanEditFilesForContext,\n        title: this.props.model.get('usage_rights').license_name,\n        \"data-tooltip\": \"top\",\n        \"aria-label\": i18n_react_files__WEBPACK_IMPORTED_MODULE_0__[\"default\"].t('Set usage rights')\n      }, /*#__PURE__*/react__WEBPACK_IMPORTED_MODULE_1___default.a.createElement(\"span\", {\n        ref: \"screenreaderText\",\n        className: \"screenreader-only\"\n      }, iconData.text), /*#__PURE__*/react__WEBPACK_IMPORTED_MODULE_1___default.a.createElement(\"span\", {\n        className: \"screenreader-only\"\n      }, this.props.model.get('usage_rights').license_name), /*#__PURE__*/react__WEBPACK_IMPORTED_MODULE_1___default.a.createElement(\"i\", {\n        ref: \"icon\",\n        className: iconData.iconClass\n      }));\n    }\n  }\n\n}\nUsageRightsIndicator.propTypes = {\n  model: _modules_customPropTypes__WEBPACK_IMPORTED_MODULE_4__[\"default\"].filesystemObject.isRequired,\n  userCanEditFilesForContext: prop_types__WEBPACK_IMPORTED_MODULE_2___default.a.bool.isRequired,\n  userCanRestrictFilesForContext: prop_types__WEBPACK_IMPORTED_MODULE_2___default.a.bool.isRequired,\n  usageRightsRequiredForContext: prop_types__WEBPACK_IMPORTED_MODULE_2___default.a.bool.isRequired,\n  modalOptions: prop_types__WEBPACK_IMPORTED_MODULE_2___default.a.object.isRequired,\n  contextType: prop_types__WEBPACK_IMPORTED_MODULE_2___default.a.string,\n  contextId: prop_types__WEBPACK_IMPORTED_MODULE_2___default.a.oneOfType([prop_types__WEBPACK_IMPORTED_MODULE_2___default.a.string, prop_types__WEBPACK_IMPORTED_MODULE_2___default.a.number]),\n  hidePreview: prop_types__WEBPACK_IMPORTED_MODULE_2___default.a.bool,\n  deferSave: prop_types__WEBPACK_IMPORTED_MODULE_2___default.a.func,\n  suppressWarning: prop_types__WEBPACK_IMPORTED_MODULE_2___default.a.bool\n};\n\n//# sourceURL=webpack:///./ui/shared/files/react/components/UsageRightsIndicator.js?");

/***/ }),

/***/ "m452":
/*!***************************************************!*\
  !*** ./ui/shared/files/react/modules/filesEnv.js ***!
  \***************************************************/
/*! exports provided: default */
/***/ (function(module, __webpack_exports__, __webpack_require__) {

"use strict";
eval("__webpack_require__.r(__webpack_exports__);\n/* harmony import */ var _babel_runtime_helpers_esm_slicedToArray__WEBPACK_IMPORTED_MODULE_0__ = __webpack_require__(/*! @babel/runtime/helpers/esm/slicedToArray */ \"ODXe\");\n/* harmony import */ var _backbone_models_Folder__WEBPACK_IMPORTED_MODULE_1__ = __webpack_require__(/*! ../../backbone/models/Folder */ \"3jyj\");\n/* harmony import */ var _canvas_util_splitAssetString__WEBPACK_IMPORTED_MODULE_2__ = __webpack_require__(/*! @canvas/util/splitAssetString */ \"s9Pr\");\n\n\n/*\n * Copyright (C) 2014 - present Instructure, Inc.\n *\n * This file is part of Canvas.\n *\n * Canvas is free software: you can redistribute it and/or modify it under\n * the terms of the GNU Affero General Public License as published by the Free\n * Software Foundation, version 3 of the License.\n *\n * Canvas is distributed in the hope that it will be useful, but WITHOUT ANY\n * WARRANTY; without even the implied warranty of MERCHANTABILITY or FITNESS FOR\n * A PARTICULAR PURPOSE. See the GNU Affero General Public License for more\n * details.\n *\n * You should have received a copy of the GNU Affero General Public License along\n * with this program. If not, see <http://www.gnu.org/licenses/>.\n */\n\n\nconst fileContexts = ENV.FILES_CONTEXTS || [];\nconst filesEnv = {\n  contexts: fileContexts,\n  contextsDictionary: fileContexts.reduce((dict, context) => {\n    const _Array$from = Array.from(Object(_canvas_util_splitAssetString__WEBPACK_IMPORTED_MODULE_2__[\"default\"])(context.asset_string)),\n          _Array$from2 = Object(_babel_runtime_helpers_esm_slicedToArray__WEBPACK_IMPORTED_MODULE_0__[\"default\"])(_Array$from, 2),\n          contextType = _Array$from2[0],\n          contextId = _Array$from2[1];\n\n    context.contextType = contextType;\n    context.contextId = contextId;\n    dict[[contextType, contextId].join('_')] = context;\n    return dict;\n  }, {}),\n  showingAllContexts: window.location.pathname.match(/^\\/files/),\n  contextType: fileContexts[0] != null ? fileContexts[0].contextType : void 0,\n  contextId: fileContexts[0] != null ? fileContexts[0].contextId : void 0,\n  rootFolders: fileContexts.map(contextData => {\n    if (ENV.current_user_id) {\n      const folder = new _backbone_models_Folder__WEBPACK_IMPORTED_MODULE_1__[\"default\"]({\n        custom_name: contextData.name,\n        context_type: contextData.contextType.replace(/s$/, ''),\n        context_id: contextData.contextId\n      });\n      folder.url = `/api/v1/${contextData.contextType}/${contextData.contextId}/folders/root`;\n      folder.fetch();\n      return folder;\n    }\n  })\n};\n\nfilesEnv.contextFor = function (folderOrFile) {\n  let assetString;\n\n  if (folderOrFile.collection && folderOrFile.collection.parentFolder) {\n    folderOrFile = folderOrFile.collection.parentFolder;\n  }\n\n  if (folderOrFile instanceof _backbone_models_Folder__WEBPACK_IMPORTED_MODULE_1__[\"default\"]) {\n    const folder = folderOrFile;\n    assetString = `${folder && folder.get('context_type')}s_${folder && folder.get('context_id')}`.toLowerCase();\n  } else if (folderOrFile.contextType && folderOrFile.contextId) {\n    assetString = `${folderOrFile.contextType}_${folderOrFile.contextId}`.toLowerCase();\n  }\n\n  return filesEnv.contextsDictionary && filesEnv.contextsDictionary[assetString];\n};\n\nfilesEnv.userHasPermission = function (folderOrFile, action) {\n  if (!folderOrFile) return false;\n  return filesEnv.contextFor(folderOrFile) && filesEnv.contextFor(folderOrFile).permissions && filesEnv.contextFor(folderOrFile).permissions[action];\n};\n\nfilesEnv.baseUrl = filesEnv.showingAllContexts ? '/files' : `/${filesEnv.contextType}/${filesEnv.contextId}/files`;\n/* harmony default export */ __webpack_exports__[\"default\"] = (filesEnv);\n\n//# sourceURL=webpack:///./ui/shared/files/react/modules/filesEnv.js?");

/***/ }),

/***/ "mFaB":
/*!***********************************************************************************!*\
  !*** ./frontend_build/i18n.js?usage_rights_modal!./ui/shims/dummyI18nResource.js ***!
  \***********************************************************************************/
/*! exports provided: default */
/***/ (function(module, __webpack_exports__, __webpack_require__) {

"use strict";
eval("__webpack_require__.r(__webpack_exports__);\n/* harmony import */ var _canvas_i18n_i18nObj__WEBPACK_IMPORTED_MODULE_0__ = __webpack_require__(/*! @canvas/i18n/i18nObj */ \"HGxv\");\n/* harmony import */ var translations_core_en__WEBPACK_IMPORTED_MODULE_1__ = __webpack_require__(/*! translations/_core_en */ \"0sPK\");\n\n    \n    \n    \n\n    /* harmony default export */ __webpack_exports__[\"default\"] = (_canvas_i18n_i18nObj__WEBPACK_IMPORTED_MODULE_0__[\"default\"].scoped('usage_rights_modal'));\n  \n\n//# sourceURL=webpack:///./ui/shims/dummyI18nResource.js?./frontend_build/i18n.js?usage_rights_modal");

/***/ }),

/***/ "mKJ7":
/*!*************************************************************!*\
  !*** ./ui/features/files/react/components/SearchResults.js ***!
  \*************************************************************/
/*! exports provided: default */
/***/ (function(module, __webpack_exports__, __webpack_require__) {

"use strict";
eval("__webpack_require__.r(__webpack_exports__);\n/* harmony import */ var i18n_react_files__WEBPACK_IMPORTED_MODULE_0__ = __webpack_require__(/*! i18n!react_files */ \"mddV\");\n/* harmony import */ var underscore__WEBPACK_IMPORTED_MODULE_1__ = __webpack_require__(/*! underscore */ \"Y/W1\");\n/* harmony import */ var underscore__WEBPACK_IMPORTED_MODULE_1___default = /*#__PURE__*/__webpack_require__.n(underscore__WEBPACK_IMPORTED_MODULE_1__);\n/* harmony import */ var react__WEBPACK_IMPORTED_MODULE_2__ = __webpack_require__(/*! react */ \"q1tI\");\n/* harmony import */ var react__WEBPACK_IMPORTED_MODULE_2___default = /*#__PURE__*/__webpack_require__.n(react__WEBPACK_IMPORTED_MODULE_2__);\n/* harmony import */ var create_react_class__WEBPACK_IMPORTED_MODULE_3__ = __webpack_require__(/*! create-react-class */ \"fhzG\");\n/* harmony import */ var create_react_class__WEBPACK_IMPORTED_MODULE_3___default = /*#__PURE__*/__webpack_require__.n(create_react_class__WEBPACK_IMPORTED_MODULE_3__);\n/* harmony import */ var _legacy_components_SearchResults__WEBPACK_IMPORTED_MODULE_4__ = __webpack_require__(/*! ../legacy/components/SearchResults */ \"NK9e\");\n/* harmony import */ var _NoResults__WEBPACK_IMPORTED_MODULE_5__ = __webpack_require__(/*! ./NoResults */ \"mgP0\");\n/* harmony import */ var _ColumnHeaders__WEBPACK_IMPORTED_MODULE_6__ = __webpack_require__(/*! ./ColumnHeaders */ \"Dxaw\");\n/* harmony import */ var _canvas_files_backbone_models_Folder__WEBPACK_IMPORTED_MODULE_7__ = __webpack_require__(/*! @canvas/files/backbone/models/Folder */ \"3jyj\");\n/* harmony import */ var _FolderChild__WEBPACK_IMPORTED_MODULE_8__ = __webpack_require__(/*! ./FolderChild */ \"+WYy\");\n/* harmony import */ var _LoadingIndicator__WEBPACK_IMPORTED_MODULE_9__ = __webpack_require__(/*! ./LoadingIndicator */ \"GJkP\");\n/* harmony import */ var _canvas_files_react_components_FilePreview__WEBPACK_IMPORTED_MODULE_10__ = __webpack_require__(/*! @canvas/files/react/components/FilePreview */ \"Llkk\");\n/* harmony import */ var page__WEBPACK_IMPORTED_MODULE_11__ = __webpack_require__(/*! page */ \"KVl8\");\n/* harmony import */ var page__WEBPACK_IMPORTED_MODULE_11___default = /*#__PURE__*/__webpack_require__.n(page__WEBPACK_IMPORTED_MODULE_11__);\n/* harmony import */ var _legacy_modules_FocusStore__WEBPACK_IMPORTED_MODULE_12__ = __webpack_require__(/*! ../legacy/modules/FocusStore */ \"cBjt\");\n/*\n * Copyright (C) 2015 - present Instructure, Inc.\n *\n * This file is part of Canvas.\n *\n * Canvas is free software: you can redistribute it and/or modify it under\n * the terms of the GNU Affero General Public License as published by the Free\n * Software Foundation, version 3 of the License.\n *\n * Canvas is distributed in the hope that it will be useful, but WITHOUT ANY\n * WARRANTY; without even the implied warranty of MERCHANTABILITY or FITNESS FOR\n * A PARTICULAR PURPOSE. See the GNU Affero General Public License for more\n * details.\n *\n * You should have received a copy of the GNU Affero General Public License along\n * with this program. If not, see <http://www.gnu.org/licenses/>.\n */\n\n\n\n\n\n\n\n\n\n\n\n\n\n\n_legacy_components_SearchResults__WEBPACK_IMPORTED_MODULE_4__[\"default\"].displayErrors = function (errors) {\n  let error_message = null;\n\n  if (errors != null) {\n    error_message = errors.map(error => /*#__PURE__*/react__WEBPACK_IMPORTED_MODULE_2___default.a.createElement(\"li\", null, error.message));\n  }\n\n  return /*#__PURE__*/react__WEBPACK_IMPORTED_MODULE_2___default.a.createElement(\"div\", null, /*#__PURE__*/react__WEBPACK_IMPORTED_MODULE_2___default.a.createElement(\"p\", null, i18n_react_files__WEBPACK_IMPORTED_MODULE_0__[\"default\"].t({\n    one: 'Your search encountered the following error:',\n    other: 'Your search encountered the following errors:'\n  }, {\n    count: errors.length\n  })), /*#__PURE__*/react__WEBPACK_IMPORTED_MODULE_2___default.a.createElement(\"ul\", null, error_message));\n};\n\n_legacy_components_SearchResults__WEBPACK_IMPORTED_MODULE_4__[\"default\"].closeFilePreview = function (url) {\n  page__WEBPACK_IMPORTED_MODULE_11___default()(url);\n  _legacy_modules_FocusStore__WEBPACK_IMPORTED_MODULE_12__[\"default\"].setFocusToItem();\n};\n\n_legacy_components_SearchResults__WEBPACK_IMPORTED_MODULE_4__[\"default\"].renderFilePreview = function () {\n  if (this.props.query.preview != null && this.state.collection.length) {\n    return (\n      /*#__PURE__*/\n\n      /*\n       * Prepare and render the FilePreview if needed.\n       * As long as ?preview is present in the url.\n       */\n      react__WEBPACK_IMPORTED_MODULE_2___default.a.createElement(_canvas_files_react_components_FilePreview__WEBPACK_IMPORTED_MODULE_10__[\"default\"], {\n        isOpen: true,\n        params: this.props.params,\n        query: this.props.query,\n        collection: this.state.collection,\n        usageRightsRequiredForContext: this.props.usageRightsRequiredForContext,\n        splat: this.props.splat,\n        closePreview: this.closeFilePreview\n      })\n    );\n  }\n};\n\n_legacy_components_SearchResults__WEBPACK_IMPORTED_MODULE_4__[\"default\"].render = function () {\n  if (this.state.errors) {\n    return this.displayErrors(this.state.errors);\n  } else if (this.state.collection.loadedAll && this.state.collection.length == 0) {\n    return /*#__PURE__*/react__WEBPACK_IMPORTED_MODULE_2___default.a.createElement(_NoResults__WEBPACK_IMPORTED_MODULE_5__[\"default\"], {\n      search_term: this.props.query.search_term\n    });\n  } else {\n    return /*#__PURE__*/react__WEBPACK_IMPORTED_MODULE_2___default.a.createElement(\"div\", {\n      role: \"grid\"\n    }, /*#__PURE__*/react__WEBPACK_IMPORTED_MODULE_2___default.a.createElement(\"div\", {\n      ref: \"accessibilityMessage\",\n      className: \"SearchResults__accessbilityMessage col-xs\",\n      tabIndex: \"0\"\n    }, i18n_react_files__WEBPACK_IMPORTED_MODULE_0__[\"default\"].t('Warning: For improved accessibility in moving files, please use the Move To Dialog option found in the menu.')), /*#__PURE__*/react__WEBPACK_IMPORTED_MODULE_2___default.a.createElement(_ColumnHeaders__WEBPACK_IMPORTED_MODULE_6__[\"default\"], {\n      to: \"search\",\n      query: this.props.query,\n      params: this.props.params,\n      pathname: this.props.pathname,\n      toggleAllSelected: this.props.toggleAllSelected,\n      areAllItemsSelected: this.props.areAllItemsSelected,\n      usageRightsRequiredForContext: this.props.usageRightsRequiredForContext\n    }), this.state.collection.models.sort(_canvas_files_backbone_models_Folder__WEBPACK_IMPORTED_MODULE_7__[\"default\"].prototype.childrenSorter.bind(this.state.collection, this.props.query.sort, this.props.query.order)).map(child => /*#__PURE__*/react__WEBPACK_IMPORTED_MODULE_2___default.a.createElement(_FolderChild__WEBPACK_IMPORTED_MODULE_8__[\"default\"], {\n      key: child.cid,\n      model: child,\n      isSelected: underscore__WEBPACK_IMPORTED_MODULE_1___default.a.indexOf(this.props.selectedItems, child) >= 0,\n      toggleSelected: this.props.toggleItemSelected.bind(null, child),\n      userCanRestrictFilesForContext: this.props.userCanRestrictFilesForContext,\n      usageRightsRequiredForContext: this.props.usageRightsRequiredForContext,\n      externalToolsForContext: this.props.externalToolsForContext,\n      previewItem: this.props.previewItem.bind(null, child),\n      dndOptions: this.props.dndOptions,\n      modalOptions: this.props.modalOptions,\n      clearSelectedItems: this.props.clearSelectedItems,\n      onMove: this.props.onMove\n    })), /*#__PURE__*/react__WEBPACK_IMPORTED_MODULE_2___default.a.createElement(_LoadingIndicator__WEBPACK_IMPORTED_MODULE_9__[\"default\"], {\n      isLoading: !this.state.collection.loadedAll\n    }), this.renderFilePreview());\n  }\n};\n\n/* harmony default export */ __webpack_exports__[\"default\"] = (create_react_class__WEBPACK_IMPORTED_MODULE_3___default()(_legacy_components_SearchResults__WEBPACK_IMPORTED_MODULE_4__[\"default\"]));\n\n//# sourceURL=webpack:///./ui/features/files/react/components/SearchResults.js?");

/***/ }),

/***/ "mddV":
/*!****************************************************************************!*\
  !*** ./frontend_build/i18n.js?react_files!./ui/shims/dummyI18nResource.js ***!
  \****************************************************************************/
/*! exports provided: default */
/***/ (function(module, __webpack_exports__, __webpack_require__) {

"use strict";
eval("__webpack_require__.r(__webpack_exports__);\n/* harmony import */ var _canvas_i18n_i18nObj__WEBPACK_IMPORTED_MODULE_0__ = __webpack_require__(/*! @canvas/i18n/i18nObj */ \"HGxv\");\n/* harmony import */ var translations_core_en__WEBPACK_IMPORTED_MODULE_1__ = __webpack_require__(/*! translations/_core_en */ \"0sPK\");\n\n    \n    \n    \n\n    /* harmony default export */ __webpack_exports__[\"default\"] = (_canvas_i18n_i18nObj__WEBPACK_IMPORTED_MODULE_0__[\"default\"].scoped('react_files'));\n  \n\n//# sourceURL=webpack:///./ui/shims/dummyI18nResource.js?./frontend_build/i18n.js?react_files");

/***/ }),

/***/ "mgP0":
/*!*********************************************************!*\
  !*** ./ui/features/files/react/components/NoResults.js ***!
  \*********************************************************/
/*! exports provided: default */
/***/ (function(module, __webpack_exports__, __webpack_require__) {

"use strict";
eval("__webpack_require__.r(__webpack_exports__);\n/* harmony export (binding) */ __webpack_require__.d(__webpack_exports__, \"default\", function() { return NoResults; });\n/* harmony import */ var i18n_react_files__WEBPACK_IMPORTED_MODULE_0__ = __webpack_require__(/*! i18n!react_files */ \"mddV\");\n/* harmony import */ var react__WEBPACK_IMPORTED_MODULE_1__ = __webpack_require__(/*! react */ \"q1tI\");\n/* harmony import */ var react__WEBPACK_IMPORTED_MODULE_1___default = /*#__PURE__*/__webpack_require__.n(react__WEBPACK_IMPORTED_MODULE_1__);\n/* harmony import */ var prop_types__WEBPACK_IMPORTED_MODULE_2__ = __webpack_require__(/*! prop-types */ \"17x9\");\n/* harmony import */ var prop_types__WEBPACK_IMPORTED_MODULE_2___default = /*#__PURE__*/__webpack_require__.n(prop_types__WEBPACK_IMPORTED_MODULE_2__);\n/*\n * Copyright (C) 2015 - present Instructure, Inc.\n *\n * This file is part of Canvas.\n *\n * Canvas is free software: you can redistribute it and/or modify it under\n * the terms of the GNU Affero General Public License as published by the Free\n * Software Foundation, version 3 of the License.\n *\n * Canvas is distributed in the hope that it will be useful, but WITHOUT ANY\n * WARRANTY; without even the implied warranty of MERCHANTABILITY or FITNESS FOR\n * A PARTICULAR PURPOSE. See the GNU Affero General Public License for more\n * details.\n *\n * You should have received a copy of the GNU Affero General Public License along\n * with this program. If not, see <http://www.gnu.org/licenses/>.\n */\n\n\n\nfunction NoResults({\n  search_term\n}) {\n  return /*#__PURE__*/react__WEBPACK_IMPORTED_MODULE_1___default.a.createElement(\"div\", null, /*#__PURE__*/react__WEBPACK_IMPORTED_MODULE_1___default.a.createElement(\"p\", null, i18n_react_files__WEBPACK_IMPORTED_MODULE_0__[\"default\"].t('errors.no_match.your_search', 'Your search - \"%{search_term}\" - did not match any files.', {\n    search_term\n  })), /*#__PURE__*/react__WEBPACK_IMPORTED_MODULE_1___default.a.createElement(\"p\", null, i18n_react_files__WEBPACK_IMPORTED_MODULE_0__[\"default\"].t('errors.no_match.suggestions', 'Suggestions:')), /*#__PURE__*/react__WEBPACK_IMPORTED_MODULE_1___default.a.createElement(\"ul\", null, /*#__PURE__*/react__WEBPACK_IMPORTED_MODULE_1___default.a.createElement(\"li\", null, i18n_react_files__WEBPACK_IMPORTED_MODULE_0__[\"default\"].t('errors.no_match.spelled', 'Make sure all words are spelled correctly.')), /*#__PURE__*/react__WEBPACK_IMPORTED_MODULE_1___default.a.createElement(\"li\", null, i18n_react_files__WEBPACK_IMPORTED_MODULE_0__[\"default\"].t('errors.no_match.keywords', 'Try different keywords.')), /*#__PURE__*/react__WEBPACK_IMPORTED_MODULE_1___default.a.createElement(\"li\", null, i18n_react_files__WEBPACK_IMPORTED_MODULE_0__[\"default\"].t('errors.no_match.three_chars', 'Enter at least 3 letters in the search box.'))));\n}\nNoResults.propTypes = {\n  search_term: prop_types__WEBPACK_IMPORTED_MODULE_2___default.a.string\n};\n\n//# sourceURL=webpack:///./ui/features/files/react/components/NoResults.js?");

/***/ }),

/***/ "msTH":
/*!*************************************************!*\
  !*** ./ui/shared/util/jquery/apiUserContent.js ***!
  \*************************************************/
/*! exports provided: default */
/***/ (function(module, __webpack_exports__, __webpack_require__) {

"use strict";
eval("__webpack_require__.r(__webpack_exports__);\n/* harmony import */ var jquery__WEBPACK_IMPORTED_MODULE_0__ = __webpack_require__(/*! jquery */ \"ouhR\");\n/* harmony import */ var jquery__WEBPACK_IMPORTED_MODULE_0___default = /*#__PURE__*/__webpack_require__.n(jquery__WEBPACK_IMPORTED_MODULE_0__);\n/* harmony import */ var underscore__WEBPACK_IMPORTED_MODULE_1__ = __webpack_require__(/*! underscore */ \"Y/W1\");\n/* harmony import */ var underscore__WEBPACK_IMPORTED_MODULE_1___default = /*#__PURE__*/__webpack_require__.n(underscore__WEBPACK_IMPORTED_MODULE_1__);\n/* harmony import */ var html_escape__WEBPACK_IMPORTED_MODULE_2__ = __webpack_require__(/*! html-escape */ \"gI0r\");\n/* harmony import */ var i18n_user_content__WEBPACK_IMPORTED_MODULE_3__ = __webpack_require__(/*! i18n!user_content */ \"hI1R\");\n//\n// Copyright (C) 2015 - present Instructure, Inc.\n//\n// This file is part of Canvas.\n//\n// Canvas is free software: you can redistribute it and/or modify it under\n// the terms of the GNU Affero General Public License as published by the Free\n// Software Foundation, version 3 of the License.\n//\n// Canvas is distributed in the hope that it will be useful, but WITHOUT ANY\n// WARRANTY; without even the implied warranty of MERCHANTABILITY or FITNESS FOR\n// A PARTICULAR PURPOSE. See the GNU Affero General Public License for more\n// details.\n//\n// You should have received a copy of the GNU Affero General Public License along\n// with this program. If not, see <http://www.gnu.org/licenses/>.\n\n\n\n\nconst apiUserContent = {\n  /*\n  xsslint safeString.identifier mathml\n  */\n  translateMathmlForScreenreaders($equationImage) {\n    var _ENV, _ENV$FEATURES;\n\n    if (!((_ENV = ENV) !== null && _ENV !== void 0 && (_ENV$FEATURES = _ENV.FEATURES) !== null && _ENV$FEATURES !== void 0 && _ENV$FEATURES.new_math_equation_handling)) {\n      // note, it is safe to treat the x-canvaslms-safe-mathml as html because it\n      // only ever gets put there by us (in Api::Html::Content::apply_mathml).\n      // Any user content that gets sent to the server will have the\n      // x-canvaslms-safe-mathml attribute stripped out.\n      const mathml = jquery__WEBPACK_IMPORTED_MODULE_0___default()('<div/>').html($equationImage.attr('x-canvaslms-safe-mathml')).html();\n      const mathmlSpan = jquery__WEBPACK_IMPORTED_MODULE_0___default()('<span class=\"hidden-readable\"></span>');\n      mathmlSpan.html(mathml);\n      return mathmlSpan;\n    }\n  },\n\n  toMediaCommentLink(node) {\n    const $link = jquery__WEBPACK_IMPORTED_MODULE_0___default()(`<a\n        id='media_comment_${Object(html_escape__WEBPACK_IMPORTED_MODULE_2__[\"default\"])(jquery__WEBPACK_IMPORTED_MODULE_0___default()(node).data('media_comment_id'))}'\n        data-media_comment_type='${Object(html_escape__WEBPACK_IMPORTED_MODULE_2__[\"default\"])(jquery__WEBPACK_IMPORTED_MODULE_0___default()(node).data('media_comment_type'))}'\n        class='instructure_inline_media_comment ${Object(html_escape__WEBPACK_IMPORTED_MODULE_2__[\"default\"])(node.nodeName.toLowerCase())}_comment'\n        data-alt='${Object(html_escape__WEBPACK_IMPORTED_MODULE_2__[\"default\"])(jquery__WEBPACK_IMPORTED_MODULE_0___default()(node).attr('data-alt'))}'\n      />`);\n    $link.html(jquery__WEBPACK_IMPORTED_MODULE_0___default()(node).html());\n    return $link;\n  },\n\n  /*\n  xsslint safeString.identifier mathmlSpan\n  */\n  // use this method to process any user content fields returned in api responses\n  // this is important to handle object/embed tags safely, and to properly display audio/video tags\n  convert(html, options = {}) {\n    const $dummy = jquery__WEBPACK_IMPORTED_MODULE_0___default()('<div />').html(html); // finds any <video/audio class=\"instructure_inline_media_comment\"> and turns them into media comment thumbnails\n\n    $dummy.find('video.instructure_inline_media_comment,audio.instructure_inline_media_comment').replaceWith(function () {\n      return apiUserContent.toMediaCommentLink(this);\n    }); // remove any embed tags inside an object tag, to avoid repeated translations\n\n    $dummy.find('object.instructure_user_content:not(#kaltura_player) embed').remove(); // if we aren't actually displaying this content but are instead putting\n    // it into a RTE, we want to preserve the object/embed tags\n\n    if (!options.forEditing) {\n      // find all object/embed tags and convert them into an iframe that posts\n      // to safefiles to display the content (to avoid javascript attacks)\n      //\n      // see the corresponding code in lib/user_content.rb for non-api user\n      // content handling\n      $dummy.find('object.instructure_user_content,embed.instructure_user_content').replaceWith(function () {\n        const $this = jquery__WEBPACK_IMPORTED_MODULE_0___default()(this);\n\n        if (!$this.data('uc_snippet') || !$this.data('uc_sig')) {\n          return this;\n        }\n\n        const uuid = underscore__WEBPACK_IMPORTED_MODULE_1___default.a.uniqueId('uc_');\n\n        let action = '/object_snippet';\n\n        if (ENV.files_domain) {\n          action = `//${ENV.files_domain}${action}`;\n        }\n\n        const $form = jquery__WEBPACK_IMPORTED_MODULE_0___default()(`<form\n            action='${Object(html_escape__WEBPACK_IMPORTED_MODULE_2__[\"default\"])(action)}'\n            method='post'\n            class='user_content_post_form'\n            target='${Object(html_escape__WEBPACK_IMPORTED_MODULE_2__[\"default\"])(uuid)}'\n            id='form-${Object(html_escape__WEBPACK_IMPORTED_MODULE_2__[\"default\"])(uuid)}'\n          />`);\n        $form.append(jquery__WEBPACK_IMPORTED_MODULE_0___default()(\"<input type='hidden'/>\").attr({\n          name: 'object_data',\n          value: $this.data('uc_snippet')\n        }));\n        $form.append(jquery__WEBPACK_IMPORTED_MODULE_0___default()(\"<input type='hidden'/>\").attr({\n          name: 's',\n          value: $this.data('uc_sig')\n        }));\n        jquery__WEBPACK_IMPORTED_MODULE_0___default()('body').append($form);\n        setTimeout(() => $form.submit(), 0);\n        return jquery__WEBPACK_IMPORTED_MODULE_0___default()(`<iframe\n            class='user_content_iframe'\n            name='${Object(html_escape__WEBPACK_IMPORTED_MODULE_2__[\"default\"])(uuid)}'\n            style='width: ${Object(html_escape__WEBPACK_IMPORTED_MODULE_2__[\"default\"])($this.data('uc_width'))}; height: ${Object(html_escape__WEBPACK_IMPORTED_MODULE_2__[\"default\"])($this.data('uc_height'))};'\n            frameborder='0'\n            title='${Object(html_escape__WEBPACK_IMPORTED_MODULE_2__[\"default\"])(i18n_user_content__WEBPACK_IMPORTED_MODULE_3__[\"default\"].t('User Content'))}'\n          />`);\n      });\n      $dummy.find('img.equation_image').each((index, equationImage) => {\n        const $equationImage = jquery__WEBPACK_IMPORTED_MODULE_0___default()(equationImage);\n        const mathmlSpan = apiUserContent.translateMathmlForScreenreaders($equationImage);\n        $equationImage.removeAttr('x-canvaslms-safe-mathml');\n        $equationImage.after(mathmlSpan);\n      });\n    }\n\n    return $dummy.html();\n  }\n\n};\n/* harmony default export */ __webpack_exports__[\"default\"] = (apiUserContent);\n\n//# sourceURL=webpack:///./ui/shared/util/jquery/apiUserContent.js?");

/***/ }),

/***/ "oYHZ":
/*!*****************************************************************!*\
  !*** ./ui/features/files/react/legacy/components/FolderTree.js ***!
  \*****************************************************************/
/*! exports provided: default */
/***/ (function(module, __webpack_exports__, __webpack_require__) {

"use strict";
eval("__webpack_require__.r(__webpack_exports__);\n/* harmony import */ var jquery__WEBPACK_IMPORTED_MODULE_0__ = __webpack_require__(/*! jquery */ \"ouhR\");\n/* harmony import */ var jquery__WEBPACK_IMPORTED_MODULE_0___default = /*#__PURE__*/__webpack_require__.n(jquery__WEBPACK_IMPORTED_MODULE_0__);\n/* harmony import */ var i18n_folder_tree__WEBPACK_IMPORTED_MODULE_1__ = __webpack_require__(/*! i18n!folder_tree */ \"iCd6\");\n/* harmony import */ var react_dom__WEBPACK_IMPORTED_MODULE_2__ = __webpack_require__(/*! react-dom */ \"i8i4\");\n/* harmony import */ var react_dom__WEBPACK_IMPORTED_MODULE_2___default = /*#__PURE__*/__webpack_require__.n(react_dom__WEBPACK_IMPORTED_MODULE_2__);\n/* harmony import */ var prop_types__WEBPACK_IMPORTED_MODULE_3__ = __webpack_require__(/*! prop-types */ \"17x9\");\n/* harmony import */ var prop_types__WEBPACK_IMPORTED_MODULE_3___default = /*#__PURE__*/__webpack_require__.n(prop_types__WEBPACK_IMPORTED_MODULE_3__);\n/* harmony import */ var _modules_BBTreeBrowserView__WEBPACK_IMPORTED_MODULE_4__ = __webpack_require__(/*! ../modules/BBTreeBrowserView */ \"RJe1\");\n/* harmony import */ var _RootFoldersFinder_coffee__WEBPACK_IMPORTED_MODULE_5__ = __webpack_require__(/*! ../../../RootFoldersFinder.coffee */ \"5SYd\");\n/* harmony import */ var _canvas_files_react_modules_customPropTypes__WEBPACK_IMPORTED_MODULE_6__ = __webpack_require__(/*! @canvas/files/react/modules/customPropTypes */ \"Lg2F\");\n/* harmony import */ var _canvas_files_react_modules_filesEnv__WEBPACK_IMPORTED_MODULE_7__ = __webpack_require__(/*! @canvas/files/react/modules/filesEnv */ \"m452\");\n/* harmony import */ var page__WEBPACK_IMPORTED_MODULE_8__ = __webpack_require__(/*! page */ \"KVl8\");\n/* harmony import */ var page__WEBPACK_IMPORTED_MODULE_8___default = /*#__PURE__*/__webpack_require__.n(page__WEBPACK_IMPORTED_MODULE_8__);\n/* harmony import */ var _canvas_rails_flash_notifications__WEBPACK_IMPORTED_MODULE_9__ = __webpack_require__(/*! @canvas/rails-flash-notifications */ \"r2Yr\");\n/*\n * Copyright (C) 2014 - present Instructure, Inc.\n *\n * This file is part of Canvas.\n *\n * Canvas is free software: you can redistribute it and/or modify it under\n * the terms of the GNU Affero General Public License as published by the Free\n * Software Foundation, version 3 of the License.\n *\n * Canvas is distributed in the hope that it will be useful, but WITHOUT ANY\n * WARRANTY; without even the implied warranty of MERCHANTABILITY or FITNESS FOR\n * A PARTICULAR PURPOSE. See the GNU Affero General Public License for more\n * details.\n *\n * You should have received a copy of the GNU Affero General Public License along\n * with this program. If not, see <http://www.gnu.org/licenses/>.\n */\n\n\n\n\n\n\n\n\n\n\n/* harmony default export */ __webpack_exports__[\"default\"] = ({\n  displayName: 'FolderTree',\n  propTypes: {\n    rootFoldersToShow: prop_types__WEBPACK_IMPORTED_MODULE_3___default.a.arrayOf(_canvas_files_react_modules_customPropTypes__WEBPACK_IMPORTED_MODULE_6__[\"default\"].folder).isRequired,\n    rootTillCurrentFolder: prop_types__WEBPACK_IMPORTED_MODULE_3___default.a.arrayOf(_canvas_files_react_modules_customPropTypes__WEBPACK_IMPORTED_MODULE_6__[\"default\"].folder)\n  },\n\n  componentDidMount() {\n    const rootFoldersFinder = new _RootFoldersFinder_coffee__WEBPACK_IMPORTED_MODULE_5__[\"default\"]({\n      rootFoldersToShow: this.props.rootFoldersToShow\n    });\n    this.treeBrowserId = _modules_BBTreeBrowserView__WEBPACK_IMPORTED_MODULE_4__[\"default\"].create({\n      onlyShowSubtrees: true,\n      rootModelsFinder: rootFoldersFinder,\n      onClick: this.onClick,\n      dndOptions: this.props.dndOptions,\n      href: this.hrefFor,\n      focusStyleClass: this.focusStyleClass,\n      selectedStyleClass: this.selectedStyleClass,\n      autoFetch: true,\n      fetchItAll: 'to heck'\n    }, {\n      render: true,\n      element: react_dom__WEBPACK_IMPORTED_MODULE_2___default.a.findDOMNode(this.refs.FolderTreeHolder)\n    }).index;\n    this.expandTillCurrentFolder(this.props);\n  },\n\n  componentWillUnmount() {\n    _modules_BBTreeBrowserView__WEBPACK_IMPORTED_MODULE_4__[\"default\"].remove(this.treeBrowserViewId);\n  },\n\n  componentWillReceiveProps(newProps) {\n    this.expandTillCurrentFolder(newProps);\n  },\n\n  onClick(event, folder) {\n    event.preventDefault();\n    jquery__WEBPACK_IMPORTED_MODULE_0___default()(react_dom__WEBPACK_IMPORTED_MODULE_2___default.a.findDOMNode(this.refs.FolderTreeHolder)).find(`.${this.focusStyleClass}`).each((key, value) => jquery__WEBPACK_IMPORTED_MODULE_0___default()(value).removeClass(this.focusStyleClass));\n    jquery__WEBPACK_IMPORTED_MODULE_0___default()(react_dom__WEBPACK_IMPORTED_MODULE_2___default.a.findDOMNode(this.refs.FolderTreeHolder)).find(`.${this.selectedStyleClass}`).each((key, value) => jquery__WEBPACK_IMPORTED_MODULE_0___default()(value).removeClass(this.selectedStyleClass));\n\n    if (folder.get('locked_for_user')) {\n      const message = i18n_folder_tree__WEBPACK_IMPORTED_MODULE_1__[\"default\"].t('This folder is currently locked and unavailable to view.');\n      jquery__WEBPACK_IMPORTED_MODULE_0___default.a.flashError(message);\n      jquery__WEBPACK_IMPORTED_MODULE_0___default.a.screenReaderFlashMessage(message);\n    } else {\n      jquery__WEBPACK_IMPORTED_MODULE_0___default.a.screenReaderFlashMessageExclusive(i18n_folder_tree__WEBPACK_IMPORTED_MODULE_1__[\"default\"].t('File list updated'));\n      page__WEBPACK_IMPORTED_MODULE_8___default()(`${_canvas_files_react_modules_filesEnv__WEBPACK_IMPORTED_MODULE_7__[\"default\"].baseUrl}/folder/${folder.urlPath()}`);\n    }\n  },\n\n  hrefFor(folder) {},\n\n  // @makeHref (if folder.urlPath() then 'folder' else 'rootFolder'), splat: folder.urlPath()\n  focusStyleClass: 'FolderTree__folderItem--focused',\n  selectedStyleClass: 'FolderTree__folderItem--selected',\n\n  expandTillCurrentFolder(props) {\n    function expandFolder(folderIndex) {\n      const folder = props.rootTillCurrentFolder && props.rootTillCurrentFolder[folderIndex];\n      if (!folder) return;\n      return folder.expand(false, {\n        onlyShowSubtrees: true\n      }).then(() => expandFolder(folderIndex + 1));\n    }\n\n    return expandFolder(0);\n  }\n\n});\n\n//# sourceURL=webpack:///./ui/features/files/react/legacy/components/FolderTree.js?");

/***/ }),

/***/ "plYi":
/*!**************************************!*\
  !*** ./ui/shared/util/natcompare.js ***!
  \**************************************/
/*! exports provided: default */
/***/ (function(module, __webpack_exports__, __webpack_require__) {

"use strict";
eval("__webpack_require__.r(__webpack_exports__);\n/* harmony import */ var _canvas_i18n__WEBPACK_IMPORTED_MODULE_0__ = __webpack_require__(/*! @canvas/i18n */ \"HGxv\");\n//\n// Copyright (C) 2014 - present Instructure, Inc.\n//\n// This file is part of Canvas.\n//\n// Canvas is free software: you can redistribute it and/or modify it under\n// the terms of the GNU Affero General Public License as published by the Free\n// Software Foundation, version 3 of the License.\n//\n// Canvas is distributed in the hope that it will be useful, but WITHOUT ANY\n// WARRANTY; without even the implied warranty of MERCHANTABILITY or FITNESS FOR\n// A PARTICULAR PURPOSE. See the GNU Affero General Public License for more\n// details.\n//\n// You should have received a copy of the GNU Affero General Public License along\n// with this program. If not, see <http://www.gnu.org/licenses/>.\n\n/* harmony default export */ __webpack_exports__[\"default\"] = ({\n  strings(x, y) {\n    let locale = _canvas_i18n__WEBPACK_IMPORTED_MODULE_0__[\"default\"].locale || 'en-US';\n    const locale_map = {\n      zh_Hant: 'zh-Hant'\n    };\n    locale = locale_map[locale] || locale; // if you change these settings, also match the settings in best_unicode_collation_key\n    // and Canvas::ICU.collator\n\n    return x.localeCompare(y, locale, {\n      sensitivity: 'variant',\n      ignorePunctuation: false,\n      numeric: true\n    });\n  },\n\n  by(f) {\n    return (x, y) => this.strings(f(x), f(y));\n  },\n\n  byKey(key) {\n    return this.by(x => x[key]);\n  },\n\n  byGet(key) {\n    return this.by(x => x.get(key));\n  }\n\n});\n\n//# sourceURL=webpack:///./ui/shared/util/natcompare.js?");

/***/ }),

/***/ "qJ3g":
/*!****************************************************************************************!*\
  !*** ./frontend_build/i18n.js?restrict_student_access!./ui/shims/dummyI18nResource.js ***!
  \****************************************************************************************/
/*! exports provided: default */
/***/ (function(module, __webpack_exports__, __webpack_require__) {

"use strict";
eval("__webpack_require__.r(__webpack_exports__);\n/* harmony import */ var _canvas_i18n_i18nObj__WEBPACK_IMPORTED_MODULE_0__ = __webpack_require__(/*! @canvas/i18n/i18nObj */ \"HGxv\");\n/* harmony import */ var translations_core_en__WEBPACK_IMPORTED_MODULE_1__ = __webpack_require__(/*! translations/_core_en */ \"0sPK\");\n\n    \n    \n    \n\n    /* harmony default export */ __webpack_exports__[\"default\"] = (_canvas_i18n_i18nObj__WEBPACK_IMPORTED_MODULE_0__[\"default\"].scoped('restrict_student_access'));\n  \n\n//# sourceURL=webpack:///./ui/shims/dummyI18nResource.js?./frontend_build/i18n.js?restrict_student_access");

/***/ }),

/***/ "quWl":
/*!***********************************************************************!*\
  !*** ./ui/features/files/react/legacy/mixins/MultiselectableMixin.js ***!
  \***********************************************************************/
/*! exports provided: default */
/***/ (function(module, __webpack_exports__, __webpack_require__) {

"use strict";
eval("__webpack_require__.r(__webpack_exports__);\n/* harmony import */ var underscore__WEBPACK_IMPORTED_MODULE_0__ = __webpack_require__(/*! underscore */ \"Y/W1\");\n/* harmony import */ var underscore__WEBPACK_IMPORTED_MODULE_0___default = /*#__PURE__*/__webpack_require__.n(underscore__WEBPACK_IMPORTED_MODULE_0__);\n/* harmony import */ var jquery__WEBPACK_IMPORTED_MODULE_1__ = __webpack_require__(/*! jquery */ \"ouhR\");\n/* harmony import */ var jquery__WEBPACK_IMPORTED_MODULE_1___default = /*#__PURE__*/__webpack_require__.n(jquery__WEBPACK_IMPORTED_MODULE_1__);\n/*\n * Copyright (C) 2014 - present Instructure, Inc.\n *\n * This file is part of Canvas.\n *\n * Canvas is free software: you can redistribute it and/or modify it under\n * the terms of the GNU Affero General Public License as published by the Free\n * Software Foundation, version 3 of the License.\n *\n * Canvas is distributed in the hope that it will be useful, but WITHOUT ANY\n * WARRANTY; without even the implied warranty of MERCHANTABILITY or FITNESS FOR\n * A PARTICULAR PURPOSE. See the GNU Affero General Public License for more\n * details.\n *\n * You should have received a copy of the GNU Affero General Public License along\n * with this program. If not, see <http://www.gnu.org/licenses/>.\n */\n\n // To use this, your view must implement a `selectables` method that\n// returns an array of the things that are selectable.\n\n/* harmony default export */ __webpack_exports__[\"default\"] = ({\n  getInitialState() {\n    return {\n      selectedItems: []\n    };\n  },\n\n  componentDidMount() {\n    jquery__WEBPACK_IMPORTED_MODULE_1___default()(window).on('keydown', this.handleCtrlPlusA);\n  },\n\n  componentWillUnmount() {\n    jquery__WEBPACK_IMPORTED_MODULE_1___default()(window).off('keydown', this.handleCtrlPlusA);\n  },\n\n  // overwrite this in your component if you want to suppress the multi-select\n  // behavior on different elements. Should be something you can pass to $.fn.is\n  multiselectIgnoredElements: ':input:not(.multiselectable-toggler), a',\n\n  handleCtrlPlusA(e) {\n    let needle;\n\n    if (needle = e.target.nodeName.toLowerCase(), ['input', 'textarea'].includes(needle)) {\n      return;\n    }\n\n    if (e.which === 65 && (e.ctrlKey || e.metaKey)) {\n      e.preventDefault();\n      return this.toggleAllSelected(!e.shiftKey);\n    }\n  },\n\n  // ctrl-shift-a\n  toggleAllSelected(shouldSelect) {\n    if (shouldSelect) {\n      this.setState({\n        selectedItems: this.selectables()\n      });\n    } else {\n      this.setState({\n        selectedItems: []\n      });\n    }\n  },\n\n  areAllItemsSelected() {\n    return this.state.selectedItems.length && this.state.selectedItems.length === this.selectables().length;\n  },\n\n  selectRange(item) {\n    const selectables = this.selectables();\n    const newPos = selectables.indexOf(item);\n    const lastPos = selectables.indexOf(underscore__WEBPACK_IMPORTED_MODULE_0___default.a.last(this.state.selectedItems));\n    const range = selectables.slice(Math.min(newPos, lastPos), Math.max(newPos, lastPos) + 1); // the anchor needs to stay at the end\n\n    if (newPos > lastPos) {\n      range.reverse();\n    }\n\n    this.setState({\n      selectedItems: range\n    });\n  },\n\n  clearSelectedItems(cb) {\n    this.setState({\n      selectedItems: []\n    }, () => typeof cb === 'function' ? cb() : void 0);\n  },\n\n  toggleItemSelected(item, event, cb) {\n    let selectedItems;\n    if (event && jquery__WEBPACK_IMPORTED_MODULE_1___default()(event.target).closest(this.multiselectIgnoredElements).length) return;\n    if (event != null ? event.shiftKey : void 0) return this.selectRange(item);\n    const itemIsSelected = this.state.selectedItems.includes(item);\n    const leaveOthersAlone = event && event.metaKey || event && event.ctrlKey || (event && event.target.type) === 'checkbox';\n\n    if (leaveOthersAlone && itemIsSelected) {\n      selectedItems = underscore__WEBPACK_IMPORTED_MODULE_0___default.a.without(this.state.selectedItems, item);\n    } else if (leaveOthersAlone) {\n      selectedItems = this.state.selectedItems.slice(); // .slice() is to not mutate state directly\n\n      selectedItems.push(item);\n    } else if (itemIsSelected) {\n      selectedItems = [];\n    } else {\n      selectedItems = [item];\n    }\n\n    return this.setState({\n      selectedItems\n    }, () => typeof cb === 'function' ? cb() : void 0);\n  }\n\n});\n\n//# sourceURL=webpack:///./ui/features/files/react/legacy/mixins/MultiselectableMixin.js?");

/***/ }),

/***/ "rHNZ":
/*!************************************!*\
  !*** ./ui/features/files/index.js ***!
  \************************************/
/*! no exports provided */
/***/ (function(module, __webpack_exports__, __webpack_require__) {

"use strict";
eval("__webpack_require__.r(__webpack_exports__);\n/* harmony import */ var _router__WEBPACK_IMPORTED_MODULE_0__ = __webpack_require__(/*! ./router */ \"wRx2\");\n/* harmony import */ var _canvas_lti_jquery_messages__WEBPACK_IMPORTED_MODULE_1__ = __webpack_require__(/*! @canvas/lti/jquery/messages */ \"jFoo\");\n/*\n * Copyright (C) 2014 - present Instructure, Inc.\n *\n * This file is part of Canvas.\n *\n * Canvas is free software: you can redistribute it and/or modify it under\n * the terms of the GNU Affero General Public License as published by the Free\n * Software Foundation, version 3 of the License.\n *\n * Canvas is distributed in the hope that it will be useful, but WITHOUT ANY\n * WARRANTY; without even the implied warranty of MERCHANTABILITY or FITNESS FOR\n * A PARTICULAR PURPOSE. See the GNU Affero General Public License for more\n * details.\n *\n * You should have received a copy of the GNU Affero General Public License along\n * with this program. If not, see <http://www.gnu.org/licenses/>.\n */\n\n\n_router__WEBPACK_IMPORTED_MODULE_0__[\"default\"].start();\nObject(_canvas_lti_jquery_messages__WEBPACK_IMPORTED_MODULE_1__[\"monitorLtiMessages\"])();\n\n//# sourceURL=webpack:///./ui/features/files/index.js?");

/***/ }),

/***/ "rRaX":
/*!********************************************************************!*\
  !*** ./ui/shared/files/react/components/RestrictedRadioButtons.js ***!
  \********************************************************************/
/*! exports provided: default */
/***/ (function(module, __webpack_exports__, __webpack_require__) {

"use strict";
eval("__webpack_require__.r(__webpack_exports__);\n/* harmony import */ var underscore__WEBPACK_IMPORTED_MODULE_0__ = __webpack_require__(/*! underscore */ \"Y/W1\");\n/* harmony import */ var underscore__WEBPACK_IMPORTED_MODULE_0___default = /*#__PURE__*/__webpack_require__.n(underscore__WEBPACK_IMPORTED_MODULE_0__);\n/* harmony import */ var react__WEBPACK_IMPORTED_MODULE_1__ = __webpack_require__(/*! react */ \"q1tI\");\n/* harmony import */ var react__WEBPACK_IMPORTED_MODULE_1___default = /*#__PURE__*/__webpack_require__.n(react__WEBPACK_IMPORTED_MODULE_1__);\n/* harmony import */ var prop_types__WEBPACK_IMPORTED_MODULE_2__ = __webpack_require__(/*! prop-types */ \"17x9\");\n/* harmony import */ var prop_types__WEBPACK_IMPORTED_MODULE_2___default = /*#__PURE__*/__webpack_require__.n(prop_types__WEBPACK_IMPORTED_MODULE_2__);\n/* harmony import */ var i18n_restrict_student_access__WEBPACK_IMPORTED_MODULE_3__ = __webpack_require__(/*! i18n!restrict_student_access */ \"qJ3g\");\n/* harmony import */ var jquery__WEBPACK_IMPORTED_MODULE_4__ = __webpack_require__(/*! jquery */ \"ouhR\");\n/* harmony import */ var jquery__WEBPACK_IMPORTED_MODULE_4___default = /*#__PURE__*/__webpack_require__.n(jquery__WEBPACK_IMPORTED_MODULE_4__);\n/* harmony import */ var _modules_customPropTypes__WEBPACK_IMPORTED_MODULE_5__ = __webpack_require__(/*! ../modules/customPropTypes */ \"Lg2F\");\n/* harmony import */ var _backbone_models_Folder__WEBPACK_IMPORTED_MODULE_6__ = __webpack_require__(/*! ../../backbone/models/Folder */ \"3jyj\");\n/* harmony import */ var _canvas_datetime__WEBPACK_IMPORTED_MODULE_7__ = __webpack_require__(/*! @canvas/datetime */ \"7AEQ\");\n/* harmony import */ var _canvas_datetime_accessibleDateFormat__WEBPACK_IMPORTED_MODULE_8__ = __webpack_require__(/*! @canvas/datetime/accessibleDateFormat */ \"hKby\");\n/*\n * Copyright (C) 2015 - present Instructure, Inc.\n *\n * This file is part of Canvas.\n *\n * Canvas is free software: you can redistribute it and/or modify it under\n * the terms of the GNU Affero General Public License as published by the Free\n * Software Foundation, version 3 of the License.\n *\n * Canvas is distributed in the hope that it will be useful, but WITHOUT ANY\n * WARRANTY; without even the implied warranty of MERCHANTABILITY or FITNESS FOR\n * A PARTICULAR PURPOSE. See the GNU Affero General Public License for more\n * details.\n *\n * You should have received a copy of the GNU Affero General Public License along\n * with this program. If not, see <http://www.gnu.org/licenses/>.\n */\n\n\n\n\n\n\n\n\n\n\nclass RestrictedRadioButtons extends react__WEBPACK_IMPORTED_MODULE_1___default.a.Component {\n  constructor(props) {\n    super(props);\n    this.permissionOptions = [{\n      ref: 'publishInput',\n      text: i18n_restrict_student_access__WEBPACK_IMPORTED_MODULE_3__[\"default\"].t('Publish'),\n      selectedOptionKey: 'published',\n      iconClasses: 'icon-publish icon-Solid RestrictedRadioButtons__publish_icon',\n\n      onChange() {\n        this.updateBtnEnable();\n        this.setState({\n          selectedOption: 'published'\n        });\n      }\n\n    }, {\n      ref: 'unpublishInput',\n      text: i18n_restrict_student_access__WEBPACK_IMPORTED_MODULE_3__[\"default\"].t('Unpublish'),\n      selectedOptionKey: 'unpublished',\n      iconClasses: 'icon-unpublish RestrictedRadioButtons__icon',\n\n      onChange() {\n        this.updateBtnEnable();\n        this.setState({\n          selectedOption: 'unpublished'\n        });\n      }\n\n    }, {\n      ref: 'linkOnly',\n      selectedOptionKey: 'link_only',\n      text: i18n_restrict_student_access__WEBPACK_IMPORTED_MODULE_3__[\"default\"].t('Only available to students with link'),\n      iconClasses: 'icon-line icon-off RestrictedRadioButtons__icon',\n\n      onChange() {\n        this.updateBtnEnable();\n        this.setState({\n          selectedOption: 'link_only'\n        });\n      }\n\n    }, {\n      ref: 'dateRange',\n      selectedOptionKey: 'date_range',\n      text: i18n_restrict_student_access__WEBPACK_IMPORTED_MODULE_3__[\"default\"].t('Schedule student availability'),\n      iconClasses: 'icon-line icon-calendar-month RestrictedRadioButtons__icon',\n\n      onChange() {\n        this.updateBtnEnable();\n        this.setState({\n          selectedOption: 'date_range'\n        });\n      }\n\n    }];\n\n    this.extractFormValues = () => ({\n      hidden: this.state.selectedOption === 'link_only',\n      unlock_at: this.state.selectedOption === 'date_range' && jquery__WEBPACK_IMPORTED_MODULE_4___default()(this.unlock_at).data('unfudged-date') || '',\n      lock_at: this.state.selectedOption === 'date_range' && jquery__WEBPACK_IMPORTED_MODULE_4___default()(this.lock_at).data('unfudged-date') || '',\n      locked: this.state.selectedOption === 'unpublished'\n    });\n\n    this.allFolders = () => this.props.models.every(model => model instanceof _backbone_models_Folder__WEBPACK_IMPORTED_MODULE_6__[\"default\"]);\n\n    this.anyFolders = () => this.props.models.filter(model => model instanceof _backbone_models_Folder__WEBPACK_IMPORTED_MODULE_6__[\"default\"]).length;\n\n    this.updateBtnEnable = () => {\n      if (this.props.radioStateChange) {\n        this.props.radioStateChange();\n      }\n    };\n\n    this.isPermissionChecked = option => this.state.selectedOption === option.selectedOptionKey || underscore__WEBPACK_IMPORTED_MODULE_0___default.a.includes(option.selectedOptionKey, this.state.selectedOption);\n\n    this.renderPermissionOptions = () => this.permissionOptions.map((option, index) => /*#__PURE__*/react__WEBPACK_IMPORTED_MODULE_1___default.a.createElement(\"div\", {\n      className: \"radio\",\n      key: index\n    }, /*#__PURE__*/react__WEBPACK_IMPORTED_MODULE_1___default.a.createElement(\"label\", null, /*#__PURE__*/react__WEBPACK_IMPORTED_MODULE_1___default.a.createElement(\"input\", {\n      ref: e => this[option.ref] = e,\n      type: \"radio\",\n      name: \"permissions\",\n      checked: this.isPermissionChecked(option),\n      onChange: option.onChange.bind(this)\n    }), /*#__PURE__*/react__WEBPACK_IMPORTED_MODULE_1___default.a.createElement(\"i\", {\n      className: option.iconClasses,\n      \"aria-hidden\": true\n    }), option.text)));\n\n    this.renderDatePickers = () => {\n      const styleObj = {};\n\n      if (this.state.selectedOption !== 'date_range') {\n        styleObj.visibility = 'hidden';\n      }\n\n      return /*#__PURE__*/react__WEBPACK_IMPORTED_MODULE_1___default.a.createElement(\"div\", {\n        style: styleObj\n      }, /*#__PURE__*/react__WEBPACK_IMPORTED_MODULE_1___default.a.createElement(\"label\", {\n        className: \"control-label dialog-adapter-form-calendar-label\"\n      }, i18n_restrict_student_access__WEBPACK_IMPORTED_MODULE_3__[\"default\"].t('Available From')), /*#__PURE__*/react__WEBPACK_IMPORTED_MODULE_1___default.a.createElement(\"div\", {\n        className: \"dateSelectInputContainer controls\"\n      }, /*#__PURE__*/react__WEBPACK_IMPORTED_MODULE_1___default.a.createElement(\"input\", {\n        ref: e => this.unlock_at = e,\n        defaultValue: this.state.unlock_at ? jquery__WEBPACK_IMPORTED_MODULE_4___default.a.datetimeString(this.state.unlock_at) : '',\n        className: \"form-control dateSelectInput\",\n        type: \"text\",\n        title: Object(_canvas_datetime_accessibleDateFormat__WEBPACK_IMPORTED_MODULE_8__[\"default\"])(),\n        \"data-tooltip\": \"\",\n        \"aria-label\": i18n_restrict_student_access__WEBPACK_IMPORTED_MODULE_3__[\"default\"].t('Available From Date')\n      })), /*#__PURE__*/react__WEBPACK_IMPORTED_MODULE_1___default.a.createElement(\"div\", null, /*#__PURE__*/react__WEBPACK_IMPORTED_MODULE_1___default.a.createElement(\"label\", {\n        className: \"control-label dialog-adapter-form-calendar-label\"\n      }, i18n_restrict_student_access__WEBPACK_IMPORTED_MODULE_3__[\"default\"].t('Available Until')), /*#__PURE__*/react__WEBPACK_IMPORTED_MODULE_1___default.a.createElement(\"div\", {\n        className: \"dateSelectInputContainer controls\"\n      }, /*#__PURE__*/react__WEBPACK_IMPORTED_MODULE_1___default.a.createElement(\"input\", {\n        id: \"lockDate\",\n        ref: e => this.lock_at = e,\n        defaultValue: this.state.lock_at ? jquery__WEBPACK_IMPORTED_MODULE_4___default.a.datetimeString(this.state.lock_at) : '',\n        className: \"form-control dateSelectInput\",\n        type: \"text\",\n        title: Object(_canvas_datetime_accessibleDateFormat__WEBPACK_IMPORTED_MODULE_8__[\"default\"])(),\n        \"data-tooltip\": \"\",\n        \"aria-label\": i18n_restrict_student_access__WEBPACK_IMPORTED_MODULE_3__[\"default\"].t('Available Until Date')\n      }))));\n    };\n\n    this.renderRestrictedRadioButtons = () => /*#__PURE__*/react__WEBPACK_IMPORTED_MODULE_1___default.a.createElement(\"div\", null, this.renderPermissionOptions(), this.renderDatePickers());\n\n    let allAreEqual, initialState, permissionAttributes;\n    permissionAttributes = ['hidden', 'locked', 'lock_at', 'unlock_at'];\n    initialState = {};\n    allAreEqual = props.models.every(model => permissionAttributes.every(attribute => props.models[0].get(attribute) === model.get(attribute) || !props.models[0].get(attribute) && !model.get(attribute)));\n\n    if (allAreEqual) {\n      initialState = props.models[0].pick(permissionAttributes);\n\n      if (initialState.locked) {\n        initialState.selectedOption = 'unpublished';\n      } else if (initialState.lock_at || initialState.unlock_at) {\n        initialState.selectedOption = 'date_range';\n      } else if (initialState.hidden) {\n        initialState.selectedOption = 'link_only';\n      } else {\n        initialState.selectedOption = 'published';\n      }\n    }\n\n    this.state = initialState;\n  }\n\n  componentDidMount() {\n    return jquery__WEBPACK_IMPORTED_MODULE_4___default()([this.unlock_at, this.lock_at]).datetime_field();\n  }\n\n  render() {\n    return /*#__PURE__*/react__WEBPACK_IMPORTED_MODULE_1___default.a.createElement(\"div\", null, this.renderRestrictedRadioButtons());\n  }\n\n}\n\nRestrictedRadioButtons.propTypes = {\n  models: prop_types__WEBPACK_IMPORTED_MODULE_2___default.a.arrayOf(_modules_customPropTypes__WEBPACK_IMPORTED_MODULE_5__[\"default\"].filesystemObject).isRequired,\n  radioStateChange: prop_types__WEBPACK_IMPORTED_MODULE_2___default.a.func\n};\n/* harmony default export */ __webpack_exports__[\"default\"] = (RestrictedRadioButtons);\n\n//# sourceURL=webpack:///./ui/shared/files/react/components/RestrictedRadioButtons.js?");

/***/ }),

/***/ "sfLk":
/*!************************************************************!*\
  !*** ./ui/features/files/react/components/DragFeedback.js ***!
  \************************************************************/
/*! exports provided: default */
/***/ (function(module, __webpack_exports__, __webpack_require__) {

"use strict";
eval("__webpack_require__.r(__webpack_exports__);\n/* harmony export (binding) */ __webpack_require__.d(__webpack_exports__, \"default\", function() { return DragFeedback; });\n/* harmony import */ var react__WEBPACK_IMPORTED_MODULE_0__ = __webpack_require__(/*! react */ \"q1tI\");\n/* harmony import */ var react__WEBPACK_IMPORTED_MODULE_0___default = /*#__PURE__*/__webpack_require__.n(react__WEBPACK_IMPORTED_MODULE_0__);\n/* harmony import */ var prop_types__WEBPACK_IMPORTED_MODULE_1__ = __webpack_require__(/*! prop-types */ \"17x9\");\n/* harmony import */ var prop_types__WEBPACK_IMPORTED_MODULE_1___default = /*#__PURE__*/__webpack_require__.n(prop_types__WEBPACK_IMPORTED_MODULE_1__);\n/* harmony import */ var _canvas_files_react_components_FilesystemObjectThumbnail__WEBPACK_IMPORTED_MODULE_2__ = __webpack_require__(/*! @canvas/files/react/components/FilesystemObjectThumbnail */ \"vTMu\");\n/* harmony import */ var _canvas_files_react_modules_customPropTypes__WEBPACK_IMPORTED_MODULE_3__ = __webpack_require__(/*! @canvas/files/react/modules/customPropTypes */ \"Lg2F\");\n/*\n * Copyright (C) 2015 - present Instructure, Inc.\n *\n * This file is part of Canvas.\n *\n * Canvas is free software: you can redistribute it and/or modify it under\n * the terms of the GNU Affero General Public License as published by the Free\n * Software Foundation, version 3 of the License.\n *\n * Canvas is distributed in the hope that it will be useful, but WITHOUT ANY\n * WARRANTY; without even the implied warranty of MERCHANTABILITY or FITNESS FOR\n * A PARTICULAR PURPOSE. See the GNU Affero General Public License for more\n * details.\n *\n * You should have received a copy of the GNU Affero General Public License along\n * with this program. If not, see <http://www.gnu.org/licenses/>.\n */\n\n\n\n\nconst MAX_THUMBNAILS_TO_SHOW = 10;\nfunction DragFeedback(props) {\n  return /*#__PURE__*/react__WEBPACK_IMPORTED_MODULE_0___default.a.createElement(\"div\", {\n    className: \"DragFeedback\",\n    style: {\n      WebkitTransform: `translate3d(${props.pageX + 6}px, ${props.pageY + 6}px, 0)`,\n      transform: `translate3d(${props.pageX + 6}px, ${props.pageY + 6}px, 0)`\n    }\n  }, props.itemsToDrag.slice(0, MAX_THUMBNAILS_TO_SHOW).map((model, index) => /*#__PURE__*/react__WEBPACK_IMPORTED_MODULE_0___default.a.createElement(_canvas_files_react_components_FilesystemObjectThumbnail__WEBPACK_IMPORTED_MODULE_2__[\"default\"], {\n    model: model,\n    key: model.id,\n    style: {\n      left: 10 + index * 5 - index,\n      top: 10 + index * 5 - index\n    }\n  })), /*#__PURE__*/react__WEBPACK_IMPORTED_MODULE_0___default.a.createElement(\"span\", {\n    className: \"badge badge-important\"\n  }, props.itemsToDrag.length));\n}\nDragFeedback.propTypes = {\n  itemsToDrag: prop_types__WEBPACK_IMPORTED_MODULE_1___default.a.arrayOf(_canvas_files_react_modules_customPropTypes__WEBPACK_IMPORTED_MODULE_3__[\"default\"].filesystemObject).isRequired,\n  pageX: prop_types__WEBPACK_IMPORTED_MODULE_1___default.a.number.isRequired,\n  pageY: prop_types__WEBPACK_IMPORTED_MODULE_1___default.a.number.isRequired\n};\n\n//# sourceURL=webpack:///./ui/features/files/react/components/DragFeedback.js?");

/***/ }),

/***/ "smbH":
/*!****************************************************************!*\
  !*** ./ui/shared/files/react/components/LegacyPublishCloud.js ***!
  \****************************************************************/
/*! exports provided: default */
/***/ (function(module, __webpack_exports__, __webpack_require__) {

"use strict";
eval("__webpack_require__.r(__webpack_exports__);\n/* harmony import */ var jquery__WEBPACK_IMPORTED_MODULE_0__ = __webpack_require__(/*! jquery */ \"ouhR\");\n/* harmony import */ var jquery__WEBPACK_IMPORTED_MODULE_0___default = /*#__PURE__*/__webpack_require__.n(jquery__WEBPACK_IMPORTED_MODULE_0__);\n/* harmony import */ var prop_types__WEBPACK_IMPORTED_MODULE_1__ = __webpack_require__(/*! prop-types */ \"17x9\");\n/* harmony import */ var prop_types__WEBPACK_IMPORTED_MODULE_1___default = /*#__PURE__*/__webpack_require__.n(prop_types__WEBPACK_IMPORTED_MODULE_1__);\n/* harmony import */ var i18n_broccoli_cloud__WEBPACK_IMPORTED_MODULE_2__ = __webpack_require__(/*! i18n!broccoli_cloud */ \"KiLB\");\n/* harmony import */ var _modules_customPropTypes__WEBPACK_IMPORTED_MODULE_3__ = __webpack_require__(/*! ../modules/customPropTypes */ \"Lg2F\");\n/* harmony import */ var _canvas_rails_flash_notifications__WEBPACK_IMPORTED_MODULE_4__ = __webpack_require__(/*! @canvas/rails-flash-notifications */ \"r2Yr\");\n/* harmony import */ var _canvas_datetime__WEBPACK_IMPORTED_MODULE_5__ = __webpack_require__(/*! @canvas/datetime */ \"7AEQ\");\n/*\n * Copyright (C) 2014 - present Instructure, Inc.\n *\n * This file is part of Canvas.\n *\n * Canvas is free software: you can redistribute it and/or modify it under\n * the terms of the GNU Affero General Public License as published by the Free\n * Software Foundation, version 3 of the License.\n *\n * Canvas is distributed in the hope that it will be useful, but WITHOUT ANY\n * WARRANTY; without even the implied warranty of MERCHANTABILITY or FITNESS FOR\n * A PARTICULAR PURPOSE. See the GNU Affero General Public License for more\n * details.\n *\n * You should have received a copy of the GNU Affero General Public License along\n * with this program. If not, see <http://www.gnu.org/licenses/>.\n */\n\n\n\n\n\n // $.datetimeString\n\n/* harmony default export */ __webpack_exports__[\"default\"] = ({\n  displayName: 'PublishCloud',\n  propTypes: {\n    togglePublishClassOn: prop_types__WEBPACK_IMPORTED_MODULE_1___default.a.object,\n    model: _modules_customPropTypes__WEBPACK_IMPORTED_MODULE_3__[\"default\"].filesystemObject,\n    userCanEditFilesForContext: prop_types__WEBPACK_IMPORTED_MODULE_1___default.a.bool.isRequired,\n    fileName: prop_types__WEBPACK_IMPORTED_MODULE_1___default.a.string\n  },\n\n  // == React Functions == #\n  getInitialState() {\n    return this.extractStateFromModel(this.props.model);\n  },\n\n  componentDidMount() {\n    if (this.props.togglePublishClassOn) this.updatePublishClassElements();\n  },\n\n  componentDidUpdate() {\n    if (this.props.togglePublishClassOn) this.updatePublishClassElements();\n  },\n\n  componentWillMount() {\n    const setState = model => this.setState(this.extractStateFromModel(model));\n\n    this.props.model.on('change', setState, this);\n  },\n\n  componentWillUnmount() {\n    this.props.model.off(null, null, this);\n  },\n\n  updatePublishClassElements() {\n    return this.props.togglePublishClassOn.classList[this.state.published ? 'add' : 'remove']('ig-published');\n  },\n\n  getRestrictedText() {\n    if (this.props.model.get('unlock_at') && this.props.model.get('lock_at')) {\n      return i18n_broccoli_cloud__WEBPACK_IMPORTED_MODULE_2__[\"default\"].t('Available after %{unlock_at} until %{lock_at}', {\n        unlock_at: jquery__WEBPACK_IMPORTED_MODULE_0___default.a.datetimeString(this.props.model.get('unlock_at')),\n        lock_at: jquery__WEBPACK_IMPORTED_MODULE_0___default.a.datetimeString(this.props.model.get('lock_at'))\n      });\n    } else if (this.props.model.get('unlock_at') && !this.props.model.get('lock_at')) {\n      return i18n_broccoli_cloud__WEBPACK_IMPORTED_MODULE_2__[\"default\"].t('Available after %{unlock_at}', {\n        unlock_at: jquery__WEBPACK_IMPORTED_MODULE_0___default.a.datetimeString(this.props.model.get('unlock_at'))\n      });\n    } else if (!this.props.model.get('unlock_at') && this.props.model.get('lock_at')) {\n      return i18n_broccoli_cloud__WEBPACK_IMPORTED_MODULE_2__[\"default\"].t('Available until %{lock_at}', {\n        lock_at: jquery__WEBPACK_IMPORTED_MODULE_0___default.a.datetimeString(this.props.model.get('lock_at'))\n      });\n    }\n  },\n\n  // == Custom Functions == #\n  // Function Summary\n  // extractStateFromModel expects a backbone model wtih the follow attributes\n  // * hidden, lock_at, unlock_at\n  //\n  // It takes those attributes and returns an object that can be used to set the\n  // components internal state\n  //\n  // returns object\n  extractStateFromModel(model) {\n    return {\n      published: !model.get('locked'),\n      restricted: !!model.get('lock_at') || !!model.get('unlock_at'),\n      hidden: !!model.get('hidden')\n    };\n  },\n\n  // Function Summary\n  // Toggling always sets restricted state to false because we only\n  // allow publishing/unpublishing in this component.\n  togglePublishedState() {\n    this.setState({\n      published: !this.state.published,\n      restricted: false,\n      hidden: false\n    });\n  }\n\n});\n\n//# sourceURL=webpack:///./ui/shared/files/react/components/LegacyPublishCloud.js?");

/***/ }),

/***/ "uCzP":
/*!*******************************************************!*\
  !*** ./ui/features/files/react/components/Toolbar.js ***!
  \*******************************************************/
/*! exports provided: default */
/***/ (function(module, __webpack_exports__, __webpack_require__) {

"use strict";
eval("__webpack_require__.r(__webpack_exports__);\n/* harmony export (binding) */ __webpack_require__.d(__webpack_exports__, \"default\", function() { return Toolbar; });\n/* harmony import */ var jquery__WEBPACK_IMPORTED_MODULE_0__ = __webpack_require__(/*! jquery */ \"ouhR\");\n/* harmony import */ var jquery__WEBPACK_IMPORTED_MODULE_0___default = /*#__PURE__*/__webpack_require__.n(jquery__WEBPACK_IMPORTED_MODULE_0__);\n/* harmony import */ var i18n_react_files__WEBPACK_IMPORTED_MODULE_1__ = __webpack_require__(/*! i18n!react_files */ \"mddV\");\n/* harmony import */ var react__WEBPACK_IMPORTED_MODULE_2__ = __webpack_require__(/*! react */ \"q1tI\");\n/* harmony import */ var react__WEBPACK_IMPORTED_MODULE_2___default = /*#__PURE__*/__webpack_require__.n(react__WEBPACK_IMPORTED_MODULE_2__);\n/* harmony import */ var react_dom__WEBPACK_IMPORTED_MODULE_3__ = __webpack_require__(/*! react-dom */ \"i8i4\");\n/* harmony import */ var react_dom__WEBPACK_IMPORTED_MODULE_3___default = /*#__PURE__*/__webpack_require__.n(react_dom__WEBPACK_IMPORTED_MODULE_3__);\n/* harmony import */ var page__WEBPACK_IMPORTED_MODULE_4__ = __webpack_require__(/*! page */ \"KVl8\");\n/* harmony import */ var page__WEBPACK_IMPORTED_MODULE_4___default = /*#__PURE__*/__webpack_require__.n(page__WEBPACK_IMPORTED_MODULE_4__);\n/* harmony import */ var _legacy_modules_FocusStore__WEBPACK_IMPORTED_MODULE_5__ = __webpack_require__(/*! ../legacy/modules/FocusStore */ \"cBjt\");\n/* harmony import */ var _openMoveDialog__WEBPACK_IMPORTED_MODULE_6__ = __webpack_require__(/*! ../../openMoveDialog */ \"U6ji\");\n/* harmony import */ var _legacy_util_deleteStuff__WEBPACK_IMPORTED_MODULE_7__ = __webpack_require__(/*! ../legacy/util/deleteStuff */ \"QtMz\");\n/* harmony import */ var _UploadButton__WEBPACK_IMPORTED_MODULE_8__ = __webpack_require__(/*! ./UploadButton */ \"Gm1p\");\n/* harmony import */ var classnames__WEBPACK_IMPORTED_MODULE_9__ = __webpack_require__(/*! classnames */ \"TSYQ\");\n/* harmony import */ var classnames__WEBPACK_IMPORTED_MODULE_9___default = /*#__PURE__*/__webpack_require__.n(classnames__WEBPACK_IMPORTED_MODULE_9__);\n/* harmony import */ var prevent_default__WEBPACK_IMPORTED_MODULE_10__ = __webpack_require__(/*! prevent-default */ \"qqwe\");\n/* harmony import */ var _canvas_files_backbone_models_Folder__WEBPACK_IMPORTED_MODULE_11__ = __webpack_require__(/*! @canvas/files/backbone/models/Folder */ \"3jyj\");\n/* harmony import */ var prop_types__WEBPACK_IMPORTED_MODULE_12__ = __webpack_require__(/*! prop-types */ \"17x9\");\n/* harmony import */ var prop_types__WEBPACK_IMPORTED_MODULE_12___default = /*#__PURE__*/__webpack_require__.n(prop_types__WEBPACK_IMPORTED_MODULE_12__);\n/* harmony import */ var _canvas_files_react_components_UsageRightsDialog__WEBPACK_IMPORTED_MODULE_13__ = __webpack_require__(/*! @canvas/files/react/components/UsageRightsDialog */ \"YPkD\");\n/* harmony import */ var _legacy_util_downloadStuffAsAZip__WEBPACK_IMPORTED_MODULE_14__ = __webpack_require__(/*! ../legacy/util/downloadStuffAsAZip */ \"Jnhg\");\n/* harmony import */ var _canvas_files_react_modules_customPropTypes__WEBPACK_IMPORTED_MODULE_15__ = __webpack_require__(/*! @canvas/files/react/modules/customPropTypes */ \"Lg2F\");\n/* harmony import */ var _canvas_files_react_components_RestrictedDialogForm__WEBPACK_IMPORTED_MODULE_16__ = __webpack_require__(/*! @canvas/files/react/components/RestrictedDialogForm */ \"c9cI\");\n/* harmony import */ var _canvas_rails_flash_notifications__WEBPACK_IMPORTED_MODULE_17__ = __webpack_require__(/*! @canvas/rails-flash-notifications */ \"r2Yr\");\n/* harmony import */ var _canvas_trays_react_ContentTypeExternalToolTray__WEBPACK_IMPORTED_MODULE_18__ = __webpack_require__(/*! @canvas/trays/react/ContentTypeExternalToolTray */ \"WIG6\");\n/* harmony import */ var _canvas_lti_jquery_messages__WEBPACK_IMPORTED_MODULE_19__ = __webpack_require__(/*! @canvas/lti/jquery/messages */ \"jFoo\");\n/*\n * Copyright (C) 2015 - present Instructure, Inc.\n *\n * This file is part of Canvas.\n *\n * Canvas is free software: you can redistribute it and/or modify it under\n * the terms of the GNU Affero General Public License as published by the Free\n * Software Foundation, version 3 of the License.\n *\n * Canvas is distributed in the hope that it will be useful, but WITHOUT ANY\n * WARRANTY; without even the implied warranty of MERCHANTABILITY or FITNESS FOR\n * A PARTICULAR PURPOSE. See the GNU Affero General Public License for more\n * details.\n *\n * You should have received a copy of the GNU Affero General Public License along\n * with this program. If not, see <http://www.gnu.org/licenses/>.\n */\n\n\n\n\n\n\n\n\n\n\n\n\n\n\n\n\n\n\n\n\nclass Toolbar extends react__WEBPACK_IMPORTED_MODULE_2___default.a.Component {\n  constructor(...args) {\n    super(...args);\n\n    this.renderTrayToolsMenu = () => {\n      var _this$props$indexExte;\n\n      if (((_this$props$indexExte = this.props.indexExternalToolsForContext) === null || _this$props$indexExte === void 0 ? void 0 : _this$props$indexExte.length) > 0) {\n        return /*#__PURE__*/react__WEBPACK_IMPORTED_MODULE_2___default.a.createElement(\"div\", {\n          className: \"inline-block\"\n        }, /*#__PURE__*/react__WEBPACK_IMPORTED_MODULE_2___default.a.createElement(\"a\", {\n          className: \"al-trigger btn\",\n          id: \"file_menu_link\",\n          role: \"button\",\n          tabIndex: \"0\",\n          title: i18n_react_files__WEBPACK_IMPORTED_MODULE_1__[\"default\"].t('Files Menu'),\n          \"aria-label\": i18n_react_files__WEBPACK_IMPORTED_MODULE_1__[\"default\"].t('Files Menu')\n        }, /*#__PURE__*/react__WEBPACK_IMPORTED_MODULE_2___default.a.createElement(\"i\", {\n          className: \"icon-more\",\n          \"aria-hidden\": \"true\"\n        }), /*#__PURE__*/react__WEBPACK_IMPORTED_MODULE_2___default.a.createElement(\"span\", {\n          className: \"screenreader-only\"\n        }, i18n_react_files__WEBPACK_IMPORTED_MODULE_1__[\"default\"].t('Files Menu'))), /*#__PURE__*/react__WEBPACK_IMPORTED_MODULE_2___default.a.createElement(\"ul\", {\n          className: \"al-options\",\n          role: \"menu\"\n        }, this.props.indexExternalToolsForContext.map(tool => /*#__PURE__*/react__WEBPACK_IMPORTED_MODULE_2___default.a.createElement(\"li\", {\n          key: tool.id,\n          role: \"menuitem\"\n        }, /*#__PURE__*/react__WEBPACK_IMPORTED_MODULE_2___default.a.createElement(\"a\", {\n          \"aria-label\": tool.title,\n          href: \"#\",\n          onClick: this.onLaunchTrayTool(tool)\n        }, this.iconForTrayTool(tool), tool.title)))), /*#__PURE__*/react__WEBPACK_IMPORTED_MODULE_2___default.a.createElement(\"div\", {\n          id: \"external-tool-mount-point\"\n        }));\n      }\n    };\n\n    this.onLaunchTrayTool = tool => e => {\n      if (e != null) {\n        e.preventDefault();\n      }\n\n      this.setExternalToolTray(tool, document.getElementById('file_menu_link'));\n    };\n  }\n\n  componentWillMount() {\n    this.downloadTitle = i18n_react_files__WEBPACK_IMPORTED_MODULE_1__[\"default\"].t('Download as Zip');\n    this.tabIndex = null;\n  }\n\n  addFolder() {\n    return this.props.currentFolder.folders.add({});\n  }\n\n  getItemsToDownload() {\n    return this.props.selectedItems.filter(item => !item.get('locked_for_user'));\n  }\n\n  downloadSelectedAsZip() {\n    if (!this.getItemsToDownload().length) return;\n    return Object(_legacy_util_downloadStuffAsAZip__WEBPACK_IMPORTED_MODULE_14__[\"default\"])(this.getItemsToDownload(), {\n      contextType: this.props.contextType,\n      contextId: this.props.contextId\n    });\n  }\n\n  componentWillUpdate(nextProps) {\n    this.showingButtons = nextProps.selectedItems.length;\n  } // Function Summary\n  // Create a blank dialog window via jQuery, then dump the RestrictedDialogForm into that\n  // dialog window. This allows us to do react things inside of this already rendered\n  // jQueryUI widget\n\n\n  openRestrictedDialog() {\n    const $dialog = jquery__WEBPACK_IMPORTED_MODULE_0___default()('<div>').dialog({\n      title: i18n_react_files__WEBPACK_IMPORTED_MODULE_1__[\"default\"].t({\n        one: 'Edit permissions for: %{itemName}',\n        other: 'Edit permissions for %{count} items'\n      }, {\n        count: this.props.selectedItems.length,\n        itemName: this.props.selectedItems[0].displayName()\n      }),\n      width: 800,\n      minHeight: 400,\n\n      close() {\n        react_dom__WEBPACK_IMPORTED_MODULE_3___default.a.unmountComponentAtNode(this);\n        jquery__WEBPACK_IMPORTED_MODULE_0___default()(this).remove();\n      }\n\n    });\n    react_dom__WEBPACK_IMPORTED_MODULE_3___default.a.render( /*#__PURE__*/react__WEBPACK_IMPORTED_MODULE_2___default.a.createElement(_canvas_files_react_components_RestrictedDialogForm__WEBPACK_IMPORTED_MODULE_16__[\"default\"], {\n      models: this.props.selectedItems,\n      usageRightsRequiredForContext: this.props.usageRightsRequiredForContext,\n      closeDialog: () => $dialog.dialog('close')\n    }), $dialog[0]);\n  }\n\n  openUsageRightsDialog() {\n    const contents = /*#__PURE__*/react__WEBPACK_IMPORTED_MODULE_2___default.a.createElement(_canvas_files_react_components_UsageRightsDialog__WEBPACK_IMPORTED_MODULE_13__[\"default\"], {\n      isOpen: true,\n      closeModal: this.props.modalOptions.closeModal,\n      itemsToManage: this.props.selectedItems,\n      userCanRestrictFilesForContext: this.props.userCanRestrictFilesForContext\n    });\n    return this.props.modalOptions.openModal(contents, () => this.refs.usageRightsBtn.focus());\n  }\n\n  openPreview() {\n    _legacy_modules_FocusStore__WEBPACK_IMPORTED_MODULE_5__[\"default\"].setItemToFocus(this.refs.previewLink);\n    const queryString = jquery__WEBPACK_IMPORTED_MODULE_0___default.a.param(this.props.getPreviewQuery());\n    page__WEBPACK_IMPORTED_MODULE_4___default()(`${this.props.getPreviewRoute()}?${queryString}`);\n  }\n\n  onSubmitSearch() {\n    const searchTerm = this.refs.searchTerm.value;\n    page__WEBPACK_IMPORTED_MODULE_4___default()(`/search?search_term=${searchTerm}`);\n  }\n\n  iconForTrayTool(tool) {\n    if (tool.canvas_icon_class) {\n      return /*#__PURE__*/react__WEBPACK_IMPORTED_MODULE_2___default.a.createElement(\"i\", {\n        className: tool.canvas_icon_class\n      });\n    } else if (tool.icon_url) {\n      return /*#__PURE__*/react__WEBPACK_IMPORTED_MODULE_2___default.a.createElement(\"img\", {\n        className: \"icon\",\n        alt: \"\",\n        src: tool.icon_url\n      });\n    }\n  }\n\n  setExternalToolTray(tool, returnFocusTo) {\n    const handleDismiss = () => {\n      var _ltiState$tray;\n\n      this.setExternalToolTray(null);\n      returnFocusTo.focus();\n\n      if (_canvas_lti_jquery_messages__WEBPACK_IMPORTED_MODULE_19__[\"ltiState\"] !== null && _canvas_lti_jquery_messages__WEBPACK_IMPORTED_MODULE_19__[\"ltiState\"] !== void 0 && (_ltiState$tray = _canvas_lti_jquery_messages__WEBPACK_IMPORTED_MODULE_19__[\"ltiState\"].tray) !== null && _ltiState$tray !== void 0 && _ltiState$tray.refreshOnClose) {\n        window.location.reload();\n      }\n    };\n\n    react_dom__WEBPACK_IMPORTED_MODULE_3___default.a.render( /*#__PURE__*/react__WEBPACK_IMPORTED_MODULE_2___default.a.createElement(_canvas_trays_react_ContentTypeExternalToolTray__WEBPACK_IMPORTED_MODULE_18__[\"default\"], {\n      tool: tool,\n      placement: \"file_index_menu\",\n      acceptedResourceTypes: ['audio', 'document', 'image', 'video'],\n      targetResourceType: \"document\" // maybe this isn't what we want but it's my best guess\n      ,\n      allowItemSelection: false,\n      selectableItems: [],\n      onDismiss: handleDismiss,\n      open: tool !== null\n    }), document.getElementById('external-tool-mount-point'));\n  }\n\n  renderUploadAddFolderButtons(canManage) {\n    if (this.props.showingSearchResults) {\n      return null;\n    }\n\n    const phoneHiddenSet = classnames__WEBPACK_IMPORTED_MODULE_9___default()({\n      'hidden-phone': this.showingButtons\n    });\n\n    if (canManage) {\n      return /*#__PURE__*/react__WEBPACK_IMPORTED_MODULE_2___default.a.createElement(\"div\", {\n        className: \"ef-actions\"\n      }, /*#__PURE__*/react__WEBPACK_IMPORTED_MODULE_2___default.a.createElement(\"button\", {\n        type: \"button\",\n        onClick: () => this.addFolder(),\n        className: \"btn btn-add-folder\",\n        \"aria-label\": i18n_react_files__WEBPACK_IMPORTED_MODULE_1__[\"default\"].t('Add Folder')\n      }, /*#__PURE__*/react__WEBPACK_IMPORTED_MODULE_2___default.a.createElement(\"i\", {\n        className: \"icon-plus\"\n      }), \"\\xA0\", /*#__PURE__*/react__WEBPACK_IMPORTED_MODULE_2___default.a.createElement(\"span\", {\n        className: phoneHiddenSet\n      }, i18n_react_files__WEBPACK_IMPORTED_MODULE_1__[\"default\"].t('Folder'))), /*#__PURE__*/react__WEBPACK_IMPORTED_MODULE_2___default.a.createElement(_UploadButton__WEBPACK_IMPORTED_MODULE_8__[\"default\"], {\n        currentFolder: this.props.currentFolder,\n        showingButtons: !!this.showingButtons,\n        contextId: this.props.contextId,\n        contextType: this.props.contextType\n      }), this.renderTrayToolsMenu());\n    }\n  }\n\n  renderDeleteButton(canManage) {\n    if (canManage) {\n      return /*#__PURE__*/react__WEBPACK_IMPORTED_MODULE_2___default.a.createElement(\"button\", {\n        type: \"button\",\n        disabled: !this.showingButtons,\n        className: \"ui-button btn-delete\",\n        onClick: () => {\n          this.props.clearSelectedItems();\n          Object(_legacy_util_deleteStuff__WEBPACK_IMPORTED_MODULE_7__[\"default\"])(this.props.selectedItems);\n        },\n        title: i18n_react_files__WEBPACK_IMPORTED_MODULE_1__[\"default\"].t('Delete'),\n        \"aria-label\": i18n_react_files__WEBPACK_IMPORTED_MODULE_1__[\"default\"].t('Delete'),\n        \"data-tooltip\": \"\"\n      }, /*#__PURE__*/react__WEBPACK_IMPORTED_MODULE_2___default.a.createElement(\"i\", {\n        className: \"icon-trash\"\n      }));\n    }\n  }\n\n  renderManageUsageRightsButton(canManage) {\n    if (canManage) {\n      return /*#__PURE__*/react__WEBPACK_IMPORTED_MODULE_2___default.a.createElement(\"button\", {\n        ref: \"usageRightsBtn\",\n        type: \"button\",\n        disabled: !this.showingButtons,\n        className: \"Toolbar__ManageUsageRights ui-button btn-rights\",\n        onClick: () => this.openUsageRightsDialog(),\n        title: i18n_react_files__WEBPACK_IMPORTED_MODULE_1__[\"default\"].t('Manage Usage Rights'),\n        \"aria-label\": i18n_react_files__WEBPACK_IMPORTED_MODULE_1__[\"default\"].t('Manage Usage Rights'),\n        \"data-tooltip\": \"\"\n      }, /*#__PURE__*/react__WEBPACK_IMPORTED_MODULE_2___default.a.createElement(\"i\", {\n        className: \"icon-files-copyright\"\n      }));\n    }\n  }\n\n  renderCopyCourseButton(canManage) {\n    if (canManage) {\n      return /*#__PURE__*/react__WEBPACK_IMPORTED_MODULE_2___default.a.createElement(\"button\", {\n        type: \"button\",\n        disabled: !this.showingButtons,\n        className: \"ui-button btn-move\",\n        onClick: event => {\n          Object(_openMoveDialog__WEBPACK_IMPORTED_MODULE_6__[\"default\"])(this.props.selectedItems, {\n            contextType: this.props.contextType,\n            contextId: this.props.contextId,\n            returnFocusTo: event.target,\n            clearSelectedItems: this.props.clearSelectedItems,\n            onMove: this.props.onMove\n          });\n        },\n        title: i18n_react_files__WEBPACK_IMPORTED_MODULE_1__[\"default\"].t('Move'),\n        \"aria-label\": i18n_react_files__WEBPACK_IMPORTED_MODULE_1__[\"default\"].t('Move'),\n        \"data-tooltip\": \"\"\n      }, /*#__PURE__*/react__WEBPACK_IMPORTED_MODULE_2___default.a.createElement(\"i\", {\n        className: \"icon-updown\"\n      }));\n    }\n  }\n\n  renderDownloadButton() {\n    if (this.getItemsToDownload().length) {\n      if (this.props.selectedItems.length === 1 && this.props.selectedItems[0].get('url')) {\n        return /*#__PURE__*/react__WEBPACK_IMPORTED_MODULE_2___default.a.createElement(\"a\", {\n          className: \"ui-button btn-download\",\n          href: this.props.selectedItems[0].get('url'),\n          download: true,\n          title: this.downloadTitle,\n          \"aria-label\": this.downloadTitle,\n          \"data-tooltip\": \"\"\n        }, /*#__PURE__*/react__WEBPACK_IMPORTED_MODULE_2___default.a.createElement(\"i\", {\n          className: \"icon-download\"\n        }));\n      } else {\n        return /*#__PURE__*/react__WEBPACK_IMPORTED_MODULE_2___default.a.createElement(\"button\", {\n          type: \"button\",\n          disabled: !this.showingButtons,\n          className: \"ui-button btn-download\",\n          onClick: () => this.downloadSelectedAsZip(),\n          title: this.downloadTitle,\n          \"aria-label\": this.downloadTitle,\n          \"data-tooltip\": \"\"\n        }, /*#__PURE__*/react__WEBPACK_IMPORTED_MODULE_2___default.a.createElement(\"i\", {\n          className: \"icon-download\"\n        }));\n      }\n    }\n  }\n\n  componentDidUpdate(prevProps) {\n    if (prevProps.selectedItems.length !== this.props.selectedItems.length) {\n      jquery__WEBPACK_IMPORTED_MODULE_0___default.a.screenReaderFlashMessageExclusive(i18n_react_files__WEBPACK_IMPORTED_MODULE_1__[\"default\"].t({\n        one: '%{count} item selected',\n        other: '%{count} items selected'\n      }, {\n        count: this.props.selectedItems.length\n      }));\n    }\n  }\n\n  renderManageAccessPermissionsButton(canManage) {\n    if (canManage) {\n      return /*#__PURE__*/react__WEBPACK_IMPORTED_MODULE_2___default.a.createElement(\"button\", {\n        type: \"button\",\n        disabled: !this.showingButtons,\n        className: \"ui-button btn-restrict\",\n        onClick: () => this.openRestrictedDialog(),\n        title: i18n_react_files__WEBPACK_IMPORTED_MODULE_1__[\"default\"].t('Manage Access'),\n        \"aria-label\": i18n_react_files__WEBPACK_IMPORTED_MODULE_1__[\"default\"].t('Manage Access'),\n        \"data-tooltip\": \"\"\n      }, /*#__PURE__*/react__WEBPACK_IMPORTED_MODULE_2___default.a.createElement(\"i\", {\n        className: \"icon-cloud-lock\"\n      }));\n    }\n  }\n\n  render() {\n    const selectedItemIsFolder = this.props.selectedItems.every(item => item instanceof _canvas_files_backbone_models_Folder__WEBPACK_IMPORTED_MODULE_11__[\"default\"]);\n    let submissionsFolderSelected = this.props.currentFolder && this.props.currentFolder.get('for_submissions');\n    submissionsFolderSelected = submissionsFolderSelected || this.props.selectedItems.some(item => item.get('for_submissions'));\n    const restrictedByMasterCourse = this.props.selectedItems.some(item => item.get('restricted_by_master_course') && item.get('is_master_course_child_content'));\n    const _this$props = this.props,\n          userCanRestrictFilesForContext = _this$props.userCanRestrictFilesForContext,\n          userCanAddFilesForContext = _this$props.userCanAddFilesForContext,\n          userCanEditFilesForContext = _this$props.userCanEditFilesForContext,\n          userCanDeleteFilesForContext = _this$props.userCanDeleteFilesForContext;\n\n    const canManage = permission => {\n      return permission && !submissionsFolderSelected && !restrictedByMasterCourse;\n    };\n\n    this.showingButtons = this.props.selectedItems.length;\n    if (this.showingButtons === 1) this.downloadTitle = i18n_react_files__WEBPACK_IMPORTED_MODULE_1__[\"default\"].t('Download');\n    const formClassName = classnames__WEBPACK_IMPORTED_MODULE_9___default()({\n      'ic-Input-group': true,\n      'ef-search-form': true,\n      'ef-search-form--showing-buttons': this.showingButtons\n    });\n    const buttonSetClasses = classnames__WEBPACK_IMPORTED_MODULE_9___default()({\n      'ui-buttonset': true,\n      'screenreader-only': !this.showingButtons\n    });\n    const viewBtnClasses = classnames__WEBPACK_IMPORTED_MODULE_9___default()({\n      'ui-button': true,\n      'btn-view': true,\n      'Toolbar__ViewBtn--onlyfolders': selectedItemIsFolder\n    });\n    const label = selectedItemIsFolder ? i18n_react_files__WEBPACK_IMPORTED_MODULE_1__[\"default\"].t('Viewing folders is not available') : i18n_react_files__WEBPACK_IMPORTED_MODULE_1__[\"default\"].t('View');\n    return /*#__PURE__*/react__WEBPACK_IMPORTED_MODULE_2___default.a.createElement(\"header\", {\n      className: \"ef-header\",\n      role: \"region\",\n      \"aria-label\": i18n_react_files__WEBPACK_IMPORTED_MODULE_1__[\"default\"].t('Files Toolbar')\n    }, /*#__PURE__*/react__WEBPACK_IMPORTED_MODULE_2___default.a.createElement(\"form\", {\n      className: formClassName,\n      onSubmit: Object(prevent_default__WEBPACK_IMPORTED_MODULE_10__[\"default\"])(() => this.onSubmitSearch())\n    }, /*#__PURE__*/react__WEBPACK_IMPORTED_MODULE_2___default.a.createElement(\"input\", {\n      placeholder: i18n_react_files__WEBPACK_IMPORTED_MODULE_1__[\"default\"].t('Search for files'),\n      \"aria-label\": i18n_react_files__WEBPACK_IMPORTED_MODULE_1__[\"default\"].t('Search for files'),\n      type: \"search\",\n      ref: \"searchTerm\",\n      role: \"textbox\",\n      className: \"ic-Input\",\n      defaultValue: this.props.query.search_term\n    }), /*#__PURE__*/react__WEBPACK_IMPORTED_MODULE_2___default.a.createElement(\"button\", {\n      className: \"Button\",\n      type: \"submit\"\n    }, /*#__PURE__*/react__WEBPACK_IMPORTED_MODULE_2___default.a.createElement(\"i\", {\n      className: \"icon-search\"\n    }), /*#__PURE__*/react__WEBPACK_IMPORTED_MODULE_2___default.a.createElement(\"span\", {\n      className: \"screenreader-only\"\n    }, i18n_react_files__WEBPACK_IMPORTED_MODULE_1__[\"default\"].t('Search for files')))), /*#__PURE__*/react__WEBPACK_IMPORTED_MODULE_2___default.a.createElement(\"div\", {\n      className: \"ef-header__secondary\"\n    }, /*#__PURE__*/react__WEBPACK_IMPORTED_MODULE_2___default.a.createElement(\"div\", {\n      className: buttonSetClasses\n    }, /*#__PURE__*/react__WEBPACK_IMPORTED_MODULE_2___default.a.createElement(\"a\", {\n      ref: \"previewLink\",\n      href: \"#\",\n      onClick: !selectedItemIsFolder ? Object(prevent_default__WEBPACK_IMPORTED_MODULE_10__[\"default\"])(() => this.openPreview()) : () => {},\n      className: viewBtnClasses,\n      title: label,\n      role: \"button\",\n      \"aria-label\": label,\n      \"data-tooltip\": \"\",\n      disabled: !this.showingButtons || selectedItemIsFolder,\n      tabIndex: selectedItemIsFolder ? -1 : 0\n    }, /*#__PURE__*/react__WEBPACK_IMPORTED_MODULE_2___default.a.createElement(\"i\", {\n      className: \"icon-eye\"\n    })), this.renderManageAccessPermissionsButton(canManage(userCanRestrictFilesForContext)), this.renderDownloadButton(), this.renderCopyCourseButton(canManage(userCanEditFilesForContext)), this.renderManageUsageRightsButton(canManage(userCanEditFilesForContext && this.props.usageRightsRequiredForContext)), this.renderDeleteButton(canManage(userCanDeleteFilesForContext))), /*#__PURE__*/react__WEBPACK_IMPORTED_MODULE_2___default.a.createElement(\"span\", {\n      className: \"ef-selected-count hidden-tablet hidden-phone\"\n    }, i18n_react_files__WEBPACK_IMPORTED_MODULE_1__[\"default\"].t({\n      one: '%{count} item selected',\n      other: '%{count} items selected'\n    }, {\n      count: this.props.selectedItems.length\n    })), this.renderUploadAddFolderButtons(canManage(userCanAddFilesForContext))));\n  }\n\n}\nToolbar.propTypes = {\n  currentFolder: _canvas_files_react_modules_customPropTypes__WEBPACK_IMPORTED_MODULE_15__[\"default\"].folder,\n  // not required as we don't have it on the first render\n  contextType: _canvas_files_react_modules_customPropTypes__WEBPACK_IMPORTED_MODULE_15__[\"default\"].contextType.isRequired,\n  contextId: _canvas_files_react_modules_customPropTypes__WEBPACK_IMPORTED_MODULE_15__[\"default\"].contextId.isRequired,\n  showingSearchResults: prop_types__WEBPACK_IMPORTED_MODULE_12___default.a.bool,\n  usageRightsRequiredForContext: prop_types__WEBPACK_IMPORTED_MODULE_12___default.a.bool,\n  userCanAddFilesForContext: prop_types__WEBPACK_IMPORTED_MODULE_12___default.a.bool,\n  userCanEditFilesForContext: prop_types__WEBPACK_IMPORTED_MODULE_12___default.a.bool,\n  userCanDeleteFilesForContext: prop_types__WEBPACK_IMPORTED_MODULE_12___default.a.bool,\n  userCanRestrictFilesForContext: prop_types__WEBPACK_IMPORTED_MODULE_12___default.a.bool\n};\n\n//# sourceURL=webpack:///./ui/features/files/react/components/Toolbar.js?");

/***/ }),

/***/ "uWGO":
/*!*****************************************************************!*\
  !*** ./ui/features/files/react/legacy/components/MoveDialog.js ***!
  \*****************************************************************/
/*! exports provided: default */
/***/ (function(module, __webpack_exports__, __webpack_require__) {

"use strict";
eval("__webpack_require__.r(__webpack_exports__);\n/* harmony import */ var _babel_runtime_helpers_esm_slicedToArray__WEBPACK_IMPORTED_MODULE_0__ = __webpack_require__(/*! @babel/runtime/helpers/esm/slicedToArray */ \"ODXe\");\n/* harmony import */ var i18n_react_files__WEBPACK_IMPORTED_MODULE_1__ = __webpack_require__(/*! i18n!react_files */ \"mddV\");\n/* harmony import */ var prop_types__WEBPACK_IMPORTED_MODULE_2__ = __webpack_require__(/*! prop-types */ \"17x9\");\n/* harmony import */ var prop_types__WEBPACK_IMPORTED_MODULE_2___default = /*#__PURE__*/__webpack_require__.n(prop_types__WEBPACK_IMPORTED_MODULE_2__);\n/* harmony import */ var _canvas_files_react_modules_customPropTypes__WEBPACK_IMPORTED_MODULE_3__ = __webpack_require__(/*! @canvas/files/react/modules/customPropTypes */ \"Lg2F\");\n/* harmony import */ var _util_moveStuff__WEBPACK_IMPORTED_MODULE_4__ = __webpack_require__(/*! ../util/moveStuff */ \"PVeh\");\n/* harmony import */ var _canvas_util_splitAssetString__WEBPACK_IMPORTED_MODULE_5__ = __webpack_require__(/*! @canvas/util/splitAssetString */ \"s9Pr\");\n\n\n/*\n * Copyright (C) 2014 - present Instructure, Inc.\n *\n * This file is part of Canvas.\n *\n * Canvas is free software: you can redistribute it and/or modify it under\n * the terms of the GNU Affero General Public License as published by the Free\n * Software Foundation, version 3 of the License.\n *\n * Canvas is distributed in the hope that it will be useful, but WITHOUT ANY\n * WARRANTY; without even the implied warranty of MERCHANTABILITY or FITNESS FOR\n * A PARTICULAR PURPOSE. See the GNU Affero General Public License for more\n * details.\n *\n * You should have received a copy of the GNU Affero General Public License along\n * with this program. If not, see <http://www.gnu.org/licenses/>.\n */\n\n\n\n\n\n/* harmony default export */ __webpack_exports__[\"default\"] = ({\n  displayName: 'MoveDialog',\n  propTypes: {\n    rootFoldersToShow: prop_types__WEBPACK_IMPORTED_MODULE_2___default.a.arrayOf(_canvas_files_react_modules_customPropTypes__WEBPACK_IMPORTED_MODULE_3__[\"default\"].folder).isRequired,\n    thingsToMove: prop_types__WEBPACK_IMPORTED_MODULE_2___default.a.arrayOf(_canvas_files_react_modules_customPropTypes__WEBPACK_IMPORTED_MODULE_3__[\"default\"].filesystemObject).isRequired,\n    onClose: prop_types__WEBPACK_IMPORTED_MODULE_2___default.a.func.isRequired,\n    onMove: prop_types__WEBPACK_IMPORTED_MODULE_2___default.a.func.isRequired\n  },\n\n  getInitialState() {\n    return {\n      destinationFolder: null,\n      isOpen: true\n    };\n  },\n\n  contextsAreEqual(destination = {}, sources = []) {\n    const contextsAreEqual = sources.filter(source => {\n      const assetString = source.get('context_asset_string');\n\n      const _ref = assetString ? Object(_canvas_util_splitAssetString__WEBPACK_IMPORTED_MODULE_5__[\"default\"])(assetString, false) : [source.collection && source.collection.parentFolder && source.collection.parentFolder.get('context_type') || source.get('context_type'), source.collection && source.collection.parentFolder && source.collection.parentFolder.get('context_id') && source.collection.parentFolder.get('context_id').toString() || source.get('context_id').toString()],\n            _ref2 = Object(_babel_runtime_helpers_esm_slicedToArray__WEBPACK_IMPORTED_MODULE_0__[\"default\"])(_ref, 2),\n            contextType = _ref2[0],\n            contextId = _ref2[1];\n\n      return contextType.toLowerCase() === destination.get('context_type').toLowerCase() && contextId === (destination.get('context_id') && destination.get('context_id').toString());\n    });\n    return !!contextsAreEqual.length;\n  },\n\n  onSelectFolder(event, folder) {\n    event.preventDefault();\n\n    if (folder.get('for_submissions')) {\n      this.setState({\n        destinationFolder: null\n      });\n    } else {\n      this.setState({\n        destinationFolder: folder,\n        isCopyingFile: !this.contextsAreEqual(folder, this.props.thingsToMove)\n      });\n    }\n  },\n\n  submit() {\n    const modelsBeingMoved = this.props.thingsToMove;\n    const promise = Object(_util_moveStuff__WEBPACK_IMPORTED_MODULE_4__[\"default\"])(modelsBeingMoved, this.state.destinationFolder);\n    return promise.then(() => {\n      this.props.onMove(modelsBeingMoved);\n      this.closeDialog();\n    });\n  },\n\n  closeDialog() {\n    this.setState({\n      isOpen: false\n    }, function () {\n      this.props.onClose();\n    });\n  },\n\n  getTitle() {\n    return i18n_react_files__WEBPACK_IMPORTED_MODULE_1__[\"default\"].t('move_question', {\n      one: 'Where would you like to move %{item}?',\n      other: 'Where would you like to move these %{count} items?'\n    }, {\n      count: this.props.thingsToMove.length,\n      item: this.props.thingsToMove[0] && this.props.thingsToMove[0].displayName()\n    });\n  }\n\n});\n\n//# sourceURL=webpack:///./ui/features/files/react/legacy/components/MoveDialog.js?");

/***/ }),

/***/ "vCN0":
/*!****************************************!*\
  !*** ./ui/shared/modal/react/index.js ***!
  \****************************************/
/*! exports provided: default */
/***/ (function(module, __webpack_exports__, __webpack_require__) {

"use strict";
eval("__webpack_require__.r(__webpack_exports__);\n/* harmony export (binding) */ __webpack_require__.d(__webpack_exports__, \"default\", function() { return Modal; });\n/* harmony import */ var react__WEBPACK_IMPORTED_MODULE_0__ = __webpack_require__(/*! react */ \"q1tI\");\n/* harmony import */ var react__WEBPACK_IMPORTED_MODULE_0___default = /*#__PURE__*/__webpack_require__.n(react__WEBPACK_IMPORTED_MODULE_0__);\n/* harmony import */ var jquery__WEBPACK_IMPORTED_MODULE_1__ = __webpack_require__(/*! jquery */ \"ouhR\");\n/* harmony import */ var jquery__WEBPACK_IMPORTED_MODULE_1___default = /*#__PURE__*/__webpack_require__.n(jquery__WEBPACK_IMPORTED_MODULE_1__);\n/* harmony import */ var underscore__WEBPACK_IMPORTED_MODULE_2__ = __webpack_require__(/*! underscore */ \"Y/W1\");\n/* harmony import */ var underscore__WEBPACK_IMPORTED_MODULE_2___default = /*#__PURE__*/__webpack_require__.n(underscore__WEBPACK_IMPORTED_MODULE_2__);\n/* harmony import */ var prevent_default__WEBPACK_IMPORTED_MODULE_3__ = __webpack_require__(/*! prevent-default */ \"qqwe\");\n/* harmony import */ var _canvas_react_modal__WEBPACK_IMPORTED_MODULE_4__ = __webpack_require__(/*! @canvas/react-modal */ \"JHuN\");\n/* harmony import */ var _content__WEBPACK_IMPORTED_MODULE_5__ = __webpack_require__(/*! ./content */ \"0unK\");\n/* harmony import */ var _buttons__WEBPACK_IMPORTED_MODULE_6__ = __webpack_require__(/*! ./buttons */ \"GN1s\");\n/*\n * Copyright (C) 2015 - present Instructure, Inc.\n *\n * This file is part of Canvas.\n *\n * Canvas is free software: you can redistribute it and/or modify it under\n * the terms of the GNU Affero General Public License as published by the Free\n * Software Foundation, version 3 of the License.\n *\n * Canvas is distributed in the hope that it will be useful, but WITHOUT ANY\n * WARRANTY; without even the implied warranty of MERCHANTABILITY or FITNESS FOR\n * A PARTICULAR PURPOSE. See the GNU Affero General Public License for more\n * details.\n *\n * You should have received a copy of the GNU Affero General Public License along\n * with this program. If not, see <http://www.gnu.org/licenses/>.\n */\n\n\n\n\n\n\n\nconst modalOverrides = {\n  overlay: {\n    backgroundColor: 'rgba(0,0,0,0.5)',\n    zIndex: '2002'\n  },\n  content: {\n    position: 'static',\n    top: '0',\n    left: '0',\n    right: 'auto',\n    bottom: 'auto',\n    borderRadius: '0',\n    border: 'none',\n    padding: '0'\n  }\n};\nclass Modal extends react__WEBPACK_IMPORTED_MODULE_0___default.a.Component {\n  constructor(...args) {\n    super(...args);\n    this.state = {\n      modalIsOpen: this.props.isOpen\n    };\n\n    this.openModal = () => {\n      this.setState({\n        modalIsOpen: true\n      });\n    };\n\n    this.cleanupAfterClose = () => {\n      if (this.props.onRequestClose) this.props.onRequestClose();\n      jquery__WEBPACK_IMPORTED_MODULE_1___default()(this.getAppElement()).removeAttr('aria-hidden');\n    };\n\n    this.closeModal = () => {\n      this.setState({\n        modalIsOpen: false\n      }, this.cleanupAfterClose);\n    };\n\n    this.closeWithX = () => {\n      if (underscore__WEBPACK_IMPORTED_MODULE_2___default.a.isFunction(this.props.closeWithX)) this.props.closeWithX();\n      this.closeModal();\n    };\n\n    this.onSubmit = () => {\n      const promise = this.props.onSubmit();\n      jquery__WEBPACK_IMPORTED_MODULE_1___default()(this.modal).disableWhileLoading(promise);\n    };\n\n    this.onAfterOpen = () => {\n      this.closeBtn.focus();\n\n      if (this.props.onAfterOpen) {\n        this.props.onAfterOpen();\n      }\n    };\n\n    this.getAppElement = () => // Need to wait for the dom to load before we can get the default #application dom element\n    this.props.appElement || document.getElementById('application');\n\n    this.processMultipleChildren = props => {\n      let content = null;\n      let buttons = null;\n      react__WEBPACK_IMPORTED_MODULE_0___default.a.Children.forEach(props.children, child => {\n        if (child.type === _content__WEBPACK_IMPORTED_MODULE_5__[\"default\"]) {\n          content = child;\n        } else if (child.type === _buttons__WEBPACK_IMPORTED_MODULE_6__[\"default\"]) {\n          buttons = child;\n        } else {\n          // Warning if you don't include a component of the right type\n          console.warn('Modal chilren must be wrapped in either a modal-content or modal-buttons component.');\n        }\n      });\n\n      if (this.props.onSubmit) {\n        return /*#__PURE__*/react__WEBPACK_IMPORTED_MODULE_0___default.a.createElement(\"form\", {\n          className: \"ModalForm\",\n          onSubmit: Object(prevent_default__WEBPACK_IMPORTED_MODULE_3__[\"default\"])(this.onSubmit)\n        }, [content, buttons]);\n      } else {\n        return [content, buttons]; // This order needs to be maintained\n      }\n    };\n  }\n\n  componentWillReceiveProps(props) {\n    let callback;\n    if (this.props.isOpen && !props.isOpen) callback = this.cleanupAfterClose;\n    this.setState({\n      modalIsOpen: props.isOpen\n    }, callback);\n  }\n\n  render() {\n    return /*#__PURE__*/react__WEBPACK_IMPORTED_MODULE_0___default.a.createElement(\"div\", {\n      className: \"canvasModal\"\n    }, /*#__PURE__*/react__WEBPACK_IMPORTED_MODULE_0___default.a.createElement(_canvas_react_modal__WEBPACK_IMPORTED_MODULE_4__[\"default\"], {\n      ariaHideApp: !!this.state.modalIsOpen,\n      isOpen: !!this.state.modalIsOpen,\n      onRequestClose: this.closeModal,\n      className: this.props.className,\n      style: modalOverrides,\n      onAfterOpen: this.onAfterOpen,\n      overlayClassName: this.props.overlayClassName,\n      contentLabel: this.props.contentLabel,\n      appElement: this.getAppElement()\n    }, /*#__PURE__*/react__WEBPACK_IMPORTED_MODULE_0___default.a.createElement(\"div\", {\n      ref: c => {\n        this.modal = c;\n      },\n      className: \"ReactModal__Layout\",\n      style: this.props.style\n    }, /*#__PURE__*/react__WEBPACK_IMPORTED_MODULE_0___default.a.createElement(\"div\", {\n      className: \"ReactModal__Header\"\n    }, /*#__PURE__*/react__WEBPACK_IMPORTED_MODULE_0___default.a.createElement(\"div\", {\n      className: \"ReactModal__Header-Title\"\n    }, /*#__PURE__*/react__WEBPACK_IMPORTED_MODULE_0___default.a.createElement(\"h4\", null, this.props.title)), /*#__PURE__*/react__WEBPACK_IMPORTED_MODULE_0___default.a.createElement(\"div\", {\n      className: \"ReactModal__Header-Actions\"\n    }, /*#__PURE__*/react__WEBPACK_IMPORTED_MODULE_0___default.a.createElement(\"button\", {\n      ref: c => {\n        this.closeBtn = c;\n      },\n      className: \"Button Button--icon-action\",\n      type: \"button\",\n      onClick: this.closeWithX\n    }, /*#__PURE__*/react__WEBPACK_IMPORTED_MODULE_0___default.a.createElement(\"i\", {\n      className: \"icon-x\"\n    }), /*#__PURE__*/react__WEBPACK_IMPORTED_MODULE_0___default.a.createElement(\"span\", {\n      className: \"screenreader-only\"\n    }, \"Close\")))), this.processMultipleChildren(this.props))));\n  }\n\n}\nModal.defaultProps = {\n  className: 'ReactModal__Content--canvas',\n  // Override with \"ReactModal__Content--canvas ReactModal__Content--mini-modal\" for a mini modal\n  style: {}\n};\n\n//# sourceURL=webpack:///./ui/shared/modal/react/index.js?");

/***/ }),

/***/ "vTMu":
/*!***********************************************************************!*\
  !*** ./ui/shared/files/react/components/FilesystemObjectThumbnail.js ***!
  \***********************************************************************/
/*! exports provided: default */
/***/ (function(module, __webpack_exports__, __webpack_require__) {

"use strict";
eval("__webpack_require__.r(__webpack_exports__);\n/* harmony import */ var react__WEBPACK_IMPORTED_MODULE_0__ = __webpack_require__(/*! react */ \"q1tI\");\n/* harmony import */ var react__WEBPACK_IMPORTED_MODULE_0___default = /*#__PURE__*/__webpack_require__.n(react__WEBPACK_IMPORTED_MODULE_0__);\n/* harmony import */ var create_react_class__WEBPACK_IMPORTED_MODULE_1__ = __webpack_require__(/*! create-react-class */ \"fhzG\");\n/* harmony import */ var create_react_class__WEBPACK_IMPORTED_MODULE_1___default = /*#__PURE__*/__webpack_require__.n(create_react_class__WEBPACK_IMPORTED_MODULE_1__);\n/* harmony import */ var _backbone_models_Folder__WEBPACK_IMPORTED_MODULE_2__ = __webpack_require__(/*! ../../backbone/models/Folder */ \"3jyj\");\n/* harmony import */ var _canvas_mime_mimeClass__WEBPACK_IMPORTED_MODULE_3__ = __webpack_require__(/*! @canvas/mime/mimeClass */ \"scx4\");\n/* harmony import */ var _LegacyFilesystemObjectThumbnail__WEBPACK_IMPORTED_MODULE_4__ = __webpack_require__(/*! ./LegacyFilesystemObjectThumbnail */ \"WiTB\");\n/*\n * Copyright (C) 2015 - present Instructure, Inc.\n *\n * This file is part of Canvas.\n *\n * Canvas is free software: you can redistribute it and/or modify it under\n * the terms of the GNU Affero General Public License as published by the Free\n * Software Foundation, version 3 of the License.\n *\n * Canvas is distributed in the hope that it will be useful, but WITHOUT ANY\n * WARRANTY; without even the implied warranty of MERCHANTABILITY or FITNESS FOR\n * A PARTICULAR PURPOSE. See the GNU Affero General Public License for more\n * details.\n *\n * You should have received a copy of the GNU Affero General Public License along\n * with this program. If not, see <http://www.gnu.org/licenses/>.\n */\n\n\n\n\n\n\n_LegacyFilesystemObjectThumbnail__WEBPACK_IMPORTED_MODULE_4__[\"default\"].render = function () {\n  const additionalClassName = this.props.className ? this.props.className : '';\n\n  if (this.state.thumbnail_url) {\n    return /*#__PURE__*/react__WEBPACK_IMPORTED_MODULE_0___default.a.createElement(\"span\", {\n      className: `media-object ef-thumbnail FilesystemObjectThumbnail ${additionalClassName}`,\n      style: {\n        backgroundImage: `url('${this.state.thumbnail_url}')`\n      }\n    });\n  } else {\n    const thumbnailClassName = this.props.model instanceof _backbone_models_Folder__WEBPACK_IMPORTED_MODULE_2__[\"default\"] ? this.props.model.get('for_submissions') ? 'folder-locked' : 'folder' : Object(_canvas_mime_mimeClass__WEBPACK_IMPORTED_MODULE_3__[\"default\"])(this.props.model.get('content-type'));\n    return /*#__PURE__*/react__WEBPACK_IMPORTED_MODULE_0___default.a.createElement(\"i\", {\n      className: `media-object ef-big-icon FilesystemObjectThumbnail mimeClass-${thumbnailClassName} ${additionalClassName}`\n    });\n  }\n};\n\n/* harmony default export */ __webpack_exports__[\"default\"] = (create_react_class__WEBPACK_IMPORTED_MODULE_1___default()(_LegacyFilesystemObjectThumbnail__WEBPACK_IMPORTED_MODULE_4__[\"default\"]));\n\n//# sourceURL=webpack:///./ui/shared/files/react/components/FilesystemObjectThumbnail.js?");

/***/ }),

/***/ "vavB":
/*!*******************************************************!*\
  !*** ./ui/shared/files/react/modules/BaseUploader.js ***!
  \*******************************************************/
/*! exports provided: default */
/***/ (function(module, __webpack_exports__, __webpack_require__) {

"use strict";
eval("__webpack_require__.r(__webpack_exports__);\n/* harmony export (binding) */ __webpack_require__.d(__webpack_exports__, \"default\", function() { return BaseUploader; });\n/* harmony import */ var _canvas_axios__WEBPACK_IMPORTED_MODULE_0__ = __webpack_require__(/*! @canvas/axios */ \"BrAc\");\n/* harmony import */ var _canvas_upload_file__WEBPACK_IMPORTED_MODULE_1__ = __webpack_require__(/*! @canvas/upload-file */ \"EyBU\");\n/*\n * Copyright (C) 2014 - present Instructure, Inc.\n *\n * This file is part of Canvas.\n *\n * Canvas is free software: you can redistribute it and/or modify it under\n * the terms of the GNU Affero General Public License as published by the Free\n * Software Foundation, version 3 of the License.\n *\n * Canvas is distributed in the hope that it will be useful, but WITHOUT ANY\n * WARRANTY; without even the implied warranty of MERCHANTABILITY or FITNESS FOR\n * A PARTICULAR PURPOSE. See the GNU Affero General Public License for more\n * details.\n *\n * You should have received a copy of the GNU Affero General Public License along\n * with this program. If not, see <http://www.gnu.org/licenses/>.\n */\n// Base uploader with common api between File and Zip uploads\n// (where zip is expanded)\n\n\nclass BaseUploader {\n  constructor(fileOptions, folder) {\n    this.onPreflightComplete = ({\n      data\n    }) => {\n      this.uploadData = data;\n      return this._actualUpload();\n    };\n\n    this.trackProgress = e => {\n      this.progress = e.loaded / e.total;\n      return this.onProgress(this.progress, this.file);\n    };\n\n    this.canAbort = () => {\n      return !!this._cancelToken;\n    };\n\n    this.abort = () => {\n      this === null || this === void 0 ? void 0 : this._cancelRequest();\n      this.onUploadCancelled(this.file);\n    };\n\n    this.file = fileOptions.file;\n    this.options = fileOptions;\n    this.folder = folder;\n    this.progress = 0;\n    this._cancelRequest = null;\n    this._cancelToken = null; // inFlight is true as long as the upload is taking place.\n    // this includes the time it takes for ZipUploader to unzip\n    // its file after the upload itself completes\n\n    this.inFlight = false;\n  }\n\n  onProgress(_percentComplete, _file) {} // noop will be set up a level\n\n\n  createPreFlightParams() {\n    return {\n      name: this.options.name || this.file.name,\n      size: this.file.size,\n      content_type: this.file.type,\n      on_duplicate: this.options.dup || 'rename',\n      parent_folder_id: this.folder.id,\n      no_redirect: true\n    };\n  }\n\n  getPreflightUrl() {\n    return `/api/v1/folders/${this.folder.id}/files`;\n  }\n\n  // kickoff / preflight upload process\n  upload() {\n    this._cancelToken = new _canvas_axios__WEBPACK_IMPORTED_MODULE_0__[\"default\"].CancelToken(canceller => {\n      this._cancelRequest = canceller;\n    });\n    this.inFlight = true;\n    return Object(_canvas_axios__WEBPACK_IMPORTED_MODULE_0__[\"default\"])({\n      url: this.getPreflightUrl(),\n      method: 'POST',\n      data: this.createPreFlightParams(),\n      responseType: 'json',\n      cancelToken: this._cancelToken\n    }).then(this.onPreflightComplete).catch(failReason => {\n      this.inFlight = false;\n\n      if (_canvas_axios__WEBPACK_IMPORTED_MODULE_0__[\"default\"].isCancel(failReason)) {\n        this.onUploadCancelled(); // eslint-disable-next-line no-throw-literal\n\n        throw 'user_aborted_upload';\n      } else {\n        this.error = failReason;\n        throw failReason;\n      }\n    });\n  } // actual upload based on kickoff / preflight\n\n\n  _actualUpload() {\n    return Object(_canvas_upload_file__WEBPACK_IMPORTED_MODULE_1__[\"completeUpload\"])(this.uploadData, this.file, {\n      ajaxLib: _canvas_axios__WEBPACK_IMPORTED_MODULE_0__[\"default\"],\n      onProgress: this.trackProgress,\n      ajaxLibOptions: {\n        cancelToken: this._cancelToken\n      }\n    }).then(this.onUploadPosted);\n  } // be careful if you ever need to change this implementation there\n  // is other code that replaces BaseUploader.prototype.onUploadPosted\n\n\n  onUploadPosted() {}\n\n  onUploadCancelled(_file) {\n    this.inFlight = false;\n  } // should be implemented in extensions\n\n\n  getProgress() {\n    return this.progress;\n  }\n\n  roundProgress() {\n    const value = this.getProgress() || 0;\n    return Math.min(Math.round(value * 100), 100);\n  }\n\n  getFileType() {\n    return this.file.type;\n  }\n\n  getFileName() {\n    return this.options.name || this.file.name;\n  }\n\n  reset() {\n    this.error = null;\n    this.progress = 0;\n  }\n\n}\n\n//# sourceURL=webpack:///./ui/shared/files/react/modules/BaseUploader.js?");

/***/ }),

/***/ "wA4H":
/*!*************************************************************!*\
  !*** ./ui/features/files/react/components/BBTreeBrowser.js ***!
  \*************************************************************/
/*! exports provided: default */
/***/ (function(module, __webpack_exports__, __webpack_require__) {

"use strict";
eval("__webpack_require__.r(__webpack_exports__);\n/* harmony import */ var react__WEBPACK_IMPORTED_MODULE_0__ = __webpack_require__(/*! react */ \"q1tI\");\n/* harmony import */ var react__WEBPACK_IMPORTED_MODULE_0___default = /*#__PURE__*/__webpack_require__.n(react__WEBPACK_IMPORTED_MODULE_0__);\n/* harmony import */ var prop_types__WEBPACK_IMPORTED_MODULE_1__ = __webpack_require__(/*! prop-types */ \"17x9\");\n/* harmony import */ var prop_types__WEBPACK_IMPORTED_MODULE_1___default = /*#__PURE__*/__webpack_require__.n(prop_types__WEBPACK_IMPORTED_MODULE_1__);\n/* harmony import */ var react_dom__WEBPACK_IMPORTED_MODULE_2__ = __webpack_require__(/*! react-dom */ \"i8i4\");\n/* harmony import */ var react_dom__WEBPACK_IMPORTED_MODULE_2___default = /*#__PURE__*/__webpack_require__.n(react_dom__WEBPACK_IMPORTED_MODULE_2__);\n/* harmony import */ var _canvas_files_react_modules_customPropTypes__WEBPACK_IMPORTED_MODULE_3__ = __webpack_require__(/*! @canvas/files/react/modules/customPropTypes */ \"Lg2F\");\n/* harmony import */ var i18n_react_files__WEBPACK_IMPORTED_MODULE_4__ = __webpack_require__(/*! i18n!react_files */ \"mddV\");\n/* harmony import */ var _legacy_modules_BBTreeBrowserView__WEBPACK_IMPORTED_MODULE_5__ = __webpack_require__(/*! ../legacy/modules/BBTreeBrowserView */ \"RJe1\");\n/* harmony import */ var _RootFoldersFinder_coffee__WEBPACK_IMPORTED_MODULE_6__ = __webpack_require__(/*! ../../RootFoldersFinder.coffee */ \"5SYd\");\n/*\n * Copyright (C) 2015 - present Instructure, Inc.\n *\n * This file is part of Canvas.\n *\n * Canvas is free software: you can redistribute it and/or modify it under\n * the terms of the GNU Affero General Public License as published by the Free\n * Software Foundation, version 3 of the License.\n *\n * Canvas is distributed in the hope that it will be useful, but WITHOUT ANY\n * WARRANTY; without even the implied warranty of MERCHANTABILITY or FITNESS FOR\n * A PARTICULAR PURPOSE. See the GNU Affero General Public License for more\n * details.\n *\n * You should have received a copy of the GNU Affero General Public License along\n * with this program. If not, see <http://www.gnu.org/licenses/>.\n */\n\n\n\n\n\n\n\n\nclass BBTreeBrowser extends react__WEBPACK_IMPORTED_MODULE_0___default.a.Component {\n  componentDidMount() {\n    const rootFoldersFinder = new _RootFoldersFinder_coffee__WEBPACK_IMPORTED_MODULE_6__[\"default\"]({\n      rootFoldersToShow: this.props.rootFoldersToShow\n    });\n    this.treeBrowserViewId = _legacy_modules_BBTreeBrowserView__WEBPACK_IMPORTED_MODULE_5__[\"default\"].create({\n      onlyShowSubtrees: true,\n      rootModelsFinder: rootFoldersFinder,\n      rootFoldersToShow: this.props.rootFoldersToShow,\n      onClick: this.props.onSelectFolder,\n      focusStyleClass: 'MoveDialog__folderItem--focused',\n      selectedStyleClass: 'MoveDialog__folderItem--selected'\n    }, {\n      element: react_dom__WEBPACK_IMPORTED_MODULE_2___default.a.findDOMNode(this.refs.FolderTreeHolder)\n    }).index;\n    window.setTimeout(() => {\n      _legacy_modules_BBTreeBrowserView__WEBPACK_IMPORTED_MODULE_5__[\"default\"].getView(this.treeBrowserViewId).render().$el.appendTo(react_dom__WEBPACK_IMPORTED_MODULE_2___default.a.findDOMNode(this.refs.FolderTreeHolder)).find(':tabbable:first').focus();\n    }, 0);\n  }\n\n  componentWillUnmount() {\n    _legacy_modules_BBTreeBrowserView__WEBPACK_IMPORTED_MODULE_5__[\"default\"].remove(this.treeBrowserViewId);\n  }\n\n  render() {\n    return /*#__PURE__*/react__WEBPACK_IMPORTED_MODULE_0___default.a.createElement(\"aside\", {\n      role: \"region\",\n      \"aria-label\": i18n_react_files__WEBPACK_IMPORTED_MODULE_4__[\"default\"].t('folder_browsing_tree', 'Folder Browsing Tree')\n    }, /*#__PURE__*/react__WEBPACK_IMPORTED_MODULE_0___default.a.createElement(\"div\", {\n      ref: \"FolderTreeHolder\"\n    }));\n  }\n\n}\n\nBBTreeBrowser.displayName = 'BBTreeBrowser';\nBBTreeBrowser.propTypes = {\n  rootFoldersToShow: prop_types__WEBPACK_IMPORTED_MODULE_1___default.a.arrayOf(_canvas_files_react_modules_customPropTypes__WEBPACK_IMPORTED_MODULE_3__[\"default\"].folder).isRequired,\n  onSelectFolder: prop_types__WEBPACK_IMPORTED_MODULE_1___default.a.func.isRequired\n};\n/* harmony default export */ __webpack_exports__[\"default\"] = (BBTreeBrowser);\n\n//# sourceURL=webpack:///./ui/features/files/react/components/BBTreeBrowser.js?");

/***/ }),

/***/ "wRx2":
/*!*************************************!*\
  !*** ./ui/features/files/router.js ***!
  \*************************************/
/*! exports provided: default */
/***/ (function(module, __webpack_exports__, __webpack_require__) {

"use strict";
eval("__webpack_require__.r(__webpack_exports__);\n/* harmony import */ var react__WEBPACK_IMPORTED_MODULE_0__ = __webpack_require__(/*! react */ \"q1tI\");\n/* harmony import */ var react__WEBPACK_IMPORTED_MODULE_0___default = /*#__PURE__*/__webpack_require__.n(react__WEBPACK_IMPORTED_MODULE_0__);\n/* harmony import */ var react_dom__WEBPACK_IMPORTED_MODULE_1__ = __webpack_require__(/*! react-dom */ \"i8i4\");\n/* harmony import */ var react_dom__WEBPACK_IMPORTED_MODULE_1___default = /*#__PURE__*/__webpack_require__.n(react_dom__WEBPACK_IMPORTED_MODULE_1__);\n/* harmony import */ var page__WEBPACK_IMPORTED_MODULE_2__ = __webpack_require__(/*! page */ \"KVl8\");\n/* harmony import */ var page__WEBPACK_IMPORTED_MODULE_2___default = /*#__PURE__*/__webpack_require__.n(page__WEBPACK_IMPORTED_MODULE_2__);\n/* harmony import */ var qs__WEBPACK_IMPORTED_MODULE_3__ = __webpack_require__(/*! qs */ \"Qyje\");\n/* harmony import */ var qs__WEBPACK_IMPORTED_MODULE_3___default = /*#__PURE__*/__webpack_require__.n(qs__WEBPACK_IMPORTED_MODULE_3__);\n/* harmony import */ var _canvas_files_react_modules_filesEnv__WEBPACK_IMPORTED_MODULE_4__ = __webpack_require__(/*! @canvas/files/react/modules/filesEnv */ \"m452\");\n/* harmony import */ var _react_components_FilesApp__WEBPACK_IMPORTED_MODULE_5__ = __webpack_require__(/*! ./react/components/FilesApp */ \"22Ii\");\n/* harmony import */ var _react_components_ShowFolder__WEBPACK_IMPORTED_MODULE_6__ = __webpack_require__(/*! ./react/components/ShowFolder */ \"+Byb\");\n/* harmony import */ var _react_components_SearchResults__WEBPACK_IMPORTED_MODULE_7__ = __webpack_require__(/*! ./react/components/SearchResults */ \"mKJ7\");\n/*\n * Copyright (C) 2016 - present Instructure, Inc.\n *\n * This file is part of Canvas.\n *\n * Canvas is free software: you can redistribute it and/or modify it under\n * the terms of the GNU Affero General Public License as published by the Free\n * Software Foundation, version 3 of the License.\n *\n * Canvas is distributed in the hope that it will be useful, but WITHOUT ANY\n * WARRANTY; without even the implied warranty of MERCHANTABILITY or FITNESS FOR\n * A PARTICULAR PURPOSE. See the GNU Affero General Public License for more\n * details.\n *\n * You should have received a copy of the GNU Affero General Public License along\n * with this program. If not, see <http://www.gnu.org/licenses/>.\n */\n\n\n\n\n\n\n\n\n/**\n * Route Handlers\n */\n\nfunction renderShowFolder(ctx) {\n  react_dom__WEBPACK_IMPORTED_MODULE_1___default.a.render( /*#__PURE__*/react__WEBPACK_IMPORTED_MODULE_0___default.a.createElement(_react_components_FilesApp__WEBPACK_IMPORTED_MODULE_5__[\"default\"], {\n    query: ctx.query,\n    params: ctx.params,\n    splat: ctx.splat,\n    pathname: ctx.pathname,\n    contextAssetString: window.ENV.context_asset_string\n  }, /*#__PURE__*/react__WEBPACK_IMPORTED_MODULE_0___default.a.createElement(_react_components_ShowFolder__WEBPACK_IMPORTED_MODULE_6__[\"default\"], null)), document.getElementById('content'));\n}\n\nfunction renderSearchResults(ctx) {\n  react_dom__WEBPACK_IMPORTED_MODULE_1___default.a.render( /*#__PURE__*/react__WEBPACK_IMPORTED_MODULE_0___default.a.createElement(_react_components_FilesApp__WEBPACK_IMPORTED_MODULE_5__[\"default\"], {\n    query: ctx.query,\n    params: ctx.params,\n    splat: ctx.splat,\n    pathname: ctx.pathname,\n    contextAssetString: window.ENV.context_asset_string\n  }, /*#__PURE__*/react__WEBPACK_IMPORTED_MODULE_0___default.a.createElement(_react_components_SearchResults__WEBPACK_IMPORTED_MODULE_7__[\"default\"], null)), document.getElementById('content'));\n}\n/**\n * Middlewares\n */\n\n\nfunction parseQueryString(ctx, next) {\n  ctx.query = qs__WEBPACK_IMPORTED_MODULE_3___default.a.parse(ctx.querystring);\n  next();\n}\n\nfunction getFolderSplat(ctx, next) {\n  /* This function only gets called when hitting the /folder/*\n   * route so we make that assumption here with many of the\n   * things being done.\n   */\n  const PATH_PREFIX = '/folder/';\n  const index = ctx.pathname.indexOf(PATH_PREFIX) + PATH_PREFIX.length;\n  const rawSplat = ctx.pathname.slice(index);\n  ctx.splat = rawSplat.split('/').map(part => window.encodeURIComponent(part)).join('/');\n  next();\n}\n\nfunction getSplat(ctx, next) {\n  ctx.splat = '';\n  next();\n}\n/**\n * Route Configuration\n */\n\n\npage__WEBPACK_IMPORTED_MODULE_2___default.a.base(_canvas_files_react_modules_filesEnv__WEBPACK_IMPORTED_MODULE_4__[\"default\"].baseUrl);\npage__WEBPACK_IMPORTED_MODULE_2___default()('*', getSplat); // Generally this will overridden by the folder route's middleware\n\npage__WEBPACK_IMPORTED_MODULE_2___default()('*', parseQueryString); // Middleware to parse querystring to object\n\npage__WEBPACK_IMPORTED_MODULE_2___default()('/', renderShowFolder);\npage__WEBPACK_IMPORTED_MODULE_2___default()('/search', renderSearchResults);\npage__WEBPACK_IMPORTED_MODULE_2___default()('/folder', '/');\npage__WEBPACK_IMPORTED_MODULE_2___default()('/folder/*', getFolderSplat, renderShowFolder);\n/* harmony default export */ __webpack_exports__[\"default\"] = ({\n  start() {\n    page__WEBPACK_IMPORTED_MODULE_2___default.a.start({\n      click: false\n    });\n  },\n\n  getFolderSplat // Export getSplat for testing\n\n});\n\n//# sourceURL=webpack:///./ui/features/files/router.js?");

/***/ }),

/***/ "xyLk":
/*!***************************************************************!*\
  !*** ./ui/features/files/react/legacy/components/FilesApp.js ***!
  \***************************************************************/
/*! exports provided: default */
/***/ (function(module, __webpack_exports__, __webpack_require__) {

"use strict";
eval("__webpack_require__.r(__webpack_exports__);\n/* harmony import */ var underscore__WEBPACK_IMPORTED_MODULE_0__ = __webpack_require__(/*! underscore */ \"Y/W1\");\n/* harmony import */ var underscore__WEBPACK_IMPORTED_MODULE_0___default = /*#__PURE__*/__webpack_require__.n(underscore__WEBPACK_IMPORTED_MODULE_0__);\n/* harmony import */ var _mixins_MultiselectableMixin__WEBPACK_IMPORTED_MODULE_1__ = __webpack_require__(/*! ../mixins/MultiselectableMixin */ \"quWl\");\n/* harmony import */ var _mixins_dndMixin__WEBPACK_IMPORTED_MODULE_2__ = __webpack_require__(/*! ../mixins/dndMixin */ \"PP3H\");\n/* harmony import */ var _canvas_files_react_modules_filesEnv__WEBPACK_IMPORTED_MODULE_3__ = __webpack_require__(/*! @canvas/files/react/modules/filesEnv */ \"m452\");\n/*\n * Copyright (C) 2014 - present Instructure, Inc.\n *\n * This file is part of Canvas.\n *\n * Canvas is free software: you can redistribute it and/or modify it under\n * the terms of the GNU Affero General Public License as published by the Free\n * Software Foundation, version 3 of the License.\n *\n * Canvas is distributed in the hope that it will be useful, but WITHOUT ANY\n * WARRANTY; without even the implied warranty of MERCHANTABILITY or FITNESS FOR\n * A PARTICULAR PURPOSE. See the GNU Affero General Public License for more\n * details.\n *\n * You should have received a copy of the GNU Affero General Public License along\n * with this program. If not, see <http://www.gnu.org/licenses/>.\n */\n\n\n\n\n/* harmony default export */ __webpack_exports__[\"default\"] = ({\n  displayName: 'FilesApp',\n\n  onResolvePath({\n    currentFolder,\n    rootTillCurrentFolder,\n    showingSearchResults,\n    searchResultCollection\n  }) {\n    const updatedModels = this.state.updatedModels;\n\n    if (currentFolder && !showingSearchResults) {\n      updatedModels.forEach((model, index, models) => {\n        let removedModel;\n\n        if (currentFolder.id.toString() !== model.get('folder_id') && (removedModel = currentFolder.files.findWhere({\n          id: model.get('id')\n        }))) {\n          currentFolder.files.remove(removedModel);\n          models.splice(index, 1);\n        }\n      });\n    }\n\n    return this.setState({\n      currentFolder,\n      rootTillCurrentFolder,\n      showingSearchResults,\n      selectedItems: [],\n      searchResultCollection,\n      updatedModels\n    });\n  },\n\n  getInitialState() {\n    return {\n      updatedModels: [],\n      currentFolder: null,\n      rootTillCurrentFolder: null,\n      showingSearchResults: false,\n      showingModal: false,\n      modalContents: null // This should be a React Component to render in the modal container.\n\n    };\n  },\n\n  mixins: [_mixins_MultiselectableMixin__WEBPACK_IMPORTED_MODULE_1__[\"default\"], _mixins_dndMixin__WEBPACK_IMPORTED_MODULE_2__[\"default\"]],\n\n  // for MultiselectableMixin\n  selectables() {\n    if (this.state.showingSearchResults) {\n      return this.state.searchResultCollection.models;\n    } else {\n      return this.state.currentFolder.children(this.props.query);\n    }\n  },\n\n  onMove(modelsToMove) {\n    const updatedModels = underscore__WEBPACK_IMPORTED_MODULE_0___default.a.uniq(this.state.updatedModels.concat(modelsToMove), 'id');\n\n    this.setState({\n      updatedModels\n    });\n  },\n\n  getPreviewQuery() {\n    const retObj = {\n      preview: this.state.selectedItems[0] && this.state.selectedItems[0].id || true\n    };\n\n    if (this.state.selectedItems.length > 1) {\n      retObj.only_preview = this.state.selectedItems.map(item => item.id).join(',');\n    }\n\n    if (this.props.query && this.props.query.search_term) {\n      retObj.search_term = this.props.query.search_term;\n    }\n\n    if (this.props.query && this.props.query.sort) {\n      retObj.sort = this.props.query.sort;\n    }\n\n    if (this.props.query && this.props.query.order) {\n      retObj.order = this.props.query.order;\n    }\n\n    return retObj;\n  },\n\n  openModal(contents, afterClose) {\n    this.setState({\n      modalContents: contents,\n      showingModal: true,\n      afterModalClose: afterClose\n    });\n  },\n\n  closeModal() {\n    this.setState({\n      showingModal: false\n    }, () => this.state.afterModalClose());\n  }\n\n});\n\n//# sourceURL=webpack:///./ui/features/files/react/legacy/components/FilesApp.js?");

/***/ }),

/***/ "y6HF":
/*!*********************************************************************!*\
  !*** ./ui/shared/files/react/components/LegacyUsageRightsDialog.js ***!
  \*********************************************************************/
/*! exports provided: default */
/***/ (function(module, __webpack_exports__, __webpack_require__) {

"use strict";
eval("__webpack_require__.r(__webpack_exports__);\n/* harmony import */ var jquery__WEBPACK_IMPORTED_MODULE_0__ = __webpack_require__(/*! jquery */ \"ouhR\");\n/* harmony import */ var jquery__WEBPACK_IMPORTED_MODULE_0___default = /*#__PURE__*/__webpack_require__.n(jquery__WEBPACK_IMPORTED_MODULE_0__);\n/* harmony import */ var prop_types__WEBPACK_IMPORTED_MODULE_1__ = __webpack_require__(/*! prop-types */ \"17x9\");\n/* harmony import */ var prop_types__WEBPACK_IMPORTED_MODULE_1___default = /*#__PURE__*/__webpack_require__.n(prop_types__WEBPACK_IMPORTED_MODULE_1__);\n/* harmony import */ var i18n_usage_rights_modal__WEBPACK_IMPORTED_MODULE_2__ = __webpack_require__(/*! i18n!usage_rights_modal */ \"mFaB\");\n/* harmony import */ var _modules_customPropTypes__WEBPACK_IMPORTED_MODULE_3__ = __webpack_require__(/*! ../modules/customPropTypes */ \"Lg2F\");\n/* harmony import */ var _modules_filesEnv__WEBPACK_IMPORTED_MODULE_4__ = __webpack_require__(/*! ../modules/filesEnv */ \"m452\");\n/* harmony import */ var _util_setUsageRights__WEBPACK_IMPORTED_MODULE_5__ = __webpack_require__(/*! ../../util/setUsageRights */ \"ByV2\");\n/* harmony import */ var _util_updateModelsUsageRights__WEBPACK_IMPORTED_MODULE_6__ = __webpack_require__(/*! ../../util/updateModelsUsageRights */ \"ShJr\");\n/* harmony import */ var _canvas_rails_flash_notifications__WEBPACK_IMPORTED_MODULE_7__ = __webpack_require__(/*! @canvas/rails-flash-notifications */ \"r2Yr\");\n/* harmony import */ var _canvas_forms_jquery_jquery_instructure_forms__WEBPACK_IMPORTED_MODULE_8__ = __webpack_require__(/*! @canvas/forms/jquery/jquery.instructure_forms */ \"Dhso\");\n/*\n * Copyright (C) 2014 - present Instructure, Inc.\n *\n * This file is part of Canvas.\n *\n * Canvas is free software: you can redistribute it and/or modify it under\n * the terms of the GNU Affero General Public License as published by the Free\n * Software Foundation, version 3 of the License.\n *\n * Canvas is distributed in the hope that it will be useful, but WITHOUT ANY\n * WARRANTY; without even the implied warranty of MERCHANTABILITY or FITNESS FOR\n * A PARTICULAR PURPOSE. See the GNU Affero General Public License for more\n * details.\n *\n * You should have received a copy of the GNU Affero General Public License along\n * with this program. If not, see <http://www.gnu.org/licenses/>.\n */\n\n\n\n\n\n\n\n\n\n/* harmony default export */ __webpack_exports__[\"default\"] = ({\n  displayName: 'ManageUsageRightsModal',\n  propTypes: {\n    isOpen: prop_types__WEBPACK_IMPORTED_MODULE_1___default.a.bool,\n    closeModal: prop_types__WEBPACK_IMPORTED_MODULE_1___default.a.func,\n    itemsToManage: prop_types__WEBPACK_IMPORTED_MODULE_1___default.a.arrayOf(_modules_customPropTypes__WEBPACK_IMPORTED_MODULE_3__[\"default\"].filesystemObject).isRequired\n  },\n\n  componentWillMount() {\n    this.copyright = this.defaultCopyright();\n    this.use_justification = this.defaultSelectedRight();\n    return this.cc_value = this.defaultCCValue();\n  },\n\n  apiUrl: `/api/v1/${_modules_filesEnv__WEBPACK_IMPORTED_MODULE_4__[\"default\"].contextType}/${_modules_filesEnv__WEBPACK_IMPORTED_MODULE_4__[\"default\"].contextId}/usage_rights`,\n  copyright: null,\n  use_justification: null,\n\n  submit(deferSaveCallback = null) {\n    const values = this.usageSelection.getValues(); // They didn't choose a copyright\n\n    if (values.use_justification === 'choose') {\n      jquery__WEBPACK_IMPORTED_MODULE_0___default()(this.usageSelection.usageRightSelection).errorBox(i18n_usage_rights_modal__WEBPACK_IMPORTED_MODULE_2__[\"default\"].t('You must specify a usage right.'), null, 'fixed');\n      return false;\n    }\n\n    const usageRightValue = {\n      use_justification: values.use_justification,\n      legal_copyright: values.copyright,\n      license: values.cc_license\n    };\n\n    if (deferSaveCallback) {\n      deferSaveCallback(usageRightValue);\n      return this.props.closeModal();\n    }\n\n    const afterSet = (success, data) => {\n      if (success) {\n        Object(_util_updateModelsUsageRights__WEBPACK_IMPORTED_MODULE_6__[\"default\"])(data, this.props.itemsToManage);\n        jquery__WEBPACK_IMPORTED_MODULE_0___default.a.flashMessage(i18n_usage_rights_modal__WEBPACK_IMPORTED_MODULE_2__[\"default\"].t('Usage rights have been set.'));\n        this.setRestrictedAccess(this.restrictedSelection.extractFormValues());\n      } else {\n        jquery__WEBPACK_IMPORTED_MODULE_0___default.a.flashError(i18n_usage_rights_modal__WEBPACK_IMPORTED_MODULE_2__[\"default\"].t('There was an error setting usage rights.'));\n      }\n\n      return this.props.closeModal();\n    };\n\n    return Object(_util_setUsageRights__WEBPACK_IMPORTED_MODULE_5__[\"default\"])(this.props.itemsToManage, usageRightValue, afterSet);\n  },\n\n  setRestrictedAccess(attributes) {\n    return this.props.itemsToManage.every(item => item.save({}, {\n      attrs: attributes\n    }));\n  },\n\n  // Determines the default usage right to be selected\n  defaultSelectedRight() {\n    const useJustification = this.props.itemsToManage[0].get('usage_rights') && this.props.itemsToManage[0].get('usage_rights').use_justification;\n\n    if (this.props.itemsToManage.every(item => (item.get('usage_rights') && item.get('usage_rights').use_justification) === useJustification)) {\n      return useJustification;\n    } else {\n      return 'choose';\n    }\n  },\n\n  defaultCopyright() {\n    const copyright = this.props.itemsToManage[0].get('usage_rights') && this.props.itemsToManage[0].get('usage_rights').legal_copyright || '';\n\n    if (this.props.itemsToManage.every(item => (item.get('usage_rights') && item.get('usage_rights').legal_copyright) === copyright || (item.get('usage_rights') && item.get('usage_rights').license) === copyright)) {\n      return copyright;\n    } else {\n      return null;\n    }\n  },\n\n  defaultCCValue() {\n    if (this.use_justification === 'creative_commons') {\n      return this.props.itemsToManage[0].get('usage_rights') && this.props.itemsToManage[0].get('usage_rights').license;\n    } else {\n      return null;\n    }\n  }\n\n});\n\n//# sourceURL=webpack:///./ui/shared/files/react/components/LegacyUsageRightsDialog.js?");

/***/ }),

/***/ "zq/q":
/*!*******************************************************!*\
  !*** ./ui/shared/files/backbone/models/ModuleFile.js ***!
  \*******************************************************/
/*! exports provided: default */
/***/ (function(module, __webpack_exports__, __webpack_require__) {

"use strict";
eval("__webpack_require__.r(__webpack_exports__);\n/* harmony export (binding) */ __webpack_require__.d(__webpack_exports__, \"default\", function() { return ModuleFile; });\n/* harmony import */ var _FilesystemObject_coffee__WEBPACK_IMPORTED_MODULE_0__ = __webpack_require__(/*! ./FilesystemObject.coffee */ \"QYKH\");\n//\n// Copyright (C) 2015 - present Instructure, Inc.\n//\n// This file is part of Canvas.\n//\n// Canvas is free software: you can redistribute it and/or modify it under\n// the terms of the GNU Affero General Public License as published by the Free\n// Software Foundation, version 3 of the License.\n//\n// Canvas is distributed in the hope that it will be useful, but WITHOUT ANY\n// WARRANTY; without even the implied warranty of MERCHANTABILITY or FITNESS FOR\n// A PARTICULAR PURPOSE. See the GNU Affero General Public License for more\n// details.\n//\n// You should have received a copy of the GNU Affero General Public License along\n// with this program. If not, see <http://www.gnu.org/licenses/>.\n\nclass ModuleFile extends _FilesystemObject_coffee__WEBPACK_IMPORTED_MODULE_0__[\"default\"] {\n  initialize(attributes, options) {\n    return super.initialize(...arguments);\n  }\n\n}\n\n//# sourceURL=webpack:///./ui/shared/files/backbone/models/ModuleFile.js?");

/***/ })

}]);