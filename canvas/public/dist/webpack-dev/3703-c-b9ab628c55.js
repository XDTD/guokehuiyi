(window["canvasWebpackJsonp"] = window["canvasWebpackJsonp"] || []).push([[3703],{

/***/ "0T8D":
/*!*****************************************************************************!*\
  !*** ./ui/features/blueprint_course_master/react/components/SyncHistory.js ***!
  \*****************************************************************************/
/*! exports provided: default, ConnectedSyncHistory */
/***/ (function(module, __webpack_exports__, __webpack_require__) {

"use strict";
eval("__webpack_require__.r(__webpack_exports__);\n/* harmony export (binding) */ __webpack_require__.d(__webpack_exports__, \"default\", function() { return SyncHistory; });\n/* harmony export (binding) */ __webpack_require__.d(__webpack_exports__, \"ConnectedSyncHistory\", function() { return ConnectedSyncHistory; });\n/* harmony import */ var react__WEBPACK_IMPORTED_MODULE_0__ = __webpack_require__(/*! react */ \"q1tI\");\n/* harmony import */ var react__WEBPACK_IMPORTED_MODULE_0___default = /*#__PURE__*/__webpack_require__.n(react__WEBPACK_IMPORTED_MODULE_0__);\n/* harmony import */ var prop_types__WEBPACK_IMPORTED_MODULE_1__ = __webpack_require__(/*! prop-types */ \"17x9\");\n/* harmony import */ var prop_types__WEBPACK_IMPORTED_MODULE_1___default = /*#__PURE__*/__webpack_require__.n(prop_types__WEBPACK_IMPORTED_MODULE_1__);\n/* harmony import */ var react_redux__WEBPACK_IMPORTED_MODULE_2__ = __webpack_require__(/*! react-redux */ \"/MKj\");\n/* harmony import */ var redux__WEBPACK_IMPORTED_MODULE_3__ = __webpack_require__(/*! redux */ \"ANjH\");\n/* harmony import */ var i18n_blueprint_settingsSyncHistory__WEBPACK_IMPORTED_MODULE_4__ = __webpack_require__(/*! i18n!blueprint_settingsSyncHistory */ \"XLNo\");\n/* harmony import */ var obj_select__WEBPACK_IMPORTED_MODULE_5__ = __webpack_require__(/*! obj-select */ \"J+gj\");\n/* harmony import */ var _instructure_ui_text__WEBPACK_IMPORTED_MODULE_6__ = __webpack_require__(/*! @instructure/ui-text */ \"iE3e\");\n/* harmony import */ var _instructure_ui_spinner__WEBPACK_IMPORTED_MODULE_7__ = __webpack_require__(/*! @instructure/ui-spinner */ \"cPO5\");\n/* harmony import */ var _canvas_blueprint_courses_react_components_SyncHistoryItem__WEBPACK_IMPORTED_MODULE_8__ = __webpack_require__(/*! @canvas/blueprint-courses/react/components/SyncHistoryItem */ \"YDJ6\");\n/* harmony import */ var _canvas_blueprint_courses_react_actions__WEBPACK_IMPORTED_MODULE_9__ = __webpack_require__(/*! @canvas/blueprint-courses/react/actions */ \"MYmO\");\n/* harmony import */ var _canvas_blueprint_courses_react_propTypes__WEBPACK_IMPORTED_MODULE_10__ = __webpack_require__(/*! @canvas/blueprint-courses/react/propTypes */ \"tlDv\");\n/* harmony import */ var _canvas_blueprint_courses_react_loadStates__WEBPACK_IMPORTED_MODULE_11__ = __webpack_require__(/*! @canvas/blueprint-courses/react/loadStates */ \"IOKB\");\n/*\n * Copyright (C) 2017 - present Instructure, Inc.\n *\n * This file is part of Canvas.\n *\n * Canvas is free software: you can redistribute it and/or modify it under\n * the terms of the GNU Affero General Public License as published by the Free\n * Software Foundation, version 3 of the License.\n *\n * Canvas is distributed in the hope that it will be useful, but WITHOUT ANY\n * WARRANTY; without even the implied warranty of MERCHANTABILITY or FITNESS FOR\n * A PARTICULAR PURPOSE. See the GNU Affero General Public License for more\n * details.\n *\n * You should have received a copy of the GNU Affero General Public License along\n * with this program. If not, see <http://www.gnu.org/licenses/>.\n */\n\n\n\n\n\n\n\n\n\n\n\n\nconst func = prop_types__WEBPACK_IMPORTED_MODULE_1___default.a.func,\n      bool = prop_types__WEBPACK_IMPORTED_MODULE_1___default.a.bool;\nclass SyncHistory extends react__WEBPACK_IMPORTED_MODULE_0__[\"Component\"] {\n  constructor(props) {\n    super(props);\n    this.state = {\n      associations: this.mapAssociations(props.associations)\n    };\n  }\n\n  componentDidMount() {\n    if (!this.props.hasLoadedHistory) {\n      this.props.loadHistory();\n    }\n\n    if (!this.props.hasLoadedAssociations) {\n      this.props.loadAssociations();\n    }\n  }\n\n  componentWillReceiveProps(nextProps) {\n    this.setState({\n      associations: this.mapAssociations(nextProps.associations)\n    });\n  }\n\n  mapAssociations(assocs = []) {\n    return assocs.reduce((map, asc) => Object.assign(map, {\n      [asc.id]: asc\n    }), {});\n  }\n\n  renderLoading() {\n    if (this.props.isLoadingHistory || this.props.isLoadingAssociations) {\n      const title = i18n_blueprint_settingsSyncHistory__WEBPACK_IMPORTED_MODULE_4__[\"default\"].t('Loading Sync History');\n      return /*#__PURE__*/react__WEBPACK_IMPORTED_MODULE_0___default.a.createElement(\"div\", {\n        style: {\n          textAlign: 'center'\n        }\n      }, /*#__PURE__*/react__WEBPACK_IMPORTED_MODULE_0___default.a.createElement(_instructure_ui_spinner__WEBPACK_IMPORTED_MODULE_7__[\"Spinner\"], {\n        renderTitle: title\n      }), /*#__PURE__*/react__WEBPACK_IMPORTED_MODULE_0___default.a.createElement(_instructure_ui_text__WEBPACK_IMPORTED_MODULE_6__[\"Text\"], {\n        as: \"p\"\n      }, title));\n    }\n\n    return null;\n  }\n\n  render() {\n    // inject course data into exceptions\n    const migrations = this.props.migrations.map(mig => {\n      mig.changes.map(change => {\n        change.exceptions.map(ex => Object.assign(ex, this.state.associations[ex.course_id] || {}));\n        return change;\n      });\n      return mig;\n    });\n    return /*#__PURE__*/react__WEBPACK_IMPORTED_MODULE_0___default.a.createElement(\"div\", {\n      className: \"bcs__history\"\n    }, this.renderLoading() || migrations.map(migration => /*#__PURE__*/react__WEBPACK_IMPORTED_MODULE_0___default.a.createElement(_canvas_blueprint_courses_react_components_SyncHistoryItem__WEBPACK_IMPORTED_MODULE_8__[\"default\"], {\n      key: migration.id,\n      migration: migration\n    })));\n  }\n\n}\nSyncHistory.propTypes = {\n  migrations: _canvas_blueprint_courses_react_propTypes__WEBPACK_IMPORTED_MODULE_10__[\"default\"].migrationList,\n  loadHistory: func.isRequired,\n  isLoadingHistory: bool.isRequired,\n  hasLoadedHistory: bool.isRequired,\n  associations: _canvas_blueprint_courses_react_propTypes__WEBPACK_IMPORTED_MODULE_10__[\"default\"].courseList,\n  loadAssociations: func.isRequired,\n  isLoadingAssociations: bool.isRequired,\n  hasLoadedAssociations: bool.isRequired\n};\nSyncHistory.defaultProps = {\n  migrations: [],\n  associations: []\n};\n\nconst connectState = state => {\n  const selectedChange = state.selectedChangeLog && state.changeLogs[state.selectedChangeLog];\n  const historyState = selectedChange ? {\n    hasLoadedHistory: _canvas_blueprint_courses_react_loadStates__WEBPACK_IMPORTED_MODULE_11__[\"default\"].hasLoaded(selectedChange.status),\n    isLoadingHistory: _canvas_blueprint_courses_react_loadStates__WEBPACK_IMPORTED_MODULE_11__[\"default\"].isLoading(selectedChange.status),\n    migrations: selectedChange.data ? [selectedChange.data] : []\n  } : Object(obj_select__WEBPACK_IMPORTED_MODULE_5__[\"default\"])(state, ['hasLoadedHistory', 'isLoadingHistory', 'migrations']);\n  return Object.assign(Object(obj_select__WEBPACK_IMPORTED_MODULE_5__[\"default\"])(state, ['hasLoadedAssociations', 'isLoadingAssociations', ['existingAssociations', 'associations']]), historyState);\n};\n\nconst connectActions = dispatch => Object(redux__WEBPACK_IMPORTED_MODULE_3__[\"bindActionCreators\"])(_canvas_blueprint_courses_react_actions__WEBPACK_IMPORTED_MODULE_9__[\"default\"], dispatch);\n\nconst ConnectedSyncHistory = Object(react_redux__WEBPACK_IMPORTED_MODULE_2__[\"connect\"])(connectState, connectActions)(SyncHistory);\n\n//# sourceURL=webpack:///./ui/features/blueprint_course_master/react/components/SyncHistory.js?");

/***/ }),

/***/ "Csuh":
/*!**************************************************************************************!*\
  !*** ./ui/features/blueprint_course_master/react/components/ConnectedSyncHistory.js ***!
  \**************************************************************************************/
/*! exports provided: default */
/***/ (function(module, __webpack_exports__, __webpack_require__) {

"use strict";
eval("__webpack_require__.r(__webpack_exports__);\n/* harmony import */ var _SyncHistory__WEBPACK_IMPORTED_MODULE_0__ = __webpack_require__(/*! ./SyncHistory */ \"0T8D\");\n/* harmony reexport (safe) */ __webpack_require__.d(__webpack_exports__, \"default\", function() { return _SyncHistory__WEBPACK_IMPORTED_MODULE_0__[\"ConnectedSyncHistory\"]; });\n\n/*\n * Copyright (C) 2019 - present Instructure, Inc.\n *\n * This file is part of Canvas.\n *\n * Canvas is free software: you can redistribute it and/or modify it under\n * the terms of the GNU Affero General Public License as published by the Free\n * Software Foundation, version 3 of the License.\n *\n * Canvas is distributed in the hope that it will be useful, but WITHOUT ANY\n * WARRANTY; without even the implied warranty of MERCHANTABILITY or FITNESS FOR\n * A PARTICULAR PURPOSE. See the GNU Affero General Public License for more\n * details.\n *\n * You should have received a copy of the GNU Affero General Public License along\n * with this program. If not, see <http://www.gnu.org/licenses/>.\n */\n\n\n//# sourceURL=webpack:///./ui/features/blueprint_course_master/react/components/ConnectedSyncHistory.js?");

/***/ }),

/***/ "XLNo":
/*!**********************************************************************************************!*\
  !*** ./frontend_build/i18n.js?blueprint_settingsSyncHistory!./ui/shims/dummyI18nResource.js ***!
  \**********************************************************************************************/
/*! exports provided: default */
/***/ (function(module, __webpack_exports__, __webpack_require__) {

"use strict";
eval("__webpack_require__.r(__webpack_exports__);\n/* harmony import */ var _canvas_i18n_i18nObj__WEBPACK_IMPORTED_MODULE_0__ = __webpack_require__(/*! @canvas/i18n/i18nObj */ \"HGxv\");\n/* harmony import */ var translations_core_en__WEBPACK_IMPORTED_MODULE_1__ = __webpack_require__(/*! translations/_core_en */ \"0sPK\");\n\n    \n    \n    \n\n    /* harmony default export */ __webpack_exports__[\"default\"] = (_canvas_i18n_i18nObj__WEBPACK_IMPORTED_MODULE_0__[\"default\"].scoped('blueprint_settingsSyncHistory'));\n  \n\n//# sourceURL=webpack:///./ui/shims/dummyI18nResource.js?./frontend_build/i18n.js?blueprint_settingsSyncHistory");

/***/ })

}]);