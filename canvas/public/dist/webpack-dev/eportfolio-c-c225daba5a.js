(window["canvasWebpackJsonp"] = window["canvasWebpackJsonp"] || []).push([["eportfolio"],{

/***/ "7hm3":
/*!******************************************!*\
  !*** ./packages/jqueryui/progressbar.js ***!
  \******************************************/
/*! no exports provided */
/***/ (function(module, __webpack_exports__, __webpack_require__) {

"use strict";
eval("__webpack_require__.r(__webpack_exports__);\n/* harmony import */ var jquery__WEBPACK_IMPORTED_MODULE_0__ = __webpack_require__(/*! jquery */ \"ouhR\");\n/* harmony import */ var jquery__WEBPACK_IMPORTED_MODULE_0___default = /*#__PURE__*/__webpack_require__.n(jquery__WEBPACK_IMPORTED_MODULE_0__);\n/* harmony import */ var _core__WEBPACK_IMPORTED_MODULE_1__ = __webpack_require__(/*! ./core */ \"MIhX\");\n/* harmony import */ var _widget__WEBPACK_IMPORTED_MODULE_2__ = __webpack_require__(/*! ./widget */ \"dJId\");\n/*!\n * jQuery UI Progressbar @VERSION\n *\n * Copyright 2012, AUTHORS.txt (http://jqueryui.com/about)\n * Dual licensed under the MIT or GPL Version 2 licenses.\n * http://jquery.org/license\n *\n * http://docs.jquery.com/UI/Progressbar\n *\n * Depends:\n *   jquery.ui.core.js\n *   jquery.ui.widget.js\n */\n\n\n\n\njquery__WEBPACK_IMPORTED_MODULE_0___default.a.widget( \"ui.progressbar\", {\n\tversion: \"@VERSION\",\n\toptions: {\n\t\tvalue: 0,\n\t\tmax: 100\n\t},\n\n\tmin: 0,\n\n\t_create: function() {\n\t\tthis.element\n\t\t\t.addClass( \"ui-progressbar ui-widget ui-widget-content ui-corner-all\" )\n\t\t\t.attr({\n\t\t\t\trole: \"progressbar\",\n\t\t\t\t\"aria-valuemin\": this.min,\n\t\t\t\t\"aria-valuemax\": this.options.max,\n\t\t\t\t\"aria-valuenow\": this._value()\n\t\t\t});\n\n\t\tthis.valueDiv = jquery__WEBPACK_IMPORTED_MODULE_0___default()( \"<div class='ui-progressbar-value ui-widget-header ui-corner-left'></div>\" )\n\t\t\t.appendTo( this.element );\n\n\t\tthis.oldValue = this._value();\n\t\tthis._refreshValue();\n\t},\n\n\t_destroy: function() {\n\t\tthis.element\n\t\t\t.removeClass( \"ui-progressbar ui-widget ui-widget-content ui-corner-all\" )\n\t\t\t.removeAttr( \"role\" )\n\t\t\t.removeAttr( \"aria-valuemin\" )\n\t\t\t.removeAttr( \"aria-valuemax\" )\n\t\t\t.removeAttr( \"aria-valuenow\" );\n\n\t\tthis.valueDiv.remove();\n\t},\n\n\tvalue: function( newValue ) {\n\t\tif ( newValue === undefined ) {\n\t\t\treturn this._value();\n\t\t}\n\n\t\tthis._setOption( \"value\", newValue );\n\t\treturn this;\n\t},\n\n\t_setOption: function( key, value ) {\n\t\tif ( key === \"value\" ) {\n\t\t\tthis.options.value = value;\n\t\t\tthis._refreshValue();\n\t\t\tif ( this._value() === this.options.max ) {\n\t\t\t\tthis._trigger( \"complete\" );\n\t\t\t}\n\t\t}\n\n\t\tthis._super( key, value );\n\t},\n\n\t_value: function() {\n\t\tvar val = this.options.value;\n\t\t// normalize invalid value\n\t\tif ( typeof val !== \"number\" ) {\n\t\t\tval = 0;\n\t\t}\n\t\treturn Math.min( this.options.max, Math.max( this.min, val ) );\n\t},\n\n\t_percentage: function() {\n\t\treturn 100 * this._value() / this.options.max;\n\t},\n\n\t_refreshValue: function() {\n\t\tvar value = this.value(),\n\t\t\tpercentage = this._percentage();\n\n\t\tif ( this.oldValue !== value ) {\n\t\t\tthis.oldValue = value;\n\t\t\tthis._trigger( \"change\" );\n\t\t}\n\n\t\tthis.valueDiv\n\t\t\t.toggle( value > this.min )\n\t\t\t.toggleClass( \"ui-corner-right\", value === this.options.max )\n\t\t\t.width( percentage.toFixed(0) + \"%\" );\n\t\tthis.element.attr( \"aria-valuenow\", value );\n\t}\n});\n\n\n\n\n//# sourceURL=webpack:///./packages/jqueryui/progressbar.js?");

/***/ }),

/***/ "897F":
/*!***************************************************!*\
  !*** ./ui/shared/util/jquery/fixDialogButtons.js ***!
  \***************************************************/
/*! no exports provided */
/***/ (function(module, __webpack_exports__, __webpack_require__) {

"use strict";
eval("__webpack_require__.r(__webpack_exports__);\n/* harmony import */ var jquery__WEBPACK_IMPORTED_MODULE_0__ = __webpack_require__(/*! jquery */ \"ouhR\");\n/* harmony import */ var jquery__WEBPACK_IMPORTED_MODULE_0___default = /*#__PURE__*/__webpack_require__.n(jquery__WEBPACK_IMPORTED_MODULE_0__);\n/* harmony import */ var underscore__WEBPACK_IMPORTED_MODULE_1__ = __webpack_require__(/*! underscore */ \"Y/W1\");\n/* harmony import */ var underscore__WEBPACK_IMPORTED_MODULE_1___default = /*#__PURE__*/__webpack_require__.n(underscore__WEBPACK_IMPORTED_MODULE_1__);\n/* harmony import */ var prevent_default__WEBPACK_IMPORTED_MODULE_2__ = __webpack_require__(/*! prevent-default */ \"qqwe\");\n/* harmony import */ var jqueryui_dialog__WEBPACK_IMPORTED_MODULE_3__ = __webpack_require__(/*! jqueryui/dialog */ \"ESjL\");\n//\n// Copyright (C) 2012 - present Instructure, Inc.\n//\n// This file is part of Canvas.\n//\n// Canvas is free software: you can redistribute it and/or modify it under\n// the terms of the GNU Affero General Public License as published by the Free\n// Software Foundation, version 3 of the License.\n//\n// Canvas is distributed in the hope that it will be useful, but WITHOUT ANY\n// WARRANTY; without even the implied warranty of MERCHANTABILITY or FITNESS FOR\n// A PARTICULAR PURPOSE. See the GNU Affero General Public License for more\n// details.\n//\n// You should have received a copy of the GNU Affero General Public License along\n// with this program. If not, see <http://www.gnu.org/licenses/>.\n\n\n\n\n\njquery__WEBPACK_IMPORTED_MODULE_0___default.a.fn.fixDialogButtons = function () {\n  return this.each(function () {\n    const $dialog = jquery__WEBPACK_IMPORTED_MODULE_0___default()(this);\n    const $buttons = $dialog.find('.button-container:last .btn, button[type=submit]');\n\n    if ($buttons.length) {\n      $dialog.find('.button-container:last, button[type=submit]').hide();\n      let buttons = jquery__WEBPACK_IMPORTED_MODULE_0___default.a.map($buttons.toArray(), button => {\n        const $button = jquery__WEBPACK_IMPORTED_MODULE_0___default()(button);\n        let classes = $button.attr('class') || '';\n        const id = $button.attr('id'); // if you add the class 'dialog_closer' to any of the buttons,\n        // clicking it will cause the dialog to close\n\n        if ($button.is('.dialog_closer')) {\n          $button.off('.fixdialogbuttons');\n          $button.on('click.fixdialogbuttons', Object(prevent_default__WEBPACK_IMPORTED_MODULE_2__[\"default\"])(() => $dialog.dialog('close')));\n        }\n\n        if ($button.prop('type') === 'submit' && $button[0].form) {\n          classes += ' button_type_submit';\n        }\n\n        return {\n          text: $button.text(),\n          'data-text-while-loading': $button.data('textWhileLoading'),\n          click: () => $button.click(),\n          class: classes,\n          id\n        };\n      }); // put the primary button(s) on the far right\n\n      buttons = underscore__WEBPACK_IMPORTED_MODULE_1___default.a.sortBy(buttons, button => button.class.match(/btn-primary/) ? 1 : 0);\n      $dialog.dialog('option', 'buttons', buttons);\n    }\n  });\n};\n\n//# sourceURL=webpack:///./ui/shared/util/jquery/fixDialogButtons.js?");

/***/ }),

/***/ "LRFx":
/*!************************************************!*\
  !*** ./ui/features/eportfolio/jquery/index.js ***!
  \************************************************/
/*! no exports provided */
/***/ (function(module, __webpack_exports__, __webpack_require__) {

"use strict";
eval("__webpack_require__.r(__webpack_exports__);\n/* harmony import */ var i18n_eportfolio__WEBPACK_IMPORTED_MODULE_0__ = __webpack_require__(/*! i18n!eportfolio */ \"aont\");\n/* harmony import */ var jquery__WEBPACK_IMPORTED_MODULE_1__ = __webpack_require__(/*! jquery */ \"ouhR\");\n/* harmony import */ var jquery__WEBPACK_IMPORTED_MODULE_1___default = /*#__PURE__*/__webpack_require__.n(jquery__WEBPACK_IMPORTED_MODULE_1__);\n/* harmony import */ var react__WEBPACK_IMPORTED_MODULE_2__ = __webpack_require__(/*! react */ \"q1tI\");\n/* harmony import */ var react__WEBPACK_IMPORTED_MODULE_2___default = /*#__PURE__*/__webpack_require__.n(react__WEBPACK_IMPORTED_MODULE_2__);\n/* harmony import */ var react_dom__WEBPACK_IMPORTED_MODULE_3__ = __webpack_require__(/*! react-dom */ \"i8i4\");\n/* harmony import */ var react_dom__WEBPACK_IMPORTED_MODULE_3___default = /*#__PURE__*/__webpack_require__.n(react_dom__WEBPACK_IMPORTED_MODULE_3__);\n/* harmony import */ var _canvas_user_settings__WEBPACK_IMPORTED_MODULE_4__ = __webpack_require__(/*! @canvas/user-settings */ \"deAH\");\n/* harmony import */ var _canvas_rce_RichContentEditor__WEBPACK_IMPORTED_MODULE_5__ = __webpack_require__(/*! @canvas/rce/RichContentEditor */ \"Ce78\");\n/* harmony import */ var _react_MoveToDialog__WEBPACK_IMPORTED_MODULE_6__ = __webpack_require__(/*! ../react/MoveToDialog */ \"Q2YP\");\n/* harmony import */ var _eportfolio_section__WEBPACK_IMPORTED_MODULE_7__ = __webpack_require__(/*! ./eportfolio_section */ \"nmRP\");\n/* harmony import */ var sanitize_html_with_tinymce__WEBPACK_IMPORTED_MODULE_8__ = __webpack_require__(/*! sanitize-html-with-tinymce */ \"yuBc\");\n/* harmony import */ var _canvas_jquery_jquery_ajaxJSON__WEBPACK_IMPORTED_MODULE_9__ = __webpack_require__(/*! @canvas/jquery/jquery.ajaxJSON */ \"dhbk\");\n/* harmony import */ var jquery_tree__WEBPACK_IMPORTED_MODULE_10__ = __webpack_require__(/*! jquery-tree */ \"aoKV\");\n/* harmony import */ var _canvas_forms_jquery_jquery_instructure_forms__WEBPACK_IMPORTED_MODULE_11__ = __webpack_require__(/*! @canvas/forms/jquery/jquery.instructure_forms */ \"Dhso\");\n/* harmony import */ var jqueryui_dialog__WEBPACK_IMPORTED_MODULE_12__ = __webpack_require__(/*! jqueryui/dialog */ \"ESjL\");\n/* harmony import */ var _canvas_util_jquery_fixDialogButtons__WEBPACK_IMPORTED_MODULE_13__ = __webpack_require__(/*! @canvas/util/jquery/fixDialogButtons */ \"897F\");\n/* harmony import */ var _canvas_rails_flash_notifications__WEBPACK_IMPORTED_MODULE_14__ = __webpack_require__(/*! @canvas/rails-flash-notifications */ \"r2Yr\");\n/* harmony import */ var _canvas_jquery_jquery_instructure_misc_helpers__WEBPACK_IMPORTED_MODULE_15__ = __webpack_require__(/*! @canvas/jquery/jquery.instructure_misc_helpers */ \"8JEM\");\n/* harmony import */ var _canvas_jquery_jquery_instructure_misc_plugins__WEBPACK_IMPORTED_MODULE_16__ = __webpack_require__(/*! @canvas/jquery/jquery.instructure_misc_plugins */ \"aq8L\");\n/* harmony import */ var _canvas_loading_image__WEBPACK_IMPORTED_MODULE_17__ = __webpack_require__(/*! @canvas/loading-image */ \"lBOK\");\n/* harmony import */ var _canvas_util_templateData__WEBPACK_IMPORTED_MODULE_18__ = __webpack_require__(/*! @canvas/util/templateData */ \"TvTI\");\n/* harmony import */ var jquery_scroll_to_visible_jquery_scrollTo__WEBPACK_IMPORTED_MODULE_19__ = __webpack_require__(/*! jquery-scroll-to-visible/jquery.scrollTo */ \"w2hD\");\n/* harmony import */ var jqueryui_progressbar__WEBPACK_IMPORTED_MODULE_20__ = __webpack_require__(/*! jqueryui/progressbar */ \"7hm3\");\n/* harmony import */ var jqueryui_sortable__WEBPACK_IMPORTED_MODULE_21__ = __webpack_require__(/*! jqueryui/sortable */ \"bgJ8\");\n/*\n * Copyright (C) 2011 - present Instructure, Inc.\n *\n * This file is part of Canvas.\n *\n * Canvas is free software: you can redistribute it and/or modify it under\n * the terms of the GNU Affero General Public License as published by the Free\n * Software Foundation, version 3 of the License.\n *\n * Canvas is distributed in the hope that it will be useful, but WITHOUT ANY\n * WARRANTY; without even the implied warranty of MERCHANTABILITY or FITNESS FOR\n * A PARTICULAR PURPOSE. See the GNU Affero General Public License for more\n * details.\n *\n * You should have received a copy of the GNU Affero General Public License along\n * with this program. If not, see <http://www.gnu.org/licenses/>.\n */\n// There's technically a security vulnerability here.  Since we let\n// the user insert arbitrary content into their page, it's possible\n// they'll create elements with the same class names we're using to\n// find endpoints for updating settings and content.  However, since\n// only the portfolio's owner can set this content, it seems like\n// the worst they can do is override endpoint urls for eportfolio\n// settings on their own personal eportfolio, they can't\n// affect anyone else\n\n\n\n\n\n\n\n\n\n\n\n/* instTree */\n\n\n/* formSubmit, getFormData, formErrors, errorBox */\n\n\n\n\n/* $.screenReaderFlashMessageExclusive */\n\n\n/* replaceTags, scrollSidebar */\n\n\n/* confirmDelete, showIf */\n\n\n\n/* fillTemplateData, getTemplateData */\n\n\n\n // optimization so user isn't waiting on RCS to\n// respond when they hit edit\n\n_canvas_rce_RichContentEditor__WEBPACK_IMPORTED_MODULE_5__[\"default\"].preloadRemoteModule();\nconst ePortfolioValidations = {\n  object_name: 'eportfolio',\n  property_validations: {\n    name(value) {\n      if (!value || value.trim() === '') {\n        return i18n_eportfolio__WEBPACK_IMPORTED_MODULE_0__[\"default\"].t('errors.name_required', 'Name is required');\n      }\n\n      if (value && value.length > 255) {\n        return i18n_eportfolio__WEBPACK_IMPORTED_MODULE_0__[\"default\"].t('errors.name_too_long', 'Name is too long');\n      }\n    }\n\n  }\n};\n\nfunction ePortfolioFormData() {\n  let data = jquery__WEBPACK_IMPORTED_MODULE_1___default()('#edit_page_form').getFormData({\n    object_name: 'eportfolio_entry',\n    values: ['eportfolio_entry[name]', 'eportfolio_entry[allow_comments]', 'eportfolio_entry[show_comments]']\n  });\n  let idx = 0;\n  jquery__WEBPACK_IMPORTED_MODULE_1___default()('#edit_page_form .section').each(function () {\n    const $section = jquery__WEBPACK_IMPORTED_MODULE_1___default()(this);\n    const section_type = $section.getTemplateData({\n      textValues: ['section_type']\n    }).section_type;\n\n    if (section_type === 'rich_text' || section_type === 'html' || $section.hasClass('read_only')) {\n      idx++;\n      const name = 'section_' + idx;\n      const sectionContent = Object(_eportfolio_section__WEBPACK_IMPORTED_MODULE_7__[\"fetchContent\"])($section, section_type, name);\n      data = jquery__WEBPACK_IMPORTED_MODULE_1___default.a.extend(data, sectionContent);\n    }\n  });\n  data.section_count = idx;\n  return data;\n}\n\nfunction _saveList(parent, prefix, anchor) {\n  const ids = jquery__WEBPACK_IMPORTED_MODULE_1___default()(parent).sortable('toArray');\n  const valid_ids = [];\n\n  for (const idx in ids) {\n    let id = ids[idx];\n    id = id.substring(prefix.length);\n\n    if (!Number.isNaN(id)) {\n      valid_ids.push(id);\n    }\n  }\n\n  const order = valid_ids.join(',');\n  const data = {\n    order\n  };\n  jquery__WEBPACK_IMPORTED_MODULE_1___default()(parent).loadingImage({\n    image_size: 'small'\n  });\n  jquery__WEBPACK_IMPORTED_MODULE_1___default.a.ajaxJSON(jquery__WEBPACK_IMPORTED_MODULE_1___default()(anchor).attr('href'), 'POST', data, _res => {\n    jquery__WEBPACK_IMPORTED_MODULE_1___default()(parent).loadingImage('remove');\n  });\n}\n\nfunction saveSectionList() {\n  _saveList('#section_list', 'section_', '.reorder_sections_url');\n}\n\nfunction savePageList() {\n  _saveList('#page_list', 'page_', '.reorder_pages_url');\n}\n\nfunction showMoveDialog(source, destinations, triggerElement, dialogLabel, onMove) {\n  const appElement = document.querySelector('#application');\n  let modalRoot = document.querySelector('#eportfolios_move_to_modal_root');\n\n  if (!modalRoot) {\n    jquery__WEBPACK_IMPORTED_MODULE_1___default()('#application').append('<div id=\"eportfolios_move_to_modal_root\"></div>');\n    modalRoot = document.querySelector('#eportfolios_move_to_modal_root');\n  }\n\n  react_dom__WEBPACK_IMPORTED_MODULE_3___default.a.render( /*#__PURE__*/react__WEBPACK_IMPORTED_MODULE_2___default.a.createElement(_react_MoveToDialog__WEBPACK_IMPORTED_MODULE_6__[\"default\"], {\n    source: source,\n    destinations: destinations,\n    appElement: appElement,\n    triggerElement: triggerElement,\n    header: dialogLabel,\n    onClose: function () {\n      setTimeout(() => {\n        react_dom__WEBPACK_IMPORTED_MODULE_3___default.a.unmountComponentAtNode(modalRoot);\n      });\n    },\n    onMove: onMove\n  }), modalRoot);\n}\n\nfunction hideEditObject(type) {\n  const $box = jquery__WEBPACK_IMPORTED_MODULE_1___default()('#' + type + '_name_holder');\n  const $input = jquery__WEBPACK_IMPORTED_MODULE_1___default()('#' + type + '_name');\n  const val = $input.val();\n  const $obj = $box.parents('li.' + type);\n  $obj.find('.name').text(val);\n\n  if ($obj.parent('ul').length > 0) {\n    $box.hide().appendTo(jquery__WEBPACK_IMPORTED_MODULE_1___default()('body'));\n    $obj.find('.' + type + '_url').show();\n  }\n\n  if ($obj.attr('id') === type + '_new') {\n    $obj.remove();\n  }\n}\n\nfunction saveObject($obj, type) {\n  const isSaving = $obj.data('event_pending');\n\n  if (isSaving || $obj.length === 0) {\n    return;\n  }\n\n  let method = 'PUT';\n  let url = $obj.find('.rename_' + type + '_url').attr('href');\n\n  if ($obj.attr('id') === type + '_new') {\n    method = 'POST';\n    url = jquery__WEBPACK_IMPORTED_MODULE_1___default()('.add_' + type + '_url').attr('href');\n  }\n\n  const $objs = $obj.parents('ul').find('.' + type + ':not(.unsaved)');\n  let newName = $obj.find('#' + type + '_name').val();\n  $objs.each(function () {\n    if (this !== $obj[0] && jquery__WEBPACK_IMPORTED_MODULE_1___default()(this).find('.name').text() === newName) {\n      newName = '';\n    }\n  });\n\n  if (!newName) {\n    return false;\n  }\n\n  let object_name = 'eportfolio_category';\n\n  if (type === 'page') {\n    object_name = 'eportfolio_entry';\n  }\n\n  const data = {};\n  data[object_name + '[name]'] = newName;\n\n  if (type === 'page') {\n    data[object_name + '[eportfolio_category_id]'] = jquery__WEBPACK_IMPORTED_MODULE_1___default()('#eportfolio_category_id').text();\n  }\n\n  if (method === 'POST') {\n    $obj.attr('id', type + '_saving');\n  }\n\n  $obj.data('event_pending', true);\n  $obj.addClass('event_pending');\n  jquery__WEBPACK_IMPORTED_MODULE_1___default.a.ajaxJSON(url, method, data, res => {\n    $obj.removeClass('event_pending');\n    $obj.removeClass('unsaved');\n    const obj = res[object_name];\n\n    if (method === 'POST') {\n      $obj.remove();\n      jquery__WEBPACK_IMPORTED_MODULE_1___default()(document).triggerHandler(type + '_added', res);\n    } else {\n      jquery__WEBPACK_IMPORTED_MODULE_1___default()(document).triggerHandler(type + '_updated', res);\n    }\n\n    $obj.fillTemplateData({\n      data: obj,\n      id: type + '_' + obj.id,\n      hrefValues: ['id', 'slug']\n    });\n    $obj.data('event_pending', false);\n    countObjects(type);\n  }, // error callback\n  (_res, xhr, _textStatus, _errorThrown) => {\n    $obj.removeClass('event_pending');\n    $obj.data('event_pending', false);\n    let name_message = i18n_eportfolio__WEBPACK_IMPORTED_MODULE_0__[\"default\"].t('errors.section_name_invalid', 'Section name is not valid');\n\n    if (xhr.name && xhr.name.length > 0 && xhr.name[0].message === 'too_long') {\n      name_message = i18n_eportfolio__WEBPACK_IMPORTED_MODULE_0__[\"default\"].t('errors.section_name_too_long', 'Section name is too long');\n    }\n\n    if ($obj.hasClass('unsaved')) {\n      /* eslint-disable-next-line no-alert */\n      alert(name_message);\n      $obj.remove();\n    } else {\n      // put back in \"edit\" mode\n      $obj.find('.edit_section_link').click();\n      $obj.find('#section_name').errorBox(name_message).css('z-index', 20);\n    }\n  }, // options\n  {\n    skipDefaultError: true\n  });\n  return true;\n}\n\nfunction editObject($obj, type) {\n  const $name = $obj.find('.' + type + '_url');\n  let width = $name.outerWidth() - 30;\n\n  if (type === 'page') {\n    width = 145;\n  } else {\n    width = 145;\n  }\n\n  const $box = jquery__WEBPACK_IMPORTED_MODULE_1___default()('#' + type + '_name_holder');\n  const $input = jquery__WEBPACK_IMPORTED_MODULE_1___default()('#' + type + '_name');\n  $input.width(width);\n  $name.hide().before($box);\n  $input.val(jquery__WEBPACK_IMPORTED_MODULE_1___default.a.trim($name.find('.name').text()));\n  $box.show();\n  $input.focus().select();\n}\n\nfunction countObjects(type) {\n  const cnt = jquery__WEBPACK_IMPORTED_MODULE_1___default()('#' + type + '_list .' + type + ':not(.unsaved)').length;\n\n  if (cnt > 1) {\n    jquery__WEBPACK_IMPORTED_MODULE_1___default()('#' + type + '_list .remove_' + type + '_link').css('display', '');\n    jquery__WEBPACK_IMPORTED_MODULE_1___default()('#' + type + '_list .move_' + type + '_link').css('display', '');\n  } else {\n    jquery__WEBPACK_IMPORTED_MODULE_1___default()('#' + type + '_list .remove_' + type + '_link').hide();\n    jquery__WEBPACK_IMPORTED_MODULE_1___default()('#' + type + '_list .move_' + type + '_link').hide();\n  }\n}\n\njquery__WEBPACK_IMPORTED_MODULE_1___default()(document).ready(function () {\n  jquery__WEBPACK_IMPORTED_MODULE_1___default()('.portfolio_settings_link').click(event => {\n    event.preventDefault();\n    jquery__WEBPACK_IMPORTED_MODULE_1___default()('#edit_eportfolio_form').dialog({\n      width: 'auto',\n      title: i18n_eportfolio__WEBPACK_IMPORTED_MODULE_0__[\"default\"].t('eportfolio_settings', 'ePortfolio Settings')\n    }).fixDialogButtons();\n  }); // Add ePortfolio related\n\n  jquery__WEBPACK_IMPORTED_MODULE_1___default()('.add_eportfolio_link').click(function (event) {\n    event.preventDefault();\n    jquery__WEBPACK_IMPORTED_MODULE_1___default()('#whats_an_eportfolio').slideToggle();\n    jquery__WEBPACK_IMPORTED_MODULE_1___default()('#add_eportfolio_form').slideToggle(function () {\n      jquery__WEBPACK_IMPORTED_MODULE_1___default()(this).find(':text:first').focus().select();\n    });\n  });\n  jquery__WEBPACK_IMPORTED_MODULE_1___default()('#add_eportfolio_form .cancel_button').click(() => {\n    jquery__WEBPACK_IMPORTED_MODULE_1___default()('#add_eportfolio_form').slideToggle();\n    jquery__WEBPACK_IMPORTED_MODULE_1___default()('#whats_an_eportfolio').slideToggle();\n  });\n  jquery__WEBPACK_IMPORTED_MODULE_1___default()('#add_eportfolio_form').submit(function () {\n    const $this = jquery__WEBPACK_IMPORTED_MODULE_1___default()(this);\n    const result = $this.validateForm(ePortfolioValidations);\n\n    if (!result) {\n      return false;\n    }\n  }); // Edit ePortfolio related\n\n  jquery__WEBPACK_IMPORTED_MODULE_1___default()('#edit_eportfolio_form .cancel_button').click(() => {\n    jquery__WEBPACK_IMPORTED_MODULE_1___default()('#edit_eportfolio_form').dialog('close');\n  });\n  jquery__WEBPACK_IMPORTED_MODULE_1___default()('#edit_eportfolio_form').formSubmit(jquery__WEBPACK_IMPORTED_MODULE_1___default.a.extend(ePortfolioValidations, {\n    beforeSubmit(_data) {\n      jquery__WEBPACK_IMPORTED_MODULE_1___default()(this).loadingImage();\n    },\n\n    success(_data) {\n      jquery__WEBPACK_IMPORTED_MODULE_1___default()(this).loadingImage('remove');\n      jquery__WEBPACK_IMPORTED_MODULE_1___default()(this).dialog('close');\n    }\n\n  }));\n  jquery__WEBPACK_IMPORTED_MODULE_1___default()('.edit_content_link').click(function (event) {\n    event.preventDefault();\n    jquery__WEBPACK_IMPORTED_MODULE_1___default()('.edit_content_link_holder').hide();\n    jquery__WEBPACK_IMPORTED_MODULE_1___default()('#page_content').addClass('editing');\n    jquery__WEBPACK_IMPORTED_MODULE_1___default()('#edit_page_form').addClass('editing');\n    jquery__WEBPACK_IMPORTED_MODULE_1___default()('#page_sidebar').addClass('editing');\n    jquery__WEBPACK_IMPORTED_MODULE_1___default()('#edit_page_form .section').each(function () {\n      const $section = jquery__WEBPACK_IMPORTED_MODULE_1___default()(this);\n      const sectionData = $section.getTemplateData({\n        textValues: ['section_type'],\n        htmlValues: ['section_content']\n      });\n      sectionData.section_content = jquery__WEBPACK_IMPORTED_MODULE_1___default.a.trim(sectionData.section_content);\n      const section_type = sectionData.section_type;\n      const edit_type = 'edit_' + section_type + '_content';\n      const $edit = jquery__WEBPACK_IMPORTED_MODULE_1___default()('#edit_content_templates .' + edit_type).clone(true);\n      $section.append($edit.show());\n\n      if (edit_type === 'edit_html_content') {\n        $edit.find('.edit_section').attr('id', 'edit_' + $section.attr('id'));\n        $edit.find('.edit_section').val(sectionData.section_content);\n      } else if (edit_type === 'edit_rich_text_content') {\n        const $richText = $edit.find('.edit_section');\n        $richText.attr('id', 'edit_' + $section.attr('id'));\n        _canvas_rce_RichContentEditor__WEBPACK_IMPORTED_MODULE_5__[\"default\"].loadNewEditor($richText, {\n          defaultContent: sectionData.section_content\n        });\n      }\n    });\n    jquery__WEBPACK_IMPORTED_MODULE_1___default()('#edit_page_form :text:first').focus().select();\n    jquery__WEBPACK_IMPORTED_MODULE_1___default()('#page_comments_holder').hide();\n    jquery__WEBPACK_IMPORTED_MODULE_1___default()(document).triggerHandler('editing_page');\n  });\n  jquery__WEBPACK_IMPORTED_MODULE_1___default()('#edit_page_form').find('.allow_comments').change(function () {\n    jquery__WEBPACK_IMPORTED_MODULE_1___default()('#edit_page_form .show_comments_box').showIf(jquery__WEBPACK_IMPORTED_MODULE_1___default()(this).attr('checked'));\n  }).change();\n  jquery__WEBPACK_IMPORTED_MODULE_1___default()('#edit_page_sidebar .submit_button').click(() => {\n    jquery__WEBPACK_IMPORTED_MODULE_1___default()('#edit_page_form').submit();\n  });\n  jquery__WEBPACK_IMPORTED_MODULE_1___default()('#edit_page_form,#edit_page_sidebar').find('button.preview_button').click(function () {\n    jquery__WEBPACK_IMPORTED_MODULE_1___default()('#page_content .section.failed').remove();\n    jquery__WEBPACK_IMPORTED_MODULE_1___default()('#edit_page_form,#page_content,#page_sidebar').addClass('previewing');\n    jquery__WEBPACK_IMPORTED_MODULE_1___default()('#page_content .section').each(function () {\n      const $section = jquery__WEBPACK_IMPORTED_MODULE_1___default()(this);\n      const $preview = $section.find('.section_content').clone().removeClass('section_content').addClass('preview_content').addClass('preview_section');\n      const section_type = $section.getTemplateData({\n        textValues: ['section_type']\n      }).section_type;\n\n      if (section_type === 'html') {\n        // xsslint safeString.function sanitizeHtml\n        $preview.html(Object(sanitize_html_with_tinymce__WEBPACK_IMPORTED_MODULE_8__[\"default\"])($section.find('.edit_section').val()));\n        $section.find('.section_content').after($preview);\n      } else if (section_type === 'rich_text') {\n        const $richText = $section.find('.edit_section');\n        const editorContent = _canvas_rce_RichContentEditor__WEBPACK_IMPORTED_MODULE_5__[\"default\"].callOnRCE($richText, 'get_code');\n\n        if (editorContent) {\n          $preview.html(jquery__WEBPACK_IMPORTED_MODULE_1___default.a.raw(editorContent));\n        }\n\n        $section.find('.section_content').after($preview);\n      }\n    });\n  }).end().find('.keep_editing_button').click(() => {\n    jquery__WEBPACK_IMPORTED_MODULE_1___default()('#edit_page_form,#page_content,#page_sidebar').removeClass('previewing');\n    jquery__WEBPACK_IMPORTED_MODULE_1___default()('#page_content .preview_section').remove();\n  }).end().find('.cancel_button').click(function () {\n    jquery__WEBPACK_IMPORTED_MODULE_1___default()('#edit_page_form .edit_rich_text_content .edit_section').each(function () {\n      _canvas_rce_RichContentEditor__WEBPACK_IMPORTED_MODULE_5__[\"default\"].destroyRCE(jquery__WEBPACK_IMPORTED_MODULE_1___default()(this));\n    });\n    jquery__WEBPACK_IMPORTED_MODULE_1___default()('#edit_page_form,#page_content,#page_sidebar').removeClass('editing');\n    jquery__WEBPACK_IMPORTED_MODULE_1___default()('#page_content .section.unsaved').remove();\n    jquery__WEBPACK_IMPORTED_MODULE_1___default()('.edit_content_link_holder').show();\n    jquery__WEBPACK_IMPORTED_MODULE_1___default()('#edit_page_form .edit_section').each(function () {\n      jquery__WEBPACK_IMPORTED_MODULE_1___default()(this).remove();\n    });\n    jquery__WEBPACK_IMPORTED_MODULE_1___default()('#page_content .section .form_content').remove();\n    jquery__WEBPACK_IMPORTED_MODULE_1___default()('#page_comments_holder').show();\n  });\n  jquery__WEBPACK_IMPORTED_MODULE_1___default()('#edit_page_form').formSubmit({\n    processData(_data) {\n      jquery__WEBPACK_IMPORTED_MODULE_1___default()('#page_content .section.unsaved').removeClass('unsaved');\n      jquery__WEBPACK_IMPORTED_MODULE_1___default()('#page_content .section.failed').remove();\n      jquery__WEBPACK_IMPORTED_MODULE_1___default()('#page_content .section').each(function () {\n        const $section = jquery__WEBPACK_IMPORTED_MODULE_1___default()(this);\n        const section_type = $section.getTemplateData({\n          textValues: ['section_type']\n        }).section_type;\n\n        if (section_type === 'rich_text' || section_type === 'html') {\n          if (section_type === 'rich_text') {\n            const $richText = $section.find('.edit_section');\n            const editorContent = _canvas_rce_RichContentEditor__WEBPACK_IMPORTED_MODULE_5__[\"default\"].callOnRCE($richText, 'get_code');\n\n            if (editorContent) {\n              $section.find('.section_content').html(jquery__WEBPACK_IMPORTED_MODULE_1___default.a.raw(editorContent));\n            }\n\n            _canvas_rce_RichContentEditor__WEBPACK_IMPORTED_MODULE_5__[\"default\"].destroyRCE($richText);\n          } else {\n            const code = Object(sanitize_html_with_tinymce__WEBPACK_IMPORTED_MODULE_8__[\"default\"])($section.find('.edit_section').val());\n            $section.find('.section_content').html(jquery__WEBPACK_IMPORTED_MODULE_1___default.a.raw(code));\n          }\n        } else if (!$section.hasClass('read_only')) {\n          $section.remove();\n        }\n      });\n      return ePortfolioFormData();\n    },\n\n    beforeSubmit(_data) {\n      jquery__WEBPACK_IMPORTED_MODULE_1___default()('#edit_page_form .edit_rich_text_content .edit_section').each(function () {\n        _canvas_rce_RichContentEditor__WEBPACK_IMPORTED_MODULE_5__[\"default\"].destroyRCE(jquery__WEBPACK_IMPORTED_MODULE_1___default()(this));\n      });\n      jquery__WEBPACK_IMPORTED_MODULE_1___default()('#edit_page_form,#page_content,#page_sidebar').removeClass('editing').removeClass('previewing');\n      jquery__WEBPACK_IMPORTED_MODULE_1___default()('#page_content .section.unsaved,#page_content .section .form_content').remove();\n      jquery__WEBPACK_IMPORTED_MODULE_1___default()('#edit_page_form .edit_section').each(function () {\n        jquery__WEBPACK_IMPORTED_MODULE_1___default()(this).remove();\n      });\n      jquery__WEBPACK_IMPORTED_MODULE_1___default()(this).loadingImage();\n    },\n\n    success(data) {\n      jquery__WEBPACK_IMPORTED_MODULE_1___default()(document).triggerHandler('page_updated', data);\n      jquery__WEBPACK_IMPORTED_MODULE_1___default()('.edit_content_link_holder').show();\n\n      if (data.eportfolio_entry.allow_comments) {\n        jquery__WEBPACK_IMPORTED_MODULE_1___default()('#page_comments_holder').slideDown('fast');\n      }\n\n      jquery__WEBPACK_IMPORTED_MODULE_1___default()(this).loadingImage('remove');\n    }\n\n  });\n  jquery__WEBPACK_IMPORTED_MODULE_1___default()('#edit_page_form .switch_views_link').click(function (event) {\n    event.preventDefault();\n    _canvas_rce_RichContentEditor__WEBPACK_IMPORTED_MODULE_5__[\"default\"].callOnRCE(jquery__WEBPACK_IMPORTED_MODULE_1___default()('#edit_page_content'), 'toggle'); //  todo: replace .andSelf with .addBack when JQuery is upgraded.\n\n    jquery__WEBPACK_IMPORTED_MODULE_1___default()(this).siblings('.switch_views_link').andSelf().toggle().focus();\n  });\n  jquery__WEBPACK_IMPORTED_MODULE_1___default()('#edit_page_sidebar .add_content_link').click(function (event) {\n    event.preventDefault();\n    jquery__WEBPACK_IMPORTED_MODULE_1___default()('#edit_page_form .keep_editing_button:first').click();\n    const $section = jquery__WEBPACK_IMPORTED_MODULE_1___default()('#page_section_blank').clone(true).attr('id', 'page_section_' + ENV.SECTION_COUNT_IDX);\n    $section.addClass('unsaved');\n    $section.attr('id', 'page_section_' + ENV.SECTION_COUNT_IDX++);\n    jquery__WEBPACK_IMPORTED_MODULE_1___default()('#page_content').append($section);\n    let section_type = 'rich_text';\n    let section_type_name = i18n_eportfolio__WEBPACK_IMPORTED_MODULE_0__[\"default\"].t('#eportfolios._page_section.section_types.rich_text', 'Rich Text Content');\n\n    if (jquery__WEBPACK_IMPORTED_MODULE_1___default()(this).hasClass('add_html_link')) {\n      section_type = 'html';\n      section_type_name = i18n_eportfolio__WEBPACK_IMPORTED_MODULE_0__[\"default\"].t('#eportfolios._page_section.section_types.html', 'HTML/Embedded Content');\n    } else if (jquery__WEBPACK_IMPORTED_MODULE_1___default()(this).hasClass('add_submission_link')) {\n      section_type = 'submission';\n      section_type_name = i18n_eportfolio__WEBPACK_IMPORTED_MODULE_0__[\"default\"].t('#eportfolios._page_section.section_types.submission', 'Course Submission');\n    } else if (jquery__WEBPACK_IMPORTED_MODULE_1___default()(this).hasClass('add_file_link')) {\n      section_type = 'attachment';\n      section_type_name = i18n_eportfolio__WEBPACK_IMPORTED_MODULE_0__[\"default\"].t('#eportfolios._page_section.section_types.attachment', 'Image/File Upload');\n    }\n\n    const edit_type = 'edit_' + section_type + '_content';\n    $section.fillTemplateData({\n      data: {\n        section_type,\n        section_type_name\n      }\n    });\n    const $edit = jquery__WEBPACK_IMPORTED_MODULE_1___default()('#edit_content_templates .' + edit_type).clone(true);\n    $section.append($edit.show());\n\n    if (edit_type === 'edit_html_content') {\n      $edit.find('.edit_section').attr('id', 'edit_' + $section.attr('id'));\n    } else if (edit_type === 'edit_rich_text_content') {\n      const $richText = $edit.find('.edit_section');\n      $richText.attr('id', 'edit_' + $section.attr('id'));\n      _canvas_rce_RichContentEditor__WEBPACK_IMPORTED_MODULE_5__[\"default\"].loadNewEditor($richText, {\n        focus: true,\n        defaultContent: ''\n      });\n    }\n\n    $section.hide().slideDown('fast', () => {\n      jquery__WEBPACK_IMPORTED_MODULE_1___default()('html,body').scrollTo($section);\n\n      if (section_type === 'html') {\n        $edit.find('.edit_section').focus().select();\n      }\n\n      if (section_type === 'submission') {\n        $edit.find('.submission:first .text').focus();\n      }\n    });\n  });\n  jquery__WEBPACK_IMPORTED_MODULE_1___default()('.delete_page_section_link').click(function (event) {\n    event.preventDefault();\n    jquery__WEBPACK_IMPORTED_MODULE_1___default()(this).parents('.section').confirmDelete({\n      success() {\n        jquery__WEBPACK_IMPORTED_MODULE_1___default()(this).slideUp(function () {\n          jquery__WEBPACK_IMPORTED_MODULE_1___default()(this).remove();\n        });\n      }\n\n    });\n  });\n  jquery__WEBPACK_IMPORTED_MODULE_1___default()('#page_content').sortable({\n    handle: '.move_link',\n    helper: 'clone',\n    axis: 'y',\n\n    start(event, ui) {\n      const $section = jquery__WEBPACK_IMPORTED_MODULE_1___default()(ui.item);\n\n      if ($section.getTemplateData({\n        textValues: ['section_type']\n      }).section_type === 'rich_text') {\n        const $richText = $section.find('.edit_section');\n        _canvas_rce_RichContentEditor__WEBPACK_IMPORTED_MODULE_5__[\"default\"].destroyRCE($richText);\n      }\n    },\n\n    stop(event, ui) {\n      const $section = jquery__WEBPACK_IMPORTED_MODULE_1___default()(ui.item);\n\n      if ($section.getTemplateData({\n        textValues: ['section_type']\n      }).section_type === 'rich_text') {\n        const $richText = $section.find('.edit_section');\n        _canvas_rce_RichContentEditor__WEBPACK_IMPORTED_MODULE_5__[\"default\"].loadNewEditor($richText);\n      }\n    }\n\n  });\n  jquery__WEBPACK_IMPORTED_MODULE_1___default()('#page_content').delegate('.cancel_content_button', 'click', function (event) {\n    event.preventDefault();\n    jquery__WEBPACK_IMPORTED_MODULE_1___default()(this).parents('.section').slideUp(function () {\n      jquery__WEBPACK_IMPORTED_MODULE_1___default()(this).remove();\n    });\n  }).delegate('.select_submission_button', 'click', function (event) {\n    event.preventDefault();\n    const $section = jquery__WEBPACK_IMPORTED_MODULE_1___default()(this).parents('.section');\n    const $selection = $section.find('.submission_list li.active-leaf:first');\n\n    if ($selection.length === 0) {\n      return;\n    }\n\n    const url = $selection.find('.submission_info').attr('href');\n    const title = $selection.find('.submission_info').text();\n    const id = $selection.attr('id').substring(11);\n    $section.fillTemplateData({\n      data: {\n        submission_id: id\n      }\n    });\n    const $sectionContent = $section.find('.section_content');\n    $sectionContent.empty();\n    const $frame = jquery__WEBPACK_IMPORTED_MODULE_1___default()('#edit_content_templates').find('.submission_preview').clone();\n    $frame.attr('src', url);\n    $sectionContent.append($frame);\n    $section.addClass('read_only');\n    jquery__WEBPACK_IMPORTED_MODULE_1___default()(this).focus();\n    jquery__WEBPACK_IMPORTED_MODULE_1___default.a.screenReaderFlashMessageExclusive(i18n_eportfolio__WEBPACK_IMPORTED_MODULE_0__[\"default\"].t('submission added: %{title}', {\n      title\n    }));\n  }).delegate('.upload_file_button', 'click', function (event) {\n    event.preventDefault();\n    event.stopPropagation();\n    const $section = jquery__WEBPACK_IMPORTED_MODULE_1___default()(this).parents('.section');\n    const $message = jquery__WEBPACK_IMPORTED_MODULE_1___default()('#edit_content_templates').find('.uploading_file').clone();\n    const $upload = jquery__WEBPACK_IMPORTED_MODULE_1___default()(this).parents('.section').find('.file_upload');\n\n    if (!$upload.val() && $section.find('.file_list .leaf.active').length === 0) {\n      return;\n    }\n\n    $message.fillTemplateData({\n      data: {\n        file_name: $upload.val()\n      }\n    });\n    jquery__WEBPACK_IMPORTED_MODULE_1___default()(this).parents('.section').find('.section_content').empty().append($message.show());\n    const $form = jquery__WEBPACK_IMPORTED_MODULE_1___default()('#upload_file_form').clone(true).attr('id', '');\n    jquery__WEBPACK_IMPORTED_MODULE_1___default()('body').append($form.css({\n      position: 'absolute',\n      zIndex: -1\n    }));\n    $form.data('section', $section);\n    $form.find('.file_upload').remove().end().append($upload).submit();\n    $section.addClass('read_only');\n  });\n  jquery__WEBPACK_IMPORTED_MODULE_1___default()('#upload_file_form').formSubmit({\n    fileUpload: true,\n    fileUploadOptions: {\n      preparedFileUpload: true,\n      upload_only: true,\n      singleFile: true,\n      context_code: ENV.context_code,\n      folder_id: ENV.folder_id,\n      formDataTarget: 'uploadDataUrl'\n    },\n    object_name: 'attachment',\n\n    processData(data) {\n      if (!data.uploaded_data) {\n        const $section = jquery__WEBPACK_IMPORTED_MODULE_1___default()(this).data('section');\n        const $file = $section.find('.file_list .leaf.active'); // If the user has selected a file from the list instead of uploading\n\n        if ($file.length > 0) {\n          const templateData = $file.getTemplateData({\n            textValues: ['id', 'name']\n          });\n          const id = templateData.id;\n          const uuid = jquery__WEBPACK_IMPORTED_MODULE_1___default()('#file_uuid_' + id).text();\n          const name = templateData.name;\n          $section.find('.attachment_id').text(id);\n          let url = jquery__WEBPACK_IMPORTED_MODULE_1___default()('.eportfolio_download_url').attr('href');\n          url = jquery__WEBPACK_IMPORTED_MODULE_1___default.a.replaceTags(url, 'uuid', uuid);\n\n          if ($file.hasClass('image')) {\n            const $image = jquery__WEBPACK_IMPORTED_MODULE_1___default()('#eportfolio_view_image').clone(true).removeAttr('id');\n            $image.find('.eportfolio_image').attr('src', url).attr('alt', name);\n            $image.find('.eportfolio_download').attr('href', url);\n            $section.find('.section_content').empty().append($image);\n          } else {\n            const $download = jquery__WEBPACK_IMPORTED_MODULE_1___default()('#eportfolio_download_file').clone(true).removeAttr('id');\n            $download.fillTemplateData({\n              data: {\n                filename: name\n              }\n            });\n            $download.find('.eportfolio_download').attr('href', url);\n            $section.find('.section_content').empty().append($download);\n          }\n\n          jquery__WEBPACK_IMPORTED_MODULE_1___default()(this).remove();\n        } else {\n          jquery__WEBPACK_IMPORTED_MODULE_1___default()(this).errorBox(i18n_eportfolio__WEBPACK_IMPORTED_MODULE_0__[\"default\"].t('errors.missing_file', 'Please select a file'));\n        }\n\n        return false;\n      }\n    },\n\n    success(attachment) {\n      const $section = jquery__WEBPACK_IMPORTED_MODULE_1___default()(this).data('section');\n      $section.find('.attachment_id').text(attachment.id);\n      let url = jquery__WEBPACK_IMPORTED_MODULE_1___default()('.eportfolio_download_url').attr('href');\n      url = jquery__WEBPACK_IMPORTED_MODULE_1___default.a.replaceTags(url, 'uuid', attachment.uuid);\n\n      if (attachment['content-type'].indexOf('image') !== -1) {\n        const $image = jquery__WEBPACK_IMPORTED_MODULE_1___default()('#eportfolio_view_image').clone(true).removeAttr('id');\n        $image.find('.eportfolio_image').attr('src', url).attr('alt', attachment.display_name);\n        $image.find('.eportfolio_download').attr('href', url);\n        $section.find('.section_content').empty().append($image);\n      } else {\n        const $download = jquery__WEBPACK_IMPORTED_MODULE_1___default()('#eportfolio_download_file').clone(true).removeAttr('id');\n        $download.fillTemplateData({\n          data: {\n            filename: attachment.display_name\n          }\n        });\n        $download.find('.eportfolio_download').attr('href', url);\n        $section.find('.section_content').empty().append($download);\n      }\n\n      jquery__WEBPACK_IMPORTED_MODULE_1___default()(this).remove();\n    },\n\n    error(data) {\n      const $section = jquery__WEBPACK_IMPORTED_MODULE_1___default()(this).data('section');\n      $section.find('.uploading_file').text(i18n_eportfolio__WEBPACK_IMPORTED_MODULE_0__[\"default\"].t('errors.upload_failed', 'Upload Failed.'));\n      $section.addClass('failed');\n      jquery__WEBPACK_IMPORTED_MODULE_1___default()(this).remove();\n      $section.formErrors(data.errors || data);\n    }\n\n  });\n  jquery__WEBPACK_IMPORTED_MODULE_1___default()('#recent_submissions .submission').keydown(function (event) {\n    const count = jquery__WEBPACK_IMPORTED_MODULE_1___default()(event.target).closest('a').length;\n\n    if (count === 0 || count === 1) {\n      const code = event.which;\n\n      if (code === 13 || code === 32) {\n        if (count === 0) {\n          // Add Submission\n          jquery__WEBPACK_IMPORTED_MODULE_1___default()(this).click();\n        } else if (count === 1) {\n          // Open Submission\n          jquery__WEBPACK_IMPORTED_MODULE_1___default()(event.target).closest('a')[0].click();\n        }\n      }\n    }\n  });\n  jquery__WEBPACK_IMPORTED_MODULE_1___default()('#recent_submissions .submission').click(function (event) {\n    if (jquery__WEBPACK_IMPORTED_MODULE_1___default()(event.target).closest('a').length === 0) {\n      event.preventDefault();\n      event.stopPropagation();\n      jquery__WEBPACK_IMPORTED_MODULE_1___default()(this).removeClass('active-leaf');\n      jquery__WEBPACK_IMPORTED_MODULE_1___default()('#category_select').triggerHandler('change');\n      const id = jquery__WEBPACK_IMPORTED_MODULE_1___default()(this).getTemplateData({\n        textValues: ['submission_id']\n      }).submission_id;\n      jquery__WEBPACK_IMPORTED_MODULE_1___default()('#add_submission_form .submission_id').val(id);\n      const assignment = jquery__WEBPACK_IMPORTED_MODULE_1___default()(this).find('.assignment_title').text();\n      const context = jquery__WEBPACK_IMPORTED_MODULE_1___default()(this).find('.context_name').text();\n      jquery__WEBPACK_IMPORTED_MODULE_1___default()('#add_submission_form .submission_description').val(i18n_eportfolio__WEBPACK_IMPORTED_MODULE_0__[\"default\"].t('default_description', 'This is my %{assignment} submission for %{course}.', {\n        assignment,\n        course: context\n      }));\n      jquery__WEBPACK_IMPORTED_MODULE_1___default()('#add_submission_form').dialog({\n        title: i18n_eportfolio__WEBPACK_IMPORTED_MODULE_0__[\"default\"].t('titles.add_submission', 'Add Page for Submission'),\n        width: 400,\n\n        open() {\n          jquery__WEBPACK_IMPORTED_MODULE_1___default()(this).find(':text:visible:first').val(assignment).focus().select();\n          jquery__WEBPACK_IMPORTED_MODULE_1___default()(document).triggerHandler('submission_dialog_opened');\n        }\n\n      }).fixDialogButtons();\n    }\n  });\n  jquery__WEBPACK_IMPORTED_MODULE_1___default()('#add_submission_form .cancel_button').click(() => {\n    jquery__WEBPACK_IMPORTED_MODULE_1___default()('#add_submission_form').dialog('close');\n  });\n  jquery__WEBPACK_IMPORTED_MODULE_1___default()('#add_submission_form').formSubmit({\n    processData(_data) {\n      const url = jquery__WEBPACK_IMPORTED_MODULE_1___default()(this).find('.add_eportfolio_entry_url').attr('href');\n      jquery__WEBPACK_IMPORTED_MODULE_1___default()(this).attr('action', url);\n    },\n\n    beforeSubmit(_data) {\n      jquery__WEBPACK_IMPORTED_MODULE_1___default()(this).loadingImage();\n    },\n\n    success(data) {\n      jquery__WEBPACK_IMPORTED_MODULE_1___default()(this).loadingImage('remove');\n      jquery__WEBPACK_IMPORTED_MODULE_1___default()(this).dialog('close');\n      const entry = data.eportfolio_entry;\n      /* eslint-disable no-empty */\n\n      try {\n        const submission_id = entry.content[1].submission_id;\n        jquery__WEBPACK_IMPORTED_MODULE_1___default()('#submission_' + submission_id + ',#recent_submission_' + submission_id).addClass('already_used');\n      } catch (e) {}\n      /* eslint-enable no-empty */\n\n\n      let url = jquery__WEBPACK_IMPORTED_MODULE_1___default()(this).find('.eportfolio_named_entry_url').attr('href');\n      url = jquery__WEBPACK_IMPORTED_MODULE_1___default.a.replaceTags(url, 'category_slug', entry.category_slug);\n      url = jquery__WEBPACK_IMPORTED_MODULE_1___default.a.replaceTags(url, 'slug', entry.slug);\n      window.location.href = url;\n      jquery__WEBPACK_IMPORTED_MODULE_1___default()(document).triggerHandler('page_added', data);\n    }\n\n  });\n  jquery__WEBPACK_IMPORTED_MODULE_1___default()('#category_select').change(function () {\n    const id = jquery__WEBPACK_IMPORTED_MODULE_1___default()(this).val();\n\n    if (id === 'new') {\n      return;\n    }\n\n    jquery__WEBPACK_IMPORTED_MODULE_1___default()('#page_select_list .page_select:not(#page_select_blank)').remove();\n    jquery__WEBPACK_IMPORTED_MODULE_1___default()('#structure_category_' + id).find('.entry_list li.entry').each(function () {\n      const $page = jquery__WEBPACK_IMPORTED_MODULE_1___default()('#page_select_blank').clone(true).removeAttr('id');\n      $page.text(jquery__WEBPACK_IMPORTED_MODULE_1___default()(this).getTemplateData({\n        textValues: ['name']\n      }).name);\n      jquery__WEBPACK_IMPORTED_MODULE_1___default()('#page_select_list').append($page.show());\n    });\n  }).triggerHandler('change');\n  jquery__WEBPACK_IMPORTED_MODULE_1___default()('.delete_comment_link').click(function (event) {\n    event.preventDefault();\n    jquery__WEBPACK_IMPORTED_MODULE_1___default()(this).parents('.comment').confirmDelete({\n      url: jquery__WEBPACK_IMPORTED_MODULE_1___default()(this).attr('href'),\n      message: i18n_eportfolio__WEBPACK_IMPORTED_MODULE_0__[\"default\"].t('confirm_delete_message', 'Are you sure you want to delete this message?'),\n\n      success(_data) {\n        jquery__WEBPACK_IMPORTED_MODULE_1___default()(this).slideUp(function () {\n          jquery__WEBPACK_IMPORTED_MODULE_1___default()(this).remove();\n        });\n      }\n\n    });\n  });\n  jquery__WEBPACK_IMPORTED_MODULE_1___default()('.delete_eportfolio_link').click(event => {\n    event.preventDefault();\n    jquery__WEBPACK_IMPORTED_MODULE_1___default()('#delete_eportfolio_form').toggle(() => {\n      jquery__WEBPACK_IMPORTED_MODULE_1___default()('html,body').scrollTo(jquery__WEBPACK_IMPORTED_MODULE_1___default()('#delete_eportfolio_form'));\n    });\n  });\n  jquery__WEBPACK_IMPORTED_MODULE_1___default()(document).blur(() => {});\n  jquery__WEBPACK_IMPORTED_MODULE_1___default()('.submission_list').instTree({\n    multi: false,\n    dragdrop: false\n  });\n  jquery__WEBPACK_IMPORTED_MODULE_1___default()('.file_list > ul').instTree({\n    autoclose: false,\n    multi: false,\n    dragdrop: false,\n    overrideEvents: true,\n\n    onClick(_e, _node) {\n      jquery__WEBPACK_IMPORTED_MODULE_1___default()(this).parents('.file_list').find('li.active').removeClass('active');\n      jquery__WEBPACK_IMPORTED_MODULE_1___default()(this).addClass('active');\n    }\n\n  });\n  countObjects('page');\n  jquery__WEBPACK_IMPORTED_MODULE_1___default()(document).bind('page_deleted', (event, data) => {\n    if (!data) {\n      return;\n    }\n\n    const entry = data.eportfolio_entry;\n    jquery__WEBPACK_IMPORTED_MODULE_1___default()('#page_' + entry.id).remove();\n    jquery__WEBPACK_IMPORTED_MODULE_1___default()('#structure_entry_' + entry.id).remove();\n    countObjects('page');\n  });\n  jquery__WEBPACK_IMPORTED_MODULE_1___default()(document).bind('page_added page_updated', (event, data) => {\n    const entry = data.eportfolio_entry;\n    let $page = jquery__WEBPACK_IMPORTED_MODULE_1___default()('#page_' + entry.id);\n\n    if ($page.length === 0) {\n      $page = jquery__WEBPACK_IMPORTED_MODULE_1___default()('#page_blank').clone(true).removeAttr('id');\n      jquery__WEBPACK_IMPORTED_MODULE_1___default()('#page_list').append($page.show());\n    }\n\n    $page.removeClass('unsaved');\n    $page.find('.settings-label').text(i18n_eportfolio__WEBPACK_IMPORTED_MODULE_0__[\"default\"].t('Settings for %{title}', {\n      title: entry.name\n    }));\n    $page.fillTemplateData({\n      data: entry,\n      id: 'page_' + entry.id,\n      hrefValues: ['id', 'slug']\n    }); // update links (unable to take advantage of fillTemplateData's hrefValues for updates)\n\n    if (event.type === 'page_updated') {\n      let page_url = jquery__WEBPACK_IMPORTED_MODULE_1___default()('#page_blank .page_url').attr('href');\n      let rename_page_url = jquery__WEBPACK_IMPORTED_MODULE_1___default()('#page_blank .rename_page_url').attr('href');\n      page_url = jquery__WEBPACK_IMPORTED_MODULE_1___default.a.replaceTags(page_url, 'slug', entry.slug);\n      rename_page_url = jquery__WEBPACK_IMPORTED_MODULE_1___default.a.replaceTags(page_url, 'id', entry.id);\n      $page.find('.page_url').attr('href', page_url);\n      $page.find('.rename_page_url').attr('href', rename_page_url);\n    }\n\n    let $entry = jquery__WEBPACK_IMPORTED_MODULE_1___default()('#structure_entry_' + entry.id);\n\n    if ($entry.length === 0) {\n      $entry = jquery__WEBPACK_IMPORTED_MODULE_1___default()('#structure_entry_blank').clone(true).removeAttr('id');\n      jquery__WEBPACK_IMPORTED_MODULE_1___default()('#structure_category_' + entry.eportfolio_category_id + ' .entry_list').append($entry);\n    }\n\n    $entry.fillTemplateData({\n      id: 'structure_entry_' + entry.id,\n      data: entry\n    });\n    const $activePage = jquery__WEBPACK_IMPORTED_MODULE_1___default()('#eportfolio_entry_' + entry.id);\n\n    if ($activePage.length) {\n      $activePage.fillTemplateData({\n        id: 'eportfolio_entry_' + entry.id,\n        data: entry\n      });\n    }\n\n    countObjects('page');\n  });\n  jquery__WEBPACK_IMPORTED_MODULE_1___default()('.manage_pages_link,#section_pages .done_editing_button').click(event => {\n    event.preventDefault();\n\n    if (jquery__WEBPACK_IMPORTED_MODULE_1___default()('#page_list').hasClass('editing')) {\n      jquery__WEBPACK_IMPORTED_MODULE_1___default()('#page_list').removeClass('editing');\n      jquery__WEBPACK_IMPORTED_MODULE_1___default()('#page_list .page_url').attr('title', '');\n      jquery__WEBPACK_IMPORTED_MODULE_1___default()('#page_list').sortable('destroy');\n      jquery__WEBPACK_IMPORTED_MODULE_1___default()('#section_pages').removeClass('editing');\n    } else {\n      jquery__WEBPACK_IMPORTED_MODULE_1___default()('#page_list').addClass('editing');\n      jquery__WEBPACK_IMPORTED_MODULE_1___default()('#page_list .page_url').attr('title', i18n_eportfolio__WEBPACK_IMPORTED_MODULE_0__[\"default\"].t('Click to edit, drag to reorder'));\n      jquery__WEBPACK_IMPORTED_MODULE_1___default()('#page_list').sortable({\n        axis: 'y',\n        helper: 'clone',\n\n        stop(_event, ui) {\n          ui.item.addClass('just_dropped');\n        },\n\n        update: savePageList\n      });\n      jquery__WEBPACK_IMPORTED_MODULE_1___default()('#section_pages').addClass('editing');\n    }\n  });\n  jquery__WEBPACK_IMPORTED_MODULE_1___default()('#page_list').delegate('.edit_page_link', 'click', function (event) {\n    if (jquery__WEBPACK_IMPORTED_MODULE_1___default()(this).parents('li').hasClass('unsaved')) {\n      event.preventDefault();\n    }\n\n    if (jquery__WEBPACK_IMPORTED_MODULE_1___default()(this).parents('#page_list').hasClass('editing')) {\n      event.preventDefault();\n      const $li = jquery__WEBPACK_IMPORTED_MODULE_1___default()(this).parents('li');\n\n      if ($li.hasClass('just_dropped')) {\n        $li.removeClass('just_dropped');\n        return;\n      }\n\n      editObject($li, 'page');\n    }\n  });\n  jquery__WEBPACK_IMPORTED_MODULE_1___default()('.add_page_link').click(event => {\n    event.preventDefault();\n    const $page = jquery__WEBPACK_IMPORTED_MODULE_1___default()('#page_blank').clone(true).attr('id', 'page_new');\n    jquery__WEBPACK_IMPORTED_MODULE_1___default()('#page_list').append($page.show());\n    editObject($page, 'page');\n  });\n  jquery__WEBPACK_IMPORTED_MODULE_1___default()('.remove_page_link').click(function (event) {\n    event.preventDefault();\n    hideEditObject('page');\n    jquery__WEBPACK_IMPORTED_MODULE_1___default()(this).parents('li').confirmDelete({\n      message: i18n_eportfolio__WEBPACK_IMPORTED_MODULE_0__[\"default\"].t('confirm_delete_page', 'Delete this page and all its content?'),\n      url: jquery__WEBPACK_IMPORTED_MODULE_1___default()(this).parents('li').find('.rename_page_url').attr('href'),\n\n      success(data) {\n        jquery__WEBPACK_IMPORTED_MODULE_1___default()(this).fadeOut(function () {\n          jquery__WEBPACK_IMPORTED_MODULE_1___default()(this).remove();\n          jquery__WEBPACK_IMPORTED_MODULE_1___default()(document).triggerHandler('page_deleted', data);\n          countObjects('page');\n        });\n      }\n\n    });\n  });\n  jquery__WEBPACK_IMPORTED_MODULE_1___default()('.move_page_link').click(event => {\n    event.preventDefault();\n    const page = jquery__WEBPACK_IMPORTED_MODULE_1___default()(event.target).closest('.page');\n    const source = {\n      id: page.attr('id'),\n      label: page.find('.name').text()\n    };\n    const otherPages = jquery__WEBPACK_IMPORTED_MODULE_1___default()('#page_list .page').not(page).not('#page_blank').toArray();\n    const destinations = otherPages.map(otherPage => ({\n      id: jquery__WEBPACK_IMPORTED_MODULE_1___default()(otherPage).attr('id'),\n      label: jquery__WEBPACK_IMPORTED_MODULE_1___default()(otherPage).find('.name').text()\n    }));\n    const triggerElement = page.find('.page_settings_menu .al-trigger');\n    const dialogLabel = i18n_eportfolio__WEBPACK_IMPORTED_MODULE_0__[\"default\"].t('Move Page');\n\n    const onMove = function (before) {\n      if (before !== '') {\n        jquery__WEBPACK_IMPORTED_MODULE_1___default()(page).insertBefore(jquery__WEBPACK_IMPORTED_MODULE_1___default()('#' + before));\n      } else {\n        jquery__WEBPACK_IMPORTED_MODULE_1___default()(page).insertAfter(jquery__WEBPACK_IMPORTED_MODULE_1___default()('#page_list .page:last'));\n      }\n\n      jquery__WEBPACK_IMPORTED_MODULE_1___default()('#page_list').sortable('refreshPositions');\n      savePageList();\n    };\n\n    showMoveDialog(source, destinations, triggerElement, dialogLabel, onMove);\n  });\n  jquery__WEBPACK_IMPORTED_MODULE_1___default()('#page_name').keydown(function (event) {\n    if (event.keyCode === 27) {\n      // esc\n      hideEditObject('page');\n    } else if (event.keyCode === 13) {\n      // enter\n      jquery__WEBPACK_IMPORTED_MODULE_1___default()(this).parents('li').find('.name').text(jquery__WEBPACK_IMPORTED_MODULE_1___default()(this).val());\n      const result = saveObject(jquery__WEBPACK_IMPORTED_MODULE_1___default()(this).parents('li'), 'page');\n\n      if (result) {\n        hideEditObject('page');\n      }\n    }\n  }).blur(function () {\n    let result = true;\n    const $page = jquery__WEBPACK_IMPORTED_MODULE_1___default()(this).parents('li.page');\n    result = saveObject($page, 'page');\n\n    if (result) {\n      hideEditObject('page');\n    }\n  });\n  const $wizard_box = jquery__WEBPACK_IMPORTED_MODULE_1___default()('#wizard_box');\n\n  function setWizardSpacerBoxDisplay(action) {\n    jquery__WEBPACK_IMPORTED_MODULE_1___default()('#wizard_spacer_box').height($wizard_box.height() || 0).showIf(action === 'show');\n  }\n\n  const pathname = window.location.pathname;\n  jquery__WEBPACK_IMPORTED_MODULE_1___default()('.close_wizard_link').click(event => {\n    event.preventDefault();\n    _canvas_user_settings__WEBPACK_IMPORTED_MODULE_4__[\"default\"].set('hide_wizard_' + pathname, true);\n    $wizard_box.slideUp('fast', () => {\n      jquery__WEBPACK_IMPORTED_MODULE_1___default()('.wizard_popup_link').slideDown('fast');\n      jquery__WEBPACK_IMPORTED_MODULE_1___default()('.wizard_popup_link').focus();\n      setWizardSpacerBoxDisplay('hide');\n    });\n  });\n  jquery__WEBPACK_IMPORTED_MODULE_1___default()('.wizard_popup_link').click(event => {\n    event.preventDefault();\n    jquery__WEBPACK_IMPORTED_MODULE_1___default()('.wizard_popup_link').slideUp('fast');\n    $wizard_box.slideDown('fast', () => {\n      $wizard_box.triggerHandler('wizard_opened');\n      $wizard_box.focus();\n      jquery__WEBPACK_IMPORTED_MODULE_1___default()([document, window]).triggerHandler('scroll');\n    });\n  });\n\n  if ($wizard_box.length) {\n    $wizard_box.bind('wizard_opened', () => {\n      const $wizard_options = $wizard_box.find('.wizard_options'),\n            height = $wizard_options.height();\n      $wizard_options.height(height);\n      $wizard_box.find('.wizard_details').css({\n        maxHeight: height - 5,\n        overflow: 'auto'\n      });\n      setWizardSpacerBoxDisplay('show');\n    });\n    $wizard_box.find('.wizard_options_list .option').click(function (event) {\n      const $this = jquery__WEBPACK_IMPORTED_MODULE_1___default()(this);\n      const $a = jquery__WEBPACK_IMPORTED_MODULE_1___default()(event.target).closest('a');\n\n      if ($a.length > 0 && $a.attr('href') !== '#') {\n        return;\n      }\n\n      event.preventDefault();\n      $this.parents('.wizard_options_list').find('.option.selected').removeClass('selected');\n      $this.addClass('selected');\n      const $details = $wizard_box.find('.wizard_details');\n      const data = $this.getTemplateData({\n        textValues: ['header']\n      });\n      data.link = data.header;\n      $details.fillTemplateData({\n        data\n      });\n      $details.find('.details').remove();\n      $details.find('.header').after($this.find('.details').clone(true).show());\n      const url = $this.find('.header').attr('href');\n\n      if (url !== '#') {\n        $details.find('.link').show().attr('href', url);\n      } else {\n        $details.find('.link').hide();\n      }\n\n      $details.hide().fadeIn('fast');\n    });\n    setTimeout(() => {\n      if (!_canvas_user_settings__WEBPACK_IMPORTED_MODULE_4__[\"default\"].get('hide_wizard_' + pathname)) {\n        jquery__WEBPACK_IMPORTED_MODULE_1___default()('.wizard_popup_link.auto_open:first').click();\n      }\n    }, 500);\n  }\n\n  countObjects('section');\n  jquery__WEBPACK_IMPORTED_MODULE_1___default()(document).bind('section_deleted', (event, data) => {\n    const category = data.eportfolio_category;\n    jquery__WEBPACK_IMPORTED_MODULE_1___default()('#section_' + category.id).remove();\n    jquery__WEBPACK_IMPORTED_MODULE_1___default()('#structure_category_' + category.id).remove();\n    countObjects('section');\n  });\n  jquery__WEBPACK_IMPORTED_MODULE_1___default()(document).bind('section_added section_updated', (event, data) => {\n    const category = data.eportfolio_category;\n    let $section = jquery__WEBPACK_IMPORTED_MODULE_1___default()('#section_' + category.id);\n\n    if ($section.length === 0) {\n      $section = jquery__WEBPACK_IMPORTED_MODULE_1___default()('#section_blank').clone(true).removeAttr('id');\n      jquery__WEBPACK_IMPORTED_MODULE_1___default()('#section_list').append($section.css('display', ''));\n    }\n\n    $section.removeClass('unsaved');\n    $section.find('.settings-label').text(i18n_eportfolio__WEBPACK_IMPORTED_MODULE_0__[\"default\"].t('Settings for %{title}', {\n      title: category.name\n    }));\n    $section.fillTemplateData({\n      data: category,\n      id: 'section_' + category.id,\n      hrefValues: ['id', 'slug']\n    });\n    let $category = jquery__WEBPACK_IMPORTED_MODULE_1___default()('#structure_category_' + category.id);\n\n    if ($category.length === 0) {\n      $category = jquery__WEBPACK_IMPORTED_MODULE_1___default()('#structure_category_blank').clone(true).removeAttr('id');\n      jquery__WEBPACK_IMPORTED_MODULE_1___default()('#eportfolio_structure').append($category);\n    }\n\n    $category.fillTemplateData({\n      id: 'structure_category_' + category.id,\n      data: category\n    });\n    let $category_select = jquery__WEBPACK_IMPORTED_MODULE_1___default()('#category_select_' + category.id);\n\n    if ($category_select.length === 0) {\n      $category_select = jquery__WEBPACK_IMPORTED_MODULE_1___default()('#category_select_blank').clone(true).removeAttr('id');\n      jquery__WEBPACK_IMPORTED_MODULE_1___default()('#category_select').append($category_select.show());\n    }\n\n    $category_select.attr('id', 'category_select_' + category.id).val(category.id).text(category.name);\n    countObjects('section');\n  });\n  jquery__WEBPACK_IMPORTED_MODULE_1___default()('.manage_sections_link,#section_list_manage .done_editing_button').click(event => {\n    event.preventDefault();\n\n    if (jquery__WEBPACK_IMPORTED_MODULE_1___default()('#section_list').hasClass('editing')) {\n      jquery__WEBPACK_IMPORTED_MODULE_1___default()('#section_list').sortable('destroy');\n      jquery__WEBPACK_IMPORTED_MODULE_1___default()('#section_list_manage').removeClass('editing');\n      jquery__WEBPACK_IMPORTED_MODULE_1___default()('#section_list').removeClass('editing');\n      const manage_sections = i18n_eportfolio__WEBPACK_IMPORTED_MODULE_0__[\"default\"].t('buttons.manage_sections', 'Manage Sections');\n      jquery__WEBPACK_IMPORTED_MODULE_1___default()('.arrange_sections_link').text(manage_sections).val(manage_sections);\n      jquery__WEBPACK_IMPORTED_MODULE_1___default()('.add_section').hide();\n      jquery__WEBPACK_IMPORTED_MODULE_1___default()('#section_list .name').attr('title', '');\n    } else {\n      jquery__WEBPACK_IMPORTED_MODULE_1___default()('#section_list_manage').addClass('editing');\n      jquery__WEBPACK_IMPORTED_MODULE_1___default()('#section_list').sortable({\n        axis: 'y',\n        helper: 'clone',\n\n        stop(_event, ui) {\n          ui.item.addClass('just_dropped');\n        },\n\n        update: saveSectionList\n      });\n      jquery__WEBPACK_IMPORTED_MODULE_1___default()('#section_list').addClass('editing').sortable('enable');\n      const done_editing = i18n_eportfolio__WEBPACK_IMPORTED_MODULE_0__[\"default\"].t('buttons.done_editing', 'Done Editing');\n      jquery__WEBPACK_IMPORTED_MODULE_1___default()('.arrange_sections_link').text(done_editing).val(done_editing);\n      jquery__WEBPACK_IMPORTED_MODULE_1___default()('.add_section').show();\n      jquery__WEBPACK_IMPORTED_MODULE_1___default()('#section_list .name').attr('title', i18n_eportfolio__WEBPACK_IMPORTED_MODULE_0__[\"default\"].t('titles.section_list', 'Drag to Arrange, Click to Edit'));\n    }\n  });\n  jquery__WEBPACK_IMPORTED_MODULE_1___default()('.add_section_link').click(event => {\n    event.preventDefault();\n    const $section = jquery__WEBPACK_IMPORTED_MODULE_1___default()('#section_blank').clone(true).attr('id', 'section_new');\n    jquery__WEBPACK_IMPORTED_MODULE_1___default()('#section_list').append($section.show());\n    editObject($section, 'section');\n  });\n  jquery__WEBPACK_IMPORTED_MODULE_1___default()('.remove_section_link').click(function (event) {\n    event.preventDefault();\n    hideEditObject('section');\n    jquery__WEBPACK_IMPORTED_MODULE_1___default()(this).parents('li').confirmDelete({\n      message: i18n_eportfolio__WEBPACK_IMPORTED_MODULE_0__[\"default\"].t('confirm_delete_section', 'Delete this section and all its pages?'),\n      url: jquery__WEBPACK_IMPORTED_MODULE_1___default()(this).parents('li').find('.rename_section_url').attr('href'),\n\n      success(data) {\n        jquery__WEBPACK_IMPORTED_MODULE_1___default()(this).fadeOut(function () {\n          jquery__WEBPACK_IMPORTED_MODULE_1___default()(this).remove();\n          jquery__WEBPACK_IMPORTED_MODULE_1___default()(document).triggerHandler('section_deleted', data);\n          countObjects('section');\n        });\n      }\n\n    });\n  });\n  jquery__WEBPACK_IMPORTED_MODULE_1___default()('.move_section_link').click(event => {\n    event.preventDefault();\n    const section = jquery__WEBPACK_IMPORTED_MODULE_1___default()(event.target).closest('.section');\n    const source = {\n      id: section.attr('id'),\n      label: section.find('.name').text()\n    };\n    const otherSections = jquery__WEBPACK_IMPORTED_MODULE_1___default()('#section_list .section').not(section).not('#section_blank').toArray();\n    const destinations = otherSections.map(otherSection => ({\n      id: jquery__WEBPACK_IMPORTED_MODULE_1___default()(otherSection).attr('id'),\n      label: jquery__WEBPACK_IMPORTED_MODULE_1___default()(otherSection).find('.name').text()\n    }));\n    const dialogLabel = i18n_eportfolio__WEBPACK_IMPORTED_MODULE_0__[\"default\"].t('Move Section');\n    const triggerElement = section.find('.section_settings_menu .al-trigger');\n\n    const onMove = function (before) {\n      if (before !== '') {\n        jquery__WEBPACK_IMPORTED_MODULE_1___default()(section).insertBefore(document.getElementById(before));\n      } else {\n        jquery__WEBPACK_IMPORTED_MODULE_1___default()(section).insertAfter(jquery__WEBPACK_IMPORTED_MODULE_1___default()('#section_list .section:last'));\n      }\n\n      jquery__WEBPACK_IMPORTED_MODULE_1___default()('#section_list').sortable('refreshPositions');\n      saveSectionList();\n    };\n\n    showMoveDialog(source, destinations, triggerElement, dialogLabel, onMove);\n  });\n  jquery__WEBPACK_IMPORTED_MODULE_1___default()('#section_list').delegate('.edit_section_link', 'click', function (event) {\n    if (jquery__WEBPACK_IMPORTED_MODULE_1___default()(this).parents('li').hasClass('unsaved')) {\n      event.preventDefault();\n    }\n\n    if (jquery__WEBPACK_IMPORTED_MODULE_1___default()(this).parents('#section_list').hasClass('editing')) {\n      event.preventDefault();\n      const $li = jquery__WEBPACK_IMPORTED_MODULE_1___default()(this).parents('li');\n\n      if ($li.hasClass('just_dropped')) {\n        $li.removeClass('just_dropped');\n        return;\n      }\n\n      editObject($li, 'section');\n    }\n  });\n  jquery__WEBPACK_IMPORTED_MODULE_1___default()('#section_name').keydown(function (event) {\n    if (event.keyCode === 27) {\n      // esc\n      hideEditObject('section');\n    } else if (event.keyCode === 13) {\n      // enter\n      jquery__WEBPACK_IMPORTED_MODULE_1___default()(this).parents('li').find('.name').text(jquery__WEBPACK_IMPORTED_MODULE_1___default()(this).val());\n      const result = saveObject(jquery__WEBPACK_IMPORTED_MODULE_1___default()(this).parents('li'), 'section');\n\n      if (result) {\n        hideEditObject('section');\n      }\n    }\n  }).blur(function () {\n    let result = true;\n    const $section = jquery__WEBPACK_IMPORTED_MODULE_1___default()(this).parents('li.section');\n    result = saveObject($section, 'section');\n\n    if (result) {\n      hideEditObject('section');\n    }\n  });\n  jquery__WEBPACK_IMPORTED_MODULE_1___default()('.download_eportfolio_link').click(function (event) {\n    jquery__WEBPACK_IMPORTED_MODULE_1___default()(this).slideUp();\n    event.preventDefault();\n    jquery__WEBPACK_IMPORTED_MODULE_1___default()('#export_progress').progressbar().progressbar('option', 'value', 0);\n    const $box = jquery__WEBPACK_IMPORTED_MODULE_1___default()('#downloading_eportfolio_message');\n    $box.slideDown();\n    $box.find('.message').text(i18n_eportfolio__WEBPACK_IMPORTED_MODULE_0__[\"default\"].t('#eportfolios.show.headers.export_progress', 'Collecting ePortfolio resources. this may take a while if you have a lot of files in your ePortfolio.'));\n    const url = jquery__WEBPACK_IMPORTED_MODULE_1___default()(this).attr('href');\n    let errorCount = 0;\n\n    const check = function (first) {\n      let req_url = url;\n\n      if (first) {\n        req_url = url + '?compile=1';\n      }\n\n      jquery__WEBPACK_IMPORTED_MODULE_1___default.a.ajaxJSON(req_url, 'GET', {}, data => {\n        if (data.attachment && data.attachment.file_state && data.attachment.file_state === 'available') {\n          jquery__WEBPACK_IMPORTED_MODULE_1___default()('#export_progress').progressbar('option', 'value', 100);\n          window.location.href = url + '.zip';\n          return;\n        } else if (data.attachment && data.attachment.file_state) {\n          const progress = parseInt(data.attachment.file_state, 10);\n          jquery__WEBPACK_IMPORTED_MODULE_1___default()('#export_progress').progressbar('option', 'value', Math.max(Math.min(jquery__WEBPACK_IMPORTED_MODULE_1___default()('#export_progress').progressbar('option', 'value') + 0.1, 90), progress));\n        } else {\n          jquery__WEBPACK_IMPORTED_MODULE_1___default()('#export_progress').progressbar('option', 'value', Math.min(jquery__WEBPACK_IMPORTED_MODULE_1___default()('#export_progress').progressbar('option', 'value') + 0.1, 90));\n        }\n\n        setTimeout(check, 2000);\n      }, _data => {\n        errorCount++;\n\n        if (errorCount > 5) {\n          $box.find('.message').text(i18n_eportfolio__WEBPACK_IMPORTED_MODULE_0__[\"default\"].t('errors.compiling', 'There was an error compiling your eportfolio.  Please try again in a little while.'));\n        } else {\n          setTimeout(check, 5000);\n        }\n      });\n    };\n\n    check(true);\n  });\n  jquery__WEBPACK_IMPORTED_MODULE_1___default()('.download_eportfolio_link').click(() => {\n    jquery__WEBPACK_IMPORTED_MODULE_1___default()('#downloading_eportfolio_dialog').dialog({\n      title: i18n_eportfolio__WEBPACK_IMPORTED_MODULE_0__[\"default\"].t('titles.download_eportfolio', 'Download ePortfolio')\n    });\n  });\n});\n\n//# sourceURL=webpack:///./ui/features/eportfolio/jquery/index.js?");

/***/ }),

/***/ "Q2YP":
/*!******************************************************!*\
  !*** ./ui/features/eportfolio/react/MoveToDialog.js ***!
  \******************************************************/
/*! exports provided: default */
/***/ (function(module, __webpack_exports__, __webpack_require__) {

"use strict";
eval("__webpack_require__.r(__webpack_exports__);\n/* harmony import */ var _instructure_ui_buttons__WEBPACK_IMPORTED_MODULE_0__ = __webpack_require__(/*! @instructure/ui-buttons */ \"K6WN\");\n/* harmony import */ var _instructure_ui_form_field__WEBPACK_IMPORTED_MODULE_1__ = __webpack_require__(/*! @instructure/ui-form-field */ \"sTNg\");\n/* harmony import */ var i18n_eportfolio__WEBPACK_IMPORTED_MODULE_2__ = __webpack_require__(/*! i18n!eportfolio */ \"aont\");\n/* harmony import */ var _canvas_instui_bindings_react_InstuiModal__WEBPACK_IMPORTED_MODULE_3__ = __webpack_require__(/*! @canvas/instui-bindings/react/InstuiModal */ \"6ohZ\");\n/* harmony import */ var prop_types__WEBPACK_IMPORTED_MODULE_4__ = __webpack_require__(/*! prop-types */ \"17x9\");\n/* harmony import */ var prop_types__WEBPACK_IMPORTED_MODULE_4___default = /*#__PURE__*/__webpack_require__.n(prop_types__WEBPACK_IMPORTED_MODULE_4__);\n/* harmony import */ var react__WEBPACK_IMPORTED_MODULE_5__ = __webpack_require__(/*! react */ \"q1tI\");\n/* harmony import */ var react__WEBPACK_IMPORTED_MODULE_5___default = /*#__PURE__*/__webpack_require__.n(react__WEBPACK_IMPORTED_MODULE_5__);\n/*\n * Copyright (C) 2016 - present Instructure, Inc.\n *\n * This file is part of Canvas.\n *\n * Canvas is free software: you can redistribute it and/or modify it under\n * the terms of the GNU Affero General Public License as published by the Free\n * Software Foundation, version 3 of the License.\n *\n * Canvas is distributed in the hope that it will be useful, but WITHOUT ANY\n * WARRANTY; without even the implied warranty of MERCHANTABILITY or FITNESS FOR\n * A PARTICULAR PURPOSE. See the GNU Affero General Public License for more\n * details.\n *\n * You should have received a copy of the GNU Affero General Public License along\n * with this program. If not, see <http://www.gnu.org/licenses/>.\n */\n\n\n\n\n\n\n\nclass MoveToDialog extends react__WEBPACK_IMPORTED_MODULE_5___default.a.Component {\n  constructor(...args) {\n    super(...args);\n    this.state = {\n      isOpen: true\n    };\n\n    this.handleMove = () => {\n      if (this.props.onMove) {\n        this.props.onMove(this.refs.select.value);\n      }\n\n      this.handleRequestClose();\n    };\n\n    this.handleRequestClose = () => {\n      this.setState({\n        isOpen: false\n      });\n    };\n\n    this.handleClose = () => {\n      if (this.props.appElement) {\n        this.props.appElement.removeAttribute('aria-hidden');\n      }\n\n      if (this.props.triggerElement) {\n        this.props.triggerElement.focus();\n      }\n\n      if (this.props.onClose) {\n        this.props.onClose();\n      }\n    };\n\n    this.handleReady = () => {\n      if (this.props.appElement) {\n        this.props.appElement.setAttribute('aria-hidden', true);\n      }\n    };\n\n    this.renderBody = () => {\n      const selectLabel = i18n_eportfolio__WEBPACK_IMPORTED_MODULE_2__[\"default\"].t('Place \"%{section}\" before:', {\n        section: this.props.source.label\n      });\n      return /*#__PURE__*/react__WEBPACK_IMPORTED_MODULE_5___default.a.createElement(_instructure_ui_form_field__WEBPACK_IMPORTED_MODULE_1__[\"FormField\"], {\n        id: \"MoveToDialog__formfield\",\n        label: selectLabel\n      }, /*#__PURE__*/react__WEBPACK_IMPORTED_MODULE_5___default.a.createElement(\"select\", {\n        id: \"MoveToDialog__select\",\n        ref: \"select\"\n      }, this.props.destinations.map(dest => /*#__PURE__*/react__WEBPACK_IMPORTED_MODULE_5___default.a.createElement(\"option\", {\n        key: dest.id,\n        value: dest.id\n      }, dest.label)), /*#__PURE__*/react__WEBPACK_IMPORTED_MODULE_5___default.a.createElement(\"option\", {\n        key: \"move-to-dialog_at-the-bottom\",\n        value: \"\"\n      }, i18n_eportfolio__WEBPACK_IMPORTED_MODULE_2__[\"default\"].t('-- At the bottom --'))));\n    };\n  }\n\n  render() {\n    return /*#__PURE__*/react__WEBPACK_IMPORTED_MODULE_5___default.a.createElement(_canvas_instui_bindings_react_InstuiModal__WEBPACK_IMPORTED_MODULE_3__[\"default\"], {\n      ref: \"modal\",\n      open: this.state.isOpen,\n      modalSize: \"small\",\n      label: this.props.header,\n      onOpen: this.handleReady,\n      onDismiss: this.handleRequestClose,\n      onClose: this.handleClose\n    }, /*#__PURE__*/react__WEBPACK_IMPORTED_MODULE_5___default.a.createElement(_canvas_instui_bindings_react_InstuiModal__WEBPACK_IMPORTED_MODULE_3__[\"default\"].Body, null, this.renderBody()), /*#__PURE__*/react__WEBPACK_IMPORTED_MODULE_5___default.a.createElement(_canvas_instui_bindings_react_InstuiModal__WEBPACK_IMPORTED_MODULE_3__[\"default\"].Footer, null, /*#__PURE__*/react__WEBPACK_IMPORTED_MODULE_5___default.a.createElement(_instructure_ui_buttons__WEBPACK_IMPORTED_MODULE_0__[\"Button\"], {\n      id: \"MoveToDialog__cancel\",\n      onClick: this.handleRequestClose\n    }, i18n_eportfolio__WEBPACK_IMPORTED_MODULE_2__[\"default\"].t('Cancel')), /*#__PURE__*/react__WEBPACK_IMPORTED_MODULE_5___default.a.createElement(_instructure_ui_buttons__WEBPACK_IMPORTED_MODULE_0__[\"Button\"], {\n      id: \"MoveToDialog__move\",\n      variant: \"primary\",\n      onClick: this.handleMove\n    }, i18n_eportfolio__WEBPACK_IMPORTED_MODULE_2__[\"default\"].t('Move'))));\n  }\n\n}\n\nMoveToDialog.propTypes = {\n  header: prop_types__WEBPACK_IMPORTED_MODULE_4___default.a.string.isRequired,\n  source: prop_types__WEBPACK_IMPORTED_MODULE_4___default.a.object.isRequired,\n  destinations: prop_types__WEBPACK_IMPORTED_MODULE_4___default.a.arrayOf(prop_types__WEBPACK_IMPORTED_MODULE_4___default.a.object).isRequired,\n  onMove: prop_types__WEBPACK_IMPORTED_MODULE_4___default.a.func,\n  onClose: prop_types__WEBPACK_IMPORTED_MODULE_4___default.a.func,\n  appElement: prop_types__WEBPACK_IMPORTED_MODULE_4___default.a.object,\n  triggerElement: prop_types__WEBPACK_IMPORTED_MODULE_4___default.a.object\n};\n/* harmony default export */ __webpack_exports__[\"default\"] = (MoveToDialog);\n\n//# sourceURL=webpack:///./ui/features/eportfolio/react/MoveToDialog.js?");

/***/ }),

/***/ "aont":
/*!***************************************************************************!*\
  !*** ./frontend_build/i18n.js?eportfolio!./ui/shims/dummyI18nResource.js ***!
  \***************************************************************************/
/*! exports provided: default */
/***/ (function(module, __webpack_exports__, __webpack_require__) {

"use strict";
eval("__webpack_require__.r(__webpack_exports__);\n/* harmony import */ var _canvas_i18n_i18nObj__WEBPACK_IMPORTED_MODULE_0__ = __webpack_require__(/*! @canvas/i18n/i18nObj */ \"HGxv\");\n/* harmony import */ var translations_core_en__WEBPACK_IMPORTED_MODULE_1__ = __webpack_require__(/*! translations/_core_en */ \"0sPK\");\n\n    \n    \n    \n\n    /* harmony default export */ __webpack_exports__[\"default\"] = (_canvas_i18n_i18nObj__WEBPACK_IMPORTED_MODULE_0__[\"default\"].scoped('eportfolio'));\n  \n\n//# sourceURL=webpack:///./ui/shims/dummyI18nResource.js?./frontend_build/i18n.js?eportfolio");

/***/ }),

/***/ "deAH":
/*!******************************************!*\
  !*** ./ui/shared/user-settings/index.js ***!
  \******************************************/
/*! exports provided: default */
/***/ (function(module, __webpack_exports__, __webpack_require__) {

"use strict";
eval("__webpack_require__.r(__webpack_exports__);\n/* harmony import */ var jquery__WEBPACK_IMPORTED_MODULE_0__ = __webpack_require__(/*! jquery */ \"ouhR\");\n/* harmony import */ var jquery__WEBPACK_IMPORTED_MODULE_0___default = /*#__PURE__*/__webpack_require__.n(jquery__WEBPACK_IMPORTED_MODULE_0__);\n/* harmony import */ var _canvas_jquery_jquery_instructure_misc_helpers__WEBPACK_IMPORTED_MODULE_1__ = __webpack_require__(/*! @canvas/jquery/jquery.instructure_misc_helpers */ \"8JEM\");\n//\n// Copyright (C) 2012 - present Instructure, Inc.\n//\n// This file is part of Canvas.\n//\n// Canvas is free software: you can redistribute it and/or modify it under\n// the terms of the GNU Affero General Public License as published by the Free\n// Software Foundation, version 3 of the License.\n//\n// Canvas is distributed in the hope that it will be useful, but WITHOUT ANY\n// WARRANTY; without even the implied warranty of MERCHANTABILITY or FITNESS FOR\n// A PARTICULAR PURPOSE. See the GNU Affero General Public License for more\n// details.\n//\n// You should have received a copy of the GNU Affero General Public License along\n// with this program. If not, see <http://www.gnu.org/licenses/>.\n// uses the global ENV.current_user_id and ENV.context_asset_string varibles to store things in\n// localStorage (safe, since we only support ie8+) keyed to the user (and current context)\n//\n// DO NOT PUT SENSITIVE DATA HERE\n//\n// usage:\n//\n// userSettings.set 'favoriteColor', 'red'\n// userSettings.get 'favoriteColor' # => 'red'\n//\n// # when you are on /courses/1/x\n// userSettings.contextSet 'specialIds', [1,2,3]\n// userSettings.contextGet 'specialIds'  # => [1,2,3]\n// # when you are on /groups/1/x\n// userSettings.contextGet 'specialIds' # => undefined\n// # back on /courses/1/x\n// userSettings.contextRemove 'specialIds'\n\n\nconst userSettings = {\n  globalEnv: window.ENV\n};\n\nfunction addTokens(method, ...tokens) {\n  return function (key, value) {\n    const stringifiedValue = JSON.stringify(value);\n    const joinedTokens = tokens.map(token => userSettings.globalEnv[token]).join('_');\n\n    try {\n      const res = localStorage[`${method}Item`](`_${joinedTokens}_${key}`, stringifiedValue);\n      if (res === 'undefined') return void 0;\n      if (res) return JSON.parse(res);\n    } catch (_ex) {\n      return void 0;\n    }\n  };\n}\n\n;\n['get', 'set', 'remove'].forEach(method => {\n  userSettings[method] = addTokens(method, 'current_user_id');\n  userSettings[`context${jquery__WEBPACK_IMPORTED_MODULE_0___default.a.capitalize(method)}`] = addTokens(method, 'current_user_id', 'context_asset_string');\n});\n/* harmony default export */ __webpack_exports__[\"default\"] = (userSettings);\n\n//# sourceURL=webpack:///./ui/shared/user-settings/index.js?");

/***/ }),

/***/ "lBOK":
/*!*************************************************!*\
  !*** ./ui/shared/loading-image/jquery/index.js ***!
  \*************************************************/
/*! no exports provided */
/***/ (function(module, __webpack_exports__, __webpack_require__) {

"use strict";
eval("__webpack_require__.r(__webpack_exports__);\n/* harmony import */ var jquery__WEBPACK_IMPORTED_MODULE_0__ = __webpack_require__(/*! jquery */ \"ouhR\");\n/* harmony import */ var jquery__WEBPACK_IMPORTED_MODULE_0___default = /*#__PURE__*/__webpack_require__.n(jquery__WEBPACK_IMPORTED_MODULE_0__);\n/*\n * Copyright (C) 2011 - present Instructure, Inc.\n *\n * This file is part of Canvas.\n *\n * Canvas is free software: you can redistribute it and/or modify it under\n * the terms of the GNU Affero General Public License as published by the Free\n * Software Foundation, version 3 of the License.\n *\n * Canvas is distributed in the hope that it will be useful, but WITHOUT ANY\n * WARRANTY; without even the implied warranty of MERCHANTABILITY or FITNESS FOR\n * A PARTICULAR PURPOSE. See the GNU Affero General Public License for more\n * details.\n *\n * You should have received a copy of the GNU Affero General Public License along\n * with this program. If not, see <http://www.gnu.org/licenses/>.\n */\n // Shows an ajax-loading image on the given object.\n\njquery__WEBPACK_IMPORTED_MODULE_0___default.a.fn.loadingImg = function (options) {\n  if (!this || this.length === 0) {\n    return this;\n  }\n\n  const dir = window.getComputedStyle(this[0]).direction || 'ltr';\n  const $obj = this.filter(':first');\n  let list;\n\n  if (options === 'hide' || options === 'remove') {\n    $obj.children('.loading_image').remove();\n    list = $obj.data('loading_images') || [];\n    list.forEach(item => {\n      if (item) {\n        item.remove();\n      }\n    });\n    $obj.data('loading_images', null);\n    this.css('margin-inline-end', '');\n    return this;\n  } else if (options === 'remove_once') {\n    $obj.children('.loading_image').remove();\n    list = $obj.data('loading_images') || [];\n    const img = list.pop();\n\n    if (img) {\n      img.remove();\n    }\n\n    $obj.data('loading_images', list);\n    return this;\n  } else if (options === 'register_image' && arguments.length === 3) {\n    jquery__WEBPACK_IMPORTED_MODULE_0___default.a.fn.loadingImg.image_files[arguments[1]] = arguments[2];\n    return this;\n  }\n\n  options = jquery__WEBPACK_IMPORTED_MODULE_0___default.a.extend({}, jquery__WEBPACK_IMPORTED_MODULE_0___default.a.fn.loadingImg.defaults, options);\n  let image = jquery__WEBPACK_IMPORTED_MODULE_0___default.a.fn.loadingImg.image_files.normal;\n\n  if (options.image_size && jquery__WEBPACK_IMPORTED_MODULE_0___default.a.fn.loadingImg.image_files[options.image_size]) {\n    image = jquery__WEBPACK_IMPORTED_MODULE_0___default.a.fn.loadingImg.image_files[options.image_size];\n  }\n\n  if (options.paddingTop) {\n    options.vertical = options.paddingTop;\n  }\n\n  let paddingTop = 0;\n\n  if (options.vertical) {\n    if (options.vertical === 'top') {// nothing to do\n    } else if (options.vertical === 'bottom') {\n      paddingTop = $obj.outerHeight();\n    } else if (options.vertical === 'middle') {\n      paddingTop = $obj.outerHeight() / 2 - image.height / 2;\n    } else {\n      paddingTop = parseInt(options.vertical, 10); // eslint-disable-next-line no-restricted-globals\n\n      if (isNaN(paddingTop)) {\n        paddingTop = 0;\n      }\n    }\n  }\n\n  let paddingLeft = 0;\n\n  if (options.horizontal) {\n    if (options.horizontal === 'left') {// nothing to do\n    } else if (options.horizontal === 'right') {\n      paddingLeft = $obj.outerWidth() - image.width;\n    } else if (options.horizontal === 'right!') {\n      paddingLeft = dir === 'ltr' ? $obj.outerWidth() + 5 : -5 - (image.width || 16);\n      this.css({\n        'margin-inline-end': '16px'\n      });\n    } else if (options.horizontal === 'middle') {\n      paddingLeft = $obj.outerWidth() / 2 - image.width / 2;\n    } else {\n      paddingLeft = parseInt(options.horizontal, 10); // eslint-disable-next-line no-restricted-globals\n\n      if (isNaN(paddingLeft)) {\n        paddingLeft = 0;\n      }\n    }\n  }\n\n  const zIndex = $obj.zIndex() + 1;\n  const $imageHolder = jquery__WEBPACK_IMPORTED_MODULE_0___default()(document.createElement('div')).addClass('loading_image_holder');\n  const $image = jquery__WEBPACK_IMPORTED_MODULE_0___default()(document.createElement('img')).attr('src', image.url);\n  $imageHolder.append($image);\n  list = $obj.data('loading_images') || [];\n  list.push($imageHolder);\n  $obj.data('loading_images', list);\n\n  if (!$obj.css('position') || $obj.css('position') === 'static') {\n    const offset = $obj.offset();\n    let top = offset.top,\n        left = offset.left;\n\n    if (options.vertical) {\n      top += paddingTop;\n    }\n\n    if (options.horizontal) {\n      left += paddingLeft;\n    }\n\n    $imageHolder.css({\n      zIndex,\n      position: 'absolute',\n      top,\n      left\n    });\n    jquery__WEBPACK_IMPORTED_MODULE_0___default()('body').append($imageHolder);\n  } else {\n    $imageHolder.css({\n      zIndex,\n      position: 'absolute',\n      top: paddingTop,\n      left: paddingLeft\n    });\n    $obj.append($imageHolder);\n  }\n\n  return jquery__WEBPACK_IMPORTED_MODULE_0___default()(this);\n};\n\njquery__WEBPACK_IMPORTED_MODULE_0___default.a.fn.loadingImg.defaults = {\n  paddingTop: 0,\n  image_size: 'normal',\n  vertical: 0,\n  horizontal: 0\n};\njquery__WEBPACK_IMPORTED_MODULE_0___default.a.fn.loadingImg.image_files = {\n  normal: {\n    url: '/images/ajax-loader.gif',\n    width: 32,\n    height: 32\n  },\n  small: {\n    url: '/images/ajax-loader-small.gif',\n    width: 16,\n    height: 16\n  }\n};\njquery__WEBPACK_IMPORTED_MODULE_0___default.a.fn.loadingImage = jquery__WEBPACK_IMPORTED_MODULE_0___default.a.fn.loadingImg;\n\n//# sourceURL=webpack:///./ui/shared/loading-image/jquery/index.js?");

/***/ }),

/***/ "ljoO":
/*!*****************************************!*\
  !*** ./ui/features/eportfolio/index.js ***!
  \*****************************************/
/*! no exports provided */
/***/ (function(module, __webpack_exports__, __webpack_require__) {

"use strict";
eval("__webpack_require__.r(__webpack_exports__);\n/* harmony import */ var _jquery_index__WEBPACK_IMPORTED_MODULE_0__ = __webpack_require__(/*! ./jquery/index */ \"LRFx\");\n/*\n * Copyright (C) 2011 - present Instructure, Inc.\n *\n * This file is part of Canvas.\n *\n * Canvas is free software: you can redistribute it and/or modify it under\n * the terms of the GNU Affero General Public License as published by the Free\n * Software Foundation, version 3 of the License.\n *\n * Canvas is distributed in the hope that it will be useful, but WITHOUT ANY\n * WARRANTY; without even the implied warranty of MERCHANTABILITY or FITNESS FOR\n * A PARTICULAR PURPOSE. See the GNU Affero General Public License for more\n * details.\n *\n * You should have received a copy of the GNU Affero General Public License along\n * with this program. If not, see <http://www.gnu.org/licenses/>.\n */\n\n\n//# sourceURL=webpack:///./ui/features/eportfolio/index.js?");

/***/ }),

/***/ "nmRP":
/*!*************************************************************!*\
  !*** ./ui/features/eportfolio/jquery/eportfolio_section.js ***!
  \*************************************************************/
/*! exports provided: fetchContent */
/***/ (function(module, __webpack_exports__, __webpack_require__) {

"use strict";
eval("__webpack_require__.r(__webpack_exports__);\n/* harmony export (binding) */ __webpack_require__.d(__webpack_exports__, \"fetchContent\", function() { return fetchContent; });\n/*\n * Copyright (C) 2016 - present Instructure, Inc.\n *\n * This file is part of Canvas.\n *\n * Canvas is free software: you can redistribute it and/or modify it under\n * the terms of the GNU Affero General Public License as published by the Free\n * Software Foundation, version 3 of the License.\n *\n * Canvas is distributed in the hope that it will be useful, but WITHOUT ANY\n * WARRANTY; without even the implied warranty of MERCHANTABILITY or FITNESS FOR\n * A PARTICULAR PURPOSE. See the GNU Affero General Public License for more\n * details.\n *\n * You should have received a copy of the GNU Affero General Public License along\n * with this program. If not, see <http://www.gnu.org/licenses/>.\n */\nfunction fetchContent($section, section_type, name) {\n  const data = {};\n\n  if (section_type == 'rich_text') {\n    data[name + '[section_type]'] = 'rich_text';\n    const editorContent = $section.find('.section_content').html();\n\n    if (editorContent) {\n      data[name + '[content]'] = editorContent;\n    }\n  } else if (section_type == 'html') {\n    data[name + '[section_type]'] = 'html';\n    data[name + '[content]'] = $section.find('.edit_section').val();\n  } else if (section_type == 'submission') {\n    data[name + '[section_type]'] = 'submission';\n    data[name + '[submission_id]'] = $section.getTemplateData({\n      textValues: ['submission_id']\n    }).submission_id;\n  } else if (section_type == 'attachment') {\n    data[name + '[section_type]'] = 'attachment';\n    data[name + '[attachment_id]'] = $section.getTemplateData({\n      textValues: ['attachment_id']\n    }).attachment_id;\n  }\n\n  return data;\n}\n\n//# sourceURL=webpack:///./ui/features/eportfolio/jquery/eportfolio_section.js?");

/***/ })

}]);