(window["canvasWebpackJsonp"] = window["canvasWebpackJsonp"] || []).push([["mediaCommentRecordAsyncChunk"],{

/***/ "0FQW":
/*!***************************************************************!*\
  !*** ./ui/shared/media-comments/jst/MediaComments.handlebars ***!
  \***************************************************************/
/*! exports provided: default */
/***/ (function(module, __webpack_exports__, __webpack_require__) {

"use strict";
eval("__webpack_require__.r(__webpack_exports__);\n/* harmony import */ var handlebars_runtime__WEBPACK_IMPORTED_MODULE_0__ = __webpack_require__(/*! handlebars/runtime */ \"3O+N\");\n/* harmony import */ var handlebars_runtime__WEBPACK_IMPORTED_MODULE_0___default = /*#__PURE__*/__webpack_require__.n(handlebars_runtime__WEBPACK_IMPORTED_MODULE_0__);\n/* harmony import */ var i18n_media_comments__WEBPACK_IMPORTED_MODULE_1__ = __webpack_require__(/*! i18n!media_comments */ \"QmX/\");\n/* harmony import */ var _canvas_handlebars_helpers_index_coffee__WEBPACK_IMPORTED_MODULE_2__ = __webpack_require__(/*! @canvas/handlebars-helpers/index.coffee */ \"BGrI\");\n\n    \n    var Handlebars = handlebars_runtime__WEBPACK_IMPORTED_MODULE_0___default.a.default;\n    \n\n\n    var template = Handlebars.template, templates = Handlebars.templates = Handlebars.templates || {};\n    var name = '/home/td/workspace/canvas/ui/shared/media-comments/jst/MediaComments';\n    templates[name] = template(function (Handlebars,depth0,helpers,partials,data) {\n  this.compilerInfo = [4,'>= 1.0.0'];\nhelpers = this.merge(helpers, Handlebars.helpers); data = data || {};\n  var buffer = \"\", helper, options, helperMissing=helpers.helperMissing, escapeExpression=this.escapeExpression;\n\n\n  buffer += \"<div id=\\\"media_record_tabs\\\">\\n  <ul>\\n    <li><a href=\\\"#record_media_tab\\\">\"\n    + escapeExpression((helper = helpers.t || (depth0 && depth0.t),options={hash:{\n    'i18n_inferred_key': (true)\n  },data:data},helper ? helper.call(depth0, \"record_media_6637ff19\", \"Record Media\", options) : helperMissing.call(depth0, \"t\", \"record_media_6637ff19\", \"Record Media\", options)))\n    + \"</a></li>\\n    <li><a href=\\\"#upload_media_tab\\\">\"\n    + escapeExpression((helper = helpers.t || (depth0 && depth0.t),options={hash:{\n    'i18n_inferred_key': (true)\n  },data:data},helper ? helper.call(depth0, \"upload_media_ce31135a\", \"Upload Media\", options) : helperMissing.call(depth0, \"t\", \"upload_media_ce31135a\", \"Upload Media\", options)))\n    + \"</a></li>\\n  </ul>\\n  <div id=\\\"record_media_tab\\\" class=\\\"clearfix media_tab\\\">\\n    <span class=\\\"screenreader-only\\\">\\n      \"\n    + escapeExpression((helper = helpers.t || (depth0 && depth0.t),options={hash:{\n    'i18n_inferred_key': (true)\n  },data:data},helper ? helper.call(depth0, \"this_recorder_uses_flash_as_a_result_you_may_find__427d2ddb\", \"This recorder uses Flash. As a result, you may find it easier to make a recording on your local machine, and then use the media uploader tab to upload it.\", options) : helperMissing.call(depth0, \"t\", \"this_recorder_uses_flash_as_a_result_you_may_find__427d2ddb\", \"This recorder uses Flash. As a result, you may find it easier to make a recording on your local machine, and then use the media uploader tab to upload it.\", options)))\n    + \"\\n    </span>\\n    <div id=\\\"media_record_option_holder\\\">\\n      <a id=\\\"video_record_option\\\"\\n         class=\\\"record_option tooltip\\\"\\n         href=\\\"#\\\"\\n         title=\\\"\"\n    + escapeExpression((helper = helpers.t || (depth0 && depth0.t),options={hash:{\n    'i18n_inferred_key': (true)\n  },data:data},helper ? helper.call(depth0, \"record_with_webcam_af21e07c\", \"Record with Webcam\", options) : helperMissing.call(depth0, \"t\", \"record_with_webcam_af21e07c\", \"Record with Webcam\", options)))\n    + \"\\\">\\n        <img src=\\\"/images/webcam.png\\\" alt=\\\"\"\n    + escapeExpression((helper = helpers.t || (depth0 && depth0.t),options={hash:{\n    'i18n_inferred_key': (true)\n  },data:data},helper ? helper.call(depth0, \"record_with_webcam_af21e07c\", \"Record with Webcam\", options) : helperMissing.call(depth0, \"t\", \"record_with_webcam_af21e07c\", \"Record with Webcam\", options)))\n    + \"\\\" />\\n      </a>\\n      <a id=\\\"audio_record_option\\\"\\n         class=\\\"record_option tooltip\\\"\\n         href=\\\"#\\\"\\n         title=\\\"\"\n    + escapeExpression((helper = helpers.t || (depth0 && depth0.t),options={hash:{\n    'i18n_inferred_key': (true)\n  },data:data},helper ? helper.call(depth0, \"record_with_microphone_only_e4ee07aa\", \"Record with Microphone Only\", options) : helperMissing.call(depth0, \"t\", \"record_with_microphone_only_e4ee07aa\", \"Record with Microphone Only\", options)))\n    + \"\\\">\\n        <img src=\\\"/images/microphone.png\\\" alt=\\\"\"\n    + escapeExpression((helper = helpers.t || (depth0 && depth0.t),options={hash:{\n    'i18n_inferred_key': (true)\n  },data:data},helper ? helper.call(depth0, \"record_with_microphone_only_e4ee07aa\", \"Record with Microphone Only\", options) : helperMissing.call(depth0, \"t\", \"record_with_microphone_only_e4ee07aa\", \"Record with Microphone Only\", options)))\n    + \"\\\" />\\n      </a>\\n    </div>\\n    <div id=\\\"video_record_holder_holder\\\">\\n      <div id=\\\"video_record_holder_message\\\">\\n        <div class=\\\"recorder_message\\\">\"\n    + escapeExpression((helper = helpers.t || (depth0 && depth0.t),options={hash:{\n    'i18n_inferred_key': (true)\n  },data:data},helper ? helper.call(depth0, \"saving_recording_e111cb05\", \"Saving Recording...\", options) : helperMissing.call(depth0, \"t\", \"saving_recording_e111cb05\", \"Saving Recording...\", options)))\n    + \"</div>\\n      </div>\\n      <div style=\\\"margin-bottom: 1px; margin-left: 10px;\\\">\\n        <label for=\\\"video_record_title\\\">\"\n    + escapeExpression((helper = helpers.t || (depth0 && depth0.t),options={hash:{\n    'i18n_inferred_key': (true)\n  },data:data},helper ? helper.call(depth0, \"title_52b8638d\", \"Title:\", options) : helperMissing.call(depth0, \"t\", \"title_52b8638d\", \"Title:\", options)))\n    + \"</label>\\n        <input id=\\\"video_record_title\\\"\\n               type=\\\"text\\\"\\n               style=\\\"width: 250px;\\\"\\n               maxlength=\\\"255\\\" />\\n      </div>\\n      <div id=\\\"video_record_holder\\\">\\n        <div id=\\\"video_record_meter\\\" class=\\\"volume_meter\\\">\\n          <img src=\\\"/images/blank.png\\\" class=\\\"audio_level level_9\\\" alt=\\\"\\\"/>\\n          <img src=\\\"/images/blank.png\\\" class=\\\"audio_level level_8\\\" alt=\\\"\\\"/>\\n          <img src=\\\"/images/blank.png\\\" class=\\\"audio_level level_7\\\" alt=\\\"\\\"/>\\n          <img src=\\\"/images/blank.png\\\" class=\\\"audio_level level_6\\\" alt=\\\"\\\"/>\\n          <img src=\\\"/images/blank.png\\\" class=\\\"audio_level level_5\\\" alt=\\\"\\\"/>\\n          <img src=\\\"/images/blank.png\\\" class=\\\"audio_level level_4\\\" alt=\\\"\\\"/>\\n          <img src=\\\"/images/blank.png\\\" class=\\\"audio_level level_3\\\" alt=\\\"\\\"/>\\n          <img src=\\\"/images/blank.png\\\" class=\\\"audio_level level_2\\\" alt=\\\"\\\"/>\\n          <img src=\\\"/images/blank.png\\\" class=\\\"audio_level level_1\\\" alt=\\\"\\\"/>\\n          <img src=\\\"/images/blank.png\\\" class=\\\"audio_level level_0\\\" alt=\\\"\\\"/>\\n        </div>\\n        <div id=\\\"video_record\\\">\\n        </div>\\n      </div>\\n    </div>\\n    <div id=\\\"audio_record_holder_holder\\\">\\n      <div id=\\\"audio_record_holder_message\\\">\\n        <div class=\\\"recorder_message\\\">\"\n    + escapeExpression((helper = helpers.t || (depth0 && depth0.t),options={hash:{\n    'i18n_inferred_key': (true)\n  },data:data},helper ? helper.call(depth0, \"saving_recording_e111cb05\", \"Saving Recording...\", options) : helperMissing.call(depth0, \"t\", \"saving_recording_e111cb05\", \"Saving Recording...\", options)))\n    + \"</div>\\n      </div>\\n      <div style=\\\"margin-bottom: 1px; margin-left: 10px;\\\">\\n        <label for=\\\"audio_record_title\\\">\"\n    + escapeExpression((helper = helpers.t || (depth0 && depth0.t),options={hash:{\n    'i18n_inferred_key': (true)\n  },data:data},helper ? helper.call(depth0, \"title_52b8638d\", \"Title:\", options) : helperMissing.call(depth0, \"t\", \"title_52b8638d\", \"Title:\", options)))\n    + \"</label>\\n        <input id=\\\"audio_record_title\\\"\\n               type=\\\"text\\\"\\n               style=\\\"width: 250px;\\\"\\n               maxlength=\\\"255\\\" />\\n      </div>\\n      <div id=\\\"audio_record_holder\\\">\\n        <div id=\\\"audio_record_meter\\\" class=\\\"volume_meter\\\">\\n          <img src=\\\"/images/blank.png\\\" class=\\\"audio_level level_9\\\" alt=\\\"9\\\"/>\\n          <img src=\\\"/images/blank.png\\\" class=\\\"audio_level level_8\\\" alt=\\\"8\\\"/>\\n          <img src=\\\"/images/blank.png\\\" class=\\\"audio_level level_7\\\" alt=\\\"7\\\"/>\\n          <img src=\\\"/images/blank.png\\\" class=\\\"audio_level level_6\\\" alt=\\\"6\\\"/>\\n          <img src=\\\"/images/blank.png\\\" class=\\\"audio_level level_5\\\" alt=\\\"5\\\"/>\\n          <img src=\\\"/images/blank.png\\\" class=\\\"audio_level level_4\\\" alt=\\\"4\\\"/>\\n          <img src=\\\"/images/blank.png\\\" class=\\\"audio_level level_3\\\" alt=\\\"3\\\"/>\\n          <img src=\\\"/images/blank.png\\\" class=\\\"audio_level level_2\\\" alt=\\\"2\\\"/>\\n          <img src=\\\"/images/blank.png\\\" class=\\\"audio_level level_1\\\" alt=\\\"1\\\"/>\\n          <img src=\\\"/images/blank.png\\\" class=\\\"audio_level level_0\\\" alt=\\\"0\\\"/>\\n        </div>\\n        <div id=\\\"audio_record\\\">\\n        </div>\\n      </div>\\n    </div>\\n    <div class=\\\"clear\\\"></div>\\n  </div>\\n  <div id=\\\"upload_media_tab\\\" class=\\\"clearfix media_tab\\\">\\n    <div id=\\\"media_upload_holder\\\">\\n      <div id=\\\"audio_upload_holder\\\" class=\\\"pull-left\\\">\\n        <div id=\\\"audio_upload\\\">\\n        </div>\\n        <div id=\\\"audio_upload_under\\\" style=\\\"margin-bottom: 20px;\\\">\\n          <button class=\\\"btn\\\" type=\\\"button\\\">\\n            <img src=\\\"/images/audio.png\\\" alt=\\\"\\\"/>\\n            \"\n    + escapeExpression((helper = helpers.t || (depth0 && depth0.t),options={hash:{\n    'i18n_inferred_key': (true)\n  },data:data},helper ? helper.call(depth0, \"select_audio_file_7d905cce\", \"Select Audio File\", options) : helperMissing.call(depth0, \"t\", \"select_audio_file_7d905cce\", \"Select Audio File\", options)))\n    + \"\\n          </button>\\n        </div>\\n      </div>\\n      <div id=\\\"video_upload_holder\\\" class=\\\"pull-left\\\">\\n        <div id=\\\"video_upload\\\">\\n        </div>\\n        <div id=\\\"video_upload_under\\\" style=\\\"margin-bottom: 20px;\\\">\\n          <button class=\\\"btn\\\" type=\\\"button\\\">\\n            <img src=\\\"/images/video.png\\\" alt=\\\"\\\"/>\\n            \"\n    + escapeExpression((helper = helpers.t || (depth0 && depth0.t),options={hash:{\n    'i18n_inferred_key': (true)\n  },data:data},helper ? helper.call(depth0, \"select_video_file_35b61d4e\", \"Select Video File\", options) : helperMissing.call(depth0, \"t\", \"select_video_file_35b61d4e\", \"Select Video File\", options)))\n    + \"\\n          </button>\\n        </div>\\n      </div>\\n      <div class=\\\"clear\\\"></div>\\n      <div id=\\\"media_upload_settings\\\" style=\\\"visibility: hidden;\\\">\\n        <label for=\\\"media_upload_title\\\">\"\n    + escapeExpression((helper = helpers.t || (depth0 && depth0.t),options={hash:{\n    'i18n_inferred_key': (true)\n  },data:data},helper ? helper.call(depth0, \"title_52b8638d\", \"Title:\", options) : helperMissing.call(depth0, \"t\", \"title_52b8638d\", \"Title:\", options)))\n    + \"</label>\\n        <input id=\\\"media_upload_title\\\" type=\\\"text\\\" />\\n        <div class=\\\"content\\\">\\n          <img src=\\\"/images/file.png\\\" alt=\\\"\\\" class=\\\"icon\\\"/>\\n          <span id=\\\"media_upload_display_title\\\">&nbsp;</span>\\n          <span id=\\\"media_upload_file_size\\\">&nbsp;</span>\\n          <br />\\n          <div id=\\\"media_upload_feedback\\\" style=\\\"visibility: hidden; margin-top: 5px;\\\">\\n            <img src=\\\"/images/warning.png\\\" alt=\\\"\\\" />\\n            <span id=\\\"media_upload_feedback_text\\\"></span>\\n          </div>\\n        </div>\\n        <div class=\\\"content\\\" id=\\\"media_upload_progress\\\" style=\\\"visibility: hidden; margin-top: 20px;\\\"></div>\\n        <div class=\\\"content\\\" id=\\\"media_upload_errors\\\" style=\\\"visibility: hidden; margin-top: 20px;\\\"></div>\\n        <div class=\\\"content\\\">\\n          <button class=\\\"btn disabled\\\"\\n                  disabled=\\\"true\\\"\\n                  type=\\\"button\\\"\\n                  id=\\\"media_upload_submit\\\"\\n          >\"\n    + escapeExpression((helper = helpers.t || (depth0 && depth0.t),options={hash:{\n    'i18n_inferred_key': (true)\n  },data:data},helper ? helper.call(depth0, \"submit_media_file_f334c1ba\", \"Submit Media File\", options) : helperMissing.call(depth0, \"t\", \"submit_media_file_f334c1ba\", \"Submit Media File\", options)))\n    + \"</button>\\n        </div>\\n      </div>\\n    </div>\\n  </div>\\n</div>\\n\";\n  return buffer;\n  });\n    ;\n    ;\n    /* harmony default export */ __webpack_exports__[\"default\"] = (templates[name]);\n  \n\n//# sourceURL=webpack:///./ui/shared/media-comments/jst/MediaComments.handlebars?");

/***/ }),

/***/ "2yQE":
/*!***************************************************************!*\
  !*** ./ui/shared/media-comments/jquery/file_input_manager.js ***!
  \***************************************************************/
/*! exports provided: default */
/***/ (function(module, __webpack_exports__, __webpack_require__) {

"use strict";
eval("__webpack_require__.r(__webpack_exports__);\n/* harmony export (binding) */ __webpack_require__.d(__webpack_exports__, \"default\", function() { return FileInputManager; });\n/* harmony import */ var jquery__WEBPACK_IMPORTED_MODULE_0__ = __webpack_require__(/*! jquery */ \"ouhR\");\n/* harmony import */ var jquery__WEBPACK_IMPORTED_MODULE_0___default = /*#__PURE__*/__webpack_require__.n(jquery__WEBPACK_IMPORTED_MODULE_0__);\n//\n// Copyright (C) 2014 - present Instructure, Inc.\n//\n// This file is part of Canvas.\n//\n// Canvas is free software: you can redistribute it and/or modify it under\n// the terms of the GNU Affero General Public License as published by the Free\n// Software Foundation, version 3 of the License.\n//\n// Canvas is distributed in the hope that it will be useful, but WITHOUT ANY\n// WARRANTY; without even the implied warranty of MERCHANTABILITY or FITNESS FOR\n// A PARTICULAR PURPOSE. See the GNU Affero General Public License for more\n// details.\n//\n// You should have received a copy of the GNU Affero General Public License along\n// with this program. If not, see <http://www.gnu.org/licenses/>.\n\n/*\n * builds and interacts with hidden input file for kaltura uploads\n */\n\nclass FileInputManager {\n  constructor() {\n    this.resetFileInput = (callback, id, parentId) => {\n      if (!id) id = 'file_upload';\n      if (!parentId) parentId = '#media_upload_settings';\n\n      if (this.$fileInput) {\n        this.$fileInput.off('change', callback);\n        this.$fileInput.remove();\n      }\n\n      const fileInputHtml = `<input id='${id}' type='file' style='display: none;'>`;\n      jquery__WEBPACK_IMPORTED_MODULE_0___default()(parentId).append(fileInputHtml);\n      this.$fileInput = jquery__WEBPACK_IMPORTED_MODULE_0___default()(`#${id}`);\n      return this.$fileInput.on('change', callback);\n    };\n  }\n\n  setUpInputTrigger(el, mediaType) {\n    jquery__WEBPACK_IMPORTED_MODULE_0___default()(el).on('click', e => {\n      this.allowedMedia = mediaType;\n      return this.$fileInput.click();\n    });\n  }\n\n  getSelectedFile() {\n    return this.$fileInput.get()[0].files[0];\n  }\n\n}\n\n//# sourceURL=webpack:///./ui/shared/media-comments/jquery/file_input_manager.js?");

/***/ }),

/***/ "4Ljj":
/*!**************************************************************!*\
  !*** ./ui/shared/media-comments/jquery/comment_ui_loader.js ***!
  \**************************************************************/
/*! exports provided: default */
/***/ (function(module, __webpack_exports__, __webpack_require__) {

"use strict";
eval("__webpack_require__.r(__webpack_exports__);\n/* harmony export (binding) */ __webpack_require__.d(__webpack_exports__, \"default\", function() { return CommentUiLoader; });\n/* harmony import */ var jquery__WEBPACK_IMPORTED_MODULE_0__ = __webpack_require__(/*! jquery */ \"ouhR\");\n/* harmony import */ var jquery__WEBPACK_IMPORTED_MODULE_0___default = /*#__PURE__*/__webpack_require__.n(jquery__WEBPACK_IMPORTED_MODULE_0__);\n/* harmony import */ var _jst_MediaComments_handlebars__WEBPACK_IMPORTED_MODULE_1__ = __webpack_require__(/*! ../jst/MediaComments.handlebars */ \"0FQW\");\n//\n// Copyright (C) 2014 - present Instructure, Inc.\n//\n// This file is part of Canvas.\n//\n// Canvas is free software: you can redistribute it and/or modify it under\n// the terms of the GNU Affero General Public License as published by the Free\n// Software Foundation, version 3 of the License.\n//\n// Canvas is distributed in the hope that it will be useful, but WITHOUT ANY\n// WARRANTY; without even the implied warranty of MERCHANTABILITY or FITNESS FOR\n// A PARTICULAR PURPOSE. See the GNU Affero General Public License for more\n// details.\n//\n// You should have received a copy of the GNU Affero General Public License along\n// with this program. If not, see <http://www.gnu.org/licenses/>.\n\n\n/*\n * Loads html partial for display within the uploader\n */\n\nclass CommentUiLoader {\n  loadTabs(readyFunction) {\n    readyFunction(Object(_jst_MediaComments_handlebars__WEBPACK_IMPORTED_MODULE_1__[\"default\"])());\n    return jquery__WEBPACK_IMPORTED_MODULE_0___default()('#media_comment_dialog');\n  }\n\n}\n\n//# sourceURL=webpack:///./ui/shared/media-comments/jquery/comment_ui_loader.js?");

/***/ }),

/***/ "QPJA":
/*!*********************************************************************************************!*\
  !*** ./frontend_build/i18n.js?media_comment_dialog_manager!./ui/shims/dummyI18nResource.js ***!
  \*********************************************************************************************/
/*! exports provided: default */
/***/ (function(module, __webpack_exports__, __webpack_require__) {

"use strict";
eval("__webpack_require__.r(__webpack_exports__);\n/* harmony import */ var _canvas_i18n_i18nObj__WEBPACK_IMPORTED_MODULE_0__ = __webpack_require__(/*! @canvas/i18n/i18nObj */ \"HGxv\");\n/* harmony import */ var translations_core_en__WEBPACK_IMPORTED_MODULE_1__ = __webpack_require__(/*! translations/_core_en */ \"0sPK\");\n\n    \n    \n    \n\n    /* harmony default export */ __webpack_exports__[\"default\"] = (_canvas_i18n_i18nObj__WEBPACK_IMPORTED_MODULE_0__[\"default\"].scoped('media_comment_dialog_manager'));\n  \n\n//# sourceURL=webpack:///./ui/shims/dummyI18nResource.js?./frontend_build/i18n.js?media_comment_dialog_manager");

/***/ }),

/***/ "QmX/":
/*!*******************************************************************************!*\
  !*** ./frontend_build/i18n.js?media_comments!./ui/shims/dummyI18nResource.js ***!
  \*******************************************************************************/
/*! exports provided: default */
/***/ (function(module, __webpack_exports__, __webpack_require__) {

"use strict";
eval("__webpack_require__.r(__webpack_exports__);\n/* harmony import */ var _canvas_i18n_i18nObj__WEBPACK_IMPORTED_MODULE_0__ = __webpack_require__(/*! @canvas/i18n/i18nObj */ \"HGxv\");\n/* harmony import */ var translations_core_en__WEBPACK_IMPORTED_MODULE_1__ = __webpack_require__(/*! translations/_core_en */ \"0sPK\");\n\n    \n    \n    \n\n    /* harmony default export */ __webpack_exports__[\"default\"] = (_canvas_i18n_i18nObj__WEBPACK_IMPORTED_MODULE_0__[\"default\"].scoped('media_comments'));\n  \n\n//# sourceURL=webpack:///./ui/shims/dummyI18nResource.js?./frontend_build/i18n.js?media_comments");

/***/ }),

/***/ "RGX7":
/*!**********************************************!*\
  !*** ./packages/parse-browser-info/index.js ***!
  \**********************************************/
/*! exports provided: getBrowser */
/***/ (function(module, __webpack_exports__, __webpack_require__) {

"use strict";
eval("__webpack_require__.r(__webpack_exports__);\n/* harmony export (binding) */ __webpack_require__.d(__webpack_exports__, \"getBrowser\", function() { return getBrowser; });\n/*\n * Copyright (C) 2018 - present Instructure, Inc.\n *\n * This file is part of Canvas.\n *\n * Canvas is free software: you can redistribute it and/or modify it under\n * the terms of the GNU Affero General Public License as published by the Free\n * Software Foundation, version 3 of the License.\n *\n * Canvas is distributed in the hope that it will be useful, but WITHOUT ANY\n * WARRANTY; without even the implied warranty of MERCHANTABILITY or FITNESS FOR\n * A PARTICULAR PURPOSE. See the GNU Affero General Public License for more\n * details.\n *\n * You should have received a copy of the GNU Affero General Public License along\n * with this program. If not, see <http://www.gnu.org/licenses/>.\n */\n\nfunction getBrowser() {\n  const ua = navigator.userAgent\n  let tem\n  let M = ua.match(/(opera|chrome|safari|firefox|msie|trident(?=\\/))\\/?\\s*(\\d+)/i) || []\n  if (/trident/i.test(M[1])) {\n    tem = /\\brv[ :]+(\\d+)/g.exec(ua) || []\n    return {name: 'IE', version: tem[1] || ''}\n  }\n  if (M[1] === 'Chrome') {\n    tem = ua.match(/\\bOPR|Edge\\/(\\d+)/)\n    if (tem != null) {\n      return {name: 'Opera', version: tem[1]}\n    }\n  }\n  M = M[2] ? [M[1], M[2]] : [navigator.appName, navigator.appVersion, '-?']\n  if ((tem = ua.match(/version\\/(\\d+)/i)) != null) {\n    M.splice(1, 1, tem[1])\n  }\n  return {\n    name: M[0],\n    version: M[1]\n  }\n}\n\n\n//# sourceURL=webpack:///./packages/parse-browser-info/index.js?");

/***/ }),

/***/ "cGuw":
/*!*******************************************************************!*\
  !*** ./ui/shared/media-comments/jquery/kaltura_session_loader.js ***!
  \*******************************************************************/
/*! exports provided: default */
/***/ (function(module, __webpack_exports__, __webpack_require__) {

"use strict";
eval("__webpack_require__.r(__webpack_exports__);\n/* harmony export (binding) */ __webpack_require__.d(__webpack_exports__, \"default\", function() { return KalturaSessionLoader; });\n/* harmony import */ var jquery__WEBPACK_IMPORTED_MODULE_0__ = __webpack_require__(/*! jquery */ \"ouhR\");\n/* harmony import */ var jquery__WEBPACK_IMPORTED_MODULE_0___default = /*#__PURE__*/__webpack_require__.n(jquery__WEBPACK_IMPORTED_MODULE_0__);\n//\n// Copyright (C) 2014 - present Instructure, Inc.\n//\n// This file is part of Canvas.\n//\n// Canvas is free software: you can redistribute it and/or modify it under\n// the terms of the GNU Affero General Public License as published by the Free\n// Software Foundation, version 3 of the License.\n//\n// Canvas is distributed in the hope that it will be useful, but WITHOUT ANY\n// WARRANTY; without even the implied warranty of MERCHANTABILITY or FITNESS FOR\n// A PARTICULAR PURPOSE. See the GNU Affero General Public License for more\n// details.\n//\n// You should have received a copy of the GNU Affero General Public License along\n// with this program. If not, see <http://www.gnu.org/licenses/>.\n\n/*\n * Loads kaltura session data, generates options based on session\n */\n\nclass KalturaSessionLoader {\n  constructor() {\n    this.loadSession = (url, success, failure) => {\n      jquery__WEBPACK_IMPORTED_MODULE_0___default.a.ajaxJSON(url, 'POST', {}, data => {\n        if (data.ks) {\n          data.ui_conf_id = INST.kalturaSettings.upload_ui_conf;\n          this.kalturaSession = data;\n          return success.call();\n        } else {\n          return failure.call();\n        }\n      });\n      return true;\n    };\n  }\n\n  generateUploadOptions(allowedMedia) {\n    return {\n      kaltura_session: this.kalturaSession,\n      allowedMediaTypes: allowedMedia,\n      uploadUrl: this.kalturaUrl('/index.php/partnerservices2/upload'),\n      entryUrl: this.kalturaUrl('/index.php/partnerservices2/addEntry'),\n      uiconfUrl: this.kalturaUrl('/index.php/partnerservices2/getuiconf'),\n      entryDefaults: {\n        partnerData: jquery__WEBPACK_IMPORTED_MODULE_0___default.a.mediaComment.partnerData()\n      }\n    };\n  }\n\n  kalturaUrl(endPoint) {\n    return `${location.protocol}//${INST.kalturaSettings.domain}${endPoint}`;\n  }\n\n}\n\n//# sourceURL=webpack:///./ui/shared/media-comments/jquery/kaltura_session_loader.js?");

/***/ }),

/***/ "dCoQ":
/*!***********************************************************!*\
  !*** ./ui/shared/media-comments/jquery/dialog_manager.js ***!
  \***********************************************************/
/*! exports provided: default */
/***/ (function(module, __webpack_exports__, __webpack_require__) {

"use strict";
eval("__webpack_require__.r(__webpack_exports__);\n/* harmony export (binding) */ __webpack_require__.d(__webpack_exports__, \"default\", function() { return DialogManager; });\n/* harmony import */ var i18n_media_comment_dialog_manager__WEBPACK_IMPORTED_MODULE_0__ = __webpack_require__(/*! i18n!media_comment_dialog_manager */ \"QPJA\");\n/* harmony import */ var jquery__WEBPACK_IMPORTED_MODULE_1__ = __webpack_require__(/*! jquery */ \"ouhR\");\n/* harmony import */ var jquery__WEBPACK_IMPORTED_MODULE_1___default = /*#__PURE__*/__webpack_require__.n(jquery__WEBPACK_IMPORTED_MODULE_1__);\n/* harmony import */ var jqueryui_dialog__WEBPACK_IMPORTED_MODULE_2__ = __webpack_require__(/*! jqueryui/dialog */ \"ESjL\");\n/* harmony import */ var react_dom__WEBPACK_IMPORTED_MODULE_3__ = __webpack_require__(/*! react-dom */ \"i8i4\");\n/* harmony import */ var react_dom__WEBPACK_IMPORTED_MODULE_3___default = /*#__PURE__*/__webpack_require__.n(react_dom__WEBPACK_IMPORTED_MODULE_3__);\n//\n// Copyright (C) 2014 - present Instructure, Inc.\n//\n// This file is part of Canvas.\n//\n// Canvas is free software: you can redistribute it and/or modify it under\n// the terms of the GNU Affero General Public License as published by the Free\n// Software Foundation, version 3 of the License.\n//\n// Canvas is distributed in the hope that it will be useful, but WITHOUT ANY\n// WARRANTY; without even the implied warranty of MERCHANTABILITY or FITNESS FOR\n// A PARTICULAR PURPOSE. See the GNU Affero General Public License for more\n// details.\n//\n// You should have received a copy of the GNU Affero General Public License along\n// with this program. If not, see <http://www.gnu.org/licenses/>.\n\n\n\n\n/*\n * manages uploader modal dialog\n */\n\nclass DialogManager {\n  constructor() {\n    this.hide = () => {\n      jquery__WEBPACK_IMPORTED_MODULE_1___default()('#media_comment_dialog').dialog('close');\n    };\n\n    this.setCloseOption = opts => {\n      return this.dialog.dialog('option', 'close', () => {\n        const mountPoint = document.getElementById('record_media_tab');\n        if (mountPoint) react_dom__WEBPACK_IMPORTED_MODULE_3___default.a.unmountComponentAtNode(mountPoint);\n        jquery__WEBPACK_IMPORTED_MODULE_1___default()('#audio_record').before(\"<div id='audio_record'/>\").remove();\n        jquery__WEBPACK_IMPORTED_MODULE_1___default()('#video_record').before(\"<div id='video_record'/>\").remove();\n\n        if (opts && opts.close && jquery__WEBPACK_IMPORTED_MODULE_1___default.a.isFunction(opts.close)) {\n          return opts.close.call(this.$dialog);\n        }\n      });\n    };\n  }\n\n  initialize() {\n    this.dialog = jquery__WEBPACK_IMPORTED_MODULE_1___default()('#media_comment_dialog');\n    return this.createLoadingWindow();\n  }\n\n  createLoadingWindow() {\n    if (this.dialog.length === 0) {\n      this.dialog = jquery__WEBPACK_IMPORTED_MODULE_1___default()('<div/>').attr('id', 'media_comment_dialog');\n    }\n\n    this.dialog.text(i18n_media_comment_dialog_manager__WEBPACK_IMPORTED_MODULE_0__[\"default\"].t('messages.loading', 'Loading...'));\n    this.dialog.dialog({\n      title: i18n_media_comment_dialog_manager__WEBPACK_IMPORTED_MODULE_0__[\"default\"].t('titles.record_upload_media_comment', 'Record/Upload Media Comment'),\n      resizable: false,\n      width: 470,\n      height: 300,\n      modal: true\n    });\n    return this.dialog = jquery__WEBPACK_IMPORTED_MODULE_1___default()('#media_comment_dialog');\n  }\n\n  displayContent(html) {\n    return this.dialog.html(html);\n  }\n\n  mediaReady(mediaType, opts) {\n    this.showUpdateDialog();\n    this.setCloseOption(opts);\n    this.resetRecordHolders();\n    return this.setupTypes(mediaType);\n  }\n\n  showUpdateDialog() {\n    return this.dialog.dialog({\n      title: i18n_media_comment_dialog_manager__WEBPACK_IMPORTED_MODULE_0__[\"default\"].t('titles.record_upload_media_comment', 'Record/Upload Media Comment'),\n      width: 650,\n      height: 550,\n      modal: true\n    });\n  }\n\n  setupTypes(mediaType) {\n    if (mediaType === 'video') {\n      jquery__WEBPACK_IMPORTED_MODULE_1___default()('#video_record_option').click();\n      jquery__WEBPACK_IMPORTED_MODULE_1___default()('#media_record_option_holder').hide();\n      jquery__WEBPACK_IMPORTED_MODULE_1___default()('#audio_upload_holder').hide();\n      jquery__WEBPACK_IMPORTED_MODULE_1___default()('#video_upload_holder').show();\n    } else if (mediaType === 'audio') {\n      jquery__WEBPACK_IMPORTED_MODULE_1___default()('#audio_record_option').click();\n      jquery__WEBPACK_IMPORTED_MODULE_1___default()('#media_record_option_holder').hide();\n      jquery__WEBPACK_IMPORTED_MODULE_1___default()('#audio_upload_holder').show();\n      jquery__WEBPACK_IMPORTED_MODULE_1___default()('#video_upload_holder').hide();\n    } else {\n      jquery__WEBPACK_IMPORTED_MODULE_1___default()('#video_record_option').click();\n      jquery__WEBPACK_IMPORTED_MODULE_1___default()('#audio_upload_holder').show();\n      jquery__WEBPACK_IMPORTED_MODULE_1___default()('#video_upload_holder').show();\n    }\n  }\n\n  resetRecordHolders() {\n    jquery__WEBPACK_IMPORTED_MODULE_1___default()('#audio_record').before(\"<div id='audio_record'/>\").remove();\n    jquery__WEBPACK_IMPORTED_MODULE_1___default()('#video_record').before(\"<div id='video_record'/>\").remove();\n  }\n\n  activateTabs() {\n    return this.dialog.find('#media_record_tabs').tabs();\n  }\n\n}\n\n//# sourceURL=webpack:///./ui/shared/media-comments/jquery/dialog_manager.js?");

/***/ }),

/***/ "hI1R":
/*!*****************************************************************************!*\
  !*** ./frontend_build/i18n.js?user_content!./ui/shims/dummyI18nResource.js ***!
  \*****************************************************************************/
/*! exports provided: default */
/***/ (function(module, __webpack_exports__, __webpack_require__) {

"use strict";
eval("__webpack_require__.r(__webpack_exports__);\n/* harmony import */ var _canvas_i18n_i18nObj__WEBPACK_IMPORTED_MODULE_0__ = __webpack_require__(/*! @canvas/i18n/i18nObj */ \"HGxv\");\n/* harmony import */ var translations_core_en__WEBPACK_IMPORTED_MODULE_1__ = __webpack_require__(/*! translations/_core_en */ \"0sPK\");\n\n    \n    \n    \n\n    /* harmony default export */ __webpack_exports__[\"default\"] = (_canvas_i18n_i18nObj__WEBPACK_IMPORTED_MODULE_0__[\"default\"].scoped('user_content'));\n  \n\n//# sourceURL=webpack:///./ui/shims/dummyI18nResource.js?./frontend_build/i18n.js?user_content");

/***/ }),

/***/ "msTH":
/*!*************************************************!*\
  !*** ./ui/shared/util/jquery/apiUserContent.js ***!
  \*************************************************/
/*! exports provided: default */
/***/ (function(module, __webpack_exports__, __webpack_require__) {

"use strict";
eval("__webpack_require__.r(__webpack_exports__);\n/* harmony import */ var jquery__WEBPACK_IMPORTED_MODULE_0__ = __webpack_require__(/*! jquery */ \"ouhR\");\n/* harmony import */ var jquery__WEBPACK_IMPORTED_MODULE_0___default = /*#__PURE__*/__webpack_require__.n(jquery__WEBPACK_IMPORTED_MODULE_0__);\n/* harmony import */ var underscore__WEBPACK_IMPORTED_MODULE_1__ = __webpack_require__(/*! underscore */ \"Y/W1\");\n/* harmony import */ var underscore__WEBPACK_IMPORTED_MODULE_1___default = /*#__PURE__*/__webpack_require__.n(underscore__WEBPACK_IMPORTED_MODULE_1__);\n/* harmony import */ var html_escape__WEBPACK_IMPORTED_MODULE_2__ = __webpack_require__(/*! html-escape */ \"gI0r\");\n/* harmony import */ var i18n_user_content__WEBPACK_IMPORTED_MODULE_3__ = __webpack_require__(/*! i18n!user_content */ \"hI1R\");\n//\n// Copyright (C) 2015 - present Instructure, Inc.\n//\n// This file is part of Canvas.\n//\n// Canvas is free software: you can redistribute it and/or modify it under\n// the terms of the GNU Affero General Public License as published by the Free\n// Software Foundation, version 3 of the License.\n//\n// Canvas is distributed in the hope that it will be useful, but WITHOUT ANY\n// WARRANTY; without even the implied warranty of MERCHANTABILITY or FITNESS FOR\n// A PARTICULAR PURPOSE. See the GNU Affero General Public License for more\n// details.\n//\n// You should have received a copy of the GNU Affero General Public License along\n// with this program. If not, see <http://www.gnu.org/licenses/>.\n\n\n\n\nconst apiUserContent = {\n  /*\n  xsslint safeString.identifier mathml\n  */\n  translateMathmlForScreenreaders($equationImage) {\n    var _ENV, _ENV$FEATURES;\n\n    if (!((_ENV = ENV) !== null && _ENV !== void 0 && (_ENV$FEATURES = _ENV.FEATURES) !== null && _ENV$FEATURES !== void 0 && _ENV$FEATURES.new_math_equation_handling)) {\n      // note, it is safe to treat the x-canvaslms-safe-mathml as html because it\n      // only ever gets put there by us (in Api::Html::Content::apply_mathml).\n      // Any user content that gets sent to the server will have the\n      // x-canvaslms-safe-mathml attribute stripped out.\n      const mathml = jquery__WEBPACK_IMPORTED_MODULE_0___default()('<div/>').html($equationImage.attr('x-canvaslms-safe-mathml')).html();\n      const mathmlSpan = jquery__WEBPACK_IMPORTED_MODULE_0___default()('<span class=\"hidden-readable\"></span>');\n      mathmlSpan.html(mathml);\n      return mathmlSpan;\n    }\n  },\n\n  toMediaCommentLink(node) {\n    const $link = jquery__WEBPACK_IMPORTED_MODULE_0___default()(`<a\n        id='media_comment_${Object(html_escape__WEBPACK_IMPORTED_MODULE_2__[\"default\"])(jquery__WEBPACK_IMPORTED_MODULE_0___default()(node).data('media_comment_id'))}'\n        data-media_comment_type='${Object(html_escape__WEBPACK_IMPORTED_MODULE_2__[\"default\"])(jquery__WEBPACK_IMPORTED_MODULE_0___default()(node).data('media_comment_type'))}'\n        class='instructure_inline_media_comment ${Object(html_escape__WEBPACK_IMPORTED_MODULE_2__[\"default\"])(node.nodeName.toLowerCase())}_comment'\n        data-alt='${Object(html_escape__WEBPACK_IMPORTED_MODULE_2__[\"default\"])(jquery__WEBPACK_IMPORTED_MODULE_0___default()(node).attr('data-alt'))}'\n      />`);\n    $link.html(jquery__WEBPACK_IMPORTED_MODULE_0___default()(node).html());\n    return $link;\n  },\n\n  /*\n  xsslint safeString.identifier mathmlSpan\n  */\n  // use this method to process any user content fields returned in api responses\n  // this is important to handle object/embed tags safely, and to properly display audio/video tags\n  convert(html, options = {}) {\n    const $dummy = jquery__WEBPACK_IMPORTED_MODULE_0___default()('<div />').html(html); // finds any <video/audio class=\"instructure_inline_media_comment\"> and turns them into media comment thumbnails\n\n    $dummy.find('video.instructure_inline_media_comment,audio.instructure_inline_media_comment').replaceWith(function () {\n      return apiUserContent.toMediaCommentLink(this);\n    }); // remove any embed tags inside an object tag, to avoid repeated translations\n\n    $dummy.find('object.instructure_user_content:not(#kaltura_player) embed').remove(); // if we aren't actually displaying this content but are instead putting\n    // it into a RTE, we want to preserve the object/embed tags\n\n    if (!options.forEditing) {\n      // find all object/embed tags and convert them into an iframe that posts\n      // to safefiles to display the content (to avoid javascript attacks)\n      //\n      // see the corresponding code in lib/user_content.rb for non-api user\n      // content handling\n      $dummy.find('object.instructure_user_content,embed.instructure_user_content').replaceWith(function () {\n        const $this = jquery__WEBPACK_IMPORTED_MODULE_0___default()(this);\n\n        if (!$this.data('uc_snippet') || !$this.data('uc_sig')) {\n          return this;\n        }\n\n        const uuid = underscore__WEBPACK_IMPORTED_MODULE_1___default.a.uniqueId('uc_');\n\n        let action = '/object_snippet';\n\n        if (ENV.files_domain) {\n          action = `//${ENV.files_domain}${action}`;\n        }\n\n        const $form = jquery__WEBPACK_IMPORTED_MODULE_0___default()(`<form\n            action='${Object(html_escape__WEBPACK_IMPORTED_MODULE_2__[\"default\"])(action)}'\n            method='post'\n            class='user_content_post_form'\n            target='${Object(html_escape__WEBPACK_IMPORTED_MODULE_2__[\"default\"])(uuid)}'\n            id='form-${Object(html_escape__WEBPACK_IMPORTED_MODULE_2__[\"default\"])(uuid)}'\n          />`);\n        $form.append(jquery__WEBPACK_IMPORTED_MODULE_0___default()(\"<input type='hidden'/>\").attr({\n          name: 'object_data',\n          value: $this.data('uc_snippet')\n        }));\n        $form.append(jquery__WEBPACK_IMPORTED_MODULE_0___default()(\"<input type='hidden'/>\").attr({\n          name: 's',\n          value: $this.data('uc_sig')\n        }));\n        jquery__WEBPACK_IMPORTED_MODULE_0___default()('body').append($form);\n        setTimeout(() => $form.submit(), 0);\n        return jquery__WEBPACK_IMPORTED_MODULE_0___default()(`<iframe\n            class='user_content_iframe'\n            name='${Object(html_escape__WEBPACK_IMPORTED_MODULE_2__[\"default\"])(uuid)}'\n            style='width: ${Object(html_escape__WEBPACK_IMPORTED_MODULE_2__[\"default\"])($this.data('uc_width'))}; height: ${Object(html_escape__WEBPACK_IMPORTED_MODULE_2__[\"default\"])($this.data('uc_height'))};'\n            frameborder='0'\n            title='${Object(html_escape__WEBPACK_IMPORTED_MODULE_2__[\"default\"])(i18n_user_content__WEBPACK_IMPORTED_MODULE_3__[\"default\"].t('User Content'))}'\n          />`);\n      });\n      $dummy.find('img.equation_image').each((index, equationImage) => {\n        const $equationImage = jquery__WEBPACK_IMPORTED_MODULE_0___default()(equationImage);\n        const mathmlSpan = apiUserContent.translateMathmlForScreenreaders($equationImage);\n        $equationImage.removeAttr('x-canvaslms-safe-mathml');\n        $equationImage.after(mathmlSpan);\n      });\n    }\n\n    return $dummy.html();\n  }\n\n};\n/* harmony default export */ __webpack_exports__[\"default\"] = (apiUserContent);\n\n//# sourceURL=webpack:///./ui/shared/util/jquery/apiUserContent.js?");

/***/ }),

/***/ "vIWZ":
/*!***************************************************************************************************!*\
  !*** ./frontend_build/i18n.js?media_comments_upload_view_manager!./ui/shims/dummyI18nResource.js ***!
  \***************************************************************************************************/
/*! exports provided: default */
/***/ (function(module, __webpack_exports__, __webpack_require__) {

"use strict";
eval("__webpack_require__.r(__webpack_exports__);\n/* harmony import */ var _canvas_i18n_i18nObj__WEBPACK_IMPORTED_MODULE_0__ = __webpack_require__(/*! @canvas/i18n/i18nObj */ \"HGxv\");\n/* harmony import */ var translations_core_en__WEBPACK_IMPORTED_MODULE_1__ = __webpack_require__(/*! translations/_core_en */ \"0sPK\");\n\n    \n    \n    \n\n    /* harmony default export */ __webpack_exports__[\"default\"] = (_canvas_i18n_i18nObj__WEBPACK_IMPORTED_MODULE_0__[\"default\"].scoped('media_comments_upload_view_manager'));\n  \n\n//# sourceURL=webpack:///./ui/shims/dummyI18nResource.js?./frontend_build/i18n.js?media_comments_upload_view_manager");

/***/ }),

/***/ "w6Bb":
/*!********************************************************!*\
  !*** ./ui/shared/media-comments/jquery/js_uploader.js ***!
  \********************************************************/
/*! exports provided: default */
/***/ (function(module, __webpack_exports__, __webpack_require__) {

"use strict";
eval("__webpack_require__.r(__webpack_exports__);\n/* harmony export (binding) */ __webpack_require__.d(__webpack_exports__, \"default\", function() { return JsUploader; });\n/* harmony import */ var _dialog_manager__WEBPACK_IMPORTED_MODULE_0__ = __webpack_require__(/*! ./dialog_manager */ \"dCoQ\");\n/* harmony import */ var _comment_ui_loader__WEBPACK_IMPORTED_MODULE_1__ = __webpack_require__(/*! ./comment_ui_loader */ \"4Ljj\");\n/* harmony import */ var _instructure_k5uploader__WEBPACK_IMPORTED_MODULE_2__ = __webpack_require__(/*! @instructure/k5uploader */ \"VAKy\");\n/* harmony import */ var _upload_view_manager__WEBPACK_IMPORTED_MODULE_3__ = __webpack_require__(/*! ./upload_view_manager */ \"xiqs\");\n/* harmony import */ var _kaltura_session_loader__WEBPACK_IMPORTED_MODULE_4__ = __webpack_require__(/*! ./kaltura_session_loader */ \"cGuw\");\n/* harmony import */ var _file_input_manager__WEBPACK_IMPORTED_MODULE_5__ = __webpack_require__(/*! ./file_input_manager */ \"2yQE\");\n//\n// Copyright (C) 2014 - present Instructure, Inc.\n//\n// This file is part of Canvas.\n//\n// Canvas is free software: you can redistribute it and/or modify it under\n// the terms of the GNU Affero General Public License as published by the Free\n// Software Foundation, version 3 of the License.\n//\n// Canvas is distributed in the hope that it will be useful, but WITHOUT ANY\n// WARRANTY; without even the implied warranty of MERCHANTABILITY or FITNESS FOR\n// A PARTICULAR PURPOSE. See the GNU Affero General Public License for more\n// details.\n//\n// You should have received a copy of the GNU Affero General Public License along\n// with this program. If not, see <http://www.gnu.org/licenses/>.\n\n\n\n\n\n\n/*\n * Creates and Mediates between various upload ui and actors\n */\n\nclass JsUploader {\n  constructor() {\n    this.initialize = (mediaType, opts) => {\n      return this.commentUiLoader.loadTabs(html => {\n        this.onReady();\n        this.dialogManager.displayContent(html);\n        this.dialogManager.activateTabs();\n        this.dialogManager.mediaReady(mediaType, opts);\n        this.createNeededFields();\n        return this.bindEvents();\n      });\n    };\n\n    this.doUpload = () => {\n      this.file = this.fileInputManager.getSelectedFile();\n      if (this.uploader) this.resetUploader();\n      const session = this.kSession.generateUploadOptions(this.fileInputManager.allowedMedia);\n      this.uploader = new _instructure_k5uploader__WEBPACK_IMPORTED_MODULE_2__[\"default\"](session);\n      this.uploader.addEventListener('K5.fileError', this.onFileError);\n      this.uploader.addEventListener('K5.complete', this.onUploadComplete);\n      this.uploader.addEventListener('K5.ready', this.onUploaderReady);\n      this.uploadViewManager = new _upload_view_manager__WEBPACK_IMPORTED_MODULE_3__[\"default\"]();\n      return this.uploadViewManager.monitorUpload(this.uploader, this.fileInputManager.allowedMedia, this.file);\n    };\n\n    this.doUploadByFile = inputFile => {\n      this.file = inputFile;\n\n      if (this.uploader) {\n        this.resetUploader();\n      }\n\n      const session = this.kSession.generateUploadOptions(['video', 'audio', 'webm', 'video/webm', 'audio/webm']);\n      this.uploader = new _instructure_k5uploader__WEBPACK_IMPORTED_MODULE_2__[\"default\"](session);\n      this.uploader.addEventListener('K5.fileError', this.onFileError);\n      this.uploader.addEventListener('K5.complete', this.onUploadComplete);\n      return this.uploader.addEventListener('K5.ready', this.onUploaderReady);\n    };\n\n    this.onFileError = () => {\n      return this.createNeededFields();\n    };\n\n    this.onUploadComplete = e => {\n      this.resetUploader();\n\n      if (!((e.title != null ? e.title.length : void 0) > 0)) {\n        e.title = this.file.name;\n      }\n\n      this.addEntry(e, this.file.type.includes('audio'));\n      return this.dialogManager.hide();\n    };\n\n    this.onUploaderReady = () => {\n      return this.uploader.uploadFile(this.file);\n    };\n\n    this.resetUploader = () => {\n      this.uploader.removeEventListener('K5.fileError', this.onFileError);\n      this.uploader.removeEventListener('K5.complete', this.onUploadComplete);\n      this.uploader.removeEventListener('K5.ready', this.onUploaderReady);\n      return this.uploader.destroy();\n    };\n\n    this.dialogManager = new _dialog_manager__WEBPACK_IMPORTED_MODULE_0__[\"default\"]();\n    this.commentUiLoader = new _comment_ui_loader__WEBPACK_IMPORTED_MODULE_1__[\"default\"]();\n    this.kSession = new _kaltura_session_loader__WEBPACK_IMPORTED_MODULE_4__[\"default\"]();\n    this.uploadViewManager = new _upload_view_manager__WEBPACK_IMPORTED_MODULE_3__[\"default\"]();\n    this.fileInputManager = new _file_input_manager__WEBPACK_IMPORTED_MODULE_5__[\"default\"]();\n    this.dialogManager.initialize();\n    this.loadSession();\n  }\n\n  loadSession() {\n    return this.kSession.loadSession('/api/v1/services/kaltura_session', this.initialize, this.uploadViewManager.showConfigError);\n  }\n\n  onReady() {} // override this\n\n\n  getKs() {\n    return this.kSession.kalturaSession.ks;\n  }\n\n  getUid() {\n    return this.kSession.kalturaSession.uid;\n  }\n\n  bindEvents() {\n    this.fileInputManager.setUpInputTrigger('#audio_upload_holder', ['audio']);\n    return this.fileInputManager.setUpInputTrigger('#video_upload_holder', ['video']);\n  }\n\n  createNeededFields() {\n    return this.fileInputManager.resetFileInput(this.doUpload);\n  }\n\n}\n\n//# sourceURL=webpack:///./ui/shared/media-comments/jquery/js_uploader.js?");

/***/ }),

/***/ "xiqs":
/*!****************************************************************!*\
  !*** ./ui/shared/media-comments/jquery/upload_view_manager.js ***!
  \****************************************************************/
/*! exports provided: default */
/***/ (function(module, __webpack_exports__, __webpack_require__) {

"use strict";
eval("__webpack_require__.r(__webpack_exports__);\n/* harmony export (binding) */ __webpack_require__.d(__webpack_exports__, \"default\", function() { return UploadViewManager; });\n/* harmony import */ var jquery__WEBPACK_IMPORTED_MODULE_0__ = __webpack_require__(/*! jquery */ \"ouhR\");\n/* harmony import */ var jquery__WEBPACK_IMPORTED_MODULE_0___default = /*#__PURE__*/__webpack_require__.n(jquery__WEBPACK_IMPORTED_MODULE_0__);\n/* harmony import */ var i18n_media_comments_upload_view_manager__WEBPACK_IMPORTED_MODULE_1__ = __webpack_require__(/*! i18n!media_comments_upload_view_manager */ \"vIWZ\");\n/* harmony import */ var jqueryui_progressbar__WEBPACK_IMPORTED_MODULE_2__ = __webpack_require__(/*! jqueryui/progressbar */ \"7hm3\");\n/* harmony import */ var _canvas_jquery_jquery_instructure_misc_helpers__WEBPACK_IMPORTED_MODULE_3__ = __webpack_require__(/*! @canvas/jquery/jquery.instructure_misc_helpers */ \"8JEM\");\n//\n// Copyright (C) 2014 - present Instructure, Inc.\n//\n// This file is part of Canvas.\n//\n// Canvas is free software: you can redistribute it and/or modify it under\n// the terms of the GNU Affero General Public License as published by the Free\n// Software Foundation, version 3 of the License.\n//\n// Canvas is distributed in the hope that it will be useful, but WITHOUT ANY\n// WARRANTY; without even the implied warranty of MERCHANTABILITY or FITNESS FOR\n// A PARTICULAR PURPOSE. See the GNU Affero General Public License for more\n// details.\n//\n// You should have received a copy of the GNU Affero General Public License along\n// with this program. If not, see <http://www.gnu.org/licenses/>.\n\n\n\n\n/*\n * Watches uploader and updates UI with file upload details, errors\n * and upload progress\n */\n\nclass UploadViewManager {\n  constructor() {\n    this.onFileTypeError = error => {\n      let message;\n\n      if (error.file.size > error.maxFileSize * 1024 * 1024) {\n        // consistent with UiConfig#acceptable_file_size in k5uploader\n        message = i18n_media_comments_upload_view_manager__WEBPACK_IMPORTED_MODULE_1__[\"default\"].t('file_size_error', 'Size of %{file} is greater than the maximum %{max} MB allowed file size.', {\n          file: error.file.name,\n          max: error.maxFileSize\n        });\n      } else {\n        message = i18n_media_comments_upload_view_manager__WEBPACK_IMPORTED_MODULE_1__[\"default\"].t('file_type_error', '%{file} is not an acceptable %{type} file.', {\n          file: error.file.name,\n          type: error.allowedMediaTypes[0]\n        });\n      }\n\n      this.resetFileDetails();\n      return this.showErrorMessage(message);\n    };\n\n    this.showConfigError = () => {\n      const message = i18n_media_comments_upload_view_manager__WEBPACK_IMPORTED_MODULE_1__[\"default\"].t('errors.media_comment_installation_broken', 'Media comment uploading has not been set up properly. Please contact your administrator.');\n      this.showErrorMessage(message);\n      jquery__WEBPACK_IMPORTED_MODULE_0___default()('#media_upload_feedback').css('visibility', 'visible');\n      jquery__WEBPACK_IMPORTED_MODULE_0___default()('#audio_upload_holder').css('visibility', 'hidden');\n      jquery__WEBPACK_IMPORTED_MODULE_0___default()('#video_upload_holder').css('visibility', 'hidden');\n      jquery__WEBPACK_IMPORTED_MODULE_0___default()('#media_upload_settings').css('visibility', 'hidden');\n    };\n  }\n\n  monitorUpload(uploader, allowedMedia, file) {\n    if (this.uploader && this.uploader !== uploader) this.resetListeners();\n    this.uploader = uploader;\n    this.allowedMedia = allowedMedia;\n    this.showProgBar();\n    this.showFileDetails(file);\n    this.uploader.addEventListener('K5.uiconfError', this.showConfigError);\n    this.uploader.addEventListener('K5.error', this.showConfigError);\n    this.uploader.addEventListener('K5.fileError', this.onFileTypeError);\n    this.uploader.addEventListener('K5.progress', this.updateProgBar);\n  }\n\n  resetListeners() {\n    this.uploader.removeEventListener('K5.uiconfError', this.showConfigError);\n    this.uploader.removeEventListener('K5.error', this.showConfigError);\n    this.uploader.removeEventListener('K5.fileError', this.onFileTypeError);\n    this.uploader.removeEventListener('K5.progress', this.updateProgBar);\n  }\n\n  resetFileDetails() {\n    jquery__WEBPACK_IMPORTED_MODULE_0___default()('#media_upload_settings').css('visibility', 'hidden');\n    jquery__WEBPACK_IMPORTED_MODULE_0___default()('#media_upload_title').val('');\n    jquery__WEBPACK_IMPORTED_MODULE_0___default()('#media_upload_display_title').text('');\n    jquery__WEBPACK_IMPORTED_MODULE_0___default()('#media_upload_file_size').text(jquery__WEBPACK_IMPORTED_MODULE_0___default.a.fileSize(0));\n    jquery__WEBPACK_IMPORTED_MODULE_0___default()('#media_upload_settings .icon').attr('src', '/images/file.png');\n  }\n\n  showFileDetails(file) {\n    if (!file) {\n      this.resetFileDetails();\n      return;\n    }\n\n    jquery__WEBPACK_IMPORTED_MODULE_0___default()('#media_upload_feedback').css('visibility', 'hidden');\n    jquery__WEBPACK_IMPORTED_MODULE_0___default()('#media_upload_settings').css('visibility', 'visible');\n    jquery__WEBPACK_IMPORTED_MODULE_0___default()('#media_upload_title').val(file.name);\n    jquery__WEBPACK_IMPORTED_MODULE_0___default()('#media_upload_display_title').text(file.name);\n    jquery__WEBPACK_IMPORTED_MODULE_0___default()('#media_upload_file_size').text(jquery__WEBPACK_IMPORTED_MODULE_0___default.a.fileSize(file.size));\n    jquery__WEBPACK_IMPORTED_MODULE_0___default()('#media_upload_settings .icon').attr('src', `/images/file-${this.allowedMedia[0]}.png`);\n    jquery__WEBPACK_IMPORTED_MODULE_0___default()('#media_upload_submit').attr('disabled', true).text(i18n_media_comments_upload_view_manager__WEBPACK_IMPORTED_MODULE_1__[\"default\"].t('messages.submitting', 'Submitting Media File...'));\n  }\n\n  showErrorMessage(message) {\n    this.hideProgBar();\n    jquery__WEBPACK_IMPORTED_MODULE_0___default()('#media_upload_feedback').css('visibility', 'visible');\n    jquery__WEBPACK_IMPORTED_MODULE_0___default()('#media_upload_feedback_text').text(message);\n  }\n\n  showProgBar() {\n    jquery__WEBPACK_IMPORTED_MODULE_0___default()('#media_upload_progress').css('visibility', 'visible').progressbar();\n  }\n\n  hideProgBar() {\n    jquery__WEBPACK_IMPORTED_MODULE_0___default()('#media_upload_progress').css('visibility', 'hidden');\n  }\n\n  updateProgBar(data) {\n    const prc = data.loaded / data.total * 100.0;\n    jquery__WEBPACK_IMPORTED_MODULE_0___default()('#media_upload_progress').progressbar('option', 'value', prc);\n  }\n\n}\n\n//# sourceURL=webpack:///./ui/shared/media-comments/jquery/upload_view_manager.js?");

/***/ })

}]);