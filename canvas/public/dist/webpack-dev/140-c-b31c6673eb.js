(window["canvasWebpackJsonp"] = window["canvasWebpackJsonp"] || []).push([[140],{

/***/ "10eL":
/*!*******************************************************************************!*\
  !*** ./frontend_build/i18n.js?ajaxflashalert!./ui/shims/dummyI18nResource.js ***!
  \*******************************************************************************/
/*! exports provided: default */
/***/ (function(module, __webpack_exports__, __webpack_require__) {

"use strict";
eval("__webpack_require__.r(__webpack_exports__);\n/* harmony import */ var _canvas_i18n_i18nObj__WEBPACK_IMPORTED_MODULE_0__ = __webpack_require__(/*! @canvas/i18n/i18nObj */ \"HGxv\");\n/* harmony import */ var translations_core_en__WEBPACK_IMPORTED_MODULE_1__ = __webpack_require__(/*! translations/_core_en */ \"0sPK\");\n\n    \n    \n    \n\n    /* harmony default export */ __webpack_exports__[\"default\"] = (_canvas_i18n_i18nObj__WEBPACK_IMPORTED_MODULE_0__[\"default\"].scoped('ajaxflashalert'));\n  \n\n//# sourceURL=webpack:///./ui/shims/dummyI18nResource.js?./frontend_build/i18n.js?ajaxflashalert");

/***/ }),

/***/ "9+Wj":
/*!****************************************************!*\
  !*** ./ui/shared/syllabus/jquery/calendar_move.js ***!
  \****************************************************/
/*! exports provided: changeMonth */
/***/ (function(module, __webpack_exports__, __webpack_require__) {

"use strict";
eval("__webpack_require__.r(__webpack_exports__);\n/* harmony export (binding) */ __webpack_require__.d(__webpack_exports__, \"changeMonth\", function() { return changeMonth; });\n/* harmony import */ var _canvas_i18n__WEBPACK_IMPORTED_MODULE_0__ = __webpack_require__(/*! @canvas/i18n */ \"HGxv\");\n/* harmony import */ var jquery__WEBPACK_IMPORTED_MODULE_1__ = __webpack_require__(/*! jquery */ \"ouhR\");\n/* harmony import */ var jquery__WEBPACK_IMPORTED_MODULE_1___default = /*#__PURE__*/__webpack_require__.n(jquery__WEBPACK_IMPORTED_MODULE_1__);\n/* harmony import */ var _canvas_datetime__WEBPACK_IMPORTED_MODULE_2__ = __webpack_require__(/*! @canvas/datetime */ \"7AEQ\");\n/* harmony import */ var _canvas_util_templateData__WEBPACK_IMPORTED_MODULE_3__ = __webpack_require__(/*! @canvas/util/templateData */ \"TvTI\");\n/* harmony import */ var jqueryui_datepicker__WEBPACK_IMPORTED_MODULE_4__ = __webpack_require__(/*! jqueryui/datepicker */ \"pzFb\");\n/* harmony import */ var moment__WEBPACK_IMPORTED_MODULE_5__ = __webpack_require__(/*! moment */ \"wd/R\");\n/* harmony import */ var moment__WEBPACK_IMPORTED_MODULE_5___default = /*#__PURE__*/__webpack_require__.n(moment__WEBPACK_IMPORTED_MODULE_5__);\n/*\n * Copyright (C) 2011 - present Instructure, Inc.\n *\n * This file is part of Canvas.\n *\n * Canvas is free software: you can redistribute it and/or modify it under\n * the terms of the GNU Affero General Public License as published by the Free\n * Software Foundation, version 3 of the License.\n *\n * Canvas is distributed in the hope that it will be useful, but WITHOUT ANY\n * WARRANTY; without even the implied warranty of MERCHANTABILITY or FITNESS FOR\n * A PARTICULAR PURPOSE. See the GNU Affero General Public License for more\n * details.\n *\n * You should have received a copy of the GNU Affero General Public License along\n * with this program. If not, see <http://www.gnu.org/licenses/>.\n */\n\n\n\n\n/* fillTemplateData */\n\n\n\nconst monthNames = _canvas_i18n__WEBPACK_IMPORTED_MODULE_0__[\"default\"].lookup('date.month_names');\n\nfunction makeDate(date) {\n  return {\n    day: date.getDate(),\n    month: date.getMonth(),\n    year: date.getFullYear()\n  };\n}\n\nfunction changeMonth($month, change) {\n  const monthData = $month.data('calendar_objects');\n  var data = {};\n  var current = null;\n\n  if (typeof change === 'string') {\n    var current = jquery__WEBPACK_IMPORTED_MODULE_1___default.a.datepicker.oldParseDate('mm/dd/yy', change);\n\n    if (current) {\n      current.setDate(1);\n    }\n  }\n\n  if (!current) {\n    var month = parseInt($month.find('.month_number').text(), 10);\n    var year = parseInt($month.find('.year_number').text(), 10);\n    var current = new Date(year, month + change - 1, 1);\n  }\n\n  var data = {\n    month_name: monthNames[current.getMonth() + 1],\n    month_number: current.getMonth() + 1,\n    year_number: current.getFullYear()\n  };\n  $month.fillTemplateData({\n    data\n  });\n  const firstDayOfWeek = moment__WEBPACK_IMPORTED_MODULE_5___default.a.localeData(ENV.MOMENT_LOCALE).firstDayOfWeek();\n  let date = new Date();\n  const today = makeDate(date);\n  const firstDayOfMonth = makeDate(current);\n  date = current;\n  date.setDate(0);\n  date.setDate(date.getDate() - date.getDay() + firstDayOfWeek);\n  const firstDayOfSquare = makeDate(date);\n  let lastDayOfPreviousMonth = null;\n\n  if (firstDayOfMonth.day != firstDayOfSquare.day) {\n    date.setDate(1);\n    date.setMonth(date.getMonth() + 1);\n    date.setDate(0);\n    lastDayOfPreviousMonth = {\n      day: date.getDate(),\n      month: firstDayOfSquare.month,\n      year: firstDayOfSquare.year\n    };\n    date.setDate(1);\n    date.setMonth(date.getMonth() + 1);\n  }\n\n  date.setMonth(current.getMonth() + 1);\n  date.setDate(0);\n  const lastDayOfMonth = {\n    day: date.getDate(),\n    month: firstDayOfMonth.month,\n    year: firstDayOfMonth.yearh\n  };\n  date.setDate(date.getDate() + 1);\n  date.setDate(date.getDate() + (6 - date.getDay()));\n  date.setDate(date.getDate() + 7);\n  const lastDayOfSquare = makeDate(date);\n  let $days = $month.data('days');\n\n  if (!$days) {\n    $days = $month.find('.calendar_day_holder');\n    $month.data('days', $days);\n  }\n\n  if ($month.hasClass('mini_month')) {\n    $days = $month.find('.day');\n  }\n\n  $month.find('.calendar_event').remove();\n  let idx = 0;\n  let day = firstDayOfSquare.day;\n  var month = firstDayOfSquare.month;\n  var year = firstDayOfSquare.year;\n\n  while (day <= lastDayOfSquare.day || month != lastDayOfSquare.month) {\n    var $day = $days.eq(idx);\n\n    if ($day.length > 0) {\n      const classes = $day.attr('class').split(' ');\n      const class_names = [];\n\n      for (let i = 0; i < classes.length; i++) {\n        if (classes[i].indexOf('date_') == 0) {} else {\n          class_names.push(classes[i]);\n        }\n      }\n\n      $day.attr('class', class_names.join(' '));\n    }\n\n    $day.show().addClass('visible').parents('tr').show().addClass('visible');\n    var data = {\n      day_number: day\n    };\n    const month_number = month < 9 ? `0${month + 1}` : month + 1;\n    const day_number = day < 10 ? `0${day}` : day;\n    let id = `day_${year}_${month_number}_${day_number}`;\n\n    if ($month.hasClass('mini_month')) {\n      id = `mini_${id}`;\n    }\n\n    $day.attr('id', id).addClass(`date_${month_number}_${day_number}_${year}`).find('.day_number').text(day).attr('title', `${month_number}/${day_number}/${year}`).addClass(`date_${month_number}_${day_number}_${year}`); // left here because I don't know what it'll break...\n    // update a11y label\n\n    const monthName = monthNames[month + 1];\n    $day.find('span.screenreader-only:first-child').text(`${day} ${monthName} ${year}`);\n    let $div = $day.children('div');\n\n    if ($month.hasClass('mini_month')) {\n      $div = $day;\n    }\n\n    $div.removeClass('current_month other_month next_month previous_month today');\n\n    if (month == firstDayOfMonth.month) {\n      $div.addClass('current_month');\n    } else {\n      $div.addClass('other_month');\n\n      if (firstDayOfMonth.month == (month + 1) % 12) {\n        $div.addClass('previous_month');\n      } else {\n        $div.addClass('next_month');\n      }\n    }\n\n    if (month == today.month && day == today.day && year == today.year) {\n      $div.addClass('today');\n    }\n\n    day++;\n    idx++;\n\n    if (lastDayOfPreviousMonth && day > lastDayOfPreviousMonth.day && month == lastDayOfPreviousMonth.month || day > lastDayOfMonth.day && month == lastDayOfMonth.month) {\n      month += 1;\n\n      if (month >= 12) {\n        month -= 12;\n        year++;\n      }\n\n      day = 1;\n    }\n  }\n\n  while (idx < $days.length) {\n    var $day = $days.eq(idx);\n    $day.parents('tr').hide().removeClass('visible');\n    $day.hide().removeClass('visible');\n    idx++;\n  }\n\n  if (!$month.hasClass('mini_month')) {}\n}\n\n//# sourceURL=webpack:///./ui/shared/syllabus/jquery/calendar_move.js?");

/***/ }),

/***/ "B1bN":
/*!*****************************************************!*\
  !*** ./ui/shared/easy-student-view/jquery/index.js ***!
  \*****************************************************/
/*! exports provided: default */
/***/ (function(module, __webpack_exports__, __webpack_require__) {

"use strict";
eval("__webpack_require__.r(__webpack_exports__);\n/* harmony export (binding) */ __webpack_require__.d(__webpack_exports__, \"default\", function() { return easy_student_view; });\n/* harmony import */ var jquery__WEBPACK_IMPORTED_MODULE_0__ = __webpack_require__(/*! jquery */ \"ouhR\");\n/* harmony import */ var jquery__WEBPACK_IMPORTED_MODULE_0___default = /*#__PURE__*/__webpack_require__.n(jquery__WEBPACK_IMPORTED_MODULE_0__);\n/*\n * Copyright (C) 2020 - present Instructure, Inc.\n *\n * This file is part of Canvas.\n *\n * Canvas is free software: you can redistribute it and/or modify it under\n * the terms of the GNU Affero General Public License as published by the Free\n * Software Foundation, version 3 of the License.\n *\n * Canvas is distributed in the hope that it will be useful, but WITHOUT ANY\n * WARRANTY; without even the implied warranty of MERCHANTABILITY or FITNESS FOR\n * A PARTICULAR PURPOSE. See the GNU Affero General Public License for more\n * details.\n *\n * You should have received a copy of the GNU Affero General Public License along\n * with this program. If not, see <http://www.gnu.org/licenses/>.\n */\n\nconst selector = '#easy_student_view';\nconst easy_student_view = {\n  show() {\n    jquery__WEBPACK_IMPORTED_MODULE_0___default()(selector).show();\n  },\n\n  hide() {\n    jquery__WEBPACK_IMPORTED_MODULE_0___default()(selector).hide();\n  }\n\n};\n\n\n//# sourceURL=webpack:///./ui/shared/easy-student-view/jquery/index.js?");

/***/ }),

/***/ "BrAc":
/*!**********************************!*\
  !*** ./ui/shared/axios/index.js ***!
  \**********************************/
/*! exports provided: AxiosPromise, default */
/***/ (function(module, __webpack_exports__, __webpack_require__) {

"use strict";
eval("__webpack_require__.r(__webpack_exports__);\n/* harmony import */ var axios__WEBPACK_IMPORTED_MODULE_0__ = __webpack_require__(/*! axios */ \"vDqi\");\n/* harmony import */ var axios__WEBPACK_IMPORTED_MODULE_0___default = /*#__PURE__*/__webpack_require__.n(axios__WEBPACK_IMPORTED_MODULE_0__);\n/* harmony reexport (safe) */ __webpack_require__.d(__webpack_exports__, \"AxiosPromise\", function() { return axios__WEBPACK_IMPORTED_MODULE_0__[\"AxiosPromise\"]; });\n\n/*\n * Copyright (C) 2015 - present Instructure, Inc.\n *\n * This file is part of Canvas.\n *\n * Canvas is free software: you can redistribute it and/or modify it under\n * the terms of the GNU Affero General Public License as published by the Free\n * Software Foundation, version 3 of the License.\n *\n * Canvas is distributed in the hope that it will be useful, but WITHOUT ANY\n * WARRANTY; without even the implied warranty of MERCHANTABILITY or FITNESS FOR\n * A PARTICULAR PURPOSE. See the GNU Affero General Public License for more\n * details.\n *\n * You should have received a copy of the GNU Affero General Public License along\n * with this program. If not, see <http://www.gnu.org/licenses/>.\n */\n\n // Add CSRF stuffs to make Canvas happy when we are making requests with axios\n\naxios__WEBPACK_IMPORTED_MODULE_0___default.a.defaults.xsrfCookieName = '_csrf_token';\naxios__WEBPACK_IMPORTED_MODULE_0___default.a.defaults.xsrfHeaderName = 'X-CSRF-Token'; // Handle stringified IDs for JSON responses\n\nconst originalDefaults = axios__WEBPACK_IMPORTED_MODULE_0___default.a.defaults.headers.common.Accept;\naxios__WEBPACK_IMPORTED_MODULE_0___default.a.defaults.headers.common.Accept = 'application/json+canvas-string-ids, ' + originalDefaults; // Rails checks this header to decide if a request is an xhr request\n\naxios__WEBPACK_IMPORTED_MODULE_0___default.a.defaults.headers.common['X-Requested-With'] = 'XMLHttpRequest';\n/* harmony default export */ __webpack_exports__[\"default\"] = (axios__WEBPACK_IMPORTED_MODULE_0___default.a);\n\n//# sourceURL=webpack:///./ui/shared/axios/index.js?");

/***/ }),

/***/ "TvTI":
/*!****************************************!*\
  !*** ./ui/shared/util/templateData.js ***!
  \****************************************/
/*! no exports provided */
/***/ (function(module, __webpack_exports__, __webpack_require__) {

"use strict";
eval("__webpack_require__.r(__webpack_exports__);\n/* harmony import */ var jquery__WEBPACK_IMPORTED_MODULE_0__ = __webpack_require__(/*! jquery */ \"ouhR\");\n/* harmony import */ var jquery__WEBPACK_IMPORTED_MODULE_0___default = /*#__PURE__*/__webpack_require__.n(jquery__WEBPACK_IMPORTED_MODULE_0__);\n/* harmony import */ var html_escape__WEBPACK_IMPORTED_MODULE_1__ = __webpack_require__(/*! html-escape */ \"gI0r\");\n/* harmony import */ var _canvas_jquery_jquery_instructure_misc_helpers__WEBPACK_IMPORTED_MODULE_2__ = __webpack_require__(/*! @canvas/jquery/jquery.instructure_misc_helpers */ \"8JEM\");\n/*\n * Copyright (C) 2011 - present Instructure, Inc.\n *\n * This file is part of Canvas.\n *\n * Canvas is free software: you can redistribute it and/or modify it under\n * the terms of the GNU Affero General Public License as published by the Free\n * Software Foundation, version 3 of the License.\n *\n * Canvas is distributed in the hope that it will be useful, but WITHOUT ANY\n * WARRANTY; without even the implied warranty of MERCHANTABILITY or FITNESS FOR\n * A PARTICULAR PURPOSE. See the GNU Affero General Public License for more\n * details.\n *\n * You should have received a copy of the GNU Affero General Public License along\n * with this program. If not, see <http://www.gnu.org/licenses/>.\n */\n\n\n\n/* replaceTags */\n// Fills the selected object(s) with data values as specified.  Plaintext values should be specified in the\n//  data: data used to fill template.\n//  id: set the id attribute of the template object\n//  textValues: a list of strings, which values should be plaintext\n//  htmlValues: a list of strings, which values should be html\n//  hrefValues: List of string.  Searches for all anchor tags in the template\n//    and globally replaces \"{{ value }}\" with data[value].  Useful for adding\n//    new elements asynchronously, when you don't know what their URL will be\n//    until they're created.\n\njquery__WEBPACK_IMPORTED_MODULE_0___default.a.fn.fillTemplateData = function (options) {\n  if (this.length && options) {\n    if (options.iterator) {\n      //  todo: replace .andSelf with .addBack when JQuery is upgraded.\n      this.find('*').andSelf().each(function () {\n        const $el = jquery__WEBPACK_IMPORTED_MODULE_0___default()(this);\n        jquery__WEBPACK_IMPORTED_MODULE_0___default.a.each(['name', 'id', 'class'], (i, attr) => {\n          if ($el.attr(attr)) {\n            $el.attr(attr, $el.attr(attr).replace(/-iterator-/, options.iterator));\n          }\n        });\n      });\n    }\n\n    if (options.id) {\n      this.attr('id', options.id);\n    }\n\n    let contentChange = false;\n\n    if (options.data) {\n      for (var item in options.data) {\n        if (options.except && jquery__WEBPACK_IMPORTED_MODULE_0___default.a.inArray(item, options.except) != -1) {\n          continue;\n        }\n\n        if (options.data[item] && options.dataValues && jquery__WEBPACK_IMPORTED_MODULE_0___default.a.inArray(item, options.dataValues) != -1) {\n          this.data(item, options.data[item].toString());\n        }\n\n        const $found_all = this.find('.' + item);\n        var avoid = options.avoid || '';\n        $found_all.each(function () {\n          const $found = jquery__WEBPACK_IMPORTED_MODULE_0___default()(this);\n\n          if ($found.length > 0 && $found.closest(avoid).length === 0) {\n            if (typeof options.data[item] === 'undefined' || options.data[item] === null) {\n              options.data[item] = '';\n            }\n\n            if (options.htmlValues && jquery__WEBPACK_IMPORTED_MODULE_0___default.a.inArray(item, options.htmlValues) != -1) {\n              $found.html(jquery__WEBPACK_IMPORTED_MODULE_0___default.a.raw(options.data[item].toString()));\n\n              if ($found.hasClass('user_content')) {\n                contentChange = true;\n                $found.removeClass('enhanced');\n                $found.data('unenhanced_content_html', options.data[item].toString());\n              }\n            } else if ($found[0].tagName.toUpperCase() == 'INPUT') {\n              $found.val(options.data[item]);\n            } else {\n              try {\n                const str = options.data[item].toString();\n                $found.html(Object(html_escape__WEBPACK_IMPORTED_MODULE_1__[\"default\"])(str));\n              } catch (e) {}\n            }\n          }\n        });\n      }\n    }\n\n    if (options.hrefValues && options.data) {\n      this.find('a,span[rel]').each(function () {\n        let $obj = jquery__WEBPACK_IMPORTED_MODULE_0___default()(this),\n            oldHref,\n            oldRel,\n            oldName;\n\n        for (const i in options.hrefValues) {\n          if (!options.hrefValues.hasOwnProperty(i)) {\n            continue;\n          }\n\n          const name = options.hrefValues[i];\n\n          if (oldHref = $obj.attr('href')) {\n            const newHref = jquery__WEBPACK_IMPORTED_MODULE_0___default.a.replaceTags(oldHref, name, encodeURIComponent(options.data[name]));\n            const orig = $obj.text() === $obj.html() ? $obj.text() : null;\n\n            if (oldHref !== newHref) {\n              $obj.attr('href', newHref);\n\n              if (orig) {\n                $obj.text(orig);\n              }\n            }\n          }\n\n          if (oldRel = $obj.attr('rel')) {\n            $obj.attr('rel', jquery__WEBPACK_IMPORTED_MODULE_0___default.a.replaceTags(oldRel, name, options.data[name]));\n          }\n\n          if (oldName = $obj.attr('name')) {\n            $obj.attr('name', jquery__WEBPACK_IMPORTED_MODULE_0___default.a.replaceTags(oldName, name, options.data[name]));\n          }\n        }\n      });\n    }\n\n    if (contentChange) {\n      jquery__WEBPACK_IMPORTED_MODULE_0___default()(document).triggerHandler('user_content_change');\n    }\n  }\n\n  return this;\n};\n\njquery__WEBPACK_IMPORTED_MODULE_0___default.a.fn.fillTemplateData.defaults = {\n  htmlValues: null,\n  hrefValues: null\n}; // Reverse version of fillTemplateData.  Lets you pull out the string versions of values held in divs, spans, etc.\n// Based on the usage of class names within an object to specify an object's sub-parts.\n\njquery__WEBPACK_IMPORTED_MODULE_0___default.a.fn.getTemplateData = function (options) {\n  if (!this.length || !options) {\n    return {};\n  }\n\n  var result = {},\n      item,\n      val;\n\n  if (options.textValues) {\n    const _this = this;\n\n    options.textValues.forEach(item => {\n      const $item = _this.find('.' + item.replace(/\\[/g, '\\\\[').replace(/\\]/g, '\\\\]') + ':first');\n\n      val = jquery__WEBPACK_IMPORTED_MODULE_0___default.a.trim($item.text());\n\n      if ($item.html() === '&nbsp;') {\n        val = '';\n      }\n\n      if (val.length === 1 && val.charCodeAt(0) === 160) {\n        val = '';\n      }\n\n      result[item] = val;\n    });\n  }\n\n  if (options.dataValues) {\n    for (item in options.dataValues) {\n      var val = this.data(options.dataValues[item]);\n\n      if (val) {\n        result[options.dataValues[item]] = val;\n      }\n    }\n  }\n\n  if (options.htmlValues) {\n    for (item in options.htmlValues) {\n      const $elem = this.find('.' + options.htmlValues[item].replace(/\\[/g, '\\\\[').replace(/\\]/g, '\\\\]') + ':first');\n      val = null;\n\n      if ($elem.hasClass('user_content') && $elem.data('unenhanced_content_html')) {\n        val = $elem.data('unenhanced_content_html');\n      } else {\n        val = jquery__WEBPACK_IMPORTED_MODULE_0___default.a.trim($elem.html());\n      }\n\n      result[options.htmlValues[item]] = val;\n    }\n  }\n\n  return result;\n};\n\njquery__WEBPACK_IMPORTED_MODULE_0___default.a.fn.getTemplateValue = function (value, options) {\n  const opts = jquery__WEBPACK_IMPORTED_MODULE_0___default.a.extend({}, options, {\n    textValues: [value]\n  });\n  return this.getTemplateData(opts)[value];\n};\n\n//# sourceURL=webpack:///./ui/shared/util/templateData.js?");

/***/ }),

/***/ "dDTa":
/*!*****************************************************!*\
  !*** ./ui/shared/external-apps/iframeAllowances.js ***!
  \*****************************************************/
/*! exports provided: default */
/***/ (function(module, __webpack_exports__, __webpack_require__) {

"use strict";
eval("__webpack_require__.r(__webpack_exports__);\n/*\n * Copyright (C) 2018 - present Instructure, Inc.\n *\n * This file is part of Canvas.\n *\n * Canvas is free software: you can redistribute it and/or modify it under\n * the terms of the GNU Affero General Public License as published by the Free\n * Software Foundation, version 3 of the License.\n *\n * Canvas is distributed in the hope that it will be useful, but WITHOUT ANY\n * WARRANTY; without even the implied warranty of MERCHANTABILITY or FITNESS FOR\n * A PARTICULAR PURPOSE. See the GNU Affero General Public License for more\n * details.\n *\n * You should have received a copy of the GNU Affero General Public License along\n * with this program. If not, see <http://www.gnu.org/licenses/>.\n */\nconst iframeAllowances = () => {\n  const allowances = ENV.LTI_LAUNCH_FRAME_ALLOWANCES || [];\n  return allowances.join('; ');\n};\n\n/* harmony default export */ __webpack_exports__[\"default\"] = (iframeAllowances);\n\n//# sourceURL=webpack:///./ui/shared/external-apps/iframeAllowances.js?");

/***/ }),

/***/ "lBOK":
/*!*************************************************!*\
  !*** ./ui/shared/loading-image/jquery/index.js ***!
  \*************************************************/
/*! no exports provided */
/***/ (function(module, __webpack_exports__, __webpack_require__) {

"use strict";
eval("__webpack_require__.r(__webpack_exports__);\n/* harmony import */ var jquery__WEBPACK_IMPORTED_MODULE_0__ = __webpack_require__(/*! jquery */ \"ouhR\");\n/* harmony import */ var jquery__WEBPACK_IMPORTED_MODULE_0___default = /*#__PURE__*/__webpack_require__.n(jquery__WEBPACK_IMPORTED_MODULE_0__);\n/*\n * Copyright (C) 2011 - present Instructure, Inc.\n *\n * This file is part of Canvas.\n *\n * Canvas is free software: you can redistribute it and/or modify it under\n * the terms of the GNU Affero General Public License as published by the Free\n * Software Foundation, version 3 of the License.\n *\n * Canvas is distributed in the hope that it will be useful, but WITHOUT ANY\n * WARRANTY; without even the implied warranty of MERCHANTABILITY or FITNESS FOR\n * A PARTICULAR PURPOSE. See the GNU Affero General Public License for more\n * details.\n *\n * You should have received a copy of the GNU Affero General Public License along\n * with this program. If not, see <http://www.gnu.org/licenses/>.\n */\n // Shows an ajax-loading image on the given object.\n\njquery__WEBPACK_IMPORTED_MODULE_0___default.a.fn.loadingImg = function (options) {\n  if (!this || this.length === 0) {\n    return this;\n  }\n\n  const dir = window.getComputedStyle(this[0]).direction || 'ltr';\n  const $obj = this.filter(':first');\n  let list;\n\n  if (options === 'hide' || options === 'remove') {\n    $obj.children('.loading_image').remove();\n    list = $obj.data('loading_images') || [];\n    list.forEach(item => {\n      if (item) {\n        item.remove();\n      }\n    });\n    $obj.data('loading_images', null);\n    this.css('margin-inline-end', '');\n    return this;\n  } else if (options === 'remove_once') {\n    $obj.children('.loading_image').remove();\n    list = $obj.data('loading_images') || [];\n    const img = list.pop();\n\n    if (img) {\n      img.remove();\n    }\n\n    $obj.data('loading_images', list);\n    return this;\n  } else if (options === 'register_image' && arguments.length === 3) {\n    jquery__WEBPACK_IMPORTED_MODULE_0___default.a.fn.loadingImg.image_files[arguments[1]] = arguments[2];\n    return this;\n  }\n\n  options = jquery__WEBPACK_IMPORTED_MODULE_0___default.a.extend({}, jquery__WEBPACK_IMPORTED_MODULE_0___default.a.fn.loadingImg.defaults, options);\n  let image = jquery__WEBPACK_IMPORTED_MODULE_0___default.a.fn.loadingImg.image_files.normal;\n\n  if (options.image_size && jquery__WEBPACK_IMPORTED_MODULE_0___default.a.fn.loadingImg.image_files[options.image_size]) {\n    image = jquery__WEBPACK_IMPORTED_MODULE_0___default.a.fn.loadingImg.image_files[options.image_size];\n  }\n\n  if (options.paddingTop) {\n    options.vertical = options.paddingTop;\n  }\n\n  let paddingTop = 0;\n\n  if (options.vertical) {\n    if (options.vertical === 'top') {// nothing to do\n    } else if (options.vertical === 'bottom') {\n      paddingTop = $obj.outerHeight();\n    } else if (options.vertical === 'middle') {\n      paddingTop = $obj.outerHeight() / 2 - image.height / 2;\n    } else {\n      paddingTop = parseInt(options.vertical, 10); // eslint-disable-next-line no-restricted-globals\n\n      if (isNaN(paddingTop)) {\n        paddingTop = 0;\n      }\n    }\n  }\n\n  let paddingLeft = 0;\n\n  if (options.horizontal) {\n    if (options.horizontal === 'left') {// nothing to do\n    } else if (options.horizontal === 'right') {\n      paddingLeft = $obj.outerWidth() - image.width;\n    } else if (options.horizontal === 'right!') {\n      paddingLeft = dir === 'ltr' ? $obj.outerWidth() + 5 : -5 - (image.width || 16);\n      this.css({\n        'margin-inline-end': '16px'\n      });\n    } else if (options.horizontal === 'middle') {\n      paddingLeft = $obj.outerWidth() / 2 - image.width / 2;\n    } else {\n      paddingLeft = parseInt(options.horizontal, 10); // eslint-disable-next-line no-restricted-globals\n\n      if (isNaN(paddingLeft)) {\n        paddingLeft = 0;\n      }\n    }\n  }\n\n  const zIndex = $obj.zIndex() + 1;\n  const $imageHolder = jquery__WEBPACK_IMPORTED_MODULE_0___default()(document.createElement('div')).addClass('loading_image_holder');\n  const $image = jquery__WEBPACK_IMPORTED_MODULE_0___default()(document.createElement('img')).attr('src', image.url);\n  $imageHolder.append($image);\n  list = $obj.data('loading_images') || [];\n  list.push($imageHolder);\n  $obj.data('loading_images', list);\n\n  if (!$obj.css('position') || $obj.css('position') === 'static') {\n    const offset = $obj.offset();\n    let top = offset.top,\n        left = offset.left;\n\n    if (options.vertical) {\n      top += paddingTop;\n    }\n\n    if (options.horizontal) {\n      left += paddingLeft;\n    }\n\n    $imageHolder.css({\n      zIndex,\n      position: 'absolute',\n      top,\n      left\n    });\n    jquery__WEBPACK_IMPORTED_MODULE_0___default()('body').append($imageHolder);\n  } else {\n    $imageHolder.css({\n      zIndex,\n      position: 'absolute',\n      top: paddingTop,\n      left: paddingLeft\n    });\n    $obj.append($imageHolder);\n  }\n\n  return jquery__WEBPACK_IMPORTED_MODULE_0___default()(this);\n};\n\njquery__WEBPACK_IMPORTED_MODULE_0___default.a.fn.loadingImg.defaults = {\n  paddingTop: 0,\n  image_size: 'normal',\n  vertical: 0,\n  horizontal: 0\n};\njquery__WEBPACK_IMPORTED_MODULE_0___default.a.fn.loadingImg.image_files = {\n  normal: {\n    url: '/images/ajax-loader.gif',\n    width: 32,\n    height: 32\n  },\n  small: {\n    url: '/images/ajax-loader-small.gif',\n    width: 16,\n    height: 16\n  }\n};\njquery__WEBPACK_IMPORTED_MODULE_0___default.a.fn.loadingImage = jquery__WEBPACK_IMPORTED_MODULE_0___default.a.fn.loadingImg;\n\n//# sourceURL=webpack:///./ui/shared/loading-image/jquery/index.js?");

/***/ }),

/***/ "uloQ":
/*!**********************************************!*\
  !*** ./ui/shared/alerts/react/FlashAlert.js ***!
  \**********************************************/
/*! exports provided: default, showFlashAlert, destroyContainer, showFlashError, showFlashSuccess */
/***/ (function(module, __webpack_exports__, __webpack_require__) {

"use strict";
eval("__webpack_require__.r(__webpack_exports__);\n/* harmony export (binding) */ __webpack_require__.d(__webpack_exports__, \"default\", function() { return FlashAlert; });\n/* harmony export (binding) */ __webpack_require__.d(__webpack_exports__, \"showFlashAlert\", function() { return showFlashAlert; });\n/* harmony export (binding) */ __webpack_require__.d(__webpack_exports__, \"destroyContainer\", function() { return destroyContainer; });\n/* harmony export (binding) */ __webpack_require__.d(__webpack_exports__, \"showFlashError\", function() { return showFlashError; });\n/* harmony export (binding) */ __webpack_require__.d(__webpack_exports__, \"showFlashSuccess\", function() { return showFlashSuccess; });\n/* harmony import */ var react__WEBPACK_IMPORTED_MODULE_0__ = __webpack_require__(/*! react */ \"q1tI\");\n/* harmony import */ var react__WEBPACK_IMPORTED_MODULE_0___default = /*#__PURE__*/__webpack_require__.n(react__WEBPACK_IMPORTED_MODULE_0__);\n/* harmony import */ var prop_types__WEBPACK_IMPORTED_MODULE_1__ = __webpack_require__(/*! prop-types */ \"17x9\");\n/* harmony import */ var prop_types__WEBPACK_IMPORTED_MODULE_1___default = /*#__PURE__*/__webpack_require__.n(prop_types__WEBPACK_IMPORTED_MODULE_1__);\n/* harmony import */ var react_dom__WEBPACK_IMPORTED_MODULE_2__ = __webpack_require__(/*! react-dom */ \"i8i4\");\n/* harmony import */ var react_dom__WEBPACK_IMPORTED_MODULE_2___default = /*#__PURE__*/__webpack_require__.n(react_dom__WEBPACK_IMPORTED_MODULE_2__);\n/* harmony import */ var i18n_ajaxflashalert__WEBPACK_IMPORTED_MODULE_3__ = __webpack_require__(/*! i18n!ajaxflashalert */ \"10eL\");\n/* harmony import */ var _instructure_ui_alerts__WEBPACK_IMPORTED_MODULE_4__ = __webpack_require__(/*! @instructure/ui-alerts */ \"spba\");\n/* harmony import */ var _instructure_ui_buttons__WEBPACK_IMPORTED_MODULE_5__ = __webpack_require__(/*! @instructure/ui-buttons */ \"K6WN\");\n/* harmony import */ var _instructure_ui_text__WEBPACK_IMPORTED_MODULE_6__ = __webpack_require__(/*! @instructure/ui-text */ \"iE3e\");\n/* harmony import */ var _instructure_ui_a11y_content__WEBPACK_IMPORTED_MODULE_7__ = __webpack_require__(/*! @instructure/ui-a11y-content */ \"9+/z\");\n/* harmony import */ var _instructure_ui_motion__WEBPACK_IMPORTED_MODULE_8__ = __webpack_require__(/*! @instructure/ui-motion */ \"Nl9J\");\n/*\n * Copyright (C) 2017 - present Instructure, Inc.\n *\n * This file is part of Canvas.\n *\n * Canvas is free software: you can redistribute it and/or modify it under\n * the terms of the GNU Affero General Public License as published by the Free\n * Software Foundation, version 3 of the License.\n *\n * Canvas is distributed in the hope that it will be useful, but WITHOUT ANY\n * WARRANTY; without even the implied warranty of MERCHANTABILITY or FITNESS FOR\n * A PARTICULAR PURPOSE. See the GNU Affero General Public License for more\n * details.\n *\n * You should have received a copy of the GNU Affero General Public License along\n * with this program. If not, see <http://www.gnu.org/licenses/>.\n */\n\n/**\n * Flash alerts, especially for ajax error messages\n * Typical usage:\n * import {showFlashError} from './FlashAlert'\n * ...\n * axios.put(url, data).then((response) => {\n *     // do something with response\n *   }).catch(showFlashError(your_error_message))\n *\n * showFlashError() with no argument shows a generic message\n *\n * On error, will display an inst-ui Alert at the top of the page\n * with an error message and \"Details\" button. When the user clicks\n * the button, it shows error details extracted from the axios Error\n *\n * You could also import the lower level showFlashAlert function or\n * the FlashAlert component if you need more control\n *\n * showFlashAlert({ err, message, type }, onCloseCallback)\n *  err: error object\n *  message: user-facing message\n *  type: one of ['info', 'success', 'warning', 'error']\n *        default is 'info' unless an error object is passed in, else is 'error'\n */\n\n\n\n\n\n\n\n\n\nconst messageHolderId = 'flashalert_message_holder'; // specs fail if I reuse jquery's elements\n\nconst screenreaderMessageHolderId = 'flash_screenreader_holder';\nconst timeout = 10000; // An Alert with a message and \"Details\" button which surfaces\n// more info about the error when pressed.\n// Is displayed at the top of the document, and will close itself after a while\n\nclass FlashAlert extends react__WEBPACK_IMPORTED_MODULE_0___default.a.Component {\n  constructor(props) {\n    super(props);\n\n    this.showDetails = () => {\n      this.setState({\n        showDetails: true\n      });\n      clearTimeout(this.timerId);\n      this.timerId = setTimeout(() => this.closeAlert(), this.props.timeout);\n    };\n\n    this.closeAlert = () => {\n      this.setState({\n        isOpen: false\n      }, () => {\n        setTimeout(() => {\n          clearTimeout(this.timerId);\n          this.props.onClose();\n        }, 500);\n      });\n    };\n\n    this.state = {\n      showDetails: false,\n      isOpen: true\n    };\n    this.timerId = 0;\n  }\n\n  getLiveRegion() {\n    // return element where flash screenreader messages go.\n    // create if necessary\n    let liveRegion = document.getElementById(screenreaderMessageHolderId);\n\n    if (!liveRegion) {\n      liveRegion = document.createElement('div');\n      liveRegion.id = screenreaderMessageHolderId;\n      liveRegion.setAttribute('role', 'alert');\n      document.body.appendChild(liveRegion);\n    }\n\n    return liveRegion;\n  }\n\n  findDetailMessage() {\n    const err = this.props.error;\n    let a = err.message;\n    let b;\n\n    if (err.response) {\n      if (err.response.data) {\n        try {\n          if (Array.isArray(err.response.data.errors)) {\n            // probably a canvas api\n            a = err.response.data.errors[0].message;\n            b = err.message;\n          } else if (err.response.data.message) {\n            // probably a canvas api too\n            a = err.response.data.message;\n            b = err.message;\n          }\n        } catch (ignore) {\n          a = err.message;\n        }\n      }\n    }\n\n    return {\n      a,\n      b\n    };\n  }\n\n  renderDetailMessage() {\n    const _this$findDetailMessa = this.findDetailMessage(),\n          a = _this$findDetailMessa.a,\n          b = _this$findDetailMessa.b;\n\n    return /*#__PURE__*/react__WEBPACK_IMPORTED_MODULE_0___default.a.createElement(_instructure_ui_text__WEBPACK_IMPORTED_MODULE_6__[\"Text\"], {\n      as: \"p\",\n      fontStyle: \"italic\"\n    }, /*#__PURE__*/react__WEBPACK_IMPORTED_MODULE_0___default.a.createElement(_instructure_ui_text__WEBPACK_IMPORTED_MODULE_6__[\"Text\"], null, a), b ? /*#__PURE__*/react__WEBPACK_IMPORTED_MODULE_0___default.a.createElement(\"br\", null) : null, b ? /*#__PURE__*/react__WEBPACK_IMPORTED_MODULE_0___default.a.createElement(_instructure_ui_text__WEBPACK_IMPORTED_MODULE_6__[\"Text\"], null, b) : null);\n  }\n\n  render() {\n    let details = null;\n\n    if (this.props.error) {\n      if (this.state.showDetails) {\n        details = this.renderDetailMessage();\n      } else {\n        details = /*#__PURE__*/react__WEBPACK_IMPORTED_MODULE_0___default.a.createElement(\"span\", null, /*#__PURE__*/react__WEBPACK_IMPORTED_MODULE_0___default.a.createElement(_instructure_ui_a11y_content__WEBPACK_IMPORTED_MODULE_7__[\"PresentationContent\"], null, /*#__PURE__*/react__WEBPACK_IMPORTED_MODULE_0___default.a.createElement(_instructure_ui_buttons__WEBPACK_IMPORTED_MODULE_5__[\"Button\"], {\n          variant: \"link\",\n          onClick: this.showDetails\n        }, i18n_ajaxflashalert__WEBPACK_IMPORTED_MODULE_3__[\"default\"].t('Details'))), /*#__PURE__*/react__WEBPACK_IMPORTED_MODULE_0___default.a.createElement(_instructure_ui_a11y_content__WEBPACK_IMPORTED_MODULE_7__[\"ScreenReaderContent\"], null, this.renderDetailMessage()));\n      }\n    }\n\n    return /*#__PURE__*/react__WEBPACK_IMPORTED_MODULE_0___default.a.createElement(_instructure_ui_motion__WEBPACK_IMPORTED_MODULE_8__[\"Transition\"], {\n      transitionOnMount: true,\n      in: this.state.isOpen,\n      type: \"fade\"\n    }, /*#__PURE__*/react__WEBPACK_IMPORTED_MODULE_0___default.a.createElement(_instructure_ui_alerts__WEBPACK_IMPORTED_MODULE_4__[\"Alert\"], {\n      variant: this.props.variant,\n      renderCloseButtonLabel: i18n_ajaxflashalert__WEBPACK_IMPORTED_MODULE_3__[\"default\"].t('Close'),\n      onDismiss: this.closeAlert,\n      margin: \"small auto\",\n      timeout: this.props.timeout,\n      liveRegion: this.getLiveRegion,\n      transition: \"fade\",\n      screenReaderOnly: this.props.screenReaderOnly\n    }, /*#__PURE__*/react__WEBPACK_IMPORTED_MODULE_0___default.a.createElement(\"div\", null, /*#__PURE__*/react__WEBPACK_IMPORTED_MODULE_0___default.a.createElement(\"p\", {\n      style: {\n        margin: '0 -5px'\n      }\n    }, this.props.message), details)));\n  }\n\n}\nFlashAlert.propTypes = {\n  onClose: prop_types__WEBPACK_IMPORTED_MODULE_1___default.a.func.isRequired,\n  message: prop_types__WEBPACK_IMPORTED_MODULE_1___default.a.string.isRequired,\n  error: prop_types__WEBPACK_IMPORTED_MODULE_1___default.a.instanceOf(Error),\n  variant: prop_types__WEBPACK_IMPORTED_MODULE_1___default.a.oneOf(['info', 'success', 'warning', 'error']),\n  timeout: prop_types__WEBPACK_IMPORTED_MODULE_1___default.a.number,\n  screenReaderOnly: prop_types__WEBPACK_IMPORTED_MODULE_1___default.a.bool\n};\nFlashAlert.defaultProps = {\n  error: null,\n  variant: 'info',\n  timeout,\n  screenReaderOnly: false\n};\nfunction showFlashAlert({\n  message,\n  err,\n  type = err ? 'error' : 'info',\n  srOnly = false\n}) {\n  function closeAlert(atNode) {\n    react_dom__WEBPACK_IMPORTED_MODULE_2___default.a.unmountComponentAtNode(atNode);\n    atNode.remove();\n  }\n\n  function getAlertContainer() {\n    let alertContainer = document.getElementById(messageHolderId);\n\n    if (!alertContainer) {\n      alertContainer = document.createElement('div');\n      alertContainer.classList.add('clickthrough-container');\n      alertContainer.id = messageHolderId;\n      alertContainer.setAttribute('style', 'position: fixed; top: 0; left: 0; width: 100%; z-index: 100000;');\n      document.body.appendChild(alertContainer);\n    }\n\n    return alertContainer;\n  }\n\n  function renderAlert(parent) {\n    react_dom__WEBPACK_IMPORTED_MODULE_2___default.a.render( /*#__PURE__*/react__WEBPACK_IMPORTED_MODULE_0___default.a.createElement(FlashAlert, {\n      message: message,\n      timeout: Number.isNaN(parseInt(ENV.flashAlertTimeout, 10)) ? timeout : ENV.flashAlertTimeout,\n      error: err,\n      variant: type,\n      onClose: closeAlert.bind(null, parent) // eslint-disable-line react/jsx-no-bind\n      ,\n      screenReaderOnly: srOnly\n    }), parent);\n  }\n\n  const div = document.createElement('div'); // div.setAttribute('class', styles.flashMessage)\n\n  div.setAttribute('style', 'max-width:50em;margin:1rem auto;');\n  div.setAttribute('class', 'flashalert-message');\n  getAlertContainer().appendChild(div);\n  renderAlert(div);\n}\nfunction destroyContainer() {\n  const container = document.getElementById(messageHolderId);\n  const liveRegion = document.getElementById(screenreaderMessageHolderId);\n  if (container) container.remove();\n  if (liveRegion) liveRegion.remove();\n}\nfunction showFlashError(message = i18n_ajaxflashalert__WEBPACK_IMPORTED_MODULE_3__[\"default\"].t('An error occurred making a network request')) {\n  return err => showFlashAlert({\n    message,\n    err,\n    type: 'error'\n  });\n}\nfunction showFlashSuccess(message) {\n  return () => showFlashAlert({\n    message,\n    type: 'success'\n  });\n}\n\n//# sourceURL=webpack:///./ui/shared/alerts/react/FlashAlert.js?");

/***/ }),

/***/ "zO2W":
/*!********************************************************************!*\
  !*** ./ui/shared/syllabus/backbone/behaviors/SyllabusBehaviors.js ***!
  \********************************************************************/
/*! exports provided: default */
/***/ (function(module, __webpack_exports__, __webpack_require__) {

"use strict";
eval("__webpack_require__.r(__webpack_exports__);\n/* harmony import */ var _babel_runtime_helpers_esm_slicedToArray__WEBPACK_IMPORTED_MODULE_0__ = __webpack_require__(/*! @babel/runtime/helpers/esm/slicedToArray */ \"ODXe\");\n/* harmony import */ var jquery__WEBPACK_IMPORTED_MODULE_1__ = __webpack_require__(/*! jquery */ \"ouhR\");\n/* harmony import */ var jquery__WEBPACK_IMPORTED_MODULE_1___default = /*#__PURE__*/__webpack_require__.n(jquery__WEBPACK_IMPORTED_MODULE_1__);\n/* harmony import */ var _jquery_calendar_move__WEBPACK_IMPORTED_MODULE_2__ = __webpack_require__(/*! ../../jquery/calendar_move */ \"9+Wj\");\n/* harmony import */ var _canvas_rce_RichContentEditor__WEBPACK_IMPORTED_MODULE_3__ = __webpack_require__(/*! @canvas/rce/RichContentEditor */ \"Ce78\");\n/* harmony import */ var _canvas_datetime__WEBPACK_IMPORTED_MODULE_4__ = __webpack_require__(/*! @canvas/datetime */ \"7AEQ\");\n/* harmony import */ var _canvas_forms_jquery_jquery_instructure_forms__WEBPACK_IMPORTED_MODULE_5__ = __webpack_require__(/*! @canvas/forms/jquery/jquery.instructure_forms */ \"Dhso\");\n/* harmony import */ var _canvas_jquery_jquery_instructure_misc_plugins__WEBPACK_IMPORTED_MODULE_6__ = __webpack_require__(/*! @canvas/jquery/jquery.instructure_misc_plugins */ \"aq8L\");\n/* harmony import */ var _canvas_loading_image__WEBPACK_IMPORTED_MODULE_7__ = __webpack_require__(/*! @canvas/loading-image */ \"lBOK\");\n/* harmony import */ var jquery_scroll_to_visible_jquery_scrollTo__WEBPACK_IMPORTED_MODULE_8__ = __webpack_require__(/*! jquery-scroll-to-visible/jquery.scrollTo */ \"w2hD\");\n/* harmony import */ var jqueryui_datepicker__WEBPACK_IMPORTED_MODULE_9__ = __webpack_require__(/*! jqueryui/datepicker */ \"pzFb\");\n/* harmony import */ var _canvas_easy_student_view__WEBPACK_IMPORTED_MODULE_10__ = __webpack_require__(/*! @canvas/easy-student-view */ \"B1bN\");\n/* harmony import */ var mathml__WEBPACK_IMPORTED_MODULE_11__ = __webpack_require__(/*! mathml */ \"ph9R\");\n/* harmony import */ var html_escape__WEBPACK_IMPORTED_MODULE_12__ = __webpack_require__(/*! html-escape */ \"gI0r\");\n\n//\n// Copyright (C) 2013 - present Instructure, Inc.\n//\n// This file is part of Canvas.\n//\n// Canvas is free software: you can redistribute it and/or modify it under\n// the terms of the GNU Affero General Public License as published by the Free\n// Software Foundation, version 3 of the License.\n//\n// Canvas is distributed in the hope that it will be useful, but WITHOUT ANY\n// WARRANTY; without even the implied warranty of MERCHANTABILITY or FITNESS FOR\n// A PARTICULAR PURPOSE. See the GNU Affero General Public License for more\n// details.\n//\n// You should have received a copy of the GNU Affero General Public License along\n// with this program. If not, see <http://www.gnu.org/licenses/>.\n//\n\n // calendarMonths\n\n\n // dateString, datepicker\n\n // formSubmit, formErrors\n\n // ifExists, showIf\n\n\n\n\n\n\n\n_canvas_rce_RichContentEditor__WEBPACK_IMPORTED_MODULE_3__[\"default\"].preloadRemoteModule(); // Highlight mini calendar days matching syllabus events\n//    Queries the syllabus event list and highlights the\n//    corresponding mini calendar dates.\n\nfunction highlightDaysWithEvents() {\n  const $mini_month = jquery__WEBPACK_IMPORTED_MODULE_1___default()('.mini_month');\n  const $syllabus = jquery__WEBPACK_IMPORTED_MODULE_1___default()('#syllabus');\n  if (!$mini_month || !$syllabus) return;\n  let events = $mini_month.find('.day.has_event');\n  events.removeClass('has_event');\n  let wrapper = events.find('.day_wrapper');\n  wrapper.removeAttr('role');\n  wrapper.removeAttr('tabindex');\n  $syllabus.find('tr.date:visible').each(function () {\n    const date = jquery__WEBPACK_IMPORTED_MODULE_1___default()(this).find('.day_date').attr('data-date');\n    events = $mini_month.find(`#mini_day_${date}`);\n    events.addClass('has_event');\n    wrapper = events.find('.day_wrapper');\n    wrapper.attr('role', 'link');\n    wrapper.attr('tabindex', '0');\n  });\n} // Sets highlighting on a given date\n//    Removes all highlighting then highlights the given\n//    date, if provided.\n\n\nfunction highlightDate(date) {\n  const $mini_month = jquery__WEBPACK_IMPORTED_MODULE_1___default()('.mini_month');\n  const $syllabus = jquery__WEBPACK_IMPORTED_MODULE_1___default()('#syllabus');\n  jquery__WEBPACK_IMPORTED_MODULE_1___default()('tr.date.related, .day.related').removeClass('related');\n\n  if (date) {\n    if ($mini_month) $mini_month.find(`#mini_day_${date}`).addClass('related');\n    if ($syllabus) $syllabus.find(`tr.date.events_${date}`).addClass('related');\n  }\n}\n\nfunction highlightRelated(related_id, self) {\n  const $syllabus = jquery__WEBPACK_IMPORTED_MODULE_1___default()('#syllabus');\n  $syllabus.find('tr.related_event').removeClass('related_event');\n\n  if (related_id && $syllabus) {\n    $syllabus.find(`tr.related-${related_id}`).not(self).addClass('related_event');\n  }\n} // Binds to #syllabus dom events\n//    Called to bind behaviors to #syllabus after it's rendered.\n\n\nfunction bindToSyllabus() {\n  const $syllabus = jquery__WEBPACK_IMPORTED_MODULE_1___default()('#syllabus');\n  $syllabus.on('mouseenter mouseleave', 'tr.date', function (ev) {\n    let date;\n    if (ev.type === 'mouseenter') date = jquery__WEBPACK_IMPORTED_MODULE_1___default()(this).find('.day_date').attr('data-date');\n    highlightDate(date);\n  });\n  $syllabus.on('mouseenter mouseleave', 'tr.date.detail_list', function (ev) {\n    let related_id = null;\n\n    if (ev.type === 'mouseenter') {\n      const classNames = (jquery__WEBPACK_IMPORTED_MODULE_1___default()(this).attr('class') || '').split(/\\s+/);\n      classNames.some(c => {\n        if (c.substr(0, 8) === 'related-') {\n          return related_id = c.substr(8);\n        }\n      });\n    }\n\n    highlightRelated(related_id, this);\n  });\n  highlightDaysWithEvents();\n  const todayString = jquery__WEBPACK_IMPORTED_MODULE_1___default.a.datepicker.formatDate('yy_mm_dd', new Date());\n  highlightDate(todayString);\n}\n\nfunction selectRow($row) {\n  if ($row.length > 0) {\n    jquery__WEBPACK_IMPORTED_MODULE_1___default()('tr.selected').removeClass('selected');\n    $row.addClass('selected');\n    jquery__WEBPACK_IMPORTED_MODULE_1___default()('html, body').scrollTo($row);\n    $row.find('a').first().focus();\n  }\n}\n\nfunction selectDate(date) {\n  jquery__WEBPACK_IMPORTED_MODULE_1___default()('.mini_month .day.selected').removeClass('selected');\n  jquery__WEBPACK_IMPORTED_MODULE_1___default()('.mini_month').find(`#mini_day_${date}`).addClass('selected');\n} // Binds to mini calendar dom events\n\n\nfunction bindToMiniCalendar() {\n  const $mini_month = jquery__WEBPACK_IMPORTED_MODULE_1___default()('.mini_month');\n  const prev_next_links = $mini_month.find('.next_month_link, .prev_month_link');\n  prev_next_links.on('click', function (ev) {\n    ev.preventDefault();\n    Object(_jquery_calendar_move__WEBPACK_IMPORTED_MODULE_2__[\"changeMonth\"])($mini_month, jquery__WEBPACK_IMPORTED_MODULE_1___default()(this).hasClass('next_month_link') ? 1 : -1);\n    highlightDaysWithEvents();\n  });\n\n  const miniCalendarDayClick = function (ev) {\n    ev.preventDefault();\n    const date = jquery__WEBPACK_IMPORTED_MODULE_1___default()(ev.target).closest('.mini_calendar_day')[0].id.slice(9);\n\n    const _Array$from = Array.from(date.split('_')),\n          _Array$from2 = Object(_babel_runtime_helpers_esm_slicedToArray__WEBPACK_IMPORTED_MODULE_0__[\"default\"])(_Array$from, 3),\n          year = _Array$from2[0],\n          month = _Array$from2[1],\n          day = _Array$from2[2];\n\n    Object(_jquery_calendar_move__WEBPACK_IMPORTED_MODULE_2__[\"changeMonth\"])($mini_month, `${month}/${day}/${year}`);\n    highlightDaysWithEvents();\n    selectDate(date);\n    jquery__WEBPACK_IMPORTED_MODULE_1___default()(`.events_${date}`).ifExists($events => setTimeout(() => selectRow($events), 0)); // focus race condition hack. why do you do this to me, IE?\n  };\n\n  $mini_month.on('keypress', '.day_wrapper', ev => {\n    if (ev.which === 13 || ev.which === 32) miniCalendarDayClick(ev);\n  });\n  $mini_month.on('click', '.day_wrapper', miniCalendarDayClick);\n  $mini_month.on('focus blur mouseover mouseout', '.day_wrapper', ev => {\n    let date;\n\n    if (ev.type !== 'mouseout' && ev.type !== 'blur') {\n      date = jquery__WEBPACK_IMPORTED_MODULE_1___default()(ev.target).closest('.mini_calendar_day')[0].id.slice(9);\n    }\n\n    highlightDate(date);\n  });\n  jquery__WEBPACK_IMPORTED_MODULE_1___default()('.jump_to_today_link').on('click', ev => {\n    ev.preventDefault();\n    const todayString = jquery__WEBPACK_IMPORTED_MODULE_1___default.a.datepicker.formatDate('yy_mm_dd', new Date());\n    let $lastBefore;\n    jquery__WEBPACK_IMPORTED_MODULE_1___default()('tr.date').each(function () {\n      const dateString = jquery__WEBPACK_IMPORTED_MODULE_1___default()(this).find('.day_date').attr('data-date');\n\n      if (dateString) {\n        if (dateString > todayString) return false;\n        $lastBefore = dateString;\n      }\n    });\n    Object(_jquery_calendar_move__WEBPACK_IMPORTED_MODULE_2__[\"changeMonth\"])($mini_month, jquery__WEBPACK_IMPORTED_MODULE_1___default.a.datepicker.formatDate('mm/dd/yy', new Date()));\n    highlightDaysWithEvents();\n    if (!$lastBefore) $lastBefore = jquery__WEBPACK_IMPORTED_MODULE_1___default()('tr.date:first');\n    selectDate(todayString);\n    selectRow(jquery__WEBPACK_IMPORTED_MODULE_1___default()(Object(html_escape__WEBPACK_IMPORTED_MODULE_12__[\"default\"])(`tr.date.events_${$lastBefore}`)));\n  });\n} // Binds to edit syllabus dom events\n\n\nconst bindToEditSyllabus = function (course_summary_enabled) {\n  const $course_syllabus = jquery__WEBPACK_IMPORTED_MODULE_1___default()('#course_syllabus');\n  $course_syllabus.data('syllabus_body', ENV.SYLLABUS_BODY);\n  const $edit_syllabus_link = jquery__WEBPACK_IMPORTED_MODULE_1___default()('.edit_syllabus_link'); // if there's no edit link, don't need to (and shouldn't) do the rest of\n  // this. the edit link is included on the page if and only if the user has\n  // :manage_content permission on the course (see assignments'\n  // syllabus_right_side view)\n\n  if (!$edit_syllabus_link.length) return;\n\n  function resetToggleLinks() {\n    jquery__WEBPACK_IMPORTED_MODULE_1___default()('.toggle_html_editor_link').show();\n    jquery__WEBPACK_IMPORTED_MODULE_1___default()('.toggle_rich_editor_link').hide();\n  }\n\n  const $edit_course_syllabus_form = jquery__WEBPACK_IMPORTED_MODULE_1___default()('#edit_course_syllabus_form');\n  let $course_syllabus_body = jquery__WEBPACK_IMPORTED_MODULE_1___default()('#course_syllabus_body');\n  const $course_syllabus_details = jquery__WEBPACK_IMPORTED_MODULE_1___default()('#course_syllabus_details');\n  $edit_course_syllabus_form.on('edit', () => {\n    $edit_course_syllabus_form.show();\n    $edit_syllabus_link.hide();\n    $course_syllabus.hide();\n    $course_syllabus_details.hide();\n    _canvas_easy_student_view__WEBPACK_IMPORTED_MODULE_10__[\"default\"].hide();\n    $course_syllabus_body = _canvas_rce_RichContentEditor__WEBPACK_IMPORTED_MODULE_3__[\"default\"].freshNode($course_syllabus_body);\n    $course_syllabus_body.val($course_syllabus.data('syllabus_body'));\n    _canvas_rce_RichContentEditor__WEBPACK_IMPORTED_MODULE_3__[\"default\"].loadNewEditor($course_syllabus_body, {\n      focus: true,\n      manageParent: true\n    });\n    jquery__WEBPACK_IMPORTED_MODULE_1___default()('.jump_to_today_link').focus();\n  }); // a11y: Set focus so it doesn't get lost.\n\n  function recreateCourseSyllabusBody() {\n    jquery__WEBPACK_IMPORTED_MODULE_1___default()('#tinymce-parent-of-course_syllabus_body').append($course_syllabus_body);\n  }\n\n  $edit_course_syllabus_form.on('hide_edit', () => {\n    $edit_course_syllabus_form.hide();\n    $edit_syllabus_link.show();\n    $course_syllabus.show();\n    _canvas_easy_student_view__WEBPACK_IMPORTED_MODULE_10__[\"default\"].show();\n    const text = jquery__WEBPACK_IMPORTED_MODULE_1___default.a.trim($course_syllabus.html());\n    $course_syllabus_details.showIf(!text);\n    _canvas_rce_RichContentEditor__WEBPACK_IMPORTED_MODULE_3__[\"default\"].destroyRCE($course_syllabus_body);\n    recreateCourseSyllabusBody();\n    resetToggleLinks();\n    $edit_syllabus_link.focus();\n  });\n  $edit_syllabus_link.on('click', ev => {\n    ev.preventDefault();\n    $edit_course_syllabus_form.triggerHandler('edit');\n  });\n  $edit_course_syllabus_form.on('click', '.toggle_views_link', ev => {\n    ev.preventDefault();\n    _canvas_rce_RichContentEditor__WEBPACK_IMPORTED_MODULE_3__[\"default\"].callOnRCE($course_syllabus_body, 'toggle'); // hide the clicked link, and show the other toggle link.\n    // todo: replace .andSelf with .addBack when JQuery is upgraded.\n\n    jquery__WEBPACK_IMPORTED_MODULE_1___default()(ev.currentTarget).siblings('.toggle_views_link').andSelf().toggle().focus();\n  });\n  $edit_course_syllabus_form.on('click', '.cancel_button', ev => {\n    ev.preventDefault();\n    _canvas_rce_RichContentEditor__WEBPACK_IMPORTED_MODULE_3__[\"default\"].closeRCE($course_syllabus_body);\n    $edit_course_syllabus_form.triggerHandler('hide_edit');\n  });\n  return $edit_course_syllabus_form.formSubmit({\n    object_name: 'course',\n\n    processData(data) {\n      _canvas_rce_RichContentEditor__WEBPACK_IMPORTED_MODULE_3__[\"default\"].closeRCE($course_syllabus_body); // I'd like to wait until success, but by then the RCE is gone\n\n      const syllabus_body = _canvas_rce_RichContentEditor__WEBPACK_IMPORTED_MODULE_3__[\"default\"].callOnRCE($course_syllabus_body, 'get_code');\n      data['course[syllabus_body]'] = syllabus_body;\n      return data;\n    },\n\n    beforeSubmit(data) {\n      $edit_course_syllabus_form.triggerHandler('hide_edit');\n      $course_syllabus_details.hide();\n      $course_syllabus.loadingImage();\n    },\n\n    success(data) {\n      if (data.course.settings.syllabus_course_summary !== course_summary_enabled) {\n        return window.location.reload();\n      }\n      /*\n      xsslint safeString.property syllabus_body\n      */\n\n\n      $course_syllabus.loadingImage('remove').html(data.course.syllabus_body);\n      $course_syllabus.data('syllabus_body', data.course.syllabus_body);\n      $course_syllabus_details.hide();\n\n      if (!ENV.FEATURES.new_math_equation_handling) {\n        if (mathml__WEBPACK_IMPORTED_MODULE_11__[\"default\"].isMathMLOnPage()) {\n          if (mathml__WEBPACK_IMPORTED_MODULE_11__[\"default\"].isMathJaxLoaded()) {\n            mathml__WEBPACK_IMPORTED_MODULE_11__[\"default\"].reloadElement('content');\n          } else {\n            mathml__WEBPACK_IMPORTED_MODULE_11__[\"default\"].loadMathJax(void 0);\n          }\n        }\n      }\n    },\n\n    error(data) {\n      return $edit_course_syllabus_form.triggerHandler('edit').formErrors(data);\n    }\n\n  });\n};\n\n/* harmony default export */ __webpack_exports__[\"default\"] = ({\n  bindToEditSyllabus,\n  bindToMiniCalendar,\n  bindToSyllabus\n});\n\n//# sourceURL=webpack:///./ui/shared/syllabus/backbone/behaviors/SyllabusBehaviors.js?");

/***/ })

}]);