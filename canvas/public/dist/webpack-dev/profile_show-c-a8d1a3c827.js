(window["canvasWebpackJsonp"] = window["canvasWebpackJsonp"] || []).push([["profile_show"],{

/***/ "+hG6":
/*!*****************************************************************!*\
  !*** ./node_modules/@instructure/react-crop/dist/react-crop.js ***!
  \*****************************************************************/
/*! no static exports found */
/***/ (function(module, exports, __webpack_require__) {

eval("!function(t,e){if(true)module.exports=e(__webpack_require__(/*! react */ \"q1tI\"),__webpack_require__(/*! prop-types */ \"17x9\"),__webpack_require__(/*! data-uri-to-blob */ \"PIgI\"));else { var o, n; }}(window,function(t,e,n){return function(t){var e={};function n(o){if(e[o])return e[o].exports;var r=e[o]={i:o,l:!1,exports:{}};return t[o].call(r.exports,r,r.exports,n),r.l=!0,r.exports}return n.m=t,n.c=e,n.d=function(t,e,o){n.o(t,e)||Object.defineProperty(t,e,{enumerable:!0,get:o})},n.r=function(t){\"undefined\"!=typeof Symbol&&Symbol.toStringTag&&Object.defineProperty(t,Symbol.toStringTag,{value:\"Module\"}),Object.defineProperty(t,\"__esModule\",{value:!0})},n.t=function(t,e){if(1&e&&(t=n(t)),8&e)return t;if(4&e&&\"object\"==typeof t&&t&&t.__esModule)return t;var o=Object.create(null);if(n.r(o),Object.defineProperty(o,\"default\",{enumerable:!0,value:t}),2&e&&\"string\"!=typeof t)for(var r in t)n.d(o,r,function(e){return t[e]}.bind(null,r));return o},n.n=function(t){var e=t&&t.__esModule?function(){return t.default}:function(){return t};return n.d(e,\"a\",e),e},n.o=function(t,e){return Object.prototype.hasOwnProperty.call(t,e)},n.p=\"\",n(n.s=8)}([function(e,n){e.exports=t},function(t,n){t.exports=e},function(t,e){t.exports=n},function(t,e,n){var o=n(4);\"string\"==typeof o&&(o=[[t.i,o,\"\"]]);var r={hmr:!0,transform:void 0,insertInto:void 0};n(6)(o,r);o.locals&&(t.exports=o.locals)},function(t,e,n){(t.exports=n(5)(!1)).push([t.i,\".Cropper {\\n  position: relative;\\n  display: inline-block;\\n  max-width:100%;\\n  max-height:100%;\\n}\\n\\n.box {\\n  position: absolute;\\n  top: 0;\\n  left: 0;\\n  bottom: 0;\\n  right: 0;\\n}\\n\\n.Cropper-box {\\n  position: absolute;\\n  top: 0;\\n  left: 0;\\n  bottom: 0;\\n  right: 0;\\n  cursor: move;\\n  border: #fff solid 1px;\\n}\\n\\n.Cropper-canvas {\\n  visibility: hidden;\\n  position: absolute;\\n}\\n\\n.Cropper-image {\\n  vertical-align: middle;\\n  max-width: 100%;\\n  position: relative;\\n  transform: translate(-50%, -50%);\\n  left: 50%;\\n}\\n\\n.resize-handle {\\n  position: absolute;\\n  background-color: #ECEEEF;\\n  border: #8295AB solid 1px;\\n  width: 13px;\\n  height: 13px;\\n  z-index: 1;\\n}\\n\\n.resize-handle-se {\\n  bottom: 0;\\n  right: 0;\\n  cursor: nwse-resize;\\n  transform: translate(50%, 50%);\\n}\\n.resize-handle-ne {\\n  right: 0;\\n  top: 0;\\n  cursor: nesw-resize;\\n  transform: translate(50%, -50%);\\n}\\n.resize-handle-sw {\\n  bottom: 0;\\n  left: 0;\\n  cursor: nesw-resize;\\n  transform: translate(-50%, 50%);\\n}\\n.resize-handle-nw {\\n  top: 0;\\n  bottom: 0;\\n  cursor: nwse-resize;\\n  transform: translate(-50%, -50%);\\n}\\n\\n.DraggableResizable {\\n  position: relative;\\n  width: 100%;\\n  height: 100%;\\n}\\n\\n.DraggableResizable-controls {\\n  border: 0;\\n  clip: rect(0 0 0 0);\\n  height: 1px;\\n  margin: -1px;\\n  overflow: hidden;\\n  padding: 0;\\n  position: absolute;\\n  width: 1px;\\n}\\n\\n.DraggableResizable-top,\\n.DraggableResizable-left,\\n.DraggableResizable-bottom,\\n.DraggableResizable-right {\\n  position: absolute;\\n  background-color: rgba(0,0,0,.7);\\n}\\n\\n.DraggableResizable-top {\\n  top: 0;\\n  left: 0;\\n  right: 0;\\n}\\n.DraggableResizable-bottom {\\n  bottom: 0;\\n  left: 0;\\n  right: 0;\\n}\\n.DraggableResizable-left {\\n  left: 0;\\n}\\n.DraggableResizable-right {\\n  right: 0;\\n}\\n\",\"\"])},function(t,e){t.exports=function(t){var e=[];return e.toString=function(){return this.map(function(e){var n=function(t,e){var n=t[1]||\"\",o=t[3];if(!o)return n;if(e&&\"function\"==typeof btoa){var r=function(t){return\"/*# sourceMappingURL=data:application/json;charset=utf-8;base64,\"+btoa(unescape(encodeURIComponent(JSON.stringify(t))))+\" */\"}(o),i=o.sources.map(function(t){return\"/*# sourceURL=\"+o.sourceRoot+t+\" */\"});return[n].concat(i).concat([r]).join(\"\\n\")}return[n].join(\"\\n\")}(e,t);return e[2]?\"@media \"+e[2]+\"{\"+n+\"}\":n}).join(\"\")},e.i=function(t,n){\"string\"==typeof t&&(t=[[null,t,\"\"]]);for(var o={},r=0;r<this.length;r++){var i=this[r][0];\"number\"==typeof i&&(o[i]=!0)}for(r=0;r<t.length;r++){var a=t[r];\"number\"==typeof a[0]&&o[a[0]]||(n&&!a[2]?a[2]=n:n&&(a[2]=\"(\"+a[2]+\") and (\"+n+\")\"),e.push(a))}},e}},function(t,e,n){var o={},r=function(t){var e;return function(){return void 0===e&&(e=t.apply(this,arguments)),e}}(function(){return window&&document&&document.all&&!window.atob}),i=function(t){var e={};return function(t,n){if(\"function\"==typeof t)return t();if(void 0===e[t]){var o=function(t,e){return e?e.querySelector(t):document.querySelector(t)}.call(this,t,n);if(window.HTMLIFrameElement&&o instanceof window.HTMLIFrameElement)try{o=o.contentDocument.head}catch(t){o=null}e[t]=o}return e[t]}}(),a=null,s=0,l=[],u=n(7);function c(t,e){for(var n=0;n<t.length;n++){var r=t[n],i=o[r.id];if(i){i.refs++;for(var a=0;a<i.parts.length;a++)i.parts[a](r.parts[a]);for(;a<r.parts.length;a++)i.parts.push(m(r.parts[a],e))}else{var s=[];for(a=0;a<r.parts.length;a++)s.push(m(r.parts[a],e));o[r.id]={id:r.id,refs:1,parts:s}}}}function p(t,e){for(var n=[],o={},r=0;r<t.length;r++){var i=t[r],a=e.base?i[0]+e.base:i[0],s={css:i[1],media:i[2],sourceMap:i[3]};o[a]?o[a].parts.push(s):n.push(o[a]={id:a,parts:[s]})}return n}function h(t,e){var n=i(t.insertInto);if(!n)throw new Error(\"Couldn't find a style target. This probably means that the value for the 'insertInto' parameter is invalid.\");var o=l[l.length-1];if(\"top\"===t.insertAt)o?o.nextSibling?n.insertBefore(e,o.nextSibling):n.appendChild(e):n.insertBefore(e,n.firstChild),l.push(e);else if(\"bottom\"===t.insertAt)n.appendChild(e);else{if(\"object\"!=typeof t.insertAt||!t.insertAt.before)throw new Error(\"[Style Loader]\\n\\n Invalid value for parameter 'insertAt' ('options.insertAt') found.\\n Must be 'top', 'bottom', or Object.\\n (https://github.com/webpack-contrib/style-loader#insertat)\\n\");var r=i(t.insertAt.before,n);n.insertBefore(e,r)}}function f(t){if(null===t.parentNode)return!1;t.parentNode.removeChild(t);var e=l.indexOf(t);e>=0&&l.splice(e,1)}function d(t){var e=document.createElement(\"style\");if(void 0===t.attrs.type&&(t.attrs.type=\"text/css\"),void 0===t.attrs.nonce){var o=function(){0;return n.nc}();o&&(t.attrs.nonce=o)}return b(e,t.attrs),h(t,e),e}function b(t,e){Object.keys(e).forEach(function(n){t.setAttribute(n,e[n])})}function m(t,e){var n,o,r,i;if(e.transform&&t.css){if(!(i=e.transform(t.css)))return function(){};t.css=i}if(e.singleton){var l=s++;n=a||(a=d(e)),o=v.bind(null,n,l,!1),r=v.bind(null,n,l,!0)}else t.sourceMap&&\"function\"==typeof URL&&\"function\"==typeof URL.createObjectURL&&\"function\"==typeof URL.revokeObjectURL&&\"function\"==typeof Blob&&\"function\"==typeof btoa?(n=function(t){var e=document.createElement(\"link\");return void 0===t.attrs.type&&(t.attrs.type=\"text/css\"),t.attrs.rel=\"stylesheet\",b(e,t.attrs),h(t,e),e}(e),o=function(t,e,n){var o=n.css,r=n.sourceMap,i=void 0===e.convertToAbsoluteUrls&&r;(e.convertToAbsoluteUrls||i)&&(o=u(o));r&&(o+=\"\\n/*# sourceMappingURL=data:application/json;base64,\"+btoa(unescape(encodeURIComponent(JSON.stringify(r))))+\" */\");var a=new Blob([o],{type:\"text/css\"}),s=t.href;t.href=URL.createObjectURL(a),s&&URL.revokeObjectURL(s)}.bind(null,n,e),r=function(){f(n),n.href&&URL.revokeObjectURL(n.href)}):(n=d(e),o=function(t,e){var n=e.css,o=e.media;o&&t.setAttribute(\"media\",o);if(t.styleSheet)t.styleSheet.cssText=n;else{for(;t.firstChild;)t.removeChild(t.firstChild);t.appendChild(document.createTextNode(n))}}.bind(null,n),r=function(){f(n)});return o(t),function(e){if(e){if(e.css===t.css&&e.media===t.media&&e.sourceMap===t.sourceMap)return;o(t=e)}else r()}}t.exports=function(t,e){if(\"undefined\"!=typeof DEBUG&&DEBUG&&\"object\"!=typeof document)throw new Error(\"The style-loader cannot be used in a non-browser environment\");(e=e||{}).attrs=\"object\"==typeof e.attrs?e.attrs:{},e.singleton||\"boolean\"==typeof e.singleton||(e.singleton=r()),e.insertInto||(e.insertInto=\"head\"),e.insertAt||(e.insertAt=\"bottom\");var n=p(t,e);return c(n,e),function(t){for(var r=[],i=0;i<n.length;i++){var a=n[i];(s=o[a.id]).refs--,r.push(s)}t&&c(p(t,e),e);for(i=0;i<r.length;i++){var s;if(0===(s=r[i]).refs){for(var l=0;l<s.parts.length;l++)s.parts[l]();delete o[s.id]}}}};var g=function(){var t=[];return function(e,n){return t[e]=n,t.filter(Boolean).join(\"\\n\")}}();function v(t,e,n,o){var r=n?\"\":o.css;if(t.styleSheet)t.styleSheet.cssText=g(e,r);else{var i=document.createTextNode(r),a=t.childNodes;a[e]&&t.removeChild(a[e]),a.length?t.insertBefore(i,a[e]):t.appendChild(i)}}},function(t,e){t.exports=function(t){var e=\"undefined\"!=typeof window&&window.location;if(!e)throw new Error(\"fixUrls requires window.location\");if(!t||\"string\"!=typeof t)return t;var n=e.protocol+\"//\"+e.host,o=n+e.pathname.replace(/\\/[^\\/]*$/,\"/\");return t.replace(/url\\s*\\(((?:[^)(]|\\((?:[^)(]+|\\([^)(]*\\))*\\))*)\\)/gi,function(t,e){var r,i=e.trim().replace(/^\"(.*)\"$/,function(t,e){return e}).replace(/^'(.*)'$/,function(t,e){return e});return/^(#|data:|http:\\/\\/|https:\\/\\/|file:\\/\\/\\/|\\s*$)/i.test(i)?t:(r=0===i.indexOf(\"//\")?i:0===i.indexOf(\"/\")?n+i:o+i.replace(/^\\.\\//,\"\"),\"url(\"+JSON.stringify(r)+\")\")})}},function(t,e,n){\"use strict\";n.r(e);var o=n(1),r=n.n(o),i=n(0),a=n.n(i);function s(t){return(s=\"function\"==typeof Symbol&&\"symbol\"==typeof Symbol.iterator?function(t){return typeof t}:function(t){return t&&\"function\"==typeof Symbol&&t.constructor===Symbol&&t!==Symbol.prototype?\"symbol\":typeof t})(t)}function l(t,e){return function(t){if(Array.isArray(t))return t}(t)||function(t,e){var n=[],o=!0,r=!1,i=void 0;try{for(var a,s=t[Symbol.iterator]();!(o=(a=s.next()).done)&&(n.push(a.value),!e||n.length!==e);o=!0);}catch(t){r=!0,i=t}finally{try{o||null==s.return||s.return()}finally{if(r)throw i}}return n}(t,e)||function(){throw new TypeError(\"Invalid attempt to destructure non-iterable instance\")}()}function u(t,e){for(var n=0;n<e.length;n++){var o=e[n];o.enumerable=o.enumerable||!1,o.configurable=!0,\"value\"in o&&(o.writable=!0),Object.defineProperty(t,o.key,o)}}function c(t){return(c=Object.setPrototypeOf?Object.getPrototypeOf:function(t){return t.__proto__||Object.getPrototypeOf(t)})(t)}function p(t,e){return(p=Object.setPrototypeOf||function(t,e){return t.__proto__=e,t})(t,e)}function h(t){if(void 0===t)throw new ReferenceError(\"this hasn't been initialised - super() hasn't been called\");return t}function f(t,e,n){return e in t?Object.defineProperty(t,e,{value:n,enumerable:!0,configurable:!0,writable:!0}):t[e]=n,t}var d=function(t){function e(t,n){var o;!function(t,e){if(!(t instanceof e))throw new TypeError(\"Cannot call a class as a function\")}(this,e),f(h(h(o=function(t,e){return!e||\"object\"!==s(e)&&\"function\"!=typeof e?h(t):e}(this,c(e).call(this,t,n)))),\"calculateDimensions\",function(t){var e=t.top,n=t.left,r=t.bottom,i=t.right;return{width:o.props.width-n-i,height:o.props.height-e-r}}),f(h(h(o)),\"preserveAspectRatio\",function(t,e){o.props.minConstraints&&(t=Math.max(t,o.props.minConstraints[0]),e=Math.max(e,o.props.minConstraints[1]));var n=t/e;return n<o.props.aspectRatio?[t,t/o.props.aspectRatio]:n>o.props.aspectRatio?[e*o.props.aspectRatio,e]:[t,e]}),f(h(h(o)),\"constrainBoundary\",function(t){return t<0?0:t}),f(h(h(o)),\"getClientCoordinates\",function(t){return t.touches?{clientX:t.touches[0].clientX,clientY:t.touches[0].clientY}:{clientX:t.clientX,clientY:t.clientY}}),f(h(h(o)),\"eventMove\",function(t){o.state.resizing?o.onResize(t):o.state.moving&&o.eventMoveBox(t)}),f(h(h(o)),\"eventEnd\",function(t){o.state.resizing?o.stopResize(t):o.state.moving&&o.stopMove(t)}),f(h(h(o)),\"startResize\",function(t,e){e.stopPropagation(),e.preventDefault(),o.setState({resizing:!0,corner:t})}),f(h(h(o)),\"stopResize\",function(){o.setState({resizing:!1})}),f(h(h(o)),\"nw\",function(t,e){var n=Object.assign({},o.state,{top:o.constrainBoundary(t.clientY-e.top),left:o.constrainBoundary(t.clientX-e.left)}),r=o.calculateDimensions(n),i=l(o.preserveAspectRatio(r.width,r.height),2),a=i[0],s=i[1];return n.top=o.props.height-n.bottom-s,n.left=o.props.width-n.right-a,n}),f(h(h(o)),\"ne\",function(t,e){var n=Object.assign({},o.state,{top:o.constrainBoundary(t.clientY-e.top),right:o.constrainBoundary(e.right-t.clientX)}),r=o.calculateDimensions(n),i=l(o.preserveAspectRatio(r.width,r.height),2),a=i[0],s=i[1];return n.top=o.props.height-n.bottom-s,n.right=o.props.width-n.left-a,n}),f(h(h(o)),\"se\",function(t,e){var n=Object.assign({},o.state,{bottom:o.constrainBoundary(e.bottom-t.clientY),right:o.constrainBoundary(e.right-t.clientX)}),r=o.calculateDimensions(n),i=l(o.preserveAspectRatio(r.width,r.height),2),a=i[0],s=i[1];return n.bottom=o.props.height-n.top-s,n.right=o.props.width-n.left-a,n}),f(h(h(o)),\"sw\",function(t,e){var n=Object.assign({},o.state,{bottom:o.constrainBoundary(e.bottom-t.clientY),left:o.constrainBoundary(t.clientX-e.left)}),r=o.calculateDimensions(n),i=l(o.preserveAspectRatio(r.width,r.height),2),a=i[0],s=i[1];return n.bottom=o.props.height-n.top-s,n.left=o.props.width-n.right-a,n}),f(h(h(o)),\"onResize\",function(t){var e=o.box.parentElement.parentElement.getBoundingClientRect(),n=o.getClientCoordinates(t),r=o[o.state.corner](n,e);o.resize(r,n)}),f(h(h(o)),\"controlsResize\",function(t){var e=o.box.parentElement.parentElement.getBoundingClientRect(),n=\"width\"===t.target.name?+t.target.value:+t.target.value*o.props.aspectRatio,r=\"height\"===t.target.name?+t.target.value:+t.target.value/o.props.aspectRatio,i=o.preserveAspectRatio(n,r);if(n=i[0],r=i[1],!(n>e.width-o.state.left||r>e.height-o.state.top)){var a=o.state.width-n,s=o.state.height-r,l=Object.assign({},o.state,{right:o.state.right+a,bottom:o.state.bottom+s}),u={clientX:e.right-l.right,clientY:e.bottom-l.bottom};o.resize(l,u)}}),f(h(h(o)),\"resize\",function(t,e){var n=o.calculateDimensions(t),r=n.width!==o.state.width,i=n.height!==o.state.height;(r||i)&&o.setState(Object.assign({},e,t,n),function(){o.props.onChange({top:t.top,left:t.left},n)})}),f(h(h(o)),\"startMove\",function(t){var e=o.getClientCoordinates(t),n=e.clientX,r=e.clientY;o.setState({moving:!0,clientX:n,clientY:r})}),f(h(h(o)),\"stopMove\",function(t){o.setState({moving:!1})}),f(h(h(o)),\"eventMoveBox\",function(t){t.preventDefault();var e=o.getClientCoordinates(t),n=e.clientX,r=e.clientY,i=n-o.state.clientX,a=r-o.state.clientY;o.moveBox(n,r,i,a)}),f(h(h(o)),\"controlsMoveBox\",function(t){var e=\"x\"===t.target.name?t.target.value-o.state.left:0,n=\"y\"===t.target.name?t.target.value-o.state.top:0;o.moveBox(0,0,e,n)}),f(h(h(o)),\"moveBox\",function(t,e,n,r){var i={top:o.constrainBoundary(o.state.top+r),left:o.constrainBoundary(o.state.left+n),bottom:o.constrainBoundary(o.state.bottom-r),right:o.constrainBoundary(o.state.right-n)};i.top||(i.bottom=o.props.height-o.state.height),i.bottom||(i.top=o.props.height-o.state.height),i.left||(i.right=o.props.width-o.state.width),i.right||(i.left=o.props.width-o.state.width),o.setState(Object.assign({},{clientX:t,clientY:e},i),function(){o.props.onChange({top:i.top,left:i.left},o.calculateDimensions(i))})}),f(h(h(o)),\"keyboardResize\",function(t){if(!(o.state.right-t<0||o.state.bottom-t<0)){var e=l(o.preserveAspectRatio(o.state.width+t,o.state.height+t),2),n=e[0],r=e[1],i=n-o.state.width,a=r-o.state.height;o.setState({bottom:o.state.bottom-a,right:o.state.right-i,width:n,height:r})}}),f(h(h(o)),\"handleKey\",function(t){t.shiftKey?\"ArrowUp\"===t.key||38===t.keyCode?(o.keyboardResize(-10),t.preventDefault()):\"ArrowDown\"===t.key||40===t.keyCode?(o.keyboardResize(10),t.preventDefault()):\"ArrowLeft\"===t.key||37===t.keyCode?(o.keyboardResize(-10),t.preventDefault()):\"ArrowRight\"!==t.key&&39!==t.keyCode||(o.keyboardResize(10),t.preventDefault()):\"ArrowUp\"===t.key||38===t.keyCode?(o.moveBox(o.state.clientX,o.state.clientY,0,-10),t.preventDefault()):\"ArrowDown\"===t.key||40===t.keyCode?(o.moveBox(o.state.clientX,o.state.clientY,0,10),t.preventDefault()):\"ArrowLeft\"===t.key||37===t.keyCode?(o.moveBox(o.state.clientX,o.state.clientY,-10,0),t.preventDefault()):\"ArrowRight\"!==t.key&&39!==t.keyCode||(o.moveBox(o.state.clientX,o.state.clientY,10,0),t.preventDefault())});var r=l(o.preserveAspectRatio(t.width,t.height),2),i=r[0],a=r[1],u=(t.height-a)/2,p=(t.width-i)/2;return o.state={top:u,left:p,bottom:u,right:p,width:i,height:a},o}return function(t,e){if(\"function\"!=typeof e&&null!==e)throw new TypeError(\"Super expression must either be null or a function\");t.prototype=Object.create(e&&e.prototype,{constructor:{value:t,writable:!0,configurable:!0}}),e&&p(t,e)}(e,a.a.Component),function(t,e,n){e&&u(t.prototype,e),n&&u(t,n)}(e,[{key:\"componentDidMount\",value:function(){document.addEventListener(\"mousemove\",this.eventMove),document.addEventListener(\"mouseup\",this.eventEnd),document.addEventListener(\"touchmove\",this.eventMove),document.addEventListener(\"touchend\",this.eventEnd),document.addEventListener(\"keydown\",this.handleKey),this.props.onChange({top:this.state.top,left:this.state.left},{width:this.state.width,height:this.state.height})}},{key:\"componentWillUnmount\",value:function(){document.removeEventListener(\"mousemove\",this.eventMove),document.removeEventListener(\"mouseup\",this.eventEnd),document.removeEventListener(\"touchmove\",this.eventMove),document.removeEventListener(\"touchend\",this.eventEnd),document.removeEventListener(\"keydown\",this.handleKey)}},{key:\"render\",value:function(){var t=this,e={position:\"absolute\",top:this.state.top,left:this.state.left,right:this.state.right,bottom:this.state.bottom},n=this.calculateDimensions(this.state),o=n.width,r=n.height,i={height:this.state.top},s={height:this.state.bottom},l={top:this.state.top,right:o+this.state.right,bottom:this.state.bottom},u={top:this.state.top,left:o+this.state.left,bottom:this.state.bottom};return a.a.createElement(\"div\",{ref:function(e){return t.box=e},className:\"DraggableResizable\"},a.a.createElement(\"div\",{className:\"DraggableResizable-controls\"},a.a.createElement(\"label\",null,this.props.offsetXLabel,a.a.createElement(\"input\",{name:\"x\",value:Math.round(this.state.left),onChange:this.controlsMoveBox,tabIndex:\"-1\",type:\"number\"})),a.a.createElement(\"label\",null,this.props.offsetYLabel,a.a.createElement(\"input\",{name:\"y\",value:Math.round(this.state.top),onChange:this.controlsMoveBox,tabIndex:\"-1\",type:\"number\"})),a.a.createElement(\"label\",null,this.props.widthLabel,a.a.createElement(\"input\",{name:\"width\",value:Math.round(o),type:\"number\",tabIndex:\"-1\",onChange:this.controlsResize})),a.a.createElement(\"label\",null,this.props.heightLabel,a.a.createElement(\"input\",{value:Math.round(r),type:\"number\",name:\"height\",tabIndex:\"-1\",onChange:this.controlsResize}))),a.a.createElement(\"div\",{className:\"DraggableResizable-top\",style:i}),a.a.createElement(\"div\",{className:\"DraggableResizable-left\",style:l}),a.a.createElement(\"div\",{style:e,onMouseDown:this.startMove,onTouchStart:this.startMove},this.props.children,a.a.createElement(\"div\",{className:\"resize-handle resize-handle-se\",onMouseDown:this.startResize.bind(null,\"se\"),onTouchStart:this.startResize.bind(null,\"se\")}),a.a.createElement(\"div\",{className:\"resize-handle resize-handle-ne\",onMouseDown:this.startResize.bind(null,\"ne\"),onTouchStart:this.startResize.bind(null,\"ne\")}),a.a.createElement(\"div\",{className:\"resize-handle resize-handle-sw\",onMouseDown:this.startResize.bind(null,\"sw\"),onTouchStart:this.startResize.bind(null,\"sw\")}),a.a.createElement(\"div\",{className:\"resize-handle resize-handle-nw\",onMouseDown:this.startResize.bind(null,\"nw\"),onTouchStart:this.startResize.bind(null,\"nw\")})),a.a.createElement(\"div\",{className:\"DraggableResizable-right\",style:u}),a.a.createElement(\"div\",{className:\"DraggableResizable-bottom\",style:s}))}}]),e}();f(d,\"propTypes\",{aspectRatio:r.a.number.isRequired,width:r.a.number.isRequired,height:r.a.number.isRequired,onChange:r.a.func,offset:r.a.array,minConstraints:r.a.array,children:r.a.node,widthLabel:r.a.string,heightLabel:r.a.string,offsetXLabel:r.a.string,offsetYLabel:r.a.string}),f(d,\"defaultProps\",{widthLabel:\"Width\",heightLabel:\"Height\",offsetXLabel:\"Offset X\",offsetYLabel:\"Offset Y\"});var b=n(2),m=n.n(b);n(3);function g(t){return(g=\"function\"==typeof Symbol&&\"symbol\"==typeof Symbol.iterator?function(t){return typeof t}:function(t){return t&&\"function\"==typeof Symbol&&t.constructor===Symbol&&t!==Symbol.prototype?\"symbol\":typeof t})(t)}function v(t,e){for(var n=0;n<e.length;n++){var o=e[n];o.enumerable=o.enumerable||!1,o.configurable=!0,\"value\"in o&&(o.writable=!0),Object.defineProperty(t,o.key,o)}}function y(t){return(y=Object.setPrototypeOf?Object.getPrototypeOf:function(t){return t.__proto__||Object.getPrototypeOf(t)})(t)}function w(t,e){return(w=Object.setPrototypeOf||function(t,e){return t.__proto__=e,t})(t,e)}function R(t){if(void 0===t)throw new ReferenceError(\"this hasn't been initialised - super() hasn't been called\");return t}function x(t,e,n){return e in t?Object.defineProperty(t,e,{value:n,enumerable:!0,configurable:!0,writable:!0}):t[e]=n,t}n.d(e,\"default\",function(){return L});var L=function(t){function e(){var t,n;!function(t,e){if(!(t instanceof e))throw new TypeError(\"Cannot call a class as a function\")}(this,e);for(var o=arguments.length,r=new Array(o),i=0;i<o;i++)r[i]=arguments[i];return x(R(R(n=function(t,e){return!e||\"object\"!==g(e)&&\"function\"!=typeof e?R(t):e}(this,(t=y(e)).call.apply(t,[this].concat(r))))),\"state\",{imageLoaded:!1,width:n.props.width,height:n.props.height,url:window.URL.createObjectURL(n.props.image)}),x(R(R(n)),\"onLoad\",function(t){var e=n.box.getBoundingClientRect();n.setState({imageLoaded:!0,width:e.width,height:e.height},function(){var t=n.image;n.props.onImageLoaded&&n.props.onImageLoaded(t)})}),x(R(R(n)),\"cropImage\",function(){return new Promise(function(t,e){var o=new Image;o.onload=function(){var e=n.canvas,o=n.image,r=e.getContext(\"2d\"),i=o.naturalWidth/n.state.width,a=o.naturalHeight/n.state.height,s=i<1?0:n.state.offset.left*i,l=a<1?0:n.state.offset.top*a,u=i<1?o.naturalWidth:n.state.dimensions.width*i,c=a<1?o.naturalHeight:n.state.dimensions.height*a,p=i<1?Math.floor((n.state.dimensions.width-o.naturalWidth)/2):0,h=a<1?Math.floor((n.state.dimensions.height-o.naturalHeight)/2):0,f=i<1?o.naturalWidth:n.props.width,d=a<1?o.naturalHeight:n.props.height;r.clearRect(0,0,n.props.width,n.props.height),r.drawImage(o,s,l,u,c,p,h,f,d),t(m()(e.toDataURL()))},o.src=window.URL.createObjectURL(n.props.image)})}),x(R(R(n)),\"onChange\",function(t,e){n.setState({offset:t,dimensions:e})}),n}return function(t,e){if(\"function\"!=typeof e&&null!==e)throw new TypeError(\"Super expression must either be null or a function\");t.prototype=Object.create(e&&e.prototype,{constructor:{value:t,writable:!0,configurable:!0}}),e&&w(t,e)}(e,a.a.Component),function(t,e,n){e&&v(t.prototype,e),n&&v(t,n)}(e,[{key:\"componentWillReceiveProps\",value:function(t){this.props.image!==t.image&&this.setState({url:window.URL.createObjectURL(t.image),imageLoaded:!1})}},{key:\"shouldComponentUpdate\",value:function(t,e){var n=this.props.image;return t.image.size!==n.size||t.image.name!==n.name||t.image.type!==n.type||e.imageLoaded!==this.state.imageLoaded}},{key:\"render\",value:function(){var t=this;return a.a.createElement(\"div\",{ref:function(e){return t.box=e},className:\"Cropper\",style:{minWidth:this.props.width,minHeight:this.props.height}},a.a.createElement(\"canvas\",{className:\"Cropper-canvas\",ref:function(e){return t.canvas=e},width:this.props.width,height:this.props.height}),a.a.createElement(\"img\",{ref:function(e){return t.image=e},src:this.state.url,className:\"Cropper-image\",onLoad:this.onLoad,style:{top:this.state.height/2}}),this.state.imageLoaded&&a.a.createElement(\"div\",{className:\"box\"},a.a.createElement(d,{aspectRatio:this.props.width/this.props.height,width:this.state.width,height:this.state.height,minConstraints:this.props.minConstraints,onChange:this.onChange,widthLabel:this.props.widthLabel,heightLabel:this.props.heightLabel,offsetXLabel:this.props.offsetXLabel,offsetYLabel:this.props.offsetYLabel},a.a.createElement(\"div\",{className:\"Cropper-box\"}))))}}]),e}();x(L,\"propTypes\",{width:r.a.number.isRequired,height:r.a.number.isRequired,center:r.a.bool,image:r.a.any,widthLabel:r.a.string,heightLabel:r.a.string,offsetXLabel:r.a.string,offsetYLabel:r.a.string,onImageLoaded:r.a.func,minConstraints:r.a.arrayOf(r.a.number)}),x(L,\"defaultProps\",{center:!1,width:\"Width\",height:\"Height\",offsetXLabel:\"Offset X\",offsetYLabel:\"Offset Y\"})}])});\n\n//# sourceURL=webpack:///./node_modules/@instructure/react-crop/dist/react-crop.js?");

/***/ }),

/***/ "0NOZ":
/*!******************************************************!*\
  !*** ./ui/shared/avatar-dialog-view/AvatarWidget.js ***!
  \******************************************************/
/*! exports provided: default */
/***/ (function(module, __webpack_exports__, __webpack_require__) {

"use strict";
eval("__webpack_require__.r(__webpack_exports__);\n/* harmony export (binding) */ __webpack_require__.d(__webpack_exports__, \"default\", function() { return AvatarWidget; });\n/* harmony import */ var jquery__WEBPACK_IMPORTED_MODULE_0__ = __webpack_require__(/*! jquery */ \"ouhR\");\n/* harmony import */ var jquery__WEBPACK_IMPORTED_MODULE_0___default = /*#__PURE__*/__webpack_require__.n(jquery__WEBPACK_IMPORTED_MODULE_0__);\n/* harmony import */ var _backbone_views_AvatarDialogView__WEBPACK_IMPORTED_MODULE_1__ = __webpack_require__(/*! ./backbone/views/AvatarDialogView */ \"IvSP\");\n//\n// Copyright (C) 2013 - present Instructure, Inc.\n//\n// This file is part of Canvas.\n//\n// Canvas is free software: you can redistribute it and/or modify it under\n// the terms of the GNU Affero General Public License as published by the Free\n// Software Foundation, version 3 of the License.\n//\n// Canvas is distributed in the hope that it will be useful, but WITHOUT ANY\n// WARRANTY; without even the implied warranty of MERCHANTABILITY or FITNESS FOR\n// A PARTICULAR PURPOSE. See the GNU Affero General Public License for more\n// details.\n//\n// You should have received a copy of the GNU Affero General Public License along\n// with this program. If not, see <http://www.gnu.org/licenses/>.\n//\n// On click of the given element, display the profile picture picker dialog.\n\n\nclass AvatarWidget {\n  constructor(el) {\n    this._openAvatarDialog = e => {\n      if (e != null) {\n        e.preventDefault();\n      }\n\n      if (!this.avatarDialog) {\n        this.avatarDialog = new _backbone_views_AvatarDialogView__WEBPACK_IMPORTED_MODULE_1__[\"default\"]();\n      }\n\n      return this.avatarDialog.show();\n    };\n\n    this.$el = jquery__WEBPACK_IMPORTED_MODULE_0___default()(el);\n\n    this._attachEvents();\n  } // Internal: Add click event to @$el to open widget.\n  //\n  // Returns nothing.\n\n\n  _attachEvents() {\n    return this.$el.on('click', this._openAvatarDialog);\n  } // Internal: Attempt to open the avatar widget.\n  //\n  // e - Event object.\n  //\n  // Returns nothing.\n\n\n}\n\n//# sourceURL=webpack:///./ui/shared/avatar-dialog-view/AvatarWidget.js?");

/***/ }),

/***/ "3UsQ":
/*!*****************************************************************************!*\
  !*** ./frontend_build/i18n.js?user_profile!./ui/shims/dummyI18nResource.js ***!
  \*****************************************************************************/
/*! exports provided: default */
/***/ (function(module, __webpack_exports__, __webpack_require__) {

"use strict";
eval("__webpack_require__.r(__webpack_exports__);\n/* harmony import */ var _canvas_i18n_i18nObj__WEBPACK_IMPORTED_MODULE_0__ = __webpack_require__(/*! @canvas/i18n/i18nObj */ \"HGxv\");\n/* harmony import */ var translations_core_en__WEBPACK_IMPORTED_MODULE_1__ = __webpack_require__(/*! translations/_core_en */ \"0sPK\");\n\n    \n    \n    \n\n    /* harmony default export */ __webpack_exports__[\"default\"] = (_canvas_i18n_i18nObj__WEBPACK_IMPORTED_MODULE_0__[\"default\"].scoped('user_profile'));\n  \n\n//# sourceURL=webpack:///./ui/shims/dummyI18nResource.js?./frontend_build/i18n.js?user_profile");

/***/ }),

/***/ "9b7U":
/*!******************************************************************************************!*\
  !*** ./frontend_build/i18n.js?profiles.upload_file_view!./ui/shims/dummyI18nResource.js ***!
  \******************************************************************************************/
/*! exports provided: default */
/***/ (function(module, __webpack_exports__, __webpack_require__) {

"use strict";
eval("__webpack_require__.r(__webpack_exports__);\n/* harmony import */ var _canvas_i18n_i18nObj__WEBPACK_IMPORTED_MODULE_0__ = __webpack_require__(/*! @canvas/i18n/i18nObj */ \"HGxv\");\n/* harmony import */ var translations_core_en__WEBPACK_IMPORTED_MODULE_1__ = __webpack_require__(/*! translations/_core_en */ \"0sPK\");\n\n    \n    \n    \n\n    /* harmony default export */ __webpack_exports__[\"default\"] = (_canvas_i18n_i18nObj__WEBPACK_IMPORTED_MODULE_0__[\"default\"].scoped('profiles.upload_file_view'));\n  \n\n//# sourceURL=webpack:///./ui/shims/dummyI18nResource.js?./frontend_build/i18n.js?profiles.upload_file_view");

/***/ }),

/***/ "A0G5":
/*!************************************************************!*\
  !*** ./ui/features/profile_show/jst/addLinkRow.handlebars ***!
  \************************************************************/
/*! exports provided: default */
/***/ (function(module, __webpack_exports__, __webpack_require__) {

"use strict";
eval("__webpack_require__.r(__webpack_exports__);\n/* harmony import */ var handlebars_runtime__WEBPACK_IMPORTED_MODULE_0__ = __webpack_require__(/*! handlebars/runtime */ \"3O+N\");\n/* harmony import */ var handlebars_runtime__WEBPACK_IMPORTED_MODULE_0___default = /*#__PURE__*/__webpack_require__.n(handlebars_runtime__WEBPACK_IMPORTED_MODULE_0__);\n/* harmony import */ var i18n_profiles_add_link_row__WEBPACK_IMPORTED_MODULE_1__ = __webpack_require__(/*! i18n!profiles.add_link_row */ \"Zorx\");\n/* harmony import */ var _canvas_handlebars_helpers_index_coffee__WEBPACK_IMPORTED_MODULE_2__ = __webpack_require__(/*! @canvas/handlebars-helpers/index.coffee */ \"BGrI\");\n\n    \n    var Handlebars = handlebars_runtime__WEBPACK_IMPORTED_MODULE_0___default.a.default;\n    \n\n\n    var template = Handlebars.template, templates = Handlebars.templates = Handlebars.templates || {};\n    var name = '/home/td/workspace/guokehuiyi/canvas/ui/features/profile-show/jst/addLinkRow';\n    templates[name] = template(function (Handlebars,depth0,helpers,partials,data) {\n  this.compilerInfo = [4,'>= 1.0.0'];\nhelpers = this.merge(helpers, Handlebars.helpers); data = data || {};\n  var buffer = \"\", stack1, helper, options, functionType=\"function\", escapeExpression=this.escapeExpression, helperMissing=helpers.helperMissing, self=this;\n\nfunction program1(depth0,data) {\n  \n  var buffer = \"\", stack1, helper;\n  buffer += \"\\n    <th scope=\\\"row\\\">\\n      <input aria-label=\\\"\";\n  if (helper = helpers.title) { stack1 = helper.call(depth0, {hash:{},data:data}); }\n  else { helper = (depth0 && depth0.title); stack1 = typeof helper === functionType ? helper.call(depth0, {hash:{},data:data}) : helper; }\n  buffer += escapeExpression(stack1)\n    + \"\\\" type=\\\"text\\\" class=\\\"ic-Input\\\" maxlength=\\\"255\\\" name=\\\"link_titles[]\\\" value=\\\"\";\n  if (helper = helpers.title) { stack1 = helper.call(depth0, {hash:{},data:data}); }\n  else { helper = (depth0 && depth0.title); stack1 = typeof helper === functionType ? helper.call(depth0, {hash:{},data:data}) : helper; }\n  buffer += escapeExpression(stack1)\n    + \"\\\">\\n    </th>\\n  \";\n  return buffer;\n  }\n\nfunction program3(depth0,data) {\n  \n  var buffer = \"\", stack1, helper, options;\n  buffer += \"\\n    <th scope=\\\"row\\\"><input aria-label=\\\"\"\n    + escapeExpression((helper = helpers.t || (depth0 && depth0.t),options={hash:{\n    'scope': (\"profiles.add_link_row\")\n  },data:data},helper ? helper.call(depth0, \"Link Title\", options) : helperMissing.call(depth0, \"t\", \"Link Title\", options)))\n    + \"\\\" type=\\\"text\\\" class=\\\"ic-Input\\\" maxlength=\\\"255\\\" name=\\\"link_titles[]\\\" value=\\\"\";\n  if (helper = helpers.title) { stack1 = helper.call(depth0, {hash:{},data:data}); }\n  else { helper = (depth0 && depth0.title); stack1 = typeof helper === functionType ? helper.call(depth0, {hash:{},data:data}) : helper; }\n  buffer += escapeExpression(stack1)\n    + \"\\\"></th>\\n  \";\n  return buffer;\n  }\n\n  buffer += \"<tr>\\n  \";\n  stack1 = helpers['if'].call(depth0, ((stack1 = (depth0 && depth0.title)),stack1 == null || stack1 === false ? stack1 : stack1.length), {hash:{},inverse:self.program(3, program3, data),fn:self.program(1, program1, data),data:data});\n  if(stack1 || stack1 === 0) { buffer += stack1; }\n  buffer += \"\\n  <td aria-hidden=\\\"true\\\">â†’</td>\\n  <td><input aria-label=\\\"\"\n    + escapeExpression((helper = helpers.t || (depth0 && depth0.t),options={hash:{\n    'scope': (\"profiles.add_link_row\")\n  },data:data},helper ? helper.call(depth0, \"Link Url\", options) : helperMissing.call(depth0, \"t\", \"Link Url\", options)))\n    + \"\\\" type=\\\"text\\\" class=\\\"ic-Input\\\" name=\\\"link_urls[]\\\" value=\\\"\";\n  if (helper = helpers.url) { stack1 = helper.call(depth0, {hash:{},data:data}); }\n  else { helper = (depth0 && depth0.url); stack1 = typeof helper === functionType ? helper.call(depth0, {hash:{},data:data}) : helper; }\n  buffer += escapeExpression(stack1)\n    + \"\\\"></td>\\n  <td><a href=\\\"#\\\" class=\\\"remove_link_row\\\" data-event=\\\"removeLinkRow\\\"><span class=\\\"screenreader-only\\\">\"\n    + escapeExpression((helper = helpers.t || (depth0 && depth0.t),options={hash:{\n    'scope': (\"profiles.add_link_row\")\n  },data:data},helper ? helper.call(depth0, \"Remove\", options) : helperMissing.call(depth0, \"t\", \"Remove\", options)))\n    + \"</span><i class=\\\"icon-end\\\"></i></a></td>\\n</tr>\\n\";\n  return buffer;\n  });\n    ;\n    ;\n    /* harmony default export */ __webpack_exports__[\"default\"] = (templates[name]);\n  \n\n//# sourceURL=webpack:///./ui/features/profile_show/jst/addLinkRow.handlebars?");

/***/ }),

/***/ "ANhw":
/*!*************************************!*\
  !*** ./node_modules/crypt/crypt.js ***!
  \*************************************/
/*! no static exports found */
/***/ (function(module, exports) {

eval("(function() {\n  var base64map\n      = 'ABCDEFGHIJKLMNOPQRSTUVWXYZabcdefghijklmnopqrstuvwxyz0123456789+/',\n\n  crypt = {\n    // Bit-wise rotation left\n    rotl: function(n, b) {\n      return (n << b) | (n >>> (32 - b));\n    },\n\n    // Bit-wise rotation right\n    rotr: function(n, b) {\n      return (n << (32 - b)) | (n >>> b);\n    },\n\n    // Swap big-endian to little-endian and vice versa\n    endian: function(n) {\n      // If number given, swap endian\n      if (n.constructor == Number) {\n        return crypt.rotl(n, 8) & 0x00FF00FF | crypt.rotl(n, 24) & 0xFF00FF00;\n      }\n\n      // Else, assume array and swap all items\n      for (var i = 0; i < n.length; i++)\n        n[i] = crypt.endian(n[i]);\n      return n;\n    },\n\n    // Generate an array of any length of random bytes\n    randomBytes: function(n) {\n      for (var bytes = []; n > 0; n--)\n        bytes.push(Math.floor(Math.random() * 256));\n      return bytes;\n    },\n\n    // Convert a byte array to big-endian 32-bit words\n    bytesToWords: function(bytes) {\n      for (var words = [], i = 0, b = 0; i < bytes.length; i++, b += 8)\n        words[b >>> 5] |= bytes[i] << (24 - b % 32);\n      return words;\n    },\n\n    // Convert big-endian 32-bit words to a byte array\n    wordsToBytes: function(words) {\n      for (var bytes = [], b = 0; b < words.length * 32; b += 8)\n        bytes.push((words[b >>> 5] >>> (24 - b % 32)) & 0xFF);\n      return bytes;\n    },\n\n    // Convert a byte array to a hex string\n    bytesToHex: function(bytes) {\n      for (var hex = [], i = 0; i < bytes.length; i++) {\n        hex.push((bytes[i] >>> 4).toString(16));\n        hex.push((bytes[i] & 0xF).toString(16));\n      }\n      return hex.join('');\n    },\n\n    // Convert a hex string to a byte array\n    hexToBytes: function(hex) {\n      for (var bytes = [], c = 0; c < hex.length; c += 2)\n        bytes.push(parseInt(hex.substr(c, 2), 16));\n      return bytes;\n    },\n\n    // Convert a byte array to a base-64 string\n    bytesToBase64: function(bytes) {\n      for (var base64 = [], i = 0; i < bytes.length; i += 3) {\n        var triplet = (bytes[i] << 16) | (bytes[i + 1] << 8) | bytes[i + 2];\n        for (var j = 0; j < 4; j++)\n          if (i * 8 + j * 6 <= bytes.length * 8)\n            base64.push(base64map.charAt((triplet >>> 6 * (3 - j)) & 0x3F));\n          else\n            base64.push('=');\n      }\n      return base64.join('');\n    },\n\n    // Convert a base-64 string to a byte array\n    base64ToBytes: function(base64) {\n      // Remove non-base-64 characters\n      base64 = base64.replace(/[^A-Z0-9+\\/]/ig, '');\n\n      for (var bytes = [], i = 0, imod4 = 0; i < base64.length;\n          imod4 = ++i % 4) {\n        if (imod4 == 0) continue;\n        bytes.push(((base64map.indexOf(base64.charAt(i - 1))\n            & (Math.pow(2, -2 * imod4 + 8) - 1)) << (imod4 * 2))\n            | (base64map.indexOf(base64.charAt(i)) >>> (6 - imod4 * 2)));\n      }\n      return bytes;\n    }\n  };\n\n  module.exports = crypt;\n})();\n\n\n//# sourceURL=webpack:///./node_modules/crypt/crypt.js?");

/***/ }),

/***/ "BEtg":
/*!*****************************************!*\
  !*** ./node_modules/is-buffer/index.js ***!
  \*****************************************/
/*! no static exports found */
/***/ (function(module, exports) {

eval("/*!\n * Determine if an object is a Buffer\n *\n * @author   Feross Aboukhadijeh <https://feross.org>\n * @license  MIT\n */\n\n// The _isBuffer check is for Safari 5-7 support, because it's missing\n// Object.prototype.constructor. Remove this eventually\nmodule.exports = function (obj) {\n  return obj != null && (isBuffer(obj) || isSlowBuffer(obj) || !!obj._isBuffer)\n}\n\nfunction isBuffer (obj) {\n  return !!obj.constructor && typeof obj.constructor.isBuffer === 'function' && obj.constructor.isBuffer(obj)\n}\n\n// For Node v0.10 support. Remove this eventually.\nfunction isSlowBuffer (obj) {\n  return typeof obj.readFloatLE === 'function' && typeof obj.slice === 'function' && isBuffer(obj.slice(0, 0))\n}\n\n\n//# sourceURL=webpack:///./node_modules/is-buffer/index.js?");

/***/ }),

/***/ "BNkn":
/*!*********************************************************************!*\
  !*** ./ui/shared/avatar-dialog-view/jst/takePictureView.handlebars ***!
  \*********************************************************************/
/*! exports provided: default */
/***/ (function(module, __webpack_exports__, __webpack_require__) {

"use strict";
eval("__webpack_require__.r(__webpack_exports__);\n/* harmony import */ var handlebars_runtime__WEBPACK_IMPORTED_MODULE_0__ = __webpack_require__(/*! handlebars/runtime */ \"3O+N\");\n/* harmony import */ var handlebars_runtime__WEBPACK_IMPORTED_MODULE_0___default = /*#__PURE__*/__webpack_require__.n(handlebars_runtime__WEBPACK_IMPORTED_MODULE_0__);\n/* harmony import */ var i18n_profiles_take_picture_view__WEBPACK_IMPORTED_MODULE_1__ = __webpack_require__(/*! i18n!profiles.take_picture_view */ \"T/QS\");\n/* harmony import */ var _canvas_handlebars_helpers_index_coffee__WEBPACK_IMPORTED_MODULE_2__ = __webpack_require__(/*! @canvas/handlebars-helpers/index.coffee */ \"BGrI\");\n\n    \n    var Handlebars = handlebars_runtime__WEBPACK_IMPORTED_MODULE_0___default.a.default;\n    \n\n\n    var template = Handlebars.template, templates = Handlebars.templates = Handlebars.templates || {};\n    var name = '/home/td/workspace/guokehuiyi/canvas/ui/shared/avatar-dialog-view/jst/takePictureView';\n    templates[name] = template(function (Handlebars,depth0,helpers,partials,data) {\n  this.compilerInfo = [4,'>= 1.0.0'];\nhelpers = this.merge(helpers, Handlebars.helpers); data = data || {};\n  var buffer = \"\", stack1, helper, options, functionType=\"function\", escapeExpression=this.escapeExpression, helperMissing=helpers.helperMissing;\n\n\n  buffer += \"<div class=\\\"webcam-preview-wrapper\\\">\\n  <img src=\\\"\";\n  if (helper = helpers.previewURL) { stack1 = helper.call(depth0, {hash:{},data:data}); }\n  else { helper = (depth0 && depth0.previewURL); stack1 = typeof helper === functionType ? helper.call(depth0, {hash:{},data:data}) : helper; }\n  buffer += escapeExpression(stack1)\n    + \"\\\" alt=\\\"\\\" class=\\\"webcam-preview\\\" />\\n\\n  <button type=\\\"button\\\" class=\\\"btn retry-snapshot-btn\\\">\\n    \"\n    + escapeExpression((helper = helpers.t || (depth0 && depth0.t),options={hash:{\n    'scope': (\"profiles.take_picture_view\")\n  },data:data},helper ? helper.call(depth0, \"retry\", \"Retry\", options) : helperMissing.call(depth0, \"t\", \"retry\", \"Retry\", options)))\n    + \"\\n  </button>\\n</div>\\n\\n<div class=\\\"webcam-capture-wrapper\\\">\\n  <div class=\\\"webcam-clip\\\">\\n    <video autoplay class=\\\"webcam-live-preview pending\\\"></video>\\n  </div>\\n\\n  <button type=\\\"button\\\" class=\\\"btn take-snapshot-btn\\\">\\n    \"\n    + escapeExpression((helper = helpers.t || (depth0 && depth0.t),options={hash:{\n    'scope': (\"profiles.take_picture_view\")\n  },data:data},helper ? helper.call(depth0, \"take_picture\", \"Take Picture\", options) : helperMissing.call(depth0, \"t\", \"take_picture\", \"Take Picture\", options)))\n    + \"\\n  </button>\\n</div>\\n\\n<canvas class=\\\"webcam-preview-staging-area hidden\\\"></canvas>\\n\";\n  return buffer;\n  });\n    ;\n    ;\n    /* harmony default export */ __webpack_exports__[\"default\"] = (templates[name]);\n  \n\n//# sourceURL=webpack:///./ui/shared/avatar-dialog-view/jst/takePictureView.handlebars?");

/***/ }),

/***/ "BrAc":
/*!**********************************!*\
  !*** ./ui/shared/axios/index.js ***!
  \**********************************/
/*! exports provided: AxiosPromise, default */
/***/ (function(module, __webpack_exports__, __webpack_require__) {

"use strict";
eval("__webpack_require__.r(__webpack_exports__);\n/* harmony import */ var axios__WEBPACK_IMPORTED_MODULE_0__ = __webpack_require__(/*! axios */ \"vDqi\");\n/* harmony import */ var axios__WEBPACK_IMPORTED_MODULE_0___default = /*#__PURE__*/__webpack_require__.n(axios__WEBPACK_IMPORTED_MODULE_0__);\n/* harmony reexport (safe) */ __webpack_require__.d(__webpack_exports__, \"AxiosPromise\", function() { return axios__WEBPACK_IMPORTED_MODULE_0__[\"AxiosPromise\"]; });\n\n/*\n * Copyright (C) 2015 - present Instructure, Inc.\n *\n * This file is part of Canvas.\n *\n * Canvas is free software: you can redistribute it and/or modify it under\n * the terms of the GNU Affero General Public License as published by the Free\n * Software Foundation, version 3 of the License.\n *\n * Canvas is distributed in the hope that it will be useful, but WITHOUT ANY\n * WARRANTY; without even the implied warranty of MERCHANTABILITY or FITNESS FOR\n * A PARTICULAR PURPOSE. See the GNU Affero General Public License for more\n * details.\n *\n * You should have received a copy of the GNU Affero General Public License along\n * with this program. If not, see <http://www.gnu.org/licenses/>.\n */\n\n // Add CSRF stuffs to make Canvas happy when we are making requests with axios\n\naxios__WEBPACK_IMPORTED_MODULE_0___default.a.defaults.xsrfCookieName = '_csrf_token';\naxios__WEBPACK_IMPORTED_MODULE_0___default.a.defaults.xsrfHeaderName = 'X-CSRF-Token'; // Handle stringified IDs for JSON responses\n\nconst originalDefaults = axios__WEBPACK_IMPORTED_MODULE_0___default.a.defaults.headers.common.Accept;\naxios__WEBPACK_IMPORTED_MODULE_0___default.a.defaults.headers.common.Accept = 'application/json+canvas-string-ids, ' + originalDefaults; // Rails checks this header to decide if a request is an xhr request\n\naxios__WEBPACK_IMPORTED_MODULE_0___default.a.defaults.headers.common['X-Requested-With'] = 'XMLHttpRequest';\n/* harmony default export */ __webpack_exports__[\"default\"] = (axios__WEBPACK_IMPORTED_MODULE_0___default.a);\n\n//# sourceURL=webpack:///./ui/shared/axios/index.js?");

/***/ }),

/***/ "CC99":
/*!********************************************************************!*\
  !*** ./ui/shared/avatar-dialog-view/jst/uploadFileView.handlebars ***!
  \********************************************************************/
/*! exports provided: default */
/***/ (function(module, __webpack_exports__, __webpack_require__) {

"use strict";
eval("__webpack_require__.r(__webpack_exports__);\n/* harmony import */ var handlebars_runtime__WEBPACK_IMPORTED_MODULE_0__ = __webpack_require__(/*! handlebars/runtime */ \"3O+N\");\n/* harmony import */ var handlebars_runtime__WEBPACK_IMPORTED_MODULE_0___default = /*#__PURE__*/__webpack_require__.n(handlebars_runtime__WEBPACK_IMPORTED_MODULE_0__);\n/* harmony import */ var i18n_profiles_upload_file_view__WEBPACK_IMPORTED_MODULE_1__ = __webpack_require__(/*! i18n!profiles.upload_file_view */ \"9b7U\");\n/* harmony import */ var _canvas_handlebars_helpers_index_coffee__WEBPACK_IMPORTED_MODULE_2__ = __webpack_require__(/*! @canvas/handlebars-helpers/index.coffee */ \"BGrI\");\n\n    \n    var Handlebars = handlebars_runtime__WEBPACK_IMPORTED_MODULE_0___default.a.default;\n    \n\n\n    var template = Handlebars.template, templates = Handlebars.templates = Handlebars.templates || {};\n    var name = '/home/td/workspace/guokehuiyi/canvas/ui/shared/avatar-dialog-view/jst/uploadFileView';\n    templates[name] = template(function (Handlebars,depth0,helpers,partials,data) {\n  this.compilerInfo = [4,'>= 1.0.0'];\nhelpers = this.merge(helpers, Handlebars.helpers); data = data || {};\n  var buffer = \"\", stack1, helperMissing=helpers.helperMissing, escapeExpression=this.escapeExpression, self=this;\n\nfunction program1(depth0,data) {\n  \n  var buffer = \"\", helper, options;\n  buffer += \"\\n  <div class=\\\"row-fluid\\\">\\n    <div class=\\\"span6\\\">\\n      <p>\\n        \"\n    + escapeExpression((helper = helpers.t || (depth0 && depth0.t),options={hash:{\n    'scope': (\"profiles.upload_file_view\")\n  },data:data},helper ? helper.call(depth0, \"crop_instructions\", \"To crop the image, drag the selection with the mouse or use the arrow keys to move the selection and shift+arrow keys to resize the selection. Then click the \\\"Save\\\" button below.\", options) : helperMissing.call(depth0, \"t\", \"crop_instructions\", \"To crop the image, drag the selection with the mouse or use the arrow keys to move the selection and shift+arrow keys to resize the selection. Then click the \\\"Save\\\" button below.\", options)))\n    + \"\\n      </p>\\n    </div>\\n    <div class=\\\"span6 text-center avatar-preview-wrapper\\\">\\n      <div class=\\\"avatar-preview\\\" />\\n    </div>\\n  </div>\\n\";\n  return buffer;\n  }\n\nfunction program3(depth0,data) {\n  \n  var buffer = \"\", helper, options;\n  buffer += \"\\n  <a class=\\\"select-photo-link\\\" href=\\\"#\\\">\\n    <i class=\\\"icon-image icon-select-photo\\\"></i>\\n    \"\n    + escapeExpression((helper = helpers.t || (depth0 && depth0.t),options={hash:{\n    'scope': (\"profiles.upload_file_view\")\n  },data:data},helper ? helper.call(depth0, \"choose_a_picture\", \"choose a picture\", options) : helperMissing.call(depth0, \"t\", \"choose_a_picture\", \"choose a picture\", options)))\n    + \"\\n  </a>\\n\\n  <input id=\\\"selected-photo\\\" type=\\\"file\\\" class=\\\"hidden\\\" accept=\\\"image/*\\\" />\\n\";\n  return buffer;\n  }\n\n  stack1 = helpers['if'].call(depth0, (depth0 && depth0.hasPreview), {hash:{},inverse:self.program(3, program3, data),fn:self.program(1, program1, data),data:data});\n  if(stack1 || stack1 === 0) { buffer += stack1; }\n  buffer += \"\\n\";\n  return buffer;\n  });\n    ;\n    ;\n    /* harmony default export */ __webpack_exports__[\"default\"] = (templates[name]);\n  \n\n//# sourceURL=webpack:///./ui/shared/avatar-dialog-view/jst/uploadFileView.handlebars?");

/***/ }),

/***/ "Hl2H":
/*!*******************************************************!*\
  !*** ./ui/shared/avatar-dialog-view/react/cropper.js ***!
  \*******************************************************/
/*! exports provided: default */
/***/ (function(module, __webpack_exports__, __webpack_require__) {

"use strict";
eval("__webpack_require__.r(__webpack_exports__);\n/* harmony import */ var react__WEBPACK_IMPORTED_MODULE_0__ = __webpack_require__(/*! react */ \"q1tI\");\n/* harmony import */ var react__WEBPACK_IMPORTED_MODULE_0___default = /*#__PURE__*/__webpack_require__.n(react__WEBPACK_IMPORTED_MODULE_0__);\n/* harmony import */ var prop_types__WEBPACK_IMPORTED_MODULE_1__ = __webpack_require__(/*! prop-types */ \"17x9\");\n/* harmony import */ var prop_types__WEBPACK_IMPORTED_MODULE_1___default = /*#__PURE__*/__webpack_require__.n(prop_types__WEBPACK_IMPORTED_MODULE_1__);\n/* harmony import */ var _instructure_react_crop__WEBPACK_IMPORTED_MODULE_2__ = __webpack_require__(/*! @instructure/react-crop */ \"+hG6\");\n/* harmony import */ var _instructure_react_crop__WEBPACK_IMPORTED_MODULE_2___default = /*#__PURE__*/__webpack_require__.n(_instructure_react_crop__WEBPACK_IMPORTED_MODULE_2__);\n/*\n * Copyright (C) 2016 - present Instructure, Inc.\n *\n * This file is part of Canvas.\n *\n * Canvas is free software: you can redistribute it and/or modify it under\n * the terms of the GNU Affero General Public License as published by the Free\n * Software Foundation, version 3 of the License.\n *\n * Canvas is distributed in the hope that it will be useful, but WITHOUT ANY\n * WARRANTY; without even the implied warranty of MERCHANTABILITY or FITNESS FOR\n * A PARTICULAR PURPOSE. See the GNU Affero General Public License for more\n * details.\n *\n * You should have received a copy of the GNU Affero General Public License along\n * with this program. If not, see <http://www.gnu.org/licenses/>.\n */\n\n\n //\n// The react-crop component requires a wrapper component for interacting\n// with the outside world.\n// The main thing you have to do is set style for .CanvasCropper\n// For example, the style for profile avatars looks like\n// .avatar-preview .CanvasCropper {\n//   max-width: 270px;\n//   max-height: 270px;\n//   overflow: hidden;\n// }\n//\n\nclass CanvasCropper extends react__WEBPACK_IMPORTED_MODULE_0___default.a.Component {\n  constructor() {\n    super();\n    this.onImageLoaded = this.imageLoaded.bind(this);\n    this.wrapper = null;\n    this.cropper = null;\n  }\n\n  componentDidMount() {\n    if (this.wrapper) {\n      this.wrapper.focus();\n    }\n  } // called when the image is loaded in the DOM\n  // @param img: the img DOM element\n\n\n  imageLoaded(img) {\n    if (typeof this.props.onImageLoaded === 'function') {\n      this.props.onImageLoaded(img);\n    }\n  } // @returns a Promise that resolves with cropped image as a blob\n\n\n  crop() {\n    return this.cropper.cropImage();\n  }\n\n  render() {\n    return /*#__PURE__*/react__WEBPACK_IMPORTED_MODULE_0___default.a.createElement(\"div\", {\n      className: \"CanvasCropper\",\n      ref: el => {\n        this.wrapper = el;\n      },\n      tabIndex: \"0\"\n    }, this.props.imgFile && /*#__PURE__*/react__WEBPACK_IMPORTED_MODULE_0___default.a.createElement(\"div\", null, /*#__PURE__*/react__WEBPACK_IMPORTED_MODULE_0___default.a.createElement(_instructure_react_crop__WEBPACK_IMPORTED_MODULE_2___default.a, {\n      ref: el => {\n        this.cropper = el;\n      },\n      image: this.props.imgFile,\n      width: this.props.width,\n      height: this.props.height,\n      minConstraints: [16, 16],\n      onImageLoaded: this.onImageLoaded\n    })));\n  }\n\n}\n\nCanvasCropper.propTypes = {\n  imgFile: _instructure_react_crop__WEBPACK_IMPORTED_MODULE_2___default.a.propTypes.image,\n  // selected image file object\n  width: prop_types__WEBPACK_IMPORTED_MODULE_1___default.a.number,\n  // desired cropped width\n  height: prop_types__WEBPACK_IMPORTED_MODULE_1___default.a.number,\n  // desired cropped height\n  onImageLoaded: prop_types__WEBPACK_IMPORTED_MODULE_1___default.a.func // if you care when the image is loaded\n\n};\nCanvasCropper.defaultProps = {\n  imgFile: null,\n  width: 270,\n  height: 270,\n  onImageLoaded: null\n};\n/* harmony default export */ __webpack_exports__[\"default\"] = (CanvasCropper);\n\n//# sourceURL=webpack:///./ui/shared/avatar-dialog-view/react/cropper.js?");

/***/ }),

/***/ "HyeI":
/*!*****************************************************************************!*\
  !*** ./ui/shared/avatar-dialog-view/backbone/views/AvatarUploadBaseView.js ***!
  \*****************************************************************************/
/*! exports provided: default */
/***/ (function(module, __webpack_exports__, __webpack_require__) {

"use strict";
eval("__webpack_require__.r(__webpack_exports__);\n/* harmony export (binding) */ __webpack_require__.d(__webpack_exports__, \"default\", function() { return AvatarUploadBaseView; });\n/* harmony import */ var _canvas_backbone__WEBPACK_IMPORTED_MODULE_0__ = __webpack_require__(/*! @canvas/backbone */ \"mX+G\");\n/* harmony import */ var _canvas_backbone__WEBPACK_IMPORTED_MODULE_0___default = /*#__PURE__*/__webpack_require__.n(_canvas_backbone__WEBPACK_IMPORTED_MODULE_0__);\n//\n// Copyright (C) 2013 - present Instructure, Inc.\n//\n// This file is part of Canvas.\n//\n// Canvas is free software: you can redistribute it and/or modify it under\n// the terms of the GNU Affero General Public License as published by the Free\n// Software Foundation, version 3 of the License.\n//\n// Canvas is distributed in the hope that it will be useful, but WITHOUT ANY\n// WARRANTY; without even the implied warranty of MERCHANTABILITY or FITNESS FOR\n// A PARTICULAR PURPOSE. See the GNU Affero General Public License for more\n// details.\n//\n// You should have received a copy of the GNU Affero General Public License along\n// with this program. If not, see <http://www.gnu.org/licenses/>.\n\nclass AvatarUploadBaseView extends _canvas_backbone__WEBPACK_IMPORTED_MODULE_0___default.a.View {\n  setup() {}\n\n  teardown() {}\n\n  render() {\n    super.render(...arguments);\n    this.$el.data('view', this);\n    return this;\n  }\n\n}\n\n//# sourceURL=webpack:///./ui/shared/avatar-dialog-view/backbone/views/AvatarUploadBaseView.js?");

/***/ }),

/***/ "I3fs":
/*!***********************************************************************!*\
  !*** ./frontend_build/i18n.js?dialog!./ui/shims/dummyI18nResource.js ***!
  \***********************************************************************/
/*! exports provided: default */
/***/ (function(module, __webpack_exports__, __webpack_require__) {

"use strict";
eval("__webpack_require__.r(__webpack_exports__);\n/* harmony import */ var _canvas_i18n_i18nObj__WEBPACK_IMPORTED_MODULE_0__ = __webpack_require__(/*! @canvas/i18n/i18nObj */ \"HGxv\");\n/* harmony import */ var translations_core_en__WEBPACK_IMPORTED_MODULE_1__ = __webpack_require__(/*! translations/_core_en */ \"0sPK\");\n\n    \n    \n    \n\n    /* harmony default export */ __webpack_exports__[\"default\"] = (_canvas_i18n_i18nObj__WEBPACK_IMPORTED_MODULE_0__[\"default\"].scoped('dialog'));\n  \n\n//# sourceURL=webpack:///./ui/shims/dummyI18nResource.js?./frontend_build/i18n.js?dialog");

/***/ }),

/***/ "IvSP":
/*!*************************************************************************!*\
  !*** ./ui/shared/avatar-dialog-view/backbone/views/AvatarDialogView.js ***!
  \*************************************************************************/
/*! exports provided: default */
/***/ (function(module, __webpack_exports__, __webpack_require__) {

"use strict";
eval("__webpack_require__.r(__webpack_exports__);\n/* harmony export (binding) */ __webpack_require__.d(__webpack_exports__, \"default\", function() { return AvatarDialogView; });\n/* harmony import */ var i18n_profile__WEBPACK_IMPORTED_MODULE_0__ = __webpack_require__(/*! i18n!profile */ \"if3q\");\n/* harmony import */ var jquery__WEBPACK_IMPORTED_MODULE_1__ = __webpack_require__(/*! jquery */ \"ouhR\");\n/* harmony import */ var jquery__WEBPACK_IMPORTED_MODULE_1___default = /*#__PURE__*/__webpack_require__.n(jquery__WEBPACK_IMPORTED_MODULE_1__);\n/* harmony import */ var underscore__WEBPACK_IMPORTED_MODULE_2__ = __webpack_require__(/*! underscore */ \"Y/W1\");\n/* harmony import */ var underscore__WEBPACK_IMPORTED_MODULE_2___default = /*#__PURE__*/__webpack_require__.n(underscore__WEBPACK_IMPORTED_MODULE_2__);\n/* harmony import */ var _canvas_dialog_base_view__WEBPACK_IMPORTED_MODULE_3__ = __webpack_require__(/*! @canvas/dialog-base-view */ \"KIYd\");\n/* harmony import */ var _UploadFileView__WEBPACK_IMPORTED_MODULE_4__ = __webpack_require__(/*! ./UploadFileView */ \"NUd+\");\n/* harmony import */ var _TakePictureView__WEBPACK_IMPORTED_MODULE_5__ = __webpack_require__(/*! ./TakePictureView */ \"tLTL\");\n/* harmony import */ var _GravatarView__WEBPACK_IMPORTED_MODULE_6__ = __webpack_require__(/*! ./GravatarView */ \"Z1n7\");\n/* harmony import */ var _canvas_upload_file__WEBPACK_IMPORTED_MODULE_7__ = __webpack_require__(/*! @canvas/upload-file */ \"EyBU\");\n/* harmony import */ var _jst_avatarDialog_handlebars__WEBPACK_IMPORTED_MODULE_8__ = __webpack_require__(/*! ../../jst/avatarDialog.handlebars */ \"Yyqg\");\n//\n// Copyright (C) 2013 - present Instructure, Inc.\n//\n// This file is part of Canvas.\n//\n// Canvas is free software: you can redistribute it and/or modify it under\n// the terms of the GNU Affero General Public License as published by the Free\n// Software Foundation, version 3 of the License.\n//\n// Canvas is distributed in the hope that it will be useful, but WITHOUT ANY\n// WARRANTY; without even the implied warranty of MERCHANTABILITY or FITNESS FOR\n// A PARTICULAR PURPOSE. See the GNU Affero General Public License for more\n// details.\n//\n// You should have received a copy of the GNU Affero General Public License along\n// with this program. If not, see <http://www.gnu.org/licenses/>.\n//\n\n\n\n\n\n\n\n\n\nclass AvatarDialogView extends _canvas_dialog_base_view__WEBPACK_IMPORTED_MODULE_3__[\"default\"] {\n  constructor(...args) {\n    super(...args);\n\n    this.updateDomAvatar = url => {\n      jquery__WEBPACK_IMPORTED_MODULE_1___default()('.profile_pic_link, .profile-link').css('background-image', `url('${url}')`);\n      return this.close();\n    };\n\n    this.checkFocusDeferred = () => {\n      if (!jquery__WEBPACK_IMPORTED_MODULE_1___default.a.contains(this.$el[0], document.activeElement) || !jquery__WEBPACK_IMPORTED_MODULE_1___default()(document.activeElement).is(':visible')) {\n        jquery__WEBPACK_IMPORTED_MODULE_1___default()('.ui-dialog-titlebar-close').focus();\n      }\n    };\n  }\n\n  static initClass() {\n    this.prototype.template = _jst_avatarDialog_handlebars__WEBPACK_IMPORTED_MODULE_8__[\"default\"];\n    this.prototype.AVATAR_SIZE = {\n      h: 128,\n      w: 128\n    };\n    this.child('uploadFileView', '#upload-picture');\n    this.child('takePictureView', '#take-picture');\n    this.child('gravatarView', '#from-gravatar');\n    this.prototype.messages = {\n      selectAvatar: i18n_profile__WEBPACK_IMPORTED_MODULE_0__[\"default\"].t('buttons.select_profile_picture', 'Select Profile Picture'),\n      cancel: i18n_profile__WEBPACK_IMPORTED_MODULE_0__[\"default\"].t('#buttons.cancel', 'Cancel'),\n      selectImage: i18n_profile__WEBPACK_IMPORTED_MODULE_0__[\"default\"].t('buttons.save', 'Save'),\n      selectingImage: i18n_profile__WEBPACK_IMPORTED_MODULE_0__[\"default\"].t('buttons.selecting_image', 'Selecting Image...')\n    };\n    this.prototype.events = {\n      'click .nav-pills a': 'onNav',\n      'click .select-photo-link': 'onUploadClick',\n      'change #selected-photo': 'onSelectAvatar'\n    };\n  }\n\n  dialogOptions() {\n    return {\n      title: this.messages.selectAvatar,\n      buttons: [{\n        text: this.messages.cancel,\n        click: (...args) => this.cancel(...args)\n      }, {\n        text: this.messages.selectImage,\n        class: 'btn-primary select_button',\n        click: () => this.updateAvatar()\n      }],\n      height: 500,\n      width: 600\n    };\n  }\n\n  initialize() {\n    this.uploadFileView = new _UploadFileView__WEBPACK_IMPORTED_MODULE_4__[\"default\"]({\n      avatarSize: this.AVATAR_SIZE\n    });\n    this.takePictureView = new _TakePictureView__WEBPACK_IMPORTED_MODULE_5__[\"default\"]({\n      avatarSize: this.AVATAR_SIZE\n    });\n    this.gravatarView = new _GravatarView__WEBPACK_IMPORTED_MODULE_6__[\"default\"]({\n      avatarSize: this.AVATAR_SIZE\n    });\n    return super.initialize(...arguments);\n  }\n\n  show() {\n    this.render();\n\n    underscore__WEBPACK_IMPORTED_MODULE_2___default.a.each(this.children, child => this.listenTo(child, 'ready', this.onReady));\n\n    this.togglePane(this.$('.nav-pills a')[0]);\n    return super.show(...arguments);\n  }\n\n  cancel() {\n    this.teardown();\n    return super.cancel(...arguments);\n  }\n\n  close() {\n    this.teardown();\n    this.enableSelectButton();\n    return super.close(...arguments);\n  }\n\n  getImage() {\n    return (this.currentView || this.$('.avatar-content > div:first-child').data('view')).getImage();\n  }\n\n  updateAvatar() {\n    this.disableSelectButton();\n\n    if (this.currentView && this.currentView.updateAvatar) {\n      return this.viewUpdateAvatar();\n    } else {\n      return this.imageUpdateAvatar();\n    }\n  }\n\n  enableSelectButton() {\n    jquery__WEBPACK_IMPORTED_MODULE_1___default()('.select_button').prop('disabled', false).removeClass('ui-state-hover').text(this.messages.selectImage);\n  }\n\n  disableSelectButton() {\n    jquery__WEBPACK_IMPORTED_MODULE_1___default()('.select_button').prop('disabled', true).text(this.messages.selectingImage);\n  }\n\n  viewUpdateAvatar() {\n    return this.currentView.updateAvatar().then(response => {\n      return this.updateDomAvatar(response.avatar_url);\n    });\n  }\n\n  imageUpdateAvatar() {\n    return jquery__WEBPACK_IMPORTED_MODULE_1___default.a.when(this.getImage(), this.preflightRequest()).then(this.onPreflight.bind(this));\n  }\n\n  handleErrorUpdating(response) {\n    if (response) {\n      // try to get an error message out of JSON string\n      const errors = (() => {\n        try {\n          return JSON.parse(response).errors;\n        } catch (error) {\n          return void 0;\n        }\n      })();\n\n      if (errors) {\n        const errorReducer = (errorString, currentError) => errorString += currentError.message;\n\n        const message = underscore__WEBPACK_IMPORTED_MODULE_2___default.a.isString(errors.base) ? errors.base : underscore__WEBPACK_IMPORTED_MODULE_2___default.a.isArray(errors.base) ? errors.base.reduce(errorReducer, '') : i18n_profile__WEBPACK_IMPORTED_MODULE_0__[\"default\"].t('Your profile photo could not be uploaded. You may have exceeded your upload limit.');\n        jquery__WEBPACK_IMPORTED_MODULE_1___default.a.flashError(message);\n        return this.enableSelectButton();\n      }\n    }\n  }\n\n  preflightRequest() {\n    // not using uploader.uploadFile because need to have completeUpload also\n    // wait on @getImage in imageUpdateAvatar\n    return jquery__WEBPACK_IMPORTED_MODULE_1___default.a.post('/files/pending', {\n      name: 'profile.jpg',\n      format: 'text',\n      no_redirect: true,\n      'attachment[on_duplicate]': 'overwrite',\n      'attachment[folder_id]': ENV.folder_id,\n      'attachment[filename]': 'profile.jpg',\n      'attachment[context_code]': `user_${ENV.current_user_id}`\n    }).fail(xhr => this.handleErrorUpdating(xhr.responseText));\n  }\n\n  onPreflight(image, response) {\n    const preflight = response[0];\n    return Object(_canvas_upload_file__WEBPACK_IMPORTED_MODULE_7__[\"completeUpload\"])(preflight, image, {\n      filename: 'profile.jpg',\n      includeAvatar: true\n    }).then(resp => this.onUploadSuccess(resp)).catch(xhr => this.handleErrorUpdating(xhr.responseText));\n  }\n\n  onUploadSuccess(response) {\n    return this.waitAndSaveUserAvatar(response.avatar.token, response.avatar.url, 0);\n  } // need to wait for the avatar to get processed by background jobs before\n  // it will save properly.\n  // wait 5 seconds and then error out\n\n\n  waitAndSaveUserAvatar(token, url, count) {\n    return jquery__WEBPACK_IMPORTED_MODULE_1___default.a.getJSON('/api/v1/users/self/avatars').then(avatarList => {\n      const processedAvatar = underscore__WEBPACK_IMPORTED_MODULE_2___default.a.find(avatarList, avatar => avatar.token === token);\n\n      if (processedAvatar) {\n        return this.saveUserAvatar(token, url);\n      } else if (count < 50) {\n        return window.setTimeout(() => this.waitAndSaveUserAvatar(token, url, count + 1), 100);\n      } else {\n        return this.handleErrorUpdating(JSON.stringify({\n          errors: {\n            base: i18n_profile__WEBPACK_IMPORTED_MODULE_0__[\"default\"].t('Profile photo save failed too many times')\n          }\n        }));\n      }\n    });\n  }\n\n  saveUserAvatar(token, url) {\n    return jquery__WEBPACK_IMPORTED_MODULE_1___default.a.ajax('/api/v1/users/self', {\n      data: {\n        'user[avatar][token]': token\n      },\n      dataType: 'json',\n      type: 'PUT'\n    }).then(underscore__WEBPACK_IMPORTED_MODULE_2___default.a.partial(this.updateDomAvatar, url));\n  }\n\n  onNav(e) {\n    e.preventDefault();\n    return this.togglePane(e.target);\n  }\n\n  togglePane(link) {\n    const $target = this.$(link).parent();\n    const $content = this.$(link.getAttribute('href'));\n    $target.siblings().removeClass('active');\n    $target.addClass('active');\n    this.teardown();\n    jquery__WEBPACK_IMPORTED_MODULE_1___default()('.select_button').prop('disabled', true);\n    this.$('.avatar-content div').removeClass('active');\n\n    __guard__($content.addClass('active').data('view'), x => x.setup());\n\n    return this.currentView = $content.data('view');\n  }\n\n  onReady(ready = true) {\n    jquery__WEBPACK_IMPORTED_MODULE_1___default()('.select_button').prop('disabled', !ready);\n    return this.checkFocus();\n  }\n\n  checkFocus() {\n    // deferring this makes it work more reliably because in some cases (like\n    // visibility updates) the focus isn't lost immediately.\n    return underscore__WEBPACK_IMPORTED_MODULE_2___default.a.defer(this.checkFocusDeferred);\n  }\n\n  teardown() {\n    return underscore__WEBPACK_IMPORTED_MODULE_2___default.a.each(this.children, child => child.teardown());\n  }\n\n  toJSON() {\n    const hasFileReader = !!window.FileReader;\n    const hasUserMedia = !!(navigator.getUserMedia || navigator.mozGetUserMedia || navigator.msGetUserMedia || navigator.webkitGetUserMedia);\n    return {\n      hasFileReader,\n      hasGetUserMedia: hasUserMedia,\n      enableGravatar: ENV.enable_gravatar\n    };\n  }\n\n}\nAvatarDialogView.initClass();\n\nfunction __guard__(value, transform) {\n  return typeof value !== 'undefined' && value !== null ? transform(value) : void 0;\n}\n\n//# sourceURL=webpack:///./ui/shared/avatar-dialog-view/backbone/views/AvatarDialogView.js?");

/***/ }),

/***/ "KIYd":
/*!*************************************************!*\
  !*** ./ui/shared/dialog-base-view/index.coffee ***!
  \*************************************************/
/*! exports provided: default */
/***/ (function(module, __webpack_exports__, __webpack_require__) {

"use strict";
eval("__webpack_require__.r(__webpack_exports__);\n/* harmony import */ var i18n_dialog__WEBPACK_IMPORTED_MODULE_0__ = __webpack_require__(/*! i18n!dialog */ \"I3fs\");\n/* harmony import */ var jquery__WEBPACK_IMPORTED_MODULE_1__ = __webpack_require__(/*! jquery */ \"ouhR\");\n/* harmony import */ var jquery__WEBPACK_IMPORTED_MODULE_1___default = /*#__PURE__*/__webpack_require__.n(jquery__WEBPACK_IMPORTED_MODULE_1__);\n/* harmony import */ var underscore__WEBPACK_IMPORTED_MODULE_2__ = __webpack_require__(/*! underscore */ \"Y/W1\");\n/* harmony import */ var underscore__WEBPACK_IMPORTED_MODULE_2___default = /*#__PURE__*/__webpack_require__.n(underscore__WEBPACK_IMPORTED_MODULE_2__);\n/* harmony import */ var _canvas_backbone__WEBPACK_IMPORTED_MODULE_3__ = __webpack_require__(/*! @canvas/backbone */ \"mX+G\");\n/* harmony import */ var _canvas_backbone__WEBPACK_IMPORTED_MODULE_3___default = /*#__PURE__*/__webpack_require__.n(_canvas_backbone__WEBPACK_IMPORTED_MODULE_3__);\n/* harmony import */ var jqueryui_dialog__WEBPACK_IMPORTED_MODULE_4__ = __webpack_require__(/*! jqueryui/dialog */ \"ESjL\");\nvar DialogBaseView,\n  bind = function(fn, me){ return function(){ return fn.apply(me, arguments); }; },\n  extend = function(child, parent) { for (var key in parent) { if (hasProp.call(parent, key)) child[key] = parent[key]; } function ctor() { this.constructor = child; } ctor.prototype = parent.prototype; child.prototype = new ctor(); child.__super__ = parent.prototype; return child; },\n  hasProp = {}.hasOwnProperty;\n\n\n\n\n\n\n\n\n\n\n\n/* harmony default export */ __webpack_exports__[\"default\"] = (DialogBaseView = (function(superClass) {\n  extend(DialogBaseView, superClass);\n\n  function DialogBaseView() {\n    this.cancel = bind(this.cancel, this);\n    return DialogBaseView.__super__.constructor.apply(this, arguments);\n  }\n\n  DialogBaseView.prototype.initialize = function() {\n    DialogBaseView.__super__.initialize.apply(this, arguments);\n    this.initDialog();\n    return this.setElement(this.dialog);\n  };\n\n  DialogBaseView.prototype.defaultOptions = function() {\n    return {\n      autoOpen: false,\n      width: 420,\n      resizable: false,\n      buttons: [],\n      destroy: false\n    };\n  };\n\n  DialogBaseView.prototype.initDialog = function() {\n    var opts;\n    opts = underscore__WEBPACK_IMPORTED_MODULE_2___default.a.extend({}, this.defaultOptions(), {\n      buttons: [\n        {\n          text: i18n_dialog__WEBPACK_IMPORTED_MODULE_0__[\"default\"].t('#buttons.cancel', 'Cancel'),\n          'class': 'cancel_button',\n          click: (function(_this) {\n            return function(e) {\n              return _this.cancel(e);\n            };\n          })(this)\n        }, {\n          text: i18n_dialog__WEBPACK_IMPORTED_MODULE_0__[\"default\"].t('#buttons.update', 'Update'),\n          'class': 'btn-primary',\n          click: (function(_this) {\n            return function(e) {\n              return _this.update(e);\n            };\n          })(this)\n        }\n      ]\n    }, underscore__WEBPACK_IMPORTED_MODULE_2___default.a.result(this, 'dialogOptions'));\n    this.dialog = jquery__WEBPACK_IMPORTED_MODULE_1___default()(\"<div id=\\\"\" + opts.id + \"\\\"></div>\").appendTo('body').dialog(opts);\n    if (opts.containerId) {\n      this.dialog.parent().attr('id', opts.containerId);\n    }\n    jquery__WEBPACK_IMPORTED_MODULE_1___default()('.ui-resizable-handle').attr('aria-hidden', true);\n    return this.dialog;\n  };\n\n  DialogBaseView.prototype.show = function() {\n    return this.dialog.dialog('open');\n  };\n\n  DialogBaseView.prototype.close = function() {\n    if (this.options.destroy) {\n      return this.dialog.dialog('destroy');\n    } else {\n      return this.dialog.dialog('close');\n    }\n  };\n\n  DialogBaseView.prototype.update = function(e) {\n    throw 'Not yet implemented';\n  };\n\n  DialogBaseView.prototype.cancel = function(e) {\n    e.preventDefault();\n    return this.close();\n  };\n\n  return DialogBaseView;\n\n})(_canvas_backbone__WEBPACK_IMPORTED_MODULE_3___default.a.View));\n\n\n//# sourceURL=webpack:///./ui/shared/dialog-base-view/index.coffee?");

/***/ }),

/***/ "NUd+":
/*!***********************************************************************!*\
  !*** ./ui/shared/avatar-dialog-view/backbone/views/UploadFileView.js ***!
  \***********************************************************************/
/*! exports provided: default */
/***/ (function(module, __webpack_exports__, __webpack_require__) {

"use strict";
eval("__webpack_require__.r(__webpack_exports__);\n/* harmony export (binding) */ __webpack_require__.d(__webpack_exports__, \"default\", function() { return UploadFileView; });\n/* harmony import */ var jquery__WEBPACK_IMPORTED_MODULE_0__ = __webpack_require__(/*! jquery */ \"ouhR\");\n/* harmony import */ var jquery__WEBPACK_IMPORTED_MODULE_0___default = /*#__PURE__*/__webpack_require__.n(jquery__WEBPACK_IMPORTED_MODULE_0__);\n/* harmony import */ var _AvatarUploadBaseView__WEBPACK_IMPORTED_MODULE_1__ = __webpack_require__(/*! ./AvatarUploadBaseView */ \"HyeI\");\n/* harmony import */ var _jst_uploadFileView_handlebars__WEBPACK_IMPORTED_MODULE_2__ = __webpack_require__(/*! ../../jst/uploadFileView.handlebars */ \"CC99\");\n/* harmony import */ var _react_cropperMaker__WEBPACK_IMPORTED_MODULE_3__ = __webpack_require__(/*! ../../react/cropperMaker */ \"XtEA\");\n//\n// Copyright (C) 2014 - present Instructure, Inc.\n//\n// This file is part of Canvas.\n//\n// Canvas is free software: you can redistribute it and/or modify it under\n// the terms of the GNU Affero General Public License as published by the Free\n// Software Foundation, version 3 of the License.\n//\n// Canvas is distributed in the hope that it will be useful, but WITHOUT ANY\n// WARRANTY; without even the implied warranty of MERCHANTABILITY or FITNESS FOR\n// A PARTICULAR PURPOSE. See the GNU Affero General Public License for more\n// details.\n//\n// You should have received a copy of the GNU Affero General Public License along\n// with this program. If not, see <http://www.gnu.org/licenses/>.\n//\n\n\n\n\nclass UploadFileView extends _AvatarUploadBaseView__WEBPACK_IMPORTED_MODULE_1__[\"default\"] {\n  constructor(...args) {\n    super(...args);\n\n    this.loadPreview = file => {\n      if (!file.type.match(/^image/)) {\n        alert('Invalid file type.');\n        return false;\n      }\n\n      return this.showPreview(file);\n    };\n  }\n\n  static initClass() {\n    this.optionProperty('avatarSize');\n    this.prototype.template = _jst_uploadFileView_handlebars__WEBPACK_IMPORTED_MODULE_2__[\"default\"];\n    this.prototype.events = {\n      'click .select-photo-link': 'onChooseAvatar',\n      'change #selected-photo': 'onSelectAvatar',\n      'dragover .select-photo-link': 'onDragOver',\n      'dragleave .select-photo-link': 'onDragLeave',\n      'drop .select-photo-link': 'onFileDrop'\n    };\n  }\n\n  onChooseAvatar(e) {\n    e.preventDefault();\n    return this.openFileDialog();\n  }\n\n  onSelectAvatar(e) {\n    e.preventDefault();\n    return this.loadPreview(e.target.files[0]);\n  }\n\n  onDragLeave(e) {\n    return this.toggleOverStyle(false);\n  }\n\n  onDragOver(e) {\n    e.stopPropagation();\n    e.preventDefault();\n    e.originalEvent.dataTransfer.dropEffect = 'copy';\n    return this.toggleOverStyle(true);\n  }\n\n  onFileDrop(e) {\n    e.stopPropagation();\n    e.preventDefault();\n    return this.loadPreview(e.originalEvent.dataTransfer.files[0]);\n  }\n\n  openFileDialog() {\n    return this.$('#selected-photo').click();\n  }\n\n  toggleOverStyle(force) {\n    return this.$('.select-photo-link').toggleClass('over', force);\n  }\n\n  showPreview(file) {\n    this.file = file;\n    this.render();\n    return this.initCropping();\n  }\n\n  hidePreview() {\n    delete this.file;\n\n    if (this.cropper) {\n      this.cropper.unmount();\n      delete this.cropper;\n    }\n\n    return this.render();\n  }\n\n  render() {\n    this.revokeURLObjects();\n    return super.render(...arguments);\n  }\n\n  teardown() {\n    this.hidePreview();\n    return this.revokeURLObjects();\n  }\n\n  revokeURLObjects() {\n    return this.$('img').each(function () {\n      const src = jquery__WEBPACK_IMPORTED_MODULE_0___default()(this).attr('src');\n\n      if (src.match(/^data/)) {\n        return typeof window.URL.revokeObjectURL === 'function' ? window.URL.revokeObjectURL(src) : void 0;\n      }\n    });\n  }\n\n  imageDimensions($preview, $fullSize) {\n    let dimensions;\n    const heightRatio = $fullSize.height() / $preview.height();\n    const widthRatio = $fullSize.width() / $preview.width();\n    return dimensions = {\n      heightRatio,\n      widthRatio,\n      x: Math.floor(this.currentCoords.x * widthRatio),\n      y: Math.floor(this.currentCoords.y * heightRatio),\n      w: Math.floor(this.currentCoords.w * widthRatio),\n      h: Math.floor(this.currentCoords.h * heightRatio)\n    };\n  }\n\n  getImage() {\n    // crop returns a Promise, but we exepct getImage to return a Deferred\n    const dfd = jquery__WEBPACK_IMPORTED_MODULE_0___default.a.Deferred();\n    this.cropper.crop().then(imageBlob => dfd.resolve(imageBlob));\n    return dfd;\n  }\n\n  initCropping() {\n    if (!this.cropper) {\n      this.cropper = new _react_cropperMaker__WEBPACK_IMPORTED_MODULE_3__[\"default\"](this.$('.avatar-preview')[0], {\n        imgFile: this.file,\n        onImageLoaded: this.options.onImageLoaded,\n        width: this.avatarSize.w,\n        height: this.avatarSize.h\n      });\n    }\n\n    this.cropper.render();\n    return this.trigger('ready');\n  }\n\n  toJSON() {\n    return {\n      hasPreview: !!this.file\n    };\n  }\n\n}\nUploadFileView.initClass();\n\n//# sourceURL=webpack:///./ui/shared/avatar-dialog-view/backbone/views/UploadFileView.js?");

/***/ }),

/***/ "PIgI":
/*!************************************************!*\
  !*** ./node_modules/data-uri-to-blob/index.js ***!
  \************************************************/
/*! no static exports found */
/***/ (function(module, exports) {

eval("\n/**\n * Blob constructor.\n */\n\nvar Blob = window.Blob;\n\n/**\n * ArrayBufferView support.\n */\n\nvar hasArrayBufferView = new Blob([new Uint8Array(100)]).size == 100;\n\n/**\n * Return a `Blob` for the given data `uri`.\n *\n * @param {String} uri\n * @return {Blob}\n * @api public\n */\n\nmodule.exports = function(uri){\n  var data = uri.split(',')[1];\n  var bytes = atob(data);\n  var buf = new ArrayBuffer(bytes.length);\n  var arr = new Uint8Array(buf);\n  for (var i = 0; i < bytes.length; i++) {\n    arr[i] = bytes.charCodeAt(i);\n  }\n\n  if (!hasArrayBufferView) arr = buf;\n  var blob = new Blob([arr], { type: mime(uri) });\n  blob.slice = blob.slice || blob.webkitSlice;\n  return blob;\n};\n\n/**\n * Return data uri mime type.\n */\n\nfunction mime(uri) {\n  return uri.split(';')[0].slice(5);\n}\n\n\n//# sourceURL=webpack:///./node_modules/data-uri-to-blob/index.js?");

/***/ }),

/***/ "PfG7":
/*!*******************************************!*\
  !*** ./ui/features/profile_show/index.js ***!
  \*******************************************/
/*! no exports provided */
/***/ (function(module, __webpack_exports__, __webpack_require__) {

"use strict";
eval("__webpack_require__.r(__webpack_exports__);\n/* harmony import */ var _backbone_views_ProfileShow__WEBPACK_IMPORTED_MODULE_0__ = __webpack_require__(/*! ./backbone/views/ProfileShow */ \"ZZKE\");\n/* harmony import */ var _instructure_ready__WEBPACK_IMPORTED_MODULE_1__ = __webpack_require__(/*! @instructure/ready */ \"3lLS\");\n/* harmony import */ var _instructure_ready__WEBPACK_IMPORTED_MODULE_1___default = /*#__PURE__*/__webpack_require__.n(_instructure_ready__WEBPACK_IMPORTED_MODULE_1__);\n/*\n * Copyright (C) 2012 - present Instructure, Inc.\n *\n * This file is part of Canvas.\n *\n * Canvas is free software: you can redistribute it and/or modify it under\n * the terms of the GNU Affero General Public License as published by the Free\n * Software Foundation, version 3 of the License.\n *\n * Canvas is distributed in the hope that it will be useful, but WITHOUT ANY\n * WARRANTY; without even the implied warranty of MERCHANTABILITY or FITNESS FOR\n * A PARTICULAR PURPOSE. See the GNU Affero General Public License for more\n * details.\n *\n * You should have received a copy of the GNU Affero General Public License along\n * with this program. If not, see <http://www.gnu.org/licenses/>.\n */\n\n\n_instructure_ready__WEBPACK_IMPORTED_MODULE_1___default()(() => {\n  new _backbone_views_ProfileShow__WEBPACK_IMPORTED_MODULE_0__[\"default\"](ENV.PROFILE);\n});\n\n//# sourceURL=webpack:///./ui/features/profile_show/index.js?");

/***/ }),

/***/ "RHPz":
/*!***************************************************************************************!*\
  !*** ./frontend_build/i18n.js?profiles.avatar_dialog!./ui/shims/dummyI18nResource.js ***!
  \***************************************************************************************/
/*! exports provided: default */
/***/ (function(module, __webpack_exports__, __webpack_require__) {

"use strict";
eval("__webpack_require__.r(__webpack_exports__);\n/* harmony import */ var _canvas_i18n_i18nObj__WEBPACK_IMPORTED_MODULE_0__ = __webpack_require__(/*! @canvas/i18n/i18nObj */ \"HGxv\");\n/* harmony import */ var translations_core_en__WEBPACK_IMPORTED_MODULE_1__ = __webpack_require__(/*! translations/_core_en */ \"0sPK\");\n\n    \n    \n    \n\n    /* harmony default export */ __webpack_exports__[\"default\"] = (_canvas_i18n_i18nObj__WEBPACK_IMPORTED_MODULE_0__[\"default\"].scoped('profiles.avatar_dialog'));\n  \n\n//# sourceURL=webpack:///./ui/shims/dummyI18nResource.js?./frontend_build/i18n.js?profiles.avatar_dialog");

/***/ }),

/***/ "T/QS":
/*!*******************************************************************************************!*\
  !*** ./frontend_build/i18n.js?profiles.take_picture_view!./ui/shims/dummyI18nResource.js ***!
  \*******************************************************************************************/
/*! exports provided: default */
/***/ (function(module, __webpack_exports__, __webpack_require__) {

"use strict";
eval("__webpack_require__.r(__webpack_exports__);\n/* harmony import */ var _canvas_i18n_i18nObj__WEBPACK_IMPORTED_MODULE_0__ = __webpack_require__(/*! @canvas/i18n/i18nObj */ \"HGxv\");\n/* harmony import */ var translations_core_en__WEBPACK_IMPORTED_MODULE_1__ = __webpack_require__(/*! translations/_core_en */ \"0sPK\");\n\n    \n    \n    \n\n    /* harmony default export */ __webpack_exports__[\"default\"] = (_canvas_i18n_i18nObj__WEBPACK_IMPORTED_MODULE_0__[\"default\"].scoped('profiles.take_picture_view'));\n  \n\n//# sourceURL=webpack:///./ui/shims/dummyI18nResource.js?./frontend_build/i18n.js?profiles.take_picture_view");

/***/ }),

/***/ "XQFv":
/*!***************************************************************************************!*\
  !*** ./frontend_build/i18n.js?profiles.gravatar_view!./ui/shims/dummyI18nResource.js ***!
  \***************************************************************************************/
/*! exports provided: default */
/***/ (function(module, __webpack_exports__, __webpack_require__) {

"use strict";
eval("__webpack_require__.r(__webpack_exports__);\n/* harmony import */ var _canvas_i18n_i18nObj__WEBPACK_IMPORTED_MODULE_0__ = __webpack_require__(/*! @canvas/i18n/i18nObj */ \"HGxv\");\n/* harmony import */ var translations_core_en__WEBPACK_IMPORTED_MODULE_1__ = __webpack_require__(/*! translations/_core_en */ \"0sPK\");\n\n    \n    \n    \n\n    /* harmony default export */ __webpack_exports__[\"default\"] = (_canvas_i18n_i18nObj__WEBPACK_IMPORTED_MODULE_0__[\"default\"].scoped('profiles.gravatar_view'));\n  \n\n//# sourceURL=webpack:///./ui/shims/dummyI18nResource.js?./frontend_build/i18n.js?profiles.gravatar_view");

/***/ }),

/***/ "XtEA":
/*!************************************************************!*\
  !*** ./ui/shared/avatar-dialog-view/react/cropperMaker.js ***!
  \************************************************************/
/*! exports provided: default */
/***/ (function(module, __webpack_exports__, __webpack_require__) {

"use strict";
eval("__webpack_require__.r(__webpack_exports__);\n/* harmony import */ var react__WEBPACK_IMPORTED_MODULE_0__ = __webpack_require__(/*! react */ \"q1tI\");\n/* harmony import */ var react__WEBPACK_IMPORTED_MODULE_0___default = /*#__PURE__*/__webpack_require__.n(react__WEBPACK_IMPORTED_MODULE_0__);\n/* harmony import */ var react_dom__WEBPACK_IMPORTED_MODULE_1__ = __webpack_require__(/*! react-dom */ \"i8i4\");\n/* harmony import */ var react_dom__WEBPACK_IMPORTED_MODULE_1___default = /*#__PURE__*/__webpack_require__.n(react_dom__WEBPACK_IMPORTED_MODULE_1__);\n/* harmony import */ var _cropper__WEBPACK_IMPORTED_MODULE_2__ = __webpack_require__(/*! ./cropper */ \"Hl2H\");\n/*\n * Copyright (C) 2016 - present Instructure, Inc.\n *\n * This file is part of Canvas.\n *\n * Canvas is free software: you can redistribute it and/or modify it under\n * the terms of the GNU Affero General Public License as published by the Free\n * Software Foundation, version 3 of the License.\n *\n * Canvas is distributed in the hope that it will be useful, but WITHOUT ANY\n * WARRANTY; without even the implied warranty of MERCHANTABILITY or FITNESS FOR\n * A PARTICULAR PURPOSE. See the GNU Affero General Public License for more\n * details.\n *\n * You should have received a copy of the GNU Affero General Public License along\n * with this program. If not, see <http://www.gnu.org/licenses/>.\n */\n\n\n // CanvasCropperMaker is the component you'll create if injecting the cropper\n// into existing non-react UI (see UploadFileView.coffee for sample usage)\n//  let cropper = new Cropper(@$('.avatar-preview')[0], {imgFile: @file, width: @avatarSize.w, height: @avatarSize.h})\n//  cropper.render()\n//\n\nclass CanvasCropperMaker {\n  // @param root: DOM node where I want the cropper created\n  // @param props: properties\n  //    imgFile: the File object returned from the native file open dialog\n  //    width: desired width in px of the final cropped image\n  //    height: desired height in px of the final cropped image\n  constructor(root, props) {\n    this.root = root; // DOM node we render into\n\n    this.imgFile = props.imgFile;\n    this.onImageLoaded = props.onImageLoaded;\n    this.width = props.width || 128;\n    this.height = props.height || 128;\n    this.cropper = null;\n  }\n\n  unmount() {\n    react_dom__WEBPACK_IMPORTED_MODULE_1___default.a.unmountComponentAtNode(this.root);\n  }\n\n  render() {\n    react_dom__WEBPACK_IMPORTED_MODULE_1___default.a.render( /*#__PURE__*/react__WEBPACK_IMPORTED_MODULE_0___default.a.createElement(_cropper__WEBPACK_IMPORTED_MODULE_2__[\"default\"], {\n      height: this.height,\n      imgFile: this.imgFile,\n      onImageLoaded: this.onImageLoaded,\n      ref: el => {\n        this.cropper = el;\n      },\n      width: this.width\n    }), this.root);\n  } // crop the image.\n  // returns a promise that resolves with the cropped image as a blob\n\n\n  crop() {\n    return this.cropper ? this.cropper.crop() : null;\n  }\n\n}\n\n/* harmony default export */ __webpack_exports__[\"default\"] = (CanvasCropperMaker);\n\n//# sourceURL=webpack:///./ui/shared/avatar-dialog-view/react/cropperMaker.js?");

/***/ }),

/***/ "Yyqg":
/*!******************************************************************!*\
  !*** ./ui/shared/avatar-dialog-view/jst/avatarDialog.handlebars ***!
  \******************************************************************/
/*! exports provided: default */
/***/ (function(module, __webpack_exports__, __webpack_require__) {

"use strict";
eval("__webpack_require__.r(__webpack_exports__);\n/* harmony import */ var handlebars_runtime__WEBPACK_IMPORTED_MODULE_0__ = __webpack_require__(/*! handlebars/runtime */ \"3O+N\");\n/* harmony import */ var handlebars_runtime__WEBPACK_IMPORTED_MODULE_0___default = /*#__PURE__*/__webpack_require__.n(handlebars_runtime__WEBPACK_IMPORTED_MODULE_0__);\n/* harmony import */ var i18n_profiles_avatar_dialog__WEBPACK_IMPORTED_MODULE_1__ = __webpack_require__(/*! i18n!profiles.avatar_dialog */ \"RHPz\");\n/* harmony import */ var _canvas_handlebars_helpers_index_coffee__WEBPACK_IMPORTED_MODULE_2__ = __webpack_require__(/*! @canvas/handlebars-helpers/index.coffee */ \"BGrI\");\n\n    \n    var Handlebars = handlebars_runtime__WEBPACK_IMPORTED_MODULE_0___default.a.default;\n    \n\n\n    var template = Handlebars.template, templates = Handlebars.templates = Handlebars.templates || {};\n    var name = '/home/td/workspace/guokehuiyi/canvas/ui/shared/avatar-dialog-view/jst/avatarDialog';\n    templates[name] = template(function (Handlebars,depth0,helpers,partials,data) {\n  this.compilerInfo = [4,'>= 1.0.0'];\nhelpers = this.merge(helpers, Handlebars.helpers); data = data || {};\n  var buffer = \"\", stack1, helperMissing=helpers.helperMissing, escapeExpression=this.escapeExpression, self=this;\n\nfunction program1(depth0,data) {\n  \n  var buffer = \"\", helper, options;\n  buffer += \"\\n      <li class=\\\"active\\\">\\n        <a href=\\\"#upload-picture\\\">\"\n    + escapeExpression((helper = helpers.t || (depth0 && depth0.t),options={hash:{\n    'i18n_inferred_key': (true)\n  },data:data},helper ? helper.call(depth0, \"upload_a_picture_9f5f6e3c\", \"Upload a Picture\", options) : helperMissing.call(depth0, \"t\", \"upload_a_picture_9f5f6e3c\", \"Upload a Picture\", options)))\n    + \"</a>\\n      </li>\\n    \";\n  return buffer;\n  }\n\nfunction program3(depth0,data) {\n  \n  var buffer = \"\", helper, options;\n  buffer += \"\\n      <li>\\n        <a href=\\\"#take-picture\\\">\"\n    + escapeExpression((helper = helpers.t || (depth0 && depth0.t),options={hash:{\n    'i18n_inferred_key': (true)\n  },data:data},helper ? helper.call(depth0, \"take_a_picture_d582acf1\", \"Take a Picture\", options) : helperMissing.call(depth0, \"t\", \"take_a_picture_d582acf1\", \"Take a Picture\", options)))\n    + \"</a>\\n      </li>\\n    \";\n  return buffer;\n  }\n\nfunction program5(depth0,data) {\n  \n  var buffer = \"\", helper, options;\n  buffer += \"\\n      <li>\\n        <a href=\\\"#from-gravatar\\\">\"\n    + escapeExpression((helper = helpers.t || (depth0 && depth0.t),options={hash:{\n    'i18n_inferred_key': (true)\n  },data:data},helper ? helper.call(depth0, \"from_gravatar_58372d5a\", \"From Gravatar\", options) : helperMissing.call(depth0, \"t\", \"from_gravatar_58372d5a\", \"From Gravatar\", options)))\n    + \"</a>\\n      </li>\\n    \";\n  return buffer;\n  }\n\n  buffer += \"<div class=\\\"avatar-nav\\\">\\n  <ul class=\\\"nav nav-pills\\\">\\n    \";\n  stack1 = helpers['if'].call(depth0, (depth0 && depth0.hasFileReader), {hash:{},inverse:self.noop,fn:self.program(1, program1, data),data:data});\n  if(stack1 || stack1 === 0) { buffer += stack1; }\n  buffer += \"\\n    \";\n  stack1 = helpers['if'].call(depth0, (depth0 && depth0.hasGetUserMedia), {hash:{},inverse:self.noop,fn:self.program(3, program3, data),data:data});\n  if(stack1 || stack1 === 0) { buffer += stack1; }\n  buffer += \"\\n    \";\n  stack1 = helpers['if'].call(depth0, (depth0 && depth0.enableGravatar), {hash:{},inverse:self.noop,fn:self.program(5, program5, data),data:data});\n  if(stack1 || stack1 === 0) { buffer += stack1; }\n  buffer += \"\\n  </ul>\\n</div>\\n\\n<div class=\\\"avatar-content\\\">\\n  <div class=\\\"active\\\" id=\\\"upload-picture\\\"></div>\\n  <div id=\\\"take-picture\\\" class=\\\"text-center\\\"></div>\\n  <div id=\\\"from-gravatar\\\" class=\\\"text-center\\\"></div>\\n</div>\\n\";\n  return buffer;\n  });\n    ;\n    ;\n    /* harmony default export */ __webpack_exports__[\"default\"] = (templates[name]);\n  \n\n//# sourceURL=webpack:///./ui/shared/avatar-dialog-view/jst/avatarDialog.handlebars?");

/***/ }),

/***/ "Z1n7":
/*!*********************************************************************!*\
  !*** ./ui/shared/avatar-dialog-view/backbone/views/GravatarView.js ***!
  \*********************************************************************/
/*! exports provided: default */
/***/ (function(module, __webpack_exports__, __webpack_require__) {

"use strict";
eval("__webpack_require__.r(__webpack_exports__);\n/* harmony export (binding) */ __webpack_require__.d(__webpack_exports__, \"default\", function() { return GravatarView; });\n/* harmony import */ var jquery__WEBPACK_IMPORTED_MODULE_0__ = __webpack_require__(/*! jquery */ \"ouhR\");\n/* harmony import */ var jquery__WEBPACK_IMPORTED_MODULE_0___default = /*#__PURE__*/__webpack_require__.n(jquery__WEBPACK_IMPORTED_MODULE_0__);\n/* harmony import */ var _AvatarUploadBaseView__WEBPACK_IMPORTED_MODULE_1__ = __webpack_require__(/*! ./AvatarUploadBaseView */ \"HyeI\");\n/* harmony import */ var _jst_gravatarView_handlebars__WEBPACK_IMPORTED_MODULE_2__ = __webpack_require__(/*! ../../jst/gravatarView.handlebars */ \"toxo\");\n/* harmony import */ var md5__WEBPACK_IMPORTED_MODULE_3__ = __webpack_require__(/*! md5 */ \"aCH8\");\n/* harmony import */ var md5__WEBPACK_IMPORTED_MODULE_3___default = /*#__PURE__*/__webpack_require__.n(md5__WEBPACK_IMPORTED_MODULE_3__);\n/* harmony import */ var _canvas_jquery_jquery_ajaxJSON__WEBPACK_IMPORTED_MODULE_4__ = __webpack_require__(/*! @canvas/jquery/jquery.ajaxJSON */ \"dhbk\");\n//\n// Copyright (C) 2013 - present Instructure, Inc.\n//\n// This file is part of Canvas.\n//\n// Canvas is free software: you can redistribute it and/or modify it under\n// the terms of the GNU Affero General Public License as published by the Free\n// Software Foundation, version 3 of the License.\n//\n// Canvas is distributed in the hope that it will be useful, but WITHOUT ANY\n// WARRANTY; without even the implied warranty of MERCHANTABILITY or FITNESS FOR\n// A PARTICULAR PURPOSE. See the GNU Affero General Public License for more\n// details.\n//\n// You should have received a copy of the GNU Affero General Public License along\n// with this program. If not, see <http://www.gnu.org/licenses/>.\n//\n\n\n\n\n\nclass GravatarView extends _AvatarUploadBaseView__WEBPACK_IMPORTED_MODULE_1__[\"default\"] {\n  static initClass() {\n    this.optionProperty('avatarSize');\n    this.prototype.template = _jst_gravatarView_handlebars__WEBPACK_IMPORTED_MODULE_2__[\"default\"];\n    this.prototype.events = {\n      'click .gravatar-preview-btn': 'onPreview',\n      'keydown .gravatar-preview-input': 'onInputKeyDown'\n    };\n    this.prototype.els = {\n      '.gravatar-preview-image': '$gravatarPreviewImage',\n      '.gravatar-preview-input': '$gravatarPreviewInput'\n    };\n  }\n\n  onPreview(e) {\n    e.preventDefault();\n    return this._updatePreviewFromInput();\n  }\n\n  onInputKeyDown(e) {\n    if (e.keyCode === 13) {\n      e.preventDefault();\n      return this._updatePreviewFromInput();\n    }\n  }\n\n  setup() {\n    const primaryEmail = ENV.PROFILE != null ? ENV.PROFILE.primary_email : void 0;\n\n    if (primaryEmail) {\n      this.$gravatarPreviewInput.val(primaryEmail);\n      return this._updatePreviewFromInput();\n    }\n  }\n\n  updateAvatar() {\n    const url = '/api/v1/users/self';\n    const updateParams = {\n      'user[avatar][url]': this._gravatarUrl(this._gravatarHashFromInput(), this.avatarSize.w)\n    };\n    return jquery__WEBPACK_IMPORTED_MODULE_0___default.a.ajaxJSON(url, 'PUT', updateParams);\n  }\n\n  getImage() {\n    throw 'GravatarView does not support getImage()';\n  }\n\n  _updatePreviewFromInput() {\n    const hash = this._gravatarHashFromInput();\n\n    return this._setGravatarPreview(this._gravatarUrl(hash));\n  }\n\n  _gravatarHashFromInput() {\n    const email = this._prepareEmail(this.$gravatarPreviewInput.val());\n\n    return md5__WEBPACK_IMPORTED_MODULE_3___default()(email);\n  }\n\n  _gravatarUrl(hash, size = 200, fallback = 'identicon') {\n    return `https://secure.gravatar.com/avatar/${hash}?s=${size}&d=${fallback}`;\n  }\n\n  _setGravatarPreview(url) {\n    this.$gravatarPreviewImage.attr('src', url);\n    return this.trigger('ready');\n  }\n\n  _prepareEmail(email) {\n    return email.trim().toLowerCase();\n  }\n\n}\nGravatarView.initClass();\n\n//# sourceURL=webpack:///./ui/shared/avatar-dialog-view/backbone/views/GravatarView.js?");

/***/ }),

/***/ "ZZKE":
/*!****************************************************************!*\
  !*** ./ui/features/profile_show/backbone/views/ProfileShow.js ***!
  \****************************************************************/
/*! exports provided: default */
/***/ (function(module, __webpack_exports__, __webpack_require__) {

"use strict";
eval("__webpack_require__.r(__webpack_exports__);\n/* harmony export (binding) */ __webpack_require__.d(__webpack_exports__, \"default\", function() { return ProfileShow; });\n/* harmony import */ var i18n_user_profile__WEBPACK_IMPORTED_MODULE_0__ = __webpack_require__(/*! i18n!user_profile */ \"3UsQ\");\n/* harmony import */ var _canvas_backbone__WEBPACK_IMPORTED_MODULE_1__ = __webpack_require__(/*! @canvas/backbone */ \"mX+G\");\n/* harmony import */ var _canvas_backbone__WEBPACK_IMPORTED_MODULE_1___default = /*#__PURE__*/__webpack_require__.n(_canvas_backbone__WEBPACK_IMPORTED_MODULE_1__);\n/* harmony import */ var jquery__WEBPACK_IMPORTED_MODULE_2__ = __webpack_require__(/*! jquery */ \"ouhR\");\n/* harmony import */ var jquery__WEBPACK_IMPORTED_MODULE_2___default = /*#__PURE__*/__webpack_require__.n(jquery__WEBPACK_IMPORTED_MODULE_2__);\n/* harmony import */ var _jst_addLinkRow_handlebars__WEBPACK_IMPORTED_MODULE_3__ = __webpack_require__(/*! ../../jst/addLinkRow.handlebars */ \"A0G5\");\n/* harmony import */ var _canvas_avatar_dialog_view__WEBPACK_IMPORTED_MODULE_4__ = __webpack_require__(/*! @canvas/avatar-dialog-view */ \"0NOZ\");\n/* harmony import */ var _canvas_forms_jquery_jquery_instructure_forms__WEBPACK_IMPORTED_MODULE_5__ = __webpack_require__(/*! @canvas/forms/jquery/jquery.instructure_forms */ \"Dhso\");\n//\n// Copyright (C) 2012 - present Instructure, Inc.\n//\n// This file is part of Canvas.\n//\n// Canvas is free software: you can redistribute it and/or modify it under\n// the terms of the GNU Affero General Public License as published by the Free\n// Software Foundation, version 3 of the License.\n//\n// Canvas is distributed in the hope that it will be useful, but WITHOUT ANY\n// WARRANTY; without even the implied warranty of MERCHANTABILITY or FITNESS FOR\n// A PARTICULAR PURPOSE. See the GNU Affero General Public License for more\n// details.\n//\n// You should have received a copy of the GNU Affero General Public License along\n// with this program. If not, see <http://www.gnu.org/licenses/>.\n//\n\n\n\n\n\n\nclass ProfileShow extends _canvas_backbone__WEBPACK_IMPORTED_MODULE_1___default.a.View {\n  static initClass() {\n    this.prototype.el = document.body;\n    this.prototype.events = {\n      'click [data-event]': 'handleDeclarativeClick',\n      'submit #edit_profile_form': 'validateForm',\n      'click .report_avatar_link': 'reportAvatarLink'\n    };\n    this.prototype.attemptedDependencyLoads = 0;\n  }\n\n  initialize() {\n    super.initialize(...arguments);\n    return new _canvas_avatar_dialog_view__WEBPACK_IMPORTED_MODULE_4__[\"default\"]('.profile-link');\n  }\n\n  reportAvatarLink(e) {\n    e.preventDefault();\n    if (!confirm(i18n_user_profile__WEBPACK_IMPORTED_MODULE_0__[\"default\"].t('Are you sure you want to report this profile picture?'))) return;\n    const link = jquery__WEBPACK_IMPORTED_MODULE_2___default()(e.currentTarget);\n    jquery__WEBPACK_IMPORTED_MODULE_2___default()('.avatar').hide();\n    return jquery__WEBPACK_IMPORTED_MODULE_2___default.a.ajaxJSON(link.attr('href'), 'POST', {}, data => jquery__WEBPACK_IMPORTED_MODULE_2___default.a.flashMessage(i18n_user_profile__WEBPACK_IMPORTED_MODULE_0__[\"default\"].t('The profile picture has been reported')));\n  }\n\n  handleDeclarativeClick(event) {\n    event.preventDefault();\n    const $target = jquery__WEBPACK_IMPORTED_MODULE_2___default()(event.currentTarget);\n    const method = $target.data('event');\n    if (typeof this[method] === 'function') return this[method](event, $target);\n  } // #\n  // first run initializes some stuff, then is reassigned\n  // to a showEditForm\n\n\n  editProfile() {\n    this.initEdit();\n    return this.editProfile = this.showEditForm;\n  }\n\n  showEditForm() {\n    this.$el.addClass('editing').removeClass('not-editing');\n    const elementToFocus = document.querySelector('#name_input') || document.querySelector('#profile_bio');\n    return elementToFocus.focus();\n  }\n\n  initEdit() {\n    if (this.options.links && this.options.links.length) {\n      for (const _ref of this.options.links) {\n        const title = _ref.title;\n        const url = _ref.url;\n        this.addLinkField(null, null, title, url);\n      }\n    } else {\n      this.addLinkField();\n      this.addLinkField();\n    }\n\n    return this.showEditForm();\n  }\n\n  cancelEditProfile() {\n    return this.$el.addClass('not-editing').removeClass('editing');\n  } // #\n  // Event handler that can also be called manually.\n  // When called manually, it will focus the first input in the new row\n\n\n  addLinkField(event, $el, title = '', url = '') {\n    if (this.$linkFields == null) {\n      this.$linkFields = this.$('#profile_link_fields');\n    }\n\n    const $row = jquery__WEBPACK_IMPORTED_MODULE_2___default()(Object(_jst_addLinkRow_handlebars__WEBPACK_IMPORTED_MODULE_3__[\"default\"])({\n      title,\n      url\n    }));\n    this.$linkFields.append($row); // focus if called from the \"add row\" button\n\n    if (event != null) {\n      event.preventDefault();\n      return $row.find('input:first').focus();\n    }\n  }\n\n  removeLinkRow(event, $el) {\n    const $parentRow = $el.parents('tr');\n    let $toFocus = $parentRow.prev().find('.remove_link_row');\n\n    if ($toFocus.length === 0) {\n      $toFocus = jquery__WEBPACK_IMPORTED_MODULE_2___default()('#profile_bio');\n    }\n\n    $parentRow.remove();\n    return $toFocus.focus();\n  }\n\n  validateForm(event) {\n    const validations = {\n      property_validations: {\n        'user_profile[title]': function (value) {\n          if (value && value.length > 255) {\n            return i18n_user_profile__WEBPACK_IMPORTED_MODULE_0__[\"default\"].t('profile_title_too_long', 'Title is too long');\n          }\n        },\n        'user_profile[bio]': function (value) {\n          if (value && value.length > 65536) {\n            return i18n_user_profile__WEBPACK_IMPORTED_MODULE_0__[\"default\"].t('profile_bio_too_long', 'Bio is too long');\n          }\n        },\n        'link_urls[]': function (value) {\n          if (value && /\\s/.test(value)) {\n            return i18n_user_profile__WEBPACK_IMPORTED_MODULE_0__[\"default\"].t('invalid_url', 'Invalid URL');\n          }\n        }\n      }\n    };\n\n    if (!jquery__WEBPACK_IMPORTED_MODULE_2___default()(event.target).validateForm(validations)) {\n      return event.preventDefault();\n    }\n  }\n\n}\nProfileShow.initClass();\n\n//# sourceURL=webpack:///./ui/features/profile_show/backbone/views/ProfileShow.js?");

/***/ }),

/***/ "Zorx":
/*!**************************************************************************************!*\
  !*** ./frontend_build/i18n.js?profiles.add_link_row!./ui/shims/dummyI18nResource.js ***!
  \**************************************************************************************/
/*! exports provided: default */
/***/ (function(module, __webpack_exports__, __webpack_require__) {

"use strict";
eval("__webpack_require__.r(__webpack_exports__);\n/* harmony import */ var _canvas_i18n_i18nObj__WEBPACK_IMPORTED_MODULE_0__ = __webpack_require__(/*! @canvas/i18n/i18nObj */ \"HGxv\");\n/* harmony import */ var translations_core_en__WEBPACK_IMPORTED_MODULE_1__ = __webpack_require__(/*! translations/_core_en */ \"0sPK\");\n\n    \n    \n    \n\n    /* harmony default export */ __webpack_exports__[\"default\"] = (_canvas_i18n_i18nObj__WEBPACK_IMPORTED_MODULE_0__[\"default\"].scoped('profiles.add_link_row'));\n  \n\n//# sourceURL=webpack:///./ui/shims/dummyI18nResource.js?./frontend_build/i18n.js?profiles.add_link_row");

/***/ }),

/***/ "aCH8":
/*!*********************************!*\
  !*** ./node_modules/md5/md5.js ***!
  \*********************************/
/*! no static exports found */
/***/ (function(module, exports, __webpack_require__) {

eval("(function(){\r\n  var crypt = __webpack_require__(/*! crypt */ \"ANhw\"),\r\n      utf8 = __webpack_require__(/*! charenc */ \"mmNF\").utf8,\r\n      isBuffer = __webpack_require__(/*! is-buffer */ \"BEtg\"),\r\n      bin = __webpack_require__(/*! charenc */ \"mmNF\").bin,\r\n\r\n  // The core\r\n  md5 = function (message, options) {\r\n    // Convert to byte array\r\n    if (message.constructor == String)\r\n      if (options && options.encoding === 'binary')\r\n        message = bin.stringToBytes(message);\r\n      else\r\n        message = utf8.stringToBytes(message);\r\n    else if (isBuffer(message))\r\n      message = Array.prototype.slice.call(message, 0);\r\n    else if (!Array.isArray(message) && message.constructor !== Uint8Array)\r\n      message = message.toString();\r\n    // else, assume byte array already\r\n\r\n    var m = crypt.bytesToWords(message),\r\n        l = message.length * 8,\r\n        a =  1732584193,\r\n        b = -271733879,\r\n        c = -1732584194,\r\n        d =  271733878;\r\n\r\n    // Swap endian\r\n    for (var i = 0; i < m.length; i++) {\r\n      m[i] = ((m[i] <<  8) | (m[i] >>> 24)) & 0x00FF00FF |\r\n             ((m[i] << 24) | (m[i] >>>  8)) & 0xFF00FF00;\r\n    }\r\n\r\n    // Padding\r\n    m[l >>> 5] |= 0x80 << (l % 32);\r\n    m[(((l + 64) >>> 9) << 4) + 14] = l;\r\n\r\n    // Method shortcuts\r\n    var FF = md5._ff,\r\n        GG = md5._gg,\r\n        HH = md5._hh,\r\n        II = md5._ii;\r\n\r\n    for (var i = 0; i < m.length; i += 16) {\r\n\r\n      var aa = a,\r\n          bb = b,\r\n          cc = c,\r\n          dd = d;\r\n\r\n      a = FF(a, b, c, d, m[i+ 0],  7, -680876936);\r\n      d = FF(d, a, b, c, m[i+ 1], 12, -389564586);\r\n      c = FF(c, d, a, b, m[i+ 2], 17,  606105819);\r\n      b = FF(b, c, d, a, m[i+ 3], 22, -1044525330);\r\n      a = FF(a, b, c, d, m[i+ 4],  7, -176418897);\r\n      d = FF(d, a, b, c, m[i+ 5], 12,  1200080426);\r\n      c = FF(c, d, a, b, m[i+ 6], 17, -1473231341);\r\n      b = FF(b, c, d, a, m[i+ 7], 22, -45705983);\r\n      a = FF(a, b, c, d, m[i+ 8],  7,  1770035416);\r\n      d = FF(d, a, b, c, m[i+ 9], 12, -1958414417);\r\n      c = FF(c, d, a, b, m[i+10], 17, -42063);\r\n      b = FF(b, c, d, a, m[i+11], 22, -1990404162);\r\n      a = FF(a, b, c, d, m[i+12],  7,  1804603682);\r\n      d = FF(d, a, b, c, m[i+13], 12, -40341101);\r\n      c = FF(c, d, a, b, m[i+14], 17, -1502002290);\r\n      b = FF(b, c, d, a, m[i+15], 22,  1236535329);\r\n\r\n      a = GG(a, b, c, d, m[i+ 1],  5, -165796510);\r\n      d = GG(d, a, b, c, m[i+ 6],  9, -1069501632);\r\n      c = GG(c, d, a, b, m[i+11], 14,  643717713);\r\n      b = GG(b, c, d, a, m[i+ 0], 20, -373897302);\r\n      a = GG(a, b, c, d, m[i+ 5],  5, -701558691);\r\n      d = GG(d, a, b, c, m[i+10],  9,  38016083);\r\n      c = GG(c, d, a, b, m[i+15], 14, -660478335);\r\n      b = GG(b, c, d, a, m[i+ 4], 20, -405537848);\r\n      a = GG(a, b, c, d, m[i+ 9],  5,  568446438);\r\n      d = GG(d, a, b, c, m[i+14],  9, -1019803690);\r\n      c = GG(c, d, a, b, m[i+ 3], 14, -187363961);\r\n      b = GG(b, c, d, a, m[i+ 8], 20,  1163531501);\r\n      a = GG(a, b, c, d, m[i+13],  5, -1444681467);\r\n      d = GG(d, a, b, c, m[i+ 2],  9, -51403784);\r\n      c = GG(c, d, a, b, m[i+ 7], 14,  1735328473);\r\n      b = GG(b, c, d, a, m[i+12], 20, -1926607734);\r\n\r\n      a = HH(a, b, c, d, m[i+ 5],  4, -378558);\r\n      d = HH(d, a, b, c, m[i+ 8], 11, -2022574463);\r\n      c = HH(c, d, a, b, m[i+11], 16,  1839030562);\r\n      b = HH(b, c, d, a, m[i+14], 23, -35309556);\r\n      a = HH(a, b, c, d, m[i+ 1],  4, -1530992060);\r\n      d = HH(d, a, b, c, m[i+ 4], 11,  1272893353);\r\n      c = HH(c, d, a, b, m[i+ 7], 16, -155497632);\r\n      b = HH(b, c, d, a, m[i+10], 23, -1094730640);\r\n      a = HH(a, b, c, d, m[i+13],  4,  681279174);\r\n      d = HH(d, a, b, c, m[i+ 0], 11, -358537222);\r\n      c = HH(c, d, a, b, m[i+ 3], 16, -722521979);\r\n      b = HH(b, c, d, a, m[i+ 6], 23,  76029189);\r\n      a = HH(a, b, c, d, m[i+ 9],  4, -640364487);\r\n      d = HH(d, a, b, c, m[i+12], 11, -421815835);\r\n      c = HH(c, d, a, b, m[i+15], 16,  530742520);\r\n      b = HH(b, c, d, a, m[i+ 2], 23, -995338651);\r\n\r\n      a = II(a, b, c, d, m[i+ 0],  6, -198630844);\r\n      d = II(d, a, b, c, m[i+ 7], 10,  1126891415);\r\n      c = II(c, d, a, b, m[i+14], 15, -1416354905);\r\n      b = II(b, c, d, a, m[i+ 5], 21, -57434055);\r\n      a = II(a, b, c, d, m[i+12],  6,  1700485571);\r\n      d = II(d, a, b, c, m[i+ 3], 10, -1894986606);\r\n      c = II(c, d, a, b, m[i+10], 15, -1051523);\r\n      b = II(b, c, d, a, m[i+ 1], 21, -2054922799);\r\n      a = II(a, b, c, d, m[i+ 8],  6,  1873313359);\r\n      d = II(d, a, b, c, m[i+15], 10, -30611744);\r\n      c = II(c, d, a, b, m[i+ 6], 15, -1560198380);\r\n      b = II(b, c, d, a, m[i+13], 21,  1309151649);\r\n      a = II(a, b, c, d, m[i+ 4],  6, -145523070);\r\n      d = II(d, a, b, c, m[i+11], 10, -1120210379);\r\n      c = II(c, d, a, b, m[i+ 2], 15,  718787259);\r\n      b = II(b, c, d, a, m[i+ 9], 21, -343485551);\r\n\r\n      a = (a + aa) >>> 0;\r\n      b = (b + bb) >>> 0;\r\n      c = (c + cc) >>> 0;\r\n      d = (d + dd) >>> 0;\r\n    }\r\n\r\n    return crypt.endian([a, b, c, d]);\r\n  };\r\n\r\n  // Auxiliary functions\r\n  md5._ff  = function (a, b, c, d, x, s, t) {\r\n    var n = a + (b & c | ~b & d) + (x >>> 0) + t;\r\n    return ((n << s) | (n >>> (32 - s))) + b;\r\n  };\r\n  md5._gg  = function (a, b, c, d, x, s, t) {\r\n    var n = a + (b & d | c & ~d) + (x >>> 0) + t;\r\n    return ((n << s) | (n >>> (32 - s))) + b;\r\n  };\r\n  md5._hh  = function (a, b, c, d, x, s, t) {\r\n    var n = a + (b ^ c ^ d) + (x >>> 0) + t;\r\n    return ((n << s) | (n >>> (32 - s))) + b;\r\n  };\r\n  md5._ii  = function (a, b, c, d, x, s, t) {\r\n    var n = a + (c ^ (b | ~d)) + (x >>> 0) + t;\r\n    return ((n << s) | (n >>> (32 - s))) + b;\r\n  };\r\n\r\n  // Package private blocksize\r\n  md5._blocksize = 16;\r\n  md5._digestsize = 16;\r\n\r\n  module.exports = function (message, options) {\r\n    if (message === undefined || message === null)\r\n      throw new Error('Illegal argument ' + message);\r\n\r\n    var digestbytes = crypt.wordsToBytes(md5(message, options));\r\n    return options && options.asBytes ? digestbytes :\r\n        options && options.asString ? bin.bytesToString(digestbytes) :\r\n        crypt.bytesToHex(digestbytes);\r\n  };\r\n\r\n})();\r\n\n\n//# sourceURL=webpack:///./node_modules/md5/md5.js?");

/***/ }),

/***/ "f1Cz":
/*!*****************************************************!*\
  !*** ./ui/shared/avatar-dialog-view/BlobFactory.js ***!
  \*****************************************************/
/*! exports provided: default */
/***/ (function(module, __webpack_exports__, __webpack_require__) {

"use strict";
eval("__webpack_require__.r(__webpack_exports__);\n/* harmony import */ var underscore__WEBPACK_IMPORTED_MODULE_0__ = __webpack_require__(/*! underscore */ \"Y/W1\");\n/* harmony import */ var underscore__WEBPACK_IMPORTED_MODULE_0___default = /*#__PURE__*/__webpack_require__.n(underscore__WEBPACK_IMPORTED_MODULE_0__);\n//\n// Copyright (C) 2014 - present Instructure, Inc.\n//\n// This file is part of Canvas.\n//\n// Canvas is free software: you can redistribute it and/or modify it under\n// the terms of the GNU Affero General Public License as published by the Free\n// Software Foundation, version 3 of the License.\n//\n// Canvas is distributed in the hope that it will be useful, but WITHOUT ANY\n// WARRANTY; without even the implied warranty of MERCHANTABILITY or FITNESS FOR\n// A PARTICULAR PURPOSE. See the GNU Affero General Public License for more\n// details.\n//\n// You should have received a copy of the GNU Affero General Public License along\n// with this program. If not, see <http://www.gnu.org/licenses/>.\n//\n\n/*\nxsslint xssable.receiver.whitelist builder\n*/\n\n/* harmony default export */ __webpack_exports__[\"default\"] = ({\n  fromCanvas(canvas, type = 'image/jpeg') {\n    const url = canvas.toDataURL(type);\n    const binary = atob(url.split(',')[1]);\n\n    const codes = underscore__WEBPACK_IMPORTED_MODULE_0___default.a.map(binary, char => char.charCodeAt(0));\n\n    const data = new Uint8Array(codes);\n    return this._newBlob(data, type);\n  },\n\n  fromXHR(response, type = 'image/jpeg') {\n    return this._newBlob(response, type);\n  },\n\n  _newBlob(src, type) {\n    const builder = this._blobBuilder();\n\n    if (builder) {\n      builder.append(src);\n      return builder.getBlob(type);\n    } else {\n      return new Blob([src], {\n        type\n      });\n    }\n  },\n\n  _blobBuilder() {\n    if (typeof window.Blob === 'function') return null;\n    window.BlobBuilder = window.BlobBuilder || window.WebKitBlobBuilder || window.MozBlobBuilder || window.MSBlobBuilder;\n    if (typeof window.BlobBuilder === 'undefined') return null;\n    return new window.BlobBuilder();\n  }\n\n});\n\n//# sourceURL=webpack:///./ui/shared/avatar-dialog-view/BlobFactory.js?");

/***/ }),

/***/ "hI1R":
/*!*****************************************************************************!*\
  !*** ./frontend_build/i18n.js?user_content!./ui/shims/dummyI18nResource.js ***!
  \*****************************************************************************/
/*! exports provided: default */
/***/ (function(module, __webpack_exports__, __webpack_require__) {

"use strict";
eval("__webpack_require__.r(__webpack_exports__);\n/* harmony import */ var _canvas_i18n_i18nObj__WEBPACK_IMPORTED_MODULE_0__ = __webpack_require__(/*! @canvas/i18n/i18nObj */ \"HGxv\");\n/* harmony import */ var translations_core_en__WEBPACK_IMPORTED_MODULE_1__ = __webpack_require__(/*! translations/_core_en */ \"0sPK\");\n\n    \n    \n    \n\n    /* harmony default export */ __webpack_exports__[\"default\"] = (_canvas_i18n_i18nObj__WEBPACK_IMPORTED_MODULE_0__[\"default\"].scoped('user_content'));\n  \n\n//# sourceURL=webpack:///./ui/shims/dummyI18nResource.js?./frontend_build/i18n.js?user_content");

/***/ }),

/***/ "if3q":
/*!************************************************************************!*\
  !*** ./frontend_build/i18n.js?profile!./ui/shims/dummyI18nResource.js ***!
  \************************************************************************/
/*! exports provided: default */
/***/ (function(module, __webpack_exports__, __webpack_require__) {

"use strict";
eval("__webpack_require__.r(__webpack_exports__);\n/* harmony import */ var _canvas_i18n_i18nObj__WEBPACK_IMPORTED_MODULE_0__ = __webpack_require__(/*! @canvas/i18n/i18nObj */ \"HGxv\");\n/* harmony import */ var translations_core_en__WEBPACK_IMPORTED_MODULE_1__ = __webpack_require__(/*! translations/_core_en */ \"0sPK\");\n\n    \n    \n    \n\n    /* harmony default export */ __webpack_exports__[\"default\"] = (_canvas_i18n_i18nObj__WEBPACK_IMPORTED_MODULE_0__[\"default\"].scoped('profile'));\n  \n\n//# sourceURL=webpack:///./ui/shims/dummyI18nResource.js?./frontend_build/i18n.js?profile");

/***/ }),

/***/ "mmNF":
/*!*****************************************!*\
  !*** ./node_modules/charenc/charenc.js ***!
  \*****************************************/
/*! no static exports found */
/***/ (function(module, exports) {

eval("var charenc = {\n  // UTF-8 encoding\n  utf8: {\n    // Convert a string to a byte array\n    stringToBytes: function(str) {\n      return charenc.bin.stringToBytes(unescape(encodeURIComponent(str)));\n    },\n\n    // Convert a byte array to a string\n    bytesToString: function(bytes) {\n      return decodeURIComponent(escape(charenc.bin.bytesToString(bytes)));\n    }\n  },\n\n  // Binary encoding\n  bin: {\n    // Convert a string to a byte array\n    stringToBytes: function(str) {\n      for (var bytes = [], i = 0; i < str.length; i++)\n        bytes.push(str.charCodeAt(i) & 0xFF);\n      return bytes;\n    },\n\n    // Convert a byte array to a string\n    bytesToString: function(bytes) {\n      for (var str = [], i = 0; i < bytes.length; i++)\n        str.push(String.fromCharCode(bytes[i]));\n      return str.join('');\n    }\n  }\n};\n\nmodule.exports = charenc;\n\n\n//# sourceURL=webpack:///./node_modules/charenc/charenc.js?");

/***/ }),

/***/ "msTH":
/*!*************************************************!*\
  !*** ./ui/shared/util/jquery/apiUserContent.js ***!
  \*************************************************/
/*! exports provided: default */
/***/ (function(module, __webpack_exports__, __webpack_require__) {

"use strict";
eval("__webpack_require__.r(__webpack_exports__);\n/* harmony import */ var jquery__WEBPACK_IMPORTED_MODULE_0__ = __webpack_require__(/*! jquery */ \"ouhR\");\n/* harmony import */ var jquery__WEBPACK_IMPORTED_MODULE_0___default = /*#__PURE__*/__webpack_require__.n(jquery__WEBPACK_IMPORTED_MODULE_0__);\n/* harmony import */ var underscore__WEBPACK_IMPORTED_MODULE_1__ = __webpack_require__(/*! underscore */ \"Y/W1\");\n/* harmony import */ var underscore__WEBPACK_IMPORTED_MODULE_1___default = /*#__PURE__*/__webpack_require__.n(underscore__WEBPACK_IMPORTED_MODULE_1__);\n/* harmony import */ var html_escape__WEBPACK_IMPORTED_MODULE_2__ = __webpack_require__(/*! html-escape */ \"gI0r\");\n/* harmony import */ var i18n_user_content__WEBPACK_IMPORTED_MODULE_3__ = __webpack_require__(/*! i18n!user_content */ \"hI1R\");\n//\n// Copyright (C) 2015 - present Instructure, Inc.\n//\n// This file is part of Canvas.\n//\n// Canvas is free software: you can redistribute it and/or modify it under\n// the terms of the GNU Affero General Public License as published by the Free\n// Software Foundation, version 3 of the License.\n//\n// Canvas is distributed in the hope that it will be useful, but WITHOUT ANY\n// WARRANTY; without even the implied warranty of MERCHANTABILITY or FITNESS FOR\n// A PARTICULAR PURPOSE. See the GNU Affero General Public License for more\n// details.\n//\n// You should have received a copy of the GNU Affero General Public License along\n// with this program. If not, see <http://www.gnu.org/licenses/>.\n\n\n\n\nconst apiUserContent = {\n  /*\n  xsslint safeString.identifier mathml\n  */\n  translateMathmlForScreenreaders($equationImage) {\n    var _ENV, _ENV$FEATURES;\n\n    if (!((_ENV = ENV) !== null && _ENV !== void 0 && (_ENV$FEATURES = _ENV.FEATURES) !== null && _ENV$FEATURES !== void 0 && _ENV$FEATURES.new_math_equation_handling)) {\n      // note, it is safe to treat the x-canvaslms-safe-mathml as html because it\n      // only ever gets put there by us (in Api::Html::Content::apply_mathml).\n      // Any user content that gets sent to the server will have the\n      // x-canvaslms-safe-mathml attribute stripped out.\n      const mathml = jquery__WEBPACK_IMPORTED_MODULE_0___default()('<div/>').html($equationImage.attr('x-canvaslms-safe-mathml')).html();\n      const mathmlSpan = jquery__WEBPACK_IMPORTED_MODULE_0___default()('<span class=\"hidden-readable\"></span>');\n      mathmlSpan.html(mathml);\n      return mathmlSpan;\n    }\n  },\n\n  toMediaCommentLink(node) {\n    const $link = jquery__WEBPACK_IMPORTED_MODULE_0___default()(`<a\n        id='media_comment_${Object(html_escape__WEBPACK_IMPORTED_MODULE_2__[\"default\"])(jquery__WEBPACK_IMPORTED_MODULE_0___default()(node).data('media_comment_id'))}'\n        data-media_comment_type='${Object(html_escape__WEBPACK_IMPORTED_MODULE_2__[\"default\"])(jquery__WEBPACK_IMPORTED_MODULE_0___default()(node).data('media_comment_type'))}'\n        class='instructure_inline_media_comment ${Object(html_escape__WEBPACK_IMPORTED_MODULE_2__[\"default\"])(node.nodeName.toLowerCase())}_comment'\n        data-alt='${Object(html_escape__WEBPACK_IMPORTED_MODULE_2__[\"default\"])(jquery__WEBPACK_IMPORTED_MODULE_0___default()(node).attr('data-alt'))}'\n      />`);\n    $link.html(jquery__WEBPACK_IMPORTED_MODULE_0___default()(node).html());\n    return $link;\n  },\n\n  /*\n  xsslint safeString.identifier mathmlSpan\n  */\n  // use this method to process any user content fields returned in api responses\n  // this is important to handle object/embed tags safely, and to properly display audio/video tags\n  convert(html, options = {}) {\n    const $dummy = jquery__WEBPACK_IMPORTED_MODULE_0___default()('<div />').html(html); // finds any <video/audio class=\"instructure_inline_media_comment\"> and turns them into media comment thumbnails\n\n    $dummy.find('video.instructure_inline_media_comment,audio.instructure_inline_media_comment').replaceWith(function () {\n      return apiUserContent.toMediaCommentLink(this);\n    }); // remove any embed tags inside an object tag, to avoid repeated translations\n\n    $dummy.find('object.instructure_user_content:not(#kaltura_player) embed').remove(); // if we aren't actually displaying this content but are instead putting\n    // it into a RTE, we want to preserve the object/embed tags\n\n    if (!options.forEditing) {\n      // find all object/embed tags and convert them into an iframe that posts\n      // to safefiles to display the content (to avoid javascript attacks)\n      //\n      // see the corresponding code in lib/user_content.rb for non-api user\n      // content handling\n      $dummy.find('object.instructure_user_content,embed.instructure_user_content').replaceWith(function () {\n        const $this = jquery__WEBPACK_IMPORTED_MODULE_0___default()(this);\n\n        if (!$this.data('uc_snippet') || !$this.data('uc_sig')) {\n          return this;\n        }\n\n        const uuid = underscore__WEBPACK_IMPORTED_MODULE_1___default.a.uniqueId('uc_');\n\n        let action = '/object_snippet';\n\n        if (ENV.files_domain) {\n          action = `//${ENV.files_domain}${action}`;\n        }\n\n        const $form = jquery__WEBPACK_IMPORTED_MODULE_0___default()(`<form\n            action='${Object(html_escape__WEBPACK_IMPORTED_MODULE_2__[\"default\"])(action)}'\n            method='post'\n            class='user_content_post_form'\n            target='${Object(html_escape__WEBPACK_IMPORTED_MODULE_2__[\"default\"])(uuid)}'\n            id='form-${Object(html_escape__WEBPACK_IMPORTED_MODULE_2__[\"default\"])(uuid)}'\n          />`);\n        $form.append(jquery__WEBPACK_IMPORTED_MODULE_0___default()(\"<input type='hidden'/>\").attr({\n          name: 'object_data',\n          value: $this.data('uc_snippet')\n        }));\n        $form.append(jquery__WEBPACK_IMPORTED_MODULE_0___default()(\"<input type='hidden'/>\").attr({\n          name: 's',\n          value: $this.data('uc_sig')\n        }));\n        jquery__WEBPACK_IMPORTED_MODULE_0___default()('body').append($form);\n        setTimeout(() => $form.submit(), 0);\n        return jquery__WEBPACK_IMPORTED_MODULE_0___default()(`<iframe\n            class='user_content_iframe'\n            name='${Object(html_escape__WEBPACK_IMPORTED_MODULE_2__[\"default\"])(uuid)}'\n            style='width: ${Object(html_escape__WEBPACK_IMPORTED_MODULE_2__[\"default\"])($this.data('uc_width'))}; height: ${Object(html_escape__WEBPACK_IMPORTED_MODULE_2__[\"default\"])($this.data('uc_height'))};'\n            frameborder='0'\n            title='${Object(html_escape__WEBPACK_IMPORTED_MODULE_2__[\"default\"])(i18n_user_content__WEBPACK_IMPORTED_MODULE_3__[\"default\"].t('User Content'))}'\n          />`);\n      });\n      $dummy.find('img.equation_image').each((index, equationImage) => {\n        const $equationImage = jquery__WEBPACK_IMPORTED_MODULE_0___default()(equationImage);\n        const mathmlSpan = apiUserContent.translateMathmlForScreenreaders($equationImage);\n        $equationImage.removeAttr('x-canvaslms-safe-mathml');\n        $equationImage.after(mathmlSpan);\n      });\n    }\n\n    return $dummy.html();\n  }\n\n};\n/* harmony default export */ __webpack_exports__[\"default\"] = (apiUserContent);\n\n//# sourceURL=webpack:///./ui/shared/util/jquery/apiUserContent.js?");

/***/ }),

/***/ "tLTL":
/*!************************************************************************!*\
  !*** ./ui/shared/avatar-dialog-view/backbone/views/TakePictureView.js ***!
  \************************************************************************/
/*! exports provided: default */
/***/ (function(module, __webpack_exports__, __webpack_require__) {

"use strict";
eval("__webpack_require__.r(__webpack_exports__);\n/* harmony export (binding) */ __webpack_require__.d(__webpack_exports__, \"default\", function() { return TakePictureView; });\n/* harmony import */ var jquery__WEBPACK_IMPORTED_MODULE_0__ = __webpack_require__(/*! jquery */ \"ouhR\");\n/* harmony import */ var jquery__WEBPACK_IMPORTED_MODULE_0___default = /*#__PURE__*/__webpack_require__.n(jquery__WEBPACK_IMPORTED_MODULE_0__);\n/* harmony import */ var underscore__WEBPACK_IMPORTED_MODULE_1__ = __webpack_require__(/*! underscore */ \"Y/W1\");\n/* harmony import */ var underscore__WEBPACK_IMPORTED_MODULE_1___default = /*#__PURE__*/__webpack_require__.n(underscore__WEBPACK_IMPORTED_MODULE_1__);\n/* harmony import */ var _AvatarUploadBaseView__WEBPACK_IMPORTED_MODULE_2__ = __webpack_require__(/*! ./AvatarUploadBaseView */ \"HyeI\");\n/* harmony import */ var _jst_takePictureView_handlebars__WEBPACK_IMPORTED_MODULE_3__ = __webpack_require__(/*! ../../jst/takePictureView.handlebars */ \"BNkn\");\n/* harmony import */ var _BlobFactory__WEBPACK_IMPORTED_MODULE_4__ = __webpack_require__(/*! ../../BlobFactory */ \"f1Cz\");\n//\n// Copyright (C) 2014 - present Instructure, Inc.\n//\n// This file is part of Canvas.\n//\n// Canvas is free software: you can redistribute it and/or modify it under\n// the terms of the GNU Affero General Public License as published by the Free\n// Software Foundation, version 3 of the License.\n//\n// Canvas is distributed in the hope that it will be useful, but WITHOUT ANY\n// WARRANTY; without even the implied warranty of MERCHANTABILITY or FITNESS FOR\n// A PARTICULAR PURPOSE. See the GNU Affero General Public License for more\n// details.\n//\n// You should have received a copy of the GNU Affero General Public License along\n// with this program. If not, see <http://www.gnu.org/licenses/>.\n//\n\n\n\n\n\nclass TakePictureView extends _AvatarUploadBaseView__WEBPACK_IMPORTED_MODULE_2__[\"default\"] {\n  static initClass() {\n    this.optionProperty('avatarSize');\n    this.prototype.template = _jst_takePictureView_handlebars__WEBPACK_IMPORTED_MODULE_3__[\"default\"];\n    this.prototype.events = {\n      'click .take-snapshot-btn': 'onSnapshot',\n      'click .retry-snapshot-btn': 'onRetry'\n    };\n    this.prototype.els = {\n      '.webcam-live-preview': '$video',\n      '.webcam-clip': '$clip',\n      '.webcam-preview': '$preview',\n      '.webcam-capture-wrapper': '$captureWrapper',\n      '.webcam-preview-wrapper': '$previewWrapper',\n      '.webcam-preview-staging-area': '$canvas'\n    };\n    this.prototype.getUserMedia = (navigator.getUserMedia || navigator.mozGetUserMedia || navigator.msGetUserMedia || navigator.webkitGetUserMedia || jquery__WEBPACK_IMPORTED_MODULE_0___default.a.noop).bind(navigator);\n  }\n\n  setup() {\n    return this.startMedia();\n  }\n\n  teardown() {\n    delete this.img;\n    delete this.preview;\n\n    if (this.stream != null ? this.stream.stop : void 0) {\n      return this.stream != null ? this.stream.stop() : void 0;\n    } else if (this.stream != null ? this.stream.getTracks : void 0) {\n      // MediaStream.stop is deprecated in Chrome 45\n      return this.stream != null ? this.stream.getTracks().forEach(track => track.stop()) : void 0;\n    }\n  }\n\n  startMedia() {\n    return this.getUserMedia({\n      video: true\n    }, this.displayMedia.bind(this), jquery__WEBPACK_IMPORTED_MODULE_0___default.a.noop);\n  }\n\n  displayMedia(stream) {\n    this.stream = stream;\n    this.$video.removeClass('pending');\n\n    try {\n      this.$video.get(0).srcObject = this.stream;\n    } catch (err) {\n      this.$video.attr('src', window.URL.createObjectURL(this.stream));\n    }\n\n    return this.$video.on('onloadedmetadata loadedmetadata', underscore__WEBPACK_IMPORTED_MODULE_1___default.a.once(this.onMediaMetadata).bind(this));\n  }\n\n  onMediaMetadata(e) {\n    let wait;\n    return wait = window.setInterval(() => {\n      if (this.$video[0].videoHeight === 0) return;\n      window.clearInterval(wait);\n\n      const clipSize = underscore__WEBPACK_IMPORTED_MODULE_1___default.a.min([this.$video.height(), this.$video.width()]);\n\n      this.$clip.height(clipSize).width(clipSize);\n\n      if (this.$video.width() > clipSize) {\n        const adjustment = (this.$video.width() - clipSize) / 2 * -1;\n        return this.$video.css('left', adjustment);\n      }\n    }, 100);\n  }\n\n  toggleView() {\n    this.$captureWrapper.toggle();\n    this.$previewWrapper.toggle();\n    return this.trigger('ready', !!this.preview);\n  }\n\n  getImage() {\n    const dfd = jquery__WEBPACK_IMPORTED_MODULE_0___default.a.Deferred();\n    return dfd.resolve(this.img);\n  }\n\n  onSnapshot() {\n    const canvas = this.$canvas[0];\n    const video = this.$video[0];\n    const img = new Image();\n    const context = canvas.getContext('2d');\n    canvas.height = video.clientHeight;\n    canvas.width = video.clientWidth;\n    context.drawImage( // source\n    video, // x and y coordinates of the top-left corner of the source image to draw to destination\n    0, 0, // width and height of the source image to draw to the destination\n    canvas.width, canvas.height);\n    const url = canvas.toDataURL();\n\n    img.onload = e => {\n      const sX = (video.clientWidth - this.$clip.width()) / 2;\n      const sY = (video.clientHeight - this.$clip.height()) / 2;\n      canvas.height = this.$clip.height();\n      canvas.width = this.$clip.width();\n      context.drawImage( // source\n      img, // x and y coordinates of the top-left corner of the source image to draw to destination\n      sX, sY, // width and height of the source image to draw to the destination\n      this.$clip.width(), this.$clip.height(), // x and y coordinates to start drawing to in the destination\n      0, 0, // width and height of the image in the destination\n      this.$clip.width(), this.$clip.height());\n      this.preview = canvas.toDataURL();\n      this.toggleView();\n      this.$preview.attr('src', this.preview);\n      return this.img = _BlobFactory__WEBPACK_IMPORTED_MODULE_4__[\"default\"].fromCanvas(canvas);\n    };\n\n    return img.src = url;\n  }\n\n  onRetry(e) {\n    return this.resetSnapshot();\n  }\n\n  resetSnapshot() {\n    delete this.preview;\n    delete this.img;\n    return this.toggleView();\n  }\n\n  previewSrc() {\n    if (!this.preview) {\n      return '';\n    }\n\n    return this.preview.split(',')[1];\n  }\n\n  toJSON() {\n    return {\n      hasPreview: !!this.preview,\n      previewURL: this.preview\n    };\n  }\n\n}\nTakePictureView.initClass();\n\n//# sourceURL=webpack:///./ui/shared/avatar-dialog-view/backbone/views/TakePictureView.js?");

/***/ }),

/***/ "toxo":
/*!******************************************************************!*\
  !*** ./ui/shared/avatar-dialog-view/jst/gravatarView.handlebars ***!
  \******************************************************************/
/*! exports provided: default */
/***/ (function(module, __webpack_exports__, __webpack_require__) {

"use strict";
eval("__webpack_require__.r(__webpack_exports__);\n/* harmony import */ var handlebars_runtime__WEBPACK_IMPORTED_MODULE_0__ = __webpack_require__(/*! handlebars/runtime */ \"3O+N\");\n/* harmony import */ var handlebars_runtime__WEBPACK_IMPORTED_MODULE_0___default = /*#__PURE__*/__webpack_require__.n(handlebars_runtime__WEBPACK_IMPORTED_MODULE_0__);\n/* harmony import */ var i18n_profiles_gravatar_view__WEBPACK_IMPORTED_MODULE_1__ = __webpack_require__(/*! i18n!profiles.gravatar_view */ \"XQFv\");\n/* harmony import */ var _canvas_handlebars_helpers_index_coffee__WEBPACK_IMPORTED_MODULE_2__ = __webpack_require__(/*! @canvas/handlebars-helpers/index.coffee */ \"BGrI\");\n\n    \n    var Handlebars = handlebars_runtime__WEBPACK_IMPORTED_MODULE_0___default.a.default;\n    \n\n\n    var template = Handlebars.template, templates = Handlebars.templates = Handlebars.templates || {};\n    var name = '/home/td/workspace/guokehuiyi/canvas/ui/shared/avatar-dialog-view/jst/gravatarView';\n    templates[name] = template(function (Handlebars,depth0,helpers,partials,data) {\n  this.compilerInfo = [4,'>= 1.0.0'];\nhelpers = this.merge(helpers, Handlebars.helpers); data = data || {};\n  var buffer = \"\", helper, options, helperMissing=helpers.helperMissing, escapeExpression=this.escapeExpression;\n\n\n  buffer += \"<img class=\\\"content-box gravatar-preview-image\\\" aria-label=\\\"gravatar\\\"></img>\\n<div class=\\\"content-box-mini gravatar-label\\\">\\n  <label for=\\\"gravatar-preview-input\\\">\\n    \"\n    + escapeExpression((helper = helpers.t || (depth0 && depth0.t),options={hash:{\n    'w0': (\"<a href=\\\"http://gravatar.com/\\\" target=\\\"_blank\\\">$1</a>\"),\n    'scope': (\"profiles.gravatar_view\")\n  },data:data},helper ? helper.call(depth0, \"enter_gravatar_email_below\", \"enter your *Gravatar* email address below\", options) : helperMissing.call(depth0, \"t\", \"enter_gravatar_email_below\", \"enter your *Gravatar* email address below\", options)))\n    + \"\\n  </label>\\n</div>\\n<div class=\\\"input-append\\\">\\n  <input type=\\\"text\\\" class=\\\"gravatar-preview-input\\\" id=\\\"gravatar-preview-input\\\" />\\n  <button class=\\\"btn gravatar-preview-btn\\\">\\n    \"\n    + escapeExpression((helper = helpers.t || (depth0 && depth0.t),options={hash:{\n    'scope': (\"profiles.gravatar_view\")\n  },data:data},helper ? helper.call(depth0, \"button.preview\", \"Preview\", options) : helperMissing.call(depth0, \"t\", \"button.preview\", \"Preview\", options)))\n    + \"\\n  </button>\\n</div>\\n\";\n  return buffer;\n  });\n    ;\n    ;\n    /* harmony default export */ __webpack_exports__[\"default\"] = (templates[name]);\n  \n\n//# sourceURL=webpack:///./ui/shared/avatar-dialog-view/jst/gravatarView.handlebars?");

/***/ })

}]);