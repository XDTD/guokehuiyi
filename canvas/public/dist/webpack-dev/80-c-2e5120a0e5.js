(window["canvasWebpackJsonp"] = window["canvasWebpackJsonp"] || []).push([[80],{

/***/ "3Ni0":
/*!******************************************************!*\
  !*** ./packages/canvas-media/es/translationShape.js ***!
  \******************************************************/
/*! exports provided: default */
/***/ (function(module, __webpack_exports__, __webpack_require__) {

"use strict";
eval("__webpack_require__.r(__webpack_exports__);\n/* harmony import */ var prop_types__WEBPACK_IMPORTED_MODULE_0__ = __webpack_require__(/*! prop-types */ \"17x9\");\n/* harmony import */ var prop_types__WEBPACK_IMPORTED_MODULE_0___default = /*#__PURE__*/__webpack_require__.n(prop_types__WEBPACK_IMPORTED_MODULE_0__);\n/*\n * Copyright (C) 2019 - present Instructure, Inc.\n *\n * This file is part of Canvas.\n *\n * Canvas is free software: you can redistribute it and/or modify it under\n * the terms of the GNU Affero General Public License as published by the Free\n * Software Foundation, version 3 of the License.\n *\n * Canvas is distributed in the hope that it will be useful, but WITHOUT ANY\n * WARRANTY; without even the implied warranty of MERCHANTABILITY or FITNESS FOR\n * A PARTICULAR PURPOSE. See the GNU Affero General Public License for more\n * details.\n *\n * You should have received a copy of the GNU Affero General Public License along\n * with this program. If not, see <http://www.gnu.org/licenses/>.\n */\n\nconst translationShape = Object(prop_types__WEBPACK_IMPORTED_MODULE_0__[\"shape\"])({\n  CLEAR_FILE_TEXT: prop_types__WEBPACK_IMPORTED_MODULE_0__[\"string\"],\n  CLOSE_TEXT: prop_types__WEBPACK_IMPORTED_MODULE_0__[\"string\"],\n  COMPUTER_PANEL_TITLE: prop_types__WEBPACK_IMPORTED_MODULE_0__[\"string\"],\n  DRAG_DROP_CLICK_TO_BROWSE: prop_types__WEBPACK_IMPORTED_MODULE_0__[\"string\"],\n  DRAG_FILE_TEXT: prop_types__WEBPACK_IMPORTED_MODULE_0__[\"string\"],\n  INVALID_FILE_TEXT: prop_types__WEBPACK_IMPORTED_MODULE_0__[\"string\"],\n  LOADING_MEDIA: prop_types__WEBPACK_IMPORTED_MODULE_0__[\"string\"],\n  RECORD_PANEL_TITLE: prop_types__WEBPACK_IMPORTED_MODULE_0__[\"string\"],\n  SUBMIT_TEXT: prop_types__WEBPACK_IMPORTED_MODULE_0__[\"string\"],\n  UPLOADING_ERROR: prop_types__WEBPACK_IMPORTED_MODULE_0__[\"string\"],\n  UPLOAD_MEDIA_LABEL: prop_types__WEBPACK_IMPORTED_MODULE_0__[\"string\"]\n});\n/* harmony default export */ __webpack_exports__[\"default\"] = (translationShape);\n\n//# sourceURL=webpack:///./packages/canvas-media/es/translationShape.js?");

/***/ }),

/***/ "4LsN":
/*!****************************************************************!*\
  !*** ./packages/canvas-media/es/ClosedCaptionCreator/index.js ***!
  \****************************************************************/
/*! exports provided: default */
/***/ (function(module, __webpack_exports__, __webpack_require__) {

"use strict";
eval("__webpack_require__.r(__webpack_exports__);\n/* harmony export (binding) */ __webpack_require__.d(__webpack_exports__, \"default\", function() { return ClosedCaptionPanel; });\n/* harmony import */ var react__WEBPACK_IMPORTED_MODULE_0__ = __webpack_require__(/*! react */ \"q1tI\");\n/* harmony import */ var react__WEBPACK_IMPORTED_MODULE_0___default = /*#__PURE__*/__webpack_require__.n(react__WEBPACK_IMPORTED_MODULE_0__);\n/* harmony import */ var prop_types__WEBPACK_IMPORTED_MODULE_1__ = __webpack_require__(/*! prop-types */ \"17x9\");\n/* harmony import */ var prop_types__WEBPACK_IMPORTED_MODULE_1___default = /*#__PURE__*/__webpack_require__.n(prop_types__WEBPACK_IMPORTED_MODULE_1__);\n/* harmony import */ var format_message__WEBPACK_IMPORTED_MODULE_2__ = __webpack_require__(/*! format-message */ \"/HcR\");\n/* harmony import */ var format_message__WEBPACK_IMPORTED_MODULE_2___default = /*#__PURE__*/__webpack_require__.n(format_message__WEBPACK_IMPORTED_MODULE_2__);\n/* harmony import */ var _instructure_ui_alerts__WEBPACK_IMPORTED_MODULE_3__ = __webpack_require__(/*! @instructure/ui-alerts */ \"spba\");\n/* harmony import */ var _instructure_ui_buttons__WEBPACK_IMPORTED_MODULE_4__ = __webpack_require__(/*! @instructure/ui-buttons */ \"K6WN\");\n/* harmony import */ var _instructure_ui_icons__WEBPACK_IMPORTED_MODULE_5__ = __webpack_require__(/*! @instructure/ui-icons */ \"oMAr\");\n/* harmony import */ var _instructure_ui_view__WEBPACK_IMPORTED_MODULE_6__ = __webpack_require__(/*! @instructure/ui-view */ \"OkHH\");\n/* harmony import */ var _ClosedCaptionCreatorRow__WEBPACK_IMPORTED_MODULE_7__ = __webpack_require__(/*! ./ClosedCaptionCreatorRow */ \"XsIy\");\n/*\n * Copyright (C) 2019 - present Instructure, Inc.\n *\n * This file is part of Canvas.\n *\n * Canvas is free software: you can redistribute it and/or modify it under\n * the terms of the GNU Affero General Public License as published by the Free\n * Software Foundation, version 3 of the License.\n *\n * Canvas is distributed in the hope that it will be useful, but WITHOUT ANY\n * WARRANTY; without even the implied warranty of MERCHANTABILITY or FITNESS FOR\n * A PARTICULAR PURPOSE. See the GNU Affero General Public License for more\n * details.\n *\n * You should have received a copy of the GNU Affero General Public License along\n * with this program. If not, see <http://www.gnu.org/licenses/>.\n */\n\n\n\n\n\n\n\n // TODO:\n//   - Limit file creation\n\nclass ClosedCaptionPanel extends react__WEBPACK_IMPORTED_MODULE_0__[\"Component\"] {\n  constructor(props) {\n    var _props$subtitles;\n\n    super(props);\n\n    this.newButtonClick = () => {\n      this.setState({\n        addingNewClosedCaption: true,\n        newSelectedFile: null,\n        newSelectedLanguage: null,\n        announcement: null\n      });\n    };\n\n    this.onFileSelected = newFile => {\n      if (this.state.newSelectedLanguage && newFile) {\n        this.setState(prevState => {\n          const subtitles = prevState.subtitles.concat([{\n            locale: prevState.newSelectedLanguage.id,\n            file: newFile,\n            isNew: true\n          }]);\n          this.props.updateSubtitles(subtitles);\n          return {\n            subtitles,\n            addingNewClosedCaption: false,\n            newSelectedFile: null,\n            newSelectedLanguage: null,\n            announcement: format_message__WEBPACK_IMPORTED_MODULE_2___default()(this.props.uploadMediaTranslations.UploadMediaStrings.ADDED_CAPTION, {\n              lang: prevState.newSelectedLanguage.label\n            })\n          };\n        });\n      } else {\n        this.setState({\n          newSelectedFile: newFile,\n          announcement: null\n        });\n      }\n    };\n\n    this.onLanguageSelected = lang => {\n      if (this.state.newSelectedFile) {\n        this.setState(prevState => {\n          const subtitles = prevState.subtitles.concat([{\n            locale: lang.id,\n            file: prevState.newSelectedFile,\n            isNew: true\n          }]);\n          this.props.updateSubtitles(subtitles);\n          return {\n            subtitles,\n            addingNewClosedCaption: false,\n            newSelectedFile: null,\n            newSelectedLanguage: null,\n            announcement: format_message__WEBPACK_IMPORTED_MODULE_2___default()(this.props.uploadMediaTranslations.UploadMediaStrings.ADDED_CAPTION, {\n              lang: lang.label\n            })\n          };\n        });\n      } else {\n        this.setState({\n          newSelectedLanguage: lang,\n          announcement: null\n        });\n      }\n    };\n\n    this.onRowDelete = locale => {\n      this.setState(prevState => {\n        const deletedLang = this.props.languages.findIndex(l => l.id === locale);\n        const deletedCCIndex = prevState.subtitles.findIndex(s => s.locale === locale);\n        const subtitles = prevState.subtitles.filter(s => s.locale !== locale);\n        this.props.updateSubtitles(subtitles);\n        return {\n          subtitles,\n          addingNewClosedCaption: subtitles.length > 0 ? prevState.addingNewClosedCaption : true,\n          announcement: format_message__WEBPACK_IMPORTED_MODULE_2___default()(this.props.uploadMediaTranslations.UploadMediaStrings.DELETED_CAPTION, {\n            lang: deletedLang === null || deletedLang === void 0 ? void 0 : deletedLang.label\n          }),\n          lastDeletedCCIndex: deletedCCIndex\n        };\n      });\n    };\n\n    this.state = {\n      addingNewClosedCaption: !(props !== null && props !== void 0 && (_props$subtitles = props.subtitles) !== null && _props$subtitles !== void 0 && _props$subtitles.length),\n      // if there are none, show the + button\n      newSelectedFile: null,\n      newSelectedLanguage: null,\n      lastDeletedCCIndex: -1,\n      subtitles: props.subtitles || [],\n      announcement: null\n    };\n    this._addButtonRef = /*#__PURE__*/react__WEBPACK_IMPORTED_MODULE_0___default.a.createRef();\n    this._newCreatorRef = /*#__PURE__*/react__WEBPACK_IMPORTED_MODULE_0___default.a.createRef();\n    this._nextCCRef = /*#__PURE__*/react__WEBPACK_IMPORTED_MODULE_0___default.a.createRef();\n  }\n\n  componentDidUpdate() {\n    if (document.activeElement === document.body) {\n      // where focus goes when it's lost\n      if (this._newCreatorRef.current) {\n        this._newCreatorRef.current.focus();\n      } else if (this._nextCCRef.current) {\n        this._nextCCRef.current.focus();\n      } else {\n        var _this$_addButtonRef$c;\n\n        (_this$_addButtonRef$c = this._addButtonRef.current) === null || _this$_addButtonRef$c === void 0 ? void 0 : _this$_addButtonRef$c.focus();\n      } // setState in componentDidUpdate is generally bad form,\n      // but in this case it makes sense to clear lastDeletedCCIndex\n      // here in the place where it's just been used to help direct focus.\n      // eslint-disable-next-line react/no-did-update-set-state\n\n\n      this.setState(state => {\n        if (state.lastDeletedCCIndex !== -1) {\n          return {\n            lastDeletedCCIndex: -1\n          };\n        }\n\n        return null;\n      });\n    }\n  }\n\n  render() {\n    const ADD_NEW_CAPTION_OR_SUBTITLE = this.props.uploadMediaTranslations.UploadMediaStrings.ADD_NEW_CAPTION_OR_SUBTITLE;\n    return /*#__PURE__*/react__WEBPACK_IMPORTED_MODULE_0___default.a.createElement(_instructure_ui_view__WEBPACK_IMPORTED_MODULE_6__[\"View\"], {\n      display: \"inline-block\",\n      \"data-testid\": \"ClosedCaptionPanel\"\n    }, this.state.announcement && /*#__PURE__*/react__WEBPACK_IMPORTED_MODULE_0___default.a.createElement(_instructure_ui_alerts__WEBPACK_IMPORTED_MODULE_3__[\"Alert\"], {\n      liveRegion: this.props.liveRegion,\n      screenReaderOnly: true,\n      isLiveRegionAtomic: true,\n      liveRegionPoliteness: \"assertive\"\n    }, this.state.announcement), /*#__PURE__*/react__WEBPACK_IMPORTED_MODULE_0___default.a.createElement(_instructure_ui_view__WEBPACK_IMPORTED_MODULE_6__[\"View\"], {\n      display: \"inline-block\"\n    }, this.state.subtitles.map((cc, index) => /*#__PURE__*/react__WEBPACK_IMPORTED_MODULE_0___default.a.createElement(_ClosedCaptionCreatorRow__WEBPACK_IMPORTED_MODULE_7__[\"default\"], {\n      ref: index === this.state.lastDeletedCCIndex ? this._nextCCRef : void 0,\n      key: cc.locale,\n      liveRegion: this.props.liveRegion,\n      uploadMediaTranslations: this.props.uploadMediaTranslations,\n      onDeleteRow: this.onRowDelete,\n      onLanguageSelected: this.onLanguageSelected,\n      onFileSelected: this.onFileSelected,\n      languages: this.props.languages,\n      selectedLanguage: this.props.languages.find(l => l.id === cc.locale),\n      selectedFile: cc.file\n    }))), this.state.addingNewClosedCaption ? /*#__PURE__*/react__WEBPACK_IMPORTED_MODULE_0___default.a.createElement(_instructure_ui_view__WEBPACK_IMPORTED_MODULE_6__[\"View\"], {\n      as: \"div\"\n    }, /*#__PURE__*/react__WEBPACK_IMPORTED_MODULE_0___default.a.createElement(_ClosedCaptionCreatorRow__WEBPACK_IMPORTED_MODULE_7__[\"default\"], {\n      ref: this._newCreatorRef,\n      liveRegion: this.props.liveRegion,\n      uploadMediaTranslations: this.props.uploadMediaTranslations,\n      onDeleteRow: this.onRowDelete,\n      onLanguageSelected: this.onLanguageSelected,\n      onFileSelected: this.onFileSelected,\n      languages: this.props.languages.filter(candidate_lang => {\n        // remove already selected languages form the list\n        return !this.state.subtitles.find(st => st.locale === candidate_lang.id);\n      }),\n      selectedLanguage: this.state.newSelectedLanguage,\n      selectedFile: this.state.newSelectedFile\n    })) : /*#__PURE__*/react__WEBPACK_IMPORTED_MODULE_0___default.a.createElement(\"div\", {\n      style: {\n        position: 'relative',\n        textAlign: 'center'\n      }\n    }, /*#__PURE__*/react__WEBPACK_IMPORTED_MODULE_0___default.a.createElement(_instructure_ui_buttons__WEBPACK_IMPORTED_MODULE_4__[\"IconButton\"], {\n      ref: this._addButtonRef,\n      shape: \"circle\",\n      color: \"primary\",\n      screenReaderLabel: ADD_NEW_CAPTION_OR_SUBTITLE,\n      onClick: this.newButtonClick,\n      margin: \"x-small auto\"\n    }, /*#__PURE__*/react__WEBPACK_IMPORTED_MODULE_0___default.a.createElement(_instructure_ui_icons__WEBPACK_IMPORTED_MODULE_5__[\"IconAddLine\"], null))));\n  }\n\n}\nClosedCaptionPanel.propTypes = {\n  liveRegion: prop_types__WEBPACK_IMPORTED_MODULE_1__[\"func\"].isRequired,\n  subtitles: Object(prop_types__WEBPACK_IMPORTED_MODULE_1__[\"arrayOf\"])(Object(prop_types__WEBPACK_IMPORTED_MODULE_1__[\"shape\"])({\n    locale: prop_types__WEBPACK_IMPORTED_MODULE_1__[\"string\"].isRequired,\n    file: Object(prop_types__WEBPACK_IMPORTED_MODULE_1__[\"shape\"])({\n      name: prop_types__WEBPACK_IMPORTED_MODULE_1__[\"string\"].isRequired\n    }).isRequired\n  })),\n  updateSubtitles: prop_types__WEBPACK_IMPORTED_MODULE_1__[\"func\"].isRequired,\n  uploadMediaTranslations: Object(prop_types__WEBPACK_IMPORTED_MODULE_1__[\"shape\"])({\n    UploadMediaStrings: Object(prop_types__WEBPACK_IMPORTED_MODULE_1__[\"objectOf\"])(prop_types__WEBPACK_IMPORTED_MODULE_1__[\"string\"]),\n    SelectStrings: Object(prop_types__WEBPACK_IMPORTED_MODULE_1__[\"objectOf\"])(prop_types__WEBPACK_IMPORTED_MODULE_1__[\"string\"])\n  }).isRequired,\n  languages: Object(prop_types__WEBPACK_IMPORTED_MODULE_1__[\"arrayOf\"])(Object(prop_types__WEBPACK_IMPORTED_MODULE_1__[\"shape\"])({\n    id: prop_types__WEBPACK_IMPORTED_MODULE_1__[\"string\"],\n    language: prop_types__WEBPACK_IMPORTED_MODULE_1__[\"string\"]\n  })).isRequired\n};\n\n//# sourceURL=webpack:///./packages/canvas-media/es/ClosedCaptionCreator/index.js?");

/***/ }),

/***/ "8BT/":
/*!************************************************************!*\
  !*** ./packages/canvas-media/es/acceptedMediaFileTypes.js ***!
  \************************************************************/
/*! exports provided: ACCEPTED_FILE_TYPES */
/***/ (function(module, __webpack_exports__, __webpack_require__) {

"use strict";
eval("__webpack_require__.r(__webpack_exports__);\n/* harmony export (binding) */ __webpack_require__.d(__webpack_exports__, \"ACCEPTED_FILE_TYPES\", function() { return ACCEPTED_FILE_TYPES; });\n/*\n * Copyright (C) 2019 - present Instructure, Inc.\n *\n * This file is part of Canvas.\n *\n * Canvas is free software: you can redistribute it and/or modify it under\n * the terms of the GNU Affero General Public License as published by the Free\n * Software Foundation, version 3 of the License.\n *\n * Canvas is distributed in the hope that it will be useful, but WITHOUT ANY\n * WARRANTY; without even the implied warranty of MERCHANTABILITY or FITNESS FOR\n * A PARTICULAR PURPOSE. See the GNU Affero General Public License for more\n * details.\n *\n * You should have received a copy of the GNU Affero General Public License along\n * with this program. If not, see <http://www.gnu.org/licenses/>.\n */\nconst ACCEPTED_FILE_TYPES = ['3gp', 'aac', 'amr', 'asf', 'avi', 'flac', 'flv', 'm4a', 'm4v', 'mkv', 'mov', 'mp3', 'mp4', 'mpeg', 'mpg', 'ogg', 'qt', 'wav', 'wma', 'wmv', 'video/*', 'audio/*'];\n\n//# sourceURL=webpack:///./packages/canvas-media/es/acceptedMediaFileTypes.js?");

/***/ }),

/***/ "EX1t":
/*!***********************************************!*\
  !*** ./packages/canvas-media/es/RocketSVG.js ***!
  \***********************************************/
/*! exports provided: default */
/***/ (function(module, __webpack_exports__, __webpack_require__) {

"use strict";
eval("__webpack_require__.r(__webpack_exports__);\n/* harmony import */ var react__WEBPACK_IMPORTED_MODULE_0__ = __webpack_require__(/*! react */ \"q1tI\");\n/* harmony import */ var react__WEBPACK_IMPORTED_MODULE_0___default = /*#__PURE__*/__webpack_require__.n(react__WEBPACK_IMPORTED_MODULE_0__);\n/*\n * Copyright (C) 2019 - present Instructure, Inc.\n *\n * This file is part of Canvas.\n *\n * Canvas is free software: you can redistribute it and/or modify it under\n * the terms of the GNU Affero General Public License as published by the Free\n * Software Foundation, version 3 of the License.\n *\n * Canvas is distributed in the hope that it will be useful, but WITHOUT ANY\n * WARRANTY; without even the implied warranty of MERCHANTABILITY or FITNESS FOR\n * A PARTICULAR PURPOSE. See the GNU Affero General Public License for more\n * details.\n *\n * You should have received a copy of the GNU Affero General Public License along\n * with this program. If not, see <http://www.gnu.org/licenses/>.\n */\n\n\nconst RocketSVG = props => /*#__PURE__*/react__WEBPACK_IMPORTED_MODULE_0___default.a.createElement(\"svg\", Object.assign({\n  id: \"filedrop-rocket_svg__Layer_1\",\n  \"data-name\": \"Layer 1\",\n  viewBox: \"0 0 182 182\"\n}, props), /*#__PURE__*/react__WEBPACK_IMPORTED_MODULE_0___default.a.createElement(\"defs\", null, /*#__PURE__*/react__WEBPACK_IMPORTED_MODULE_0___default.a.createElement(\"style\", null, '.filedrop-rocket_svg__cls-1{fill:#243038}.filedrop-rocket_svg__cls-2{fill:#c0c6cb}.filedrop-rocket_svg__cls-3{fill:#e5e7e9}.filedrop-rocket_svg__cls-4{fill:#d0d4d8}')), /*#__PURE__*/react__WEBPACK_IMPORTED_MODULE_0___default.a.createElement(\"path\", {\n  className: \"filedrop-rocket_svg__cls-1\",\n  d: \"M152.21 138.46h-32v-93h32zm-30-2h28v-89h-28z\"\n}), /*#__PURE__*/react__WEBPACK_IMPORTED_MODULE_0___default.a.createElement(\"path\", {\n  className: \"filedrop-rocket_svg__cls-1\",\n  transform: \"rotate(-45 136.317 61.556)\",\n  d: \"M135.32 40.2h2v42.73h-2z\"\n}), /*#__PURE__*/react__WEBPACK_IMPORTED_MODULE_0___default.a.createElement(\"path\", {\n  className: \"filedrop-rocket_svg__cls-1\",\n  transform: \"rotate(-45 136.317 61.556)\",\n  d: \"M114.95 60.56h42.73v2h-42.73z\"\n}), /*#__PURE__*/react__WEBPACK_IMPORTED_MODULE_0___default.a.createElement(\"path\", {\n  className: \"filedrop-rocket_svg__cls-1\",\n  transform: \"rotate(-45 136.314 92.667)\",\n  d: \"M135.32 71.3h2v42.73h-2z\"\n}), /*#__PURE__*/react__WEBPACK_IMPORTED_MODULE_0___default.a.createElement(\"path\", {\n  className: \"filedrop-rocket_svg__cls-1\",\n  transform: \"rotate(-45 136.314 92.667)\",\n  d: \"M114.95 91.66h42.73v2h-42.73z\"\n}), /*#__PURE__*/react__WEBPACK_IMPORTED_MODULE_0___default.a.createElement(\"path\", {\n  className: \"filedrop-rocket_svg__cls-1\",\n  transform: \"rotate(-45 136.317 122.056)\",\n  d: \"M135.32 100.7h2v42.73h-2z\"\n}), /*#__PURE__*/react__WEBPACK_IMPORTED_MODULE_0___default.a.createElement(\"path\", {\n  className: \"filedrop-rocket_svg__cls-1\",\n  transform: \"rotate(-45 136.317 122.056)\",\n  d: \"M114.95 121.06h42.73v2h-42.73z\"\n}), /*#__PURE__*/react__WEBPACK_IMPORTED_MODULE_0___default.a.createElement(\"path\", {\n  className: \"filedrop-rocket_svg__cls-1\",\n  d: \"M121.21 76.56h30v2h-30zM121.21 106.56h30v2h-30zM87.39 50.56h33.82v2H87.39zM88.11 55.46h33.1v2h-33.1z\"\n}), /*#__PURE__*/react__WEBPACK_IMPORTED_MODULE_0___default.a.createElement(\"path\", {\n  className: \"filedrop-rocket_svg__cls-2\",\n  d: \"M45.36 97.31a27 27 0 0 0-26.3 20.87 5 5 0 0 0 4.88 6.13h42.84a5 5 0 0 0 4.88-6.13 27 27 0 0 0-26.3-20.87z\"\n}), /*#__PURE__*/react__WEBPACK_IMPORTED_MODULE_0___default.a.createElement(\"path\", {\n  className: \"filedrop-rocket_svg__cls-1\",\n  d: \"M66.78 125.31H23.94a6 6 0 0 1-5.85-7.31 28 28 0 0 1 54.55 0 6 6 0 0 1-5.86 7.36zm-21.42-27A25.87 25.87 0 0 0 20 118.4a4 4 0 0 0 3.91 4.91h42.87a4 4 0 0 0 3.14-1.52 4 4 0 0 0 .77-3.39 25.87 25.87 0 0 0-25.33-20.09z\"\n}), /*#__PURE__*/react__WEBPACK_IMPORTED_MODULE_0___default.a.createElement(\"path\", {\n  className: \"filedrop-rocket_svg__cls-2\",\n  d: \"M78.36 97.31a27 27 0 0 0-26.3 20.87 5 5 0 0 0 4.88 6.13h42.84a5 5 0 0 0 4.88-6.13 27 27 0 0 0-26.3-20.87z\"\n}), /*#__PURE__*/react__WEBPACK_IMPORTED_MODULE_0___default.a.createElement(\"path\", {\n  className: \"filedrop-rocket_svg__cls-1\",\n  d: \"M99.78 125.31H56.94a6 6 0 0 1-5.85-7.31 28 28 0 0 1 54.55 0 6 6 0 0 1-5.86 7.36zm-21.42-27A25.87 25.87 0 0 0 53 118.4a4 4 0 0 0 3.91 4.91h42.87a4 4 0 0 0 3.14-1.52 4 4 0 0 0 .77-3.39 25.87 25.87 0 0 0-25.33-20.09z\"\n}), /*#__PURE__*/react__WEBPACK_IMPORTED_MODULE_0___default.a.createElement(\"path\", {\n  className: \"filedrop-rocket_svg__cls-3\",\n  d: \"M84.37 124.31c3.32-12.17 5.29-27.18 5.29-43.43 0-40.55-12.22-73.42-27.29-73.42s-27.3 32.87-27.3 73.42c0 16.25 2 31.26 5.29 43.43z\"\n}), /*#__PURE__*/react__WEBPACK_IMPORTED_MODULE_0___default.a.createElement(\"path\", {\n  className: \"filedrop-rocket_svg__cls-1\",\n  d: \"M85.13 125.31H39.6l-.2-.74c-3.49-12.75-5.33-27.86-5.33-43.69 0-41.73 12.43-74.42 28.3-74.42s28.29 32.69 28.29 74.42c0 15.83-1.84 30.94-5.32 43.69zm-44-2h42.48a168.39 168.39 0 0 0 5-42.43C88.66 41 76.86 8.46 62.37 8.46S36.07 41 36.07 80.88a167.91 167.91 0 0 0 5.06 42.43z\"\n}), /*#__PURE__*/react__WEBPACK_IMPORTED_MODULE_0___default.a.createElement(\"path\", {\n  className: \"filedrop-rocket_svg__cls-4\",\n  d: \"M75.37 136.87H49.36l-4-12.56h34.01l-4 12.56z\"\n}), /*#__PURE__*/react__WEBPACK_IMPORTED_MODULE_0___default.a.createElement(\"path\", {\n  className: \"filedrop-rocket_svg__cls-1\",\n  d: \"M76.1 137.87H48.63L44 123.31h36.74zm-26-2h24.54L78 125.31H46.73z\"\n}), /*#__PURE__*/react__WEBPACK_IMPORTED_MODULE_0___default.a.createElement(\"circle\", {\n  className: \"filedrop-rocket_svg__cls-2\",\n  cx: 62.37,\n  cy: 78.88,\n  r: 15.75\n}), /*#__PURE__*/react__WEBPACK_IMPORTED_MODULE_0___default.a.createElement(\"path\", {\n  className: \"filedrop-rocket_svg__cls-1\",\n  d: \"M62.37 95.63a16.75 16.75 0 1 1 16.75-16.75 16.76 16.76 0 0 1-16.75 16.75zm0-31.5a14.75 14.75 0 1 0 14.75 14.75 14.76 14.76 0 0 0-14.75-14.75z\"\n}), /*#__PURE__*/react__WEBPACK_IMPORTED_MODULE_0___default.a.createElement(\"circle\", {\n  cx: 62.37,\n  cy: 78.88,\n  r: 11,\n  fill: \"#9ad6f5\"\n}), /*#__PURE__*/react__WEBPACK_IMPORTED_MODULE_0___default.a.createElement(\"path\", {\n  className: \"filedrop-rocket_svg__cls-1\",\n  d: \"M62.37 90.88a12 12 0 1 1 12-12 12 12 0 0 1-12 12zm0-22a10 10 0 1 0 10 10 10 10 0 0 0-10-10zM40.09 37.44h44.55v2H40.09z\"\n}), /*#__PURE__*/react__WEBPACK_IMPORTED_MODULE_0___default.a.createElement(\"path\", {\n  className: \"filedrop-rocket_svg__cls-4\",\n  d: \"M171.21 147.46h-160l3.79-9.38a1 1 0 0 1 .93-.62h150.6a1 1 0 0 1 .93.62z\"\n}), /*#__PURE__*/react__WEBPACK_IMPORTED_MODULE_0___default.a.createElement(\"path\", {\n  className: \"filedrop-rocket_svg__cls-1\",\n  d: \"M172.69 148.46H9.73L14 137.71a2 2 0 0 1 1.86-1.25h150.67a2 2 0 0 1 1.86 1.25zm-160-2h157l-3.2-8H15.89z\"\n}), /*#__PURE__*/react__WEBPACK_IMPORTED_MODULE_0___default.a.createElement(\"path\", {\n  className: \"filedrop-rocket_svg__cls-3\",\n  d: \"M11.21 147.46h160v11h-160z\"\n}), /*#__PURE__*/react__WEBPACK_IMPORTED_MODULE_0___default.a.createElement(\"path\", {\n  className: \"filedrop-rocket_svg__cls-1\",\n  d: \"M172.21 159.46h-162v-13h162zm-160-2h158v-9h-158z\"\n}), /*#__PURE__*/react__WEBPACK_IMPORTED_MODULE_0___default.a.createElement(\"path\", {\n  className: \"filedrop-rocket_svg__cls-2\",\n  d: \"M15.21 177.46H3.79a1 1 0 0 1-.9-1.43l8.32-17.57h30z\"\n}), /*#__PURE__*/react__WEBPACK_IMPORTED_MODULE_0___default.a.createElement(\"path\", {\n  className: \"filedrop-rocket_svg__cls-1\",\n  d: \"M15.54 178.46H3.79A2 2 0 0 1 2 175.6l8.6-18.14h33.67zm-3.7-19l-8 17h11.04l23.27-17z\"\n}), /*#__PURE__*/react__WEBPACK_IMPORTED_MODULE_0___default.a.createElement(\"path\", {\n  className: \"filedrop-rocket_svg__cls-2\",\n  d: \"M166.79 177.46h11.42a1 1 0 0 0 .9-1.43l-8.32-17.57h-30z\"\n}), /*#__PURE__*/react__WEBPACK_IMPORTED_MODULE_0___default.a.createElement(\"path\", {\n  className: \"filedrop-rocket_svg__cls-1\",\n  d: \"M178.21 178.46h-11.75l-28.73-21h33.69L180 175.6a2 2 0 0 1-1.81 2.86zm-11.09-2h11.09l-8.05-17h-26.31z\"\n}), /*#__PURE__*/react__WEBPACK_IMPORTED_MODULE_0___default.a.createElement(\"path\", {\n  className: \"filedrop-rocket_svg__cls-2\",\n  d: \"M85.49 177.05a1 1 0 0 0 .8.41h10.92c.73 0 15.58-19 15.58-19h-41z\"\n}), /*#__PURE__*/react__WEBPACK_IMPORTED_MODULE_0___default.a.createElement(\"path\", {\n  className: \"filedrop-rocket_svg__cls-1\",\n  d: \"M97.21 178.46H86.29a2 2 0 0 1-1.6-.82l-14.88-20.18h45l-1.26 1.61c-15.12 19.39-15.74 19.39-16.34 19.39zm-10.92-2l-.8.59.8-.59zm0 0h10.6c1.47-1.4 8.71-10.46 13.85-17h-37z\"\n}));\n\n/* harmony default export */ __webpack_exports__[\"default\"] = (RocketSVG);\n\n//# sourceURL=webpack:///./packages/canvas-media/es/RocketSVG.js?");

/***/ }),

/***/ "JobW":
/*!*******************************************!*\
  !*** ./packages/canvas-media/es/index.js ***!
  \*******************************************/
/*! exports provided: default, ClosedCaptionPanel, RocketSVG, useComputerPanelFocus, isAudio, isVideo, isPreviewable, sizeMediaPlayer, LoadingIndicator, saveMediaRecording, saveClosedCaptions */
/***/ (function(module, __webpack_exports__, __webpack_require__) {

"use strict";
eval("__webpack_require__.r(__webpack_exports__);\n/* harmony import */ var _UploadMedia__WEBPACK_IMPORTED_MODULE_0__ = __webpack_require__(/*! ./UploadMedia */ \"mc60\");\n/* harmony reexport (safe) */ __webpack_require__.d(__webpack_exports__, \"default\", function() { return _UploadMedia__WEBPACK_IMPORTED_MODULE_0__[\"default\"]; });\n\n/* harmony import */ var _ClosedCaptionCreator__WEBPACK_IMPORTED_MODULE_1__ = __webpack_require__(/*! ./ClosedCaptionCreator */ \"4LsN\");\n/* harmony reexport (safe) */ __webpack_require__.d(__webpack_exports__, \"ClosedCaptionPanel\", function() { return _ClosedCaptionCreator__WEBPACK_IMPORTED_MODULE_1__[\"default\"]; });\n\n/* harmony import */ var _RocketSVG__WEBPACK_IMPORTED_MODULE_2__ = __webpack_require__(/*! ./RocketSVG */ \"EX1t\");\n/* harmony reexport (safe) */ __webpack_require__.d(__webpack_exports__, \"RocketSVG\", function() { return _RocketSVG__WEBPACK_IMPORTED_MODULE_2__[\"default\"]; });\n\n/* harmony import */ var _useComputerPanelFocus__WEBPACK_IMPORTED_MODULE_3__ = __webpack_require__(/*! ./useComputerPanelFocus */ \"hyb8\");\n/* harmony reexport (safe) */ __webpack_require__.d(__webpack_exports__, \"useComputerPanelFocus\", function() { return _useComputerPanelFocus__WEBPACK_IMPORTED_MODULE_3__[\"default\"]; });\n\n/* harmony import */ var _shared_utils__WEBPACK_IMPORTED_MODULE_4__ = __webpack_require__(/*! ./shared/utils */ \"gyWI\");\n/* harmony reexport (safe) */ __webpack_require__.d(__webpack_exports__, \"isAudio\", function() { return _shared_utils__WEBPACK_IMPORTED_MODULE_4__[\"isAudio\"]; });\n\n/* harmony reexport (safe) */ __webpack_require__.d(__webpack_exports__, \"isVideo\", function() { return _shared_utils__WEBPACK_IMPORTED_MODULE_4__[\"isVideo\"]; });\n\n/* harmony reexport (safe) */ __webpack_require__.d(__webpack_exports__, \"isPreviewable\", function() { return _shared_utils__WEBPACK_IMPORTED_MODULE_4__[\"isPreviewable\"]; });\n\n/* harmony reexport (safe) */ __webpack_require__.d(__webpack_exports__, \"sizeMediaPlayer\", function() { return _shared_utils__WEBPACK_IMPORTED_MODULE_4__[\"sizeMediaPlayer\"]; });\n\n/* harmony import */ var _shared_LoadingIndicator__WEBPACK_IMPORTED_MODULE_5__ = __webpack_require__(/*! ./shared/LoadingIndicator */ \"Lyw1\");\n/* harmony reexport (safe) */ __webpack_require__.d(__webpack_exports__, \"LoadingIndicator\", function() { return _shared_LoadingIndicator__WEBPACK_IMPORTED_MODULE_5__[\"default\"]; });\n\n/* harmony import */ var _saveMediaRecording__WEBPACK_IMPORTED_MODULE_6__ = __webpack_require__(/*! ./saveMediaRecording */ \"LixQ\");\n/* harmony reexport (safe) */ __webpack_require__.d(__webpack_exports__, \"saveMediaRecording\", function() { return _saveMediaRecording__WEBPACK_IMPORTED_MODULE_6__[\"default\"]; });\n\n/* harmony reexport (safe) */ __webpack_require__.d(__webpack_exports__, \"saveClosedCaptions\", function() { return _saveMediaRecording__WEBPACK_IMPORTED_MODULE_6__[\"saveClosedCaptions\"]; });\n\n/*\n * Copyright (C) 2020 - present Instructure, Inc.\n *\n * This file is part of Canvas.\n *\n * Canvas is free software: you can redistribute it and/or modify it under\n * the terms of the GNU Affero General Public License as published by the Free\n * Software Foundation, version 3 of the License.\n *\n * Canvas is distributed in the hope that it will be useful, but WITHOUT ANY\n * WARRANTY; without even the implied warranty of MERCHANTABILITY or FITNESS FOR\n * A PARTICULAR PURPOSE. See the GNU Affero General Public License for more\n * details.\n *\n * You should have received a copy of the GNU Affero General Public License along\n * with this program. If not, see <http://www.gnu.org/licenses/>.\n */\n\n\n\n\n\n\n\n\n\n//# sourceURL=webpack:///./packages/canvas-media/es/index.js?");

/***/ }),

/***/ "L4jh":
/*!*********************************************************!*\
  !*** ./packages/canvas-media/es/shared/CanvasSelect.js ***!
  \*********************************************************/
/*! exports provided: default */
/***/ (function(module, __webpack_exports__, __webpack_require__) {

"use strict";
eval("__webpack_require__.r(__webpack_exports__);\n/* harmony export (binding) */ __webpack_require__.d(__webpack_exports__, \"default\", function() { return CanvasSelect; });\n/* harmony import */ var _babel_runtime_helpers_esm_objectWithoutProperties__WEBPACK_IMPORTED_MODULE_0__ = __webpack_require__(/*! @babel/runtime/helpers/esm/objectWithoutProperties */ \"Ff2n\");\n/* harmony import */ var react__WEBPACK_IMPORTED_MODULE_1__ = __webpack_require__(/*! react */ \"q1tI\");\n/* harmony import */ var react__WEBPACK_IMPORTED_MODULE_1___default = /*#__PURE__*/__webpack_require__.n(react__WEBPACK_IMPORTED_MODULE_1__);\n/* harmony import */ var prop_types__WEBPACK_IMPORTED_MODULE_2__ = __webpack_require__(/*! prop-types */ \"17x9\");\n/* harmony import */ var prop_types__WEBPACK_IMPORTED_MODULE_2___default = /*#__PURE__*/__webpack_require__.n(prop_types__WEBPACK_IMPORTED_MODULE_2__);\n/* harmony import */ var lodash__WEBPACK_IMPORTED_MODULE_3__ = __webpack_require__(/*! lodash */ \"LvDl\");\n/* harmony import */ var lodash__WEBPACK_IMPORTED_MODULE_3___default = /*#__PURE__*/__webpack_require__.n(lodash__WEBPACK_IMPORTED_MODULE_3__);\n/* harmony import */ var format_message__WEBPACK_IMPORTED_MODULE_4__ = __webpack_require__(/*! format-message */ \"/HcR\");\n/* harmony import */ var format_message__WEBPACK_IMPORTED_MODULE_4___default = /*#__PURE__*/__webpack_require__.n(format_message__WEBPACK_IMPORTED_MODULE_4__);\n/* harmony import */ var _instructure_ui_select__WEBPACK_IMPORTED_MODULE_5__ = __webpack_require__(/*! @instructure/ui-select */ \"U+cR\");\n/* harmony import */ var _instructure_ui_alerts__WEBPACK_IMPORTED_MODULE_6__ = __webpack_require__(/*! @instructure/ui-alerts */ \"spba\");\n/* harmony import */ var _instructure_ui_react_utils__WEBPACK_IMPORTED_MODULE_7__ = __webpack_require__(/*! @instructure/ui-react-utils */ \"e2P+\");\n\nconst _excluded = [\"id\", \"label\", \"value\", \"onChange\", \"children\", \"noOptionsLabel\", \"liveRegion\"],\n      _excluded2 = [\"id\", \"children\"],\n      _excluded3 = [\"id\", \"label\"];\n\n/*\n * Copyright (C) 2020 - present Instructure, Inc.\n *\n * This file is part of Canvas.\n *\n * Canvas is free software: you can redistribute it and/or modify it under\n * the terms of the GNU Affero General Public License as published by the Free\n * Software Foundation, version 3 of the License.\n *\n * Canvas is distributed in the hope that it will be useful, but WITHOUT ANY\n * WARRANTY; without even the implied warranty of MERCHANTABILITY or FITNESS FOR\n * A PARTICULAR PURPOSE. See the GNU Affero General Public License for more\n * details.\n *\n * You should have received a copy of the GNU Affero General Public License along\n * with this program. If not, see <http://www.gnu.org/licenses/>.\n */\n\n/*\n---\n  CanvasSelect is a wrapper on the new (as of instui 5 or 6 or so) controlled-only Select\n  While CanvasSelect is also controlled-only, it has a simpler api and is almost a drop-in\n  replacement for the old instui Select used throughout canvas at this time. One big difference\n  is the need to pass in an options property rather than rendering <Options> children\n\n  It does not currently support old-Select's allowCustom property\n  (see https://instructure.design/#DeprecatedSelect)\n\n  It only handles single-select. Multi-select will likely have to be in a separate component\n\n  <CanvasSelect\n    id=\"your-id\"\n    label=\"select's label\"\n    value={value}             // should match the ID of the selected option\n    onChange={handleChange}   // function(event, selectedOption)\n    {...otherPropsPassedToTheUnderlyingSelect}  // if you need to (width=\"100%\" is a popular one)\n  >\n    <CanvasSelect.Option key=\"1\" id=\"1\" value=\"1\">one</CanvasSelect.Option>\n    <CanvasSelect.Option key=\"2\" id=\"2\" value=\"2\">two</CanvasSelect.Option>\n    <CanvasSelect.Option key=\"3\" id=\"3\" value=\"3\">three</CanvasSelect.Option>\n  </CanvasSelect>\n---\n*/\n\n/*\n *  this file is a copy of canvas-lms/packages/canvas-planner/src/CanvasSelect.js\n *  but with strings passed in, rather then formatMessage'd here.\n */\n\n\n\n\n\n\n\nconst noOptionsOptionId = '_noOptionsOption'; // CanvasSelectOption and CanvasSelectGroup are components our client can create thru CanvasSelect\n// to pass us our options. They are never rendered themselves, but get transformed into INSTUI's\n// Select.Option and Select.Group on rendering CanvasSelect. See renderChildren below.\n\nfunction CanvasSelectOption() {\n  return /*#__PURE__*/react__WEBPACK_IMPORTED_MODULE_1___default.a.createElement(\"div\", null);\n}\n\nCanvasSelectOption.propTypes = {\n  id: prop_types__WEBPACK_IMPORTED_MODULE_2__[\"string\"].isRequired,\n  // eslint-disable-line react/no-unused-prop-types\n  value: prop_types__WEBPACK_IMPORTED_MODULE_2__[\"string\"].isRequired // eslint-disable-line react/no-unused-prop-types\n\n};\n\nfunction CanvasSelectGroup() {\n  return /*#__PURE__*/react__WEBPACK_IMPORTED_MODULE_1___default.a.createElement(\"div\", null);\n}\n\nCanvasSelectGroup.propTypes = {\n  label: prop_types__WEBPACK_IMPORTED_MODULE_2__[\"string\"].isRequired // eslint-disable-line react/no-unused-prop-types\n\n};\nclass CanvasSelect extends react__WEBPACK_IMPORTED_MODULE_1___default.a.Component {\n  constructor(props) {\n    super(props);\n    this.backupKey = 0;\n\n    this.handleBlur = event => {\n      this.setState({\n        highlightedOptionId: null,\n        announcement: null\n      });\n\n      if (this.props.onBlur) {\n        this.props.onBlur(event);\n      }\n    };\n\n    this.handleShowOptions = () => {\n      this.setState({\n        isShowingOptions: true\n      });\n    };\n\n    this.handleHideOptions = _event => {\n      this.setState(state => {\n        const text = this.getOptionLabelById(state.selectedOptionId);\n        return {\n          isShowingOptions: false,\n          highlightedOptionId: null,\n          inputValue: text\n        };\n      });\n    };\n\n    this.handleHighlightOption = (event, {\n      id\n    }) => {\n      if (id === noOptionsOptionId) return;\n      const text = this.getOptionLabelById(id);\n      const nowOpen = this.state.isShowingOptions ? '' : this.props.translatedStrings.LIST_EXPANDED;\n      const inputValue = event.type === 'keydown' ? text : this.state.inputValue;\n      this.setState({\n        highlightedOptionId: id,\n        inputValue,\n        announcement: `${text} ${nowOpen}`\n      });\n    };\n\n    this.handleSelectOption = (event, {\n      id\n    }) => {\n      if (id === noOptionsOptionId) {\n        this.setState({\n          isShowingOptions: false,\n          announcement: this.props.translatedStrings.LIST_COLLAPSED\n        });\n      } else {\n        const text = this.getOptionLabelById(id);\n        const prevSelection = this.state.selectedOptionId;\n        this.setState({\n          selectedOptionId: id,\n          inputValue: text,\n          isShowingOptions: false,\n          announcement: format_message__WEBPACK_IMPORTED_MODULE_4___default()(this.props.translatedStrings.OPTION_SELECTED, {\n            option: text\n          })\n        });\n        const option = this.getOptionByFieldValue('id', id);\n\n        if (prevSelection !== id) {\n          this.props.onChange(event, option.props.value);\n        }\n      }\n    };\n\n    const _option = this.getOptionByFieldValue('value', props.value);\n\n    this.state = {\n      inputValue: _option ? _option.props.children : '',\n      isShowingOptions: false,\n      highlightedOptionId: null,\n      selectedOptionId: _option ? _option.props.id : null,\n      announcement: null\n    };\n    this._selectRef = /*#__PURE__*/react__WEBPACK_IMPORTED_MODULE_1___default.a.createRef();\n  }\n\n  focus() {\n    var _this$_selectRef$curr;\n\n    (_this$_selectRef$curr = this._selectRef.current) === null || _this$_selectRef$curr === void 0 ? void 0 : _this$_selectRef$curr.focus();\n  }\n\n  componentDidUpdate(prevProps) {\n    if (this.props.value !== prevProps.value || !Object(lodash__WEBPACK_IMPORTED_MODULE_3__[\"isEqual\"])(this.props.children, prevProps.children)) {\n      const option = this.getOptionByFieldValue('value', this.props.value); // eslint-disable-next-line react/no-did-update-set-state\n\n      this.setState({\n        inputValue: option ? option.props.children : '',\n        selectedOptionId: option ? option.props.id : ''\n      });\n    }\n  }\n\n  render() {\n    const _this$props = this.props,\n          id = _this$props.id,\n          label = _this$props.label,\n          value = _this$props.value,\n          onChange = _this$props.onChange,\n          children = _this$props.children,\n          noOptionsLabel = _this$props.noOptionsLabel,\n          liveRegion = _this$props.liveRegion,\n          otherProps = Object(_babel_runtime_helpers_esm_objectWithoutProperties__WEBPACK_IMPORTED_MODULE_0__[\"default\"])(_this$props, _excluded);\n\n    return /*#__PURE__*/react__WEBPACK_IMPORTED_MODULE_1___default.a.createElement(react__WEBPACK_IMPORTED_MODULE_1___default.a.Fragment, null, /*#__PURE__*/react__WEBPACK_IMPORTED_MODULE_1___default.a.createElement(_instructure_ui_select__WEBPACK_IMPORTED_MODULE_5__[\"Select\"], Object.assign({\n      ref: this._selectRef,\n      id: id,\n      renderLabel: () => label,\n      assistiveText: this.props.translatedStrings.USE_ARROWS,\n      inputValue: this.state.inputValue,\n      isShowingOptions: this.state.isShowingOptions,\n      onBlur: this.handleBlur,\n      onRequestShowOptions: this.handleShowOptions,\n      onRequestHideOptions: this.handleHideOptions,\n      onRequestHighlightOption: this.handleHighlightOption,\n      onRequestSelectOption: this.handleSelectOption\n    }, otherProps), this.renderChildren(children)), /*#__PURE__*/react__WEBPACK_IMPORTED_MODULE_1___default.a.createElement(_instructure_ui_alerts__WEBPACK_IMPORTED_MODULE_6__[\"Alert\"], {\n      liveRegion: liveRegion,\n      liveRegionPoliteness: \"assertive\",\n      screenReaderOnly: true\n    }, this.state.announcement));\n  }\n\n  renderChildren(children) {\n    if (!Array.isArray(children)) {\n      // children is 1 child\n      if (Object(_instructure_ui_react_utils__WEBPACK_IMPORTED_MODULE_7__[\"matchComponentTypes\"])(children, [CanvasSelectOption])) {\n        return this.renderOption(children);\n      } else if (Object(_instructure_ui_react_utils__WEBPACK_IMPORTED_MODULE_7__[\"matchComponentTypes\"])(children, [CanvasSelectGroup])) {\n        return this.renderGroup(children);\n      } else {\n        return this.renderNoOptionsOption();\n      }\n    }\n\n    const opts = children.map(child => {\n      if (Array.isArray(child)) {\n        return this.renderChildren(child);\n      } else if (Object(_instructure_ui_react_utils__WEBPACK_IMPORTED_MODULE_7__[\"matchComponentTypes\"])(child, [CanvasSelectOption])) {\n        return this.renderOption(child);\n      } else if (Object(_instructure_ui_react_utils__WEBPACK_IMPORTED_MODULE_7__[\"matchComponentTypes\"])(child, [CanvasSelectGroup])) {\n        return this.renderGroup(child);\n      }\n\n      return null;\n    }).filter(child => !!child); // instui Select blows up on undefined options\n\n    if (opts.length === 0) {\n      return this.renderNoOptionsOption();\n    }\n\n    return opts;\n  }\n\n  renderOption(option) {\n    const _option$props = option.props,\n          id = _option$props.id,\n          children = _option$props.children,\n          optionProps = Object(_babel_runtime_helpers_esm_objectWithoutProperties__WEBPACK_IMPORTED_MODULE_0__[\"default\"])(_option$props, _excluded2);\n\n    return /*#__PURE__*/react__WEBPACK_IMPORTED_MODULE_1___default.a.createElement(_instructure_ui_select__WEBPACK_IMPORTED_MODULE_5__[\"Select\"].Option, Object.assign({\n      id: id,\n      key: option.key || id || ++this.backupKey,\n      isHighlighted: id === this.state.highlightedOptionId,\n      isSelected: id === this.state.selectedOptionId\n    }, optionProps), children);\n  }\n\n  renderGroup(group) {\n    const _group$props = group.props,\n          id = _group$props.id,\n          label = _group$props.label,\n          otherProps = Object(_babel_runtime_helpers_esm_objectWithoutProperties__WEBPACK_IMPORTED_MODULE_0__[\"default\"])(_group$props, _excluded3);\n\n    const children = Object(lodash__WEBPACK_IMPORTED_MODULE_3__[\"compact\"])(Object(lodash__WEBPACK_IMPORTED_MODULE_3__[\"castArray\"])(group.props.children));\n    return /*#__PURE__*/react__WEBPACK_IMPORTED_MODULE_1___default.a.createElement(_instructure_ui_select__WEBPACK_IMPORTED_MODULE_5__[\"Select\"].Group, Object.assign({\n      \"data-testid\": `Group:${label}`,\n      renderLabel: () => label,\n      key: group.key || id || ++this.backupKey\n    }, otherProps), children.map(c => this.renderOption(c)));\n  }\n\n  renderNoOptionsOption() {\n    return /*#__PURE__*/react__WEBPACK_IMPORTED_MODULE_1___default.a.createElement(_instructure_ui_select__WEBPACK_IMPORTED_MODULE_5__[\"Select\"].Option, {\n      id: noOptionsOptionId,\n      isHighlighted: false,\n      isSelected: false\n    }, this.props.noOptionsLabel);\n  }\n\n  getOptionLabelById(oid) {\n    const option = this.getOptionByFieldValue('id', oid);\n    return option ? option.props.children : '';\n  }\n\n  getOptionByFieldValue(field, value, options = Object(lodash__WEBPACK_IMPORTED_MODULE_3__[\"castArray\"])(this.props.children)) {\n    if (!this.props.children) return null;\n    let foundOpt = null;\n\n    for (let i = 0; i < options.length; ++i) {\n      const o = options[i];\n\n      if (Array.isArray(o)) {\n        foundOpt = this.getOptionByFieldValue(field, value, o);\n      } else if (Object(_instructure_ui_react_utils__WEBPACK_IMPORTED_MODULE_7__[\"matchComponentTypes\"])(o, [CanvasSelectOption])) {\n        if (o.props[field] === value) {\n          foundOpt = o;\n        }\n      } else if (Object(_instructure_ui_react_utils__WEBPACK_IMPORTED_MODULE_7__[\"matchComponentTypes\"])(o, [CanvasSelectGroup])) {\n        const groupOptions = Object(lodash__WEBPACK_IMPORTED_MODULE_3__[\"castArray\"])(o.props.children);\n\n        for (let j = 0; j < groupOptions.length; ++j) {\n          const o2 = groupOptions[j];\n\n          if (o2.props[field] === value) {\n            foundOpt = o2;\n            break;\n          }\n        }\n      }\n\n      if (foundOpt) {\n        break;\n      }\n    }\n\n    return foundOpt;\n  }\n\n}\nCanvasSelect.Option = CanvasSelectOption;\nCanvasSelect.Group = CanvasSelectGroup;\nCanvasSelect.propTypes = {\n  id: prop_types__WEBPACK_IMPORTED_MODULE_2__[\"string\"],\n  label: Object(prop_types__WEBPACK_IMPORTED_MODULE_2__[\"oneOfType\"])([prop_types__WEBPACK_IMPORTED_MODULE_2__[\"node\"], prop_types__WEBPACK_IMPORTED_MODULE_2__[\"func\"]]).isRequired,\n  liveRegion: prop_types__WEBPACK_IMPORTED_MODULE_2__[\"func\"],\n  value: prop_types__WEBPACK_IMPORTED_MODULE_2__[\"string\"],\n  onChange: prop_types__WEBPACK_IMPORTED_MODULE_2__[\"func\"].isRequired,\n  children: prop_types__WEBPACK_IMPORTED_MODULE_2__[\"node\"],\n  noOptionsLabel: prop_types__WEBPACK_IMPORTED_MODULE_2__[\"string\"],\n  // unselectable option to display when there are no options\n  translatedStrings: Object(prop_types__WEBPACK_IMPORTED_MODULE_2__[\"shape\"])({\n    USE_ARROWS: prop_types__WEBPACK_IMPORTED_MODULE_2__[\"string\"].isRequired,\n    LIST_COLLAPSED: prop_types__WEBPACK_IMPORTED_MODULE_2__[\"string\"].isRequired,\n    LIST_EXPANDED: prop_types__WEBPACK_IMPORTED_MODULE_2__[\"string\"].isRequired,\n    OPTION_SELECTED: prop_types__WEBPACK_IMPORTED_MODULE_2__[\"string\"].isRequired\n  }),\n  onBlur: prop_types__WEBPACK_IMPORTED_MODULE_2__[\"func\"]\n};\nCanvasSelect.defaultProps = {\n  noOptionsLabel: '---'\n};\n\n//# sourceURL=webpack:///./packages/canvas-media/es/shared/CanvasSelect.js?");

/***/ }),

/***/ "LixQ":
/*!********************************************************!*\
  !*** ./packages/canvas-media/es/saveMediaRecording.js ***!
  \********************************************************/
/*! exports provided: VIDEO_SIZE_OPTIONS, default, saveClosedCaptions */
/***/ (function(module, __webpack_exports__, __webpack_require__) {

"use strict";
eval("__webpack_require__.r(__webpack_exports__);\n/* harmony export (binding) */ __webpack_require__.d(__webpack_exports__, \"VIDEO_SIZE_OPTIONS\", function() { return VIDEO_SIZE_OPTIONS; });\n/* harmony export (binding) */ __webpack_require__.d(__webpack_exports__, \"default\", function() { return saveMediaRecording; });\n/* harmony export (binding) */ __webpack_require__.d(__webpack_exports__, \"saveClosedCaptions\", function() { return saveClosedCaptions; });\n/* harmony import */ var axios__WEBPACK_IMPORTED_MODULE_0__ = __webpack_require__(/*! axios */ \"vDqi\");\n/* harmony import */ var axios__WEBPACK_IMPORTED_MODULE_0___default = /*#__PURE__*/__webpack_require__.n(axios__WEBPACK_IMPORTED_MODULE_0__);\n/* harmony import */ var _instructure_k5uploader__WEBPACK_IMPORTED_MODULE_1__ = __webpack_require__(/*! @instructure/k5uploader */ \"VAKy\");\n/* harmony import */ var _shared_FileSizeError__WEBPACK_IMPORTED_MODULE_2__ = __webpack_require__(/*! ./shared/FileSizeError */ \"fwbQ\");\n/*\n * Copyright (C) 2019 - present Instructure, Inc.\n *\n * This file is part of Canvas.\n *\n * Canvas is free software: you can redistribute it and/or modify it under\n * the terms of the GNU Affero General Public License as published by the Free\n * Software Foundation, version 3 of the License.\n *\n * Canvas is distributed in the hope that it will be useful, but WITHOUT ANY\n * WARRANTY; without even the implied warranty of MERCHANTABILITY or FITNESS FOR\n * A PARTICULAR PURPOSE. See the GNU Affero General Public License for more\n * details.\n *\n * You should have received a copy of the GNU Affero General Public License along\n * with this program. If not, see <http://www.gnu.org/licenses/>.\n */\n\n\n\nconst VIDEO_SIZE_OPTIONS = {\n  height: '432px',\n  width: '768px'\n};\nconst STARTING_PROGRESS_VALUE = 33;\n\nfunction generateUploadOptions(mediatypes, sessionData) {\n  const sessionDataCopy = JSON.parse(JSON.stringify(sessionData));\n  delete sessionDataCopy.kaltura_setting;\n  return {\n    kaltura_session: sessionDataCopy,\n    allowedMediaTypes: mediatypes,\n    uploadUrl: sessionData.kaltura_setting.uploadUrl,\n    entryUrl: sessionData.kaltura_setting.entryUrl,\n    uiconfUrl: sessionData.kaltura_setting.uiconfUrl,\n    entryDefaults: {\n      partnerData: sessionData.kaltura_setting.partner_data\n    }\n  };\n}\n\nfunction addUploaderReadyEventListeners(uploader, file) {\n  uploader.addEventListener('K5.ready', () => {\n    uploader.uploadFile(file);\n  });\n}\n\nfunction addUploaderProgressEventListeners(uploader, onProgress) {\n  uploader.addEventListener('K5.progress', progress => {\n    const percentUploaded = Math.round(progress.loaded / progress.total) * STARTING_PROGRESS_VALUE;\n    onProgress(STARTING_PROGRESS_VALUE + percentUploaded);\n  });\n}\n\nfunction addUploaderFileErrorEventListeners(uploader, done, file) {\n  uploader.addEventListener('K5.fileError', error => {\n    uploader.destroy();\n    doDone(done, error, {\n      uploadedFile: file\n    });\n  });\n}\n\nfunction addUploaderFileCompleteEventListeners(uploader, context, file, done, onProgress) {\n  uploader.addEventListener('K5.complete', async mediaServerMediaObject => {\n    mediaServerMediaObject.contextCode = `${context.contextType}_${context.contextId}`;\n    mediaServerMediaObject.type = `${context.contextType}_${context.contextId}`;\n    const body = {\n      id: mediaServerMediaObject.entryId,\n      type: {\n        2: 'image',\n        5: 'audio'\n      }[mediaServerMediaObject.mediaType] || mediaServerMediaObject.type.includes('audio') ? 'audio' : 'video',\n      context_code: mediaServerMediaObject.contextCode,\n      title: file.name,\n      user_entered_title: file.name\n    };\n\n    try {\n      const config = {\n        onUploadProgress: progressEvent => {\n          const startingValue = 2 * STARTING_PROGRESS_VALUE;\n          const percentUploaded = Math.round(progressEvent.loaded / progressEvent.total) * (STARTING_PROGRESS_VALUE + 1);\n\n          if (onProgress) {\n            onProgress(startingValue + percentUploaded);\n          }\n        }\n      };\n      const canvasMediaObject = await axios__WEBPACK_IMPORTED_MODULE_0___default.a.post('/api/v1/media_objects', body, config);\n      uploader.destroy();\n      doDone(done, null, {\n        mediaObject: canvasMediaObject.data,\n        uploadedFile: file\n      });\n    } catch (ex) {\n      uploader.destroy();\n      doDone(done, ex, {\n        uploadedFile: file\n      });\n    }\n  });\n}\n\nasync function saveMediaRecording(file, rcsConfig, done, onProgress) {\n  try {\n    window.addEventListener('beforeunload', handleUnloadWhileUploading); // this works w/o rcsConfig.origin and headers because the api path\n    // is the same for the RCS as Canvas. Doing it this way means\n    // saveMediaRecording can be called w/o having to import anything\n    // from @instructure/canvas-rce\n\n    const mediaServerSession = await axios__WEBPACK_IMPORTED_MODULE_0___default()({\n      method: 'POST',\n      url: `${rcsConfig.origin || ''}/api/v1/services/kaltura_session?include_upload_config=1`,\n      headers: rcsConfig.headers\n    });\n\n    if (onProgress) {\n      onProgress(STARTING_PROGRESS_VALUE);\n    }\n\n    const session = generateUploadOptions(['video', 'audio', 'webm', 'video/webm', 'audio/webm'], mediaServerSession.data);\n    const k5UploaderSession = new _instructure_k5uploader__WEBPACK_IMPORTED_MODULE_1__[\"default\"](session);\n    addUploaderReadyEventListeners(k5UploaderSession, file);\n\n    if (onProgress) {\n      addUploaderProgressEventListeners(k5UploaderSession, onProgress);\n    }\n\n    addUploaderFileErrorEventListeners(k5UploaderSession, done, file);\n    addUploaderFileCompleteEventListeners(k5UploaderSession, rcsConfig, file, done, onProgress);\n    return k5UploaderSession;\n  } catch (err) {\n    doDone(done, err, {\n      uploadedFile: file\n    });\n  }\n}\n/*\n * @media_object_id: id of the media_object we're assigning CC to\n * @subtitles: [{locale: string locale, file: JS File object}]\n * @rcsConfig: {origin, headers, method} where method=PUT for update or POST for create\n * @maxBytes: The max bytes allowed for the caption file\n */\n\nasync function saveClosedCaptions(media_object_id, subtitles, rcsConfig, maxBytes) {\n  // read all the subtitle files' contents\n  const file_promises = [];\n  subtitles.forEach(st => {\n    if (st.isNew) {\n      const p = new Promise((resolve, reject) => {\n        if (maxBytes && st.file.size > maxBytes) {\n          reject(new _shared_FileSizeError__WEBPACK_IMPORTED_MODULE_2__[\"default\"]({\n            maxBytes,\n            actualBytes: st.file.size\n          }));\n        }\n\n        const reader = new FileReader();\n\n        reader.onload = function (e) {\n          resolve({\n            locale: st.locale,\n            content: e.target.result\n          });\n        };\n\n        reader.onerror = function (e) {\n          e.target.abort();\n          reject(e.target.error || e);\n        };\n\n        reader.readAsText(st.file);\n      });\n      file_promises.push(p);\n    } else {\n      file_promises.push(Promise.resolve({\n        locale: st.locale\n      }));\n    }\n  }); // once all the promises from reading the subtitles' files\n  // have resolved, PUT/POST the resulting subtitle objects to the RCS\n  // when that completes, the update_promise will resolve\n\n  const update_promise = new Promise((resolve, reject) => {\n    Promise.all(file_promises).then(closed_captions => {\n      const url = rcsConfig.origin ? `${rcsConfig.origin}/api/media_objects/${media_object_id}/media_tracks` : `/api/v1/media_objects/${media_object_id}/media_tracks`;\n      axios__WEBPACK_IMPORTED_MODULE_0___default()({\n        method: rcsConfig.method || 'PUT',\n        url,\n        headers: rcsConfig.headers,\n        data: closed_captions\n      }).then(resolve).catch(e => {\n        reject(e);\n      });\n    }).catch(e => reject(e));\n  });\n  return update_promise;\n}\n\nfunction doDone(done, ...rest) {\n  window.removeEventListener('beforeunload', handleUnloadWhileUploading);\n  done(...rest);\n}\n\nfunction handleUnloadWhileUploading(e) {\n  e.preventDefault();\n  e.returnValue = '';\n}\n\n//# sourceURL=webpack:///./packages/canvas-media/es/saveMediaRecording.js?");

/***/ }),

/***/ "Lyw1":
/*!*************************************************************!*\
  !*** ./packages/canvas-media/es/shared/LoadingIndicator.js ***!
  \*************************************************************/
/*! exports provided: default */
/***/ (function(module, __webpack_exports__, __webpack_require__) {

"use strict";
eval("__webpack_require__.r(__webpack_exports__);\n/* harmony export (binding) */ __webpack_require__.d(__webpack_exports__, \"default\", function() { return LoadingIndicator; });\n/* harmony import */ var react__WEBPACK_IMPORTED_MODULE_0__ = __webpack_require__(/*! react */ \"q1tI\");\n/* harmony import */ var react__WEBPACK_IMPORTED_MODULE_0___default = /*#__PURE__*/__webpack_require__.n(react__WEBPACK_IMPORTED_MODULE_0__);\n/* harmony import */ var prop_types__WEBPACK_IMPORTED_MODULE_1__ = __webpack_require__(/*! prop-types */ \"17x9\");\n/* harmony import */ var prop_types__WEBPACK_IMPORTED_MODULE_1___default = /*#__PURE__*/__webpack_require__.n(prop_types__WEBPACK_IMPORTED_MODULE_1__);\n/* harmony import */ var _instructure_ui_spinner__WEBPACK_IMPORTED_MODULE_2__ = __webpack_require__(/*! @instructure/ui-spinner */ \"cPO5\");\n/* harmony import */ var _instructure_ui_view__WEBPACK_IMPORTED_MODULE_3__ = __webpack_require__(/*! @instructure/ui-view */ \"OkHH\");\n/*\n * Copyright (C) 2019 - present Instructure, Inc.\n *\n * This file is part of Canvas.\n *\n * Canvas is free software: you can redistribute it and/or modify it under\n * the terms of the GNU Affero General Public License as published by the Free\n * Software Foundation, version 3 of the License.\n *\n * Canvas is distributed in the hope that it will be useful, but WITHOUT ANY\n * WARRANTY; without even the implied warranty of MERCHANTABILITY or FITNESS FOR\n * A PARTICULAR PURPOSE. See the GNU Affero General Public License for more\n * details.\n *\n * You should have received a copy of the GNU Affero General Public License along\n * with this program. If not, see <http://www.gnu.org/licenses/>.\n */\n\n\n\n\nfunction LoadingIndicator({\n  translatedTitle,\n  size\n}) {\n  return /*#__PURE__*/react__WEBPACK_IMPORTED_MODULE_0___default.a.createElement(_instructure_ui_view__WEBPACK_IMPORTED_MODULE_3__[\"View\"], {\n    as: \"div\",\n    height: \"100%\",\n    width: \"100%\",\n    textAlign: \"center\"\n  }, /*#__PURE__*/react__WEBPACK_IMPORTED_MODULE_0___default.a.createElement(_instructure_ui_spinner__WEBPACK_IMPORTED_MODULE_2__[\"Spinner\"], {\n    renderTitle: () => translatedTitle,\n    size: size,\n    margin: \"0 0 0 medium\"\n  }));\n}\nLoadingIndicator.propTypes = {\n  translatedTitle: prop_types__WEBPACK_IMPORTED_MODULE_1__[\"string\"].isRequired,\n  size: Object(prop_types__WEBPACK_IMPORTED_MODULE_1__[\"oneOf\"])(['x-small', 'small', 'medium', 'large'])\n};\nLoadingIndicator.defaultProps = {\n  size: 'large'\n};\n\n//# sourceURL=webpack:///./packages/canvas-media/es/shared/LoadingIndicator.js?");

/***/ }),

/***/ "W43x":
/*!************************************************************************!*\
  !*** ./packages/canvas-rce/src/rce/plugins/shared/Upload/constants.js ***!
  \************************************************************************/
/*! exports provided: RCS_MAX_BODY_SIZE, RCS_REQUEST_SIZE_BUFFER */
/***/ (function(module, __webpack_exports__, __webpack_require__) {

"use strict";
eval("__webpack_require__.r(__webpack_exports__);\n/* harmony export (binding) */ __webpack_require__.d(__webpack_exports__, \"RCS_MAX_BODY_SIZE\", function() { return RCS_MAX_BODY_SIZE; });\n/* harmony export (binding) */ __webpack_require__.d(__webpack_exports__, \"RCS_REQUEST_SIZE_BUFFER\", function() { return RCS_REQUEST_SIZE_BUFFER; });\n/*\n * Copyright (C) 2019 - present Instructure, Inc.\n *\n * This file is part of Canvas.\n *\n * Canvas is free software: you can redistribute it and/or modify it under\n * the terms of the GNU Affero General Public License as published by the Free\n * Software Foundation, version 3 of the License.\n *\n * Canvas is distributed in the hope that it will be useful, but WITHOUT ANY\n * WARRANTY; without even the implied warranty of MERCHANTABILITY or FITNESS FOR\n * A PARTICULAR PURPOSE. See the GNU Affero General Public License for more\n * details.\n *\n * You should have received a copy of the GNU Affero General Public License along\n * with this program. If not, see <http://www.gnu.org/licenses/>.\n */\nconst RCS_MAX_BODY_SIZE = 300000\nconst RCS_REQUEST_SIZE_BUFFER = 5000 // account for the non-file bytes\n\n//# sourceURL=webpack:///./packages/canvas-rce/src/rce/plugins/shared/Upload/constants.js?");

/***/ }),

/***/ "XsIy":
/*!**********************************************************************************!*\
  !*** ./packages/canvas-media/es/ClosedCaptionCreator/ClosedCaptionCreatorRow.js ***!
  \**********************************************************************************/
/*! exports provided: default */
/***/ (function(module, __webpack_exports__, __webpack_require__) {

"use strict";
eval("__webpack_require__.r(__webpack_exports__);\n/* harmony export (binding) */ __webpack_require__.d(__webpack_exports__, \"default\", function() { return ClosedCaptionCreatorRow; });\n/* harmony import */ var react__WEBPACK_IMPORTED_MODULE_0__ = __webpack_require__(/*! react */ \"q1tI\");\n/* harmony import */ var react__WEBPACK_IMPORTED_MODULE_0___default = /*#__PURE__*/__webpack_require__.n(react__WEBPACK_IMPORTED_MODULE_0__);\n/* harmony import */ var prop_types__WEBPACK_IMPORTED_MODULE_1__ = __webpack_require__(/*! prop-types */ \"17x9\");\n/* harmony import */ var prop_types__WEBPACK_IMPORTED_MODULE_1___default = /*#__PURE__*/__webpack_require__.n(prop_types__WEBPACK_IMPORTED_MODULE_1__);\n/* harmony import */ var format_message__WEBPACK_IMPORTED_MODULE_2__ = __webpack_require__(/*! format-message */ \"/HcR\");\n/* harmony import */ var format_message__WEBPACK_IMPORTED_MODULE_2___default = /*#__PURE__*/__webpack_require__.n(format_message__WEBPACK_IMPORTED_MODULE_2__);\n/* harmony import */ var _instructure_ui_buttons__WEBPACK_IMPORTED_MODULE_3__ = __webpack_require__(/*! @instructure/ui-buttons */ \"K6WN\");\n/* harmony import */ var _instructure_ui_flex__WEBPACK_IMPORTED_MODULE_4__ = __webpack_require__(/*! @instructure/ui-flex */ \"N46v\");\n/* harmony import */ var _instructure_ui_icons__WEBPACK_IMPORTED_MODULE_5__ = __webpack_require__(/*! @instructure/ui-icons */ \"oMAr\");\n/* harmony import */ var _instructure_ui_a11y_content__WEBPACK_IMPORTED_MODULE_6__ = __webpack_require__(/*! @instructure/ui-a11y-content */ \"9+/z\");\n/* harmony import */ var _instructure_ui_text__WEBPACK_IMPORTED_MODULE_7__ = __webpack_require__(/*! @instructure/ui-text */ \"iE3e\");\n/* harmony import */ var _instructure_ui_view__WEBPACK_IMPORTED_MODULE_8__ = __webpack_require__(/*! @instructure/ui-view */ \"OkHH\");\n/* harmony import */ var _shared_CanvasSelect__WEBPACK_IMPORTED_MODULE_9__ = __webpack_require__(/*! ../shared/CanvasSelect */ \"L4jh\");\n/*\n * Copyright (C) 2019 - present Instructure, Inc.\n *\n * This file is part of Canvas.\n *\n * Canvas is free software: you can redistribute it and/or modify it under\n * the terms of the GNU Affero General Public License as published by the Free\n * Software Foundation, version 3 of the License.\n *\n * Canvas is distributed in the hope that it will be useful, but WITHOUT ANY\n * WARRANTY; without even the implied warranty of MERCHANTABILITY or FITNESS FOR\n * A PARTICULAR PURPOSE. See the GNU Affero General Public License for more\n * details.\n *\n * You should have received a copy of the GNU Affero General Public License along\n * with this program. If not, see <http://www.gnu.org/licenses/>.\n */\n\n\n\n\n\n\n\n\n\n\nclass ClosedCaptionCreatorRow extends react__WEBPACK_IMPORTED_MODULE_0__[\"Component\"] {\n  constructor(...args) {\n    super(...args);\n    this._langSelectRef = /*#__PURE__*/react__WEBPACK_IMPORTED_MODULE_0___default.a.createRef();\n    this._deleteCCBtnRef = /*#__PURE__*/react__WEBPACK_IMPORTED_MODULE_0___default.a.createRef();\n\n    this.handleLanguageChange = (event, selectedLang) => {\n      this.props.onLanguageSelected(this.props.languages.find(l => l.id === selectedLang));\n    };\n\n    this.handleDeleteRow = _e => {\n      this.props.onDeleteRow(this.props.selectedLanguage.id);\n    };\n  }\n\n  get isReadonly() {\n    return this.props.selectedFile && this.props.selectedLanguage;\n  }\n\n  focus() {\n    if (this._langSelectRef.current) {\n      this._langSelectRef.current.focus();\n    } else if (this._deleteCCBtnRef.current) {\n      this._deleteCCBtnRef.current.focus();\n    }\n  }\n\n  renderChoosing() {\n    return /*#__PURE__*/react__WEBPACK_IMPORTED_MODULE_0___default.a.createElement(_instructure_ui_flex__WEBPACK_IMPORTED_MODULE_4__[\"Flex\"], {\n      as: \"div\",\n      wrap: \"wrap\",\n      justifyItems: \"start\",\n      alignItems: \"end\",\n      \"data-testid\": \"CC-CreatorRow-choosing\"\n    }, this.renderSelectLanguage(), this.renderChooseFile());\n  }\n\n  renderSelectLanguage() {\n    var _this$props$selectedL;\n\n    const CLOSED_CAPTIONS_SELECT_LANGUAGE = this.props.uploadMediaTranslations.UploadMediaStrings.CLOSED_CAPTIONS_SELECT_LANGUAGE;\n    return /*#__PURE__*/react__WEBPACK_IMPORTED_MODULE_0___default.a.createElement(_instructure_ui_flex__WEBPACK_IMPORTED_MODULE_4__[\"Flex\"].Item, {\n      margin: \"0 small small 0\"\n    }, /*#__PURE__*/react__WEBPACK_IMPORTED_MODULE_0___default.a.createElement(_shared_CanvasSelect__WEBPACK_IMPORTED_MODULE_9__[\"default\"], {\n      ref: this._langSelectRef,\n      value: (_this$props$selectedL = this.props.selectedLanguage) === null || _this$props$selectedL === void 0 ? void 0 : _this$props$selectedL.id,\n      label: /*#__PURE__*/react__WEBPACK_IMPORTED_MODULE_0___default.a.createElement(_instructure_ui_a11y_content__WEBPACK_IMPORTED_MODULE_6__[\"ScreenReaderContent\"], null, CLOSED_CAPTIONS_SELECT_LANGUAGE),\n      liveRegion: this.props.liveRegion,\n      onChange: this.handleLanguageChange,\n      placeholder: CLOSED_CAPTIONS_SELECT_LANGUAGE,\n      translatedStrings: this.props.uploadMediaTranslations.SelectStrings\n    }, this.props.languages.map(o => {\n      return /*#__PURE__*/react__WEBPACK_IMPORTED_MODULE_0___default.a.createElement(_shared_CanvasSelect__WEBPACK_IMPORTED_MODULE_9__[\"default\"].Option, {\n        key: o.id,\n        id: o.id,\n        value: o.id\n      }, o.label);\n    })));\n  }\n\n  renderChooseFile() {\n    const _this$props$uploadMed = this.props.uploadMediaTranslations.UploadMediaStrings,\n          NO_FILE_CHOSEN = _this$props$uploadMed.NO_FILE_CHOSEN,\n          SUPPORTED_FILE_TYPES = _this$props$uploadMed.SUPPORTED_FILE_TYPES,\n          CLOSED_CAPTIONS_CHOOSE_FILE = _this$props$uploadMed.CLOSED_CAPTIONS_CHOOSE_FILE;\n    return /*#__PURE__*/react__WEBPACK_IMPORTED_MODULE_0___default.a.createElement(_instructure_ui_flex__WEBPACK_IMPORTED_MODULE_4__[\"Flex\"].Item, {\n      margin: \"0 small small 0\"\n    }, /*#__PURE__*/react__WEBPACK_IMPORTED_MODULE_0___default.a.createElement(\"input\", {\n      id: \"attachmentFile\",\n      accept: \".vtt, .srt\",\n      ref: element => {\n        this.fileInput = element;\n      },\n      onChange: e => {\n        this.props.onFileSelected(e.target.files[0]);\n      },\n      style: {\n        display: 'none'\n      },\n      type: \"file\"\n    }), /*#__PURE__*/react__WEBPACK_IMPORTED_MODULE_0___default.a.createElement(_instructure_ui_view__WEBPACK_IMPORTED_MODULE_8__[\"View\"], {\n      as: \"div\"\n    }, /*#__PURE__*/react__WEBPACK_IMPORTED_MODULE_0___default.a.createElement(_instructure_ui_text__WEBPACK_IMPORTED_MODULE_7__[\"Text\"], {\n      as: \"div\"\n    }, SUPPORTED_FILE_TYPES), /*#__PURE__*/react__WEBPACK_IMPORTED_MODULE_0___default.a.createElement(_instructure_ui_buttons__WEBPACK_IMPORTED_MODULE_3__[\"Button\"], {\n      margin: \"xx-small 0 0 0\",\n      id: \"attachmentFileButton\",\n      onClick: () => {\n        this.fileInput.click();\n      },\n      ref: element => {\n        this.attachmentFileButton = element;\n      }\n    }, this.props.selectedFile ? this.props.selectedFile.name : CLOSED_CAPTIONS_CHOOSE_FILE), !this.props.selectedFile && /*#__PURE__*/react__WEBPACK_IMPORTED_MODULE_0___default.a.createElement(_instructure_ui_view__WEBPACK_IMPORTED_MODULE_8__[\"View\"], {\n      display: \"inline-block\",\n      margin: \"0 0 0 small\"\n    }, /*#__PURE__*/react__WEBPACK_IMPORTED_MODULE_0___default.a.createElement(_instructure_ui_text__WEBPACK_IMPORTED_MODULE_7__[\"Text\"], {\n      color: \"secondary\"\n    }, NO_FILE_CHOSEN))));\n  }\n\n  renderChosen() {\n    const REMOVE_FILE = this.props.uploadMediaTranslations.UploadMediaStrings.REMOVE_FILE;\n    return /*#__PURE__*/react__WEBPACK_IMPORTED_MODULE_0___default.a.createElement(_instructure_ui_flex__WEBPACK_IMPORTED_MODULE_4__[\"Flex\"], {\n      as: \"div\",\n      wrap: \"wrap\",\n      justifyItems: \"start\",\n      alignItems: \"end\",\n      \"data-testid\": \"CC-CreatorRow-chosen\"\n    }, /*#__PURE__*/react__WEBPACK_IMPORTED_MODULE_0___default.a.createElement(_instructure_ui_flex__WEBPACK_IMPORTED_MODULE_4__[\"Flex\"].Item, {\n      margin: \"0 0 small 0\"\n    }, /*#__PURE__*/react__WEBPACK_IMPORTED_MODULE_0___default.a.createElement(_instructure_ui_view__WEBPACK_IMPORTED_MODULE_8__[\"View\"], {\n      as: \"div\",\n      borderWidth: \"small\",\n      padding: \"0 0 0 small\",\n      borderRadius: \"medium\",\n      width: \"100%\"\n    }, /*#__PURE__*/react__WEBPACK_IMPORTED_MODULE_0___default.a.createElement(_instructure_ui_flex__WEBPACK_IMPORTED_MODULE_4__[\"Flex\"], {\n      justifyItems: \"space-between\"\n    }, /*#__PURE__*/react__WEBPACK_IMPORTED_MODULE_0___default.a.createElement(_instructure_ui_flex__WEBPACK_IMPORTED_MODULE_4__[\"Flex\"].Item, null, /*#__PURE__*/react__WEBPACK_IMPORTED_MODULE_0___default.a.createElement(_instructure_ui_text__WEBPACK_IMPORTED_MODULE_7__[\"Text\"], {\n      weight: \"bold\"\n    }, this.props.selectedLanguage.label)), /*#__PURE__*/react__WEBPACK_IMPORTED_MODULE_0___default.a.createElement(_instructure_ui_flex__WEBPACK_IMPORTED_MODULE_4__[\"Flex\"].Item, {\n      margin: \"0 0 0 x-small\"\n    }, /*#__PURE__*/react__WEBPACK_IMPORTED_MODULE_0___default.a.createElement(_instructure_ui_buttons__WEBPACK_IMPORTED_MODULE_3__[\"IconButton\"], {\n      ref: this._deleteCCBtnRef,\n      withBackground: false,\n      withBorder: false,\n      onClick: this.handleDeleteRow,\n      screenReaderLabel: format_message__WEBPACK_IMPORTED_MODULE_2___default()(REMOVE_FILE, {\n        lang: this.props.selectedLanguage.label\n      })\n    }, /*#__PURE__*/react__WEBPACK_IMPORTED_MODULE_0___default.a.createElement(_instructure_ui_icons__WEBPACK_IMPORTED_MODULE_5__[\"IconTrashLine\"], null)))))));\n  }\n\n  render() {\n    return this.isReadonly ? this.renderChosen() : this.renderChoosing();\n  }\n\n}\nClosedCaptionCreatorRow.propTypes = {\n  languages: Object(prop_types__WEBPACK_IMPORTED_MODULE_1__[\"arrayOf\"])(Object(prop_types__WEBPACK_IMPORTED_MODULE_1__[\"shape\"])({\n    id: prop_types__WEBPACK_IMPORTED_MODULE_1__[\"string\"],\n    label: prop_types__WEBPACK_IMPORTED_MODULE_1__[\"string\"]\n  })),\n  liveRegion: prop_types__WEBPACK_IMPORTED_MODULE_1__[\"func\"],\n  uploadMediaTranslations: Object(prop_types__WEBPACK_IMPORTED_MODULE_1__[\"shape\"])({\n    UploadMediaStrings: Object(prop_types__WEBPACK_IMPORTED_MODULE_1__[\"objectOf\"])(prop_types__WEBPACK_IMPORTED_MODULE_1__[\"string\"]),\n    SelectStrings: Object(prop_types__WEBPACK_IMPORTED_MODULE_1__[\"objectOf\"])(prop_types__WEBPACK_IMPORTED_MODULE_1__[\"string\"])\n  }),\n  onDeleteRow: prop_types__WEBPACK_IMPORTED_MODULE_1__[\"func\"],\n  onFileSelected: prop_types__WEBPACK_IMPORTED_MODULE_1__[\"func\"],\n  onLanguageSelected: prop_types__WEBPACK_IMPORTED_MODULE_1__[\"func\"],\n  selectedFile: Object(prop_types__WEBPACK_IMPORTED_MODULE_1__[\"shape\"])({\n    name: prop_types__WEBPACK_IMPORTED_MODULE_1__[\"string\"].isRequired\n  }),\n  // there's more, but his is all I care about\n  selectedLanguage: Object(prop_types__WEBPACK_IMPORTED_MODULE_1__[\"shape\"])({\n    id: prop_types__WEBPACK_IMPORTED_MODULE_1__[\"string\"].isRequired,\n    label: prop_types__WEBPACK_IMPORTED_MODULE_1__[\"string\"].isRequired\n  })\n};\n\n//# sourceURL=webpack:///./packages/canvas-media/es/ClosedCaptionCreator/ClosedCaptionCreatorRow.js?");

/***/ }),

/***/ "fwbQ":
/*!**********************************************************!*\
  !*** ./packages/canvas-media/es/shared/FileSizeError.js ***!
  \**********************************************************/
/*! exports provided: default */
/***/ (function(module, __webpack_exports__, __webpack_require__) {

"use strict";
eval("__webpack_require__.r(__webpack_exports__);\n/*\n * Copyright (C) 2020 - present Instructure, Inc.\n *\n * This file is part of Canvas.\n *\n * Canvas is free software: you can redistribute it and/or modify it under\n * the terms of the GNU Affero General Public License as published by the Free\n * Software Foundation, version 3 of the License.\n *\n * Canvas is distributed in the hope that it will be useful, but WITHOUT ANY\n * WARRANTY; without even the implied warranty of MERCHANTABILITY or FITNESS FOR\n * A PARTICULAR PURPOSE. See the GNU Affero General Public License for more\n * details.\n *\n * You should have received a copy of the GNU Affero General Public License along\n * with this program. If not, see <http://www.gnu.org/licenses/>.\n */\nclass FileSizeError extends Error {\n  static get type() {\n    return 'FileSizeError';\n  }\n\n  constructor({\n    maxBytes,\n    actualBytes\n  }, ...args) {\n    super(\"Max file size exceeded\", args);\n    this.name = FileSizeError.type;\n    this.maxBytes = maxBytes;\n    this.actualBytes = actualBytes;\n  }\n\n}\n\n/* harmony default export */ __webpack_exports__[\"default\"] = (FileSizeError);\n\n//# sourceURL=webpack:///./packages/canvas-media/es/shared/FileSizeError.js?");

/***/ }),

/***/ "gyWI":
/*!**************************************************!*\
  !*** ./packages/canvas-media/es/shared/utils.js ***!
  \**************************************************/
/*! exports provided: AUDIO_PLAYER_SIZE, NON_PREVIEWABLE_TYPES, isPreviewable, isVideo, isAudio, sizeMediaPlayer */
/***/ (function(module, __webpack_exports__, __webpack_require__) {

"use strict";
eval("__webpack_require__.r(__webpack_exports__);\n/* harmony export (binding) */ __webpack_require__.d(__webpack_exports__, \"AUDIO_PLAYER_SIZE\", function() { return AUDIO_PLAYER_SIZE; });\n/* harmony export (binding) */ __webpack_require__.d(__webpack_exports__, \"NON_PREVIEWABLE_TYPES\", function() { return NON_PREVIEWABLE_TYPES; });\n/* harmony export (binding) */ __webpack_require__.d(__webpack_exports__, \"isPreviewable\", function() { return isPreviewable; });\n/* harmony export (binding) */ __webpack_require__.d(__webpack_exports__, \"isVideo\", function() { return isVideo; });\n/* harmony export (binding) */ __webpack_require__.d(__webpack_exports__, \"isAudio\", function() { return isAudio; });\n/* harmony export (binding) */ __webpack_require__.d(__webpack_exports__, \"sizeMediaPlayer\", function() { return sizeMediaPlayer; });\n/*\n * Copyright (C) 2020 - present Instructure, Inc.\n *\n * This file is part of Canvas.\n *\n * Canvas is free software: you can redistribute it and/or modify it under\n * the terms of the GNU Affero General Public License as published by the Free\n * Software Foundation, version 3 of the License.\n *\n * Canvas is distributed in the hope that it will be useful, but WITHOUT ANY\n * WARRANTY; without even the implied warranty of MERCHANTABILITY or FITNESS FOR\n * A PARTICULAR PURPOSE. See the GNU Affero General Public License for more\n * details.\n *\n * You should have received a copy of the GNU Affero General Public License along\n * with this program. If not, see <http://www.gnu.org/licenses/>.\n */\nconst AUDIO_PLAYER_SIZE = {\n  width: '320px',\n  height: '14.25rem'\n};\nconst NON_PREVIEWABLE_TYPES = ['audio/x-ms-wma', 'video/avi', 'video/x-msvideo', 'video/x-ms-wma', 'video/x-ms-wmv'];\nconst isPreviewable = type => !NON_PREVIEWABLE_TYPES.includes(type);\nfunction isVideo(type) {\n  return /^video/.test(type);\n}\nfunction isAudio(type) {\n  return /^audio/.test(type);\n} // return the desired size of the video player in CSS units\n// constrained to the container's size\n// If the container is larger than the video, will stretch it to fill\n// the available space\n\nfunction sizeMediaPlayer(player, type, container) {\n  if (isAudio(type)) {\n    return AUDIO_PLAYER_SIZE;\n  }\n\n  const sz = {\n    width: player.videoWidth,\n    height: player.videoHeight\n  };\n\n  if (sz.width > sz.height) {\n    sz.width = container.width;\n    sz.height = player.videoHeight / player.videoWidth * sz.width;\n  } else {\n    sz.height = container.height;\n    sz.width = player.videoWidth / player.videoHeight * sz.height;\n  }\n\n  if (sz.height > container.height) {\n    sz.width *= container.height / sz.height;\n    sz.height = container.height;\n  }\n\n  sz.width = `${Math.round(sz.width)}px`;\n  sz.height = `${Math.round(sz.height)}px`;\n  return sz;\n}\n\n//# sourceURL=webpack:///./packages/canvas-media/es/shared/utils.js?");

/***/ }),

/***/ "hyb8":
/*!***********************************************************!*\
  !*** ./packages/canvas-media/es/useComputerPanelFocus.js ***!
  \***********************************************************/
/*! exports provided: default */
/***/ (function(module, __webpack_exports__, __webpack_require__) {

"use strict";
eval("__webpack_require__.r(__webpack_exports__);\n/* harmony export (binding) */ __webpack_require__.d(__webpack_exports__, \"default\", function() { return useComputerPanelFocus; });\n/* harmony import */ var _babel_runtime_helpers_esm_slicedToArray__WEBPACK_IMPORTED_MODULE_0__ = __webpack_require__(/*! @babel/runtime/helpers/esm/slicedToArray */ \"ODXe\");\n/* harmony import */ var react__WEBPACK_IMPORTED_MODULE_1__ = __webpack_require__(/*! react */ \"q1tI\");\n/* harmony import */ var react__WEBPACK_IMPORTED_MODULE_1___default = /*#__PURE__*/__webpack_require__.n(react__WEBPACK_IMPORTED_MODULE_1__);\n\n\n/*\n * Copyright (C) 2019 - present Instructure, Inc.\n *\n * This file is part of Canvas.\n *\n * Canvas is free software: you can redistribute it and/or modify it under\n * the terms of the GNU Affero General Public License as published by the Free\n * Software Foundation, version 3 of the License.\n *\n * Canvas is distributed in the hope that it will be useful, but WITHOUT ANY\n * WARRANTY; without even the implied warranty of MERCHANTABILITY or FITNESS FOR\n * A PARTICULAR PURPOSE. See the GNU Affero General Public License for more\n * details.\n *\n * You should have received a copy of the GNU Affero General Public License along\n * with this program. If not, see <http://www.gnu.org/licenses/>.\n */\n\nfunction useComputerPanelFocus(theFile, panelRef, clearButtonRef) {\n  const _useState = Object(react__WEBPACK_IMPORTED_MODULE_1__[\"useState\"])(false),\n        _useState2 = Object(_babel_runtime_helpers_esm_slicedToArray__WEBPACK_IMPORTED_MODULE_0__[\"default\"])(_useState, 2),\n        weHaveHadAFile = _useState2[0],\n        setWeHaveHadAFile = _useState2[1];\n\n  Object(react__WEBPACK_IMPORTED_MODULE_1__[\"useEffect\"])(() => {\n    if (weHaveHadAFile) {\n      if (clearButtonRef.current) {\n        clearButtonRef.current.focus();\n      } else if (panelRef.current) {\n        panelRef.current.querySelector('input').focus(); // because FileDrop does not have a ref prop or a focus func\n      }\n    }\n\n    setWeHaveHadAFile(weHaveHadAFile || theFile);\n  }, [weHaveHadAFile, theFile]); // eslint-disable-line react-hooks/exhaustive-deps\n}\n\n//# sourceURL=webpack:///./packages/canvas-media/es/useComputerPanelFocus.js?");

/***/ }),

/***/ "mc60":
/*!*************************************************!*\
  !*** ./packages/canvas-media/es/UploadMedia.js ***!
  \*************************************************/
/*! exports provided: PANELS, default */
/***/ (function(module, __webpack_exports__, __webpack_require__) {

"use strict";
eval("__webpack_require__.r(__webpack_exports__);\n/* harmony export (binding) */ __webpack_require__.d(__webpack_exports__, \"PANELS\", function() { return PANELS; });\n/* harmony export (binding) */ __webpack_require__.d(__webpack_exports__, \"default\", function() { return UploadMedia; });\n/* harmony import */ var prop_types__WEBPACK_IMPORTED_MODULE_0__ = __webpack_require__(/*! prop-types */ \"17x9\");\n/* harmony import */ var prop_types__WEBPACK_IMPORTED_MODULE_0___default = /*#__PURE__*/__webpack_require__.n(prop_types__WEBPACK_IMPORTED_MODULE_0__);\n/* harmony import */ var react__WEBPACK_IMPORTED_MODULE_1__ = __webpack_require__(/*! react */ \"q1tI\");\n/* harmony import */ var react__WEBPACK_IMPORTED_MODULE_1___default = /*#__PURE__*/__webpack_require__.n(react__WEBPACK_IMPORTED_MODULE_1__);\n/* harmony import */ var react_dom__WEBPACK_IMPORTED_MODULE_2__ = __webpack_require__(/*! react-dom */ \"i8i4\");\n/* harmony import */ var react_dom__WEBPACK_IMPORTED_MODULE_2___default = /*#__PURE__*/__webpack_require__.n(react_dom__WEBPACK_IMPORTED_MODULE_2__);\n/* harmony import */ var _instructure_ui_buttons__WEBPACK_IMPORTED_MODULE_3__ = __webpack_require__(/*! @instructure/ui-buttons */ \"K6WN\");\n/* harmony import */ var _instructure_ui_heading__WEBPACK_IMPORTED_MODULE_4__ = __webpack_require__(/*! @instructure/ui-heading */ \"nwNI\");\n/* harmony import */ var _instructure_ui_modal__WEBPACK_IMPORTED_MODULE_5__ = __webpack_require__(/*! @instructure/ui-modal */ \"7I2A\");\n/* harmony import */ var _instructure_ui_tabs__WEBPACK_IMPORTED_MODULE_6__ = __webpack_require__(/*! @instructure/ui-tabs */ \"pjPr\");\n/* harmony import */ var _instructure_ui_utils__WEBPACK_IMPORTED_MODULE_7__ = __webpack_require__(/*! @instructure/ui-utils */ \"Nd46\");\n/* harmony import */ var _instructure_ui_progress__WEBPACK_IMPORTED_MODULE_8__ = __webpack_require__(/*! @instructure/ui-progress */ \"EzO3\");\n/* harmony import */ var _instructure_ui_text__WEBPACK_IMPORTED_MODULE_9__ = __webpack_require__(/*! @instructure/ui-text */ \"iE3e\");\n/* harmony import */ var _acceptedMediaFileTypes__WEBPACK_IMPORTED_MODULE_10__ = __webpack_require__(/*! ./acceptedMediaFileTypes */ \"8BT/\");\n/* harmony import */ var _shared_LoadingIndicator__WEBPACK_IMPORTED_MODULE_11__ = __webpack_require__(/*! ./shared/LoadingIndicator */ \"Lyw1\");\n/* harmony import */ var _saveMediaRecording__WEBPACK_IMPORTED_MODULE_12__ = __webpack_require__(/*! ./saveMediaRecording */ \"LixQ\");\n/* harmony import */ var _translationShape__WEBPACK_IMPORTED_MODULE_13__ = __webpack_require__(/*! ./translationShape */ \"3Ni0\");\n/* harmony import */ var _instructure_canvas_rce_src_rce_plugins_shared_Upload_constants__WEBPACK_IMPORTED_MODULE_14__ = __webpack_require__(/*! @instructure/canvas-rce/src/rce/plugins/shared/Upload/constants */ \"W43x\");\n/*\n * Copyright (C) 2019 - present Instructure, Inc.\n *\n * This file is part of Canvas.\n *\n * Canvas is free software: you can redistribute it and/or modify it under\n * the terms of the GNU Affero General Public License as published by the Free\n * Software Foundation, version 3 of the License.\n *\n * Canvas is distributed in the hope that it will be useful, but WITHOUT ANY\n * WARRANTY; without even the implied warranty of MERCHANTABILITY or FITNESS FOR\n * A PARTICULAR PURPOSE. See the GNU Affero General Public License for more\n * details.\n *\n * You should have received a copy of the GNU Affero General Public License along\n * with this program. If not, see <http://www.gnu.org/licenses/>.\n */\n\n\n\n\n\n\n\n\n\n\n\n\n\n\n\nconst ComputerPanel = /*#__PURE__*/react__WEBPACK_IMPORTED_MODULE_1___default.a.lazy(() => Promise.all(/*! import() */[__webpack_require__.e(14), __webpack_require__.e(39), __webpack_require__.e(38), __webpack_require__.e(63), __webpack_require__.e(66), __webpack_require__.e(85), __webpack_require__.e(3710)]).then(__webpack_require__.bind(null, /*! ./ComputerPanel */ \"1DNU\")));\nconst MediaRecorder = /*#__PURE__*/react__WEBPACK_IMPORTED_MODULE_1___default.a.lazy(() => Promise.all(/*! import() */[__webpack_require__.e(21), __webpack_require__.e(23), __webpack_require__.e(25), __webpack_require__.e(31), __webpack_require__.e(42), __webpack_require__.e(123), __webpack_require__.e(125), __webpack_require__.e(3779)]).then(__webpack_require__.bind(null, /*! ./MediaRecorder */ \"Ymis\")));\nconst PANELS = {\n  COMPUTER: 0,\n  RECORD: 1\n};\nclass UploadMedia extends react__WEBPACK_IMPORTED_MODULE_1___default.a.Component {\n  constructor(props) {\n    super(props);\n\n    this.isReady = () => {\n      if (this.props.disableSubmitWhileUploading && this.state.uploading) {\n        return false;\n      }\n\n      switch (this.state.selectedPanel) {\n        case PANELS.COMPUTER:\n          return !!this.state.computerFile;\n\n        case PANELS.RECORD:\n          return !!this.state.recordedFile;\n\n        default:\n          return false;\n      }\n    };\n\n    this.handleSubmit = () => {\n      switch (this.state.selectedPanel) {\n        case PANELS.COMPUTER:\n          this.uploadFile(this.state.computerFile);\n          break;\n\n        case PANELS.RECORD:\n          this.uploadFile(this.state.recordedFile);\n          break;\n\n        default:\n          throw new Error('Selected Panel is invalid');\n        // Should never get here\n      }\n    };\n\n    this.submitEnabled = () => {\n      var _this$state$computerF;\n\n      switch (this.state.selectedPanel) {\n        case PANELS.COMPUTER:\n          return this.isReady() && !!((_this$state$computerF = this.state.computerFile) !== null && _this$state$computerF !== void 0 && _this$state$computerF.title);\n\n        default:\n          return this.isReady();\n      }\n    };\n\n    this.onSaveMediaProgress = progress => {\n      this.setState({\n        progress\n      });\n    };\n\n    this.saveMediaCallback = async (err, data) => {\n      if (err) {\n        this.props.onUploadComplete && this.props.onUploadComplete(err, data);\n      } else {\n        try {\n          if (this.state.selectedPanel === PANELS.COMPUTER && this.state.subtitles.length > 0) {\n            await Object(_saveMediaRecording__WEBPACK_IMPORTED_MODULE_12__[\"saveClosedCaptions\"])(data.mediaObject.media_object.media_id, this.state.subtitles, this.props.rcsConfig, _instructure_canvas_rce_src_rce_plugins_shared_Upload_constants__WEBPACK_IMPORTED_MODULE_14__[\"RCS_MAX_BODY_SIZE\"] - _instructure_canvas_rce_src_rce_plugins_shared_Upload_constants__WEBPACK_IMPORTED_MODULE_14__[\"RCS_REQUEST_SIZE_BUFFER\"]);\n          }\n\n          this.props.onUploadComplete && this.props.onUploadComplete(null, data);\n        } catch (ex) {\n          this.props.onUploadComplete && this.props.onUploadComplete(ex, null);\n        }\n      }\n\n      this.props.onDismiss && this.props.onDismiss();\n    };\n\n    this.renderModalBody = () => {\n      const _this$props$uploadMed = this.props.uploadMediaTranslations.UploadMediaStrings,\n            COMPUTER_PANEL_TITLE = _this$props$uploadMed.COMPUTER_PANEL_TITLE,\n            DRAG_FILE_TEXT = _this$props$uploadMed.DRAG_FILE_TEXT,\n            LOADING_MEDIA = _this$props$uploadMed.LOADING_MEDIA,\n            RECORD_PANEL_TITLE = _this$props$uploadMed.RECORD_PANEL_TITLE,\n            MEDIA_RECORD_NOT_AVAILABLE = _this$props$uploadMed.MEDIA_RECORD_NOT_AVAILABLE;\n      return /*#__PURE__*/react__WEBPACK_IMPORTED_MODULE_1___default.a.createElement(_instructure_ui_tabs__WEBPACK_IMPORTED_MODULE_6__[\"Tabs\"], {\n        maxWidth: \"large\",\n        onRequestTabChange: (_, {\n          index\n        }) => {\n          this.setState({\n            selectedPanel: index\n          });\n        }\n      }, this.props.tabs.upload && /*#__PURE__*/react__WEBPACK_IMPORTED_MODULE_1___default.a.createElement(_instructure_ui_tabs__WEBPACK_IMPORTED_MODULE_6__[\"Tabs\"].Panel, {\n        key: \"computer\",\n        isSelected: this.state.selectedPanel === PANELS.COMPUTER,\n        renderTitle: () => COMPUTER_PANEL_TITLE\n      }, /*#__PURE__*/react__WEBPACK_IMPORTED_MODULE_1___default.a.createElement(react__WEBPACK_IMPORTED_MODULE_1__[\"Suspense\"], {\n        fallback: Object(_shared_LoadingIndicator__WEBPACK_IMPORTED_MODULE_11__[\"default\"])(LOADING_MEDIA)\n      }, /*#__PURE__*/react__WEBPACK_IMPORTED_MODULE_1___default.a.createElement(ComputerPanel, {\n        theFile: this.state.computerFile,\n        setFile: file => this.setState({\n          computerFile: file\n        }),\n        hasUploadedFile: this.state.hasUploadedFile,\n        setHasUploadedFile: uploadFileState => this.setState({\n          hasUploadedFile: uploadFileState\n        }),\n        label: DRAG_FILE_TEXT,\n        uploadMediaTranslations: this.props.uploadMediaTranslations,\n        accept: _acceptedMediaFileTypes__WEBPACK_IMPORTED_MODULE_10__[\"ACCEPTED_FILE_TYPES\"],\n        languages: this.props.languages,\n        liveRegion: this.props.liveRegion,\n        updateSubtitles: subtitles => {\n          this.setState({\n            subtitles\n          });\n        },\n        bounds: this.state.modalBodySize\n      }))), this.props.tabs.record && /*#__PURE__*/react__WEBPACK_IMPORTED_MODULE_1___default.a.createElement(_instructure_ui_tabs__WEBPACK_IMPORTED_MODULE_6__[\"Tabs\"].Panel, {\n        key: \"record\",\n        isSelected: this.state.selectedPanel === PANELS.RECORD,\n        renderTitle: () => RECORD_PANEL_TITLE\n      }, /*#__PURE__*/react__WEBPACK_IMPORTED_MODULE_1___default.a.createElement(react__WEBPACK_IMPORTED_MODULE_1__[\"Suspense\"], {\n        fallback: Object(_shared_LoadingIndicator__WEBPACK_IMPORTED_MODULE_11__[\"default\"])(LOADING_MEDIA)\n      }, /*#__PURE__*/react__WEBPACK_IMPORTED_MODULE_1___default.a.createElement(MediaRecorder, {\n        MediaCaptureStrings: this.props.uploadMediaTranslations.MediaCaptureStrings,\n        errorMessage: MEDIA_RECORD_NOT_AVAILABLE,\n        onSave: file => this.setState({\n          recordedFile: file\n        }, this.handleSubmit)\n      }))));\n    };\n\n    this.onModalClose = () => {\n      this.setState({\n        hasUploadedFile: false,\n        selectedPanel: 0,\n        computerFile: null\n      });\n      this.props.onDismiss();\n    };\n\n    this.renderModalFooter = () => {\n      if (this.state.selectedPanel === PANELS.RECORD) {\n        return null;\n      }\n\n      const _this$props$uploadMed2 = this.props.uploadMediaTranslations.UploadMediaStrings,\n            CLOSE_TEXT = _this$props$uploadMed2.CLOSE_TEXT,\n            SUBMIT_TEXT = _this$props$uploadMed2.SUBMIT_TEXT,\n            PROGRESS_LABEL = _this$props$uploadMed2.PROGRESS_LABEL;\n      return /*#__PURE__*/react__WEBPACK_IMPORTED_MODULE_1___default.a.createElement(_instructure_ui_modal__WEBPACK_IMPORTED_MODULE_5__[\"Modal\"].Footer, null, this.state.uploading && /*#__PURE__*/react__WEBPACK_IMPORTED_MODULE_1___default.a.createElement(_instructure_ui_progress__WEBPACK_IMPORTED_MODULE_8__[\"ProgressBar\"], {\n        screenReaderLabel: PROGRESS_LABEL,\n        valueNow: this.state.progress,\n        valueMax: 100,\n        renderValue: ({\n          valueNow\n        }) => {\n          return /*#__PURE__*/react__WEBPACK_IMPORTED_MODULE_1___default.a.createElement(_instructure_ui_text__WEBPACK_IMPORTED_MODULE_9__[\"Text\"], null, valueNow, \"%\");\n        }\n      }), \"\\xA0\", /*#__PURE__*/react__WEBPACK_IMPORTED_MODULE_1___default.a.createElement(_instructure_ui_buttons__WEBPACK_IMPORTED_MODULE_3__[\"Button\"], {\n        onClick: this.onModalClose\n      }, \" \", CLOSE_TEXT, \" \"), \"\\xA0\", /*#__PURE__*/react__WEBPACK_IMPORTED_MODULE_1___default.a.createElement(_instructure_ui_buttons__WEBPACK_IMPORTED_MODULE_3__[\"Button\"], {\n        onClick: e => {\n          e.preventDefault();\n          this.handleSubmit();\n        },\n        color: \"primary\",\n        type: \"submit\",\n        interaction: this.submitEnabled() ? 'enabled' : 'disabled'\n      }, SUBMIT_TEXT));\n    };\n\n    let defaultSelectedPanel = -1;\n\n    if (props.tabs.upload) {\n      defaultSelectedPanel = 0;\n    } else if (props.tabs.record) {\n      defaultSelectedPanel = 1;\n    }\n\n    if (props.computerFile) {\n      props.computerFile.title = props.computerFile.name;\n    }\n\n    this.state = {\n      hasUploadedFile: !!props.computerFile,\n      uploading: false,\n      progress: 0,\n      selectedPanel: defaultSelectedPanel,\n      computerFile: props.computerFile || null,\n      subtitles: [],\n      recordedFile: null,\n      modalBodySize: {\n        width: NaN,\n        height: NaN\n      }\n    };\n    this.modalBodyRef = /*#__PURE__*/react__WEBPACK_IMPORTED_MODULE_1___default.a.createRef();\n  }\n\n  uploadFile(file) {\n    this.setState({\n      uploading: true\n    }, () => {\n      this.props.onStartUpload && this.props.onStartUpload(file);\n      Object(_saveMediaRecording__WEBPACK_IMPORTED_MODULE_12__[\"default\"])(file, this.props.rcsConfig, this.saveMediaCallback, this.onSaveMediaProgress);\n    });\n  }\n\n  componentDidMount() {\n    this.setBodySize(this.state);\n  }\n\n  componentDidUpdate(_prevProps, prevState) {\n    this.setBodySize(prevState);\n  }\n\n  setBodySize(state) {\n    if (this.modalBodyRef.current) {\n      // eslint-disable-next-line react/no-find-dom-node\n      const thebody = react_dom__WEBPACK_IMPORTED_MODULE_2___default.a.findDOMNode(this.modalBodyRef.current);\n      const modalBodySize = thebody.getBoundingClientRect();\n      modalBodySize.height -= Object(_instructure_ui_utils__WEBPACK_IMPORTED_MODULE_7__[\"px\"])('3rem'); // leave room for the tabs\n\n      if (modalBodySize.width !== state.modalBodySize.width || modalBodySize.height !== state.modalBodySize.height) {\n        if (modalBodySize.width > 0 && modalBodySize.height > 0) {\n          this.setState({\n            modalBodySize\n          });\n        }\n      }\n    }\n  }\n\n  render() {\n    const _this$props$uploadMed3 = this.props.uploadMediaTranslations.UploadMediaStrings,\n          CLOSE_TEXT = _this$props$uploadMed3.CLOSE_TEXT,\n          UPLOAD_MEDIA_LABEL = _this$props$uploadMed3.UPLOAD_MEDIA_LABEL;\n    return /*#__PURE__*/react__WEBPACK_IMPORTED_MODULE_1___default.a.createElement(_instructure_ui_modal__WEBPACK_IMPORTED_MODULE_5__[\"Modal\"], {\n      label: UPLOAD_MEDIA_LABEL,\n      size: \"large\",\n      onDismiss: this.onModalClose,\n      open: this.props.open,\n      shouldCloseOnDocumentClick: false,\n      liveRegion: this.props.liveRegion\n    }, /*#__PURE__*/react__WEBPACK_IMPORTED_MODULE_1___default.a.createElement(_instructure_ui_modal__WEBPACK_IMPORTED_MODULE_5__[\"Modal\"].Header, null, /*#__PURE__*/react__WEBPACK_IMPORTED_MODULE_1___default.a.createElement(_instructure_ui_buttons__WEBPACK_IMPORTED_MODULE_3__[\"CloseButton\"], {\n      onClick: this.onModalClose,\n      offset: \"medium\",\n      placement: \"end\",\n      screenReaderLabel: CLOSE_TEXT\n    }), /*#__PURE__*/react__WEBPACK_IMPORTED_MODULE_1___default.a.createElement(_instructure_ui_heading__WEBPACK_IMPORTED_MODULE_4__[\"Heading\"], null, UPLOAD_MEDIA_LABEL)), /*#__PURE__*/react__WEBPACK_IMPORTED_MODULE_1___default.a.createElement(_instructure_ui_modal__WEBPACK_IMPORTED_MODULE_5__[\"Modal\"].Body, {\n      ref: this.modalBodyRef\n    }, this.renderModalBody()), this.renderModalFooter());\n  }\n\n}\nUploadMedia.propTypes = {\n  disableSubmitWhileUploading: prop_types__WEBPACK_IMPORTED_MODULE_0__[\"bool\"],\n  languages: Object(prop_types__WEBPACK_IMPORTED_MODULE_0__[\"arrayOf\"])(Object(prop_types__WEBPACK_IMPORTED_MODULE_0__[\"shape\"])({\n    id: prop_types__WEBPACK_IMPORTED_MODULE_0__[\"string\"],\n    label: prop_types__WEBPACK_IMPORTED_MODULE_0__[\"string\"]\n  })),\n  liveRegion: prop_types__WEBPACK_IMPORTED_MODULE_0__[\"func\"],\n  rcsConfig: Object(prop_types__WEBPACK_IMPORTED_MODULE_0__[\"shape\"])({\n    contextId: prop_types__WEBPACK_IMPORTED_MODULE_0__[\"string\"],\n    contextType: prop_types__WEBPACK_IMPORTED_MODULE_0__[\"string\"],\n    origin: prop_types__WEBPACK_IMPORTED_MODULE_0__[\"string\"],\n    headers: Object(prop_types__WEBPACK_IMPORTED_MODULE_0__[\"shape\"])({\n      Authorization: prop_types__WEBPACK_IMPORTED_MODULE_0__[\"string\"]\n    })\n  }),\n  onStartUpload: prop_types__WEBPACK_IMPORTED_MODULE_0__[\"func\"],\n  onUploadComplete: prop_types__WEBPACK_IMPORTED_MODULE_0__[\"func\"],\n  onDismiss: prop_types__WEBPACK_IMPORTED_MODULE_0__[\"func\"],\n  open: prop_types__WEBPACK_IMPORTED_MODULE_0__[\"bool\"],\n  tabs: Object(prop_types__WEBPACK_IMPORTED_MODULE_0__[\"shape\"])({\n    record: prop_types__WEBPACK_IMPORTED_MODULE_0__[\"bool\"],\n    upload: prop_types__WEBPACK_IMPORTED_MODULE_0__[\"bool\"]\n  }),\n  uploadMediaTranslations: _translationShape__WEBPACK_IMPORTED_MODULE_13__[\"default\"],\n  // for testing\n  computerFile: Object(prop_types__WEBPACK_IMPORTED_MODULE_0__[\"instanceOf\"])(File)\n};\nUploadMedia.defaultProps = {\n  disableSubmitWhileUploading: false\n};\n\n//# sourceURL=webpack:///./packages/canvas-media/es/UploadMedia.js?");

/***/ })

}]);