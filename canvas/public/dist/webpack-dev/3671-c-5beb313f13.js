(window["canvasWebpackJsonp"] = window["canvasWebpackJsonp"] || []).push([[3671],{

/***/ "EZWh":
/*!********************************************************************!*\
  !*** ./ui/shared/mediaelement/jst/UploadMediaTrackForm.handlebars ***!
  \********************************************************************/
/*! exports provided: default */
/***/ (function(module, __webpack_exports__, __webpack_require__) {

"use strict";
eval("__webpack_require__.r(__webpack_exports__);\n/* harmony import */ var handlebars_runtime__WEBPACK_IMPORTED_MODULE_0__ = __webpack_require__(/*! handlebars/runtime */ \"3O+N\");\n/* harmony import */ var handlebars_runtime__WEBPACK_IMPORTED_MODULE_0___default = /*#__PURE__*/__webpack_require__.n(handlebars_runtime__WEBPACK_IMPORTED_MODULE_0__);\n/* harmony import */ var i18n_widget_upload_media_track_form__WEBPACK_IMPORTED_MODULE_1__ = __webpack_require__(/*! i18n!widget.upload_media_track_form */ \"ID8b\");\n/* harmony import */ var _canvas_handlebars_helpers_index_coffee__WEBPACK_IMPORTED_MODULE_2__ = __webpack_require__(/*! @canvas/handlebars-helpers/index.coffee */ \"BGrI\");\n/* harmony import */ var _canvas_brandable_css__WEBPACK_IMPORTED_MODULE_3__ = __webpack_require__(/*! @canvas/brandable-css */ \"dbrX\");\n\n    \n    var Handlebars = handlebars_runtime__WEBPACK_IMPORTED_MODULE_0___default.a.default;\n    \n\n\n    var template = Handlebars.template, templates = Handlebars.templates = Handlebars.templates || {};\n    var name = '/home/td/workspace/guokehuiyi/canvas/ui/shared/mediaelement/jst/UploadMediaTrackForm';\n    templates[name] = template(function (Handlebars,depth0,helpers,partials,data) {\n  this.compilerInfo = [4,'>= 1.0.0'];\nhelpers = this.merge(helpers, Handlebars.helpers); data = data || {};\n  var buffer = \"\", stack1, helper, options, helperMissing=helpers.helperMissing, escapeExpression=this.escapeExpression, functionType=\"function\", self=this;\n\nfunction program1(depth0,data) {\n  \n  var buffer = \"\", helper, options;\n  buffer += \"\\n    <p class=\\\"alert alert-info\\\">\"\n    + escapeExpression((helper = helpers.t || (depth0 && depth0.t),options={hash:{\n    'w0': (\"<strong>$1</strong>\"),\n    'scope': (\"widget.upload_media_track_form\")\n  },data:data},helper ? helper.call(depth0, \"upload_media_track_info\", \"*Instructions:* Follow these three steps to create a subtitle file for your video, then upload it here. If you already have an SRT subtitle file you can skip to step 3.\", options) : helperMissing.call(depth0, \"t\", \"upload_media_track_info\", \"*Instructions:* Follow these three steps to create a subtitle file for your video, then upload it here. If you already have an SRT subtitle file you can skip to step 3.\", options)))\n    + \"\\n    </p>\\n  \";\n  return buffer;\n  }\n\nfunction program3(depth0,data) {\n  \n  var buffer = \"\", helper, options;\n  buffer += \"\\n      <div>\\n        <p class=\\\"uploadMediaTrackFormDescription\\\">\\n        <strong>\"\n    + escapeExpression((helper = helpers.t || (depth0 && depth0.t),options={hash:{\n    'scope': (\"widget.upload_media_track_form\")\n  },data:data},helper ? helper.call(depth0, \"upload_media_track_form_step1_label\", \"Step 1:\", options) : helperMissing.call(depth0, \"t\", \"upload_media_track_form_step1_label\", \"Step 1:\", options)))\n    + \"</strong>\\n          \"\n    + escapeExpression((helper = helpers.t || (depth0 && depth0.t),options={hash:{\n    'scope': (\"widget.upload_media_track_form\")\n  },data:data},helper ? helper.call(depth0, \"upload_media_track_form_description_1\", \"Copy this video URL:\", options) : helperMissing.call(depth0, \"t\", \"upload_media_track_form_description_1\", \"Copy this video URL:\", options)))\n    + \"\\n        </p>\\n        <div id=\\\"media-track-video-url-container\\\"></div>\\n      </div>\\n\\n      <div>\\n        <p class=\\\"uploadMediaTrackFormDescription\\\">\\n        <strong>\"\n    + escapeExpression((helper = helpers.t || (depth0 && depth0.t),options={hash:{\n    'scope': (\"widget.upload_media_track_form\")\n  },data:data},helper ? helper.call(depth0, \"upload_media_track_form_step2_label\", \"Step 2:\", options) : helperMissing.call(depth0, \"t\", \"upload_media_track_form_step2_label\", \"Step 2:\", options)))\n    + \"</strong>\\n          \"\n    + escapeExpression((helper = helpers.t || (depth0 && depth0.t),options={hash:{\n    'scope': (\"widget.upload_media_track_form\")\n  },data:data},helper ? helper.call(depth0, \"upload_media_track_form_description_2\", \"Create a subtitle file by clicking the following link:\", options) : helperMissing.call(depth0, \"t\", \"upload_media_track_form_description_2\", \"Create a subtitle file by clicking the following link:\", options)))\n    + \"\\n          <a href=\\\"https://amara.org/en/videos/create/\\\" target=\\\"_blank\\\">\"\n    + escapeExpression((helper = helpers.t || (depth0 && depth0.t),options={hash:{\n    'scope': (\"widget.upload_media_track_form\")\n  },data:data},helper ? helper.call(depth0, \"amara_link_text\", \"Amara (Subtitle creation tool)\", options) : helperMissing.call(depth0, \"t\", \"amara_link_text\", \"Amara (Subtitle creation tool)\", options)))\n    + \"</a>.\\n          \"\n    + escapeExpression((helper = helpers.t || (depth0 && depth0.t),options={hash:{\n    'scope': (\"widget.upload_media_track_form\")\n  },data:data},helper ? helper.call(depth0, \"amara_instructions\", \"When prompted, paste in the video URL copied in step 1.\", options) : helperMissing.call(depth0, \"t\", \"amara_instructions\", \"When prompted, paste in the video URL copied in step 1.\", options)))\n    + \"\\n        </p>\\n      </div>\\n    \";\n  return buffer;\n  }\n\nfunction program5(depth0,data) {\n  \n  var buffer = \"\", helper, options;\n  buffer += \"\\n          <strong>\"\n    + escapeExpression((helper = helpers.t || (depth0 && depth0.t),options={hash:{\n    'scope': (\"widget.upload_media_track_form\")\n  },data:data},helper ? helper.call(depth0, \"upload_media_track_form_step3_label\", \"Step 3:\", options) : helperMissing.call(depth0, \"t\", \"upload_media_track_form_step3_label\", \"Step 3:\", options)))\n    + \"</strong>\\n          \"\n    + escapeExpression((helper = helpers.t || (depth0 && depth0.t),options={hash:{\n    'w0': (\"<a target=\\\"_blank\\\" href=\\\"http://dev.w3.org/html5/webvtt/\\\">$1</a>\"),\n    'scope': (\"widget.upload_media_track_form\")\n  },data:data},helper ? helper.call(depth0, \"upload_media_track_form_description\", \"Once you have a subtitle track in either the SRT or *WebVTT* format, you can upload it here.\", options) : helperMissing.call(depth0, \"t\", \"upload_media_track_form_description\", \"Once you have a subtitle track in either the SRT or *WebVTT* format, you can upload it here.\", options)))\n    + \"\\n        \";\n  return buffer;\n  }\n\nfunction program7(depth0,data) {\n  \n  var buffer = \"\", helper, options;\n  buffer += \"\\n          \"\n    + escapeExpression((helper = helpers.t || (depth0 && depth0.t),options={hash:{\n    'w0': (\"<a target=\\\"_blank\\\" href=\\\"http://dev.w3.org/html5/webvtt/\\\">$1</a>\"),\n    'scope': (\"widget.upload_media_track_form\")\n  },data:data},helper ? helper.call(depth0, \"upload_media_track_form_description_3\", \"Upload a subtitle track in either the SRT or *WebVTT* format.\", options) : helperMissing.call(depth0, \"t\", \"upload_media_track_form_description_3\", \"Upload a subtitle track in either the SRT or *WebVTT* format.\", options)))\n    + \"\\n        \";\n  return buffer;\n  }\n\nfunction program9(depth0,data) {\n  \n  var buffer = \"\", stack1, helper;\n  buffer += \"\\n                <option value=\\\"\";\n  if (helper = helpers.code) { stack1 = helper.call(depth0, {hash:{},data:data}); }\n  else { helper = (depth0 && depth0.code); stack1 = typeof helper === functionType ? helper.call(depth0, {hash:{},data:data}) : helper; }\n  buffer += escapeExpression(stack1)\n    + \"\\\">\";\n  if (helper = helpers.name) { stack1 = helper.call(depth0, {hash:{},data:data}); }\n  else { helper = (depth0 && depth0.name); stack1 = typeof helper === functionType ? helper.call(depth0, {hash:{},data:data}) : helper; }\n  buffer += escapeExpression(stack1)\n    + \"</option>\\n              \";\n  return buffer;\n  }\n\n  buffer += \"<div title=\\\"Create/Add Subtitles\\\" class=\\\"uploadMediaTrackForm bootstrap-form form-horizontal\\\">\\n  \\n  \";\n  stack1 = helpers['if'].call(depth0, (depth0 && depth0.is_amazon_url), {hash:{},inverse:self.noop,fn:self.program(1, program1, data),data:data});\n  if(stack1 || stack1 === 0) { buffer += stack1; }\n  buffer += \"\\n\\n  <div class=\\\"content-box border border-trbl border-round pad-box\\\">\\n    \";\n  stack1 = helpers['if'].call(depth0, (depth0 && depth0.is_amazon_url), {hash:{},inverse:self.noop,fn:self.program(3, program3, data),data:data});\n  if(stack1 || stack1 === 0) { buffer += stack1; }\n  buffer += \"\\n\\n    <div>\\n\\n      <p class=\\\"uploadMediaTrackFormDescription\\\">\\n        \";\n  stack1 = helpers['if'].call(depth0, (depth0 && depth0.is_amazon_url), {hash:{},inverse:self.program(7, program7, data),fn:self.program(5, program5, data),data:data});\n  if(stack1 || stack1 === 0) { buffer += stack1; }\n  buffer += \"\\n      </p>\\n\\n      <div class=\\\"content-box media-track-content-box\\\">\\n        <div class=\\\"invalidInputMsg alert alert-error\\\" style=\\\"display:none;\\\">\\n          \"\n    + escapeExpression((helper = helpers.t || (depth0 && depth0.t),options={hash:{\n    'w0': (\"<strong>$1</strong>\"),\n    'scope': (\"widget.upload_media_track_form\")\n  },data:data},helper ? helper.call(depth0, \"error_message\", \"*Error:* You must choose a language and a valid track file.\", options) : helperMissing.call(depth0, \"t\", \"error_message\", \"*Error:* You must choose a language and a valid track file.\", options)))\n    + \"\\n        </div>\\n\\n        <div class=\\\"control-group\\\">\\n          <label class=\\\"control-label\\\" for=\\\"umtf_locale\\\">\"\n    + escapeExpression((helper = helpers.t || (depth0 && depth0.t),options={hash:{\n    'scope': (\"widget.upload_media_track_form\")\n  },data:data},helper ? helper.call(depth0, \"language\", \"Language\", options) : helperMissing.call(depth0, \"t\", \"language\", \"Language\", options)))\n    + \"</label>\\n          <div class=\\\"controls\\\">\\n            <select name=\\\"locale\\\" id=\\\"umtf_locale\\\">\\n              <option value=''>\"\n    + escapeExpression((helper = helpers.t || (depth0 && depth0.t),options={hash:{\n    'scope': (\"widget.upload_media_track_form\")\n  },data:data},helper ? helper.call(depth0, \"choose_a_language\", \"--Choose a Language--\", options) : helperMissing.call(depth0, \"t\", \"choose_a_language\", \"--Choose a Language--\", options)))\n    + \"</option>\\n              \";\n  stack1 = helpers.each.call(depth0, (depth0 && depth0.languages), {hash:{},inverse:self.noop,fn:self.program(9, program9, data),data:data});\n  if(stack1 || stack1 === 0) { buffer += stack1; }\n  buffer += \"\\n            </select>\\n          </div>\\n        </div><!-- control group end -->\\n\\n        <div class=\\\"control-group\\\">\\n          <label class=\\\"control-label\\\" for=\\\"umtf_content\\\">\"\n    + escapeExpression((helper = helpers.t || (depth0 && depth0.t),options={hash:{\n    'scope': (\"widget.upload_media_track_form\")\n  },data:data},helper ? helper.call(depth0, \"file\", \"File\", options) : helperMissing.call(depth0, \"t\", \"file\", \"File\", options)))\n    + \"</label>\\n          <div class=\\\"controls\\\">\\n            <input class=\\\"input-file\\\" id=\\\"umtf_content\\\" name=\\\"content\\\" type=\\\"file\\\">\\n          </div>\\n        </div><!-- control group end -->\\n      </div><!-- content-box end -->\\n    </div><!-- media track step -->\\n   </div><!-- end border border-tbl -->\\n</div>\\n\";\n  return buffer;\n  });\n    ;\n    \n    \n\n    _canvas_brandable_css__WEBPACK_IMPORTED_MODULE_3__[\"default\"].loadStylesheetForJST({\n      id: 'f2',\n      bundle: 'jst/widget/UploadMediaTrackForm'\n    });\n  ;\n    /* harmony default export */ __webpack_exports__[\"default\"] = (templates[name]);\n  \n\n//# sourceURL=webpack:///./ui/shared/mediaelement/jst/UploadMediaTrackForm.handlebars?");

/***/ }),

/***/ "ID8b":
/*!***********************************************************************************************!*\
  !*** ./frontend_build/i18n.js?widget.upload_media_track_form!./ui/shims/dummyI18nResource.js ***!
  \***********************************************************************************************/
/*! exports provided: default */
/***/ (function(module, __webpack_exports__, __webpack_require__) {

"use strict";
eval("__webpack_require__.r(__webpack_exports__);\n/* harmony import */ var _canvas_i18n_i18nObj__WEBPACK_IMPORTED_MODULE_0__ = __webpack_require__(/*! @canvas/i18n/i18nObj */ \"HGxv\");\n/* harmony import */ var translations_core_en__WEBPACK_IMPORTED_MODULE_1__ = __webpack_require__(/*! translations/_core_en */ \"0sPK\");\n\n    \n    \n    \n\n    /* harmony default export */ __webpack_exports__[\"default\"] = (_canvas_i18n_i18nObj__WEBPACK_IMPORTED_MODULE_0__[\"default\"].scoped('widget.upload_media_track_form'));\n  \n\n//# sourceURL=webpack:///./ui/shims/dummyI18nResource.js?./frontend_build/i18n.js?widget.upload_media_track_form");

/***/ }),

/***/ "KWYq":
/*!********************************************************!*\
  !*** ./ui/shared/mediaelement/UploadMediaTrackForm.js ***!
  \********************************************************/
/*! exports provided: default */
/***/ (function(module, __webpack_exports__, __webpack_require__) {

"use strict";
eval("__webpack_require__.r(__webpack_exports__);\n/* harmony export (binding) */ __webpack_require__.d(__webpack_exports__, \"default\", function() { return UploadMediaTrackForm; });\n/* harmony import */ var i18n_UploadMediaTrackForm__WEBPACK_IMPORTED_MODULE_0__ = __webpack_require__(/*! i18n!UploadMediaTrackForm */ \"U0oh\");\n/* harmony import */ var underscore__WEBPACK_IMPORTED_MODULE_1__ = __webpack_require__(/*! underscore */ \"Y/W1\");\n/* harmony import */ var underscore__WEBPACK_IMPORTED_MODULE_1___default = /*#__PURE__*/__webpack_require__.n(underscore__WEBPACK_IMPORTED_MODULE_1__);\n/* harmony import */ var _jst_UploadMediaTrackForm_handlebars__WEBPACK_IMPORTED_MODULE_2__ = __webpack_require__(/*! ./jst/UploadMediaTrackForm.handlebars */ \"EZWh\");\n/* harmony import */ var _index__WEBPACK_IMPORTED_MODULE_3__ = __webpack_require__(/*! ./index */ \"U4Vp\");\n/* harmony import */ var jquery__WEBPACK_IMPORTED_MODULE_4__ = __webpack_require__(/*! jquery */ \"ouhR\");\n/* harmony import */ var jquery__WEBPACK_IMPORTED_MODULE_4___default = /*#__PURE__*/__webpack_require__.n(jquery__WEBPACK_IMPORTED_MODULE_4__);\n/* harmony import */ var _canvas_copy_to_clipboard__WEBPACK_IMPORTED_MODULE_5__ = __webpack_require__(/*! @canvas/copy-to-clipboard */ \"poLR\");\n/* harmony import */ var react__WEBPACK_IMPORTED_MODULE_6__ = __webpack_require__(/*! react */ \"q1tI\");\n/* harmony import */ var react__WEBPACK_IMPORTED_MODULE_6___default = /*#__PURE__*/__webpack_require__.n(react__WEBPACK_IMPORTED_MODULE_6__);\n/* harmony import */ var react_dom__WEBPACK_IMPORTED_MODULE_7__ = __webpack_require__(/*! react-dom */ \"i8i4\");\n/* harmony import */ var react_dom__WEBPACK_IMPORTED_MODULE_7___default = /*#__PURE__*/__webpack_require__.n(react_dom__WEBPACK_IMPORTED_MODULE_7__);\n//\n// Copyright (C) 2011 - present Instructure, Inc.\n//\n// This file is part of Canvas.\n//\n// Canvas is free software: you can redistribute it and/or modify it under\n// the terms of the GNU Affero General Public License as published by the Free\n// Software Foundation, version 3 of the License.\n//\n// Canvas is distributed in the hope that it will be useful, but WITHOUT ANY\n// WARRANTY; without even the implied warranty of MERCHANTABILITY or FITNESS FOR\n// A PARTICULAR PURPOSE. See the GNU Affero General Public License for more\n// details.\n//\n// You should have received a copy of the GNU Affero General Public License along\n// with this program. If not, see <http://www.gnu.org/licenses/>.\n\n\n\n\n\n\n\n\nclass UploadMediaTrackForm {\n  // video url needs to be the url to mp4 version of the video.\n  constructor(mediaCommentId, video_url) {\n    this.onSubmit = () => {\n      const submitDfd = new jquery__WEBPACK_IMPORTED_MODULE_4___default.a.Deferred();\n      submitDfd.fail(() => this.$dialog.find('.invalidInputMsg').show());\n      this.$dialog.disableWhileLoading(submitDfd);\n      this.getFileContent().fail(() => submitDfd.reject()).done(content => {\n        const params = {\n          content,\n          locale: this.$dialog.find('[name=\"locale\"]').val()\n        };\n        if (!params.content || !params.locale) return submitDfd.reject();\n        return jquery__WEBPACK_IMPORTED_MODULE_4___default.a.ajaxJSON(`/media_objects/${this.mediaCommentId}/media_tracks`, 'POST', params, () => {\n          submitDfd.resolve();\n          this.$dialog.dialog('close');\n          jquery__WEBPACK_IMPORTED_MODULE_4___default.a.flashMessage(i18n_UploadMediaTrackForm__WEBPACK_IMPORTED_MODULE_0__[\"default\"].t('track_uploaded_successfully', 'Track uploaded successfully; please refresh your browser.'));\n        }, () => {\n          submitDfd.reject();\n        });\n      });\n    };\n\n    this.mediaCommentId = mediaCommentId;\n    this.video_url = video_url;\n    const templateVars = {\n      languages: underscore__WEBPACK_IMPORTED_MODULE_1___default.a.map(_index__WEBPACK_IMPORTED_MODULE_3__[\"default\"].language.codes, (name, code) => ({\n        name,\n        code\n      })),\n      video_url: this.video_url,\n      is_amazon_url: this.video_url.search(/.mp4/) !== -1\n    };\n    this.$dialog = jquery__WEBPACK_IMPORTED_MODULE_4___default()(Object(_jst_UploadMediaTrackForm_handlebars__WEBPACK_IMPORTED_MODULE_2__[\"default\"])(templateVars)).appendTo('body').dialog({\n      width: 650,\n      resizable: false,\n      buttons: [{\n        'data-text-while-loading': i18n_UploadMediaTrackForm__WEBPACK_IMPORTED_MODULE_0__[\"default\"].t('cancel', 'Cancel'),\n        text: i18n_UploadMediaTrackForm__WEBPACK_IMPORTED_MODULE_0__[\"default\"].t('cancel', 'Cancel'),\n        click: () => this.$dialog.remove()\n      }, {\n        class: 'btn-primary',\n        'data-text-while-loading': i18n_UploadMediaTrackForm__WEBPACK_IMPORTED_MODULE_0__[\"default\"].t('uploading', 'Uploading...'),\n        text: i18n_UploadMediaTrackForm__WEBPACK_IMPORTED_MODULE_0__[\"default\"].t('upload', 'Upload'),\n        click: this.onSubmit\n      }]\n    });\n    react_dom__WEBPACK_IMPORTED_MODULE_7___default.a.render( /*#__PURE__*/react__WEBPACK_IMPORTED_MODULE_6___default.a.createElement(_canvas_copy_to_clipboard__WEBPACK_IMPORTED_MODULE_5__[\"default\"], {\n      interaction: \"readonly\",\n      name: \"video_url\",\n      value: video_url\n    }), document.getElementById('media-track-video-url-container'));\n  }\n\n  getFileContent() {\n    const dfd = new jquery__WEBPACK_IMPORTED_MODULE_4___default.a.Deferred();\n    const file = this.$dialog.find('input[name=\"content\"]')[0].files[0];\n\n    if (file) {\n      const reader = new FileReader();\n\n      reader.onload = function (e) {\n        const content = e.target.result;\n        return dfd.resolve(content);\n      };\n\n      reader.readAsText(file);\n    } else {\n      dfd.reject();\n    }\n\n    return dfd;\n  }\n\n}\n\n//# sourceURL=webpack:///./ui/shared/mediaelement/UploadMediaTrackForm.js?");

/***/ }),

/***/ "QLaP":
/*!*******************************************!*\
  !*** ./node_modules/invariant/browser.js ***!
  \*******************************************/
/*! no static exports found */
/***/ (function(module, exports, __webpack_require__) {

"use strict";
eval("/**\n * Copyright (c) 2013-present, Facebook, Inc.\n *\n * This source code is licensed under the MIT license found in the\n * LICENSE file in the root directory of this source tree.\n */\n\n\n\n/**\n * Use invariant() to assert state which your program assumes to be true.\n *\n * Provide sprintf-style format (only %s is supported) and arguments\n * to provide information about what broke and what you were\n * expecting.\n *\n * The invariant message will be stripped in production, but the invariant\n * will remain to ensure logic does not differ in production.\n */\n\nvar invariant = function(condition, format, a, b, c, d, e, f) {\n  if (true) {\n    if (format === undefined) {\n      throw new Error('invariant requires an error message argument');\n    }\n  }\n\n  if (!condition) {\n    var error;\n    if (format === undefined) {\n      error = new Error(\n        'Minified exception occurred; use the non-minified dev environment ' +\n        'for the full error message and additional helpful warnings.'\n      );\n    } else {\n      var args = [a, b, c, d, e, f];\n      var argIndex = 0;\n      error = new Error(\n        format.replace(/%s/g, function() { return args[argIndex++]; })\n      );\n      error.name = 'Invariant Violation';\n    }\n\n    error.framesToPop = 1; // we don't care about invariant's own frame\n    throw error;\n  }\n};\n\nmodule.exports = invariant;\n\n\n//# sourceURL=webpack:///./node_modules/invariant/browser.js?");

/***/ }),

/***/ "U0oh":
/*!*************************************************************************************!*\
  !*** ./frontend_build/i18n.js?UploadMediaTrackForm!./ui/shims/dummyI18nResource.js ***!
  \*************************************************************************************/
/*! exports provided: default */
/***/ (function(module, __webpack_exports__, __webpack_require__) {

"use strict";
eval("__webpack_require__.r(__webpack_exports__);\n/* harmony import */ var _canvas_i18n_i18nObj__WEBPACK_IMPORTED_MODULE_0__ = __webpack_require__(/*! @canvas/i18n/i18nObj */ \"HGxv\");\n/* harmony import */ var translations_core_en__WEBPACK_IMPORTED_MODULE_1__ = __webpack_require__(/*! translations/_core_en */ \"0sPK\");\n\n    \n    \n    \n\n    /* harmony default export */ __webpack_exports__[\"default\"] = (_canvas_i18n_i18nObj__WEBPACK_IMPORTED_MODULE_0__[\"default\"].scoped('UploadMediaTrackForm'));\n  \n\n//# sourceURL=webpack:///./ui/shims/dummyI18nResource.js?./frontend_build/i18n.js?UploadMediaTrackForm");

/***/ }),

/***/ "dbrX":
/*!******************************************!*\
  !*** ./ui/shared/brandable-css/index.js ***!
  \******************************************/
/*! exports provided: default */
/***/ (function(module, __webpack_exports__, __webpack_require__) {

"use strict";
eval("__webpack_require__.r(__webpack_exports__);\n/* harmony import */ var _babel_runtime_helpers_esm_slicedToArray__WEBPACK_IMPORTED_MODULE_0__ = __webpack_require__(/*! @babel/runtime/helpers/esm/slicedToArray */ \"ODXe\");\n/* harmony import */ var _canvas_i18n_rtlHelper__WEBPACK_IMPORTED_MODULE_1__ = __webpack_require__(/*! @canvas/i18n/rtlHelper */ \"uYtQ\");\n/* harmony import */ var invariant__WEBPACK_IMPORTED_MODULE_2__ = __webpack_require__(/*! invariant */ \"QLaP\");\n/* harmony import */ var invariant__WEBPACK_IMPORTED_MODULE_2___default = /*#__PURE__*/__webpack_require__.n(invariant__WEBPACK_IMPORTED_MODULE_2__);\n\n//\n// Copyright (C) 2015 - present Instructure, Inc.\n//\n// This file is part of Canvas.\n//\n// Canvas is free software: you can redistribute it and/or modify it under\n// the terms of the GNU Affero General Public License as published by the Free\n// Software Foundation, version 3 of the License.\n//\n// Canvas is distributed in the hope that it will be useful, but WITHOUT ANY\n// WARRANTY; without even the implied warranty of MERCHANTABILITY or FITNESS FOR\n// A PARTICULAR PURPOSE. See the GNU Affero General Public License for more\n// details.\n//\n// You should have received a copy of the GNU Affero General Public License along\n// with this program. If not, see <http://www.gnu.org/licenses/>.\n\n\nconst loadedStylesheets = {};\nconst brandableCss = {\n  getCssVariant() {\n    const variant = window.ENV.use_responsive_layout ? 'responsive_layout' : 'new_styles';\n    const contrast = window.ENV.use_high_contrast ? 'high_contrast' : 'normal_contrast';\n    const rtl = Object(_canvas_i18n_rtlHelper__WEBPACK_IMPORTED_MODULE_1__[\"isRTL\"])() ? '_rtl' : '';\n    return `${variant}_${contrast}${rtl}`;\n  },\n\n  // see lib/brandable_css.rb#handlebars_index_json\n  getHandlebarsIndex() {\n    return window.BRANDABLE_CSS_HANDLEBARS_INDEX || [[], {}];\n  },\n\n  // combinedChecksum should be like '09f833ef7a'\n  // and includesNoVariables should be true if this bundle does not\n  // \"@include\" variables.scss, brand_variables.scss or variant_variables.scss\n  urlFor(bundleName, {\n    combinedChecksum,\n    includesNoVariables\n  }) {\n    const brandAndVariant = includesNoVariables ? 'no_variables' : brandableCss.getCssVariant();\n    return [window.ENV.ASSET_HOST || '', 'dist', 'brandable_css', brandAndVariant, `${bundleName}-${combinedChecksum}.css`].join('/');\n  },\n\n  // bundleName should be something like 'jst/foo'\n  loadStylesheet(bundleName, opts) {\n    if (bundleName in loadedStylesheets) return;\n    const linkElement = document.createElement('link');\n    linkElement.rel = 'stylesheet';\n    linkElement.href = brandableCss.urlFor(bundleName, opts); // give the person trying to track down a bug a hint on how this link tag got on the page\n\n    linkElement.setAttribute('data-loaded-by-brandableCss', true);\n    document.head.appendChild(linkElement);\n  },\n\n  loadStylesheetForJST({\n    bundle,\n    id\n  }) {\n    const _brandableCss$getHand = brandableCss.getHandlebarsIndex(),\n          _brandableCss$getHand2 = Object(_babel_runtime_helpers_esm_slicedToArray__WEBPACK_IMPORTED_MODULE_0__[\"default\"])(_brandableCss$getHand, 2),\n          variants = _brandableCss$getHand2[0],\n          bundles = _brandableCss$getHand2[1];\n\n    invariant__WEBPACK_IMPORTED_MODULE_2___default()(bundles.hasOwnProperty(id), `requested to load stylesheet for template \"${bundle}\" (${id}) but no ` + `mapping is available for it!`); // \"includesNoVariables\" true; there's only one file regardless of variant\n\n    if (bundles[id].length === 1) {\n      return brandableCss.loadStylesheet(bundle, {\n        combinedChecksum: bundles[id][0],\n        includesNoVariables: true\n      });\n    } else {\n      // this can be a bit whoozy, remember the structure:\n      //\n      //     [\n      //       [ 'a', 'b', 'c' ],\n      //       ^^^^^^^^^^^^^^^^^ known variants, brandableCss.getCssVariant()\n      //                         will be one of them\n      //\n      //       {\n      //         \"f0d\": [\n      //          ^^^ id\n      //           \"variant[0] checksum\",\n      //           \"variant[1] checksum\",\n      //           0,\n      //           ^ a ref that resolves into \"variant[0] checksum\"\n      //           \"variant[3] checksum\"\n      //         ]\n      //       }\n      //     ]\n      //\n      let checksum = bundles[id][variants.indexOf(brandableCss.getCssVariant())];\n\n      if (typeof checksum === 'number') {\n        checksum = bundles[id][checksum];\n      }\n\n      return brandableCss.loadStylesheet(bundle, {\n        combinedChecksum: checksum,\n        includesNoVariables: false\n      });\n    }\n  }\n\n};\n/* harmony default export */ __webpack_exports__[\"default\"] = (brandableCss);\n\n//# sourceURL=webpack:///./ui/shared/brandable-css/index.js?");

/***/ }),

/***/ "hI1R":
/*!*****************************************************************************!*\
  !*** ./frontend_build/i18n.js?user_content!./ui/shims/dummyI18nResource.js ***!
  \*****************************************************************************/
/*! exports provided: default */
/***/ (function(module, __webpack_exports__, __webpack_require__) {

"use strict";
eval("__webpack_require__.r(__webpack_exports__);\n/* harmony import */ var _canvas_i18n_i18nObj__WEBPACK_IMPORTED_MODULE_0__ = __webpack_require__(/*! @canvas/i18n/i18nObj */ \"HGxv\");\n/* harmony import */ var translations_core_en__WEBPACK_IMPORTED_MODULE_1__ = __webpack_require__(/*! translations/_core_en */ \"0sPK\");\n\n    \n    \n    \n\n    /* harmony default export */ __webpack_exports__[\"default\"] = (_canvas_i18n_i18nObj__WEBPACK_IMPORTED_MODULE_0__[\"default\"].scoped('user_content'));\n  \n\n//# sourceURL=webpack:///./ui/shims/dummyI18nResource.js?./frontend_build/i18n.js?user_content");

/***/ }),

/***/ "iEYL":
/*!**********************************************************************************!*\
  !*** ./frontend_build/i18n.js?copy_to_clipboard!./ui/shims/dummyI18nResource.js ***!
  \**********************************************************************************/
/*! exports provided: default */
/***/ (function(module, __webpack_exports__, __webpack_require__) {

"use strict";
eval("__webpack_require__.r(__webpack_exports__);\n/* harmony import */ var _canvas_i18n_i18nObj__WEBPACK_IMPORTED_MODULE_0__ = __webpack_require__(/*! @canvas/i18n/i18nObj */ \"HGxv\");\n/* harmony import */ var translations_core_en__WEBPACK_IMPORTED_MODULE_1__ = __webpack_require__(/*! translations/_core_en */ \"0sPK\");\n\n    \n    \n    \n\n    /* harmony default export */ __webpack_exports__[\"default\"] = (_canvas_i18n_i18nObj__WEBPACK_IMPORTED_MODULE_0__[\"default\"].scoped('copy_to_clipboard'));\n  \n\n//# sourceURL=webpack:///./ui/shims/dummyI18nResource.js?./frontend_build/i18n.js?copy_to_clipboard");

/***/ }),

/***/ "msTH":
/*!*************************************************!*\
  !*** ./ui/shared/util/jquery/apiUserContent.js ***!
  \*************************************************/
/*! exports provided: default */
/***/ (function(module, __webpack_exports__, __webpack_require__) {

"use strict";
eval("__webpack_require__.r(__webpack_exports__);\n/* harmony import */ var jquery__WEBPACK_IMPORTED_MODULE_0__ = __webpack_require__(/*! jquery */ \"ouhR\");\n/* harmony import */ var jquery__WEBPACK_IMPORTED_MODULE_0___default = /*#__PURE__*/__webpack_require__.n(jquery__WEBPACK_IMPORTED_MODULE_0__);\n/* harmony import */ var underscore__WEBPACK_IMPORTED_MODULE_1__ = __webpack_require__(/*! underscore */ \"Y/W1\");\n/* harmony import */ var underscore__WEBPACK_IMPORTED_MODULE_1___default = /*#__PURE__*/__webpack_require__.n(underscore__WEBPACK_IMPORTED_MODULE_1__);\n/* harmony import */ var html_escape__WEBPACK_IMPORTED_MODULE_2__ = __webpack_require__(/*! html-escape */ \"gI0r\");\n/* harmony import */ var i18n_user_content__WEBPACK_IMPORTED_MODULE_3__ = __webpack_require__(/*! i18n!user_content */ \"hI1R\");\n//\n// Copyright (C) 2015 - present Instructure, Inc.\n//\n// This file is part of Canvas.\n//\n// Canvas is free software: you can redistribute it and/or modify it under\n// the terms of the GNU Affero General Public License as published by the Free\n// Software Foundation, version 3 of the License.\n//\n// Canvas is distributed in the hope that it will be useful, but WITHOUT ANY\n// WARRANTY; without even the implied warranty of MERCHANTABILITY or FITNESS FOR\n// A PARTICULAR PURPOSE. See the GNU Affero General Public License for more\n// details.\n//\n// You should have received a copy of the GNU Affero General Public License along\n// with this program. If not, see <http://www.gnu.org/licenses/>.\n\n\n\n\nconst apiUserContent = {\n  /*\n  xsslint safeString.identifier mathml\n  */\n  translateMathmlForScreenreaders($equationImage) {\n    var _ENV, _ENV$FEATURES;\n\n    if (!((_ENV = ENV) !== null && _ENV !== void 0 && (_ENV$FEATURES = _ENV.FEATURES) !== null && _ENV$FEATURES !== void 0 && _ENV$FEATURES.new_math_equation_handling)) {\n      // note, it is safe to treat the x-canvaslms-safe-mathml as html because it\n      // only ever gets put there by us (in Api::Html::Content::apply_mathml).\n      // Any user content that gets sent to the server will have the\n      // x-canvaslms-safe-mathml attribute stripped out.\n      const mathml = jquery__WEBPACK_IMPORTED_MODULE_0___default()('<div/>').html($equationImage.attr('x-canvaslms-safe-mathml')).html();\n      const mathmlSpan = jquery__WEBPACK_IMPORTED_MODULE_0___default()('<span class=\"hidden-readable\"></span>');\n      mathmlSpan.html(mathml);\n      return mathmlSpan;\n    }\n  },\n\n  toMediaCommentLink(node) {\n    const $link = jquery__WEBPACK_IMPORTED_MODULE_0___default()(`<a\n        id='media_comment_${Object(html_escape__WEBPACK_IMPORTED_MODULE_2__[\"default\"])(jquery__WEBPACK_IMPORTED_MODULE_0___default()(node).data('media_comment_id'))}'\n        data-media_comment_type='${Object(html_escape__WEBPACK_IMPORTED_MODULE_2__[\"default\"])(jquery__WEBPACK_IMPORTED_MODULE_0___default()(node).data('media_comment_type'))}'\n        class='instructure_inline_media_comment ${Object(html_escape__WEBPACK_IMPORTED_MODULE_2__[\"default\"])(node.nodeName.toLowerCase())}_comment'\n        data-alt='${Object(html_escape__WEBPACK_IMPORTED_MODULE_2__[\"default\"])(jquery__WEBPACK_IMPORTED_MODULE_0___default()(node).attr('data-alt'))}'\n      />`);\n    $link.html(jquery__WEBPACK_IMPORTED_MODULE_0___default()(node).html());\n    return $link;\n  },\n\n  /*\n  xsslint safeString.identifier mathmlSpan\n  */\n  // use this method to process any user content fields returned in api responses\n  // this is important to handle object/embed tags safely, and to properly display audio/video tags\n  convert(html, options = {}) {\n    const $dummy = jquery__WEBPACK_IMPORTED_MODULE_0___default()('<div />').html(html); // finds any <video/audio class=\"instructure_inline_media_comment\"> and turns them into media comment thumbnails\n\n    $dummy.find('video.instructure_inline_media_comment,audio.instructure_inline_media_comment').replaceWith(function () {\n      return apiUserContent.toMediaCommentLink(this);\n    }); // remove any embed tags inside an object tag, to avoid repeated translations\n\n    $dummy.find('object.instructure_user_content:not(#kaltura_player) embed').remove(); // if we aren't actually displaying this content but are instead putting\n    // it into a RTE, we want to preserve the object/embed tags\n\n    if (!options.forEditing) {\n      // find all object/embed tags and convert them into an iframe that posts\n      // to safefiles to display the content (to avoid javascript attacks)\n      //\n      // see the corresponding code in lib/user_content.rb for non-api user\n      // content handling\n      $dummy.find('object.instructure_user_content,embed.instructure_user_content').replaceWith(function () {\n        const $this = jquery__WEBPACK_IMPORTED_MODULE_0___default()(this);\n\n        if (!$this.data('uc_snippet') || !$this.data('uc_sig')) {\n          return this;\n        }\n\n        const uuid = underscore__WEBPACK_IMPORTED_MODULE_1___default.a.uniqueId('uc_');\n\n        let action = '/object_snippet';\n\n        if (ENV.files_domain) {\n          action = `//${ENV.files_domain}${action}`;\n        }\n\n        const $form = jquery__WEBPACK_IMPORTED_MODULE_0___default()(`<form\n            action='${Object(html_escape__WEBPACK_IMPORTED_MODULE_2__[\"default\"])(action)}'\n            method='post'\n            class='user_content_post_form'\n            target='${Object(html_escape__WEBPACK_IMPORTED_MODULE_2__[\"default\"])(uuid)}'\n            id='form-${Object(html_escape__WEBPACK_IMPORTED_MODULE_2__[\"default\"])(uuid)}'\n          />`);\n        $form.append(jquery__WEBPACK_IMPORTED_MODULE_0___default()(\"<input type='hidden'/>\").attr({\n          name: 'object_data',\n          value: $this.data('uc_snippet')\n        }));\n        $form.append(jquery__WEBPACK_IMPORTED_MODULE_0___default()(\"<input type='hidden'/>\").attr({\n          name: 's',\n          value: $this.data('uc_sig')\n        }));\n        jquery__WEBPACK_IMPORTED_MODULE_0___default()('body').append($form);\n        setTimeout(() => $form.submit(), 0);\n        return jquery__WEBPACK_IMPORTED_MODULE_0___default()(`<iframe\n            class='user_content_iframe'\n            name='${Object(html_escape__WEBPACK_IMPORTED_MODULE_2__[\"default\"])(uuid)}'\n            style='width: ${Object(html_escape__WEBPACK_IMPORTED_MODULE_2__[\"default\"])($this.data('uc_width'))}; height: ${Object(html_escape__WEBPACK_IMPORTED_MODULE_2__[\"default\"])($this.data('uc_height'))};'\n            frameborder='0'\n            title='${Object(html_escape__WEBPACK_IMPORTED_MODULE_2__[\"default\"])(i18n_user_content__WEBPACK_IMPORTED_MODULE_3__[\"default\"].t('User Content'))}'\n          />`);\n      });\n      $dummy.find('img.equation_image').each((index, equationImage) => {\n        const $equationImage = jquery__WEBPACK_IMPORTED_MODULE_0___default()(equationImage);\n        const mathmlSpan = apiUserContent.translateMathmlForScreenreaders($equationImage);\n        $equationImage.removeAttr('x-canvaslms-safe-mathml');\n        $equationImage.after(mathmlSpan);\n      });\n    }\n\n    return $dummy.html();\n  }\n\n};\n/* harmony default export */ __webpack_exports__[\"default\"] = (apiUserContent);\n\n//# sourceURL=webpack:///./ui/shared/util/jquery/apiUserContent.js?");

/***/ }),

/***/ "poLR":
/*!****************************************************!*\
  !*** ./ui/shared/copy-to-clipboard/react/index.js ***!
  \****************************************************/
/*! exports provided: default */
/***/ (function(module, __webpack_exports__, __webpack_require__) {

"use strict";
eval("__webpack_require__.r(__webpack_exports__);\n/* harmony import */ var _babel_runtime_helpers_esm_slicedToArray__WEBPACK_IMPORTED_MODULE_0__ = __webpack_require__(/*! @babel/runtime/helpers/esm/slicedToArray */ \"ODXe\");\n/* harmony import */ var react__WEBPACK_IMPORTED_MODULE_1__ = __webpack_require__(/*! react */ \"q1tI\");\n/* harmony import */ var react__WEBPACK_IMPORTED_MODULE_1___default = /*#__PURE__*/__webpack_require__.n(react__WEBPACK_IMPORTED_MODULE_1__);\n/* harmony import */ var i18n_copy_to_clipboard__WEBPACK_IMPORTED_MODULE_2__ = __webpack_require__(/*! i18n!copy_to_clipboard */ \"iEYL\");\n/* harmony import */ var prop_types__WEBPACK_IMPORTED_MODULE_3__ = __webpack_require__(/*! prop-types */ \"17x9\");\n/* harmony import */ var prop_types__WEBPACK_IMPORTED_MODULE_3___default = /*#__PURE__*/__webpack_require__.n(prop_types__WEBPACK_IMPORTED_MODULE_3__);\n/* harmony import */ var _instructure_ui_text_input__WEBPACK_IMPORTED_MODULE_4__ = __webpack_require__(/*! @instructure/ui-text-input */ \"/09A\");\n/* harmony import */ var _instructure_ui_buttons__WEBPACK_IMPORTED_MODULE_5__ = __webpack_require__(/*! @instructure/ui-buttons */ \"K6WN\");\n/* harmony import */ var _instructure_ui_a11y_content__WEBPACK_IMPORTED_MODULE_6__ = __webpack_require__(/*! @instructure/ui-a11y-content */ \"9+/z\");\n\n\n/*\n * Copyright (C) 2021 - present Instructure, Inc.\n *\n * This file is part of Canvas.\n *\n * Canvas is free software: you can redistribute it and/or modify it under\n * the terms of the GNU Affero General Public License as published by the Free\n * Software Foundation, version 3 of the License.\n *\n * Canvas is distributed in the hope that it will be useful, but WITHOUT ANY\n * WARRANTY; without even the implied warranty of MERCHANTABILITY or FITNESS FOR\n * A PARTICULAR PURPOSE. See the GNU Affero General Public License for more\n * details.\n *\n * You should have received a copy of the GNU Affero General Public License along\n * with this program. If not, see <http://www.gnu.org/licenses/>.\n */\n\n\n\n\n\n\n\nconst CopyToClipboard = props => {\n  const _useState = Object(react__WEBPACK_IMPORTED_MODULE_1__[\"useState\"])(),\n        _useState2 = Object(_babel_runtime_helpers_esm_slicedToArray__WEBPACK_IMPORTED_MODULE_0__[\"default\"])(_useState, 2),\n        inputElement = _useState2[0],\n        setInputElement = _useState2[1]; // Object containing props intended for the TextInput component\n\n\n  const textInputProps = Object.fromEntries(Object.entries(props).filter(([k]) => !CopyToClipboard.propTypes[k]));\n\n  const copyToClipboard = () => {\n    inputElement.select();\n    document.execCommand('copy');\n  };\n\n  return /*#__PURE__*/react__WEBPACK_IMPORTED_MODULE_1___default.a.createElement(_instructure_ui_text_input__WEBPACK_IMPORTED_MODULE_4__[\"TextInput\"], Object.assign({}, textInputProps, {\n    renderAfterInput: /*#__PURE__*/react__WEBPACK_IMPORTED_MODULE_1___default.a.createElement(_instructure_ui_buttons__WEBPACK_IMPORTED_MODULE_5__[\"Button\"], {\n      onClick: copyToClipboard,\n      size: \"small\"\n    }, props.buttonText, /*#__PURE__*/react__WEBPACK_IMPORTED_MODULE_1___default.a.createElement(_instructure_ui_a11y_content__WEBPACK_IMPORTED_MODULE_6__[\"ScreenReaderContent\"], null, i18n_copy_to_clipboard__WEBPACK_IMPORTED_MODULE_2__[\"default\"].t('Copy the video URL'))),\n    inputRef: ref => setInputElement(ref)\n  }));\n};\n\nCopyToClipboard.propTypes = {\n  buttonText: prop_types__WEBPACK_IMPORTED_MODULE_3___default.a.string\n};\nCopyToClipboard.defaultProps = {\n  buttonText: i18n_copy_to_clipboard__WEBPACK_IMPORTED_MODULE_2__[\"default\"].t('Copy')\n};\n/* harmony default export */ __webpack_exports__[\"default\"] = (CopyToClipboard);\n\n//# sourceURL=webpack:///./ui/shared/copy-to-clipboard/react/index.js?");

/***/ })

}]);