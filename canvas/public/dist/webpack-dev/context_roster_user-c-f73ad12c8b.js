(window["canvasWebpackJsonp"] = window["canvasWebpackJsonp"] || []).push([["context_roster_user"],{

/***/ "10eL":
/*!*******************************************************************************!*\
  !*** ./frontend_build/i18n.js?ajaxflashalert!./ui/shims/dummyI18nResource.js ***!
  \*******************************************************************************/
/*! exports provided: default */
/***/ (function(module, __webpack_exports__, __webpack_require__) {

"use strict";
eval("__webpack_require__.r(__webpack_exports__);\n/* harmony import */ var _canvas_i18n_i18nObj__WEBPACK_IMPORTED_MODULE_0__ = __webpack_require__(/*! @canvas/i18n/i18nObj */ \"HGxv\");\n/* harmony import */ var translations_core_en__WEBPACK_IMPORTED_MODULE_1__ = __webpack_require__(/*! translations/_core_en */ \"0sPK\");\n\n    \n    \n    \n\n    /* harmony default export */ __webpack_exports__[\"default\"] = (_canvas_i18n_i18nObj__WEBPACK_IMPORTED_MODULE_0__[\"default\"].scoped('ajaxflashalert'));\n  \n\n//# sourceURL=webpack:///./ui/shims/dummyI18nResource.js?./frontend_build/i18n.js?ajaxflashalert");

/***/ }),

/***/ "3QVD":
/*!**************************************************************************************!*\
  !*** ./frontend_build/i18n.js?generate_pairing_code!./ui/shims/dummyI18nResource.js ***!
  \**************************************************************************************/
/*! exports provided: default */
/***/ (function(module, __webpack_exports__, __webpack_require__) {

"use strict";
eval("__webpack_require__.r(__webpack_exports__);\n/* harmony import */ var _canvas_i18n_i18nObj__WEBPACK_IMPORTED_MODULE_0__ = __webpack_require__(/*! @canvas/i18n/i18nObj */ \"HGxv\");\n/* harmony import */ var translations_core_en__WEBPACK_IMPORTED_MODULE_1__ = __webpack_require__(/*! translations/_core_en */ \"0sPK\");\n\n    \n    \n    \n\n    /* harmony default export */ __webpack_exports__[\"default\"] = (_canvas_i18n_i18nObj__WEBPACK_IMPORTED_MODULE_0__[\"default\"].scoped('generate_pairing_code'));\n  \n\n//# sourceURL=webpack:///./ui/shims/dummyI18nResource.js?./frontend_build/i18n.js?generate_pairing_code");

/***/ }),

/***/ "7LYc":
/*!********************************************************!*\
  !*** ./ui/features/context_roster_user/react/index.js ***!
  \********************************************************/
/*! exports provided: default */
/***/ (function(module, __webpack_exports__, __webpack_require__) {

"use strict";
eval("__webpack_require__.r(__webpack_exports__);\n/* harmony export (binding) */ __webpack_require__.d(__webpack_exports__, \"default\", function() { return initLastAttended; });\n/* harmony import */ var react__WEBPACK_IMPORTED_MODULE_0__ = __webpack_require__(/*! react */ \"q1tI\");\n/* harmony import */ var react__WEBPACK_IMPORTED_MODULE_0___default = /*#__PURE__*/__webpack_require__.n(react__WEBPACK_IMPORTED_MODULE_0__);\n/* harmony import */ var react_dom__WEBPACK_IMPORTED_MODULE_1__ = __webpack_require__(/*! react-dom */ \"i8i4\");\n/* harmony import */ var react_dom__WEBPACK_IMPORTED_MODULE_1___default = /*#__PURE__*/__webpack_require__.n(react_dom__WEBPACK_IMPORTED_MODULE_1__);\n/* harmony import */ var _StudentLastAttended__WEBPACK_IMPORTED_MODULE_2__ = __webpack_require__(/*! ./StudentLastAttended */ \"E6Fn\");\n/*\n * Copyright (C) 2018 - present Instructure, Inc.\n *\n * This file is part of Canvas.\n *\n * Canvas is free software: you can redistribute it and/or modify it under\n * the terms of the GNU Affero General Public License as published by the Free\n * Software Foundation, version 3 of the License.\n *\n * Canvas is distributed in the hope that it will be useful, but WITHOUT ANY\n * WARRANTY; without even the implied warranty of MERCHANTABILITY or FITNESS FOR\n * A PARTICULAR PURPOSE. See the GNU Affero General Public License for more\n * details.\n *\n * You should have received a copy of the GNU Affero General Public License along\n * with this program. If not, see <http://www.gnu.org/licenses/>.\n */\n\n\n\nfunction initLastAttended(rootElement, courseID, studentID, lastAttendedDate) {\n  react_dom__WEBPACK_IMPORTED_MODULE_1___default.a.render( /*#__PURE__*/react__WEBPACK_IMPORTED_MODULE_0___default.a.createElement(_StudentLastAttended__WEBPACK_IMPORTED_MODULE_2__[\"default\"], {\n    defaultDate: lastAttendedDate,\n    courseID: courseID,\n    studentID: studentID\n  }), rootElement);\n}\n\n//# sourceURL=webpack:///./ui/features/context_roster_user/react/index.js?");

/***/ }),

/***/ "BrAc":
/*!**********************************!*\
  !*** ./ui/shared/axios/index.js ***!
  \**********************************/
/*! exports provided: AxiosPromise, default */
/***/ (function(module, __webpack_exports__, __webpack_require__) {

"use strict";
eval("__webpack_require__.r(__webpack_exports__);\n/* harmony import */ var axios__WEBPACK_IMPORTED_MODULE_0__ = __webpack_require__(/*! axios */ \"vDqi\");\n/* harmony import */ var axios__WEBPACK_IMPORTED_MODULE_0___default = /*#__PURE__*/__webpack_require__.n(axios__WEBPACK_IMPORTED_MODULE_0__);\n/* harmony reexport (safe) */ __webpack_require__.d(__webpack_exports__, \"AxiosPromise\", function() { return axios__WEBPACK_IMPORTED_MODULE_0__[\"AxiosPromise\"]; });\n\n/*\n * Copyright (C) 2015 - present Instructure, Inc.\n *\n * This file is part of Canvas.\n *\n * Canvas is free software: you can redistribute it and/or modify it under\n * the terms of the GNU Affero General Public License as published by the Free\n * Software Foundation, version 3 of the License.\n *\n * Canvas is distributed in the hope that it will be useful, but WITHOUT ANY\n * WARRANTY; without even the implied warranty of MERCHANTABILITY or FITNESS FOR\n * A PARTICULAR PURPOSE. See the GNU Affero General Public License for more\n * details.\n *\n * You should have received a copy of the GNU Affero General Public License along\n * with this program. If not, see <http://www.gnu.org/licenses/>.\n */\n\n // Add CSRF stuffs to make Canvas happy when we are making requests with axios\n\naxios__WEBPACK_IMPORTED_MODULE_0___default.a.defaults.xsrfCookieName = '_csrf_token';\naxios__WEBPACK_IMPORTED_MODULE_0___default.a.defaults.xsrfHeaderName = 'X-CSRF-Token'; // Handle stringified IDs for JSON responses\n\nconst originalDefaults = axios__WEBPACK_IMPORTED_MODULE_0___default.a.defaults.headers.common.Accept;\naxios__WEBPACK_IMPORTED_MODULE_0___default.a.defaults.headers.common.Accept = 'application/json+canvas-string-ids, ' + originalDefaults; // Rails checks this header to decide if a request is an xhr request\n\naxios__WEBPACK_IMPORTED_MODULE_0___default.a.defaults.headers.common['X-Requested-With'] = 'XMLHttpRequest';\n/* harmony default export */ __webpack_exports__[\"default\"] = (axios__WEBPACK_IMPORTED_MODULE_0___default.a);\n\n//# sourceURL=webpack:///./ui/shared/axios/index.js?");

/***/ }),

/***/ "By9f":
/*!******************************************************************************!*\
  !*** ./frontend_build/i18n.js?last_attended!./ui/shims/dummyI18nResource.js ***!
  \******************************************************************************/
/*! exports provided: default */
/***/ (function(module, __webpack_exports__, __webpack_require__) {

"use strict";
eval("__webpack_require__.r(__webpack_exports__);\n/* harmony import */ var _canvas_i18n_i18nObj__WEBPACK_IMPORTED_MODULE_0__ = __webpack_require__(/*! @canvas/i18n/i18nObj */ \"HGxv\");\n/* harmony import */ var translations_core_en__WEBPACK_IMPORTED_MODULE_1__ = __webpack_require__(/*! translations/_core_en */ \"0sPK\");\n\n    \n    \n    \n\n    /* harmony default export */ __webpack_exports__[\"default\"] = (_canvas_i18n_i18nObj__WEBPACK_IMPORTED_MODULE_0__[\"default\"].scoped('last_attended'));\n  \n\n//# sourceURL=webpack:///./ui/shims/dummyI18nResource.js?./frontend_build/i18n.js?last_attended");

/***/ }),

/***/ "E6Fn":
/*!**********************************************************************!*\
  !*** ./ui/features/context_roster_user/react/StudentLastAttended.js ***!
  \**********************************************************************/
/*! exports provided: default */
/***/ (function(module, __webpack_exports__, __webpack_require__) {

"use strict";
eval("__webpack_require__.r(__webpack_exports__);\n/* harmony export (binding) */ __webpack_require__.d(__webpack_exports__, \"default\", function() { return StudentLastAttended; });\n/* harmony import */ var react__WEBPACK_IMPORTED_MODULE_0__ = __webpack_require__(/*! react */ \"q1tI\");\n/* harmony import */ var react__WEBPACK_IMPORTED_MODULE_0___default = /*#__PURE__*/__webpack_require__.n(react__WEBPACK_IMPORTED_MODULE_0__);\n/* harmony import */ var prop_types__WEBPACK_IMPORTED_MODULE_1__ = __webpack_require__(/*! prop-types */ \"17x9\");\n/* harmony import */ var prop_types__WEBPACK_IMPORTED_MODULE_1___default = /*#__PURE__*/__webpack_require__.n(prop_types__WEBPACK_IMPORTED_MODULE_1__);\n/* harmony import */ var moment__WEBPACK_IMPORTED_MODULE_2__ = __webpack_require__(/*! moment */ \"wd/R\");\n/* harmony import */ var moment__WEBPACK_IMPORTED_MODULE_2___default = /*#__PURE__*/__webpack_require__.n(moment__WEBPACK_IMPORTED_MODULE_2__);\n/* harmony import */ var _canvas_axios__WEBPACK_IMPORTED_MODULE_3__ = __webpack_require__(/*! @canvas/axios */ \"BrAc\");\n/* harmony import */ var i18n_last_attended__WEBPACK_IMPORTED_MODULE_4__ = __webpack_require__(/*! i18n!last_attended */ \"By9f\");\n/* harmony import */ var _canvas_timezone__WEBPACK_IMPORTED_MODULE_5__ = __webpack_require__(/*! @canvas/timezone */ \"3H9/\");\n/* harmony import */ var _instructure_ui_view__WEBPACK_IMPORTED_MODULE_6__ = __webpack_require__(/*! @instructure/ui-view */ \"OkHH\");\n/* harmony import */ var _instructure_ui_text__WEBPACK_IMPORTED_MODULE_7__ = __webpack_require__(/*! @instructure/ui-text */ \"iE3e\");\n/* harmony import */ var _instructure_ui_spinner__WEBPACK_IMPORTED_MODULE_8__ = __webpack_require__(/*! @instructure/ui-spinner */ \"cPO5\");\n/* harmony import */ var _canvas_datetime_react_components_DateInput__WEBPACK_IMPORTED_MODULE_9__ = __webpack_require__(/*! @canvas/datetime/react/components/DateInput */ \"4P7D\");\n/* harmony import */ var _canvas_alerts_react_FlashAlert__WEBPACK_IMPORTED_MODULE_10__ = __webpack_require__(/*! @canvas/alerts/react/FlashAlert */ \"uloQ\");\n/*\n * Copyright (C) 2017 - present Instructure, Inc.\n *\n * This file is part of Canvas.\n *\n * Canvas is free software: you can redistribute it and/or modify it under\n * the terms of the GNU Affero General Public License as published by the Free\n * Software Foundation, version 3 of the License.\n *\n * Canvas is distributed in the hope that it will be useful, but WITHOUT ANY\n * WARRANTY; without even the implied warranty of MERCHANTABILITY or FITNESS FOR\n * A PARTICULAR PURPOSE. See the GNU Affero General Public License for more\n * details.\n *\n * You should have received a copy of the GNU Affero General Public License along\n * with this program. If not, see <http://www.gnu.org/licenses/>.\n */\n\n\n\n\n\n\n\n\n\n\n\n\nfunction formatDate(date) {\n  return _canvas_timezone__WEBPACK_IMPORTED_MODULE_5__[\"default\"].format(date, 'date.formats.medium_with_weekday');\n}\n\nclass StudentLastAttended extends react__WEBPACK_IMPORTED_MODULE_0___default.a.Component {\n  constructor(props) {\n    super(props);\n\n    this.onDateSubmit = d => {\n      if (!d) return;\n      const currentMoment = moment__WEBPACK_IMPORTED_MODULE_2___default()(d);\n      if (moment__WEBPACK_IMPORTED_MODULE_2___default()(this.state.selectedDate).isSame(currentMoment)) return; // No change, no need to hit the back end\n\n      this.postDateToBackend(d.toISOString());\n    };\n\n    const defaultDate = moment__WEBPACK_IMPORTED_MODULE_2___default()(this.props.defaultDate);\n    const currentDate = defaultDate.isValid() ? defaultDate.toISOString() : null;\n    this.state = {\n      selectedDate: currentDate,\n      loading: false\n    };\n  }\n\n  componentDidMount() {\n    this.createCancelToken();\n  }\n\n  componentWillUnMount() {\n    this.source.cancel();\n  } // Used to allow us to cancel the axios call when posting date\n\n\n  createCancelToken() {\n    const cancelToken = _canvas_axios__WEBPACK_IMPORTED_MODULE_3__[\"default\"].CancelToken;\n    this.source = cancelToken.source();\n  }\n\n  postDateToBackend(currentDate) {\n    this.setState({\n      loading: true\n    });\n    _canvas_axios__WEBPACK_IMPORTED_MODULE_3__[\"default\"].put(`/api/v1/courses/${this.props.courseID}/users/${this.props.studentID}/last_attended`, {\n      date: currentDate,\n      cancelToken: this.source.token\n    }).then(r => {\n      var _r$data;\n\n      this.setState({\n        loading: false,\n        selectedDate: r === null || r === void 0 ? void 0 : (_r$data = r.data) === null || _r$data === void 0 ? void 0 : _r$data.date\n      });\n    }).catch(() => {\n      this.setState({\n        loading: false\n      });\n      Object(_canvas_alerts_react_FlashAlert__WEBPACK_IMPORTED_MODULE_10__[\"showFlashError\"])(i18n_last_attended__WEBPACK_IMPORTED_MODULE_4__[\"default\"].t('Failed To Change Last Attended Date'));\n    });\n  }\n\n  renderTitle() {\n    return /*#__PURE__*/react__WEBPACK_IMPORTED_MODULE_0___default.a.createElement(_instructure_ui_view__WEBPACK_IMPORTED_MODULE_6__[\"View\"], {\n      display: \"block\",\n      margin: \"small 0\"\n    }, /*#__PURE__*/react__WEBPACK_IMPORTED_MODULE_0___default.a.createElement(_instructure_ui_text__WEBPACK_IMPORTED_MODULE_7__[\"Text\"], {\n      margin: \"small 0\"\n    }, i18n_last_attended__WEBPACK_IMPORTED_MODULE_4__[\"default\"].t('Last day attended')));\n  }\n\n  render() {\n    if (this.state.loading) {\n      return /*#__PURE__*/react__WEBPACK_IMPORTED_MODULE_0___default.a.createElement(_instructure_ui_view__WEBPACK_IMPORTED_MODULE_6__[\"View\"], {\n        display: \"block\",\n        margin: \"small x-small\"\n      }, this.renderTitle(), /*#__PURE__*/react__WEBPACK_IMPORTED_MODULE_0___default.a.createElement(_instructure_ui_view__WEBPACK_IMPORTED_MODULE_6__[\"View\"], {\n        display: \"block\",\n        margin: \"small\"\n      }, /*#__PURE__*/react__WEBPACK_IMPORTED_MODULE_0___default.a.createElement(_instructure_ui_spinner__WEBPACK_IMPORTED_MODULE_8__[\"Spinner\"], {\n        margin: \"small 0\",\n        renderTitle: i18n_last_attended__WEBPACK_IMPORTED_MODULE_4__[\"default\"].t('Loading last attended date'),\n        size: \"small\"\n      })));\n    }\n\n    return /*#__PURE__*/react__WEBPACK_IMPORTED_MODULE_0___default.a.createElement(_instructure_ui_view__WEBPACK_IMPORTED_MODULE_6__[\"View\"], {\n      display: \"block\",\n      margin: \"small x-small\"\n    }, this.renderTitle(), /*#__PURE__*/react__WEBPACK_IMPORTED_MODULE_0___default.a.createElement(_canvas_datetime_react_components_DateInput__WEBPACK_IMPORTED_MODULE_9__[\"default\"], {\n      renderLabel: i18n_last_attended__WEBPACK_IMPORTED_MODULE_4__[\"default\"].t('Set Last Attended Date'),\n      onSelectedDateChange: this.onDateSubmit,\n      formatDate: formatDate,\n      invalidDateMessage: value => i18n_last_attended__WEBPACK_IMPORTED_MODULE_4__[\"default\"].t('%{value} is not a valid date', {\n        value\n      }),\n      selectedDate: this.state.selectedDate,\n      withRunningValue: true\n    }));\n  }\n\n}\nStudentLastAttended.propTypes = {\n  defaultDate: prop_types__WEBPACK_IMPORTED_MODULE_1___default.a.string,\n  courseID: prop_types__WEBPACK_IMPORTED_MODULE_1___default.a.string.isRequired,\n  studentID: prop_types__WEBPACK_IMPORTED_MODULE_1___default.a.string.isRequired\n};\nStudentLastAttended.defaultProps = {\n  defaultDate: null\n};\n\n//# sourceURL=webpack:///./ui/features/context_roster_user/react/StudentLastAttended.js?");

/***/ }),

/***/ "WjAD":
/*!********************************************************!*\
  !*** ./ui/shared/generate-pairing-code/react/index.js ***!
  \********************************************************/
/*! exports provided: default */
/***/ (function(module, __webpack_exports__, __webpack_require__) {

"use strict";
eval("__webpack_require__.r(__webpack_exports__);\n/* harmony export (binding) */ __webpack_require__.d(__webpack_exports__, \"default\", function() { return GeneratePairingCode; });\n/* harmony import */ var i18n_generate_pairing_code__WEBPACK_IMPORTED_MODULE_0__ = __webpack_require__(/*! i18n!generate_pairing_code */ \"3QVD\");\n/* harmony import */ var react__WEBPACK_IMPORTED_MODULE_1__ = __webpack_require__(/*! react */ \"q1tI\");\n/* harmony import */ var react__WEBPACK_IMPORTED_MODULE_1___default = /*#__PURE__*/__webpack_require__.n(react__WEBPACK_IMPORTED_MODULE_1__);\n/* harmony import */ var _instructure_ui_buttons__WEBPACK_IMPORTED_MODULE_2__ = __webpack_require__(/*! @instructure/ui-buttons */ \"K6WN\");\n/* harmony import */ var _instructure_ui_modal__WEBPACK_IMPORTED_MODULE_3__ = __webpack_require__(/*! @instructure/ui-modal */ \"7I2A\");\n/* harmony import */ var _instructure_ui_text__WEBPACK_IMPORTED_MODULE_4__ = __webpack_require__(/*! @instructure/ui-text */ \"iE3e\");\n/* harmony import */ var _instructure_ui_heading__WEBPACK_IMPORTED_MODULE_5__ = __webpack_require__(/*! @instructure/ui-heading */ \"nwNI\");\n/* harmony import */ var _instructure_ui_spinner__WEBPACK_IMPORTED_MODULE_6__ = __webpack_require__(/*! @instructure/ui-spinner */ \"cPO5\");\n/* harmony import */ var _instructure_ui_icons__WEBPACK_IMPORTED_MODULE_7__ = __webpack_require__(/*! @instructure/ui-icons */ \"oMAr\");\n/* harmony import */ var _instructure_ui_a11y_content__WEBPACK_IMPORTED_MODULE_8__ = __webpack_require__(/*! @instructure/ui-a11y-content */ \"9+/z\");\n/* harmony import */ var _canvas_axios__WEBPACK_IMPORTED_MODULE_9__ = __webpack_require__(/*! @canvas/axios */ \"BrAc\");\n/* harmony import */ var prop_types__WEBPACK_IMPORTED_MODULE_10__ = __webpack_require__(/*! prop-types */ \"17x9\");\n/* harmony import */ var prop_types__WEBPACK_IMPORTED_MODULE_10___default = /*#__PURE__*/__webpack_require__.n(prop_types__WEBPACK_IMPORTED_MODULE_10__);\n/*\n * Copyright (C) 2018 - present Instructure, Inc.\n *\n * This file is part of Canvas.\n *\n * Canvas is free software: you can redistribute it and/or modify it under\n * the terms of the GNU Affero General Public License as published by the Free\n * Software Foundation, version 3 of the License.\n *\n * Canvas is distributed in the hope that it will be useful, but WITHOUT ANY\n * WARRANTY; without even the implied warranty of MERCHANTABILITY or FITNESS FOR\n * A PARTICULAR PURPOSE. See the GNU Affero General Public License for more\n * details.\n *\n * You should have received a copy of the GNU Affero General Public License along\n * with this program. If not, see <http://www.gnu.org/licenses/>.\n */\n\n\n\n\n\n\n\n\n\n\n\nclass GeneratePairingCode extends react__WEBPACK_IMPORTED_MODULE_1__[\"Component\"] {\n  constructor(...args) {\n    super(...args);\n    this.state = {\n      pairingCode: '',\n      showModal: false,\n      gettingPairingCode: false,\n      pairingCodeError: false\n    };\n\n    this.openModal = () => {\n      this.setState({\n        showModal: true\n      });\n      this.generatePairingCode();\n    };\n\n    this.closeModal = () => {\n      this.setState({\n        showModal: false\n      });\n    };\n\n    this.generatePairingCode = () => {\n      this.setState({\n        gettingPairingCode: true,\n        pairingCodeError: false\n      });\n      _canvas_axios__WEBPACK_IMPORTED_MODULE_9__[\"default\"].post(`/api/v1/users/${this.props.userId}/observer_pairing_codes`).then(({\n        data\n      }) => {\n        this.setState({\n          gettingPairingCode: false,\n          pairingCode: data.code\n        });\n      }).catch(() => {\n        this.setState({\n          gettingPairingCode: false,\n          pairingCodeError: true\n        });\n      });\n    };\n\n    this.renderCloseButton = () => /*#__PURE__*/react__WEBPACK_IMPORTED_MODULE_1___default.a.createElement(_instructure_ui_buttons__WEBPACK_IMPORTED_MODULE_2__[\"CloseButton\"], {\n      placement: \"end\",\n      offset: \"medium\",\n      variant: \"icon\",\n      onClick: this.closeModal\n    }, \"Close\");\n\n    this.renderPairingCode = () => {\n      if (this.state.pairingCodeError) {\n        return /*#__PURE__*/react__WEBPACK_IMPORTED_MODULE_1___default.a.createElement(_instructure_ui_text__WEBPACK_IMPORTED_MODULE_4__[\"Text\"], {\n          color: \"error\"\n        }, i18n_generate_pairing_code__WEBPACK_IMPORTED_MODULE_0__[\"default\"].t('There was an error generating the pairing code'));\n      } else {\n        return /*#__PURE__*/react__WEBPACK_IMPORTED_MODULE_1___default.a.createElement(_instructure_ui_text__WEBPACK_IMPORTED_MODULE_4__[\"Text\"], null, this.state.pairingCode);\n      }\n    };\n  }\n\n  render() {\n    const messageWithName = i18n_generate_pairing_code__WEBPACK_IMPORTED_MODULE_0__[\"default\"].t(`Share the following pairing code with an observer to allow\n    them to connect with %{name}. This code will expire in seven days,\n    or after one use.`, {\n      name: this.props.name\n    });\n    const messageWithoutName = i18n_generate_pairing_code__WEBPACK_IMPORTED_MODULE_0__[\"default\"].t(`Share the following pairing code with an observer to allow\n    them to connect with you. This code will expire in seven days,\n    or after one use.`);\n    return /*#__PURE__*/react__WEBPACK_IMPORTED_MODULE_1___default.a.createElement(\"div\", null, /*#__PURE__*/react__WEBPACK_IMPORTED_MODULE_1___default.a.createElement(_instructure_ui_buttons__WEBPACK_IMPORTED_MODULE_2__[\"Button\"], {\n      fluidWidth: true,\n      onClick: this.openModal\n    }, /*#__PURE__*/react__WEBPACK_IMPORTED_MODULE_1___default.a.createElement(_instructure_ui_icons__WEBPACK_IMPORTED_MODULE_7__[\"IconGroupLine\"], null), i18n_generate_pairing_code__WEBPACK_IMPORTED_MODULE_0__[\"default\"].t('Pair with Observer')), /*#__PURE__*/react__WEBPACK_IMPORTED_MODULE_1___default.a.createElement(_instructure_ui_modal__WEBPACK_IMPORTED_MODULE_3__[\"Modal\"], {\n      open: this.state.showModal,\n      onDismiss: this.closeModal,\n      shouldCloseOnDocumentClick: true,\n      label: i18n_generate_pairing_code__WEBPACK_IMPORTED_MODULE_0__[\"default\"].t('Pair with Observer'),\n      size: \"small\"\n    }, /*#__PURE__*/react__WEBPACK_IMPORTED_MODULE_1___default.a.createElement(_instructure_ui_modal__WEBPACK_IMPORTED_MODULE_3__[\"Modal\"].Header, null, this.renderCloseButton(), /*#__PURE__*/react__WEBPACK_IMPORTED_MODULE_1___default.a.createElement(_instructure_ui_heading__WEBPACK_IMPORTED_MODULE_5__[\"Heading\"], null, i18n_generate_pairing_code__WEBPACK_IMPORTED_MODULE_0__[\"default\"].t('Pair with Observer'))), /*#__PURE__*/react__WEBPACK_IMPORTED_MODULE_1___default.a.createElement(_instructure_ui_modal__WEBPACK_IMPORTED_MODULE_3__[\"Modal\"].Body, null, /*#__PURE__*/react__WEBPACK_IMPORTED_MODULE_1___default.a.createElement(_instructure_ui_text__WEBPACK_IMPORTED_MODULE_4__[\"Text\"], null, this.props.name ? messageWithName : messageWithoutName), /*#__PURE__*/react__WEBPACK_IMPORTED_MODULE_1___default.a.createElement(\"div\", {\n      className: \"pairing-code\"\n    }, this.state.gettingPairingCode ? /*#__PURE__*/react__WEBPACK_IMPORTED_MODULE_1___default.a.createElement(\"div\", null, /*#__PURE__*/react__WEBPACK_IMPORTED_MODULE_1___default.a.createElement(_instructure_ui_spinner__WEBPACK_IMPORTED_MODULE_6__[\"Spinner\"], {\n      margin: \"0 small 0 0\",\n      size: \"x-small\",\n      renderTitle: i18n_generate_pairing_code__WEBPACK_IMPORTED_MODULE_0__[\"default\"].t('Generating pairing code')\n    }), /*#__PURE__*/react__WEBPACK_IMPORTED_MODULE_1___default.a.createElement(_instructure_ui_a11y_content__WEBPACK_IMPORTED_MODULE_8__[\"PresentationContent\"], null, i18n_generate_pairing_code__WEBPACK_IMPORTED_MODULE_0__[\"default\"].t('Generating pairing code...'))) : this.renderPairingCode())), /*#__PURE__*/react__WEBPACK_IMPORTED_MODULE_1___default.a.createElement(_instructure_ui_modal__WEBPACK_IMPORTED_MODULE_3__[\"Modal\"].Footer, null, /*#__PURE__*/react__WEBPACK_IMPORTED_MODULE_1___default.a.createElement(_instructure_ui_buttons__WEBPACK_IMPORTED_MODULE_2__[\"Button\"], {\n      onClick: this.closeModal,\n      variant: \"primary\",\n      className: \"pairing-code-ok\"\n    }, i18n_generate_pairing_code__WEBPACK_IMPORTED_MODULE_0__[\"default\"].t('OK')))));\n  }\n\n}\nGeneratePairingCode.propTypes = {\n  userId: prop_types__WEBPACK_IMPORTED_MODULE_10__[\"string\"].isRequired,\n  name: prop_types__WEBPACK_IMPORTED_MODULE_10__[\"string\"]\n};\n\n//# sourceURL=webpack:///./ui/shared/generate-pairing-code/react/index.js?");

/***/ }),

/***/ "fi5o":
/*!************************************************************************************!*\
  !*** ./frontend_build/i18n.js?context.roster_user!./ui/shims/dummyI18nResource.js ***!
  \************************************************************************************/
/*! exports provided: default */
/***/ (function(module, __webpack_exports__, __webpack_require__) {

"use strict";
eval("__webpack_require__.r(__webpack_exports__);\n/* harmony import */ var _canvas_i18n_i18nObj__WEBPACK_IMPORTED_MODULE_0__ = __webpack_require__(/*! @canvas/i18n/i18nObj */ \"HGxv\");\n/* harmony import */ var translations_core_en__WEBPACK_IMPORTED_MODULE_1__ = __webpack_require__(/*! translations/_core_en */ \"0sPK\");\n\n    \n    \n    \n\n    /* harmony default export */ __webpack_exports__[\"default\"] = (_canvas_i18n_i18nObj__WEBPACK_IMPORTED_MODULE_0__[\"default\"].scoped('context.roster_user'));\n  \n\n//# sourceURL=webpack:///./ui/shims/dummyI18nResource.js?./frontend_build/i18n.js?context.roster_user");

/***/ }),

/***/ "lBOK":
/*!*************************************************!*\
  !*** ./ui/shared/loading-image/jquery/index.js ***!
  \*************************************************/
/*! no exports provided */
/***/ (function(module, __webpack_exports__, __webpack_require__) {

"use strict";
eval("__webpack_require__.r(__webpack_exports__);\n/* harmony import */ var jquery__WEBPACK_IMPORTED_MODULE_0__ = __webpack_require__(/*! jquery */ \"ouhR\");\n/* harmony import */ var jquery__WEBPACK_IMPORTED_MODULE_0___default = /*#__PURE__*/__webpack_require__.n(jquery__WEBPACK_IMPORTED_MODULE_0__);\n/*\n * Copyright (C) 2011 - present Instructure, Inc.\n *\n * This file is part of Canvas.\n *\n * Canvas is free software: you can redistribute it and/or modify it under\n * the terms of the GNU Affero General Public License as published by the Free\n * Software Foundation, version 3 of the License.\n *\n * Canvas is distributed in the hope that it will be useful, but WITHOUT ANY\n * WARRANTY; without even the implied warranty of MERCHANTABILITY or FITNESS FOR\n * A PARTICULAR PURPOSE. See the GNU Affero General Public License for more\n * details.\n *\n * You should have received a copy of the GNU Affero General Public License along\n * with this program. If not, see <http://www.gnu.org/licenses/>.\n */\n // Shows an ajax-loading image on the given object.\n\njquery__WEBPACK_IMPORTED_MODULE_0___default.a.fn.loadingImg = function (options) {\n  if (!this || this.length === 0) {\n    return this;\n  }\n\n  const dir = window.getComputedStyle(this[0]).direction || 'ltr';\n  const $obj = this.filter(':first');\n  let list;\n\n  if (options === 'hide' || options === 'remove') {\n    $obj.children('.loading_image').remove();\n    list = $obj.data('loading_images') || [];\n    list.forEach(item => {\n      if (item) {\n        item.remove();\n      }\n    });\n    $obj.data('loading_images', null);\n    this.css('margin-inline-end', '');\n    return this;\n  } else if (options === 'remove_once') {\n    $obj.children('.loading_image').remove();\n    list = $obj.data('loading_images') || [];\n    const img = list.pop();\n\n    if (img) {\n      img.remove();\n    }\n\n    $obj.data('loading_images', list);\n    return this;\n  } else if (options === 'register_image' && arguments.length === 3) {\n    jquery__WEBPACK_IMPORTED_MODULE_0___default.a.fn.loadingImg.image_files[arguments[1]] = arguments[2];\n    return this;\n  }\n\n  options = jquery__WEBPACK_IMPORTED_MODULE_0___default.a.extend({}, jquery__WEBPACK_IMPORTED_MODULE_0___default.a.fn.loadingImg.defaults, options);\n  let image = jquery__WEBPACK_IMPORTED_MODULE_0___default.a.fn.loadingImg.image_files.normal;\n\n  if (options.image_size && jquery__WEBPACK_IMPORTED_MODULE_0___default.a.fn.loadingImg.image_files[options.image_size]) {\n    image = jquery__WEBPACK_IMPORTED_MODULE_0___default.a.fn.loadingImg.image_files[options.image_size];\n  }\n\n  if (options.paddingTop) {\n    options.vertical = options.paddingTop;\n  }\n\n  let paddingTop = 0;\n\n  if (options.vertical) {\n    if (options.vertical === 'top') {// nothing to do\n    } else if (options.vertical === 'bottom') {\n      paddingTop = $obj.outerHeight();\n    } else if (options.vertical === 'middle') {\n      paddingTop = $obj.outerHeight() / 2 - image.height / 2;\n    } else {\n      paddingTop = parseInt(options.vertical, 10); // eslint-disable-next-line no-restricted-globals\n\n      if (isNaN(paddingTop)) {\n        paddingTop = 0;\n      }\n    }\n  }\n\n  let paddingLeft = 0;\n\n  if (options.horizontal) {\n    if (options.horizontal === 'left') {// nothing to do\n    } else if (options.horizontal === 'right') {\n      paddingLeft = $obj.outerWidth() - image.width;\n    } else if (options.horizontal === 'right!') {\n      paddingLeft = dir === 'ltr' ? $obj.outerWidth() + 5 : -5 - (image.width || 16);\n      this.css({\n        'margin-inline-end': '16px'\n      });\n    } else if (options.horizontal === 'middle') {\n      paddingLeft = $obj.outerWidth() / 2 - image.width / 2;\n    } else {\n      paddingLeft = parseInt(options.horizontal, 10); // eslint-disable-next-line no-restricted-globals\n\n      if (isNaN(paddingLeft)) {\n        paddingLeft = 0;\n      }\n    }\n  }\n\n  const zIndex = $obj.zIndex() + 1;\n  const $imageHolder = jquery__WEBPACK_IMPORTED_MODULE_0___default()(document.createElement('div')).addClass('loading_image_holder');\n  const $image = jquery__WEBPACK_IMPORTED_MODULE_0___default()(document.createElement('img')).attr('src', image.url);\n  $imageHolder.append($image);\n  list = $obj.data('loading_images') || [];\n  list.push($imageHolder);\n  $obj.data('loading_images', list);\n\n  if (!$obj.css('position') || $obj.css('position') === 'static') {\n    const offset = $obj.offset();\n    let top = offset.top,\n        left = offset.left;\n\n    if (options.vertical) {\n      top += paddingTop;\n    }\n\n    if (options.horizontal) {\n      left += paddingLeft;\n    }\n\n    $imageHolder.css({\n      zIndex,\n      position: 'absolute',\n      top,\n      left\n    });\n    jquery__WEBPACK_IMPORTED_MODULE_0___default()('body').append($imageHolder);\n  } else {\n    $imageHolder.css({\n      zIndex,\n      position: 'absolute',\n      top: paddingTop,\n      left: paddingLeft\n    });\n    $obj.append($imageHolder);\n  }\n\n  return jquery__WEBPACK_IMPORTED_MODULE_0___default()(this);\n};\n\njquery__WEBPACK_IMPORTED_MODULE_0___default.a.fn.loadingImg.defaults = {\n  paddingTop: 0,\n  image_size: 'normal',\n  vertical: 0,\n  horizontal: 0\n};\njquery__WEBPACK_IMPORTED_MODULE_0___default.a.fn.loadingImg.image_files = {\n  normal: {\n    url: '/images/ajax-loader.gif',\n    width: 32,\n    height: 32\n  },\n  small: {\n    url: '/images/ajax-loader-small.gif',\n    width: 16,\n    height: 16\n  }\n};\njquery__WEBPACK_IMPORTED_MODULE_0___default.a.fn.loadingImage = jquery__WEBPACK_IMPORTED_MODULE_0___default.a.fn.loadingImg;\n\n//# sourceURL=webpack:///./ui/shared/loading-image/jquery/index.js?");

/***/ }),

/***/ "m/w/":
/*!**************************************************!*\
  !*** ./ui/features/context_roster_user/index.js ***!
  \**************************************************/
/*! no exports provided */
/***/ (function(module, __webpack_exports__, __webpack_require__) {

"use strict";
eval("__webpack_require__.r(__webpack_exports__);\n/* harmony import */ var jquery__WEBPACK_IMPORTED_MODULE_0__ = __webpack_require__(/*! jquery */ \"ouhR\");\n/* harmony import */ var jquery__WEBPACK_IMPORTED_MODULE_0___default = /*#__PURE__*/__webpack_require__.n(jquery__WEBPACK_IMPORTED_MODULE_0__);\n/* harmony import */ var i18n_context_roster_user__WEBPACK_IMPORTED_MODULE_1__ = __webpack_require__(/*! i18n!context.roster_user */ \"fi5o\");\n/* harmony import */ var _react_index__WEBPACK_IMPORTED_MODULE_2__ = __webpack_require__(/*! ./react/index */ \"7LYc\");\n/* harmony import */ var react__WEBPACK_IMPORTED_MODULE_3__ = __webpack_require__(/*! react */ \"q1tI\");\n/* harmony import */ var react__WEBPACK_IMPORTED_MODULE_3___default = /*#__PURE__*/__webpack_require__.n(react__WEBPACK_IMPORTED_MODULE_3__);\n/* harmony import */ var react_dom__WEBPACK_IMPORTED_MODULE_4__ = __webpack_require__(/*! react-dom */ \"i8i4\");\n/* harmony import */ var react_dom__WEBPACK_IMPORTED_MODULE_4___default = /*#__PURE__*/__webpack_require__.n(react_dom__WEBPACK_IMPORTED_MODULE_4__);\n/* harmony import */ var _canvas_generate_pairing_code__WEBPACK_IMPORTED_MODULE_5__ = __webpack_require__(/*! @canvas/generate-pairing-code */ \"WjAD\");\n/* harmony import */ var _canvas_jquery_jquery_ajaxJSON__WEBPACK_IMPORTED_MODULE_6__ = __webpack_require__(/*! @canvas/jquery/jquery.ajaxJSON */ \"dhbk\");\n/* harmony import */ var _canvas_jquery_jquery_instructure_misc_plugins__WEBPACK_IMPORTED_MODULE_7__ = __webpack_require__(/*! @canvas/jquery/jquery.instructure_misc_plugins */ \"aq8L\");\n/* harmony import */ var _canvas_loading_image__WEBPACK_IMPORTED_MODULE_8__ = __webpack_require__(/*! @canvas/loading-image */ \"lBOK\");\n/* harmony import */ var _canvas_rails_flash_notifications__WEBPACK_IMPORTED_MODULE_9__ = __webpack_require__(/*! @canvas/rails-flash-notifications */ \"r2Yr\");\n/* harmony import */ var _canvas_link_enrollment__WEBPACK_IMPORTED_MODULE_10__ = __webpack_require__(/*! @canvas/link-enrollment */ \"Ut8F\");\n//\n// Copyright (C) 2014 - present Instructure, Inc.\n//\n// This file is part of Canvas.\n//\n// Canvas is free software: you can redistribute it and/or modify it under\n// the terms of the GNU Affero General Public License as published by the Free\n// Software Foundation, version 3 of the License.\n//\n// Canvas is distributed in the hope that it will be useful, but WITHOUT ANY\n// WARRANTY; without even the implied warranty of MERCHANTABILITY or FITNESS FOR\n// A PARTICULAR PURPOSE. See the GNU Affero General Public License for more\n// details.\n//\n// You should have received a copy of the GNU Affero General Public License along\n// with this program. If not, see <http://www.gnu.org/licenses/>.\n\n\n\n\n\n\n\n\n\n\n\njquery__WEBPACK_IMPORTED_MODULE_0___default()(document).ready(() => {\n  jquery__WEBPACK_IMPORTED_MODULE_0___default()('.show_user_services_checkbox').change(function () {\n    jquery__WEBPACK_IMPORTED_MODULE_0___default.a.ajaxJSON(jquery__WEBPACK_IMPORTED_MODULE_0___default()('.profile_url').attr('href'), 'PUT', {\n      'user[show_user_services]': jquery__WEBPACK_IMPORTED_MODULE_0___default()(this).prop('checked')\n    }, data => {}, data => {});\n  });\n  jquery__WEBPACK_IMPORTED_MODULE_0___default()('.unconclude_enrollment_link').click(function (event) {\n    event.preventDefault();\n    const $enrollment = jquery__WEBPACK_IMPORTED_MODULE_0___default()(this).parents('.enrollment');\n    jquery__WEBPACK_IMPORTED_MODULE_0___default.a.ajaxJSON(jquery__WEBPACK_IMPORTED_MODULE_0___default()(this).attr('href'), 'POST', {}, data => {\n      $enrollment.find('.conclude_enrollment_link_holder').show();\n      $enrollment.find('.unconclude_enrollment_link_holder').hide();\n      $enrollment.find('.completed_at_holder').hide();\n    });\n  });\n  jquery__WEBPACK_IMPORTED_MODULE_0___default()('.conclude_enrollment_link').click(function (event) {\n    event.preventDefault();\n    jquery__WEBPACK_IMPORTED_MODULE_0___default()(this).parents('.enrollment').confirmDelete({\n      message: i18n_context_roster_user__WEBPACK_IMPORTED_MODULE_1__[\"default\"].t('confirm.conclude', 'Are you sure you want to conclude this enrollment?'),\n      url: jquery__WEBPACK_IMPORTED_MODULE_0___default()(this).attr('href'),\n\n      success(data) {\n        const comp_at = jquery__WEBPACK_IMPORTED_MODULE_0___default.a.datetimeString(data.enrollment.completed_at);\n        const $enrollment = jquery__WEBPACK_IMPORTED_MODULE_0___default()(this);\n        $enrollment.undim();\n        $enrollment.find('.conclude_enrollment_link_holder').hide();\n        $enrollment.find('.unconclude_enrollment_link_holder').show();\n        $enrollment.find('.completed_at_holder .completed_at').text(comp_at);\n        $enrollment.find('.completed_at_holder').show();\n      }\n\n    });\n  });\n  jquery__WEBPACK_IMPORTED_MODULE_0___default()('.elevate_enrollment_link,.restrict_enrollment_link').click(function (event) {\n    const limit = jquery__WEBPACK_IMPORTED_MODULE_0___default()(this).hasClass('restrict_enrollment_link') ? '1' : '0';\n    const $user = jquery__WEBPACK_IMPORTED_MODULE_0___default()(this).parents('.tr');\n    $user.loadingImage();\n    jquery__WEBPACK_IMPORTED_MODULE_0___default.a.ajaxJSON(jquery__WEBPACK_IMPORTED_MODULE_0___default()(this).attr('href'), 'POST', {\n      limit\n    }, data => {\n      $user.loadingImage('remove');\n      jquery__WEBPACK_IMPORTED_MODULE_0___default()('.elevate_enrollment_link_holder,.restrict_enrollment_link_holder').slideToggle();\n    }, data => {\n      jquery__WEBPACK_IMPORTED_MODULE_0___default.a.flashError(i18n_context_roster_user__WEBPACK_IMPORTED_MODULE_1__[\"default\"].t('enrollment_change_failed', 'Enrollment privilege change failed, please try again'));\n      $user.loadingImage('remove');\n    });\n    event.preventDefault();\n  });\n  jquery__WEBPACK_IMPORTED_MODULE_0___default()('.delete_enrollment_link').click(function (event) {\n    event.preventDefault();\n    jquery__WEBPACK_IMPORTED_MODULE_0___default()(this).parents('.enrollment').confirmDelete({\n      message: i18n_context_roster_user__WEBPACK_IMPORTED_MODULE_1__[\"default\"].t('confirm.delete_enrollment', 'Are you sure you want to delete this enrollment?'),\n      url: jquery__WEBPACK_IMPORTED_MODULE_0___default()(this).attr('href'),\n\n      success(data) {\n        jquery__WEBPACK_IMPORTED_MODULE_0___default()(this).closest('.enrollment').hide();\n      }\n\n    });\n  });\n  jquery__WEBPACK_IMPORTED_MODULE_0___default()('.more_user_information_link').click(function (event) {\n    event.preventDefault();\n    jquery__WEBPACK_IMPORTED_MODULE_0___default()('.more_user_information').slideDown();\n    jquery__WEBPACK_IMPORTED_MODULE_0___default()(this).hide();\n  });\n  const lastAttendedContainer = document.getElementById('student_last_attended__component');\n\n  if (lastAttendedContainer != null) {\n    Object(_react_index__WEBPACK_IMPORTED_MODULE_2__[\"default\"])(lastAttendedContainer, ENV.COURSE_ID, ENV.USER_ID, ENV.LAST_ATTENDED_DATE);\n  }\n\n  const container = document.querySelector('#pairing-code');\n\n  if (container != null) {\n    react_dom__WEBPACK_IMPORTED_MODULE_4___default.a.render( /*#__PURE__*/react__WEBPACK_IMPORTED_MODULE_3___default.a.createElement(_canvas_generate_pairing_code__WEBPACK_IMPORTED_MODULE_5__[\"default\"], {\n      userId: ENV.USER_ID,\n      name: ENV.CONTEXT_USER_DISPLAY_NAME\n    }), container);\n  }\n});\n\n//# sourceURL=webpack:///./ui/features/context_roster_user/index.js?");

/***/ }),

/***/ "uloQ":
/*!**********************************************!*\
  !*** ./ui/shared/alerts/react/FlashAlert.js ***!
  \**********************************************/
/*! exports provided: default, showFlashAlert, destroyContainer, showFlashError, showFlashSuccess */
/***/ (function(module, __webpack_exports__, __webpack_require__) {

"use strict";
eval("__webpack_require__.r(__webpack_exports__);\n/* harmony export (binding) */ __webpack_require__.d(__webpack_exports__, \"default\", function() { return FlashAlert; });\n/* harmony export (binding) */ __webpack_require__.d(__webpack_exports__, \"showFlashAlert\", function() { return showFlashAlert; });\n/* harmony export (binding) */ __webpack_require__.d(__webpack_exports__, \"destroyContainer\", function() { return destroyContainer; });\n/* harmony export (binding) */ __webpack_require__.d(__webpack_exports__, \"showFlashError\", function() { return showFlashError; });\n/* harmony export (binding) */ __webpack_require__.d(__webpack_exports__, \"showFlashSuccess\", function() { return showFlashSuccess; });\n/* harmony import */ var react__WEBPACK_IMPORTED_MODULE_0__ = __webpack_require__(/*! react */ \"q1tI\");\n/* harmony import */ var react__WEBPACK_IMPORTED_MODULE_0___default = /*#__PURE__*/__webpack_require__.n(react__WEBPACK_IMPORTED_MODULE_0__);\n/* harmony import */ var prop_types__WEBPACK_IMPORTED_MODULE_1__ = __webpack_require__(/*! prop-types */ \"17x9\");\n/* harmony import */ var prop_types__WEBPACK_IMPORTED_MODULE_1___default = /*#__PURE__*/__webpack_require__.n(prop_types__WEBPACK_IMPORTED_MODULE_1__);\n/* harmony import */ var react_dom__WEBPACK_IMPORTED_MODULE_2__ = __webpack_require__(/*! react-dom */ \"i8i4\");\n/* harmony import */ var react_dom__WEBPACK_IMPORTED_MODULE_2___default = /*#__PURE__*/__webpack_require__.n(react_dom__WEBPACK_IMPORTED_MODULE_2__);\n/* harmony import */ var i18n_ajaxflashalert__WEBPACK_IMPORTED_MODULE_3__ = __webpack_require__(/*! i18n!ajaxflashalert */ \"10eL\");\n/* harmony import */ var _instructure_ui_alerts__WEBPACK_IMPORTED_MODULE_4__ = __webpack_require__(/*! @instructure/ui-alerts */ \"spba\");\n/* harmony import */ var _instructure_ui_buttons__WEBPACK_IMPORTED_MODULE_5__ = __webpack_require__(/*! @instructure/ui-buttons */ \"K6WN\");\n/* harmony import */ var _instructure_ui_text__WEBPACK_IMPORTED_MODULE_6__ = __webpack_require__(/*! @instructure/ui-text */ \"iE3e\");\n/* harmony import */ var _instructure_ui_a11y_content__WEBPACK_IMPORTED_MODULE_7__ = __webpack_require__(/*! @instructure/ui-a11y-content */ \"9+/z\");\n/* harmony import */ var _instructure_ui_motion__WEBPACK_IMPORTED_MODULE_8__ = __webpack_require__(/*! @instructure/ui-motion */ \"Nl9J\");\n/*\n * Copyright (C) 2017 - present Instructure, Inc.\n *\n * This file is part of Canvas.\n *\n * Canvas is free software: you can redistribute it and/or modify it under\n * the terms of the GNU Affero General Public License as published by the Free\n * Software Foundation, version 3 of the License.\n *\n * Canvas is distributed in the hope that it will be useful, but WITHOUT ANY\n * WARRANTY; without even the implied warranty of MERCHANTABILITY or FITNESS FOR\n * A PARTICULAR PURPOSE. See the GNU Affero General Public License for more\n * details.\n *\n * You should have received a copy of the GNU Affero General Public License along\n * with this program. If not, see <http://www.gnu.org/licenses/>.\n */\n\n/**\n * Flash alerts, especially for ajax error messages\n * Typical usage:\n * import {showFlashError} from './FlashAlert'\n * ...\n * axios.put(url, data).then((response) => {\n *     // do something with response\n *   }).catch(showFlashError(your_error_message))\n *\n * showFlashError() with no argument shows a generic message\n *\n * On error, will display an inst-ui Alert at the top of the page\n * with an error message and \"Details\" button. When the user clicks\n * the button, it shows error details extracted from the axios Error\n *\n * You could also import the lower level showFlashAlert function or\n * the FlashAlert component if you need more control\n *\n * showFlashAlert({ err, message, type }, onCloseCallback)\n *  err: error object\n *  message: user-facing message\n *  type: one of ['info', 'success', 'warning', 'error']\n *        default is 'info' unless an error object is passed in, else is 'error'\n */\n\n\n\n\n\n\n\n\n\nconst messageHolderId = 'flashalert_message_holder'; // specs fail if I reuse jquery's elements\n\nconst screenreaderMessageHolderId = 'flash_screenreader_holder';\nconst timeout = 10000; // An Alert with a message and \"Details\" button which surfaces\n// more info about the error when pressed.\n// Is displayed at the top of the document, and will close itself after a while\n\nclass FlashAlert extends react__WEBPACK_IMPORTED_MODULE_0___default.a.Component {\n  constructor(props) {\n    super(props);\n\n    this.showDetails = () => {\n      this.setState({\n        showDetails: true\n      });\n      clearTimeout(this.timerId);\n      this.timerId = setTimeout(() => this.closeAlert(), this.props.timeout);\n    };\n\n    this.closeAlert = () => {\n      this.setState({\n        isOpen: false\n      }, () => {\n        setTimeout(() => {\n          clearTimeout(this.timerId);\n          this.props.onClose();\n        }, 500);\n      });\n    };\n\n    this.state = {\n      showDetails: false,\n      isOpen: true\n    };\n    this.timerId = 0;\n  }\n\n  getLiveRegion() {\n    // return element where flash screenreader messages go.\n    // create if necessary\n    let liveRegion = document.getElementById(screenreaderMessageHolderId);\n\n    if (!liveRegion) {\n      liveRegion = document.createElement('div');\n      liveRegion.id = screenreaderMessageHolderId;\n      liveRegion.setAttribute('role', 'alert');\n      document.body.appendChild(liveRegion);\n    }\n\n    return liveRegion;\n  }\n\n  findDetailMessage() {\n    const err = this.props.error;\n    let a = err.message;\n    let b;\n\n    if (err.response) {\n      if (err.response.data) {\n        try {\n          if (Array.isArray(err.response.data.errors)) {\n            // probably a canvas api\n            a = err.response.data.errors[0].message;\n            b = err.message;\n          } else if (err.response.data.message) {\n            // probably a canvas api too\n            a = err.response.data.message;\n            b = err.message;\n          }\n        } catch (ignore) {\n          a = err.message;\n        }\n      }\n    }\n\n    return {\n      a,\n      b\n    };\n  }\n\n  renderDetailMessage() {\n    const _this$findDetailMessa = this.findDetailMessage(),\n          a = _this$findDetailMessa.a,\n          b = _this$findDetailMessa.b;\n\n    return /*#__PURE__*/react__WEBPACK_IMPORTED_MODULE_0___default.a.createElement(_instructure_ui_text__WEBPACK_IMPORTED_MODULE_6__[\"Text\"], {\n      as: \"p\",\n      fontStyle: \"italic\"\n    }, /*#__PURE__*/react__WEBPACK_IMPORTED_MODULE_0___default.a.createElement(_instructure_ui_text__WEBPACK_IMPORTED_MODULE_6__[\"Text\"], null, a), b ? /*#__PURE__*/react__WEBPACK_IMPORTED_MODULE_0___default.a.createElement(\"br\", null) : null, b ? /*#__PURE__*/react__WEBPACK_IMPORTED_MODULE_0___default.a.createElement(_instructure_ui_text__WEBPACK_IMPORTED_MODULE_6__[\"Text\"], null, b) : null);\n  }\n\n  render() {\n    let details = null;\n\n    if (this.props.error) {\n      if (this.state.showDetails) {\n        details = this.renderDetailMessage();\n      } else {\n        details = /*#__PURE__*/react__WEBPACK_IMPORTED_MODULE_0___default.a.createElement(\"span\", null, /*#__PURE__*/react__WEBPACK_IMPORTED_MODULE_0___default.a.createElement(_instructure_ui_a11y_content__WEBPACK_IMPORTED_MODULE_7__[\"PresentationContent\"], null, /*#__PURE__*/react__WEBPACK_IMPORTED_MODULE_0___default.a.createElement(_instructure_ui_buttons__WEBPACK_IMPORTED_MODULE_5__[\"Button\"], {\n          variant: \"link\",\n          onClick: this.showDetails\n        }, i18n_ajaxflashalert__WEBPACK_IMPORTED_MODULE_3__[\"default\"].t('Details'))), /*#__PURE__*/react__WEBPACK_IMPORTED_MODULE_0___default.a.createElement(_instructure_ui_a11y_content__WEBPACK_IMPORTED_MODULE_7__[\"ScreenReaderContent\"], null, this.renderDetailMessage()));\n      }\n    }\n\n    return /*#__PURE__*/react__WEBPACK_IMPORTED_MODULE_0___default.a.createElement(_instructure_ui_motion__WEBPACK_IMPORTED_MODULE_8__[\"Transition\"], {\n      transitionOnMount: true,\n      in: this.state.isOpen,\n      type: \"fade\"\n    }, /*#__PURE__*/react__WEBPACK_IMPORTED_MODULE_0___default.a.createElement(_instructure_ui_alerts__WEBPACK_IMPORTED_MODULE_4__[\"Alert\"], {\n      variant: this.props.variant,\n      renderCloseButtonLabel: i18n_ajaxflashalert__WEBPACK_IMPORTED_MODULE_3__[\"default\"].t('Close'),\n      onDismiss: this.closeAlert,\n      margin: \"small auto\",\n      timeout: this.props.timeout,\n      liveRegion: this.getLiveRegion,\n      transition: \"fade\",\n      screenReaderOnly: this.props.screenReaderOnly\n    }, /*#__PURE__*/react__WEBPACK_IMPORTED_MODULE_0___default.a.createElement(\"div\", null, /*#__PURE__*/react__WEBPACK_IMPORTED_MODULE_0___default.a.createElement(\"p\", {\n      style: {\n        margin: '0 -5px'\n      }\n    }, this.props.message), details)));\n  }\n\n}\nFlashAlert.propTypes = {\n  onClose: prop_types__WEBPACK_IMPORTED_MODULE_1___default.a.func.isRequired,\n  message: prop_types__WEBPACK_IMPORTED_MODULE_1___default.a.string.isRequired,\n  error: prop_types__WEBPACK_IMPORTED_MODULE_1___default.a.instanceOf(Error),\n  variant: prop_types__WEBPACK_IMPORTED_MODULE_1___default.a.oneOf(['info', 'success', 'warning', 'error']),\n  timeout: prop_types__WEBPACK_IMPORTED_MODULE_1___default.a.number,\n  screenReaderOnly: prop_types__WEBPACK_IMPORTED_MODULE_1___default.a.bool\n};\nFlashAlert.defaultProps = {\n  error: null,\n  variant: 'info',\n  timeout,\n  screenReaderOnly: false\n};\nfunction showFlashAlert({\n  message,\n  err,\n  type = err ? 'error' : 'info',\n  srOnly = false\n}) {\n  function closeAlert(atNode) {\n    react_dom__WEBPACK_IMPORTED_MODULE_2___default.a.unmountComponentAtNode(atNode);\n    atNode.remove();\n  }\n\n  function getAlertContainer() {\n    let alertContainer = document.getElementById(messageHolderId);\n\n    if (!alertContainer) {\n      alertContainer = document.createElement('div');\n      alertContainer.classList.add('clickthrough-container');\n      alertContainer.id = messageHolderId;\n      alertContainer.setAttribute('style', 'position: fixed; top: 0; left: 0; width: 100%; z-index: 100000;');\n      document.body.appendChild(alertContainer);\n    }\n\n    return alertContainer;\n  }\n\n  function renderAlert(parent) {\n    react_dom__WEBPACK_IMPORTED_MODULE_2___default.a.render( /*#__PURE__*/react__WEBPACK_IMPORTED_MODULE_0___default.a.createElement(FlashAlert, {\n      message: message,\n      timeout: Number.isNaN(parseInt(ENV.flashAlertTimeout, 10)) ? timeout : ENV.flashAlertTimeout,\n      error: err,\n      variant: type,\n      onClose: closeAlert.bind(null, parent) // eslint-disable-line react/jsx-no-bind\n      ,\n      screenReaderOnly: srOnly\n    }), parent);\n  }\n\n  const div = document.createElement('div'); // div.setAttribute('class', styles.flashMessage)\n\n  div.setAttribute('style', 'max-width:50em;margin:1rem auto;');\n  div.setAttribute('class', 'flashalert-message');\n  getAlertContainer().appendChild(div);\n  renderAlert(div);\n}\nfunction destroyContainer() {\n  const container = document.getElementById(messageHolderId);\n  const liveRegion = document.getElementById(screenreaderMessageHolderId);\n  if (container) container.remove();\n  if (liveRegion) liveRegion.remove();\n}\nfunction showFlashError(message = i18n_ajaxflashalert__WEBPACK_IMPORTED_MODULE_3__[\"default\"].t('An error occurred making a network request')) {\n  return err => showFlashAlert({\n    message,\n    err,\n    type: 'error'\n  });\n}\nfunction showFlashSuccess(message) {\n  return () => showFlashAlert({\n    message,\n    type: 'success'\n  });\n}\n\n//# sourceURL=webpack:///./ui/shared/alerts/react/FlashAlert.js?");

/***/ })

}]);