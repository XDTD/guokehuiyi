(window["canvasWebpackJsonp"] = window["canvasWebpackJsonp"] || []).push([[3666],{

/***/ "2tQE":
/*!***************************************************************************************!*\
  !*** ./ui/features/assignments_show_student/react/helpers/UploadMediaTranslations.js ***!
  \***************************************************************************************/
/*! exports provided: MediaCaptureStrings, UploadMediaStrings, SelectStrings */
/***/ (function(module, __webpack_exports__, __webpack_require__) {

"use strict";
eval("__webpack_require__.r(__webpack_exports__);\n/* harmony export (binding) */ __webpack_require__.d(__webpack_exports__, \"MediaCaptureStrings\", function() { return MediaCaptureStrings; });\n/* harmony export (binding) */ __webpack_require__.d(__webpack_exports__, \"UploadMediaStrings\", function() { return UploadMediaStrings; });\n/* harmony export (binding) */ __webpack_require__.d(__webpack_exports__, \"SelectStrings\", function() { return SelectStrings; });\n/* harmony import */ var i18n_media_capture_strings__WEBPACK_IMPORTED_MODULE_0__ = __webpack_require__(/*! i18n!media_capture_strings */ \"Je3Y\");\n/*\n * Copyright (C) 2019 - present Instructure, Inc.\n *\n * This file is part of Canvas.\n *\n * Canvas is free software: you can redistribute it and/or modify it under\n * the terms of the GNU Affero General Public License as published by the Free\n * Software Foundation, version 3 of the License.\n *\n * Canvas is distributed in the hope that it will be useful, but WITHOUT ANY\n * WARRANTY; without even the implied warranty of MERCHANTABILITY or FITNESS FOR\n * A PARTICULAR PURPOSE. See the GNU Affero General Public License for more\n * details.\n *\n * You should have received a copy of the GNU Affero General Public License along\n * with this program. If not, see <http://www.gnu.org/licenses/>.\n */\n\nconst MediaCaptureStrings = {\n  ARIA_VIDEO_LABEL: i18n_media_capture_strings__WEBPACK_IMPORTED_MODULE_0__[\"default\"].t('Video Player'),\n  ARIA_VOLUME: i18n_media_capture_strings__WEBPACK_IMPORTED_MODULE_0__[\"default\"].t('Current Volume Level'),\n  ARIA_RECORDING: i18n_media_capture_strings__WEBPACK_IMPORTED_MODULE_0__[\"default\"].t('Recording'),\n  DEFAULT_ERROR: i18n_media_capture_strings__WEBPACK_IMPORTED_MODULE_0__[\"default\"].t('Something went wrong accessing your mic or webcam.'),\n  DEVICE_AUDIO: i18n_media_capture_strings__WEBPACK_IMPORTED_MODULE_0__[\"default\"].t('Mic'),\n  DEVICE_VIDEO: i18n_media_capture_strings__WEBPACK_IMPORTED_MODULE_0__[\"default\"].t('Webcam'),\n  FILE_PLACEHOLDER: i18n_media_capture_strings__WEBPACK_IMPORTED_MODULE_0__[\"default\"].t('Untitled'),\n  FINISH: i18n_media_capture_strings__WEBPACK_IMPORTED_MODULE_0__[\"default\"].t('Finish'),\n  NO_WEBCAM: i18n_media_capture_strings__WEBPACK_IMPORTED_MODULE_0__[\"default\"].t('No Video'),\n  NOT_ALLOWED_ERROR: i18n_media_capture_strings__WEBPACK_IMPORTED_MODULE_0__[\"default\"].t('Please allow Canvas to access your microphone and webcam.'),\n  NOT_READABLE_ERROR: i18n_media_capture_strings__WEBPACK_IMPORTED_MODULE_0__[\"default\"].t('Your webcam may already be in use.'),\n  PLAYBACK_PAUSE: i18n_media_capture_strings__WEBPACK_IMPORTED_MODULE_0__[\"default\"].t('Pause'),\n  PLAYBACK_PLAY: i18n_media_capture_strings__WEBPACK_IMPORTED_MODULE_0__[\"default\"].t('Play'),\n  PREVIEW: i18n_media_capture_strings__WEBPACK_IMPORTED_MODULE_0__[\"default\"].t('PREVIEW'),\n  SAVE: i18n_media_capture_strings__WEBPACK_IMPORTED_MODULE_0__[\"default\"].t('Save'),\n  SR_FILE_INPUT: i18n_media_capture_strings__WEBPACK_IMPORTED_MODULE_0__[\"default\"].t('File name'),\n  START: i18n_media_capture_strings__WEBPACK_IMPORTED_MODULE_0__[\"default\"].t('Start Recording'),\n  START_OVER: i18n_media_capture_strings__WEBPACK_IMPORTED_MODULE_0__[\"default\"].t('Start Over')\n};\nconst UploadMediaStrings = {\n  LOADING_MEDIA: i18n_media_capture_strings__WEBPACK_IMPORTED_MODULE_0__[\"default\"].t('Loading Media'),\n  PROGRESS_LABEL: i18n_media_capture_strings__WEBPACK_IMPORTED_MODULE_0__[\"default\"].t('Uploading media Progress'),\n  ADD_CLOSED_CAPTIONS_OR_SUBTITLES: i18n_media_capture_strings__WEBPACK_IMPORTED_MODULE_0__[\"default\"].t('Add CC/Subtitle'),\n  COMPUTER_PANEL_TITLE: i18n_media_capture_strings__WEBPACK_IMPORTED_MODULE_0__[\"default\"].t('Computer'),\n  DRAG_FILE_TEXT: i18n_media_capture_strings__WEBPACK_IMPORTED_MODULE_0__[\"default\"].t('Drag a File Here'),\n  RECORD_PANEL_TITLE: i18n_media_capture_strings__WEBPACK_IMPORTED_MODULE_0__[\"default\"].t('Record'),\n  EMBED_PANEL_TITLE: i18n_media_capture_strings__WEBPACK_IMPORTED_MODULE_0__[\"default\"].t('Embed'),\n  SUBMIT_TEXT: i18n_media_capture_strings__WEBPACK_IMPORTED_MODULE_0__[\"default\"].t('Submit'),\n  CLOSE_TEXT: i18n_media_capture_strings__WEBPACK_IMPORTED_MODULE_0__[\"default\"].t('Close'),\n  UPLOAD_MEDIA_LABEL: i18n_media_capture_strings__WEBPACK_IMPORTED_MODULE_0__[\"default\"].t('Upload Media'),\n  CLEAR_FILE_TEXT: i18n_media_capture_strings__WEBPACK_IMPORTED_MODULE_0__[\"default\"].t('Clear selected file'),\n  INVALID_FILE_TEXT: i18n_media_capture_strings__WEBPACK_IMPORTED_MODULE_0__[\"default\"].t('Invalid file type'),\n  DRAG_DROP_CLICK_TO_BROWSE: i18n_media_capture_strings__WEBPACK_IMPORTED_MODULE_0__[\"default\"].t('Drag and drop, or click to browse your computer'),\n  EMBED_VIDEO_CODE_TEXT: i18n_media_capture_strings__WEBPACK_IMPORTED_MODULE_0__[\"default\"].t('Embed Video Code'),\n  UPLOADING_ERROR: i18n_media_capture_strings__WEBPACK_IMPORTED_MODULE_0__[\"default\"].t('Error uploading video/audio recording'),\n  CLOSED_CAPTIONS_PANEL_TITLE: i18n_media_capture_strings__WEBPACK_IMPORTED_MODULE_0__[\"default\"].t('CC/Subtitles'),\n  CLOSED_CAPTIONS_LANGUAGE_HEADER: i18n_media_capture_strings__WEBPACK_IMPORTED_MODULE_0__[\"default\"].t('Language'),\n  CLOSED_CAPTIONS_FILE_NAME_HEADER: i18n_media_capture_strings__WEBPACK_IMPORTED_MODULE_0__[\"default\"].t('File Name'),\n  CLOSED_CAPTIONS_ACTIONS_HEADER: i18n_media_capture_strings__WEBPACK_IMPORTED_MODULE_0__[\"default\"].t('Actions'),\n  CLOSED_CAPTIONS_ADD_SUBTITLE: i18n_media_capture_strings__WEBPACK_IMPORTED_MODULE_0__[\"default\"].t('Subtitle'),\n  CLOSED_CAPTIONS_ADD_SUBTITLE_SCREENREADER: i18n_media_capture_strings__WEBPACK_IMPORTED_MODULE_0__[\"default\"].t('Add Subtitle'),\n  CLOSED_CAPTIONS_CHOOSE_FILE: i18n_media_capture_strings__WEBPACK_IMPORTED_MODULE_0__[\"default\"].t('Choose File'),\n  CLOSED_CAPTIONS_SELECT_LANGUAGE: i18n_media_capture_strings__WEBPACK_IMPORTED_MODULE_0__[\"default\"].t('Select Language'),\n  MEDIA_RECORD_NOT_AVAILABLE: i18n_media_capture_strings__WEBPACK_IMPORTED_MODULE_0__[\"default\"].t('Media record not available'),\n  ADDED_CAPTION: i18n_media_capture_strings__WEBPACK_IMPORTED_MODULE_0__[\"default\"].t('Added caption'),\n  DELETED_CAPTION: i18n_media_capture_strings__WEBPACK_IMPORTED_MODULE_0__[\"default\"].t('Deleted caption'),\n  REMOVE_FILE: i18n_media_capture_strings__WEBPACK_IMPORTED_MODULE_0__[\"default\"].t('Remove file'),\n  NO_FILE_CHOSEN: i18n_media_capture_strings__WEBPACK_IMPORTED_MODULE_0__[\"default\"].t('No file selected'),\n  SUPPORTED_FILE_TYPES: i18n_media_capture_strings__WEBPACK_IMPORTED_MODULE_0__[\"default\"].t('Supported file types: .vtt, .srt'),\n  ADD_NEW_CAPTION_OR_SUBTITLE: i18n_media_capture_strings__WEBPACK_IMPORTED_MODULE_0__[\"default\"].t('Add new caption or subtitle')\n};\nconst SelectStrings = {\n  USE_ARROWS: i18n_media_capture_strings__WEBPACK_IMPORTED_MODULE_0__[\"default\"].t('Use Arrows'),\n  LIST_COLLAPSED: i18n_media_capture_strings__WEBPACK_IMPORTED_MODULE_0__[\"default\"].t('List Collapsed'),\n  LIST_EXPANDED: i18n_media_capture_strings__WEBPACK_IMPORTED_MODULE_0__[\"default\"].t('List Expanded'),\n  OPTION_SELECTED: i18n_media_capture_strings__WEBPACK_IMPORTED_MODULE_0__[\"default\"].t('{option} Selected')\n};\n\n\n//# sourceURL=webpack:///./ui/features/assignments_show_student/react/helpers/UploadMediaTranslations.js?");

/***/ }),

/***/ "4BsA":
/*!***************************************************************************************!*\
  !*** ./frontend_build/i18n.js?closedCaptionLanguages!./ui/shims/dummyI18nResource.js ***!
  \***************************************************************************************/
/*! exports provided: default */
/***/ (function(module, __webpack_exports__, __webpack_require__) {

"use strict";
eval("__webpack_require__.r(__webpack_exports__);\n/* harmony import */ var _canvas_i18n_i18nObj__WEBPACK_IMPORTED_MODULE_0__ = __webpack_require__(/*! @canvas/i18n/i18nObj */ \"HGxv\");\n/* harmony import */ var translations_core_en__WEBPACK_IMPORTED_MODULE_1__ = __webpack_require__(/*! translations/_core_en */ \"0sPK\");\n\n    \n    \n    \n\n    /* harmony default export */ __webpack_exports__[\"default\"] = (_canvas_i18n_i18nObj__WEBPACK_IMPORTED_MODULE_0__[\"default\"].scoped('closedCaptionLanguages'));\n  \n\n//# sourceURL=webpack:///./ui/shims/dummyI18nResource.js?./frontend_build/i18n.js?closedCaptionLanguages");

/***/ }),

/***/ "FOH9":
/*!******************************************************************************************!*\
  !*** ./ui/features/assignments_show_student/react/components/CommentsTray/CommentRow.js ***!
  \******************************************************************************************/
/*! exports provided: default */
/***/ (function(module, __webpack_exports__, __webpack_require__) {

"use strict";
eval("__webpack_require__.r(__webpack_exports__);\n/* harmony export (binding) */ __webpack_require__.d(__webpack_exports__, \"default\", function() { return CommentRow; });\n/* harmony import */ var _instructure_ui_text__WEBPACK_IMPORTED_MODULE_0__ = __webpack_require__(/*! @instructure/ui-text */ \"iE3e\");\n/* harmony import */ var _instructure_ui_badge__WEBPACK_IMPORTED_MODULE_1__ = __webpack_require__(/*! @instructure/ui-badge */ \"BUHT\");\n/* harmony import */ var _instructure_ui_avatar__WEBPACK_IMPORTED_MODULE_2__ = __webpack_require__(/*! @instructure/ui-avatar */ \"KK4r\");\n/* harmony import */ var _instructure_ui_buttons__WEBPACK_IMPORTED_MODULE_3__ = __webpack_require__(/*! @instructure/ui-buttons */ \"K6WN\");\n/* harmony import */ var _canvas_datetime_react_components_FriendlyDatetime__WEBPACK_IMPORTED_MODULE_4__ = __webpack_require__(/*! @canvas/datetime/react/components/FriendlyDatetime */ \"ZDrK\");\n/* harmony import */ var _canvas_mime_react_mimeClassIconHelper__WEBPACK_IMPORTED_MODULE_5__ = __webpack_require__(/*! @canvas/mime/react/mimeClassIconHelper */ \"mRBd\");\n/* harmony import */ var i18n_assignments_2__WEBPACK_IMPORTED_MODULE_6__ = __webpack_require__(/*! i18n!assignments_2 */ \"/ur1\");\n/* harmony import */ var react__WEBPACK_IMPORTED_MODULE_7__ = __webpack_require__(/*! react */ \"q1tI\");\n/* harmony import */ var react__WEBPACK_IMPORTED_MODULE_7___default = /*#__PURE__*/__webpack_require__.n(react__WEBPACK_IMPORTED_MODULE_7__);\n/* harmony import */ var _instructure_ui_a11y_content__WEBPACK_IMPORTED_MODULE_8__ = __webpack_require__(/*! @instructure/ui-a11y-content */ \"9+/z\");\n/* harmony import */ var _canvas_assignments_graphql_student_SubmissionComment__WEBPACK_IMPORTED_MODULE_9__ = __webpack_require__(/*! @canvas/assignments/graphql/student/SubmissionComment */ \"nnA0\");\n/* harmony import */ var _instructure_ui_media_player__WEBPACK_IMPORTED_MODULE_10__ = __webpack_require__(/*! @instructure/ui-media-player */ \"4UDy\");\n/*\n * Copyright (C) 2019 - present Instructure, Inc.\n *\n * This file is part of Canvas.\n *\n * Canvas is free software: you can redistribute it and/or modify it under\n * the terms of the GNU Affero General Public License as published by the Free\n * Software Foundation, version 3 of the License.\n *\n * Canvas is distributed in the hope that it will be useful, but WITHOUT ANY\n * WARRANTY; without even the implied warranty of MERCHANTABILITY or FITNESS FOR\n * A PARTICULAR PURPOSE. See the GNU Affero General Public License for more\n * details.\n *\n * You should have received a copy of the GNU Affero General Public License along\n * with this program. If not, see <http://www.gnu.org/licenses/>.\n */\n\n\n\n\n\n\n\n\n\n\n\nfunction CommentRow(props) {\n  const _props$comment = props.comment,\n        author = _props$comment.author,\n        mediaObject = _props$comment.mediaObject,\n        read = _props$comment.read;\n  let mediaTracks = null;\n\n  if (mediaObject) {\n    mediaObject.mediaSources.forEach(mediaSource => {\n      mediaSource.label = `${mediaSource.width}x${mediaSource.height}`;\n    });\n    mediaTracks = mediaObject === null || mediaObject === void 0 ? void 0 : mediaObject.mediaTracks.map(track => {\n      return {\n        id: track._id,\n        src: `/media_objects/${mediaObject._id}/media_tracks/${track._id}`,\n        label: track.locale,\n        type: track.kind,\n        language: track.locale\n      };\n    });\n  }\n\n  return /*#__PURE__*/react__WEBPACK_IMPORTED_MODULE_7___default.a.createElement(\"div\", {\n    className: \"comment-row-container\",\n    \"data-testid\": \"comment-row\"\n  }, /*#__PURE__*/react__WEBPACK_IMPORTED_MODULE_7___default.a.createElement(\"div\", {\n    className: \"comment-avatar-container\"\n  }, /*#__PURE__*/react__WEBPACK_IMPORTED_MODULE_7___default.a.createElement(\"div\", {\n    style: {\n      display: 'flex',\n      alignItems: 'center'\n    }\n  }, /*#__PURE__*/react__WEBPACK_IMPORTED_MODULE_7___default.a.createElement(_instructure_ui_badge__WEBPACK_IMPORTED_MODULE_1__[\"Badge\"], {\n    margin: \"0 xx-small 0 0\",\n    theme: read ? {\n      colorPrimary: 'white'\n    } : void 0,\n    type: \"notification\",\n    standalone: true\n  }), /*#__PURE__*/react__WEBPACK_IMPORTED_MODULE_7___default.a.createElement(_instructure_ui_avatar__WEBPACK_IMPORTED_MODULE_2__[\"Avatar\"], {\n    name: author ? author.shortName : i18n_assignments_2__WEBPACK_IMPORTED_MODULE_6__[\"default\"].t('Anonymous'),\n    src: author ? author.avatarUrl : '',\n    margin: \"0 small 0 0\",\n    \"data-fs-exclude\": true\n  }))), /*#__PURE__*/react__WEBPACK_IMPORTED_MODULE_7___default.a.createElement(\"div\", {\n    className: \"comment-text-comment-container\"\n  }, !read && /*#__PURE__*/react__WEBPACK_IMPORTED_MODULE_7___default.a.createElement(_instructure_ui_a11y_content__WEBPACK_IMPORTED_MODULE_8__[\"ScreenReaderContent\"], null, i18n_assignments_2__WEBPACK_IMPORTED_MODULE_6__[\"default\"].t('Unread')), /*#__PURE__*/react__WEBPACK_IMPORTED_MODULE_7___default.a.createElement(_instructure_ui_text__WEBPACK_IMPORTED_MODULE_0__[\"Text\"], {\n    weight: \"light\",\n    size: \"small\"\n  }, author ? author.shortName : i18n_assignments_2__WEBPACK_IMPORTED_MODULE_6__[\"default\"].t('Anonymous'), ' ', /*#__PURE__*/react__WEBPACK_IMPORTED_MODULE_7___default.a.createElement(_canvas_datetime_react_components_FriendlyDatetime__WEBPACK_IMPORTED_MODULE_4__[\"default\"], {\n    prefix: i18n_assignments_2__WEBPACK_IMPORTED_MODULE_6__[\"default\"].t('at'),\n    format: i18n_assignments_2__WEBPACK_IMPORTED_MODULE_6__[\"default\"].t('#date.formats.full_with_weekday'),\n    dateTime: props.comment.updatedAt\n  })), /*#__PURE__*/react__WEBPACK_IMPORTED_MODULE_7___default.a.createElement(_instructure_ui_text__WEBPACK_IMPORTED_MODULE_0__[\"Text\"], {\n    color: props.comment._id === 'pending' ? 'secondary' : null,\n    wrap: \"break-word\"\n  }, props.comment.comment), props.comment.attachments.map(attachment => /*#__PURE__*/react__WEBPACK_IMPORTED_MODULE_7___default.a.createElement(_instructure_ui_buttons__WEBPACK_IMPORTED_MODULE_3__[\"Button\"], {\n    variant: \"link\",\n    key: attachment._id,\n    href: attachment.url,\n    icon: Object(_canvas_mime_react_mimeClassIconHelper__WEBPACK_IMPORTED_MODULE_5__[\"getIconByType\"])(attachment.mimeClass),\n    theme: {\n      mediumPaddingHorizontal: '0',\n      mediumHeight: 'normal'\n    }\n  }, attachment.displayName)), mediaObject && /*#__PURE__*/react__WEBPACK_IMPORTED_MODULE_7___default.a.createElement(_instructure_ui_media_player__WEBPACK_IMPORTED_MODULE_10__[\"MediaPlayer\"], {\n    tracks: mediaTracks,\n    sources: mediaObject.mediaSources\n  })));\n}\nCommentRow.propTypes = {\n  comment: _canvas_assignments_graphql_student_SubmissionComment__WEBPACK_IMPORTED_MODULE_9__[\"SubmissionComment\"].shape.isRequired\n};\n\n//# sourceURL=webpack:///./ui/features/assignments_show_student/react/components/CommentsTray/CommentRow.js?");

/***/ }),

/***/ "GmmD":
/*!********************************************************************!*\
  !*** ./ui/features/assignments_show_student/images/NoComments.svg ***!
  \********************************************************************/
/*! no static exports found */
/***/ (function(module, exports, __webpack_require__) {

eval("module.exports = __webpack_require__.p + \"3b81ca57da058a9d375d19f84101a1a6.svg\";\n\n//# sourceURL=webpack:///./ui/features/assignments_show_student/images/NoComments.svg?");

/***/ }),

/***/ "Je3Y":
/*!**************************************************************************************!*\
  !*** ./frontend_build/i18n.js?media_capture_strings!./ui/shims/dummyI18nResource.js ***!
  \**************************************************************************************/
/*! exports provided: default */
/***/ (function(module, __webpack_exports__, __webpack_require__) {

"use strict";
eval("__webpack_require__.r(__webpack_exports__);\n/* harmony import */ var _canvas_i18n_i18nObj__WEBPACK_IMPORTED_MODULE_0__ = __webpack_require__(/*! @canvas/i18n/i18nObj */ \"HGxv\");\n/* harmony import */ var translations_core_en__WEBPACK_IMPORTED_MODULE_1__ = __webpack_require__(/*! translations/_core_en */ \"0sPK\");\n\n    \n    \n    \n\n    /* harmony default export */ __webpack_exports__[\"default\"] = (_canvas_i18n_i18nObj__WEBPACK_IMPORTED_MODULE_0__[\"default\"].scoped('media_capture_strings'));\n  \n\n//# sourceURL=webpack:///./ui/shims/dummyI18nResource.js?./frontend_build/i18n.js?media_capture_strings");

/***/ }),

/***/ "O/6P":
/*!************************************************************************************************!*\
  !*** ./ui/features/assignments_show_student/react/components/CommentsTray/CommentsTrayBody.js ***!
  \************************************************************************************************/
/*! exports provided: default */
/***/ (function(module, __webpack_exports__, __webpack_require__) {

"use strict";
eval("__webpack_require__.r(__webpack_exports__);\n/* harmony export (binding) */ __webpack_require__.d(__webpack_exports__, \"default\", function() { return CommentsTrayBody; });\n/* harmony import */ var _babel_runtime_helpers_esm_objectSpread2__WEBPACK_IMPORTED_MODULE_0__ = __webpack_require__(/*! @babel/runtime/helpers/esm/objectSpread2 */ \"VTBJ\");\n/* harmony import */ var _babel_runtime_helpers_esm_slicedToArray__WEBPACK_IMPORTED_MODULE_1__ = __webpack_require__(/*! @babel/runtime/helpers/esm/slicedToArray */ \"ODXe\");\n/* harmony import */ var _canvas_assignments_graphql_student_Assignment__WEBPACK_IMPORTED_MODULE_2__ = __webpack_require__(/*! @canvas/assignments/graphql/student/Assignment */ \"yXnT\");\n/* harmony import */ var _CommentContent__WEBPACK_IMPORTED_MODULE_3__ = __webpack_require__(/*! ./CommentContent */ \"xpk/\");\n/* harmony import */ var _CommentTextArea__WEBPACK_IMPORTED_MODULE_4__ = __webpack_require__(/*! ./CommentTextArea */ \"P2jM\");\n/* harmony import */ var _canvas_error_boundary__WEBPACK_IMPORTED_MODULE_5__ = __webpack_require__(/*! @canvas/error-boundary */ \"RtK/\");\n/* harmony import */ var _canvas_images_ErrorShip_svg__WEBPACK_IMPORTED_MODULE_6__ = __webpack_require__(/*! @canvas/images/ErrorShip.svg */ \"1sWr\");\n/* harmony import */ var _canvas_images_ErrorShip_svg__WEBPACK_IMPORTED_MODULE_6___default = /*#__PURE__*/__webpack_require__.n(_canvas_images_ErrorShip_svg__WEBPACK_IMPORTED_MODULE_6__);\n/* harmony import */ var _canvas_generic_error_page__WEBPACK_IMPORTED_MODULE_7__ = __webpack_require__(/*! @canvas/generic-error-page */ \"qwzJ\");\n/* harmony import */ var _SVGWithTextPlaceholder__WEBPACK_IMPORTED_MODULE_8__ = __webpack_require__(/*! ../../SVGWithTextPlaceholder */ \"jRG6\");\n/* harmony import */ var _images_ClosedDiscussions_svg__WEBPACK_IMPORTED_MODULE_9__ = __webpack_require__(/*! ../../../images/ClosedDiscussions.svg */ \"/yQH\");\n/* harmony import */ var _images_ClosedDiscussions_svg__WEBPACK_IMPORTED_MODULE_9___default = /*#__PURE__*/__webpack_require__.n(_images_ClosedDiscussions_svg__WEBPACK_IMPORTED_MODULE_9__);\n/* harmony import */ var i18n_assignments_2__WEBPACK_IMPORTED_MODULE_10__ = __webpack_require__(/*! i18n!assignments_2 */ \"/ur1\");\n/* harmony import */ var _canvas_loading_indicator__WEBPACK_IMPORTED_MODULE_11__ = __webpack_require__(/*! @canvas/loading-indicator */ \"7hyl\");\n/* harmony import */ var _instructure_ui_alerts__WEBPACK_IMPORTED_MODULE_12__ = __webpack_require__(/*! @instructure/ui-alerts */ \"spba\");\n/* harmony import */ var _instructure_ui_buttons__WEBPACK_IMPORTED_MODULE_13__ = __webpack_require__(/*! @instructure/ui-buttons */ \"K6WN\");\n/* harmony import */ var _instructure_ui_flex__WEBPACK_IMPORTED_MODULE_14__ = __webpack_require__(/*! @instructure/ui-flex */ \"N46v\");\n/* harmony import */ var react__WEBPACK_IMPORTED_MODULE_15__ = __webpack_require__(/*! react */ \"q1tI\");\n/* harmony import */ var react__WEBPACK_IMPORTED_MODULE_15___default = /*#__PURE__*/__webpack_require__.n(react__WEBPACK_IMPORTED_MODULE_15__);\n/* harmony import */ var _Context__WEBPACK_IMPORTED_MODULE_16__ = __webpack_require__(/*! ../Context */ \"N28T\");\n/* harmony import */ var _canvas_assignments_graphql_student_Queries__WEBPACK_IMPORTED_MODULE_17__ = __webpack_require__(/*! @canvas/assignments/graphql/student/Queries */ \"JZ9k\");\n/* harmony import */ var _canvas_assignments_graphql_student_Submission__WEBPACK_IMPORTED_MODULE_18__ = __webpack_require__(/*! @canvas/assignments/graphql/student/Submission */ \"uqZB\");\n/* harmony import */ var react_apollo__WEBPACK_IMPORTED_MODULE_19__ = __webpack_require__(/*! react-apollo */ \"Uuew\");\n\n\n\n/*\n * Copyright (C) 2021 - present Instructure, Inc.\n *\n * This file is part of Canvas.\n *\n * Canvas is free software: you can redistribute it and/or modify it under\n * the terms of the GNU Affero General Public License as published by the Free\n * Software Foundation, version 3 of the License.\n *\n * Canvas is distributed in the hope that it will be useful, but WITHOUT ANY\n * WARRANTY; without even the implied warranty of MERCHANTABILITY or FITNESS FOR\n * A PARTICULAR PURPOSE. See the GNU Affero General Public License for more\n * details.\n *\n * You should have received a copy of the GNU Affero General Public License along\n * with this program. If not, see <http://www.gnu.org/licenses/>.\n */\n\n\n\n\n\n\n\n\n\n\n\n\n\n\n\n\n\n\nfunction CommentsTrayBody(props) {\n  const _useState = Object(react__WEBPACK_IMPORTED_MODULE_15__[\"useState\"])(false),\n        _useState2 = Object(_babel_runtime_helpers_esm_slicedToArray__WEBPACK_IMPORTED_MODULE_1__[\"default\"])(_useState, 2),\n        isFetchingMoreComments = _useState2[0],\n        setIsFetchingMoreComments = _useState2[1];\n\n  const queryVariables = {\n    submissionId: props.submission.id,\n    submissionAttempt: props.submission.attempt\n  };\n\n  const _useQuery = Object(react_apollo__WEBPACK_IMPORTED_MODULE_19__[\"useQuery\"])(_canvas_assignments_graphql_student_Queries__WEBPACK_IMPORTED_MODULE_17__[\"SUBMISSION_COMMENT_QUERY\"], {\n    variables: queryVariables\n  }),\n        loading = _useQuery.loading,\n        error = _useQuery.error,\n        data = _useQuery.data,\n        fetchMore = _useQuery.fetchMore;\n\n  const loadMoreComments = async () => {\n    setIsFetchingMoreComments(true);\n    await fetchMore({\n      variables: Object(_babel_runtime_helpers_esm_objectSpread2__WEBPACK_IMPORTED_MODULE_0__[\"default\"])({\n        cursor: data.submissionComments.commentsConnection.pageInfo.startCursor\n      }, queryVariables),\n      updateQuery: (previousResult, {\n        fetchMoreResult\n      }) => {\n        const newNodes = fetchMoreResult.submissionComments.commentsConnection.nodes;\n        const newPageInfo = fetchMoreResult.submissionComments.commentsConnection.pageInfo;\n        const results = JSON.parse(JSON.stringify(previousResult));\n        results.submissionComments.commentsConnection.pageInfo = newPageInfo;\n\n        if (newNodes.length) {\n          results.submissionComments.commentsConnection.nodes.push(...newNodes);\n        }\n\n        return results;\n      }\n    });\n    setIsFetchingMoreComments(false);\n  };\n\n  const _useContext = Object(react__WEBPACK_IMPORTED_MODULE_15__[\"useContext\"])(_Context__WEBPACK_IMPORTED_MODULE_16__[\"default\"]),\n        allowChangesToSubmission = _useContext.allowChangesToSubmission;\n\n  if (loading) return /*#__PURE__*/react__WEBPACK_IMPORTED_MODULE_15___default.a.createElement(_canvas_loading_indicator__WEBPACK_IMPORTED_MODULE_11__[\"default\"], null);\n\n  if (error) {\n    return /*#__PURE__*/react__WEBPACK_IMPORTED_MODULE_15___default.a.createElement(_canvas_generic_error_page__WEBPACK_IMPORTED_MODULE_7__[\"default\"], {\n      imageUrl: _canvas_images_ErrorShip_svg__WEBPACK_IMPORTED_MODULE_6___default.a,\n      errorSubject: \"Assignments 2 Student submission comments query error\",\n      errorCategory: \"Assignments 2 Student Error Page\"\n    });\n  }\n\n  const comments = data.submissionComments.commentsConnection.nodes;\n  const hiddenCommentsMessage = i18n_assignments_2__WEBPACK_IMPORTED_MODULE_10__[\"default\"].t('You may not see all comments for this assignment until grades are posted.');\n  return /*#__PURE__*/react__WEBPACK_IMPORTED_MODULE_15___default.a.createElement(_canvas_error_boundary__WEBPACK_IMPORTED_MODULE_5__[\"default\"], {\n    errorComponent: /*#__PURE__*/react__WEBPACK_IMPORTED_MODULE_15___default.a.createElement(_canvas_generic_error_page__WEBPACK_IMPORTED_MODULE_7__[\"default\"], {\n      imageUrl: _canvas_images_ErrorShip_svg__WEBPACK_IMPORTED_MODULE_6___default.a,\n      errorCategory: \"Assignments 2 Student Comment Error Page\"\n    })\n  }, /*#__PURE__*/react__WEBPACK_IMPORTED_MODULE_15___default.a.createElement(_instructure_ui_flex__WEBPACK_IMPORTED_MODULE_14__[\"Flex\"], {\n    as: \"div\",\n    direction: \"column\",\n    height: \"100%\",\n    \"data-testid\": \"comments-container\"\n  }, /*#__PURE__*/react__WEBPACK_IMPORTED_MODULE_15___default.a.createElement(_instructure_ui_flex__WEBPACK_IMPORTED_MODULE_14__[\"Flex\"].Item, {\n    grow: true\n  }, props.submission.gradeHidden && comments.length === 0 && /*#__PURE__*/react__WEBPACK_IMPORTED_MODULE_15___default.a.createElement(_SVGWithTextPlaceholder__WEBPACK_IMPORTED_MODULE_8__[\"default\"], {\n    text: hiddenCommentsMessage,\n    url: _images_ClosedDiscussions_svg__WEBPACK_IMPORTED_MODULE_9___default.a,\n    addMargin: true\n  }), props.submission.gradeHidden && comments.length > 0 && /*#__PURE__*/react__WEBPACK_IMPORTED_MODULE_15___default.a.createElement(_instructure_ui_alerts__WEBPACK_IMPORTED_MODULE_12__[\"Alert\"], {\n    variant: \"info\",\n    margin: \"small small x-large\"\n  }, hiddenCommentsMessage), /*#__PURE__*/react__WEBPACK_IMPORTED_MODULE_15___default.a.createElement(\"div\", {\n    className: \"load-more-comments-button-container\"\n  }, isFetchingMoreComments && /*#__PURE__*/react__WEBPACK_IMPORTED_MODULE_15___default.a.createElement(_canvas_loading_indicator__WEBPACK_IMPORTED_MODULE_11__[\"default\"], null), data.submissionComments.commentsConnection.pageInfo.hasPreviousPage && !isFetchingMoreComments && /*#__PURE__*/react__WEBPACK_IMPORTED_MODULE_15___default.a.createElement(_instructure_ui_buttons__WEBPACK_IMPORTED_MODULE_13__[\"Button\"], {\n    variant: \"primary\",\n    onClick: loadMoreComments\n  }, i18n_assignments_2__WEBPACK_IMPORTED_MODULE_10__[\"default\"].t('Load Previous Comments'))), /*#__PURE__*/react__WEBPACK_IMPORTED_MODULE_15___default.a.createElement(_CommentContent__WEBPACK_IMPORTED_MODULE_3__[\"default\"], {\n    comments: comments,\n    submission: props.submission\n  })), allowChangesToSubmission && /*#__PURE__*/react__WEBPACK_IMPORTED_MODULE_15___default.a.createElement(_instructure_ui_flex__WEBPACK_IMPORTED_MODULE_14__[\"Flex\"].Item, {\n    padding: \"x-small medium\"\n  }, /*#__PURE__*/react__WEBPACK_IMPORTED_MODULE_15___default.a.createElement(_CommentTextArea__WEBPACK_IMPORTED_MODULE_4__[\"default\"], {\n    assignment: props.assignment,\n    submission: props.submission\n  }))));\n}\nCommentsTrayBody.propTypes = {\n  assignment: _canvas_assignments_graphql_student_Assignment__WEBPACK_IMPORTED_MODULE_2__[\"Assignment\"].shape.isRequired,\n  submission: _canvas_assignments_graphql_student_Submission__WEBPACK_IMPORTED_MODULE_18__[\"Submission\"].shape.isRequired\n};\n\n//# sourceURL=webpack:///./ui/features/assignments_show_student/react/components/CommentsTray/CommentsTrayBody.js?");

/***/ }),

/***/ "P2jM":
/*!***********************************************************************************************!*\
  !*** ./ui/features/assignments_show_student/react/components/CommentsTray/CommentTextArea.js ***!
  \***********************************************************************************************/
/*! exports provided: default */
/***/ (function(module, __webpack_exports__, __webpack_require__) {

"use strict";
eval("__webpack_require__.r(__webpack_exports__);\n/* harmony export (binding) */ __webpack_require__.d(__webpack_exports__, \"default\", function() { return CommentTextArea; });\n/* harmony import */ var _babel_runtime_helpers_esm_objectSpread2__WEBPACK_IMPORTED_MODULE_0__ = __webpack_require__(/*! @babel/runtime/helpers/esm/objectSpread2 */ \"VTBJ\");\n/* harmony import */ var i18n_assignments_2__WEBPACK_IMPORTED_MODULE_1__ = __webpack_require__(/*! i18n!assignments_2 */ \"/ur1\");\n/* harmony import */ var _instructure_ui_icons__WEBPACK_IMPORTED_MODULE_2__ = __webpack_require__(/*! @instructure/ui-icons */ \"oMAr\");\n/* harmony import */ var react_apollo__WEBPACK_IMPORTED_MODULE_3__ = __webpack_require__(/*! react-apollo */ \"Uuew\");\n/* harmony import */ var react__WEBPACK_IMPORTED_MODULE_4__ = __webpack_require__(/*! react */ \"q1tI\");\n/* harmony import */ var react__WEBPACK_IMPORTED_MODULE_4___default = /*#__PURE__*/__webpack_require__.n(react__WEBPACK_IMPORTED_MODULE_4__);\n/* harmony import */ var _instructure_ui_a11y_content__WEBPACK_IMPORTED_MODULE_5__ = __webpack_require__(/*! @instructure/ui-a11y-content */ \"9+/z\");\n/* harmony import */ var _instructure_ui_text_area__WEBPACK_IMPORTED_MODULE_6__ = __webpack_require__(/*! @instructure/ui-text-area */ \"SLJK\");\n/* harmony import */ var _instructure_canvas_media__WEBPACK_IMPORTED_MODULE_7__ = __webpack_require__(/*! @instructure/canvas-media */ \"JobW\");\n/* harmony import */ var _canvas_alerts_react_AlertManager__WEBPACK_IMPORTED_MODULE_8__ = __webpack_require__(/*! @canvas/alerts/react/AlertManager */ \"5ynn\");\n/* harmony import */ var _canvas_assignments_graphql_student_Assignment__WEBPACK_IMPORTED_MODULE_9__ = __webpack_require__(/*! @canvas/assignments/graphql/student/Assignment */ \"yXnT\");\n/* harmony import */ var _instructure_ui_buttons__WEBPACK_IMPORTED_MODULE_10__ = __webpack_require__(/*! @instructure/ui-buttons */ \"K6WN\");\n/* harmony import */ var _canvas_util_closedCaptionLanguages__WEBPACK_IMPORTED_MODULE_11__ = __webpack_require__(/*! @canvas/util/closedCaptionLanguages */ \"stQK\");\n/* harmony import */ var _canvas_assignments_graphql_student_Mutations__WEBPACK_IMPORTED_MODULE_12__ = __webpack_require__(/*! @canvas/assignments/graphql/student/Mutations */ \"QSeP\");\n/* harmony import */ var _canvas_mime_react_mimeClassIconHelper__WEBPACK_IMPORTED_MODULE_13__ = __webpack_require__(/*! @canvas/mime/react/mimeClassIconHelper */ \"mRBd\");\n/* harmony import */ var _FileList__WEBPACK_IMPORTED_MODULE_14__ = __webpack_require__(/*! ../../FileList */ \"vUjU\");\n/* harmony import */ var _canvas_loading_indicator__WEBPACK_IMPORTED_MODULE_15__ = __webpack_require__(/*! @canvas/loading-indicator */ \"7hyl\");\n/* harmony import */ var _canvas_assignments_graphql_student_Queries__WEBPACK_IMPORTED_MODULE_16__ = __webpack_require__(/*! @canvas/assignments/graphql/student/Queries */ \"JZ9k\");\n/* harmony import */ var _canvas_upload_file__WEBPACK_IMPORTED_MODULE_17__ = __webpack_require__(/*! @canvas/upload-file */ \"EyBU\");\n/* harmony import */ var _canvas_assignments_graphql_student_Submission__WEBPACK_IMPORTED_MODULE_18__ = __webpack_require__(/*! @canvas/assignments/graphql/student/Submission */ \"uqZB\");\n/* harmony import */ var _helpers_UploadMediaTranslations__WEBPACK_IMPORTED_MODULE_19__ = __webpack_require__(/*! ../../helpers/UploadMediaTranslations */ \"2tQE\");\n\n\n/*\n * Copyright (C) 2019 - present Instructure, Inc.\n *\n * This file is part of Canvas.\n *\n * Canvas is free software: you can redistribute it and/or modify it under\n * the terms of the GNU Affero General Public License as published by the Free\n * Software Foundation, version 3 of the License.\n *\n * Canvas is distributed in the hope that it will be useful, but WITHOUT ANY\n * WARRANTY; without even the implied warranty of MERCHANTABILITY or FITNESS FOR\n * A PARTICULAR PURPOSE. See the GNU Affero General Public License for more\n * details.\n *\n * You should have received a copy of the GNU Affero General Public License along\n * with this program. If not, see <http://www.gnu.org/licenses/>.\n */\n\n\n\n\n\n\n\n\n\n\n\n\n\n\n\n\n\n\n\nconst languages = Object.keys(_canvas_util_closedCaptionLanguages__WEBPACK_IMPORTED_MODULE_11__[\"default\"]).map(key => {\n  return {\n    id: key,\n    label: _canvas_util_closedCaptionLanguages__WEBPACK_IMPORTED_MODULE_11__[\"default\"][key]\n  };\n});\nclass CommentTextArea extends react__WEBPACK_IMPORTED_MODULE_4__[\"Component\"] {\n  constructor(...args) {\n    super(...args);\n    this.state = {\n      commentText: '',\n      currentFiles: [],\n      hasError: false,\n      mediaModalOpen: false,\n      mediaObject: null,\n      uploadingComments: false\n    };\n\n    this.updateSubmissionCommentCache = (cache, result) => {\n      if (result.data.createSubmissionComment.errors) {\n        return;\n      }\n\n      const _JSON$parse = JSON.parse(JSON.stringify(cache.readQuery(this.queryVariables()))),\n            submissionComments = _JSON$parse.submissionComments;\n\n      submissionComments.commentsConnection.nodes = submissionComments.commentsConnection.nodes.concat([result.data.createSubmissionComment.submissionComment]);\n      cache.writeQuery(Object(_babel_runtime_helpers_esm_objectSpread2__WEBPACK_IMPORTED_MODULE_0__[\"default\"])(Object(_babel_runtime_helpers_esm_objectSpread2__WEBPACK_IMPORTED_MODULE_0__[\"default\"])({}, this.queryVariables()), {}, {\n        data: {\n          submissionComments\n        }\n      }));\n    };\n\n    this.onFileSelected = event => {\n      let currIndex = this.state.currentFiles.length ? this.state.currentFiles[this.state.currentFiles.length - 1].id : 0;\n      const selectedFiles = [...event.currentTarget.files];\n      selectedFiles.forEach(file => {\n        file.id = ++currIndex;\n      });\n      this.setState(prevState => ({\n        currentFiles: [...prevState.currentFiles, ...selectedFiles]\n      }));\n    };\n\n    this.onMediaModalDismiss = (err, mediaObject) => {\n      if (!err && !mediaObject) {\n        this.setState({\n          mediaModalOpen: false\n        });\n      } else if (err) {\n        // TODO handle error\n        throw new Error(err);\n      } else {\n        mediaObject.type = 'video/mp4';\n        mediaObject.name = mediaObject.media_object.title;\n        let currIndex = this.state.currentFiles.length ? this.state.currentFiles[this.state.currentFiles.length - 1].id : 0;\n        mediaObject.id = ++currIndex;\n        this.setState(prevState => ({\n          mediaModalOpen: false,\n          mediaObject,\n          currentFiles: [...prevState.currentFiles, mediaObject]\n        }));\n      }\n    };\n\n    this.onSendComment = createSubmissionComment => {\n      this.setState({\n        hasError: false,\n        uploadingComments: true\n      }, async () => {\n        const mediaObject = this.state.mediaObject || {\n          media_object: {\n            media_id: null,\n            media_type: null\n          }\n        };\n        let attachmentIds = [];\n        const filesWithoutMediaObject = this.state.currentFiles.filter(file => file !== this.state.mediaObject);\n\n        if (filesWithoutMediaObject.length) {\n          try {\n            const attachments = await Object(_canvas_upload_file__WEBPACK_IMPORTED_MODULE_17__[\"submissionCommentAttachmentsUpload\"])(filesWithoutMediaObject, this.props.assignment.env.courseId, this.props.assignment._id);\n            attachmentIds = attachments.map(attachment => attachment.id);\n          } catch (err) {\n            this.setState({\n              hasError: true,\n              uploadingComments: false\n            });\n            this.context.setOnFailure(i18n_assignments_2__WEBPACK_IMPORTED_MODULE_1__[\"default\"].t('Error sending submission comment'));\n            return;\n          }\n        }\n\n        await createSubmissionComment({\n          variables: {\n            id: this.props.submission.id,\n            submissionAttempt: this.props.submission.attempt,\n            comment: this.state.commentText,\n            fileIds: attachmentIds,\n            mediaObjectId: mediaObject.media_object.media_id,\n            mediaObjectType: mediaObject.media_object.media_type\n          }\n        });\n        this.setState({\n          commentText: '',\n          mediaObject: null,\n          currentFiles: [],\n          uploadingComments: false\n        }, () => {\n          if (this._commentTextBox) {\n            this._commentTextBox.focus();\n          }\n        });\n      });\n    };\n\n    this.onTextChange = e => {\n      this.setState({\n        commentText: e.target.value\n      });\n    };\n\n    this.handleRemoveFile = refsMap => e => {\n      e.preventDefault();\n      const refs = {};\n      Object.entries(refsMap).forEach(([key, value]) => refs[key] = value);\n      const fileId = parseInt(e.currentTarget.id, 10);\n      const fileIndex = this.state.currentFiles.findIndex(file => file.id === fileId);\n      this.setState(prevState => ({\n        currentFiles: prevState.currentFiles.filter((_, i) => i !== fileIndex)\n      }), () => {\n        if (this.state.currentFiles.length === 0) {\n          this.attachmentFileButton.focus();\n        } else if (fileIndex === 0) {\n          refs[this.state.currentFiles[fileIndex].id].focus();\n        } else {\n          refs[this.state.currentFiles[fileIndex - 1].id].focus();\n        }\n      });\n    };\n\n    this.handleMediaUpload = (error, uploadData, createSubmissionComment) => {\n      if (error) {\n        var _error$file;\n\n        const errorMessage = ((_error$file = error.file) === null || _error$file === void 0 ? void 0 : _error$file.size) > error.maxFileSize * 1024 * 1024 ? i18n_assignments_2__WEBPACK_IMPORTED_MODULE_1__[\"default\"].t('File size exceeds the maximum of %{max} MB', {\n          max: error.maxFileSize\n        }) : _helpers_UploadMediaTranslations__WEBPACK_IMPORTED_MODULE_19__[\"UploadMediaStrings\"].UPLOADING_ERROR;\n        this.context.setOnFailure(errorMessage);\n      } else {\n        this.setState({\n          mediaObject: uploadData.mediaObject\n        }, () => {\n          this.onSendComment(createSubmissionComment);\n        });\n      }\n    };\n  }\n\n  queryVariables() {\n    return {\n      query: _canvas_assignments_graphql_student_Queries__WEBPACK_IMPORTED_MODULE_16__[\"SUBMISSION_COMMENT_QUERY\"],\n      variables: {\n        submissionId: this.props.submission.id,\n        submissionAttempt: this.props.submission.attempt\n      }\n    };\n  }\n\n  optimisticResponse() {\n    return {\n      createSubmissionComment: {\n        errors: null,\n        submissionComment: {\n          _id: 'pending',\n          attachments: [],\n          comment: this.state.commentText,\n          read: true,\n          updatedAt: new Date().toISOString(),\n          author: {\n            avatarUrl: this.props.assignment.env.currentUser.avatar_image_url,\n            shortName: this.props.assignment.env.currentUser.display_name,\n            __typename: 'User'\n          },\n          mediaObject: null,\n          // When we handle upload of media comments we will handle this\n          __typename: 'SubmissionComment'\n        },\n        __typename: 'CreateSubmissionCommentPayload'\n      }\n    };\n  }\n\n  render() {\n    return /*#__PURE__*/react__WEBPACK_IMPORTED_MODULE_4___default.a.createElement(react_apollo__WEBPACK_IMPORTED_MODULE_3__[\"Mutation\"], {\n      onCompleted: result => result.createSubmissionComment.errors ? this.context.setOnFailure(i18n_assignments_2__WEBPACK_IMPORTED_MODULE_1__[\"default\"].t('Error sending submission comment')) : this.context.setOnSuccess(i18n_assignments_2__WEBPACK_IMPORTED_MODULE_1__[\"default\"].t('Submission comment sent')),\n      onError: () => this.context.setOnFailure(i18n_assignments_2__WEBPACK_IMPORTED_MODULE_1__[\"default\"].t('Error sending submission comment')),\n      optimisticResponse: this.optimisticResponse(),\n      update: this.updateSubmissionCommentCache,\n      mutation: _canvas_assignments_graphql_student_Mutations__WEBPACK_IMPORTED_MODULE_12__[\"CREATE_SUBMISSION_COMMENT\"]\n    }, createSubmissionComment => /*#__PURE__*/react__WEBPACK_IMPORTED_MODULE_4___default.a.createElement(\"div\", null, /*#__PURE__*/react__WEBPACK_IMPORTED_MODULE_4___default.a.createElement(\"div\", null, /*#__PURE__*/react__WEBPACK_IMPORTED_MODULE_4___default.a.createElement(_instructure_ui_text_area__WEBPACK_IMPORTED_MODULE_6__[\"TextArea\"], {\n      label: /*#__PURE__*/react__WEBPACK_IMPORTED_MODULE_4___default.a.createElement(_instructure_ui_a11y_content__WEBPACK_IMPORTED_MODULE_5__[\"ScreenReaderContent\"], null, i18n_assignments_2__WEBPACK_IMPORTED_MODULE_1__[\"default\"].t('Comment input box')),\n      onChange: this.onTextChange,\n      placeholder: i18n_assignments_2__WEBPACK_IMPORTED_MODULE_1__[\"default\"].t('Submit a Comment'),\n      ref: el => {\n        this._commentTextBox = el;\n      },\n      value: this.state.commentText\n    }), this.state.uploadingComments && /*#__PURE__*/react__WEBPACK_IMPORTED_MODULE_4___default.a.createElement(_canvas_loading_indicator__WEBPACK_IMPORTED_MODULE_15__[\"default\"], null), this.state.currentFiles.length !== 0 && !this.state.uploadingComments && /*#__PURE__*/react__WEBPACK_IMPORTED_MODULE_4___default.a.createElement(\"div\", {\n      \"data-testid\": \"assignments_2_comment_attachment\"\n    }, /*#__PURE__*/react__WEBPACK_IMPORTED_MODULE_4___default.a.createElement(_FileList__WEBPACK_IMPORTED_MODULE_14__[\"default\"], {\n      files: this.state.currentFiles,\n      removeFileHandler: this.handleRemoveFile,\n      canRemove: true\n    }))), !this.state.uploadingComments && !this.state.hasError && /*#__PURE__*/react__WEBPACK_IMPORTED_MODULE_4___default.a.createElement(\"div\", {\n      className: \"textarea-action-button-container\"\n    }, /*#__PURE__*/react__WEBPACK_IMPORTED_MODULE_4___default.a.createElement(\"input\", {\n      id: \"attachmentFile\",\n      ref: element => {\n        this.fileInput = element;\n      },\n      multiple: true,\n      onChange: this.onFileSelected,\n      style: {\n        display: 'none'\n      },\n      type: \"file\"\n    }), /*#__PURE__*/react__WEBPACK_IMPORTED_MODULE_4___default.a.createElement(_instructure_ui_buttons__WEBPACK_IMPORTED_MODULE_10__[\"Button\"], {\n      id: \"attachmentFileButton\",\n      icon: _canvas_mime_react_mimeClassIconHelper__WEBPACK_IMPORTED_MODULE_13__[\"DEFAULT_ICON\"],\n      margin: \"0 x-small 0 0\",\n      onClick: () => {\n        this.fileInput.click();\n      },\n      ref: element => {\n        this.attachmentFileButton = element;\n      },\n      size: \"small\",\n      variant: \"icon\"\n    }, /*#__PURE__*/react__WEBPACK_IMPORTED_MODULE_4___default.a.createElement(_instructure_ui_a11y_content__WEBPACK_IMPORTED_MODULE_5__[\"ScreenReaderContent\"], null, i18n_assignments_2__WEBPACK_IMPORTED_MODULE_1__[\"default\"].t('Attach a File'))), /*#__PURE__*/react__WEBPACK_IMPORTED_MODULE_4___default.a.createElement(_instructure_ui_buttons__WEBPACK_IMPORTED_MODULE_10__[\"Button\"], {\n      id: \"mediaCommentButton\",\n      onClick: () => this.setState({\n        mediaModalOpen: true\n      }),\n      icon: _instructure_ui_icons__WEBPACK_IMPORTED_MODULE_2__[\"IconAttachMediaLine\"],\n      margin: \"0 x-small 0 0\",\n      size: \"small\",\n      variant: \"icon\",\n      disabled: this.state.mediaObject\n    }, /*#__PURE__*/react__WEBPACK_IMPORTED_MODULE_4___default.a.createElement(_instructure_ui_a11y_content__WEBPACK_IMPORTED_MODULE_5__[\"ScreenReaderContent\"], null, i18n_assignments_2__WEBPACK_IMPORTED_MODULE_1__[\"default\"].t('Record Audio/Video'))), /*#__PURE__*/react__WEBPACK_IMPORTED_MODULE_4___default.a.createElement(_instructure_canvas_media__WEBPACK_IMPORTED_MODULE_7__[\"default\"], {\n      contextId: this.props.assignment.env.courseId,\n      contextType: \"course\",\n      languages: languages,\n      liveRegion: () => document.getElementById('flash_screenreader_holder'),\n      onDismiss: this.onMediaModalDismiss,\n      onUploadComplete: (error, data) => {\n        this.handleMediaUpload(error, data, createSubmissionComment);\n      },\n      open: this.state.mediaModalOpen,\n      rcsConfig: {\n        contextId: this.props.assignment.env.courseId,\n        contextType: 'course'\n      },\n      tabs: {\n        embed: false,\n        record: true,\n        upload: true\n      },\n      uploadMediaTranslations: {\n        UploadMediaStrings: _helpers_UploadMediaTranslations__WEBPACK_IMPORTED_MODULE_19__[\"UploadMediaStrings\"],\n        MediaCaptureStrings: _helpers_UploadMediaTranslations__WEBPACK_IMPORTED_MODULE_19__[\"MediaCaptureStrings\"]\n      },\n      disableSubmitWhileUploading: true\n    }), /*#__PURE__*/react__WEBPACK_IMPORTED_MODULE_4___default.a.createElement(_instructure_ui_buttons__WEBPACK_IMPORTED_MODULE_10__[\"Button\"], {\n      disabled: this.state.commentText.length === 0 && this.state.currentFiles.length === 0,\n      onClick: () => this.onSendComment(createSubmissionComment)\n    }, i18n_assignments_2__WEBPACK_IMPORTED_MODULE_1__[\"default\"].t('Send Comment')))));\n  }\n\n}\nCommentTextArea.propTypes = {\n  assignment: _canvas_assignments_graphql_student_Assignment__WEBPACK_IMPORTED_MODULE_9__[\"Assignment\"].shape,\n  submission: _canvas_assignments_graphql_student_Submission__WEBPACK_IMPORTED_MODULE_18__[\"Submission\"].shape\n};\nCommentTextArea.contextType = _canvas_alerts_react_AlertManager__WEBPACK_IMPORTED_MODULE_8__[\"AlertManagerContext\"];\n\n//# sourceURL=webpack:///./ui/features/assignments_show_student/react/components/CommentsTray/CommentTextArea.js?");

/***/ }),

/***/ "VCL8":
/*!****************************************************************************!*\
  !*** ./node_modules/react-lifecycles-compat/react-lifecycles-compat.es.js ***!
  \****************************************************************************/
/*! exports provided: polyfill */
/***/ (function(module, __webpack_exports__, __webpack_require__) {

"use strict";
eval("__webpack_require__.r(__webpack_exports__);\n/* harmony export (binding) */ __webpack_require__.d(__webpack_exports__, \"polyfill\", function() { return polyfill; });\n/**\n * Copyright (c) 2013-present, Facebook, Inc.\n *\n * This source code is licensed under the MIT license found in the\n * LICENSE file in the root directory of this source tree.\n */\n\nfunction componentWillMount() {\n  // Call this.constructor.gDSFP to support sub-classes.\n  var state = this.constructor.getDerivedStateFromProps(this.props, this.state);\n  if (state !== null && state !== undefined) {\n    this.setState(state);\n  }\n}\n\nfunction componentWillReceiveProps(nextProps) {\n  // Call this.constructor.gDSFP to support sub-classes.\n  // Use the setState() updater to ensure state isn't stale in certain edge cases.\n  function updater(prevState) {\n    var state = this.constructor.getDerivedStateFromProps(nextProps, prevState);\n    return state !== null && state !== undefined ? state : null;\n  }\n  // Binding \"this\" is important for shallow renderer support.\n  this.setState(updater.bind(this));\n}\n\nfunction componentWillUpdate(nextProps, nextState) {\n  try {\n    var prevProps = this.props;\n    var prevState = this.state;\n    this.props = nextProps;\n    this.state = nextState;\n    this.__reactInternalSnapshotFlag = true;\n    this.__reactInternalSnapshot = this.getSnapshotBeforeUpdate(\n      prevProps,\n      prevState\n    );\n  } finally {\n    this.props = prevProps;\n    this.state = prevState;\n  }\n}\n\n// React may warn about cWM/cWRP/cWU methods being deprecated.\n// Add a flag to suppress these warnings for this special case.\ncomponentWillMount.__suppressDeprecationWarning = true;\ncomponentWillReceiveProps.__suppressDeprecationWarning = true;\ncomponentWillUpdate.__suppressDeprecationWarning = true;\n\nfunction polyfill(Component) {\n  var prototype = Component.prototype;\n\n  if (!prototype || !prototype.isReactComponent) {\n    throw new Error('Can only polyfill class components');\n  }\n\n  if (\n    typeof Component.getDerivedStateFromProps !== 'function' &&\n    typeof prototype.getSnapshotBeforeUpdate !== 'function'\n  ) {\n    return Component;\n  }\n\n  // If new component APIs are defined, \"unsafe\" lifecycles won't be called.\n  // Error if any of these lifecycles are present,\n  // Because they would work differently between older and newer (16.3+) versions of React.\n  var foundWillMountName = null;\n  var foundWillReceivePropsName = null;\n  var foundWillUpdateName = null;\n  if (typeof prototype.componentWillMount === 'function') {\n    foundWillMountName = 'componentWillMount';\n  } else if (typeof prototype.UNSAFE_componentWillMount === 'function') {\n    foundWillMountName = 'UNSAFE_componentWillMount';\n  }\n  if (typeof prototype.componentWillReceiveProps === 'function') {\n    foundWillReceivePropsName = 'componentWillReceiveProps';\n  } else if (typeof prototype.UNSAFE_componentWillReceiveProps === 'function') {\n    foundWillReceivePropsName = 'UNSAFE_componentWillReceiveProps';\n  }\n  if (typeof prototype.componentWillUpdate === 'function') {\n    foundWillUpdateName = 'componentWillUpdate';\n  } else if (typeof prototype.UNSAFE_componentWillUpdate === 'function') {\n    foundWillUpdateName = 'UNSAFE_componentWillUpdate';\n  }\n  if (\n    foundWillMountName !== null ||\n    foundWillReceivePropsName !== null ||\n    foundWillUpdateName !== null\n  ) {\n    var componentName = Component.displayName || Component.name;\n    var newApiName =\n      typeof Component.getDerivedStateFromProps === 'function'\n        ? 'getDerivedStateFromProps()'\n        : 'getSnapshotBeforeUpdate()';\n\n    throw Error(\n      'Unsafe legacy lifecycles will not be called for components using new component APIs.\\n\\n' +\n        componentName +\n        ' uses ' +\n        newApiName +\n        ' but also contains the following legacy lifecycles:' +\n        (foundWillMountName !== null ? '\\n  ' + foundWillMountName : '') +\n        (foundWillReceivePropsName !== null\n          ? '\\n  ' + foundWillReceivePropsName\n          : '') +\n        (foundWillUpdateName !== null ? '\\n  ' + foundWillUpdateName : '') +\n        '\\n\\nThe above lifecycles should be removed. Learn more about this warning here:\\n' +\n        'https://fb.me/react-async-component-lifecycle-hooks'\n    );\n  }\n\n  // React <= 16.2 does not support static getDerivedStateFromProps.\n  // As a workaround, use cWM and cWRP to invoke the new static lifecycle.\n  // Newer versions of React will ignore these lifecycles if gDSFP exists.\n  if (typeof Component.getDerivedStateFromProps === 'function') {\n    prototype.componentWillMount = componentWillMount;\n    prototype.componentWillReceiveProps = componentWillReceiveProps;\n  }\n\n  // React <= 16.2 does not support getSnapshotBeforeUpdate.\n  // As a workaround, use cWU to invoke the new lifecycle.\n  // Newer versions of React will ignore that lifecycle if gSBU exists.\n  if (typeof prototype.getSnapshotBeforeUpdate === 'function') {\n    if (typeof prototype.componentDidUpdate !== 'function') {\n      throw new Error(\n        'Cannot polyfill getSnapshotBeforeUpdate() for components that do not define componentDidUpdate() on the prototype'\n      );\n    }\n\n    prototype.componentWillUpdate = componentWillUpdate;\n\n    var componentDidUpdate = prototype.componentDidUpdate;\n\n    prototype.componentDidUpdate = function componentDidUpdatePolyfill(\n      prevProps,\n      prevState,\n      maybeSnapshot\n    ) {\n      // 16.3+ will not execute our will-update method;\n      // It will pass a snapshot value to did-update though.\n      // Older versions will require our polyfilled will-update value.\n      // We need to handle both cases, but can't just check for the presence of \"maybeSnapshot\",\n      // Because for <= 15.x versions this might be a \"prevContext\" object.\n      // We also can't just check \"__reactInternalSnapshot\",\n      // Because get-snapshot might return a falsy value.\n      // So check for the explicit __reactInternalSnapshotFlag flag to determine behavior.\n      var snapshot = this.__reactInternalSnapshotFlag\n        ? this.__reactInternalSnapshot\n        : maybeSnapshot;\n\n      componentDidUpdate.call(this, prevProps, prevState, snapshot);\n    };\n  }\n\n  return Component;\n}\n\n\n\n\n//# sourceURL=webpack:///./node_modules/react-lifecycles-compat/react-lifecycles-compat.es.js?");

/***/ }),

/***/ "mRBd":
/*!*****************************************************!*\
  !*** ./ui/shared/mime/react/mimeClassIconHelper.js ***!
  \*****************************************************/
/*! exports provided: DEFAULT_ICON, ICON_TYPES, getIconByType */
/***/ (function(module, __webpack_exports__, __webpack_require__) {

"use strict";
eval("__webpack_require__.r(__webpack_exports__);\n/* harmony export (binding) */ __webpack_require__.d(__webpack_exports__, \"DEFAULT_ICON\", function() { return DEFAULT_ICON; });\n/* harmony export (binding) */ __webpack_require__.d(__webpack_exports__, \"ICON_TYPES\", function() { return ICON_TYPES; });\n/* harmony export (binding) */ __webpack_require__.d(__webpack_exports__, \"getIconByType\", function() { return getIconByType; });\n/* harmony import */ var react__WEBPACK_IMPORTED_MODULE_0__ = __webpack_require__(/*! react */ \"q1tI\");\n/* harmony import */ var react__WEBPACK_IMPORTED_MODULE_0___default = /*#__PURE__*/__webpack_require__.n(react__WEBPACK_IMPORTED_MODULE_0__);\n/* harmony import */ var _instructure_ui_icons__WEBPACK_IMPORTED_MODULE_1__ = __webpack_require__(/*! @instructure/ui-icons */ \"oMAr\");\n/*\n * Copyright (C) 2019 - present Instructure, Inc.\n *\n * This file is part of Canvas.\n *\n * Canvas is free software: you can redistribute it and/or modify it under\n * the terms of the GNU Affero General Public License as published by the Free\n * Software Foundation, version 3 of the License.\n *\n * Canvas is distributed in the hope that it will be useful, but WITHOUT ANY\n * WARRANTY; without even the implied warranty of MERCHANTABILITY or FITNESS FOR\n * A PARTICULAR PURPOSE. See the GNU Affero General Public License for more\n * details.\n *\n * You should have received a copy of the GNU Affero General Public License along\n * with this program. If not, see <http://www.gnu.org/licenses/>.\n */\n\n\nconst DEFAULT_ICON = /*#__PURE__*/react__WEBPACK_IMPORTED_MODULE_0___default.a.createElement(_instructure_ui_icons__WEBPACK_IMPORTED_MODULE_1__[\"IconPaperclipLine\"], null);\nconst ICON_TYPES = {\n  audio: /*#__PURE__*/react__WEBPACK_IMPORTED_MODULE_0___default.a.createElement(_instructure_ui_icons__WEBPACK_IMPORTED_MODULE_1__[\"IconAttachMediaLine\"], null),\n  code: /*#__PURE__*/react__WEBPACK_IMPORTED_MODULE_0___default.a.createElement(_instructure_ui_icons__WEBPACK_IMPORTED_MODULE_1__[\"IconCodeLine\"], null),\n  doc: /*#__PURE__*/react__WEBPACK_IMPORTED_MODULE_0___default.a.createElement(_instructure_ui_icons__WEBPACK_IMPORTED_MODULE_1__[\"IconDocumentLine\"], null),\n  file: /*#__PURE__*/react__WEBPACK_IMPORTED_MODULE_0___default.a.createElement(_instructure_ui_icons__WEBPACK_IMPORTED_MODULE_1__[\"IconPaperclipLine\"], null),\n  flash: /*#__PURE__*/react__WEBPACK_IMPORTED_MODULE_0___default.a.createElement(_instructure_ui_icons__WEBPACK_IMPORTED_MODULE_1__[\"IconPaperclipLine\"], null),\n  folder: /*#__PURE__*/react__WEBPACK_IMPORTED_MODULE_0___default.a.createElement(_instructure_ui_icons__WEBPACK_IMPORTED_MODULE_1__[\"IconFolderLine\"], null),\n  'folder-locked': /*#__PURE__*/react__WEBPACK_IMPORTED_MODULE_0___default.a.createElement(_instructure_ui_icons__WEBPACK_IMPORTED_MODULE_1__[\"IconFolderLockedLine\"], null),\n  html: /*#__PURE__*/react__WEBPACK_IMPORTED_MODULE_0___default.a.createElement(_instructure_ui_icons__WEBPACK_IMPORTED_MODULE_1__[\"IconCodeLine\"], null),\n  image: /*#__PURE__*/react__WEBPACK_IMPORTED_MODULE_0___default.a.createElement(_instructure_ui_icons__WEBPACK_IMPORTED_MODULE_1__[\"IconImageLine\"], null),\n  pdf: /*#__PURE__*/react__WEBPACK_IMPORTED_MODULE_0___default.a.createElement(_instructure_ui_icons__WEBPACK_IMPORTED_MODULE_1__[\"IconPdfLine\"], null),\n  ppt: /*#__PURE__*/react__WEBPACK_IMPORTED_MODULE_0___default.a.createElement(_instructure_ui_icons__WEBPACK_IMPORTED_MODULE_1__[\"IconMsPptLine\"], null),\n  text: /*#__PURE__*/react__WEBPACK_IMPORTED_MODULE_0___default.a.createElement(_instructure_ui_icons__WEBPACK_IMPORTED_MODULE_1__[\"IconDocumentLine\"], null),\n  video: /*#__PURE__*/react__WEBPACK_IMPORTED_MODULE_0___default.a.createElement(_instructure_ui_icons__WEBPACK_IMPORTED_MODULE_1__[\"IconAttachMediaLine\"], null),\n  xls: /*#__PURE__*/react__WEBPACK_IMPORTED_MODULE_0___default.a.createElement(_instructure_ui_icons__WEBPACK_IMPORTED_MODULE_1__[\"IconMsExcelLine\"], null),\n  zip: /*#__PURE__*/react__WEBPACK_IMPORTED_MODULE_0___default.a.createElement(_instructure_ui_icons__WEBPACK_IMPORTED_MODULE_1__[\"IconZippedLine\"], null)\n};\nfunction getIconByType(attachment_type) {\n  return ICON_TYPES[attachment_type] || DEFAULT_ICON;\n}\n\n//# sourceURL=webpack:///./ui/shared/mime/react/mimeClassIconHelper.js?");

/***/ }),

/***/ "stQK":
/*!**************************************************!*\
  !*** ./ui/shared/util/closedCaptionLanguages.js ***!
  \**************************************************/
/*! exports provided: default */
/***/ (function(module, __webpack_exports__, __webpack_require__) {

"use strict";
eval("__webpack_require__.r(__webpack_exports__);\n/* harmony import */ var i18n_closedCaptionLanguages__WEBPACK_IMPORTED_MODULE_0__ = __webpack_require__(/*! i18n!closedCaptionLanguages */ \"4BsA\");\n/*\n * Copyright (C) 2018 - present Instructure, Inc.\n *\n * This file is part of Canvas.\n *\n * Canvas is free software: you can redistribute it and/or modify it under\n * the terms of the GNU Affero General Public License as published by the Free\n * Software Foundation, version 3 of the License.\n *\n * Canvas is distributed in the hope that it will be useful, but WITHOUT ANY\n * WARRANTY; without even the implied warranty of MERCHANTABILITY or FITNESS FOR\n * A PARTICULAR PURPOSE. See the GNU Affero General Public License for more\n * details.\n *\n * You should have received a copy of the GNU Affero General Public License along\n * with this program. If not, see <http://www.gnu.org/licenses/>.\n */\n\nconst closedCaptionLanguages = {\n  get af() {\n    return i18n_closedCaptionLanguages__WEBPACK_IMPORTED_MODULE_0__[\"default\"].t('Afrikaans');\n  },\n\n  get sq() {\n    return i18n_closedCaptionLanguages__WEBPACK_IMPORTED_MODULE_0__[\"default\"].t('Albanian');\n  },\n\n  get ar() {\n    return i18n_closedCaptionLanguages__WEBPACK_IMPORTED_MODULE_0__[\"default\"].t('Arabic');\n  },\n\n  get be() {\n    return i18n_closedCaptionLanguages__WEBPACK_IMPORTED_MODULE_0__[\"default\"].t('Belarusian');\n  },\n\n  get bg() {\n    return i18n_closedCaptionLanguages__WEBPACK_IMPORTED_MODULE_0__[\"default\"].t('Bulgarian');\n  },\n\n  get ca() {\n    return i18n_closedCaptionLanguages__WEBPACK_IMPORTED_MODULE_0__[\"default\"].t('Catalan');\n  },\n\n  get zh() {\n    return i18n_closedCaptionLanguages__WEBPACK_IMPORTED_MODULE_0__[\"default\"].t('Chinese');\n  },\n\n  get hr() {\n    return i18n_closedCaptionLanguages__WEBPACK_IMPORTED_MODULE_0__[\"default\"].t('Croatian');\n  },\n\n  get cs() {\n    return i18n_closedCaptionLanguages__WEBPACK_IMPORTED_MODULE_0__[\"default\"].t('Czech');\n  },\n\n  get da() {\n    return i18n_closedCaptionLanguages__WEBPACK_IMPORTED_MODULE_0__[\"default\"].t('Danish');\n  },\n\n  get nl() {\n    return i18n_closedCaptionLanguages__WEBPACK_IMPORTED_MODULE_0__[\"default\"].t('Dutch');\n  },\n\n  get en() {\n    return i18n_closedCaptionLanguages__WEBPACK_IMPORTED_MODULE_0__[\"default\"].t('English');\n  },\n\n  get et() {\n    return i18n_closedCaptionLanguages__WEBPACK_IMPORTED_MODULE_0__[\"default\"].t('Estonian');\n  },\n\n  get fl() {\n    return i18n_closedCaptionLanguages__WEBPACK_IMPORTED_MODULE_0__[\"default\"].t('Filipino');\n  },\n\n  get fi() {\n    return i18n_closedCaptionLanguages__WEBPACK_IMPORTED_MODULE_0__[\"default\"].t('Finnish');\n  },\n\n  get fr() {\n    return i18n_closedCaptionLanguages__WEBPACK_IMPORTED_MODULE_0__[\"default\"].t('French');\n  },\n\n  get gl() {\n    return i18n_closedCaptionLanguages__WEBPACK_IMPORTED_MODULE_0__[\"default\"].t('Galician');\n  },\n\n  get de() {\n    return i18n_closedCaptionLanguages__WEBPACK_IMPORTED_MODULE_0__[\"default\"].t('German');\n  },\n\n  get el() {\n    return i18n_closedCaptionLanguages__WEBPACK_IMPORTED_MODULE_0__[\"default\"].t('Greek');\n  },\n\n  get ht() {\n    return i18n_closedCaptionLanguages__WEBPACK_IMPORTED_MODULE_0__[\"default\"].t('Haitian Creole');\n  },\n\n  get hi() {\n    return i18n_closedCaptionLanguages__WEBPACK_IMPORTED_MODULE_0__[\"default\"].t('Hindi');\n  },\n\n  get hu() {\n    return i18n_closedCaptionLanguages__WEBPACK_IMPORTED_MODULE_0__[\"default\"].t('Hungarian');\n  },\n\n  get is() {\n    return i18n_closedCaptionLanguages__WEBPACK_IMPORTED_MODULE_0__[\"default\"].t('Icelandic');\n  },\n\n  get id() {\n    return i18n_closedCaptionLanguages__WEBPACK_IMPORTED_MODULE_0__[\"default\"].t('Indonesian');\n  },\n\n  get ga() {\n    return i18n_closedCaptionLanguages__WEBPACK_IMPORTED_MODULE_0__[\"default\"].t('Irish');\n  },\n\n  get it() {\n    return i18n_closedCaptionLanguages__WEBPACK_IMPORTED_MODULE_0__[\"default\"].t('Italian');\n  },\n\n  get ja() {\n    return i18n_closedCaptionLanguages__WEBPACK_IMPORTED_MODULE_0__[\"default\"].t('Japanese');\n  },\n\n  get ko() {\n    return i18n_closedCaptionLanguages__WEBPACK_IMPORTED_MODULE_0__[\"default\"].t('Korean');\n  },\n\n  get lv() {\n    return i18n_closedCaptionLanguages__WEBPACK_IMPORTED_MODULE_0__[\"default\"].t('Latvian');\n  },\n\n  get lt() {\n    return i18n_closedCaptionLanguages__WEBPACK_IMPORTED_MODULE_0__[\"default\"].t('Lithuanian');\n  },\n\n  get mk() {\n    return i18n_closedCaptionLanguages__WEBPACK_IMPORTED_MODULE_0__[\"default\"].t('Macedonian');\n  },\n\n  get ms() {\n    return i18n_closedCaptionLanguages__WEBPACK_IMPORTED_MODULE_0__[\"default\"].t('Malay');\n  },\n\n  get mt() {\n    return i18n_closedCaptionLanguages__WEBPACK_IMPORTED_MODULE_0__[\"default\"].t('Maltese');\n  },\n\n  get no() {\n    return i18n_closedCaptionLanguages__WEBPACK_IMPORTED_MODULE_0__[\"default\"].t('Norwegian');\n  },\n\n  get fa() {\n    return i18n_closedCaptionLanguages__WEBPACK_IMPORTED_MODULE_0__[\"default\"].t('Persian');\n  },\n\n  get pl() {\n    return i18n_closedCaptionLanguages__WEBPACK_IMPORTED_MODULE_0__[\"default\"].t('Polish');\n  },\n\n  get pt() {\n    return i18n_closedCaptionLanguages__WEBPACK_IMPORTED_MODULE_0__[\"default\"].t('Portuguese');\n  },\n\n  get ro() {\n    return i18n_closedCaptionLanguages__WEBPACK_IMPORTED_MODULE_0__[\"default\"].t('Romanian');\n  },\n\n  get ru() {\n    return i18n_closedCaptionLanguages__WEBPACK_IMPORTED_MODULE_0__[\"default\"].t('Russian');\n  },\n\n  get sr() {\n    return i18n_closedCaptionLanguages__WEBPACK_IMPORTED_MODULE_0__[\"default\"].t('Serbian');\n  },\n\n  get sk() {\n    return i18n_closedCaptionLanguages__WEBPACK_IMPORTED_MODULE_0__[\"default\"].t('Slovak');\n  },\n\n  get sl() {\n    return i18n_closedCaptionLanguages__WEBPACK_IMPORTED_MODULE_0__[\"default\"].t('Slovenian');\n  },\n\n  get es() {\n    return i18n_closedCaptionLanguages__WEBPACK_IMPORTED_MODULE_0__[\"default\"].t('Spanish');\n  },\n\n  get sw() {\n    return i18n_closedCaptionLanguages__WEBPACK_IMPORTED_MODULE_0__[\"default\"].t('Swahili');\n  },\n\n  get sv() {\n    return i18n_closedCaptionLanguages__WEBPACK_IMPORTED_MODULE_0__[\"default\"].t('Swedish');\n  },\n\n  get tl() {\n    return i18n_closedCaptionLanguages__WEBPACK_IMPORTED_MODULE_0__[\"default\"].t('Tagalog');\n  },\n\n  get th() {\n    return i18n_closedCaptionLanguages__WEBPACK_IMPORTED_MODULE_0__[\"default\"].t('Thai');\n  },\n\n  get tr() {\n    return i18n_closedCaptionLanguages__WEBPACK_IMPORTED_MODULE_0__[\"default\"].t('Turkish');\n  },\n\n  get uk() {\n    return i18n_closedCaptionLanguages__WEBPACK_IMPORTED_MODULE_0__[\"default\"].t('Ukrainian');\n  },\n\n  get vi() {\n    return i18n_closedCaptionLanguages__WEBPACK_IMPORTED_MODULE_0__[\"default\"].t('Vietnamese');\n  },\n\n  get cy() {\n    return i18n_closedCaptionLanguages__WEBPACK_IMPORTED_MODULE_0__[\"default\"].t('Welsh');\n  },\n\n  get yi() {\n    return i18n_closedCaptionLanguages__WEBPACK_IMPORTED_MODULE_0__[\"default\"].t('Yiddish');\n  },\n\n  get 'en-CA'() {\n    return i18n_closedCaptionLanguages__WEBPACK_IMPORTED_MODULE_0__[\"default\"].t('English (Canada)');\n  },\n\n  // added when we expanded CC languages to all\n  // those supported in canvas\n  get 'en-AU'() {\n    return i18n_closedCaptionLanguages__WEBPACK_IMPORTED_MODULE_0__[\"default\"].t('English (Australia)');\n  },\n\n  get 'en-GB'() {\n    return i18n_closedCaptionLanguages__WEBPACK_IMPORTED_MODULE_0__[\"default\"].t('English (United Kingdom)');\n  },\n\n  get 'fr-CA'() {\n    return i18n_closedCaptionLanguages__WEBPACK_IMPORTED_MODULE_0__[\"default\"].t('French (Canada)');\n  },\n\n  get he() {\n    return i18n_closedCaptionLanguages__WEBPACK_IMPORTED_MODULE_0__[\"default\"].t('Hebrew');\n  },\n\n  get hy() {\n    return i18n_closedCaptionLanguages__WEBPACK_IMPORTED_MODULE_0__[\"default\"].t('Armenian');\n  },\n\n  get mi() {\n    return i18n_closedCaptionLanguages__WEBPACK_IMPORTED_MODULE_0__[\"default\"].t('Māori (New Zealand)');\n  },\n\n  get nb() {\n    return i18n_closedCaptionLanguages__WEBPACK_IMPORTED_MODULE_0__[\"default\"].t('Norwegian Bokmål');\n  },\n\n  get nn() {\n    return i18n_closedCaptionLanguages__WEBPACK_IMPORTED_MODULE_0__[\"default\"].t('Norwegian Nynorsk');\n  },\n\n  get 'zh-Hans'() {\n    return i18n_closedCaptionLanguages__WEBPACK_IMPORTED_MODULE_0__[\"default\"].t('Chinese Simplified');\n  },\n\n  get 'zh-Hant'() {\n    return i18n_closedCaptionLanguages__WEBPACK_IMPORTED_MODULE_0__[\"default\"].t('Chinese Traditional');\n  }\n\n};\n/* harmony default export */ __webpack_exports__[\"default\"] = (closedCaptionLanguages);\n\n//# sourceURL=webpack:///./ui/shared/util/closedCaptionLanguages.js?");

/***/ }),

/***/ "vUjU":
/*!****************************************************************!*\
  !*** ./ui/features/assignments_show_student/react/FileList.js ***!
  \****************************************************************/
/*! exports provided: default */
/***/ (function(module, __webpack_exports__, __webpack_require__) {

"use strict";
eval("__webpack_require__.r(__webpack_exports__);\n/* harmony import */ var _canvas_mime_react_mimeClassIconHelper__WEBPACK_IMPORTED_MODULE_0__ = __webpack_require__(/*! @canvas/mime/react/mimeClassIconHelper */ \"mRBd\");\n/* harmony import */ var i18n_assignments_2__WEBPACK_IMPORTED_MODULE_1__ = __webpack_require__(/*! i18n!assignments_2 */ \"/ur1\");\n/* harmony import */ var _canvas_mime_mimeClass__WEBPACK_IMPORTED_MODULE_2__ = __webpack_require__(/*! @canvas/mime/mimeClass */ \"scx4\");\n/* harmony import */ var prop_types__WEBPACK_IMPORTED_MODULE_3__ = __webpack_require__(/*! prop-types */ \"17x9\");\n/* harmony import */ var prop_types__WEBPACK_IMPORTED_MODULE_3___default = /*#__PURE__*/__webpack_require__.n(prop_types__WEBPACK_IMPORTED_MODULE_3__);\n/* harmony import */ var react__WEBPACK_IMPORTED_MODULE_4__ = __webpack_require__(/*! react */ \"q1tI\");\n/* harmony import */ var react__WEBPACK_IMPORTED_MODULE_4___default = /*#__PURE__*/__webpack_require__.n(react__WEBPACK_IMPORTED_MODULE_4__);\n/* harmony import */ var _instructure_ui_buttons__WEBPACK_IMPORTED_MODULE_5__ = __webpack_require__(/*! @instructure/ui-buttons */ \"K6WN\");\n/* harmony import */ var _instructure_ui_flex__WEBPACK_IMPORTED_MODULE_6__ = __webpack_require__(/*! @instructure/ui-flex */ \"N46v\");\n/* harmony import */ var _instructure_ui_icons__WEBPACK_IMPORTED_MODULE_7__ = __webpack_require__(/*! @instructure/ui-icons */ \"oMAr\");\n/* harmony import */ var _instructure_ui_text__WEBPACK_IMPORTED_MODULE_8__ = __webpack_require__(/*! @instructure/ui-text */ \"iE3e\");\n/* harmony import */ var _instructure_ui_list__WEBPACK_IMPORTED_MODULE_9__ = __webpack_require__(/*! @instructure/ui-list */ \"dbzd\");\n/* harmony import */ var _instructure_ui_link__WEBPACK_IMPORTED_MODULE_10__ = __webpack_require__(/*! @instructure/ui-link */ \"dlTp\");\n/* harmony import */ var _instructure_ui_a11y_content__WEBPACK_IMPORTED_MODULE_11__ = __webpack_require__(/*! @instructure/ui-a11y-content */ \"9+/z\");\n/*\n * Copyright (C) 2019 - present Instructure, Inc.\n *\n * This file is part of Canvas.\n *\n * Canvas is free software: you can redistribute it and/or modify it under\n * the terms of the GNU Affero General Public License as published by the Free\n * Software Foundation, version 3 of the License.\n *\n * Canvas is distributed in the hope that it will be useful, but WITHOUT ANY\n * WARRANTY; without even the implied warranty of MERCHANTABILITY or FITNESS FOR\n * A PARTICULAR PURPOSE. See the GNU Affero General Public License for more\n * details.\n *\n * You should have received a copy of the GNU Affero General Public License along\n * with this program. If not, see <http://www.gnu.org/licenses/>.\n */\n\n\n\n\n\n\n\n\n\n\n\n\n\nconst getIcon = file => {\n  if (Object(_canvas_mime_mimeClass__WEBPACK_IMPORTED_MODULE_2__[\"default\"])(file.type) === 'image') {\n    const fileURL = window.URL.createObjectURL(file);\n    return /*#__PURE__*/react__WEBPACK_IMPORTED_MODULE_4___default.a.createElement(\"img\", {\n      alt: i18n_assignments_2__WEBPACK_IMPORTED_MODULE_1__[\"default\"].t('%{filename} preview', {\n        filename: file.name\n      }),\n      height: \"15\",\n      src: fileURL,\n      width: \"15\"\n    });\n  }\n\n  return Object(_canvas_mime_react_mimeClassIconHelper__WEBPACK_IMPORTED_MODULE_0__[\"getIconByType\"])(Object(_canvas_mime_mimeClass__WEBPACK_IMPORTED_MODULE_2__[\"default\"])(file.type));\n};\n\nconst FileList = props => {\n  const canRemove = props.canRemove,\n        files = props.files,\n        removeFileHandler = props.removeFileHandler;\n  const refsMap = {};\n  return /*#__PURE__*/react__WEBPACK_IMPORTED_MODULE_4___default.a.createElement(_instructure_ui_list__WEBPACK_IMPORTED_MODULE_9__[\"List\"], {\n    variant: \"unstyled\",\n    delimiter: \"solid\"\n  }, /*#__PURE__*/react__WEBPACK_IMPORTED_MODULE_4___default.a.createElement(_instructure_ui_list__WEBPACK_IMPORTED_MODULE_9__[\"List\"].Item, null, /*#__PURE__*/react__WEBPACK_IMPORTED_MODULE_4___default.a.createElement(_instructure_ui_text__WEBPACK_IMPORTED_MODULE_8__[\"Text\"], {\n    size: \"x-small\",\n    weight: \"bold\"\n  }, i18n_assignments_2__WEBPACK_IMPORTED_MODULE_1__[\"default\"].t('Attached'))), files.map(file => /*#__PURE__*/react__WEBPACK_IMPORTED_MODULE_4___default.a.createElement(_instructure_ui_list__WEBPACK_IMPORTED_MODULE_9__[\"List\"].Item, {\n    key: file.id\n  }, /*#__PURE__*/react__WEBPACK_IMPORTED_MODULE_4___default.a.createElement(_instructure_ui_flex__WEBPACK_IMPORTED_MODULE_6__[\"Flex\"], null, /*#__PURE__*/react__WEBPACK_IMPORTED_MODULE_4___default.a.createElement(_instructure_ui_flex__WEBPACK_IMPORTED_MODULE_6__[\"Flex\"].Item, {\n    size: \"40px\",\n    padding: \"x-small small\"\n  }, getIcon(file)), /*#__PURE__*/react__WEBPACK_IMPORTED_MODULE_4___default.a.createElement(_instructure_ui_flex__WEBPACK_IMPORTED_MODULE_6__[\"Flex\"].Item, {\n    grow: true,\n    shrink: true\n  }, /*#__PURE__*/react__WEBPACK_IMPORTED_MODULE_4___default.a.createElement(_instructure_ui_text__WEBPACK_IMPORTED_MODULE_8__[\"Text\"], {\n    size: \"x-small\"\n  }, file.name)), file.embedded_iframe_url && /*#__PURE__*/react__WEBPACK_IMPORTED_MODULE_4___default.a.createElement(_instructure_ui_flex__WEBPACK_IMPORTED_MODULE_6__[\"Flex\"].Item, null, /*#__PURE__*/react__WEBPACK_IMPORTED_MODULE_4___default.a.createElement(_instructure_ui_link__WEBPACK_IMPORTED_MODULE_10__[\"Link\"], {\n    href: file.embedded_iframe_url,\n    target: \"_blank\"\n  }, /*#__PURE__*/react__WEBPACK_IMPORTED_MODULE_4___default.a.createElement(\"span\", {\n    \"aria-hidden\": true,\n    title: i18n_assignments_2__WEBPACK_IMPORTED_MODULE_1__[\"default\"].t('Preview')\n  }, i18n_assignments_2__WEBPACK_IMPORTED_MODULE_1__[\"default\"].t('Preview')), /*#__PURE__*/react__WEBPACK_IMPORTED_MODULE_4___default.a.createElement(_instructure_ui_a11y_content__WEBPACK_IMPORTED_MODULE_11__[\"ScreenReaderContent\"], null, i18n_assignments_2__WEBPACK_IMPORTED_MODULE_1__[\"default\"].t('Preview %{filename}', {\n    filename: file.name\n  })))), canRemove && /*#__PURE__*/react__WEBPACK_IMPORTED_MODULE_4___default.a.createElement(_instructure_ui_flex__WEBPACK_IMPORTED_MODULE_6__[\"Flex\"].Item, {\n    padding: \"0 small 0 x-small\"\n  }, /*#__PURE__*/react__WEBPACK_IMPORTED_MODULE_4___default.a.createElement(_instructure_ui_buttons__WEBPACK_IMPORTED_MODULE_5__[\"Button\"], {\n    icon: _instructure_ui_icons__WEBPACK_IMPORTED_MODULE_7__[\"IconTrashLine\"],\n    id: file.id,\n    onClick: removeFileHandler(refsMap),\n    ref: element => {\n      refsMap[file.id] = element;\n    },\n    size: \"small\",\n    variant: \"icon\"\n  }, /*#__PURE__*/react__WEBPACK_IMPORTED_MODULE_4___default.a.createElement(_instructure_ui_a11y_content__WEBPACK_IMPORTED_MODULE_11__[\"ScreenReaderContent\"], null, i18n_assignments_2__WEBPACK_IMPORTED_MODULE_1__[\"default\"].t('Remove %{filename}', {\n    filename: file.name\n  }))))))));\n};\n\nFileList.propTypes = {\n  canRemove: prop_types__WEBPACK_IMPORTED_MODULE_3___default.a.bool.isRequired,\n  files: prop_types__WEBPACK_IMPORTED_MODULE_3___default.a.arrayOf(prop_types__WEBPACK_IMPORTED_MODULE_3___default.a.shape({\n    id: prop_types__WEBPACK_IMPORTED_MODULE_3___default.a.number.isRequired,\n    name: prop_types__WEBPACK_IMPORTED_MODULE_3___default.a.string.isRequired,\n    type: prop_types__WEBPACK_IMPORTED_MODULE_3___default.a.string.isRequired\n  })).isRequired,\n  removeFileHandler: prop_types__WEBPACK_IMPORTED_MODULE_3___default.a.func\n};\n/* harmony default export */ __webpack_exports__[\"default\"] = (FileList);\n\n//# sourceURL=webpack:///./ui/features/assignments_show_student/react/FileList.js?");

/***/ }),

/***/ "xpk/":
/*!**********************************************************************************************!*\
  !*** ./ui/features/assignments_show_student/react/components/CommentsTray/CommentContent.js ***!
  \**********************************************************************************************/
/*! exports provided: default */
/***/ (function(module, __webpack_exports__, __webpack_require__) {

"use strict";
eval("__webpack_require__.r(__webpack_exports__);\n/* harmony export (binding) */ __webpack_require__.d(__webpack_exports__, \"default\", function() { return CommentContent; });\n/* harmony import */ var _babel_runtime_helpers_esm_objectSpread2__WEBPACK_IMPORTED_MODULE_0__ = __webpack_require__(/*! @babel/runtime/helpers/esm/objectSpread2 */ \"VTBJ\");\n/* harmony import */ var _babel_runtime_helpers_esm_slicedToArray__WEBPACK_IMPORTED_MODULE_1__ = __webpack_require__(/*! @babel/runtime/helpers/esm/slicedToArray */ \"ODXe\");\n/* harmony import */ var _canvas_alerts_react_AlertManager__WEBPACK_IMPORTED_MODULE_2__ = __webpack_require__(/*! @canvas/alerts/react/AlertManager */ \"5ynn\");\n/* harmony import */ var prop_types__WEBPACK_IMPORTED_MODULE_3__ = __webpack_require__(/*! prop-types */ \"17x9\");\n/* harmony import */ var prop_types__WEBPACK_IMPORTED_MODULE_3___default = /*#__PURE__*/__webpack_require__.n(prop_types__WEBPACK_IMPORTED_MODULE_3__);\n/* harmony import */ var _CommentRow__WEBPACK_IMPORTED_MODULE_4__ = __webpack_require__(/*! ./CommentRow */ \"FOH9\");\n/* harmony import */ var i18n_assignments_2__WEBPACK_IMPORTED_MODULE_5__ = __webpack_require__(/*! i18n!assignments_2 */ \"/ur1\");\n/* harmony import */ var _canvas_assignments_graphql_student_Mutations__WEBPACK_IMPORTED_MODULE_6__ = __webpack_require__(/*! @canvas/assignments/graphql/student/Mutations */ \"QSeP\");\n/* harmony import */ var _images_NoComments_svg__WEBPACK_IMPORTED_MODULE_7__ = __webpack_require__(/*! ../../../images/NoComments.svg */ \"GmmD\");\n/* harmony import */ var _images_NoComments_svg__WEBPACK_IMPORTED_MODULE_7___default = /*#__PURE__*/__webpack_require__.n(_images_NoComments_svg__WEBPACK_IMPORTED_MODULE_7__);\n/* harmony import */ var react__WEBPACK_IMPORTED_MODULE_8__ = __webpack_require__(/*! react */ \"q1tI\");\n/* harmony import */ var react__WEBPACK_IMPORTED_MODULE_8___default = /*#__PURE__*/__webpack_require__.n(react__WEBPACK_IMPORTED_MODULE_8__);\n/* harmony import */ var _canvas_assignments_graphql_student_Submission__WEBPACK_IMPORTED_MODULE_9__ = __webpack_require__(/*! @canvas/assignments/graphql/student/Submission */ \"uqZB\");\n/* harmony import */ var _canvas_assignments_graphql_student_Queries__WEBPACK_IMPORTED_MODULE_10__ = __webpack_require__(/*! @canvas/assignments/graphql/student/Queries */ \"JZ9k\");\n/* harmony import */ var _canvas_assignments_graphql_student_SubmissionComment__WEBPACK_IMPORTED_MODULE_11__ = __webpack_require__(/*! @canvas/assignments/graphql/student/SubmissionComment */ \"nnA0\");\n/* harmony import */ var _SVGWithTextPlaceholder__WEBPACK_IMPORTED_MODULE_12__ = __webpack_require__(/*! ../../SVGWithTextPlaceholder */ \"jRG6\");\n/* harmony import */ var react_apollo__WEBPACK_IMPORTED_MODULE_13__ = __webpack_require__(/*! react-apollo */ \"Uuew\");\n/* harmony import */ var _instructure_ui_view__WEBPACK_IMPORTED_MODULE_14__ = __webpack_require__(/*! @instructure/ui-view */ \"OkHH\");\n\n\n\n/*\n * Copyright (C) 2019 - present Instructure, Inc.\n *\n * This file is part of Canvas.\n *\n * Canvas is free software: you can redistribute it and/or modify it under\n * the terms of the GNU Affero General Public License as published by the Free\n * Software Foundation, version 3 of the License.\n *\n * Canvas is distributed in the hope that it will be useful, but WITHOUT ANY\n * WARRANTY; without even the implied warranty of MERCHANTABILITY or FITNESS FOR\n * A PARTICULAR PURPOSE. See the GNU Affero General Public License for more\n * details.\n *\n * You should have received a copy of the GNU Affero General Public License along\n * with this program. If not, see <http://www.gnu.org/licenses/>.\n */\n\n\n\n\n\n\n\n\n\n\n\n\n\nfunction CommentContent(props) {\n  const _useContext = Object(react__WEBPACK_IMPORTED_MODULE_8__[\"useContext\"])(_canvas_alerts_react_AlertManager__WEBPACK_IMPORTED_MODULE_2__[\"AlertManagerContext\"]),\n        setOnFailure = _useContext.setOnFailure,\n        setOnSuccess = _useContext.setOnSuccess;\n\n  const _useMutation = Object(react_apollo__WEBPACK_IMPORTED_MODULE_13__[\"useMutation\"])(_canvas_assignments_graphql_student_Mutations__WEBPACK_IMPORTED_MODULE_6__[\"MARK_SUBMISSION_COMMENT_READ\"], {\n    update(cache, result) {\n      var _result$data, _result$data$markSubm;\n\n      // ValidationError, different then the mutationError\n      if ((_result$data = result.data) !== null && _result$data !== void 0 && (_result$data$markSubm = _result$data.markSubmissionCommentsRead) !== null && _result$data$markSubm !== void 0 && _result$data$markSubm.errors) {\n        return;\n      } // Set the read status for all of the submission comments we just\n      // marked as read. I'm sad apollo isn't smart enough to do this without\n      // us manually having to update the cache.\n\n\n      // Set the read status for all of the submission comments we just\n      // marked as read. I'm sad apollo isn't smart enough to do this without\n      // us manually having to update the cache.\n      const ids = result.data.markSubmissionCommentsRead.submissionComments.map(c => c._id);\n      const updatedCommentIDs = new Set(ids);\n      const commentQueryVariables = {\n        query: _canvas_assignments_graphql_student_Queries__WEBPACK_IMPORTED_MODULE_10__[\"SUBMISSION_COMMENT_QUERY\"],\n        variables: {\n          submissionId: props.submission.id,\n          submissionAttempt: props.submission.attempt\n        }\n      };\n\n      const _JSON$parse = JSON.parse(JSON.stringify(cache.readQuery(commentQueryVariables))),\n            submissionComments = _JSON$parse.submissionComments;\n\n      submissionComments.commentsConnection.nodes.forEach(comment => {\n        if (updatedCommentIDs.has(comment._id)) {\n          comment.read = true;\n        }\n      });\n      cache.writeQuery(Object(_babel_runtime_helpers_esm_objectSpread2__WEBPACK_IMPORTED_MODULE_0__[\"default\"])(Object(_babel_runtime_helpers_esm_objectSpread2__WEBPACK_IMPORTED_MODULE_0__[\"default\"])({}, commentQueryVariables), {}, {\n        data: {\n          submissionComments\n        }\n      })); // Now update the unreadCommentCount. We have to handle the current\n      // submission and submission histories separately as they exist in\n      // different parts in the apollo cache. Try the current submission first\n\n      // Now update the unreadCommentCount. We have to handle the current\n      // submission and submission histories separately as they exist in\n      // different parts in the apollo cache. Try the current submission first\n      const submissionQueryVariables = {\n        id: props.submission.id,\n        fragment: _canvas_assignments_graphql_student_Submission__WEBPACK_IMPORTED_MODULE_9__[\"Submission\"].fragment,\n        fragmentName: 'Submission',\n        variables: {\n          submissionID: props.submission.id\n        }\n      };\n      const cachedCurrentSubmission = cache.readFragment(submissionQueryVariables);\n\n      if (props.submission.attempt === cachedCurrentSubmission.attempt) {\n        const submission = JSON.parse(JSON.stringify(cachedCurrentSubmission));\n        const newUnreadCount = Math.max(0, submission.unreadCommentCount - updatedCommentIDs.size);\n        submission.unreadCommentCount = newUnreadCount;\n        cache.writeFragment(Object(_babel_runtime_helpers_esm_objectSpread2__WEBPACK_IMPORTED_MODULE_0__[\"default\"])(Object(_babel_runtime_helpers_esm_objectSpread2__WEBPACK_IMPORTED_MODULE_0__[\"default\"])({}, submissionQueryVariables), {}, {\n          data: submission\n        }));\n      } else {\n        const cachedHistories = cache.readQuery({\n          query: _canvas_assignments_graphql_student_Queries__WEBPACK_IMPORTED_MODULE_10__[\"SUBMISSION_HISTORIES_QUERY\"],\n          variables: {\n            submissionID: props.submission.id\n          }\n        });\n        const histories = JSON.parse(JSON.stringify(cachedHistories));\n        histories.node.submissionHistoriesConnection.nodes.forEach(history => {\n          if (history.attempt !== props.submission.attempt) {\n            return;\n          }\n\n          const newUnreadCount = Math.max(0, history.unreadCommentCount - updatedCommentIDs.size);\n          history.unreadCommentCount = newUnreadCount;\n        });\n        cache.writeQuery({\n          query: _canvas_assignments_graphql_student_Queries__WEBPACK_IMPORTED_MODULE_10__[\"SUBMISSION_HISTORIES_QUERY\"],\n          variables: {\n            submissionID: props.submission.id\n          },\n          data: histories\n        });\n      }\n    }\n\n  }),\n        _useMutation2 = Object(_babel_runtime_helpers_esm_slicedToArray__WEBPACK_IMPORTED_MODULE_1__[\"default\"])(_useMutation, 2),\n        markCommentsRead = _useMutation2[0],\n        _useMutation2$ = _useMutation2[1],\n        data = _useMutation2$.data,\n        mutationCalled = _useMutation2$.called,\n        mutationError = _useMutation2$.error;\n\n  Object(react__WEBPACK_IMPORTED_MODULE_8__[\"useEffect\"])(() => {\n    const unreadComments = props.comments.filter(c => !c.read);\n\n    if (unreadComments.length > 0) {\n      const commentIds = props.comments.filter(comment => comment.read === false).map(comment => comment._id);\n      const timer = setTimeout(() => {\n        markCommentsRead({\n          variables: {\n            commentIds,\n            submissionId: props.submission.id\n          }\n        });\n      }, 1000);\n      return () => clearTimeout(timer);\n    }\n  }, [markCommentsRead, props.comments, props.submission]);\n  Object(react__WEBPACK_IMPORTED_MODULE_8__[\"useEffect\"])(() => {\n    var _data$markSubmissionC, _data$markSubmissionC2;\n\n    if (mutationCalled && !mutationError && !(data !== null && data !== void 0 && (_data$markSubmissionC = data.markSubmissionCommentsRead) !== null && _data$markSubmissionC !== void 0 && _data$markSubmissionC.errors)) {\n      setOnSuccess(i18n_assignments_2__WEBPACK_IMPORTED_MODULE_5__[\"default\"].t('All submission comments have been marked as read'));\n    } else if (mutationError || data !== null && data !== void 0 && (_data$markSubmissionC2 = data.markSubmissionCommentsRead) !== null && _data$markSubmissionC2 !== void 0 && _data$markSubmissionC2.errors) {\n      setOnFailure(i18n_assignments_2__WEBPACK_IMPORTED_MODULE_5__[\"default\"].t('There was a problem marking submission comments as read'));\n    }\n  }, [data, mutationCalled, mutationError, setOnFailure, setOnSuccess]);\n  return /*#__PURE__*/react__WEBPACK_IMPORTED_MODULE_8___default.a.createElement(react__WEBPACK_IMPORTED_MODULE_8___default.a.Fragment, null, !props.submission.gradeHidden && !props.comments.length && /*#__PURE__*/react__WEBPACK_IMPORTED_MODULE_8___default.a.createElement(_SVGWithTextPlaceholder__WEBPACK_IMPORTED_MODULE_12__[\"default\"], {\n    text: i18n_assignments_2__WEBPACK_IMPORTED_MODULE_5__[\"default\"].t(\"This is where you can leave a comment and view your instructor's feedback.\"),\n    url: _images_NoComments_svg__WEBPACK_IMPORTED_MODULE_7___default.a\n  }), props.comments.sort((a, b) => new Date(a.updatedAt) - new Date(b.updatedAt)).map(comment => /*#__PURE__*/react__WEBPACK_IMPORTED_MODULE_8___default.a.createElement(_instructure_ui_view__WEBPACK_IMPORTED_MODULE_14__[\"View\"], {\n    as: \"div\",\n    key: comment._id,\n    padding: \"0 medium 0 x-small\"\n  }, /*#__PURE__*/react__WEBPACK_IMPORTED_MODULE_8___default.a.createElement(_CommentRow__WEBPACK_IMPORTED_MODULE_4__[\"default\"], {\n    comment: comment\n  }), /*#__PURE__*/react__WEBPACK_IMPORTED_MODULE_8___default.a.createElement(\"hr\", {\n    style: {\n      margin: '1rem 1.5rem'\n    }\n  }))));\n}\nCommentContent.propTypes = {\n  comments: Object(prop_types__WEBPACK_IMPORTED_MODULE_3__[\"arrayOf\"])(_canvas_assignments_graphql_student_SubmissionComment__WEBPACK_IMPORTED_MODULE_11__[\"SubmissionComment\"].shape).isRequired,\n  submission: _canvas_assignments_graphql_student_Submission__WEBPACK_IMPORTED_MODULE_9__[\"Submission\"].shape.isRequired\n};\n\n//# sourceURL=webpack:///./ui/features/assignments_show_student/react/components/CommentsTray/CommentContent.js?");

/***/ })

}]);