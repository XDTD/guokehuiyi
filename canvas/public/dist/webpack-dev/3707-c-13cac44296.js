(window["canvasWebpackJsonp"] = window["canvasWebpackJsonp"] || []).push([[3707],{

/***/ "ZUb/":
/*!******************************************************************************************!*\
  !*** ./ui/features/assignments_show_student/react/components/AttemptType/FilePreview.js ***!
  \******************************************************************************************/
/*! exports provided: default */
/***/ (function(module, __webpack_exports__, __webpack_require__) {

"use strict";
eval("__webpack_require__.r(__webpack_exports__);\n/* harmony export (binding) */ __webpack_require__.d(__webpack_exports__, \"default\", function() { return FilePreview; });\n/* harmony import */ var _canvas_mime_react_mimeClassIconHelper__WEBPACK_IMPORTED_MODULE_0__ = __webpack_require__(/*! @canvas/mime/react/mimeClassIconHelper */ \"mRBd\");\n/* harmony import */ var i18n_assignments_2__WEBPACK_IMPORTED_MODULE_1__ = __webpack_require__(/*! i18n!assignments_2 */ \"/ur1\");\n/* harmony import */ var _canvas_loading_indicator__WEBPACK_IMPORTED_MODULE_2__ = __webpack_require__(/*! @canvas/loading-indicator */ \"7hyl\");\n/* harmony import */ var _images_PreviewUnavailable_svg__WEBPACK_IMPORTED_MODULE_3__ = __webpack_require__(/*! ../../../images/PreviewUnavailable.svg */ \"dX53\");\n/* harmony import */ var _images_PreviewUnavailable_svg__WEBPACK_IMPORTED_MODULE_3___default = /*#__PURE__*/__webpack_require__.n(_images_PreviewUnavailable_svg__WEBPACK_IMPORTED_MODULE_3__);\n/* harmony import */ var prop_types__WEBPACK_IMPORTED_MODULE_4__ = __webpack_require__(/*! prop-types */ \"17x9\");\n/* harmony import */ var prop_types__WEBPACK_IMPORTED_MODULE_4___default = /*#__PURE__*/__webpack_require__.n(prop_types__WEBPACK_IMPORTED_MODULE_4__);\n/* harmony import */ var react__WEBPACK_IMPORTED_MODULE_5__ = __webpack_require__(/*! react */ \"q1tI\");\n/* harmony import */ var react__WEBPACK_IMPORTED_MODULE_5___default = /*#__PURE__*/__webpack_require__.n(react__WEBPACK_IMPORTED_MODULE_5__);\n/* harmony import */ var _canvas_assignments_graphql_student_File__WEBPACK_IMPORTED_MODULE_6__ = __webpack_require__(/*! @canvas/assignments/graphql/student/File */ \"W3O7\");\n/* harmony import */ var _instructure_ui_buttons__WEBPACK_IMPORTED_MODULE_7__ = __webpack_require__(/*! @instructure/ui-buttons */ \"K6WN\");\n/* harmony import */ var _instructure_ui_flex__WEBPACK_IMPORTED_MODULE_8__ = __webpack_require__(/*! @instructure/ui-flex */ \"N46v\");\n/* harmony import */ var _instructure_ui_icons__WEBPACK_IMPORTED_MODULE_9__ = __webpack_require__(/*! @instructure/ui-icons */ \"oMAr\");\n/* harmony import */ var _instructure_ui_a11y_content__WEBPACK_IMPORTED_MODULE_10__ = __webpack_require__(/*! @instructure/ui-a11y-content */ \"9+/z\");\n/* harmony import */ var _instructure_ui_text__WEBPACK_IMPORTED_MODULE_11__ = __webpack_require__(/*! @instructure/ui-text */ \"iE3e\");\n/* harmony import */ var _instructure_canvas_theme__WEBPACK_IMPORTED_MODULE_12__ = __webpack_require__(/*! @instructure/canvas-theme */ \"7np9\");\n/* harmony import */ var _instructure_ui_tooltip__WEBPACK_IMPORTED_MODULE_13__ = __webpack_require__(/*! @instructure/ui-tooltip */ \"HU+D\");\n/*\n * Copyright (C) 2019 - present Instructure, Inc.\n *\n * This file is part of Canvas.\n *\n * Canvas is free software: you can redistribute it and/or modify it under\n * the terms of the GNU Affero General Public License as published by the Free\n * Software Foundation, version 3 of the License.\n *\n * Canvas is distributed in the hope that it will be useful, but WITHOUT ANY\n * WARRANTY; without even the implied warranty of MERCHANTABILITY or FITNESS FOR\n * A PARTICULAR PURPOSE. See the GNU Affero General Public License for more\n * details.\n *\n * You should have received a copy of the GNU Affero General Public License along\n * with this program. If not, see <http://www.gnu.org/licenses/>.\n */\n\n\n\n\n\n\n\n\n\n\n\n\n\n\nclass FilePreview extends react__WEBPACK_IMPORTED_MODULE_5__[\"Component\"] {\n  constructor(...args) {\n    super(...args);\n    this.state = {\n      selectedFile: 0\n    };\n\n    this.capitalize = s => {\n      if (typeof s !== 'string') return '';\n      return s.charAt(0).toUpperCase() + s.slice(1);\n    };\n\n    this.selectFile = index => {\n      if (index >= 0 || index < this.props.files.length) {\n        this.setState({\n          selectedFile: index\n        });\n      }\n    };\n\n    this.shouldDisplayThumbnail = file => {\n      return file.mimeClass === 'image' && file.thumbnailUrl;\n    };\n\n    this.renderThumbnail = (file, index) => {\n      return /*#__PURE__*/react__WEBPACK_IMPORTED_MODULE_5___default.a.createElement(_instructure_ui_buttons__WEBPACK_IMPORTED_MODULE_7__[\"Button\"], {\n        variant: \"icon\",\n        size: \"large\",\n        onClick: () => this.selectFile(index)\n      }, /*#__PURE__*/react__WEBPACK_IMPORTED_MODULE_5___default.a.createElement(\"img\", {\n        alt: i18n_assignments_2__WEBPACK_IMPORTED_MODULE_1__[\"default\"].t('%{filename} preview', {\n          filename: file.displayName\n        }),\n        src: file.thumbnailUrl\n      }), /*#__PURE__*/react__WEBPACK_IMPORTED_MODULE_5___default.a.createElement(_instructure_ui_a11y_content__WEBPACK_IMPORTED_MODULE_10__[\"ScreenReaderContent\"], null, file.displayName));\n    };\n\n    this.renderIcon = (file, index) => {\n      return /*#__PURE__*/react__WEBPACK_IMPORTED_MODULE_5___default.a.createElement(_instructure_ui_buttons__WEBPACK_IMPORTED_MODULE_7__[\"Button\"], {\n        variant: \"icon\",\n        size: \"large\",\n        onClick: () => this.selectFile(index),\n        icon: Object(_canvas_mime_react_mimeClassIconHelper__WEBPACK_IMPORTED_MODULE_0__[\"getIconByType\"])(file.mimeClass)\n      }, /*#__PURE__*/react__WEBPACK_IMPORTED_MODULE_5___default.a.createElement(_instructure_ui_a11y_content__WEBPACK_IMPORTED_MODULE_10__[\"ScreenReaderContent\"], null, file.displayName));\n    };\n\n    this.renderFileIcons = () => {\n      const iconsContainerStyle = {\n        borderRight: `1px solid ${_instructure_canvas_theme__WEBPACK_IMPORTED_MODULE_12__[\"default\"].variables.colors.borderMedium}`,\n        margin: '-1px',\n        padding: _instructure_canvas_theme__WEBPACK_IMPORTED_MODULE_12__[\"default\"].variables.spacing.small\n      };\n      const iconsStyle = {\n        display: 'block',\n        textAlign: 'center',\n        margin: `0 0 ${_instructure_canvas_theme__WEBPACK_IMPORTED_MODULE_12__[\"default\"].variables.spacing.xSmall} 0`\n      };\n      return /*#__PURE__*/react__WEBPACK_IMPORTED_MODULE_5___default.a.createElement(\"div\", {\n        \"data-testid\": \"assignments_2_file_icons\",\n        style: iconsContainerStyle\n      }, this.props.files.map((file, index) => /*#__PURE__*/react__WEBPACK_IMPORTED_MODULE_5___default.a.createElement(\"div\", {\n        key: file.id,\n        style: iconsStyle\n      }, /*#__PURE__*/react__WEBPACK_IMPORTED_MODULE_5___default.a.createElement(_instructure_ui_tooltip__WEBPACK_IMPORTED_MODULE_13__[\"Tooltip\"], {\n        tip: file.displayName,\n        placement: \"bottom\",\n        variant: \"inverse\"\n      }, this.shouldDisplayThumbnail(file) ? this.renderThumbnail(file, index) : this.renderIcon(file, index)), /*#__PURE__*/react__WEBPACK_IMPORTED_MODULE_5___default.a.createElement(\"div\", {\n        style: {\n          display: 'block',\n          margin: '2px 0 0 0'\n        }\n      }, /*#__PURE__*/react__WEBPACK_IMPORTED_MODULE_5___default.a.createElement(_instructure_ui_text__WEBPACK_IMPORTED_MODULE_11__[\"Text\"], {\n        size: \"small\"\n      }, this.capitalize(this.translateMimeClass(file.mimeClass)))))));\n    };\n\n    this.renderFilePreview = () => {\n      const iframeContainerStyle = {\n        maxWidth: '1366px',\n        height: '0',\n        paddingBottom: '130%',\n        position: 'relative'\n      };\n      const iframeStyle = {\n        border: 'none',\n        width: '100%',\n        height: '100%',\n        position: 'absolute',\n        borderLeft: `1px solid ${_instructure_canvas_theme__WEBPACK_IMPORTED_MODULE_12__[\"default\"].variables.colors.borderMedium}`\n      };\n      const selectedFile = this.props.files[this.state.selectedFile];\n\n      if (!selectedFile.submissionPreviewUrl) {\n        return /*#__PURE__*/react__WEBPACK_IMPORTED_MODULE_5___default.a.createElement(\"div\", {\n          style: {\n            textAlign: 'center',\n            padding: `${_instructure_canvas_theme__WEBPACK_IMPORTED_MODULE_12__[\"default\"].variables.spacing.medium} 0 0 0`,\n            borderLeft: `1px solid ${_instructure_canvas_theme__WEBPACK_IMPORTED_MODULE_12__[\"default\"].variables.colors.borderMedium}`\n          }\n        }, /*#__PURE__*/react__WEBPACK_IMPORTED_MODULE_5___default.a.createElement(\"div\", {\n          style: {\n            display: 'block'\n          }\n        }, this.renderUnavailablePreview(i18n_assignments_2__WEBPACK_IMPORTED_MODULE_1__[\"default\"].t('Preview Unavailable')), selectedFile.displayName, /*#__PURE__*/react__WEBPACK_IMPORTED_MODULE_5___default.a.createElement(\"div\", {\n          style: {\n            display: 'block'\n          }\n        }, /*#__PURE__*/react__WEBPACK_IMPORTED_MODULE_5___default.a.createElement(_instructure_ui_buttons__WEBPACK_IMPORTED_MODULE_7__[\"Button\"], {\n          margin: \"medium auto\",\n          icon: _instructure_ui_icons__WEBPACK_IMPORTED_MODULE_9__[\"IconDownloadLine\"],\n          href: selectedFile.url,\n          disabled: !selectedFile.url\n        }, i18n_assignments_2__WEBPACK_IMPORTED_MODULE_1__[\"default\"].t('Download')))));\n      }\n\n      return /*#__PURE__*/react__WEBPACK_IMPORTED_MODULE_5___default.a.createElement(\"div\", {\n        style: iframeContainerStyle,\n        \"data-testid\": \"assignments_2_submission_preview\"\n      }, /*#__PURE__*/react__WEBPACK_IMPORTED_MODULE_5___default.a.createElement(_instructure_ui_a11y_content__WEBPACK_IMPORTED_MODULE_10__[\"ScreenReaderContent\"], null, selectedFile.displayName), /*#__PURE__*/react__WEBPACK_IMPORTED_MODULE_5___default.a.createElement(\"iframe\", {\n        src: selectedFile.submissionPreviewUrl,\n        title: \"preview\",\n        style: iframeStyle\n      }));\n    };\n  }\n\n  translateMimeClass(mimeClass) {\n    switch (mimeClass) {\n      case 'audio':\n        return i18n_assignments_2__WEBPACK_IMPORTED_MODULE_1__[\"default\"].t('audio');\n\n      case 'code':\n        return i18n_assignments_2__WEBPACK_IMPORTED_MODULE_1__[\"default\"].t('code');\n\n      case 'doc':\n        return i18n_assignments_2__WEBPACK_IMPORTED_MODULE_1__[\"default\"].t('doc');\n\n      case 'flash':\n        return i18n_assignments_2__WEBPACK_IMPORTED_MODULE_1__[\"default\"].t('flash');\n\n      case 'html':\n        return i18n_assignments_2__WEBPACK_IMPORTED_MODULE_1__[\"default\"].t('html');\n\n      case 'image':\n        return i18n_assignments_2__WEBPACK_IMPORTED_MODULE_1__[\"default\"].t('image');\n\n      case 'pdf':\n        return i18n_assignments_2__WEBPACK_IMPORTED_MODULE_1__[\"default\"].t('pdf');\n\n      case 'ppt':\n        return i18n_assignments_2__WEBPACK_IMPORTED_MODULE_1__[\"default\"].t('ptt');\n\n      case 'text':\n        return i18n_assignments_2__WEBPACK_IMPORTED_MODULE_1__[\"default\"].t('text');\n\n      case 'video':\n        return i18n_assignments_2__WEBPACK_IMPORTED_MODULE_1__[\"default\"].t('video');\n\n      case 'xls':\n        return i18n_assignments_2__WEBPACK_IMPORTED_MODULE_1__[\"default\"].t('xls');\n\n      case 'zip':\n        return i18n_assignments_2__WEBPACK_IMPORTED_MODULE_1__[\"default\"].t('zip');\n\n      default:\n        return i18n_assignments_2__WEBPACK_IMPORTED_MODULE_1__[\"default\"].t('file');\n    }\n  }\n\n  renderUnavailablePreview(message) {\n    return /*#__PURE__*/react__WEBPACK_IMPORTED_MODULE_5___default.a.createElement(\"div\", {\n      style: {\n        textAlign: 'center'\n      }\n    }, /*#__PURE__*/react__WEBPACK_IMPORTED_MODULE_5___default.a.createElement(\"img\", {\n      alt: \"\",\n      src: _images_PreviewUnavailable_svg__WEBPACK_IMPORTED_MODULE_3___default.a,\n      style: {\n        width: '150px'\n      }\n    }), /*#__PURE__*/react__WEBPACK_IMPORTED_MODULE_5___default.a.createElement(\"div\", {\n      style: {\n        display: 'block',\n        padding: `\n              ${_instructure_canvas_theme__WEBPACK_IMPORTED_MODULE_12__[\"default\"].variables.spacing.large}\n              ${_instructure_canvas_theme__WEBPACK_IMPORTED_MODULE_12__[\"default\"].variables.spacing.medium}\n              0\n              ${_instructure_canvas_theme__WEBPACK_IMPORTED_MODULE_12__[\"default\"].variables.spacing.medium}\n            `\n      }\n    }, /*#__PURE__*/react__WEBPACK_IMPORTED_MODULE_5___default.a.createElement(_instructure_ui_text__WEBPACK_IMPORTED_MODULE_11__[\"Text\"], {\n      size: \"large\"\n    }, message)));\n  }\n\n  render() {\n    if (!this.props.files) {\n      return /*#__PURE__*/react__WEBPACK_IMPORTED_MODULE_5___default.a.createElement(_canvas_loading_indicator__WEBPACK_IMPORTED_MODULE_2__[\"default\"], null);\n    }\n\n    if (this.props.files.length) {\n      return /*#__PURE__*/react__WEBPACK_IMPORTED_MODULE_5___default.a.createElement(\"div\", {\n        style: {\n          margin: '-0.75rem'\n        }\n      }, /*#__PURE__*/react__WEBPACK_IMPORTED_MODULE_5___default.a.createElement(_instructure_ui_flex__WEBPACK_IMPORTED_MODULE_8__[\"Flex\"], null, this.props.files.length > 1 && /*#__PURE__*/react__WEBPACK_IMPORTED_MODULE_5___default.a.createElement(_instructure_ui_flex__WEBPACK_IMPORTED_MODULE_8__[\"Flex\"].Item, {\n        align: \"start\"\n      }, this.renderFileIcons()), /*#__PURE__*/react__WEBPACK_IMPORTED_MODULE_5___default.a.createElement(_instructure_ui_flex__WEBPACK_IMPORTED_MODULE_8__[\"Flex\"].Item, {\n        shrink: true,\n        grow: true,\n        align: \"start\"\n      }, this.renderFilePreview())));\n    } else {\n      return this.renderUnavailablePreview(i18n_assignments_2__WEBPACK_IMPORTED_MODULE_1__[\"default\"].t('No Submission'));\n    }\n  }\n\n}\nFilePreview.propTypes = {\n  files: prop_types__WEBPACK_IMPORTED_MODULE_4___default.a.arrayOf(_canvas_assignments_graphql_student_File__WEBPACK_IMPORTED_MODULE_6__[\"SubmissionFile\"].shape)\n};\n\n//# sourceURL=webpack:///./ui/features/assignments_show_student/react/components/AttemptType/FilePreview.js?");

/***/ }),

/***/ "dX53":
/*!****************************************************************************!*\
  !*** ./ui/features/assignments_show_student/images/PreviewUnavailable.svg ***!
  \****************************************************************************/
/*! no static exports found */
/***/ (function(module, exports, __webpack_require__) {

eval("module.exports = __webpack_require__.p + \"f5ab0049c6cc0c26761805a8b7be622f.svg\";\n\n//# sourceURL=webpack:///./ui/features/assignments_show_student/images/PreviewUnavailable.svg?");

/***/ }),

/***/ "mRBd":
/*!*****************************************************!*\
  !*** ./ui/shared/mime/react/mimeClassIconHelper.js ***!
  \*****************************************************/
/*! exports provided: DEFAULT_ICON, ICON_TYPES, getIconByType */
/***/ (function(module, __webpack_exports__, __webpack_require__) {

"use strict";
eval("__webpack_require__.r(__webpack_exports__);\n/* harmony export (binding) */ __webpack_require__.d(__webpack_exports__, \"DEFAULT_ICON\", function() { return DEFAULT_ICON; });\n/* harmony export (binding) */ __webpack_require__.d(__webpack_exports__, \"ICON_TYPES\", function() { return ICON_TYPES; });\n/* harmony export (binding) */ __webpack_require__.d(__webpack_exports__, \"getIconByType\", function() { return getIconByType; });\n/* harmony import */ var react__WEBPACK_IMPORTED_MODULE_0__ = __webpack_require__(/*! react */ \"q1tI\");\n/* harmony import */ var react__WEBPACK_IMPORTED_MODULE_0___default = /*#__PURE__*/__webpack_require__.n(react__WEBPACK_IMPORTED_MODULE_0__);\n/* harmony import */ var _instructure_ui_icons__WEBPACK_IMPORTED_MODULE_1__ = __webpack_require__(/*! @instructure/ui-icons */ \"oMAr\");\n/*\n * Copyright (C) 2019 - present Instructure, Inc.\n *\n * This file is part of Canvas.\n *\n * Canvas is free software: you can redistribute it and/or modify it under\n * the terms of the GNU Affero General Public License as published by the Free\n * Software Foundation, version 3 of the License.\n *\n * Canvas is distributed in the hope that it will be useful, but WITHOUT ANY\n * WARRANTY; without even the implied warranty of MERCHANTABILITY or FITNESS FOR\n * A PARTICULAR PURPOSE. See the GNU Affero General Public License for more\n * details.\n *\n * You should have received a copy of the GNU Affero General Public License along\n * with this program. If not, see <http://www.gnu.org/licenses/>.\n */\n\n\nconst DEFAULT_ICON = /*#__PURE__*/react__WEBPACK_IMPORTED_MODULE_0___default.a.createElement(_instructure_ui_icons__WEBPACK_IMPORTED_MODULE_1__[\"IconPaperclipLine\"], null);\nconst ICON_TYPES = {\n  audio: /*#__PURE__*/react__WEBPACK_IMPORTED_MODULE_0___default.a.createElement(_instructure_ui_icons__WEBPACK_IMPORTED_MODULE_1__[\"IconAttachMediaLine\"], null),\n  code: /*#__PURE__*/react__WEBPACK_IMPORTED_MODULE_0___default.a.createElement(_instructure_ui_icons__WEBPACK_IMPORTED_MODULE_1__[\"IconCodeLine\"], null),\n  doc: /*#__PURE__*/react__WEBPACK_IMPORTED_MODULE_0___default.a.createElement(_instructure_ui_icons__WEBPACK_IMPORTED_MODULE_1__[\"IconDocumentLine\"], null),\n  file: /*#__PURE__*/react__WEBPACK_IMPORTED_MODULE_0___default.a.createElement(_instructure_ui_icons__WEBPACK_IMPORTED_MODULE_1__[\"IconPaperclipLine\"], null),\n  flash: /*#__PURE__*/react__WEBPACK_IMPORTED_MODULE_0___default.a.createElement(_instructure_ui_icons__WEBPACK_IMPORTED_MODULE_1__[\"IconPaperclipLine\"], null),\n  folder: /*#__PURE__*/react__WEBPACK_IMPORTED_MODULE_0___default.a.createElement(_instructure_ui_icons__WEBPACK_IMPORTED_MODULE_1__[\"IconFolderLine\"], null),\n  'folder-locked': /*#__PURE__*/react__WEBPACK_IMPORTED_MODULE_0___default.a.createElement(_instructure_ui_icons__WEBPACK_IMPORTED_MODULE_1__[\"IconFolderLockedLine\"], null),\n  html: /*#__PURE__*/react__WEBPACK_IMPORTED_MODULE_0___default.a.createElement(_instructure_ui_icons__WEBPACK_IMPORTED_MODULE_1__[\"IconCodeLine\"], null),\n  image: /*#__PURE__*/react__WEBPACK_IMPORTED_MODULE_0___default.a.createElement(_instructure_ui_icons__WEBPACK_IMPORTED_MODULE_1__[\"IconImageLine\"], null),\n  pdf: /*#__PURE__*/react__WEBPACK_IMPORTED_MODULE_0___default.a.createElement(_instructure_ui_icons__WEBPACK_IMPORTED_MODULE_1__[\"IconPdfLine\"], null),\n  ppt: /*#__PURE__*/react__WEBPACK_IMPORTED_MODULE_0___default.a.createElement(_instructure_ui_icons__WEBPACK_IMPORTED_MODULE_1__[\"IconMsPptLine\"], null),\n  text: /*#__PURE__*/react__WEBPACK_IMPORTED_MODULE_0___default.a.createElement(_instructure_ui_icons__WEBPACK_IMPORTED_MODULE_1__[\"IconDocumentLine\"], null),\n  video: /*#__PURE__*/react__WEBPACK_IMPORTED_MODULE_0___default.a.createElement(_instructure_ui_icons__WEBPACK_IMPORTED_MODULE_1__[\"IconAttachMediaLine\"], null),\n  xls: /*#__PURE__*/react__WEBPACK_IMPORTED_MODULE_0___default.a.createElement(_instructure_ui_icons__WEBPACK_IMPORTED_MODULE_1__[\"IconMsExcelLine\"], null),\n  zip: /*#__PURE__*/react__WEBPACK_IMPORTED_MODULE_0___default.a.createElement(_instructure_ui_icons__WEBPACK_IMPORTED_MODULE_1__[\"IconZippedLine\"], null)\n};\nfunction getIconByType(attachment_type) {\n  return ICON_TYPES[attachment_type] || DEFAULT_ICON;\n}\n\n//# sourceURL=webpack:///./ui/shared/mime/react/mimeClassIconHelper.js?");

/***/ })

}]);