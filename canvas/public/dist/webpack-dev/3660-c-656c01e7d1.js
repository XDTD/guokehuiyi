(window["canvasWebpackJsonp"] = window["canvasWebpackJsonp"] || []).push([[3660],{

/***/ "18+T":
/*!*************************************************************************************!*\
  !*** ./frontend_build/i18n.js?usageRightsSelectBox!./ui/shims/dummyI18nResource.js ***!
  \*************************************************************************************/
/*! exports provided: default */
/***/ (function(module, __webpack_exports__, __webpack_require__) {

"use strict";
eval("__webpack_require__.r(__webpack_exports__);\n/* harmony import */ var _canvas_i18n_i18nObj__WEBPACK_IMPORTED_MODULE_0__ = __webpack_require__(/*! @canvas/i18n/i18nObj */ \"HGxv\");\n/* harmony import */ var translations_core_en__WEBPACK_IMPORTED_MODULE_1__ = __webpack_require__(/*! translations/_core_en */ \"0sPK\");\n\n    \n    \n    \n\n    /* harmony default export */ __webpack_exports__[\"default\"] = (_canvas_i18n_i18nObj__WEBPACK_IMPORTED_MODULE_0__[\"default\"].scoped('usageRightsSelectBox'));\n  \n\n//# sourceURL=webpack:///./ui/shims/dummyI18nResource.js?./frontend_build/i18n.js?usageRightsSelectBox");

/***/ }),

/***/ "ByV2":
/*!************************************************!*\
  !*** ./ui/shared/files/util/setUsageRights.js ***!
  \************************************************/
/*! exports provided: default */
/***/ (function(module, __webpack_exports__, __webpack_require__) {

"use strict";
eval("__webpack_require__.r(__webpack_exports__);\n/* harmony export (binding) */ __webpack_require__.d(__webpack_exports__, \"default\", function() { return setUsageRights; });\n/* harmony import */ var jquery__WEBPACK_IMPORTED_MODULE_0__ = __webpack_require__(/*! jquery */ \"ouhR\");\n/* harmony import */ var jquery__WEBPACK_IMPORTED_MODULE_0___default = /*#__PURE__*/__webpack_require__.n(jquery__WEBPACK_IMPORTED_MODULE_0__);\n/* harmony import */ var _backbone_models_Folder__WEBPACK_IMPORTED_MODULE_1__ = __webpack_require__(/*! ../backbone/models/Folder */ \"3jyj\");\n/* harmony import */ var _react_modules_filesEnv__WEBPACK_IMPORTED_MODULE_2__ = __webpack_require__(/*! ../react/modules/filesEnv */ \"m452\");\n/*\n * Copyright (C) 2014 - present Instructure, Inc.\n *\n * This file is part of Canvas.\n *\n * Canvas is free software: you can redistribute it and/or modify it under\n * the terms of the GNU Affero General Public License as published by the Free\n * Software Foundation, version 3 of the License.\n *\n * Canvas is distributed in the hope that it will be useful, but WITHOUT ANY\n * WARRANTY; without even the implied warranty of MERCHANTABILITY or FITNESS FOR\n * A PARTICULAR PURPOSE. See the GNU Affero General Public License for more\n * details.\n *\n * You should have received a copy of the GNU Affero General Public License along\n * with this program. If not, see <http://www.gnu.org/licenses/>.\n */\n// ###\n// Sets the usage rights for the given items.\n// - items should be an array of Files/Folders models\n// - usageRights should be an object of this form:\n//   {\n//      use_justification: fair_use, etc.\n//      legal_copyright: \"(C) 2014 Instructure\"\n//      license: creative_commons, etc.\n//   }\n//\n// - callback should be a function that handles what to do when complete\n//   It is called with these parameters (success, data)\n//     - success is a boolean indicating if the api call worked\n//     - data is the data returned from the api\n// ###\n\n\n\nfunction setUsageRights(items, usageRights, callback, overrideContextId = null, overrideContextType = null) {\n  let contextId, contextType, parentFolder;\n\n  if (_react_modules_filesEnv__WEBPACK_IMPORTED_MODULE_2__[\"default\"].contextType === 'users' && items.length > 0 && (parentFolder = items[0].collection && items[0].collection.parentFolder)) {\n    contextType = `${parentFolder.get('context_type').toLowerCase()}s`;\n    contextId = parentFolder.get('context_id');\n  } else {\n    ;\n    contextType = _react_modules_filesEnv__WEBPACK_IMPORTED_MODULE_2__[\"default\"].contextType;\n    contextId = _react_modules_filesEnv__WEBPACK_IMPORTED_MODULE_2__[\"default\"].contextId;\n  }\n\n  if (!contextType) {\n    contextType = overrideContextType;\n  }\n\n  if (!contextId) {\n    contextId = overrideContextId;\n  }\n\n  const apiUrl = `/api/v1/${contextType}/${contextId}/usage_rights`;\n  const folder_ids = [];\n  const file_ids = [];\n  items.forEach(item => {\n    if (item instanceof _backbone_models_Folder__WEBPACK_IMPORTED_MODULE_1__[\"default\"]) {\n      folder_ids.push(item.get('id'));\n    } else {\n      file_ids.push(item.get('id'));\n    }\n  });\n  return jquery__WEBPACK_IMPORTED_MODULE_0___default.a.ajax({\n    url: apiUrl,\n    type: 'PUT',\n    data: {\n      folder_ids,\n      file_ids,\n      usage_rights: usageRights\n    },\n\n    success(data) {\n      return callback(true, data);\n    },\n\n    error(data) {\n      return callback(false, data);\n    }\n\n  });\n}\n\n//# sourceURL=webpack:///./ui/shared/files/util/setUsageRights.js?");

/***/ }),

/***/ "QjQa":
/*!***************************************************************************!*\
  !*** ./frontend_build/i18n.js?dateformat!./ui/shims/dummyI18nResource.js ***!
  \***************************************************************************/
/*! exports provided: default */
/***/ (function(module, __webpack_exports__, __webpack_require__) {

"use strict";
eval("__webpack_require__.r(__webpack_exports__);\n/* harmony import */ var _canvas_i18n_i18nObj__WEBPACK_IMPORTED_MODULE_0__ = __webpack_require__(/*! @canvas/i18n/i18nObj */ \"HGxv\");\n/* harmony import */ var translations_core_en__WEBPACK_IMPORTED_MODULE_1__ = __webpack_require__(/*! translations/_core_en */ \"0sPK\");\n\n    \n    \n    \n\n    /* harmony default export */ __webpack_exports__[\"default\"] = (_canvas_i18n_i18nObj__WEBPACK_IMPORTED_MODULE_0__[\"default\"].scoped('dateformat'));\n  \n\n//# sourceURL=webpack:///./ui/shims/dummyI18nResource.js?./frontend_build/i18n.js?dateformat");

/***/ }),

/***/ "S2y0":
/*!************************************************************************!*\
  !*** ./ui/shared/files/react/components/LegacyRestrictedDialogForm.js ***!
  \************************************************************************/
/*! exports provided: default */
/***/ (function(module, __webpack_exports__, __webpack_require__) {

"use strict";
eval("__webpack_require__.r(__webpack_exports__);\n/* harmony import */ var jquery__WEBPACK_IMPORTED_MODULE_0__ = __webpack_require__(/*! jquery */ \"ouhR\");\n/* harmony import */ var jquery__WEBPACK_IMPORTED_MODULE_0___default = /*#__PURE__*/__webpack_require__.n(jquery__WEBPACK_IMPORTED_MODULE_0__);\n/* harmony import */ var prop_types__WEBPACK_IMPORTED_MODULE_1__ = __webpack_require__(/*! prop-types */ \"17x9\");\n/* harmony import */ var prop_types__WEBPACK_IMPORTED_MODULE_1___default = /*#__PURE__*/__webpack_require__.n(prop_types__WEBPACK_IMPORTED_MODULE_1__);\n/* harmony import */ var i18n_restrict_student_access__WEBPACK_IMPORTED_MODULE_2__ = __webpack_require__(/*! i18n!restrict_student_access */ \"qJ3g\");\n/* harmony import */ var _backbone_models_Folder__WEBPACK_IMPORTED_MODULE_3__ = __webpack_require__(/*! ../../backbone/models/Folder */ \"3jyj\");\n/* harmony import */ var _modules_customPropTypes__WEBPACK_IMPORTED_MODULE_4__ = __webpack_require__(/*! ../modules/customPropTypes */ \"Lg2F\");\n/* harmony import */ var _util_setUsageRights__WEBPACK_IMPORTED_MODULE_5__ = __webpack_require__(/*! ../../util/setUsageRights */ \"ByV2\");\n/* harmony import */ var _util_updateModelsUsageRights__WEBPACK_IMPORTED_MODULE_6__ = __webpack_require__(/*! ../../util/updateModelsUsageRights */ \"ShJr\");\n/* harmony import */ var _canvas_datetime__WEBPACK_IMPORTED_MODULE_7__ = __webpack_require__(/*! @canvas/datetime */ \"7AEQ\");\n/* harmony import */ var _canvas_forms_jquery_jquery_instructure_forms__WEBPACK_IMPORTED_MODULE_8__ = __webpack_require__(/*! @canvas/forms/jquery/jquery.instructure_forms */ \"Dhso\");\n/*\n * Copyright (C) 2014 - present Instructure, Inc.\n *\n * This file is part of Canvas.\n *\n * Canvas is free software: you can redistribute it and/or modify it under\n * the terms of the GNU Affero General Public License as published by the Free\n * Software Foundation, version 3 of the License.\n *\n * Canvas is distributed in the hope that it will be useful, but WITHOUT ANY\n * WARRANTY; without even the implied warranty of MERCHANTABILITY or FITNESS FOR\n * A PARTICULAR PURPOSE. See the GNU Affero General Public License for more\n * details.\n *\n * You should have received a copy of the GNU Affero General Public License along\n * with this program. If not, see <http://www.gnu.org/licenses/>.\n */\n\n\n\n\n\n\n\n\n\n/* harmony default export */ __webpack_exports__[\"default\"] = ({\n  displayName: 'RestrictedDialogForm',\n  propTypes: {\n    closeDialog: prop_types__WEBPACK_IMPORTED_MODULE_1___default.a.func.isRequired,\n    models: prop_types__WEBPACK_IMPORTED_MODULE_1___default.a.arrayOf(_modules_customPropTypes__WEBPACK_IMPORTED_MODULE_4__[\"default\"].filesystemObject).isRequired,\n    usageRightsRequiredForContext: prop_types__WEBPACK_IMPORTED_MODULE_1___default.a.bool.isRequired\n  },\n\n  getInitialState() {\n    return {\n      submitable: false\n    };\n  },\n\n  componentDidMount() {\n    this.updateSubmitable();\n    jquery__WEBPACK_IMPORTED_MODULE_0___default()('.ui-dialog-titlebar-close').focus();\n  },\n\n  updateSubmitable() {\n    if (this.restrictedSelection.state && this.restrictedSelection.state.selectedOption) {\n      this.setState({\n        submitable: true\n      });\n    }\n  },\n\n  // === Custom Functions === #\n  // Function Summary\n  //\n  // Event though you can technically set each of these fields independently, since we\n  // are using them with a radio button we will grab all of the values and treat it as\n  // a state based on the input fields.\n  handleSubmit(event) {\n    event.preventDefault();\n\n    if (this.props.usageRightsRequiredForContext && !this.usageRightsOnAll() && !this.allFolders()) {\n      const values = this.usageSelection.getValues(); // They didn't choose a use justification\n\n      if (values.use_justification === 'choose') {\n        jquery__WEBPACK_IMPORTED_MODULE_0___default()(this.usageSelection.usageRightSelection).errorBox(i18n_restrict_student_access__WEBPACK_IMPORTED_MODULE_2__[\"default\"].t('You must specify a usage right.'));\n        return false;\n      }\n\n      const usageRightValue = {\n        use_justification: values.use_justification,\n        legal_copyright: values.copyright,\n        license: values.cc_license\n      }; // We need to first set usage rights before handling the setting of\n      // restricted access things.\n\n      return Object(_util_setUsageRights__WEBPACK_IMPORTED_MODULE_5__[\"default\"])(this.props.models, usageRightValue, (success, data) => {\n        if (success) {\n          Object(_util_updateModelsUsageRights__WEBPACK_IMPORTED_MODULE_6__[\"default\"])(data, this.props.models);\n          this.setRestrictedAccess();\n        } else {\n          jquery__WEBPACK_IMPORTED_MODULE_0___default.a.flashError(i18n_restrict_student_access__WEBPACK_IMPORTED_MODULE_2__[\"default\"].t('There was an error setting usage rights.'));\n        }\n      });\n    } else {\n      this.setRestrictedAccess();\n    }\n  },\n\n  setRestrictedAccess() {\n    const attributes = this.restrictedSelection.extractFormValues();\n\n    if (attributes.unlock_at && attributes.lock_at && attributes.unlock_at > attributes.lock_at) {\n      jquery__WEBPACK_IMPORTED_MODULE_0___default()(this.restrictedSelection.unlock_at).errorBox(i18n_restrict_student_access__WEBPACK_IMPORTED_MODULE_2__[\"default\"].t('\"Available From\" date must precede \"Available Until\"'));\n      return false;\n    }\n\n    const promises = this.props.models.map(item => // Calling .save like this (passing data as the 'attrs' property on\n    // the 'options' argument instead of as the first argument) is so that we just send\n    // the 3 attributes we care about (hidden, lock_at, unlock_at) in the PUT\n    // request (like you would for a PATCH request, execept our api doesn't support PATCH).\n    // We do this so if some other user changes the name while we are looking at the page,\n    // when we submit this form, we don't blow away their change and change the name back\n    // to what it was. we just update the things we intended.\n    item.save({}, {\n      attrs: attributes\n    }));\n    const dfd = jquery__WEBPACK_IMPORTED_MODULE_0___default.a.when(...Array.from(promises || []));\n    dfd.done(() => this.props.closeDialog());\n    jquery__WEBPACK_IMPORTED_MODULE_0___default()(this.dialogForm).disableWhileLoading(dfd);\n  },\n\n  /*\n   * Returns true if all the models passed in have usage rights\n   */\n  usageRightsOnAll() {\n    return this.props.models.every(model => model.get('usage_rights'));\n  },\n\n  /*\n   * Returns true if all the models passed in are folders.\n   */\n  allFolders() {\n    return this.props.models.every(model => model instanceof _backbone_models_Folder__WEBPACK_IMPORTED_MODULE_3__[\"default\"]);\n  },\n\n  /*\n   * Returns true if all the models passed in are folders.\n   */\n  anyFolders() {\n    return this.props.models.filter(model => model instanceof _backbone_models_Folder__WEBPACK_IMPORTED_MODULE_3__[\"default\"]).length;\n  },\n\n  // callback function passed to RestrictedRadioButtons as props\n  // for disabling/enabling of the Update Button\n  radioStateChange() {\n    this.setState({\n      submitable: true\n    });\n  }\n\n});\n\n//# sourceURL=webpack:///./ui/shared/files/react/components/LegacyRestrictedDialogForm.js?");

/***/ }),

/***/ "ShJr":
/*!*********************************************************!*\
  !*** ./ui/shared/files/util/updateModelsUsageRights.js ***!
  \*********************************************************/
/*! exports provided: default */
/***/ (function(module, __webpack_exports__, __webpack_require__) {

"use strict";
eval("__webpack_require__.r(__webpack_exports__);\n/* harmony export (binding) */ __webpack_require__.d(__webpack_exports__, \"default\", function() { return updateModelsUsageRights; });\n/* harmony import */ var underscore__WEBPACK_IMPORTED_MODULE_0__ = __webpack_require__(/*! underscore */ \"Y/W1\");\n/* harmony import */ var underscore__WEBPACK_IMPORTED_MODULE_0___default = /*#__PURE__*/__webpack_require__.n(underscore__WEBPACK_IMPORTED_MODULE_0__);\n/* harmony import */ var _backbone_models_Folder__WEBPACK_IMPORTED_MODULE_1__ = __webpack_require__(/*! ../backbone/models/Folder */ \"3jyj\");\n/* harmony import */ var _backbone_models_File_coffee__WEBPACK_IMPORTED_MODULE_2__ = __webpack_require__(/*! ../backbone/models/File.coffee */ \"C8i9\");\n/* harmony import */ var _backbone_models_ModuleFile__WEBPACK_IMPORTED_MODULE_3__ = __webpack_require__(/*! ../backbone/models/ModuleFile */ \"zq/q\");\n/*\n * Copyright (C) 2014 - present Instructure, Inc.\n *\n * This file is part of Canvas.\n *\n * Canvas is free software: you can redistribute it and/or modify it under\n * the terms of the GNU Affero General Public License as published by the Free\n * Software Foundation, version 3 of the License.\n *\n * Canvas is distributed in the hope that it will be useful, but WITHOUT ANY\n * WARRANTY; without even the implied warranty of MERCHANTABILITY or FITNESS FOR\n * A PARTICULAR PURPOSE. See the GNU Affero General Public License for more\n * details.\n *\n * You should have received a copy of the GNU Affero General Public License along\n * with this program. If not, see <http://www.gnu.org/licenses/>.\n */\n\n\n\n\n/*\n * Sets usage rights on the models in memory based on the response from the\n * API.\n *    apiData - the response from the API\n *    models - an array containing the files/folders to update\n */\n// Grab the ids affected from the apiData\n\nfunction updateModelsUsageRights(apiData, models) {\n  const affectedIds = apiData && apiData.file_ids; // Seperate the models array into a file group and a folder group.\n\n  const _$groupBy = underscore__WEBPACK_IMPORTED_MODULE_0___default.a.groupBy(models, item => {\n    if (item instanceof _backbone_models_File_coffee__WEBPACK_IMPORTED_MODULE_2__[\"default\"]) return 'files';\n    if (item instanceof _backbone_models_ModuleFile__WEBPACK_IMPORTED_MODULE_3__[\"default\"]) return 'files';\n    if (item instanceof _backbone_models_Folder__WEBPACK_IMPORTED_MODULE_1__[\"default\"]) return 'folders';\n  }),\n        files = _$groupBy.files,\n        folders = _$groupBy.folders; // We'll go ahead and update the files and remove the id from our list.\n\n\n  if (files) {\n    files.map((file, index) => {\n      const id = parseInt(file[file.idAttribute], 10);\n      const idx = affectedIds.indexOf(id);\n\n      if (affectedIds.includes(id)) {\n        file.set({\n          usage_rights: {\n            legal_copyright: apiData && apiData.legal_copyright,\n            license: apiData && apiData.license,\n            use_justification: apiData && apiData.use_justification,\n            own_copyright: apiData && apiData.own_copyright,\n            license_name: apiData && apiData.license_name\n          }\n        });\n        return affectedIds.splice(idx, 1);\n      }\n    });\n  }\n\n  if (affectedIds.length === 0) return; // Now that we have the files out of the way we can continue to the folders\n\n  if (folders) {\n    folders.forEach(folder => {\n      // Combine the models from the files and folders collection\n      const combinedCollection = folder.files.models.concat(folder.folders.models); // The function expects us to give it apiData with file ids, so we\n      // update it then give it back to the function recursively.\n\n      apiData.file_ids = affectedIds;\n      updateModelsUsageRights(apiData, combinedCollection);\n    });\n  }\n}\n\n//# sourceURL=webpack:///./ui/shared/files/util/updateModelsUsageRights.js?");

/***/ }),

/***/ "Vwmk":
/*!*******************************************************!*\
  !*** ./ui/shared/files/react/mixins/BackboneMixin.js ***!
  \*******************************************************/
/*! exports provided: default */
/***/ (function(module, __webpack_exports__, __webpack_require__) {

"use strict";
eval("__webpack_require__.r(__webpack_exports__);\n/* harmony export (binding) */ __webpack_require__.d(__webpack_exports__, \"default\", function() { return BackboneMixin; });\n/* harmony import */ var _canvas_backbone__WEBPACK_IMPORTED_MODULE_0__ = __webpack_require__(/*! @canvas/backbone */ \"mX+G\");\n/* harmony import */ var _canvas_backbone__WEBPACK_IMPORTED_MODULE_0___default = /*#__PURE__*/__webpack_require__.n(_canvas_backbone__WEBPACK_IMPORTED_MODULE_0__);\n/* harmony import */ var underscore__WEBPACK_IMPORTED_MODULE_1__ = __webpack_require__(/*! underscore */ \"Y/W1\");\n/* harmony import */ var underscore__WEBPACK_IMPORTED_MODULE_1___default = /*#__PURE__*/__webpack_require__.n(underscore__WEBPACK_IMPORTED_MODULE_1__);\n/*\n * Copyright (C) 2014 - present Instructure, Inc.\n *\n * This file is part of Canvas.\n *\n * Canvas is free software: you can redistribute it and/or modify it under\n * the terms of the GNU Affero General Public License as published by the Free\n * Software Foundation, version 3 of the License.\n *\n * Canvas is distributed in the hope that it will be useful, but WITHOUT ANY\n * WARRANTY; without even the implied warranty of MERCHANTABILITY or FITNESS FOR\n * A PARTICULAR PURPOSE. See the GNU Affero General Public License for more\n * details.\n *\n * You should have received a copy of the GNU Affero General Public License along\n * with this program. If not, see <http://www.gnu.org/licenses/>.\n */\n// this is just https://github.com/usepropeller/react.backbone but without the UMD wrapper.\n\n\nconst collectionBehavior = {\n  changeOptions: 'add remove reset sort',\n\n  updateScheduler(func) {\n    return underscore__WEBPACK_IMPORTED_MODULE_1___default.a.debounce(func, 0);\n  }\n\n};\nconst modelBehavior = {\n  changeOptions: 'change',\n  // note: if we debounce models too we can no longer use model attributes\n  // as properties to react controlled components due to https://github.com/facebook/react/issues/955\n  updateScheduler: underscore__WEBPACK_IMPORTED_MODULE_1___default.a.identity\n};\n\nfunction subscribe(component, modelOrCollection, customChangeOptions) {\n  if (!modelOrCollection) return;\n  const behavior = modelOrCollection instanceof _canvas_backbone__WEBPACK_IMPORTED_MODULE_0___default.a.Collection ? collectionBehavior : modelBehavior;\n  const triggerUpdate = behavior.updateScheduler(() => {\n    if (component.isMounted()) {\n      return (component.onModelChange || component.forceUpdate).call(component);\n    }\n  });\n  const changeOptions = customChangeOptions || component.changeOptions || behavior.changeOptions;\n  return modelOrCollection.on(changeOptions, triggerUpdate, component);\n}\n\nfunction unsubscribe(component, modelOrCollection) {\n  if (!modelOrCollection) return;\n  return modelOrCollection.off(null, null, component);\n}\n\nfunction BackboneMixin(optionsOrPropName, customChangeOptions) {\n  let modelOrCollection, propName;\n\n  if (typeof optionsOrPropName === 'object') {\n    customChangeOptions = optionsOrPropName.renderOn;\n    propName = optionsOrPropName.propName;\n    modelOrCollection = optionsOrPropName.modelOrCollection;\n  } else {\n    propName = optionsOrPropName;\n  }\n\n  if (!modelOrCollection) {\n    modelOrCollection = props => props[propName];\n  }\n\n  return {\n    componentDidMount() {\n      // Whenever there may be a change in the Backbone data, trigger a reconcile.\n      subscribe(this, modelOrCollection(this.props), customChangeOptions);\n    },\n\n    componentWillReceiveProps(nextProps) {\n      if (modelOrCollection(this.props) === modelOrCollection(nextProps)) return;\n      unsubscribe(this, modelOrCollection(this.props));\n      subscribe(this, modelOrCollection(nextProps), customChangeOptions);\n      if (typeof this.componentWillChangeModel === 'function') this.componentWillChangeModel();\n    },\n\n    componentDidUpdate(prevProps, prevState) {\n      if (modelOrCollection(this.props) === modelOrCollection(prevProps)) return;\n      if (typeof this.componentDidChangeModel === 'function') this.componentDidChangeModel();\n    },\n\n    componentWillUnmount() {\n      // Ensure that we clean up any dangling references when the component is destroyed.\n      unsubscribe(this, modelOrCollection(this.props));\n    }\n\n  };\n}\n\n//# sourceURL=webpack:///./ui/shared/files/react/mixins/BackboneMixin.js?");

/***/ }),

/***/ "WiTB":
/*!*****************************************************************************!*\
  !*** ./ui/shared/files/react/components/LegacyFilesystemObjectThumbnail.js ***!
  \*****************************************************************************/
/*! exports provided: default */
/***/ (function(module, __webpack_exports__, __webpack_require__) {

"use strict";
eval("__webpack_require__.r(__webpack_exports__);\n/* harmony import */ var _mixins_BackboneMixin__WEBPACK_IMPORTED_MODULE_0__ = __webpack_require__(/*! ../mixins/BackboneMixin */ \"Vwmk\");\n/* harmony import */ var _backbone_models_Folder__WEBPACK_IMPORTED_MODULE_1__ = __webpack_require__(/*! ../../backbone/models/Folder */ \"3jyj\");\n/* harmony import */ var _modules_customPropTypes__WEBPACK_IMPORTED_MODULE_2__ = __webpack_require__(/*! ../modules/customPropTypes */ \"Lg2F\");\n/*\n * Copyright (C) 2014 - present Instructure, Inc.\n *\n * This file is part of Canvas.\n *\n * Canvas is free software: you can redistribute it and/or modify it under\n * the terms of the GNU Affero General Public License as published by the Free\n * Software Foundation, version 3 of the License.\n *\n * Canvas is distributed in the hope that it will be useful, but WITHOUT ANY\n * WARRANTY; without even the implied warranty of MERCHANTABILITY or FITNESS FOR\n * A PARTICULAR PURPOSE. See the GNU Affero General Public License for more\n * details.\n *\n * You should have received a copy of the GNU Affero General Public License along\n * with this program. If not, see <http://www.gnu.org/licenses/>.\n */\n\n\n\n/* harmony default export */ __webpack_exports__[\"default\"] = ({\n  displayName: 'FilesystemObjectThumbnail',\n  propTypes: {\n    model: _modules_customPropTypes__WEBPACK_IMPORTED_MODULE_2__[\"default\"].filesystemObject\n  },\n  mixins: [Object(_mixins_BackboneMixin__WEBPACK_IMPORTED_MODULE_0__[\"default\"])('model')],\n\n  getInitialState() {\n    return {\n      thumbnail_url: this.props.model && this.props.model.get('thumbnail_url')\n    };\n  },\n\n  componentDidMount() {\n    // Set an interval to check for thumbnails\n    // if they don't currently exist (e.g. when\n    // a thumbnail is being generated but not\n    // immediately available after file upload)\n    const intervalMultiplier = 2.0;\n    let delay = 10000;\n    let attempts = 0;\n    const maxAttempts = 4;\n\n    const checkThumbnailTimeout = () => {\n      delay *= intervalMultiplier;\n      attempts++;\n      return setTimeout(() => {\n        this.checkForThumbnail(checkThumbnailTimeout);\n        if (attempts >= maxAttempts) return clearTimeout(checkThumbnailTimeout);\n        checkThumbnailTimeout();\n      }, delay);\n    };\n\n    checkThumbnailTimeout();\n  },\n\n  checkForThumbnail(timeout) {\n    if (this.state.thumbnail_url || this.props.model && this.props.model.attributes && this.props.model.attributes.locked_for_user || this.props.model instanceof _backbone_models_Folder__WEBPACK_IMPORTED_MODULE_1__[\"default\"] || this.props.model && this.props.model.get('content-type') && this.props.model.get('content-type').match('audio')) {\n      return;\n    }\n\n    if (this.props.model) return this.props.model.fetch({\n      success: (model, response, options) => setTimeout(() => {\n        if (response && response.thumbnail_url) {\n          this.setState({\n            thumbnail_url: response.thumbnail_url\n          });\n        }\n      }, 0),\n\n      error() {\n        return clearTimeout(timeout);\n      }\n\n    });\n  }\n\n});\n\n//# sourceURL=webpack:///./ui/shared/files/react/components/LegacyFilesystemObjectThumbnail.js?");

/***/ }),

/***/ "c9cI":
/*!******************************************************************!*\
  !*** ./ui/shared/files/react/components/RestrictedDialogForm.js ***!
  \******************************************************************/
/*! exports provided: default */
/***/ (function(module, __webpack_exports__, __webpack_require__) {

"use strict";
eval("__webpack_require__.r(__webpack_exports__);\n/* harmony import */ var react__WEBPACK_IMPORTED_MODULE_0__ = __webpack_require__(/*! react */ \"q1tI\");\n/* harmony import */ var react__WEBPACK_IMPORTED_MODULE_0___default = /*#__PURE__*/__webpack_require__.n(react__WEBPACK_IMPORTED_MODULE_0__);\n/* harmony import */ var create_react_class__WEBPACK_IMPORTED_MODULE_1__ = __webpack_require__(/*! create-react-class */ \"fhzG\");\n/* harmony import */ var create_react_class__WEBPACK_IMPORTED_MODULE_1___default = /*#__PURE__*/__webpack_require__.n(create_react_class__WEBPACK_IMPORTED_MODULE_1__);\n/* harmony import */ var i18n_restrict_student_access__WEBPACK_IMPORTED_MODULE_2__ = __webpack_require__(/*! i18n!restrict_student_access */ \"qJ3g\");\n/* harmony import */ var classnames__WEBPACK_IMPORTED_MODULE_3__ = __webpack_require__(/*! classnames */ \"TSYQ\");\n/* harmony import */ var classnames__WEBPACK_IMPORTED_MODULE_3___default = /*#__PURE__*/__webpack_require__.n(classnames__WEBPACK_IMPORTED_MODULE_3__);\n/* harmony import */ var _UsageRightsSelectBox__WEBPACK_IMPORTED_MODULE_4__ = __webpack_require__(/*! ./UsageRightsSelectBox */ \"e/fc\");\n/* harmony import */ var _RestrictedRadioButtons__WEBPACK_IMPORTED_MODULE_5__ = __webpack_require__(/*! ./RestrictedRadioButtons */ \"rRaX\");\n/* harmony import */ var _DialogPreview__WEBPACK_IMPORTED_MODULE_6__ = __webpack_require__(/*! ./DialogPreview */ \"dEqW\");\n/* harmony import */ var _LegacyRestrictedDialogForm__WEBPACK_IMPORTED_MODULE_7__ = __webpack_require__(/*! ./LegacyRestrictedDialogForm */ \"S2y0\");\n/*\n * Copyright (C) 2015 - present Instructure, Inc.\n *\n * This file is part of Canvas.\n *\n * Canvas is free software: you can redistribute it and/or modify it under\n * the terms of the GNU Affero General Public License as published by the Free\n * Software Foundation, version 3 of the License.\n *\n * Canvas is distributed in the hope that it will be useful, but WITHOUT ANY\n * WARRANTY; without even the implied warranty of MERCHANTABILITY or FITNESS FOR\n * A PARTICULAR PURPOSE. See the GNU Affero General Public License for more\n * details.\n *\n * You should have received a copy of the GNU Affero General Public License along\n * with this program. If not, see <http://www.gnu.org/licenses/>.\n */\n\n\n\n\n\n\n\n\n\n_LegacyRestrictedDialogForm__WEBPACK_IMPORTED_MODULE_7__[\"default\"].renderUsageRightsWarning = function () {\n  return /*#__PURE__*/react__WEBPACK_IMPORTED_MODULE_0___default.a.createElement(\"div\", {\n    className: \"RestrictedDialogForm__banner col-xs-12\"\n  }, /*#__PURE__*/react__WEBPACK_IMPORTED_MODULE_0___default.a.createElement(\"span\", {\n    className: \"alert\"\n  }, /*#__PURE__*/react__WEBPACK_IMPORTED_MODULE_0___default.a.createElement(\"i\", {\n    className: \"icon-warning RestrictedDialogForm__warning\"\n  }), i18n_restrict_student_access__WEBPACK_IMPORTED_MODULE_2__[\"default\"].t('Before publishing, you must set usage rights on your files.')));\n}; // Renders out the restricted access form\n// - options is an object which can be used to conditionally set certain aspects\n//   of rendering.\n//   Future Refactor: Move this to another component should it's use elsewhere\n//                  be meritted.\n\n\n_LegacyRestrictedDialogForm__WEBPACK_IMPORTED_MODULE_7__[\"default\"].renderRestrictedAccessForm = function (options) {\n  const formContainerClasses = classnames__WEBPACK_IMPORTED_MODULE_3___default()({\n    RestrictedDialogForm__form: true,\n    'col-xs-9': true,\n    'off-xs-3': options && options.offset\n  });\n  return /*#__PURE__*/react__WEBPACK_IMPORTED_MODULE_0___default.a.createElement(\"div\", {\n    className: formContainerClasses\n  }, /*#__PURE__*/react__WEBPACK_IMPORTED_MODULE_0___default.a.createElement(\"form\", {\n    ref: e => this.dialogForm = e,\n    onSubmit: this.handleSubmit,\n    className: \"form-horizontal form-dialog permissions-dialog-form\"\n  }, /*#__PURE__*/react__WEBPACK_IMPORTED_MODULE_0___default.a.createElement(_RestrictedRadioButtons__WEBPACK_IMPORTED_MODULE_5__[\"default\"], {\n    ref: e => this.restrictedSelection = e,\n    models: this.props.models,\n    radioStateChange: this.radioStateChange\n  }), /*#__PURE__*/react__WEBPACK_IMPORTED_MODULE_0___default.a.createElement(\"div\", {\n    className: \"form-controls\"\n  }, /*#__PURE__*/react__WEBPACK_IMPORTED_MODULE_0___default.a.createElement(\"button\", {\n    type: \"button\",\n    onClick: this.props.closeDialog,\n    className: \"btn\"\n  }, i18n_restrict_student_access__WEBPACK_IMPORTED_MODULE_2__[\"default\"].t('Cancel')), /*#__PURE__*/react__WEBPACK_IMPORTED_MODULE_0___default.a.createElement(\"button\", {\n    ref: e => this.updateBtn = e,\n    type: \"submit\",\n    className: \"btn btn-primary\",\n    disabled: !this.state.submitable\n  }, i18n_restrict_student_access__WEBPACK_IMPORTED_MODULE_2__[\"default\"].t('Update')))));\n};\n\n_LegacyRestrictedDialogForm__WEBPACK_IMPORTED_MODULE_7__[\"default\"].render = function () {\n  // Doing this here to prevent possible repeat runs of this.usageRightsOnAll and this.allFolders\n  const showUsageRights = this.props.usageRightsRequiredForContext && !this.usageRightsOnAll() && !this.allFolders();\n  return /*#__PURE__*/react__WEBPACK_IMPORTED_MODULE_0___default.a.createElement(\"div\", {\n    className: \"RestrictedDialogForm__container\"\n  }, !!showUsageRights && /*#__PURE__*/react__WEBPACK_IMPORTED_MODULE_0___default.a.createElement(\"div\", {\n    className: \"RestrictedDialogForm__firstRow grid-row\"\n  }, this.renderUsageRightsWarning()), /*#__PURE__*/react__WEBPACK_IMPORTED_MODULE_0___default.a.createElement(\"div\", {\n    className: \"RestrictedDialogForm__secondRow grid-row\"\n  }, /*#__PURE__*/react__WEBPACK_IMPORTED_MODULE_0___default.a.createElement(\"div\", {\n    className: \"RestrictedDialogForm__preview col-xs-3\"\n  }, /*#__PURE__*/react__WEBPACK_IMPORTED_MODULE_0___default.a.createElement(_DialogPreview__WEBPACK_IMPORTED_MODULE_6__[\"default\"], {\n    itemsToShow: this.props.models\n  })), !!showUsageRights && /*#__PURE__*/react__WEBPACK_IMPORTED_MODULE_0___default.a.createElement(\"div\", {\n    className: \"RestrictedDialogForm__usageRights col-xs-9\"\n  }, /*#__PURE__*/react__WEBPACK_IMPORTED_MODULE_0___default.a.createElement(_UsageRightsSelectBox__WEBPACK_IMPORTED_MODULE_4__[\"default\"], {\n    ref: e => this.usageSelection = e\n  }), /*#__PURE__*/react__WEBPACK_IMPORTED_MODULE_0___default.a.createElement(\"hr\", null)), !showUsageRights && this.renderRestrictedAccessForm()), !!showUsageRights && /*#__PURE__*/react__WEBPACK_IMPORTED_MODULE_0___default.a.createElement(\"div\", {\n    className: \"RestrictedDialogForm__thirdRow grid-row\"\n  }, this.renderRestrictedAccessForm({\n    offset: true\n  })));\n};\n\n/* harmony default export */ __webpack_exports__[\"default\"] = (create_react_class__WEBPACK_IMPORTED_MODULE_1___default()(_LegacyRestrictedDialogForm__WEBPACK_IMPORTED_MODULE_7__[\"default\"]));\n\n//# sourceURL=webpack:///./ui/shared/files/react/components/RestrictedDialogForm.js?");

/***/ }),

/***/ "dEqW":
/*!***********************************************************!*\
  !*** ./ui/shared/files/react/components/DialogPreview.js ***!
  \***********************************************************/
/*! exports provided: default */
/***/ (function(module, __webpack_exports__, __webpack_require__) {

"use strict";
eval("__webpack_require__.r(__webpack_exports__);\n/* harmony import */ var react__WEBPACK_IMPORTED_MODULE_0__ = __webpack_require__(/*! react */ \"q1tI\");\n/* harmony import */ var react__WEBPACK_IMPORTED_MODULE_0___default = /*#__PURE__*/__webpack_require__.n(react__WEBPACK_IMPORTED_MODULE_0__);\n/* harmony import */ var prop_types__WEBPACK_IMPORTED_MODULE_1__ = __webpack_require__(/*! prop-types */ \"17x9\");\n/* harmony import */ var prop_types__WEBPACK_IMPORTED_MODULE_1___default = /*#__PURE__*/__webpack_require__.n(prop_types__WEBPACK_IMPORTED_MODULE_1__);\n/* harmony import */ var _modules_customPropTypes__WEBPACK_IMPORTED_MODULE_2__ = __webpack_require__(/*! ../modules/customPropTypes */ \"Lg2F\");\n/* harmony import */ var _modules_filesEnv__WEBPACK_IMPORTED_MODULE_3__ = __webpack_require__(/*! ../modules/filesEnv */ \"m452\");\n/* harmony import */ var _FilesystemObjectThumbnail__WEBPACK_IMPORTED_MODULE_4__ = __webpack_require__(/*! ./FilesystemObjectThumbnail */ \"vTMu\");\n/*\n * Copyright (C) 2015 - present Instructure, Inc.\n *\n * This file is part of Canvas.\n *\n * Canvas is free software: you can redistribute it and/or modify it under\n * the terms of the GNU Affero General Public License as published by the Free\n * Software Foundation, version 3 of the License.\n *\n * Canvas is distributed in the hope that it will be useful, but WITHOUT ANY\n * WARRANTY; without even the implied warranty of MERCHANTABILITY or FITNESS FOR\n * A PARTICULAR PURPOSE. See the GNU Affero General Public License for more\n * details.\n *\n * You should have received a copy of the GNU Affero General Public License along\n * with this program. If not, see <http://www.gnu.org/licenses/>.\n */\n\n\n\n\n\nconst MAX_THUMBNAILS_TO_SHOW = 5; // This is used to show a preview inside of a modal dialog.\n\nclass DialogPreview extends react__WEBPACK_IMPORTED_MODULE_0___default.a.Component {\n  constructor(...args) {\n    super(...args);\n\n    this.renderPreview = () => {\n      if (this.props.itemsToShow.length === 1) {\n        return /*#__PURE__*/react__WEBPACK_IMPORTED_MODULE_0___default.a.createElement(_FilesystemObjectThumbnail__WEBPACK_IMPORTED_MODULE_4__[\"default\"], {\n          model: this.props.itemsToShow[0],\n          className: \"DialogPreview__thumbnail\"\n        });\n      } else {\n        return this.props.itemsToShow.slice(0, MAX_THUMBNAILS_TO_SHOW).map((model, index) => /*#__PURE__*/react__WEBPACK_IMPORTED_MODULE_0___default.a.createElement(\"i\", {\n          key: model.cid,\n          className: \"media-object ef-big-icon FilesystemObjectThumbnail mimeClass-file DialogPreview__thumbnail\",\n          style: {\n            left: 10 * index,\n            top: -140 * index\n          }\n        }));\n      }\n    };\n  }\n\n  render() {\n    return /*#__PURE__*/react__WEBPACK_IMPORTED_MODULE_0___default.a.createElement(\"div\", {\n      className: \"DialogPreview__container\"\n    }, this.renderPreview());\n  }\n\n}\n\nDialogPreview.displayName = 'DialogPreview';\nDialogPreview.propTypes = {\n  itemsToShow: prop_types__WEBPACK_IMPORTED_MODULE_1___default.a.arrayOf(_modules_customPropTypes__WEBPACK_IMPORTED_MODULE_2__[\"default\"].filesystemObject).isRequired\n};\n/* harmony default export */ __webpack_exports__[\"default\"] = (DialogPreview);\n\n//# sourceURL=webpack:///./ui/shared/files/react/components/DialogPreview.js?");

/***/ }),

/***/ "e/fc":
/*!******************************************************************!*\
  !*** ./ui/shared/files/react/components/UsageRightsSelectBox.js ***!
  \******************************************************************/
/*! exports provided: default */
/***/ (function(module, __webpack_exports__, __webpack_require__) {

"use strict";
eval("__webpack_require__.r(__webpack_exports__);\n/* harmony export (binding) */ __webpack_require__.d(__webpack_exports__, \"default\", function() { return UsageRightsSelectBox; });\n/* harmony import */ var jquery__WEBPACK_IMPORTED_MODULE_0__ = __webpack_require__(/*! jquery */ \"ouhR\");\n/* harmony import */ var jquery__WEBPACK_IMPORTED_MODULE_0___default = /*#__PURE__*/__webpack_require__.n(jquery__WEBPACK_IMPORTED_MODULE_0__);\n/* harmony import */ var react__WEBPACK_IMPORTED_MODULE_1__ = __webpack_require__(/*! react */ \"q1tI\");\n/* harmony import */ var react__WEBPACK_IMPORTED_MODULE_1___default = /*#__PURE__*/__webpack_require__.n(react__WEBPACK_IMPORTED_MODULE_1__);\n/* harmony import */ var prop_types__WEBPACK_IMPORTED_MODULE_2__ = __webpack_require__(/*! prop-types */ \"17x9\");\n/* harmony import */ var prop_types__WEBPACK_IMPORTED_MODULE_2___default = /*#__PURE__*/__webpack_require__.n(prop_types__WEBPACK_IMPORTED_MODULE_2__);\n/* harmony import */ var i18n_usageRightsSelectBox__WEBPACK_IMPORTED_MODULE_3__ = __webpack_require__(/*! i18n!usageRightsSelectBox */ \"18+T\");\n/* harmony import */ var _modules_filesEnv__WEBPACK_IMPORTED_MODULE_4__ = __webpack_require__(/*! ../modules/filesEnv */ \"m452\");\n/*\n * Copyright (C) 2015 - present Instructure, Inc.\n *\n * This file is part of Canvas.\n *\n * Canvas is free software: you can redistribute it and/or modify it under\n * the terms of the GNU Affero General Public License as published by the Free\n * Software Foundation, version 3 of the License.\n *\n * Canvas is distributed in the hope that it will be useful, but WITHOUT ANY\n * WARRANTY; without even the implied warranty of MERCHANTABILITY or FITNESS FOR\n * A PARTICULAR PURPOSE. See the GNU Affero General Public License for more\n * details.\n *\n * You should have received a copy of the GNU Affero General Public License along\n * with this program. If not, see <http://www.gnu.org/licenses/>.\n */\n\n\n\n\n\n\nfunction omitEmptyValues(obj) {\n  Object.keys(obj).forEach(k => {\n    if (obj[k] == null) delete obj[k];\n  });\n  return obj;\n}\n\nconst CONTENT_OPTIONS = [{\n  display: i18n_usageRightsSelectBox__WEBPACK_IMPORTED_MODULE_3__[\"default\"].t('Choose usage rights...'),\n  value: 'choose'\n}, {\n  display: i18n_usageRightsSelectBox__WEBPACK_IMPORTED_MODULE_3__[\"default\"].t('I hold the copyright'),\n  value: 'own_copyright'\n}, {\n  display: i18n_usageRightsSelectBox__WEBPACK_IMPORTED_MODULE_3__[\"default\"].t('I have obtained permission to use this file.'),\n  value: 'used_by_permission'\n}, {\n  display: i18n_usageRightsSelectBox__WEBPACK_IMPORTED_MODULE_3__[\"default\"].t('The material is in the public domain'),\n  value: 'public_domain'\n}, {\n  display: i18n_usageRightsSelectBox__WEBPACK_IMPORTED_MODULE_3__[\"default\"].t('The material is subject to an exception - e.g. fair use, the right to quote, or others under applicable copyright laws'),\n  value: 'fair_use'\n}, {\n  display: i18n_usageRightsSelectBox__WEBPACK_IMPORTED_MODULE_3__[\"default\"].t('The material is licensed under Creative Commons'),\n  value: 'creative_commons'\n}];\nclass UsageRightsSelectBox extends react__WEBPACK_IMPORTED_MODULE_1___default.a.Component {\n  constructor(...args) {\n    super(...args);\n    this.state = {\n      showTextBox: this.props.use_justification !== 'choose',\n      showCreativeCommonsOptions: this.props.use_justification === 'creative_commons' && this.props.copyright != null,\n      licenseOptions: [],\n      showMessage: this.props.showMessage,\n      usageRightSelectionValue: this.props.use_justification ? this.props.use_justification : void 0\n    };\n  }\n\n  componentDidMount() {\n    this.getUsageRightsOptions();\n  }\n\n  apiUrl() {\n    return `/api/v1/${_modules_filesEnv__WEBPACK_IMPORTED_MODULE_4__[\"default\"].contextType || this.props.contextType}/${_modules_filesEnv__WEBPACK_IMPORTED_MODULE_4__[\"default\"].contextId || this.props.contextId}/content_licenses`;\n  } // Exposes the selected values to the outside world.\n\n\n  getValues() {\n    let x;\n    const obj = {\n      use_justification: this.usageRightSelection.value,\n      copyright: this.state.showTextBox ? (x = this.copyright) && x.value : void 0,\n      cc_license: this.state.showCreativeCommonsOptions ? (x = this.creativeCommons) && x.value : void 0\n    };\n    return omitEmptyValues(obj);\n  }\n\n  getUsageRightsOptions() {\n    return jquery__WEBPACK_IMPORTED_MODULE_0___default.a.get(this.apiUrl(), data => {\n      this.setState({\n        licenseOptions: data\n      });\n    });\n  }\n\n  handleChange(event) {\n    this.setState({\n      usageRightSelectionValue: event.target.value,\n      showTextBox: event.target.value !== 'choose',\n      showCreativeCommonsOptions: event.target.value === 'creative_commons',\n      showMessage: this.props.showMessage && event.target.value === 'choose'\n    });\n  } // This method only really applies to firefox which doesn't handle onChange\n  // events on select boxes like every other browser.\n\n\n  handleChooseKeyPress(event) {\n    if (event.key === 'ArrowUp' || event.key === 'ArrowDown') {\n      this.setState({\n        usageRightSelectionValue: event.target.value\n      }, this.handleChange(event));\n    }\n  }\n\n  renderContentOptions() {\n    return CONTENT_OPTIONS.map(contentOption => /*#__PURE__*/react__WEBPACK_IMPORTED_MODULE_1___default.a.createElement(\"option\", {\n      key: contentOption.value,\n      value: contentOption.value\n    }, contentOption.display));\n  }\n\n  renderCreativeCommonsOptions() {\n    const onlyCC = this.state.licenseOptions.filter(license => license.id.indexOf('cc') === 0);\n    return onlyCC.map(license => /*#__PURE__*/react__WEBPACK_IMPORTED_MODULE_1___default.a.createElement(\"option\", {\n      key: license.id,\n      value: license.id\n    }, license.name));\n  }\n\n  renderShowCreativeCommonsOptions() {\n    return /*#__PURE__*/react__WEBPACK_IMPORTED_MODULE_1___default.a.createElement(\"div\", {\n      className: \"control-group\"\n    }, /*#__PURE__*/react__WEBPACK_IMPORTED_MODULE_1___default.a.createElement(\"label\", {\n      className: \"control-label\",\n      htmlFor: \"creativeCommonsSelection\"\n    }, i18n_usageRightsSelectBox__WEBPACK_IMPORTED_MODULE_3__[\"default\"].t('Creative Commons License:')), /*#__PURE__*/react__WEBPACK_IMPORTED_MODULE_1___default.a.createElement(\"div\", {\n      className: \"control\"\n    }, /*#__PURE__*/react__WEBPACK_IMPORTED_MODULE_1___default.a.createElement(\"select\", {\n      id: \"creativeCommonsSelection\",\n      className: \"UsageRightsSelectBox__creativeCommons\",\n      ref: e => this.creativeCommons = e,\n      defaultValue: this.props.cc_value\n    }, this.renderCreativeCommonsOptions())));\n  }\n\n  renderShowMessage() {\n    const renderShowMessage = /*#__PURE__*/react__WEBPACK_IMPORTED_MODULE_1___default.a.createElement(\"div\", {\n      ref: e => this.showMessageAlert = e,\n      className: \"alert\"\n    }, /*#__PURE__*/react__WEBPACK_IMPORTED_MODULE_1___default.a.createElement(\"span\", null, /*#__PURE__*/react__WEBPACK_IMPORTED_MODULE_1___default.a.createElement(\"i\", {\n      className: \"icon-warning\"\n    }), /*#__PURE__*/react__WEBPACK_IMPORTED_MODULE_1___default.a.createElement(\"span\", {\n      style: {\n        paddingLeft: '10px'\n      }\n    }, i18n_usageRightsSelectBox__WEBPACK_IMPORTED_MODULE_3__[\"default\"].t(\"If you do not select usage rights now, this file will be unpublished after it's uploaded.\"))));\n    return this.state.showMessage ? renderShowMessage : null;\n  }\n\n  render() {\n    return /*#__PURE__*/react__WEBPACK_IMPORTED_MODULE_1___default.a.createElement(\"div\", {\n      className: \"UsageRightsSelectBox__container\"\n    }, /*#__PURE__*/react__WEBPACK_IMPORTED_MODULE_1___default.a.createElement(\"div\", {\n      className: \"control-group\"\n    }, /*#__PURE__*/react__WEBPACK_IMPORTED_MODULE_1___default.a.createElement(\"label\", {\n      className: \"control-label\",\n      htmlFor: \"usageRightSelector\"\n    }, i18n_usageRightsSelectBox__WEBPACK_IMPORTED_MODULE_3__[\"default\"].t('Usage Right:')), /*#__PURE__*/react__WEBPACK_IMPORTED_MODULE_1___default.a.createElement(\"div\", {\n      className: \"controls\"\n    }, /*#__PURE__*/react__WEBPACK_IMPORTED_MODULE_1___default.a.createElement(\"select\", {\n      id: \"usageRightSelector\",\n      className: \"UsageRightsSelectBox__select\",\n      onChange: e => this.handleChange(e),\n      onKeyUp: e => this.handleChooseKeyPress(e),\n      ref: e => this.usageRightSelection = e,\n      value: this.state.usageRightSelectionValue\n    }, this.renderContentOptions()))), this.state.showCreativeCommonsOptions && this.renderShowCreativeCommonsOptions(), /*#__PURE__*/react__WEBPACK_IMPORTED_MODULE_1___default.a.createElement(\"div\", {\n      className: \"control-group\"\n    }, /*#__PURE__*/react__WEBPACK_IMPORTED_MODULE_1___default.a.createElement(\"label\", {\n      className: \"control-label\",\n      htmlFor: \"copyrightHolder\"\n    }, i18n_usageRightsSelectBox__WEBPACK_IMPORTED_MODULE_3__[\"default\"].t('Copyright Holder:')), /*#__PURE__*/react__WEBPACK_IMPORTED_MODULE_1___default.a.createElement(\"div\", {\n      className: \"controls\"\n    }, /*#__PURE__*/react__WEBPACK_IMPORTED_MODULE_1___default.a.createElement(\"input\", {\n      id: \"copyrightHolder\",\n      type: \"text\",\n      ref: e => this.copyright = e,\n      defaultValue: this.props.copyright,\n      placeholder: i18n_usageRightsSelectBox__WEBPACK_IMPORTED_MODULE_3__[\"default\"].t('(c) 2001 Acme Inc.')\n    }))), this.renderShowMessage());\n  }\n\n}\nUsageRightsSelectBox.propTypes = {\n  cc_value: prop_types__WEBPACK_IMPORTED_MODULE_2___default.a.string,\n  use_justification: prop_types__WEBPACK_IMPORTED_MODULE_2___default.a.oneOf(Object.values(CONTENT_OPTIONS).map(o => o.value)),\n  copyright: prop_types__WEBPACK_IMPORTED_MODULE_2___default.a.string,\n  showMessage: prop_types__WEBPACK_IMPORTED_MODULE_2___default.a.bool,\n  contextType: prop_types__WEBPACK_IMPORTED_MODULE_2___default.a.string,\n  contextId: prop_types__WEBPACK_IMPORTED_MODULE_2___default.a.oneOfType([prop_types__WEBPACK_IMPORTED_MODULE_2___default.a.string, prop_types__WEBPACK_IMPORTED_MODULE_2___default.a.number])\n};\n\n//# sourceURL=webpack:///./ui/shared/files/react/components/UsageRightsSelectBox.js?");

/***/ }),

/***/ "hKby":
/*!****************************************************!*\
  !*** ./ui/shared/datetime/accessibleDateFormat.js ***!
  \****************************************************/
/*! exports provided: default */
/***/ (function(module, __webpack_exports__, __webpack_require__) {

"use strict";
eval("__webpack_require__.r(__webpack_exports__);\n/* harmony import */ var i18n_dateformat__WEBPACK_IMPORTED_MODULE_0__ = __webpack_require__(/*! i18n!dateformat */ \"QjQa\");\n/*\n * Copyright (C) 2015 - present Instructure, Inc.\n *\n * This file is part of Canvas.\n *\n * Canvas is free software: you can redistribute it and/or modify it under\n * the terms of the GNU Affero General Public License as published by the Free\n * Software Foundation, version 3 of the License.\n *\n * Canvas is distributed in the hope that it will be useful, but WITHOUT ANY\n * WARRANTY; without even the implied warranty of MERCHANTABILITY or FITNESS FOR\n * A PARTICULAR PURPOSE. See the GNU Affero General Public License for more\n * details.\n *\n * You should have received a copy of the GNU Affero General Public License along\n * with this program. If not, see <http://www.gnu.org/licenses/>.\n */\n\n/**\n * For use with date input fields.  Set the title to this value and\n * data-tooltip=\"\"\n */\n\n\nconst accessibleDateFormat = () => {\n  return i18n_dateformat__WEBPACK_IMPORTED_MODULE_0__[\"default\"].t('YYYY-MM-DD hh:mm');\n};\n\n/* harmony default export */ __webpack_exports__[\"default\"] = (accessibleDateFormat);\n\n//# sourceURL=webpack:///./ui/shared/datetime/accessibleDateFormat.js?");

/***/ }),

/***/ "qJ3g":
/*!****************************************************************************************!*\
  !*** ./frontend_build/i18n.js?restrict_student_access!./ui/shims/dummyI18nResource.js ***!
  \****************************************************************************************/
/*! exports provided: default */
/***/ (function(module, __webpack_exports__, __webpack_require__) {

"use strict";
eval("__webpack_require__.r(__webpack_exports__);\n/* harmony import */ var _canvas_i18n_i18nObj__WEBPACK_IMPORTED_MODULE_0__ = __webpack_require__(/*! @canvas/i18n/i18nObj */ \"HGxv\");\n/* harmony import */ var translations_core_en__WEBPACK_IMPORTED_MODULE_1__ = __webpack_require__(/*! translations/_core_en */ \"0sPK\");\n\n    \n    \n    \n\n    /* harmony default export */ __webpack_exports__[\"default\"] = (_canvas_i18n_i18nObj__WEBPACK_IMPORTED_MODULE_0__[\"default\"].scoped('restrict_student_access'));\n  \n\n//# sourceURL=webpack:///./ui/shims/dummyI18nResource.js?./frontend_build/i18n.js?restrict_student_access");

/***/ }),

/***/ "rRaX":
/*!********************************************************************!*\
  !*** ./ui/shared/files/react/components/RestrictedRadioButtons.js ***!
  \********************************************************************/
/*! exports provided: default */
/***/ (function(module, __webpack_exports__, __webpack_require__) {

"use strict";
eval("__webpack_require__.r(__webpack_exports__);\n/* harmony import */ var underscore__WEBPACK_IMPORTED_MODULE_0__ = __webpack_require__(/*! underscore */ \"Y/W1\");\n/* harmony import */ var underscore__WEBPACK_IMPORTED_MODULE_0___default = /*#__PURE__*/__webpack_require__.n(underscore__WEBPACK_IMPORTED_MODULE_0__);\n/* harmony import */ var react__WEBPACK_IMPORTED_MODULE_1__ = __webpack_require__(/*! react */ \"q1tI\");\n/* harmony import */ var react__WEBPACK_IMPORTED_MODULE_1___default = /*#__PURE__*/__webpack_require__.n(react__WEBPACK_IMPORTED_MODULE_1__);\n/* harmony import */ var prop_types__WEBPACK_IMPORTED_MODULE_2__ = __webpack_require__(/*! prop-types */ \"17x9\");\n/* harmony import */ var prop_types__WEBPACK_IMPORTED_MODULE_2___default = /*#__PURE__*/__webpack_require__.n(prop_types__WEBPACK_IMPORTED_MODULE_2__);\n/* harmony import */ var i18n_restrict_student_access__WEBPACK_IMPORTED_MODULE_3__ = __webpack_require__(/*! i18n!restrict_student_access */ \"qJ3g\");\n/* harmony import */ var jquery__WEBPACK_IMPORTED_MODULE_4__ = __webpack_require__(/*! jquery */ \"ouhR\");\n/* harmony import */ var jquery__WEBPACK_IMPORTED_MODULE_4___default = /*#__PURE__*/__webpack_require__.n(jquery__WEBPACK_IMPORTED_MODULE_4__);\n/* harmony import */ var _modules_customPropTypes__WEBPACK_IMPORTED_MODULE_5__ = __webpack_require__(/*! ../modules/customPropTypes */ \"Lg2F\");\n/* harmony import */ var _backbone_models_Folder__WEBPACK_IMPORTED_MODULE_6__ = __webpack_require__(/*! ../../backbone/models/Folder */ \"3jyj\");\n/* harmony import */ var _canvas_datetime__WEBPACK_IMPORTED_MODULE_7__ = __webpack_require__(/*! @canvas/datetime */ \"7AEQ\");\n/* harmony import */ var _canvas_datetime_accessibleDateFormat__WEBPACK_IMPORTED_MODULE_8__ = __webpack_require__(/*! @canvas/datetime/accessibleDateFormat */ \"hKby\");\n/*\n * Copyright (C) 2015 - present Instructure, Inc.\n *\n * This file is part of Canvas.\n *\n * Canvas is free software: you can redistribute it and/or modify it under\n * the terms of the GNU Affero General Public License as published by the Free\n * Software Foundation, version 3 of the License.\n *\n * Canvas is distributed in the hope that it will be useful, but WITHOUT ANY\n * WARRANTY; without even the implied warranty of MERCHANTABILITY or FITNESS FOR\n * A PARTICULAR PURPOSE. See the GNU Affero General Public License for more\n * details.\n *\n * You should have received a copy of the GNU Affero General Public License along\n * with this program. If not, see <http://www.gnu.org/licenses/>.\n */\n\n\n\n\n\n\n\n\n\n\nclass RestrictedRadioButtons extends react__WEBPACK_IMPORTED_MODULE_1___default.a.Component {\n  constructor(props) {\n    super(props);\n    this.permissionOptions = [{\n      ref: 'publishInput',\n      text: i18n_restrict_student_access__WEBPACK_IMPORTED_MODULE_3__[\"default\"].t('Publish'),\n      selectedOptionKey: 'published',\n      iconClasses: 'icon-publish icon-Solid RestrictedRadioButtons__publish_icon',\n\n      onChange() {\n        this.updateBtnEnable();\n        this.setState({\n          selectedOption: 'published'\n        });\n      }\n\n    }, {\n      ref: 'unpublishInput',\n      text: i18n_restrict_student_access__WEBPACK_IMPORTED_MODULE_3__[\"default\"].t('Unpublish'),\n      selectedOptionKey: 'unpublished',\n      iconClasses: 'icon-unpublish RestrictedRadioButtons__icon',\n\n      onChange() {\n        this.updateBtnEnable();\n        this.setState({\n          selectedOption: 'unpublished'\n        });\n      }\n\n    }, {\n      ref: 'linkOnly',\n      selectedOptionKey: 'link_only',\n      text: i18n_restrict_student_access__WEBPACK_IMPORTED_MODULE_3__[\"default\"].t('Only available to students with link'),\n      iconClasses: 'icon-line icon-off RestrictedRadioButtons__icon',\n\n      onChange() {\n        this.updateBtnEnable();\n        this.setState({\n          selectedOption: 'link_only'\n        });\n      }\n\n    }, {\n      ref: 'dateRange',\n      selectedOptionKey: 'date_range',\n      text: i18n_restrict_student_access__WEBPACK_IMPORTED_MODULE_3__[\"default\"].t('Schedule student availability'),\n      iconClasses: 'icon-line icon-calendar-month RestrictedRadioButtons__icon',\n\n      onChange() {\n        this.updateBtnEnable();\n        this.setState({\n          selectedOption: 'date_range'\n        });\n      }\n\n    }];\n\n    this.extractFormValues = () => ({\n      hidden: this.state.selectedOption === 'link_only',\n      unlock_at: this.state.selectedOption === 'date_range' && jquery__WEBPACK_IMPORTED_MODULE_4___default()(this.unlock_at).data('unfudged-date') || '',\n      lock_at: this.state.selectedOption === 'date_range' && jquery__WEBPACK_IMPORTED_MODULE_4___default()(this.lock_at).data('unfudged-date') || '',\n      locked: this.state.selectedOption === 'unpublished'\n    });\n\n    this.allFolders = () => this.props.models.every(model => model instanceof _backbone_models_Folder__WEBPACK_IMPORTED_MODULE_6__[\"default\"]);\n\n    this.anyFolders = () => this.props.models.filter(model => model instanceof _backbone_models_Folder__WEBPACK_IMPORTED_MODULE_6__[\"default\"]).length;\n\n    this.updateBtnEnable = () => {\n      if (this.props.radioStateChange) {\n        this.props.radioStateChange();\n      }\n    };\n\n    this.isPermissionChecked = option => this.state.selectedOption === option.selectedOptionKey || underscore__WEBPACK_IMPORTED_MODULE_0___default.a.includes(option.selectedOptionKey, this.state.selectedOption);\n\n    this.renderPermissionOptions = () => this.permissionOptions.map((option, index) => /*#__PURE__*/react__WEBPACK_IMPORTED_MODULE_1___default.a.createElement(\"div\", {\n      className: \"radio\",\n      key: index\n    }, /*#__PURE__*/react__WEBPACK_IMPORTED_MODULE_1___default.a.createElement(\"label\", null, /*#__PURE__*/react__WEBPACK_IMPORTED_MODULE_1___default.a.createElement(\"input\", {\n      ref: e => this[option.ref] = e,\n      type: \"radio\",\n      name: \"permissions\",\n      checked: this.isPermissionChecked(option),\n      onChange: option.onChange.bind(this)\n    }), /*#__PURE__*/react__WEBPACK_IMPORTED_MODULE_1___default.a.createElement(\"i\", {\n      className: option.iconClasses,\n      \"aria-hidden\": true\n    }), option.text)));\n\n    this.renderDatePickers = () => {\n      const styleObj = {};\n\n      if (this.state.selectedOption !== 'date_range') {\n        styleObj.visibility = 'hidden';\n      }\n\n      return /*#__PURE__*/react__WEBPACK_IMPORTED_MODULE_1___default.a.createElement(\"div\", {\n        style: styleObj\n      }, /*#__PURE__*/react__WEBPACK_IMPORTED_MODULE_1___default.a.createElement(\"label\", {\n        className: \"control-label dialog-adapter-form-calendar-label\"\n      }, i18n_restrict_student_access__WEBPACK_IMPORTED_MODULE_3__[\"default\"].t('Available From')), /*#__PURE__*/react__WEBPACK_IMPORTED_MODULE_1___default.a.createElement(\"div\", {\n        className: \"dateSelectInputContainer controls\"\n      }, /*#__PURE__*/react__WEBPACK_IMPORTED_MODULE_1___default.a.createElement(\"input\", {\n        ref: e => this.unlock_at = e,\n        defaultValue: this.state.unlock_at ? jquery__WEBPACK_IMPORTED_MODULE_4___default.a.datetimeString(this.state.unlock_at) : '',\n        className: \"form-control dateSelectInput\",\n        type: \"text\",\n        title: Object(_canvas_datetime_accessibleDateFormat__WEBPACK_IMPORTED_MODULE_8__[\"default\"])(),\n        \"data-tooltip\": \"\",\n        \"aria-label\": i18n_restrict_student_access__WEBPACK_IMPORTED_MODULE_3__[\"default\"].t('Available From Date')\n      })), /*#__PURE__*/react__WEBPACK_IMPORTED_MODULE_1___default.a.createElement(\"div\", null, /*#__PURE__*/react__WEBPACK_IMPORTED_MODULE_1___default.a.createElement(\"label\", {\n        className: \"control-label dialog-adapter-form-calendar-label\"\n      }, i18n_restrict_student_access__WEBPACK_IMPORTED_MODULE_3__[\"default\"].t('Available Until')), /*#__PURE__*/react__WEBPACK_IMPORTED_MODULE_1___default.a.createElement(\"div\", {\n        className: \"dateSelectInputContainer controls\"\n      }, /*#__PURE__*/react__WEBPACK_IMPORTED_MODULE_1___default.a.createElement(\"input\", {\n        id: \"lockDate\",\n        ref: e => this.lock_at = e,\n        defaultValue: this.state.lock_at ? jquery__WEBPACK_IMPORTED_MODULE_4___default.a.datetimeString(this.state.lock_at) : '',\n        className: \"form-control dateSelectInput\",\n        type: \"text\",\n        title: Object(_canvas_datetime_accessibleDateFormat__WEBPACK_IMPORTED_MODULE_8__[\"default\"])(),\n        \"data-tooltip\": \"\",\n        \"aria-label\": i18n_restrict_student_access__WEBPACK_IMPORTED_MODULE_3__[\"default\"].t('Available Until Date')\n      }))));\n    };\n\n    this.renderRestrictedRadioButtons = () => /*#__PURE__*/react__WEBPACK_IMPORTED_MODULE_1___default.a.createElement(\"div\", null, this.renderPermissionOptions(), this.renderDatePickers());\n\n    let allAreEqual, initialState, permissionAttributes;\n    permissionAttributes = ['hidden', 'locked', 'lock_at', 'unlock_at'];\n    initialState = {};\n    allAreEqual = props.models.every(model => permissionAttributes.every(attribute => props.models[0].get(attribute) === model.get(attribute) || !props.models[0].get(attribute) && !model.get(attribute)));\n\n    if (allAreEqual) {\n      initialState = props.models[0].pick(permissionAttributes);\n\n      if (initialState.locked) {\n        initialState.selectedOption = 'unpublished';\n      } else if (initialState.lock_at || initialState.unlock_at) {\n        initialState.selectedOption = 'date_range';\n      } else if (initialState.hidden) {\n        initialState.selectedOption = 'link_only';\n      } else {\n        initialState.selectedOption = 'published';\n      }\n    }\n\n    this.state = initialState;\n  }\n\n  componentDidMount() {\n    return jquery__WEBPACK_IMPORTED_MODULE_4___default()([this.unlock_at, this.lock_at]).datetime_field();\n  }\n\n  render() {\n    return /*#__PURE__*/react__WEBPACK_IMPORTED_MODULE_1___default.a.createElement(\"div\", null, this.renderRestrictedRadioButtons());\n  }\n\n}\n\nRestrictedRadioButtons.propTypes = {\n  models: prop_types__WEBPACK_IMPORTED_MODULE_2___default.a.arrayOf(_modules_customPropTypes__WEBPACK_IMPORTED_MODULE_5__[\"default\"].filesystemObject).isRequired,\n  radioStateChange: prop_types__WEBPACK_IMPORTED_MODULE_2___default.a.func\n};\n/* harmony default export */ __webpack_exports__[\"default\"] = (RestrictedRadioButtons);\n\n//# sourceURL=webpack:///./ui/shared/files/react/components/RestrictedRadioButtons.js?");

/***/ }),

/***/ "vTMu":
/*!***********************************************************************!*\
  !*** ./ui/shared/files/react/components/FilesystemObjectThumbnail.js ***!
  \***********************************************************************/
/*! exports provided: default */
/***/ (function(module, __webpack_exports__, __webpack_require__) {

"use strict";
eval("__webpack_require__.r(__webpack_exports__);\n/* harmony import */ var react__WEBPACK_IMPORTED_MODULE_0__ = __webpack_require__(/*! react */ \"q1tI\");\n/* harmony import */ var react__WEBPACK_IMPORTED_MODULE_0___default = /*#__PURE__*/__webpack_require__.n(react__WEBPACK_IMPORTED_MODULE_0__);\n/* harmony import */ var create_react_class__WEBPACK_IMPORTED_MODULE_1__ = __webpack_require__(/*! create-react-class */ \"fhzG\");\n/* harmony import */ var create_react_class__WEBPACK_IMPORTED_MODULE_1___default = /*#__PURE__*/__webpack_require__.n(create_react_class__WEBPACK_IMPORTED_MODULE_1__);\n/* harmony import */ var _backbone_models_Folder__WEBPACK_IMPORTED_MODULE_2__ = __webpack_require__(/*! ../../backbone/models/Folder */ \"3jyj\");\n/* harmony import */ var _canvas_mime_mimeClass__WEBPACK_IMPORTED_MODULE_3__ = __webpack_require__(/*! @canvas/mime/mimeClass */ \"scx4\");\n/* harmony import */ var _LegacyFilesystemObjectThumbnail__WEBPACK_IMPORTED_MODULE_4__ = __webpack_require__(/*! ./LegacyFilesystemObjectThumbnail */ \"WiTB\");\n/*\n * Copyright (C) 2015 - present Instructure, Inc.\n *\n * This file is part of Canvas.\n *\n * Canvas is free software: you can redistribute it and/or modify it under\n * the terms of the GNU Affero General Public License as published by the Free\n * Software Foundation, version 3 of the License.\n *\n * Canvas is distributed in the hope that it will be useful, but WITHOUT ANY\n * WARRANTY; without even the implied warranty of MERCHANTABILITY or FITNESS FOR\n * A PARTICULAR PURPOSE. See the GNU Affero General Public License for more\n * details.\n *\n * You should have received a copy of the GNU Affero General Public License along\n * with this program. If not, see <http://www.gnu.org/licenses/>.\n */\n\n\n\n\n\n\n_LegacyFilesystemObjectThumbnail__WEBPACK_IMPORTED_MODULE_4__[\"default\"].render = function () {\n  const additionalClassName = this.props.className ? this.props.className : '';\n\n  if (this.state.thumbnail_url) {\n    return /*#__PURE__*/react__WEBPACK_IMPORTED_MODULE_0___default.a.createElement(\"span\", {\n      className: `media-object ef-thumbnail FilesystemObjectThumbnail ${additionalClassName}`,\n      style: {\n        backgroundImage: `url('${this.state.thumbnail_url}')`\n      }\n    });\n  } else {\n    const thumbnailClassName = this.props.model instanceof _backbone_models_Folder__WEBPACK_IMPORTED_MODULE_2__[\"default\"] ? this.props.model.get('for_submissions') ? 'folder-locked' : 'folder' : Object(_canvas_mime_mimeClass__WEBPACK_IMPORTED_MODULE_3__[\"default\"])(this.props.model.get('content-type'));\n    return /*#__PURE__*/react__WEBPACK_IMPORTED_MODULE_0___default.a.createElement(\"i\", {\n      className: `media-object ef-big-icon FilesystemObjectThumbnail mimeClass-${thumbnailClassName} ${additionalClassName}`\n    });\n  }\n};\n\n/* harmony default export */ __webpack_exports__[\"default\"] = (create_react_class__WEBPACK_IMPORTED_MODULE_1___default()(_LegacyFilesystemObjectThumbnail__WEBPACK_IMPORTED_MODULE_4__[\"default\"]));\n\n//# sourceURL=webpack:///./ui/shared/files/react/components/FilesystemObjectThumbnail.js?");

/***/ })

}]);