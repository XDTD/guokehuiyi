(window["canvasWebpackJsonp"] = window["canvasWebpackJsonp"] || []).push([[3676],{

/***/ "5fpA":
/*!*******************************************************************!*\
  !*** ./packages/canvas-rce/es/canvasFileBrowser/i18nLolcalize.js ***!
  \*******************************************************************/
/*! exports provided: default */
/***/ (function(module, __webpack_exports__, __webpack_require__) {

"use strict";
eval("__webpack_require__.r(__webpack_exports__);\n/* harmony export (binding) */ __webpack_require__.d(__webpack_exports__, \"default\", function() { return i18nLolcalize; });\n//\n// Copyright (C) 2013 - present Instructure, Inc.\n//\n// This file is part of Canvas.\n//\n// Canvas is free software: you can redistribute it and/or modify it under\n// the terms of the GNU Affero General Public License as published by the Free\n// Software Foundation, version 3 of the License.\n//\n// Canvas is distributed in the hope that it will be useful, but WITHOUT ANY\n// WARRANTY; without even the implied warranty of MERCHANTABILITY or FITNESS FOR\n// A PARTICULAR PURPOSE. See the GNU Affero General Public License for more\n// details.\n//\n// You should have received a copy of the GNU Affero General Public License along\n// with this program. If not, see <http://www.gnu.org/licenses/>.\nconst formatter = {\n  0: 'toUpperCase',\n  1: 'toLowerCase'\n}; // see also lib/i18n/lolcalize.rb\n\nfunction letThereBeLols(str) {\n  // don't want to mangle placeholders, wrappers, etc.\n  const pattern = /(\\s*%h?\\{[^\\}]+\\}\\s*|\\s*[\\n\\\\`\\*_\\{\\}\\[\\]\\(\\)\\#\\+\\-!]+\\s*|^\\s+)/;\n  const result = str.split(pattern).map(token => {\n    if (token.match(pattern)) return token;\n    let s = ''; // same as for i in [0...token.length] in coffeescript\n\n    for (let i = 0, end = token.length, asc = end >= 0; asc ? i < end : i > end; asc ? i++ : i--) {\n      s += token[i][formatter[i % 2]]();\n    }\n\n    s = s.replace(/\\.( |$)/, '!!?! ');\n    s = s.replace(/^(\\w+)$/, '$1!');\n    if (s.length > 2) s += ' LOL!';\n    return s;\n  });\n  return result.join('');\n}\n\nfunction i18nLolcalize(strOrObj) {\n  if (typeof strOrObj === 'string') return letThereBeLols(strOrObj);\n  const result = {};\n\n  for (const key in strOrObj) {\n    const value = strOrObj[key];\n    result[key] = letThereBeLols(value);\n  }\n\n  return result;\n}\n\n//# sourceURL=webpack:///./packages/canvas-rce/es/canvasFileBrowser/i18nLolcalize.js?");

/***/ }),

/***/ "6+D0":
/*!****************************************************************!*\
  !*** ./packages/canvas-rce/es/canvasFileBrowser/natcompare.js ***!
  \****************************************************************/
/*! exports provided: default */
/***/ (function(module, __webpack_exports__, __webpack_require__) {

"use strict";
eval("__webpack_require__.r(__webpack_exports__);\n/* harmony import */ var _i18nObj_js__WEBPACK_IMPORTED_MODULE_0__ = __webpack_require__(/*! ./i18nObj.js */ \"TaIO\");\n//\n// Copyright (C) 2014 - present Instructure, Inc.\n//\n// This file is part of Canvas.\n//\n// Canvas is free software: you can redistribute it and/or modify it under\n// the terms of the GNU Affero General Public License as published by the Free\n// Software Foundation, version 3 of the License.\n//\n// Canvas is distributed in the hope that it will be useful, but WITHOUT ANY\n// WARRANTY; without even the implied warranty of MERCHANTABILITY or FITNESS FOR\n// A PARTICULAR PURPOSE. See the GNU Affero General Public License for more\n// details.\n//\n// You should have received a copy of the GNU Affero General Public License along\n// with this program. If not, see <http://www.gnu.org/licenses/>.\n\n/* harmony default export */ __webpack_exports__[\"default\"] = ({\n  strings(x, y) {\n    let locale = _i18nObj_js__WEBPACK_IMPORTED_MODULE_0__[\"default\"].locale || 'en-US';\n    locale = {\n      zh_Hant: 'zh-Hant'\n    }[locale] || locale; // if you change these settings, also match the settings in best_unicode_collation_key\n    // and Canvas::ICU.collator\n\n    return x.localeCompare(y, locale, {\n      sensitivity: 'variant',\n      ignorePunctuation: false,\n      numeric: true\n    });\n  },\n\n  by(f) {\n    return (x, y) => this.strings(f(x), f(y));\n  },\n\n  byKey(key) {\n    return this.by(x => x[key]);\n  },\n\n  byGet(key) {\n    return this.by(x => x.get(key));\n  }\n\n});\n\n//# sourceURL=webpack:///./packages/canvas-rce/es/canvasFileBrowser/natcompare.js?");

/***/ }),

/***/ "67Xe":
/*!****************************************************************!*\
  !*** ./packages/canvas-rce/es/canvasFileBrowser/htmlEscape.js ***!
  \****************************************************************/
/*! exports provided: default */
/***/ (function(module, __webpack_exports__, __webpack_require__) {

"use strict";
eval("__webpack_require__.r(__webpack_exports__);\n/* harmony export (binding) */ __webpack_require__.d(__webpack_exports__, \"default\", function() { return escape; });\n/* harmony import */ var _INST_js__WEBPACK_IMPORTED_MODULE_0__ = __webpack_require__(/*! ./INST.js */ \"wjE0\");\n/*\n * Copyright (C) 2011 - present Instructure, Inc.\n *\n * This file is part of Canvas.\n *\n * Canvas is free software: you can redistribute it and/or modify it under\n * the terms of the GNU Affero General Public License as published by the Free\n * Software Foundation, version 3 of the License.\n *\n * Canvas is distributed in the hope that it will be useful, but WITHOUT ANY\n * WARRANTY; without even the implied warranty of MERCHANTABILITY or FITNESS FOR\n * A PARTICULAR PURPOSE. See the GNU Affero General Public License for more\n * details.\n *\n * You should have received a copy of the GNU Affero General Public License along\n * with this program. If not, see <http://www.gnu.org/licenses/>.\n */\n\n\nclass SafeString {\n  constructor(string) {\n    this.string = typeof string === 'string' ? string : `${string}`;\n  }\n\n  toString() {\n    return this.string;\n  }\n\n}\n\nconst ENTITIES = {\n  '&': '&amp;',\n  '<': '&lt;',\n  '>': '&gt;',\n  '\"': '&quot;',\n  \"'\": '&#x27;',\n  '/': '&#x2F;',\n  '`': '&#x60;',\n  // for old versions of IE\n  '=': '&#x3D;' // in case of unquoted attributes\n\n};\n\nfunction htmlEscape(str) {\n  // ideally we should wrap this in a SafeString, but this is how it has\n  // always worked :-/\n  return str.replace(/[&<>\"'\\/`=]/g, c => ENTITIES[c]);\n} // Escapes HTML tags from string, or object string props of `strOrObject`.\n// returns the new string, or the object with escaped properties\n\n\nfunction escape(strOrObject) {\n  if (typeof strOrObject === 'string') {\n    return htmlEscape(strOrObject);\n  } else if (strOrObject instanceof SafeString) {\n    return strOrObject;\n  } else if (typeof strOrObject === 'number') {\n    return escape(strOrObject.toString());\n  }\n\n  for (const k in strOrObject) {\n    const v = strOrObject[k];\n\n    if (typeof v === 'string') {\n      strOrObject[k] = htmlEscape(v);\n    }\n  }\n\n  return strOrObject;\n}\nescape.SafeString = SafeString; // tinymce plugins use this and they need it global :(\n\n_INST_js__WEBPACK_IMPORTED_MODULE_0__[\"default\"].htmlEscape = escape;\nconst UNESCAPE_ENTITIES = Object.keys(ENTITIES).reduce((map, key) => {\n  const value = ENTITIES[key];\n  map[value] = key;\n  return map;\n}, {});\nconst unescapeSource = `(?:${Object.keys(UNESCAPE_ENTITIES).join('|')})`;\nconst UNESCAPE_REGEX = new RegExp(unescapeSource, 'g');\n\nfunction unescape(str) {\n  return str.replace(UNESCAPE_REGEX, match => UNESCAPE_ENTITIES[match]);\n}\n\nescape.unescape = unescape;\n\n//# sourceURL=webpack:///./packages/canvas-rce/es/canvasFileBrowser/htmlEscape.js?");

/***/ }),

/***/ "BHAs":
/*!****************************************************************!*\
  !*** ./packages/canvas-rce/es/canvasFileBrowser/FlashAlert.js ***!
  \****************************************************************/
/*! exports provided: default, showFlashAlert, destroyContainer, showFlashError, showFlashSuccess */
/***/ (function(module, __webpack_exports__, __webpack_require__) {

"use strict";
eval("__webpack_require__.r(__webpack_exports__);\n/* harmony export (binding) */ __webpack_require__.d(__webpack_exports__, \"default\", function() { return FlashAlert; });\n/* harmony export (binding) */ __webpack_require__.d(__webpack_exports__, \"showFlashAlert\", function() { return showFlashAlert; });\n/* harmony export (binding) */ __webpack_require__.d(__webpack_exports__, \"destroyContainer\", function() { return destroyContainer; });\n/* harmony export (binding) */ __webpack_require__.d(__webpack_exports__, \"showFlashError\", function() { return showFlashError; });\n/* harmony export (binding) */ __webpack_require__.d(__webpack_exports__, \"showFlashSuccess\", function() { return showFlashSuccess; });\n/* harmony import */ var react__WEBPACK_IMPORTED_MODULE_0__ = __webpack_require__(/*! react */ \"q1tI\");\n/* harmony import */ var react__WEBPACK_IMPORTED_MODULE_0___default = /*#__PURE__*/__webpack_require__.n(react__WEBPACK_IMPORTED_MODULE_0__);\n/* harmony import */ var prop_types__WEBPACK_IMPORTED_MODULE_1__ = __webpack_require__(/*! prop-types */ \"17x9\");\n/* harmony import */ var prop_types__WEBPACK_IMPORTED_MODULE_1___default = /*#__PURE__*/__webpack_require__.n(prop_types__WEBPACK_IMPORTED_MODULE_1__);\n/* harmony import */ var react_dom__WEBPACK_IMPORTED_MODULE_2__ = __webpack_require__(/*! react-dom */ \"i8i4\");\n/* harmony import */ var react_dom__WEBPACK_IMPORTED_MODULE_2___default = /*#__PURE__*/__webpack_require__.n(react_dom__WEBPACK_IMPORTED_MODULE_2__);\n/* harmony import */ var _format_message_js__WEBPACK_IMPORTED_MODULE_3__ = __webpack_require__(/*! ../format-message.js */ \"NFDp\");\n/* harmony import */ var _instructure_ui_alerts__WEBPACK_IMPORTED_MODULE_4__ = __webpack_require__(/*! @instructure/ui-alerts */ \"spba\");\n/* harmony import */ var _instructure_ui_buttons__WEBPACK_IMPORTED_MODULE_5__ = __webpack_require__(/*! @instructure/ui-buttons */ \"K6WN\");\n/* harmony import */ var _instructure_ui_text__WEBPACK_IMPORTED_MODULE_6__ = __webpack_require__(/*! @instructure/ui-text */ \"iE3e\");\n/* harmony import */ var _instructure_ui_a11y_content__WEBPACK_IMPORTED_MODULE_7__ = __webpack_require__(/*! @instructure/ui-a11y-content */ \"9+/z\");\n/* harmony import */ var _instructure_ui_motion__WEBPACK_IMPORTED_MODULE_8__ = __webpack_require__(/*! @instructure/ui-motion */ \"Nl9J\");\n/*\n * Copyright (C) 2017 - present Instructure, Inc.\n *\n * This file is part of Canvas.\n *\n * Canvas is free software: you can redistribute it and/or modify it under\n * the terms of the GNU Affero General Public License as published by the Free\n * Software Foundation, version 3 of the License.\n *\n * Canvas is distributed in the hope that it will be useful, but WITHOUT ANY\n * WARRANTY; without even the implied warranty of MERCHANTABILITY or FITNESS FOR\n * A PARTICULAR PURPOSE. See the GNU Affero General Public License for more\n * details.\n *\n * You should have received a copy of the GNU Affero General Public License along\n * with this program. If not, see <http://www.gnu.org/licenses/>.\n */\n\n/**\n * Flash alerts, especially for ajax error messages\n * Typical usage:\n * import {showFlashError} from './FlashAlert'\n * ...\n * axios.put(url, data).then((response) => {\n *     // do something with response\n *   }).catch(showFlashError(your_error_message))\n *\n * showFlashError() with no argument shows a generic message\n *\n * On error, will display an inst-ui Alert at the top of the page\n * with an error message and \"Details\" button. When the user clicks\n * the button, it shows error details extracted from the axios Error\n *\n * You could also import the lower level showFlashAlert function or\n * the FlashAlert component if you need more control\n *\n * showFlashAlert({ err, message, type }, onCloseCallback)\n *  err: error object\n *  message: user-facing message\n *  type: one of ['info', 'success', 'warning', 'error']\n *        default is 'info' unless an error object is passed in, else is 'error'\n */\n\n\n\n\n\n\n\n\n\nconst messageHolderId = 'flashalert_message_holder'; // specs fail if I reuse jquery's elements\n\nconst screenreaderMessageHolderId = 'flash_screenreader_holder';\nconst timeout = 10000; // An Alert with a message and \"Details\" button which surfaces\n// more info about the error when pressed.\n// Is displayed at the top of the document, and will close itself after a while\n\nclass FlashAlert extends react__WEBPACK_IMPORTED_MODULE_0___default.a.Component {\n  constructor(props) {\n    super(props);\n\n    this.showDetails = () => {\n      this.setState({\n        showDetails: true\n      });\n      clearTimeout(this.timerId);\n      this.timerId = setTimeout(() => this.closeAlert(), this.props.timeout);\n    };\n\n    this.closeAlert = () => {\n      this.setState({\n        isOpen: false\n      }, () => {\n        setTimeout(() => {\n          clearTimeout(this.timerId);\n          this.props.onClose();\n        }, 500);\n      });\n    };\n\n    this.state = {\n      showDetails: false,\n      isOpen: true\n    };\n    this.timerId = 0;\n  }\n\n  getLiveRegion() {\n    // return element where flash screenreader messages go.\n    // create if necessary\n    let liveRegion = document.getElementById(screenreaderMessageHolderId);\n\n    if (!liveRegion) {\n      liveRegion = document.createElement('div');\n      liveRegion.id = screenreaderMessageHolderId;\n      liveRegion.setAttribute('role', 'alert');\n      document.body.appendChild(liveRegion);\n    }\n\n    return liveRegion;\n  }\n\n  findDetailMessage() {\n    const err = this.props.error;\n    let a = err.message;\n    let b;\n\n    if (err.response) {\n      if (err.response.data) {\n        try {\n          if (Array.isArray(err.response.data.errors)) {\n            // probably a canvas api\n            a = err.response.data.errors[0].message;\n            b = err.message;\n          } else if (err.response.data.message) {\n            // probably a canvas api too\n            a = err.response.data.message;\n            b = err.message;\n          }\n        } catch (ignore) {\n          a = err.message;\n        }\n      }\n    }\n\n    return {\n      a,\n      b\n    };\n  }\n\n  renderDetailMessage() {\n    const _this$findDetailMessa = this.findDetailMessage(),\n          a = _this$findDetailMessa.a,\n          b = _this$findDetailMessa.b;\n\n    return /*#__PURE__*/react__WEBPACK_IMPORTED_MODULE_0___default.a.createElement(_instructure_ui_text__WEBPACK_IMPORTED_MODULE_6__[\"Text\"], {\n      as: \"p\",\n      fontStyle: \"italic\"\n    }, /*#__PURE__*/react__WEBPACK_IMPORTED_MODULE_0___default.a.createElement(_instructure_ui_text__WEBPACK_IMPORTED_MODULE_6__[\"Text\"], null, a), b ? /*#__PURE__*/react__WEBPACK_IMPORTED_MODULE_0___default.a.createElement(\"br\", null) : null, b ? /*#__PURE__*/react__WEBPACK_IMPORTED_MODULE_0___default.a.createElement(_instructure_ui_text__WEBPACK_IMPORTED_MODULE_6__[\"Text\"], null, b) : null);\n  }\n\n  render() {\n    let details = null;\n\n    if (this.props.error) {\n      if (this.state.showDetails) {\n        details = this.renderDetailMessage();\n      } else {\n        details = /*#__PURE__*/react__WEBPACK_IMPORTED_MODULE_0___default.a.createElement(\"span\", null, /*#__PURE__*/react__WEBPACK_IMPORTED_MODULE_0___default.a.createElement(_instructure_ui_a11y_content__WEBPACK_IMPORTED_MODULE_7__[\"PresentationContent\"], null, /*#__PURE__*/react__WEBPACK_IMPORTED_MODULE_0___default.a.createElement(_instructure_ui_buttons__WEBPACK_IMPORTED_MODULE_5__[\"Button\"], {\n          variant: \"link\",\n          onClick: this.showDetails\n        }, Object(_format_message_js__WEBPACK_IMPORTED_MODULE_3__[\"default\"])('Details'))), /*#__PURE__*/react__WEBPACK_IMPORTED_MODULE_0___default.a.createElement(_instructure_ui_a11y_content__WEBPACK_IMPORTED_MODULE_7__[\"ScreenReaderContent\"], null, this.renderDetailMessage()));\n      }\n    }\n\n    return /*#__PURE__*/react__WEBPACK_IMPORTED_MODULE_0___default.a.createElement(_instructure_ui_motion__WEBPACK_IMPORTED_MODULE_8__[\"Transition\"], {\n      transitionOnMount: true,\n      in: this.state.isOpen,\n      type: \"fade\"\n    }, /*#__PURE__*/react__WEBPACK_IMPORTED_MODULE_0___default.a.createElement(_instructure_ui_alerts__WEBPACK_IMPORTED_MODULE_4__[\"Alert\"], {\n      variant: this.props.variant,\n      renderCloseButtonLabel: Object(_format_message_js__WEBPACK_IMPORTED_MODULE_3__[\"default\"])('Close'),\n      onDismiss: this.closeAlert,\n      margin: \"small auto\",\n      timeout: this.props.timeout,\n      liveRegion: this.getLiveRegion,\n      transition: \"fade\",\n      screenReaderOnly: this.props.screenReaderOnly\n    }, /*#__PURE__*/react__WEBPACK_IMPORTED_MODULE_0___default.a.createElement(\"div\", null, /*#__PURE__*/react__WEBPACK_IMPORTED_MODULE_0___default.a.createElement(\"p\", {\n      style: {\n        margin: '0 -5px'\n      }\n    }, this.props.message), details)));\n  }\n\n}\nFlashAlert.propTypes = {\n  onClose: prop_types__WEBPACK_IMPORTED_MODULE_1___default.a.func.isRequired,\n  message: prop_types__WEBPACK_IMPORTED_MODULE_1___default.a.string.isRequired,\n  error: prop_types__WEBPACK_IMPORTED_MODULE_1___default.a.instanceOf(Error),\n  variant: prop_types__WEBPACK_IMPORTED_MODULE_1___default.a.oneOf(['info', 'success', 'warning', 'error']),\n  timeout: prop_types__WEBPACK_IMPORTED_MODULE_1___default.a.number,\n  screenReaderOnly: prop_types__WEBPACK_IMPORTED_MODULE_1___default.a.bool\n};\nFlashAlert.defaultProps = {\n  error: null,\n  variant: 'info',\n  timeout: 10000,\n  screenReaderOnly: false\n};\nfunction showFlashAlert({\n  message,\n  err,\n  type = err ? 'error' : 'info',\n  srOnly = false\n}) {\n  function closeAlert(atNode) {\n    react_dom__WEBPACK_IMPORTED_MODULE_2___default.a.unmountComponentAtNode(atNode);\n    atNode.remove();\n  }\n\n  const div = document.createElement('div'); // div.setAttribute('class', styles.flashMessage)\n\n  div.setAttribute('style', 'max-width:50em;margin:1rem auto;');\n  div.setAttribute('class', 'flashalert-message');\n  (function () {\n    let alertContainer = document.getElementById(messageHolderId);\n\n    if (!alertContainer) {\n      alertContainer = document.createElement('div');\n      alertContainer.classList.add('clickthrough-container');\n      alertContainer.id = messageHolderId;\n      alertContainer.setAttribute('style', 'position: fixed; top: 0; left: 0; width: 100%; z-index: 100000;');\n      document.body.appendChild(alertContainer);\n    }\n\n    return alertContainer;\n  })().appendChild(div);\n\n  (function (parent) {\n    react_dom__WEBPACK_IMPORTED_MODULE_2___default.a.render( /*#__PURE__*/react__WEBPACK_IMPORTED_MODULE_0___default.a.createElement(FlashAlert, {\n      message: message,\n      timeout: Number.isNaN(parseInt(ENV.flashAlertTimeout, 10)) ? timeout : ENV.flashAlertTimeout,\n      error: err,\n      variant: type,\n      onClose: closeAlert.bind(null, parent) // eslint-disable-line react/jsx-no-bind\n      ,\n      screenReaderOnly: srOnly\n    }), parent);\n  })(div);\n}\nfunction destroyContainer() {\n  const container = document.getElementById(messageHolderId);\n  const liveRegion = document.getElementById(screenreaderMessageHolderId);\n  if (container) container.remove();\n  if (liveRegion) liveRegion.remove();\n}\nfunction showFlashError(message = Object(_format_message_js__WEBPACK_IMPORTED_MODULE_3__[\"default\"])('An error occurred making a network request')) {\n  return err => showFlashAlert({\n    message,\n    err,\n    type: 'error'\n  });\n}\nfunction showFlashSuccess(message) {\n  return () => showFlashAlert({\n    message,\n    type: 'success'\n  });\n}\n\n//# sourceURL=webpack:///./packages/canvas-rce/es/canvasFileBrowser/FlashAlert.js?");

/***/ }),

/***/ "LCIf":
/*!*****************************************************************!*\
  !*** ./packages/canvas-rce/es/canvasFileBrowser/FileBrowser.js ***!
  \*****************************************************************/
/*! exports provided: default */
/***/ (function(module, __webpack_exports__, __webpack_require__) {

"use strict";
eval("__webpack_require__.r(__webpack_exports__);\n/* harmony import */ var _babel_runtime_helpers_esm_objectSpread2__WEBPACK_IMPORTED_MODULE_0__ = __webpack_require__(/*! @babel/runtime/helpers/esm/objectSpread2 */ \"VTBJ\");\n/* harmony import */ var react__WEBPACK_IMPORTED_MODULE_1__ = __webpack_require__(/*! react */ \"q1tI\");\n/* harmony import */ var react__WEBPACK_IMPORTED_MODULE_1___default = /*#__PURE__*/__webpack_require__.n(react__WEBPACK_IMPORTED_MODULE_1__);\n/* harmony import */ var _format_message_js__WEBPACK_IMPORTED_MODULE_2__ = __webpack_require__(/*! ../format-message.js */ \"NFDp\");\n/* harmony import */ var lodash__WEBPACK_IMPORTED_MODULE_3__ = __webpack_require__(/*! lodash */ \"LvDl\");\n/* harmony import */ var lodash__WEBPACK_IMPORTED_MODULE_3___default = /*#__PURE__*/__webpack_require__.n(lodash__WEBPACK_IMPORTED_MODULE_3__);\n/* harmony import */ var jquery__WEBPACK_IMPORTED_MODULE_4__ = __webpack_require__(/*! jquery */ \"ouhR\");\n/* harmony import */ var jquery__WEBPACK_IMPORTED_MODULE_4___default = /*#__PURE__*/__webpack_require__.n(jquery__WEBPACK_IMPORTED_MODULE_4__);\n/* harmony import */ var axios__WEBPACK_IMPORTED_MODULE_5__ = __webpack_require__(/*! axios */ \"vDqi\");\n/* harmony import */ var axios__WEBPACK_IMPORTED_MODULE_5___default = /*#__PURE__*/__webpack_require__.n(axios__WEBPACK_IMPORTED_MODULE_5__);\n/* harmony import */ var minimatch__WEBPACK_IMPORTED_MODULE_6__ = __webpack_require__(/*! minimatch */ \"2LKJ\");\n/* harmony import */ var minimatch__WEBPACK_IMPORTED_MODULE_6___default = /*#__PURE__*/__webpack_require__.n(minimatch__WEBPACK_IMPORTED_MODULE_6__);\n/* harmony import */ var _instructure_ui_tree_browser__WEBPACK_IMPORTED_MODULE_7__ = __webpack_require__(/*! @instructure/ui-tree-browser */ \"jPNU\");\n/* harmony import */ var _instructure_ui_text__WEBPACK_IMPORTED_MODULE_8__ = __webpack_require__(/*! @instructure/ui-text */ \"iE3e\");\n/* harmony import */ var _instructure_ui_spinner__WEBPACK_IMPORTED_MODULE_9__ = __webpack_require__(/*! @instructure/ui-spinner */ \"cPO5\");\n/* harmony import */ var _instructure_ui_buttons__WEBPACK_IMPORTED_MODULE_10__ = __webpack_require__(/*! @instructure/ui-buttons */ \"K6WN\");\n/* harmony import */ var _instructure_ui_overlays__WEBPACK_IMPORTED_MODULE_11__ = __webpack_require__(/*! @instructure/ui-overlays */ \"vWls\");\n/* harmony import */ var _instructure_ui_a11y_content__WEBPACK_IMPORTED_MODULE_12__ = __webpack_require__(/*! @instructure/ui-a11y-content */ \"9+/z\");\n/* harmony import */ var _instructure_ui_icons__WEBPACK_IMPORTED_MODULE_13__ = __webpack_require__(/*! @instructure/ui-icons */ \"oMAr\");\n/* harmony import */ var prop_types__WEBPACK_IMPORTED_MODULE_14__ = __webpack_require__(/*! prop-types */ \"17x9\");\n/* harmony import */ var prop_types__WEBPACK_IMPORTED_MODULE_14___default = /*#__PURE__*/__webpack_require__.n(prop_types__WEBPACK_IMPORTED_MODULE_14__);\n/* harmony import */ var _apiFileUtils_js__WEBPACK_IMPORTED_MODULE_15__ = __webpack_require__(/*! ./apiFileUtils.js */ \"hzpS\");\n/* harmony import */ var _FlashAlert_js__WEBPACK_IMPORTED_MODULE_16__ = __webpack_require__(/*! ./FlashAlert.js */ \"BHAs\");\n/* harmony import */ var _natcompare_js__WEBPACK_IMPORTED_MODULE_17__ = __webpack_require__(/*! ./natcompare.js */ \"6+D0\");\n\n// Copyright (C) 2017 - present Instructure, Inc.\n//\n// This file is part of Canvas.\n//\n// Canvas is free software: you can redistribute it and/or modify it under\n// the terms of the GNU Affero General Public License as published by the Free\n// Software Foundation, version 3 of the License.\n//\n// Canvas is distributed in the hope that it will be useful, but WITHOUT ANY\n// WARRANTY; without even the implied warranty of MERCHANTABILITY or FITNESS FOR\n// A PARTICULAR PURPOSE. See the GNU Affero General Public License for more\n// details.\n//\n// You should have received a copy of the GNU Affero General Public License along\n// with this program. If not, see <http://www.gnu.org/licenses/>.\n\n\n\n\n\n\n\n\n\n\n\n\n\n\n\n\n\n\nclass FileBrowser extends react__WEBPACK_IMPORTED_MODULE_1___default.a.Component {\n  constructor(_props2) {\n    super(_props2);\n    this.fetchSubFolders = lodash__WEBPACK_IMPORTED_MODULE_3___default.a.memoize(id => {\n      this.source.fetchBookmarkedData(this.source.fetchSubFolders.bind(this.source), {\n        folderId: id,\n        perPage: 50\n      }, result => {\n        this.populateCollectionsList(result.folders);\n      }, error => {\n        this.props.onLoading(false);\n        /* eslint-disable no-console */\n\n        console.error('Error fetching data from API');\n        console.error(error);\n      });\n    });\n\n    this.populateCollectionsList = (folderList, opts = {}) => {\n      this.setState((state, props) => {\n        const newCollections = lodash__WEBPACK_IMPORTED_MODULE_3___default.a.cloneDeep(state.collections);\n\n        folderList.forEach(folder => {\n          const collection = this.formatFolderInfo(folder, Object(_babel_runtime_helpers_esm_objectSpread2__WEBPACK_IMPORTED_MODULE_0__[\"default\"])(Object(_babel_runtime_helpers_esm_objectSpread2__WEBPACK_IMPORTED_MODULE_0__[\"default\"])({}, opts), {}, {\n            searchString: props.searchString\n          }));\n          newCollections[collection.id] = collection;\n          const parentId = folder.parentId || 0;\n          const collectionCollections = newCollections[parentId].collections;\n\n          if (!collectionCollections.includes(collection.id)) {\n            collectionCollections.push(collection.id);\n            newCollections[parentId].collections = this.orderedIdsFromList(newCollections, collectionCollections);\n          }\n        });\n        return {\n          collections: newCollections\n        };\n      });\n    };\n\n    this.populateItemsList = fileList => {\n      this.setState(state => {\n        const newItems = lodash__WEBPACK_IMPORTED_MODULE_3___default.a.cloneDeep(state.items);\n\n        const newCollections = lodash__WEBPACK_IMPORTED_MODULE_3___default.a.cloneDeep(state.collections);\n\n        fileList.forEach(file => {\n          if (this.contentTypeIsAllowed(file.type)) {\n            const item = this.formatFileInfo(file);\n            newItems[item.id] = item;\n            const folder_id = file.folderId;\n            const collectionItems = newCollections[folder_id].items;\n\n            if (!collectionItems.includes(item.id)) {\n              collectionItems.push(item.id);\n              newCollections[folder_id].items = this.orderedIdsFromList(newItems, collectionItems);\n            }\n          }\n        });\n        return {\n          items: newItems,\n          collections: newCollections\n        };\n      });\n    };\n\n    this.onFolderToggle = folder => {\n      const folderId = folder.id;\n      this.setState(state => {\n        const collection = state.collections[folderId];\n        let newFolders = [];\n        let newCollections = state.collections;\n        const openFolders = state.openFolders;\n\n        if (!collection.locked && openFolders.includes(folderId)) {\n          newFolders = newFolders.concat(openFolders.filter(id => id !== folderId));\n        } else if (!collection.locked) {\n          newFolders = newFolders.concat(openFolders);\n          newFolders.push(folderId);\n          newCollections = lodash__WEBPACK_IMPORTED_MODULE_3___default.a.cloneDeep(state.collections);\n          newCollections[folderId] = collection;\n        }\n\n        return {\n          openFolders: newFolders,\n          uploadFolder: folderId,\n          collections: newCollections\n        };\n      }, () => {\n        if (this.state.openFolders.includes(folderId)) {\n          const collection = this.state.collections[folderId];\n\n          if (!collection.locked) {\n            this.getFolderData(folderId);\n          }\n        }\n      });\n    };\n\n    this.onFileClick = file => {\n      const folder = this.findFolderForFile(file);\n      this.setState({\n        uploadFolder: folder && folder.id\n      });\n      this.props.selectFile(this.state.items[file.id]);\n    };\n\n    this.setFailureMessage = message => {\n      Object(_FlashAlert_js__WEBPACK_IMPORTED_MODULE_16__[\"showFlashError\"])(message)();\n    };\n\n    this.state = {\n      collections: {\n        0: {\n          id: 0,\n          collections: []\n        }\n      },\n      items: {},\n      openFolders: [],\n      uploadFolder: null,\n      uploading: false,\n      loadingCount: 0\n    };\n    this.source = _props2.source;\n  }\n\n  componentDidMount() {\n    this.getRootFolders();\n  }\n\n  componentDidUpdate() {\n    this.state.openFolders.forEach(fid => {\n      if (this.props.searchString !== this.state.collections[fid].searchString) {\n        this.getFolderData(fid);\n      }\n    });\n  }\n\n  getContextName(contextType) {\n    if (contextType === 'course') {\n      return Object(_format_message_js__WEBPACK_IMPORTED_MODULE_2__[\"default\"])('Course files');\n    } else {\n      return Object(_format_message_js__WEBPACK_IMPORTED_MODULE_2__[\"default\"])('Group files');\n    }\n  }\n\n  getRootFolders() {\n    if (this.props.useContextAssets) {\n      this.getContextFolders();\n    }\n\n    this.getUserFolders();\n  }\n\n  getUserFolders() {\n    this.getRootFolderData('user', 'self', {\n      name: Object(_format_message_js__WEBPACK_IMPORTED_MODULE_2__[\"default\"])('My files')\n    });\n  }\n\n  getContextFolders() {\n    const _this$props$context = this.props.context,\n          type = _this$props$context.type,\n          id = _this$props$context.id;\n\n    if (type && id) {\n      this.getRootFolderData(type, id, {\n        name: this.getContextName(type)\n      });\n    }\n  }\n\n  increaseLoadingCount() {\n    let loadingCount = this.state.loadingCount;\n    loadingCount += 1;\n    this.setState({\n      loadingCount\n    });\n  }\n\n  decreaseLoadingCount() {\n    let loadingCount = this.state.loadingCount;\n    loadingCount -= 1;\n    this.setState({\n      loadingCount\n    });\n  }\n\n  getRootFolderData(context, contextId, opts = {}) {\n    this.increaseLoadingCount();\n    this.source.fetchRootFolder({\n      contextType: context,\n      contextId\n    }).then(result => {\n      this.populateRootFolder(result.folders[0], opts);\n    }).catch(error => {\n      this.decreaseLoadingCount();\n\n      if (error.response && error.response.status !== 401) {\n        this.setFailureMessage(Object(_format_message_js__WEBPACK_IMPORTED_MODULE_2__[\"default\"])('Something went wrong'));\n      }\n    });\n  }\n\n  populateRootFolder(data, opts = {}) {\n    this.decreaseLoadingCount();\n    this.populateCollectionsList([data], opts);\n    this.getFolderData(data.id);\n  } // Memoized function to fetch all subfolders\n  // of the given folder ID, handing pagination\n\n\n  fetchFiles(id) {\n    var _this$state$collectio, _this$state$collectio2;\n\n    this.source.fetchBookmarkedData(this.source.fetchFilesForFolder.bind(this.source), {\n      searchString: this.props.searchString,\n      perPage: 50,\n      filesUrl: (_this$state$collectio = this.state.collections[id]) === null || _this$state$collectio === void 0 ? void 0 : (_this$state$collectio2 = _this$state$collectio.api) === null || _this$state$collectio2 === void 0 ? void 0 : _this$state$collectio2.filesUrl\n    }, result => {\n      this.populateItemsList(result.files);\n    }, error => {\n      this.props.onLoading(false);\n      console.error(error);\n    });\n  }\n\n  getFolderData(id) {\n    if (!this.state.collections[id].locked) {\n      this.setState(state => {\n        const collections = Object(_babel_runtime_helpers_esm_objectSpread2__WEBPACK_IMPORTED_MODULE_0__[\"default\"])({}, state.collections);\n\n        const collection = Object(_babel_runtime_helpers_esm_objectSpread2__WEBPACK_IMPORTED_MODULE_0__[\"default\"])({}, collections[id]);\n\n        collection.items = [];\n        collection.searchString = this.props.searchString;\n        collections[id] = collection;\n        return {\n          collections\n        };\n      }, () => {\n        this.fetchSubFolders(id);\n        this.fetchFiles(id);\n      });\n    }\n  }\n\n  contentTypeIsAllowed(contentType) {\n    for (const pattern of this.props.contentTypes) {\n      if (minimatch__WEBPACK_IMPORTED_MODULE_6___default()(contentType, pattern)) {\n        return true;\n      }\n    }\n\n    return false;\n  }\n\n  formatFolderInfo(apiFolder, opts = {}) {\n    var _apiFolder$contextTyp;\n\n    const descriptor = apiFolder.lockedForUser ? Object(_format_message_js__WEBPACK_IMPORTED_MODULE_2__[\"default\"])('Locked') : null;\n\n    const folder = Object(_babel_runtime_helpers_esm_objectSpread2__WEBPACK_IMPORTED_MODULE_0__[\"default\"])({\n      api: apiFolder,\n      id: apiFolder.id,\n      collections: [],\n      items: [],\n      name: apiFolder.name,\n      context: `/${(_apiFolder$contextTyp = apiFolder.contextType) === null || _apiFolder$contextTyp === void 0 ? void 0 : _apiFolder$contextTyp.toLowerCase()}s/${apiFolder.contextId}`,\n      canUpload: apiFolder.canUpload,\n      locked: apiFolder.lockedForUser,\n      descriptor\n    }, opts);\n\n    const existingCollections = this.state.collections[apiFolder.id];\n    Object.assign(folder, existingCollections && {\n      collections: existingCollections.collections,\n      items: existingCollections.items\n    });\n    return folder;\n  } // TreeBrowser doesn't support per-item customized icons,\n  // but it does permit per-item thumbnails. Cook up an\n  // SVG data URL for the thumbnail.  This can go away\n  // when TreeBrowser is better.\n\n\n  getThumbnail(file) {\n    if (file.thumbnailUrl) {\n      return file.thumbnailUrl;\n    }\n\n    const svgicon = Object(_apiFileUtils_js__WEBPACK_IMPORTED_MODULE_15__[\"getSVGIconFromType\"])(file.type);\n    return `data:image/svg+xml;utf8,${svgicon}`;\n  }\n\n  formatFileInfo(apiFile, opts = {}) {\n    const collections = this.state.collections;\n    const context = collections[apiFile.folderId].context;\n\n    const file = Object(_babel_runtime_helpers_esm_objectSpread2__WEBPACK_IMPORTED_MODULE_0__[\"default\"])({\n      api: apiFile,\n      id: apiFile.id,\n      name: apiFile.name,\n      thumbnail: this.getThumbnail(apiFile),\n      src: `${context}/files/${apiFile.id}/preview${context.includes('user') ? `?verifier=${apiFile.uuid}` : ''}`,\n      alt: apiFile.name\n    }, opts);\n\n    if (apiFile.iframeUrl) {\n      // it's a media_object\n      file.src = apiFile.iframeUrl;\n    }\n\n    return file;\n  }\n\n  orderedIdsFromList(list, ids) {\n    try {\n      const sortedIds = ids.sort((a, b) => _natcompare_js__WEBPACK_IMPORTED_MODULE_17__[\"default\"].strings(list[a].name, list[b].name));\n      return sortedIds;\n    } catch (error) {\n      console.error(error);\n      return ids;\n    }\n  }\n\n  findFolderForFile(file) {\n    const collections = this.state.collections;\n    const folderKey = Object.keys(collections).find(key => {\n      const items = collections[key].items;\n      return items && items.includes(file.id);\n    });\n    return collections[folderKey];\n  }\n\n  renderLoading() {\n    if (this.state.loadingCount > 0) {\n      return /*#__PURE__*/react__WEBPACK_IMPORTED_MODULE_1___default.a.createElement(_instructure_ui_spinner__WEBPACK_IMPORTED_MODULE_9__[\"Spinner\"], {\n        renderTitle: Object(_format_message_js__WEBPACK_IMPORTED_MODULE_2__[\"default\"])('Loading folders'),\n        size: \"small\"\n      });\n    } else {\n      return null;\n    }\n  }\n\n  render() {\n    const element = /*#__PURE__*/react__WEBPACK_IMPORTED_MODULE_1___default.a.createElement(\"div\", {\n      className: \"file-browser__container\"\n    }, /*#__PURE__*/react__WEBPACK_IMPORTED_MODULE_1___default.a.createElement(_instructure_ui_text__WEBPACK_IMPORTED_MODULE_8__[\"Text\"], null, Object(_format_message_js__WEBPACK_IMPORTED_MODULE_2__[\"default\"])('Available folders')), /*#__PURE__*/react__WEBPACK_IMPORTED_MODULE_1___default.a.createElement(\"div\", {\n      className: \"file-browser__tree\"\n    }, /*#__PURE__*/react__WEBPACK_IMPORTED_MODULE_1___default.a.createElement(_instructure_ui_tree_browser__WEBPACK_IMPORTED_MODULE_7__[\"TreeBrowser\"], {\n      collections: this.state.collections,\n      items: this.state.items,\n      size: \"medium\",\n      onCollectionToggle: this.onFolderToggle,\n      onItemClick: this.onFileClick,\n      treeLabel: Object(_format_message_js__WEBPACK_IMPORTED_MODULE_2__[\"default\"])('Folder tree'),\n      rootId: 0,\n      showRootCollection: false,\n      expanded: this.state.openFolders,\n      collectionIconExpanded: _instructure_ui_icons__WEBPACK_IMPORTED_MODULE_13__[\"IconOpenFolderSolid\"],\n      collectionIcon: _instructure_ui_icons__WEBPACK_IMPORTED_MODULE_13__[\"IconFolderSolid\"],\n      itemIcon: _instructure_ui_icons__WEBPACK_IMPORTED_MODULE_13__[\"IconImageSolid\"],\n      selectionType: \"single\"\n    }), this.renderLoading()));\n    return element;\n  }\n\n}\n\nFileBrowser.propTypes = {\n  allowUpload: prop_types__WEBPACK_IMPORTED_MODULE_14___default.a.bool,\n  selectFile: prop_types__WEBPACK_IMPORTED_MODULE_14___default.a.func.isRequired,\n  contentTypes: prop_types__WEBPACK_IMPORTED_MODULE_14___default.a.arrayOf(prop_types__WEBPACK_IMPORTED_MODULE_14___default.a.string),\n  useContextAssets: prop_types__WEBPACK_IMPORTED_MODULE_14___default.a.bool,\n  searchString: prop_types__WEBPACK_IMPORTED_MODULE_14___default.a.string,\n  onLoading: prop_types__WEBPACK_IMPORTED_MODULE_14___default.a.func.isRequired,\n  context: prop_types__WEBPACK_IMPORTED_MODULE_14___default.a.shape({\n    type: prop_types__WEBPACK_IMPORTED_MODULE_14___default.a.string.isRequired,\n    id: prop_types__WEBPACK_IMPORTED_MODULE_14___default.a.number.isRequired\n  }).isRequired\n};\nFileBrowser.defaultProps = {\n  allowUpload: true,\n  contentTypes: ['*/*'],\n  useContextAssets: true\n};\n/* harmony default export */ __webpack_exports__[\"default\"] = (FileBrowser);\n\n//# sourceURL=webpack:///./packages/canvas-rce/es/canvasFileBrowser/FileBrowser.js?");

/***/ }),

/***/ "NhNB":
/*!******************************************************************!*\
  !*** ./packages/canvas-rce/es/rce/plugins/shared/FileBrowser.js ***!
  \******************************************************************/
/*! exports provided: default */
/***/ (function(module, __webpack_exports__, __webpack_require__) {

"use strict";
eval("__webpack_require__.r(__webpack_exports__);\n/* harmony export (binding) */ __webpack_require__.d(__webpack_exports__, \"default\", function() { return RceFileBrowser; });\n/* harmony import */ var react__WEBPACK_IMPORTED_MODULE_0__ = __webpack_require__(/*! react */ \"q1tI\");\n/* harmony import */ var react__WEBPACK_IMPORTED_MODULE_0___default = /*#__PURE__*/__webpack_require__.n(react__WEBPACK_IMPORTED_MODULE_0__);\n/* harmony import */ var prop_types__WEBPACK_IMPORTED_MODULE_1__ = __webpack_require__(/*! prop-types */ \"17x9\");\n/* harmony import */ var prop_types__WEBPACK_IMPORTED_MODULE_1___default = /*#__PURE__*/__webpack_require__.n(prop_types__WEBPACK_IMPORTED_MODULE_1__);\n/* harmony import */ var classnames__WEBPACK_IMPORTED_MODULE_2__ = __webpack_require__(/*! classnames */ \"TSYQ\");\n/* harmony import */ var classnames__WEBPACK_IMPORTED_MODULE_2___default = /*#__PURE__*/__webpack_require__.n(classnames__WEBPACK_IMPORTED_MODULE_2__);\n/* harmony import */ var _instructure_ui_view__WEBPACK_IMPORTED_MODULE_3__ = __webpack_require__(/*! @instructure/ui-view */ \"OkHH\");\n/* harmony import */ var _common_fileUrl_js__WEBPACK_IMPORTED_MODULE_4__ = __webpack_require__(/*! ../../../common/fileUrl.js */ \"qScw\");\n/* harmony import */ var _fileTypeUtils_js__WEBPACK_IMPORTED_MODULE_5__ = __webpack_require__(/*! ./fileTypeUtils.js */ \"kyQv\");\n/* harmony import */ var _sidebar_sources_api_js__WEBPACK_IMPORTED_MODULE_6__ = __webpack_require__(/*! ../../../sidebar/sources/api.js */ \"f2i8\");\n/* harmony import */ var _canvasFileBrowser_FileBrowser_js__WEBPACK_IMPORTED_MODULE_7__ = __webpack_require__(/*! ../../../canvasFileBrowser/FileBrowser.js */ \"LCIf\");\n/* harmony import */ var _Previewable_js__WEBPACK_IMPORTED_MODULE_8__ = __webpack_require__(/*! ./Previewable.js */ \"rCsd\");\n/*\n * Copyright (C) 2019 - present Instructure, Inc.\n *\n * This file is part of Canvas.\n *\n * Canvas is free software: you can redistribute it and/or modify it under\n * the terms of the GNU Affero General Public License as published by the Free\n * Software Foundation, version 3 of the License.\n *\n * Canvas is distributed in the hope that it will be useful, but WITHOUT ANY\n * WARRANTY; without even the implied warranty of MERCHANTABILITY or FITNESS FOR\n * A PARTICULAR PURPOSE. See the GNU Affero General Public License for more\n * details.\n *\n * You should have received a copy of the GNU Affero General Public License along\n * with this program. If not, see <http://www.gnu.org/licenses/>.\n */\n\n\n\n\n\n\n // TODO: should find a better way to share this code\n\n\n\nRceFileBrowser.propTypes = {\n  onFileSelect: prop_types__WEBPACK_IMPORTED_MODULE_1__[\"func\"].isRequired,\n  onAllFilesLoading: prop_types__WEBPACK_IMPORTED_MODULE_1__[\"func\"].isRequired,\n  searchString: prop_types__WEBPACK_IMPORTED_MODULE_1__[\"string\"].isRequired\n};\nfunction RceFileBrowser(props) {\n  const onFileSelect = props.onFileSelect,\n        searchString = props.searchString,\n        onAllFilesLoading = props.onAllFilesLoading,\n        jwt = props.jwt,\n        refreshToken = props.refreshToken,\n        host = props.host,\n        source = props.source;\n  const apiSource = Object(react__WEBPACK_IMPORTED_MODULE_0__[\"useMemo\"])(() => {\n    return source || new _sidebar_sources_api_js__WEBPACK_IMPORTED_MODULE_6__[\"default\"]({\n      jwt,\n      refreshToken,\n      host\n    });\n  }, [source]);\n  return /*#__PURE__*/react__WEBPACK_IMPORTED_MODULE_0___default.a.createElement(_instructure_ui_view__WEBPACK_IMPORTED_MODULE_3__[\"View\"], {\n    as: \"div\",\n    margin: \"medium\",\n    \"data-testid\": \"instructure_links-FilesPanel\"\n  }, /*#__PURE__*/react__WEBPACK_IMPORTED_MODULE_0___default.a.createElement(_canvasFileBrowser_FileBrowser_js__WEBPACK_IMPORTED_MODULE_7__[\"default\"], {\n    selectFile: function (fileInfo) {\n      var _fileInfo$api$embed;\n\n      const content_type = fileInfo.api.type;\n      const canPreview = Object(_Previewable_js__WEBPACK_IMPORTED_MODULE_8__[\"isPreviewable\"])(content_type);\n      const clazz = classnames__WEBPACK_IMPORTED_MODULE_2___default()('instructure_file_link', {\n        instructure_scribd_file: canPreview,\n        inline_disabled: true\n      });\n      const url = Object(_common_fileUrl_js__WEBPACK_IMPORTED_MODULE_4__[\"downloadToWrap\"])(fileInfo.src);\n      const embedded_iframe_url = Object(_fileTypeUtils_js__WEBPACK_IMPORTED_MODULE_5__[\"mediaPlayerURLFromFile\"])(fileInfo.api);\n      onFileSelect({\n        name: fileInfo.name,\n        title: fileInfo.name,\n        href: url,\n        embedded_iframe_url,\n        media_id: (_fileInfo$api$embed = fileInfo.api.embed) === null || _fileInfo$api$embed === void 0 ? void 0 : _fileInfo$api$embed.id,\n        target: '_blank',\n        class: clazz,\n        content_type\n      });\n    },\n    contentTypes: ['**'],\n    searchString: searchString,\n    onLoading: onAllFilesLoading,\n    source: apiSource,\n    context: props.context\n  }));\n}\n\n//# sourceURL=webpack:///./packages/canvas-rce/es/rce/plugins/shared/FileBrowser.js?");

/***/ }),

/***/ "TaIO":
/*!*************************************************************!*\
  !*** ./packages/canvas-rce/es/canvasFileBrowser/i18nObj.js ***!
  \*************************************************************/
/*! exports provided: default */
/***/ (function(module, __webpack_exports__, __webpack_require__) {

"use strict";
eval("__webpack_require__.r(__webpack_exports__);\n/* harmony import */ var _babel_runtime_helpers_esm_objectSpread2__WEBPACK_IMPORTED_MODULE_0__ = __webpack_require__(/*! @babel/runtime/helpers/esm/objectSpread2 */ \"VTBJ\");\n/* harmony import */ var jquery__WEBPACK_IMPORTED_MODULE_1__ = __webpack_require__(/*! jquery */ \"ouhR\");\n/* harmony import */ var jquery__WEBPACK_IMPORTED_MODULE_1___default = /*#__PURE__*/__webpack_require__.n(jquery__WEBPACK_IMPORTED_MODULE_1__);\n/* harmony import */ var _i18nLolcalize_js__WEBPACK_IMPORTED_MODULE_2__ = __webpack_require__(/*! ./i18nLolcalize.js */ \"5fpA\");\n/* harmony import */ var i18n_js__WEBPACK_IMPORTED_MODULE_3__ = __webpack_require__(/*! i18n-js */ \"0WdF\");\n/* harmony import */ var i18n_js__WEBPACK_IMPORTED_MODULE_3___default = /*#__PURE__*/__webpack_require__.n(i18n_js__WEBPACK_IMPORTED_MODULE_3__);\n/* harmony import */ var i18nliner_dist_lib_extensions_i18n_js__WEBPACK_IMPORTED_MODULE_4__ = __webpack_require__(/*! i18nliner/dist/lib/extensions/i18n_js */ \"GXgh\");\n/* harmony import */ var i18nliner_dist_lib_extensions_i18n_js__WEBPACK_IMPORTED_MODULE_4___default = /*#__PURE__*/__webpack_require__.n(i18nliner_dist_lib_extensions_i18n_js__WEBPACK_IMPORTED_MODULE_4__);\n/* harmony import */ var _htmlEscape_js__WEBPACK_IMPORTED_MODULE_5__ = __webpack_require__(/*! ./htmlEscape.js */ \"67Xe\");\n\n\n/*\n * Copyright (C) 2011 - present Instructure, Inc.\n *\n * This file is part of Canvas.\n *\n * Canvas is free software: you can redistribute it and/or modify it under\n * the terms of the GNU Affero General Public License as published by the Free\n * Software Foundation, version 3 of the License.\n *\n * Canvas is distributed in the hope that it will be useful, but WITHOUT ANY\n * WARRANTY; without even the implied warranty of MERCHANTABILITY or FITNESS FOR\n * A PARTICULAR PURPOSE. See the GNU Affero General Public License for more\n * details.\n *\n * You should have received a copy of the GNU Affero General Public License along\n * with this program. If not, see <http://www.gnu.org/licenses/>.\n */\n\n\n\n\n // add i18nliner's runtime extensions to the global I18n object\n\nif (!i18n_js__WEBPACK_IMPORTED_MODULE_3___default.a.translateWithoutI18nliner) {\n  // can't extend or load date-js twice\n  __webpack_require__.e(/*! import() */ 3695).then(__webpack_require__.bind(null, /*! ./date */ \"8V8Z\")).then(() => i18nliner_dist_lib_extensions_i18n_js__WEBPACK_IMPORTED_MODULE_4___default()(i18n_js__WEBPACK_IMPORTED_MODULE_3___default.a));\n}\n/*\n * Overridden interpolator that localizes any interpolated numbers.\n * Defaults to localizeNumber behavior (precision 9, but strips\n * insignificant digits). If you want a different format, do it\n * before you interpolate.\n */\n\n\nconst interpolate = i18n_js__WEBPACK_IMPORTED_MODULE_3___default.a.interpolate.bind(i18n_js__WEBPACK_IMPORTED_MODULE_3___default.a);\n\ni18n_js__WEBPACK_IMPORTED_MODULE_3___default.a.interpolate = function (message, origOptions) {\n  const options = Object(_babel_runtime_helpers_esm_objectSpread2__WEBPACK_IMPORTED_MODULE_0__[\"default\"])({}, origOptions);\n\n  const matches = message.match(this.PLACEHOLDER) || [];\n  matches.forEach(placeholder => {\n    const name = placeholder.replace(this.PLACEHOLDER, '$1');\n\n    if (typeof options[name] === 'number') {\n      options[name] = this.localizeNumber(options[name]);\n    }\n  });\n  return interpolate(message, options);\n};\n\ni18n_js__WEBPACK_IMPORTED_MODULE_3___default.a.locale = document.documentElement.getAttribute('lang');\n\ni18n_js__WEBPACK_IMPORTED_MODULE_3___default.a.lookup = function (scope, options = {}) {\n  const translations = i18n_js__WEBPACK_IMPORTED_MODULE_3___default.a.translations;\n  const locales = i18n_js__WEBPACK_IMPORTED_MODULE_3___default.a.getLocaleAndFallbacks(i18n_js__WEBPACK_IMPORTED_MODULE_3___default.a.currentLocale());\n\n  if (typeof scope === 'object') {\n    scope = scope.join(this.defaultSeparator);\n  }\n\n  if (options.scope) {\n    scope = `${options.scope}${this.defaultSeparator}${scope}`;\n  }\n\n  const scopes = scope.split(this.defaultSeparator);\n  let messages;\n\n  for (let i = 0; !messages && i < locales.length; i++) {\n    messages = translations[locales[i]];\n\n    for (let j = 0; messages && j < scopes.length; j++) {\n      const currentScope = scopes[j];\n      messages = messages[currentScope];\n    }\n  }\n\n  if (!messages && options.defaultValue != null) {\n    messages = options.defaultValue;\n  }\n\n  return messages;\n};\n\ni18n_js__WEBPACK_IMPORTED_MODULE_3___default.a.getLocaleAndFallbacks = function (locale) {\n  if (!i18n_js__WEBPACK_IMPORTED_MODULE_3___default.a.fallbacksMap) {\n    i18n_js__WEBPACK_IMPORTED_MODULE_3___default.a.fallbacksMap = i18n_js__WEBPACK_IMPORTED_MODULE_3___default.a.computeFallbacks();\n  }\n\n  return i18n_js__WEBPACK_IMPORTED_MODULE_3___default.a.fallbacksMap[locale] || [i18n_js__WEBPACK_IMPORTED_MODULE_3___default.a.defaultLocale];\n};\n\ni18n_js__WEBPACK_IMPORTED_MODULE_3___default.a.computeFallbacks = function () {\n  const map = {};\n  Object.keys(i18n_js__WEBPACK_IMPORTED_MODULE_3___default.a.translations).forEach(locale => {\n    const locales = [];\n    const parts = locale.split(/-/);\n\n    for (let i = parts.length; i > 0; i--) {\n      const candidateLocale = parts.slice(0, i).join('-');\n\n      if (candidateLocale in i18n_js__WEBPACK_IMPORTED_MODULE_3___default.a.translations) {\n        locales.push(candidateLocale);\n      }\n    }\n\n    if (locales.indexOf(i18n_js__WEBPACK_IMPORTED_MODULE_3___default.a.defaultLocale) === -1) {\n      locales.push(i18n_js__WEBPACK_IMPORTED_MODULE_3___default.a.defaultLocale);\n    }\n\n    map[locale] = locales;\n  });\n  return map;\n};\n\nconst _localize = i18n_js__WEBPACK_IMPORTED_MODULE_3___default.a.localize.bind(i18n_js__WEBPACK_IMPORTED_MODULE_3___default.a);\n\ni18n_js__WEBPACK_IMPORTED_MODULE_3___default.a.localize = function (scope, value) {\n  let result = _localize.call(this, scope, value);\n\n  if (scope.match(/^(date|time)/)) result = result.replace(/\\s{2,}/, ' ');\n  return result;\n};\n\ni18n_js__WEBPACK_IMPORTED_MODULE_3___default.a.n = i18n_js__WEBPACK_IMPORTED_MODULE_3___default.a.localizeNumber = (value, options = {}) => {\n  const format = Object(_babel_runtime_helpers_esm_objectSpread2__WEBPACK_IMPORTED_MODULE_0__[\"default\"])(Object(_babel_runtime_helpers_esm_objectSpread2__WEBPACK_IMPORTED_MODULE_0__[\"default\"])({}, i18n_js__WEBPACK_IMPORTED_MODULE_3___default.a.lookup('number.format') || {}), {}, {\n    // use a high precision and strip zeros if no precision is provided\n    // 5 is as high as we want to go without causing precision issues\n    // when used with toFixed() and large numbers\n    strip_insignificant_zeros: options.strip_insignificant_zeros || options.precision == null,\n    precision: options.precision != null ? options.precision : 5\n  });\n\n  const method = options.percentage ? 'toPercentage' : 'toNumber';\n\n  if (value && value.toString().match(/e/)) {\n    return value.toString();\n  } else {\n    return i18n_js__WEBPACK_IMPORTED_MODULE_3___default.a[method](value, format);\n  }\n};\n\nconst padding = (n, pad = '00', len = 2) => {\n  const s = pad + n.toString();\n  return s.substr(s.length - len);\n};\n\ni18n_js__WEBPACK_IMPORTED_MODULE_3___default.a.strftime = function (date, format) {\n  const options = this.lookup('date');\n\n  if (options) {\n    options.meridian = options.meridian || ['AM', 'PM'];\n  }\n\n  const weekDay = date.getDay();\n  const day = date.getDate();\n  const year = date.getFullYear();\n  const month = date.getMonth() + 1;\n  const dayOfYear = 1 + Math.round((new Date(year, month - 1, day) - new Date(year, 0, 1)) / 86400000);\n  const hour = date.getHours();\n  let hour12 = hour;\n  const meridian = hour > 11 ? 1 : 0;\n  const secs = date.getSeconds();\n  const mils = date.getMilliseconds();\n  const mins = date.getMinutes();\n  const offset = date.getTimezoneOffset();\n  const epochOffset = Math.floor(date.getTime() / 1000);\n  const absOffsetHours = Math.floor(Math.abs(offset / 60));\n  const absOffsetMinutes = Math.abs(offset) - absOffsetHours * 60;\n  const timezoneoffset = `${offset > 0 ? '-' : '+'}${absOffsetHours.toString().length < 2 ? `0${absOffsetHours}` : absOffsetHours}${absOffsetMinutes.toString().length < 2 ? `0${absOffsetMinutes}` : absOffsetMinutes}`;\n\n  if (hour12 > 12) {\n    hour12 -= 12;\n  } else if (hour12 === 0) {\n    hour12 = 12;\n  }\n  /*\n    not implemented:\n      %N  // nanoseconds\n      %6N // microseconds\n      %9N // nanoseconds\n      %U  // week number of year, starting with the first Sunday as the first day of the 01st week (00..53)\n      %V  // week number of year according to ISO 8601 (01..53) (week starts on Monday, week 01 is the one with the first Thursday of the year)\n      %W  // week number of year, starting with the first Monday as the first day of the 01st week (00..53)\n      %Z  // time zone name\n  */\n\n\n  let optionsNeeded = false;\n  const f = format.replace(/%([DFrRTv])/g, (str, p1) => ({\n    D: '%m/%d/%y',\n    F: '%Y-%m-%d',\n    r: '%I:%M:%S %p',\n    R: '%H:%M',\n    T: '%H:%M:%S',\n    v: '%e-%b-%Y'\n  })[p1]).replace(/%(%|\\-?[a-zA-Z]|3N)/g, (str, p1) => {\n    // check to see if we need an options object\n    switch (p1) {\n      case 'a':\n      case 'A':\n      case 'b':\n      case 'B':\n      case 'h':\n      case 'p':\n      case 'P':\n        if (options == null) {\n          optionsNeeded = true;\n          return '';\n        }\n\n    }\n\n    switch (p1) {\n      case 'a':\n        return options.abbr_day_names[weekDay];\n\n      case 'A':\n        return options.day_names[weekDay];\n\n      case 'b':\n        return options.abbr_month_names[month];\n\n      case 'B':\n        return options.month_names[month];\n\n      case 'd':\n        return padding(day);\n\n      case '-d':\n        return day;\n\n      case 'e':\n        return padding(day, ' ');\n\n      case 'h':\n        return options.abbr_month_names[month];\n\n      case 'H':\n        return padding(hour);\n\n      case '-H':\n        return hour;\n\n      case 'I':\n        return padding(hour12);\n\n      case '-I':\n        return hour12;\n\n      case 'j':\n        return padding(dayOfYear, '00', 3);\n\n      case 'k':\n        return padding(hour, ' ');\n\n      case 'l':\n        return padding(hour12, ' ');\n\n      case 'L':\n        return padding(mils, '00', 3);\n\n      case 'm':\n        return padding(month);\n\n      case '-m':\n        return month;\n\n      case 'M':\n        return padding(mins);\n\n      case '-M':\n        return mins;\n\n      case 'n':\n        return '\\n';\n\n      case '3N':\n        return padding(mils, '00', 3);\n\n      case 'p':\n        return options.meridian[meridian];\n\n      case 'P':\n        return options.meridian[meridian].toLowerCase();\n\n      case 's':\n        return epochOffset;\n\n      case 'S':\n        return padding(secs);\n\n      case '-S':\n        return secs;\n\n      case 't':\n        return '\\t';\n\n      case 'u':\n        return weekDay || weekDay + 7;\n\n      case 'w':\n        return weekDay;\n\n      case 'y':\n        return padding(year);\n\n      case '-y':\n        return padding(year).replace(/^0+/, '');\n\n      case 'Y':\n        return year;\n\n      case 'z':\n        return timezoneoffset;\n\n      case '%':\n        return '%';\n\n      default:\n        return str;\n    }\n  });\n\n  if (optionsNeeded) {\n    return date.toString();\n  }\n\n  return f;\n}; // like the original, except it formats count\n\n\ni18n_js__WEBPACK_IMPORTED_MODULE_3___default.a.pluralize = function (count, scope, options) {\n  let translation;\n\n  try {\n    translation = this.lookup(scope, options);\n  } catch (error) {}\n\n  if (!translation) {\n    return this.missingTranslation(scope);\n  }\n\n  options = Object(_babel_runtime_helpers_esm_objectSpread2__WEBPACK_IMPORTED_MODULE_0__[\"default\"])({\n    precision: 0\n  }, options);\n  options.count = this.localizeNumber(count, options);\n  let message;\n\n  switch (Math.abs(count)) {\n    case 0:\n      message = translation.zero != null ? translation.zero : translation.none != null ? translation.none : translation.other != null ? translation.other : this.missingTranslation(scope, 'zero');\n      break;\n\n    case 1:\n      message = translation.one != null ? translation.one : this.missingTranslation(scope, 'one');\n      break;\n\n    default:\n      message = translation.other != null ? translation.other : this.missingTranslation(scope, 'other');\n  }\n\n  return this.interpolate(message, options);\n};\n\ni18n_js__WEBPACK_IMPORTED_MODULE_3___default.a.Utils.HtmlSafeString = _htmlEscape_js__WEBPACK_IMPORTED_MODULE_5__[\"default\"].SafeString; // this is what we use elsewhere in canvas, so make i18nliner use it too\n\ni18n_js__WEBPACK_IMPORTED_MODULE_3___default.a.CallHelpers.keyPattern = /^\\#?\\w+(\\.\\w+)+$/; // handle our absolute keys\n// when inferring the key at runtime (i.e. js/coffee or inline hbs `t`\n// call), signal to normalizeKey that it shouldn't be scoped.\n// TODO: make i18nliner-js set i18n_inferred_key, which will DRY things up\n// slightly\n\nconst inferKey = i18n_js__WEBPACK_IMPORTED_MODULE_3___default.a.CallHelpers.inferKey.bind(i18n_js__WEBPACK_IMPORTED_MODULE_3___default.a.CallHelpers);\n\ni18n_js__WEBPACK_IMPORTED_MODULE_3___default.a.CallHelpers.inferKey = (defaultValue, translateOptions) => `#${inferKey(defaultValue, translateOptions)}`;\n\ni18n_js__WEBPACK_IMPORTED_MODULE_3___default.a.CallHelpers.normalizeKey = (key, options) => {\n  if (key[0] === '#') {\n    key = key.slice(1);\n    delete options.scope;\n  }\n\n  return key;\n};\n\nif (window.ENV && window.ENV.lolcalize) {\n  i18n_js__WEBPACK_IMPORTED_MODULE_3___default.a.CallHelpers.normalizeDefault = _i18nLolcalize_js__WEBPACK_IMPORTED_MODULE_2__[\"default\"];\n}\n\ni18n_js__WEBPACK_IMPORTED_MODULE_3___default.a.scoped = (scope, callback) => {\n  const i18n_scope = new i18n_js__WEBPACK_IMPORTED_MODULE_3___default.a.scope(scope);\n  if (callback) callback(i18n_scope);\n  return i18n_scope;\n};\n\nclass Scope {\n  constructor(scope) {\n    this.scope = scope;\n    this.cache = new Map();\n  }\n\n  translate(...args) {\n    let cacheKey;\n\n    try {\n      cacheKey = i18n_js__WEBPACK_IMPORTED_MODULE_3___default.a.locale + JSON.stringify(args);\n    } catch (e) {// if there is something in the arguments we can't stringify, just do it without cache\n    }\n\n    if (cacheKey) {\n      const cached = this.cache.get(cacheKey);\n\n      if (cached) {\n        return cached;\n      } else {\n        const valToCache = this.translateWithoutCache(...args);\n        this.cache.set(cacheKey, valToCache);\n        return valToCache;\n      }\n    } else {\n      return this.translateWithoutCache(...args);\n    }\n  }\n\n  translateWithoutCache() {\n    let args = arguments;\n    const options = args[args.length - 1];\n\n    if (options instanceof Object) {\n      options.scope = this.scope;\n    } else {\n      args = [...args, {\n        scope: this.scope\n      }];\n    }\n\n    return i18n_js__WEBPACK_IMPORTED_MODULE_3___default.a.translate(...args);\n  }\n\n  localize(key, date) {\n    if (key[0] === '#') key = key.slice(1);\n    return i18n_js__WEBPACK_IMPORTED_MODULE_3___default.a.localize(key, date);\n  }\n\n  beforeLabel(text) {\n    return this.t('#before_label_wrapper', '%{text}:', {\n      text\n    });\n  }\n\n}\n\ni18n_js__WEBPACK_IMPORTED_MODULE_3___default.a.scope = Scope;\nScope.prototype.HtmlSafeString = i18n_js__WEBPACK_IMPORTED_MODULE_3___default.a.HtmlSafeString;\nScope.prototype.lookup = i18n_js__WEBPACK_IMPORTED_MODULE_3___default.a.lookup.bind(i18n_js__WEBPACK_IMPORTED_MODULE_3___default.a);\nScope.prototype.toTime = i18n_js__WEBPACK_IMPORTED_MODULE_3___default.a.toTime.bind(i18n_js__WEBPACK_IMPORTED_MODULE_3___default.a);\nScope.prototype.toNumber = i18n_js__WEBPACK_IMPORTED_MODULE_3___default.a.toNumber.bind(i18n_js__WEBPACK_IMPORTED_MODULE_3___default.a);\nScope.prototype.toCurrency = i18n_js__WEBPACK_IMPORTED_MODULE_3___default.a.toCurrency.bind(i18n_js__WEBPACK_IMPORTED_MODULE_3___default.a);\nScope.prototype.toHumanSize = i18n_js__WEBPACK_IMPORTED_MODULE_3___default.a.toHumanSize.bind(i18n_js__WEBPACK_IMPORTED_MODULE_3___default.a);\nScope.prototype.toPercentage = i18n_js__WEBPACK_IMPORTED_MODULE_3___default.a.toPercentage.bind(i18n_js__WEBPACK_IMPORTED_MODULE_3___default.a);\nScope.prototype.localizeNumber = i18n_js__WEBPACK_IMPORTED_MODULE_3___default.a.n.bind(i18n_js__WEBPACK_IMPORTED_MODULE_3___default.a);\nScope.prototype.currentLocale = i18n_js__WEBPACK_IMPORTED_MODULE_3___default.a.currentLocale.bind(i18n_js__WEBPACK_IMPORTED_MODULE_3___default.a); // shorthand\n\nScope.prototype.t = Scope.prototype.translate;\nScope.prototype.l = Scope.prototype.localize;\nScope.prototype.n = Scope.prototype.localizeNumber;\nScope.prototype.p = Scope.prototype.pluralize;\n\nif (i18n_js__WEBPACK_IMPORTED_MODULE_3___default.a.translations) {\n  jquery__WEBPACK_IMPORTED_MODULE_1___default.a.extend(true, i18n_js__WEBPACK_IMPORTED_MODULE_3___default.a.translations, {\n    en: {}\n  });\n} else {\n  i18n_js__WEBPACK_IMPORTED_MODULE_3___default.a.translations = {\n    en: {}\n  };\n}\n\n/* harmony default export */ __webpack_exports__[\"default\"] = (i18n_js__WEBPACK_IMPORTED_MODULE_3___default.a);\n\n//# sourceURL=webpack:///./packages/canvas-rce/es/canvasFileBrowser/i18nObj.js?");

/***/ }),

/***/ "hzpS":
/*!******************************************************************!*\
  !*** ./packages/canvas-rce/es/canvasFileBrowser/apiFileUtils.js ***!
  \******************************************************************/
/*! exports provided: getRootFolder, uploadFile, getSVGIconFromType */
/***/ (function(module, __webpack_exports__, __webpack_require__) {

"use strict";
eval("__webpack_require__.r(__webpack_exports__);\n/* harmony export (binding) */ __webpack_require__.d(__webpack_exports__, \"getRootFolder\", function() { return getRootFolder; });\n/* harmony export (binding) */ __webpack_require__.d(__webpack_exports__, \"uploadFile\", function() { return uploadFile; });\n/* harmony export (binding) */ __webpack_require__.d(__webpack_exports__, \"getSVGIconFromType\", function() { return getSVGIconFromType; });\n/* harmony import */ var _babel_runtime_helpers_esm_objectSpread2__WEBPACK_IMPORTED_MODULE_0__ = __webpack_require__(/*! @babel/runtime/helpers/esm/objectSpread2 */ \"VTBJ\");\n/* harmony import */ var axios__WEBPACK_IMPORTED_MODULE_1__ = __webpack_require__(/*! axios */ \"vDqi\");\n/* harmony import */ var axios__WEBPACK_IMPORTED_MODULE_1___default = /*#__PURE__*/__webpack_require__.n(axios__WEBPACK_IMPORTED_MODULE_1__);\n/* harmony import */ var _instructure_ui_icons_es_svg__WEBPACK_IMPORTED_MODULE_2__ = __webpack_require__(/*! @instructure/ui-icons/es/svg */ \"Qirk\");\n/* harmony import */ var _rce_plugins_shared_fileTypeUtils_js__WEBPACK_IMPORTED_MODULE_3__ = __webpack_require__(/*! ../rce/plugins/shared/fileTypeUtils.js */ \"kyQv\");\n\n// Copyright (C) 2017 - present Instructure, Inc.\n//\n// This file is part of Canvas.\n//\n// Canvas is free software: you can redistribute it and/or modify it under\n// the terms of the GNU Affero General Public License as published by the Free\n// Software Foundation, version 3 of the License.\n//\n// Canvas is distributed in the hope that it will be useful, but WITHOUT ANY\n// WARRANTY; without even the implied warranty of MERCHANTABILITY or FITNESS FOR\n// A PARTICULAR PURPOSE. See the GNU Affero General Public License for more\n// details.\n//\n// You should have received a copy of the GNU Affero General Public License along\n// with this program. If not, see <http://www.gnu.org/licenses/>.\n\n\n\nconst stringIds = {\n  Accept: 'application/json+canvas-string-ids'\n};\nfunction getRootFolder(contextType, contextId) {\n  return axios__WEBPACK_IMPORTED_MODULE_1___default.a.get(`/api/v1/${contextType}/${contextId}/folders/root`, stringIds);\n}\n\nfunction createFormData(data) {\n  const formData = new FormData();\n  Object.keys(data).forEach(key => formData.append(key, data[key]));\n  return formData;\n}\n\nfunction onFileUploadInfoReceived(file, uploadInfo, onSuccess, onFailure) {\n  const formData = createFormData(Object(_babel_runtime_helpers_esm_objectSpread2__WEBPACK_IMPORTED_MODULE_0__[\"default\"])(Object(_babel_runtime_helpers_esm_objectSpread2__WEBPACK_IMPORTED_MODULE_0__[\"default\"])({}, uploadInfo.upload_params), {}, {\n    file\n  }));\n\n  const config = Object(_babel_runtime_helpers_esm_objectSpread2__WEBPACK_IMPORTED_MODULE_0__[\"default\"])({\n    'Content-Type': 'multipart/form-data'\n  }, stringIds);\n\n  axios__WEBPACK_IMPORTED_MODULE_1___default.a.post(uploadInfo.upload_url, formData, config).then(response => onSuccess(response.data)).catch(response => onFailure(response));\n}\n\nfunction uploadFile(file, folderId, onSuccess, onFailure) {\n  axios__WEBPACK_IMPORTED_MODULE_1___default.a.post(`/api/v1/folders/${folderId}/files`, {\n    name: file.name,\n    size: file.size,\n    parent_folder_id: folderId,\n    on_duplicate: 'rename'\n  }, stringIds).then(response => onFileUploadInfoReceived(file, response.data, onSuccess, onFailure)).catch(response => onFailure(response));\n} // I wanted to put this in packages/canvas-rce/src/rce/plugins/shared/fileTypeUtils.js\n// with getIconFromType on which it's based, but it gets imported when running mocha\n// tests, and that blows up on the import of the svg icons.\n// Moving the import and the function here gets around that problem.\n// When the INSTUI TreeBrowser supports per-item icons, we can remove this\n\nfunction getSVGIconFromType(type) {\n  if (Object(_rce_plugins_shared_fileTypeUtils_js__WEBPACK_IMPORTED_MODULE_3__[\"isVideo\"])(type)) {\n    return _instructure_ui_icons_es_svg__WEBPACK_IMPORTED_MODULE_2__[\"IconVideoLine\"].src;\n  } else if (Object(_rce_plugins_shared_fileTypeUtils_js__WEBPACK_IMPORTED_MODULE_3__[\"isAudio\"])(type)) {\n    return _instructure_ui_icons_es_svg__WEBPACK_IMPORTED_MODULE_2__[\"IconAudioLine\"].src;\n  }\n\n  switch (type) {\n    case 'application/msword':\n    case 'application/vnd.openxmlformats-officedocument.wordprocessingml.document':\n      return _instructure_ui_icons_es_svg__WEBPACK_IMPORTED_MODULE_2__[\"IconMsWordLine\"].src;\n\n    case 'application/vnd.ms-powerpoint':\n    case 'application/vnd.openxmlformats-officedocument.presentationml.presentation':\n      return _instructure_ui_icons_es_svg__WEBPACK_IMPORTED_MODULE_2__[\"IconMsPptLine\"].src;\n\n    case 'application/pdf':\n      return _instructure_ui_icons_es_svg__WEBPACK_IMPORTED_MODULE_2__[\"IconPdfLine\"].src;\n\n    case 'application/vnd.ms-excel':\n    case 'application/vnd.openxmlformats-officedocument.spreadsheetml.sheet':\n      return _instructure_ui_icons_es_svg__WEBPACK_IMPORTED_MODULE_2__[\"IconMsExcelLine\"].src;\n\n    default:\n      return _instructure_ui_icons_es_svg__WEBPACK_IMPORTED_MODULE_2__[\"IconDocumentLine\"].src;\n  }\n}\n\n//# sourceURL=webpack:///./packages/canvas-rce/es/canvasFileBrowser/apiFileUtils.js?");

/***/ }),

/***/ "wjE0":
/*!**********************************************************!*\
  !*** ./packages/canvas-rce/es/canvasFileBrowser/INST.js ***!
  \**********************************************************/
/*! exports provided: default */
/***/ (function(module, __webpack_exports__, __webpack_require__) {

"use strict";
eval("__webpack_require__.r(__webpack_exports__);\n/* harmony import */ var jquery__WEBPACK_IMPORTED_MODULE_0__ = __webpack_require__(/*! jquery */ \"ouhR\");\n/* harmony import */ var jquery__WEBPACK_IMPORTED_MODULE_0___default = /*#__PURE__*/__webpack_require__.n(jquery__WEBPACK_IMPORTED_MODULE_0__);\n/*\n * Copyright (C) 2011 - present Instructure, Inc.\n *\n * This file is part of Canvas.\n *\n * Canvas is free software: you can redistribute it and/or modify it under\n * the terms of the GNU Affero General Public License as published by the Free\n * Software Foundation, version 3 of the License.\n *\n * Canvas is distributed in the hope that it will be useful, but WITHOUT ANY\n * WARRANTY; without even the implied warranty of MERCHANTABILITY or FITNESS FOR\n * A PARTICULAR PURPOSE. See the GNU Affero General Public License for more\n * details.\n *\n * You should have received a copy of the GNU Affero General Public License along\n * with this program. If not, see <http://www.gnu.org/licenses/>.\n */\n // for backwards compat, this might be defined already but we expose\n// it as a module here\n\nif (!('INST' in window)) window.INST = {}; // ============================================================================================\n// = Try to figure out what browser they are using and set INST.broswer.theirbrowser to true  =\n// = and add a css class to the body for that browser                                       =\n// ============================================================================================\n\nINST.browser = {}; // Test for WebKit.\n\nif (window.devicePixelRatio) {\n  INST.browser.webkit = true; // from: http://www.byond.com/members/?command=view_post&post=53727\n\n  INST.browser[escape(navigator.javaEnabled.toString()) == 'function%20javaEnabled%28%29%20%7B%20%5Bnative%20code%5D%20%7D' ? 'chrome' : 'safari'] = true;\n} // this is just using jquery's browser sniffing result of if its firefox, it\n// should probably use feature detection\n\n\nINST.browser.ff = jquery__WEBPACK_IMPORTED_MODULE_0___default.a.browser.mozilla;\nINST.browser.touch = 'ontouchstart' in document;\nINST.browser['no-touch'] = !INST.browser.touch; // now we have some degree of knowing which of the common browsers it is,\n// on dom ready, give the body those classes\n// so for example, if you were on IE6 the body would have the classes \"ie\" AND \"ie6\"\n\nconst classesToAdd = jquery__WEBPACK_IMPORTED_MODULE_0___default.a.map(INST.browser, (v, k) => v === true ? k : void 0).join(' ');\njquery__WEBPACK_IMPORTED_MODULE_0___default()(() => {\n  jquery__WEBPACK_IMPORTED_MODULE_0___default()('body').addClass(classesToAdd);\n});\n/* harmony default export */ __webpack_exports__[\"default\"] = (INST);\n\n//# sourceURL=webpack:///./packages/canvas-rce/es/canvasFileBrowser/INST.js?");

/***/ })

}]);