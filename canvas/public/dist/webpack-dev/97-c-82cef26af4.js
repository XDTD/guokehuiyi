(window["canvasWebpackJsonp"] = window["canvasWebpackJsonp"] || []).push([[97],{

/***/ "WcR+":
/*!***********************************************************!*\
  !*** ./ui/shared/groups/backbone/models/GroupUser.coffee ***!
  \***********************************************************/
/*! exports provided: default */
/***/ (function(module, __webpack_exports__, __webpack_require__) {

"use strict";
eval("__webpack_require__.r(__webpack_exports__);\n/* harmony import */ var jquery__WEBPACK_IMPORTED_MODULE_0__ = __webpack_require__(/*! jquery */ \"ouhR\");\n/* harmony import */ var jquery__WEBPACK_IMPORTED_MODULE_0___default = /*#__PURE__*/__webpack_require__.n(jquery__WEBPACK_IMPORTED_MODULE_0__);\n/* harmony import */ var _canvas_users_backbone_models_User_coffee__WEBPACK_IMPORTED_MODULE_1__ = __webpack_require__(/*! @canvas/users/backbone/models/User.coffee */ \"torl\");\n/* harmony import */ var _canvas_jquery_jquery_ajaxJSON__WEBPACK_IMPORTED_MODULE_2__ = __webpack_require__(/*! @canvas/jquery/jquery.ajaxJSON */ \"dhbk\");\nvar GroupUser,\n  bind = function(fn, me){ return function(){ return fn.apply(me, arguments); }; },\n  extend = function(child, parent) { for (var key in parent) { if (hasProp.call(parent, key)) child[key] = parent[key]; } function ctor() { this.constructor = child; } ctor.prototype = parent.prototype; child.prototype = new ctor(); child.__super__ = parent.prototype; return child; },\n  hasProp = {}.hasOwnProperty;\n\n\n\n\n\n\n\n/* harmony default export */ __webpack_exports__[\"default\"] = (GroupUser = (function(superClass) {\n  extend(GroupUser, superClass);\n\n  function GroupUser() {\n    this.moved = bind(this.moved, this);\n    this.sync = bind(this.sync, this);\n    return GroupUser.__super__.constructor.apply(this, arguments);\n  }\n\n  GroupUser.prototype.sync = function(method, model, options) {\n    var group, previousGroup;\n    group = this.get('group');\n    previousGroup = this.previous('group');\n    if (group === previousGroup) {\n      return;\n    }\n    if (group != null) {\n      this.joinGroup(group);\n    }\n    if (previousGroup && ((group == null) || this.get('category').get('allows_multiple_memberships'))) {\n      return this.leaveGroup(previousGroup);\n    }\n  };\n\n  GroupUser.prototype.joinGroup = function(group) {\n    return jquery__WEBPACK_IMPORTED_MODULE_0___default.a.ajaxJSON(\"/api/v1/groups/\" + group.id + \"/memberships\", 'POST', {\n      user_id: this.get('id')\n    }, (function(_this) {\n      return function(data) {\n        return _this.trigger('ajaxJoinGroupSuccess', data);\n      };\n    })(this));\n  };\n\n  GroupUser.prototype.leaveGroup = function(group) {\n    return jquery__WEBPACK_IMPORTED_MODULE_0___default.a.ajaxJSON(\"/api/v1/groups/\" + group.id + \"/users/\" + (this.get('id')), 'DELETE');\n  };\n\n  GroupUser.prototype.moved = function() {\n    return this.trigger('moved', this);\n  };\n\n  return GroupUser;\n\n})(_canvas_users_backbone_models_User_coffee__WEBPACK_IMPORTED_MODULE_1__[\"default\"]));\n\n\n//# sourceURL=webpack:///./ui/shared/groups/backbone/models/GroupUser.coffee?");

/***/ }),

/***/ "ZNpY":
/*!************************************************************************************!*\
  !*** ./frontend_build/i18n.js?GroupUserCollection!./ui/shims/dummyI18nResource.js ***!
  \************************************************************************************/
/*! exports provided: default */
/***/ (function(module, __webpack_exports__, __webpack_require__) {

"use strict";
eval("__webpack_require__.r(__webpack_exports__);\n/* harmony import */ var _canvas_i18n_i18nObj__WEBPACK_IMPORTED_MODULE_0__ = __webpack_require__(/*! @canvas/i18n/i18nObj */ \"HGxv\");\n/* harmony import */ var translations_core_en__WEBPACK_IMPORTED_MODULE_1__ = __webpack_require__(/*! translations/_core_en */ \"0sPK\");\n\n    \n    \n    \n\n    /* harmony default export */ __webpack_exports__[\"default\"] = (_canvas_i18n_i18nObj__WEBPACK_IMPORTED_MODULE_0__[\"default\"].scoped('GroupUserCollection'));\n  \n\n//# sourceURL=webpack:///./ui/shims/dummyI18nResource.js?./frontend_build/i18n.js?GroupUserCollection");

/***/ }),

/***/ "aftf":
/*!*******************************************************!*\
  !*** ./ui/shared/groups/backbone/models/Group.coffee ***!
  \*******************************************************/
/*! exports provided: default */
/***/ (function(module, __webpack_exports__, __webpack_require__) {

"use strict";
eval("__webpack_require__.r(__webpack_exports__);\n/* harmony import */ var _canvas_backbone__WEBPACK_IMPORTED_MODULE_0__ = __webpack_require__(/*! @canvas/backbone */ \"mX+G\");\n/* harmony import */ var _canvas_backbone__WEBPACK_IMPORTED_MODULE_0___default = /*#__PURE__*/__webpack_require__.n(_canvas_backbone__WEBPACK_IMPORTED_MODULE_0__);\n/* harmony import */ var _collections_GroupUserCollection_coffee__WEBPACK_IMPORTED_MODULE_1__ = __webpack_require__(/*! ../collections/GroupUserCollection.coffee */ \"n7p2\");\nvar Group,\n  extend = function(child, parent) { for (var key in parent) { if (hasProp.call(parent, key)) child[key] = parent[key]; } function ctor() { this.constructor = child; } ctor.prototype = parent.prototype; child.prototype = new ctor(); child.__super__ = parent.prototype; return child; },\n  hasProp = {}.hasOwnProperty;\n\n\n\n\n\n/* harmony default export */ __webpack_exports__[\"default\"] = (Group = (function(superClass) {\n  extend(Group, superClass);\n\n  function Group() {\n    return Group.__super__.constructor.apply(this, arguments);\n  }\n\n  Group.prototype.modelType = 'group';\n\n  Group.prototype.resourceName = 'groups';\n\n  Group.prototype.initialize = function(attrs, options) {\n    Group.__super__.initialize.apply(this, arguments);\n    return this.newAndEmpty = options != null ? options.newAndEmpty : void 0;\n  };\n\n  Group.prototype.users = function() {\n    var initialUsers, ref, ref1, ref2;\n    initialUsers = this.newAndEmpty ? [] : null;\n    this._users = new _collections_GroupUserCollection_coffee__WEBPACK_IMPORTED_MODULE_1__[\"default\"](initialUsers, {\n      group: this,\n      category: (ref = this.collection) != null ? ref.category : void 0,\n      markInactiveStudents: (ref1 = this.collection) != null ? (ref2 = ref1.options) != null ? ref2.markInactiveStudents : void 0 : void 0\n    });\n    this._users.on('fetched:last', (function(_this) {\n      return function() {\n        return _this.set('members_count', _this._users.length);\n      };\n    })(this));\n    this.users = function() {\n      return this._users;\n    };\n    return this._users;\n  };\n\n  Group.prototype.usersCount = function() {\n    return this.get('members_count');\n  };\n\n  Group.prototype.sync = function(method, model, options) {\n    if (options == null) {\n      options = {};\n    }\n    options.url = this.urlFor(method);\n    return _canvas_backbone__WEBPACK_IMPORTED_MODULE_0___default.a.sync(method, model, options);\n  };\n\n  Group.prototype.urlFor = function(method) {\n    if (method === 'create') {\n      return \"/api/v1/group_categories/\" + (this.get('group_category_id')) + \"/groups\";\n    } else {\n      return \"/api/v1/groups/\" + this.id;\n    }\n  };\n\n  Group.prototype.theLimit = function() {\n    var max_membership, ref, ref1;\n    max_membership = this.get('max_membership');\n    return max_membership || ((ref = this.collection) != null ? (ref1 = ref.category) != null ? ref1.get('group_limit') : void 0 : void 0);\n  };\n\n  Group.prototype.isFull = function() {\n    var limit;\n    limit = this.get('max_membership');\n    return (!limit && this.groupCategoryLimitMet()) || (limit && this.get('members_count') >= limit);\n  };\n\n  Group.prototype.groupCategoryLimitMet = function() {\n    var limit, ref, ref1;\n    limit = (ref = this.collection) != null ? (ref1 = ref.category) != null ? ref1.get('group_limit') : void 0 : void 0;\n    return limit && this.get('members_count') >= limit;\n  };\n\n  Group.prototype.isLocked = function() {\n    var ref, ref1;\n    return (ref = this.collection) != null ? (ref1 = ref.category) != null ? ref1.isLocked() : void 0 : void 0;\n  };\n\n  Group.prototype.toJSON = function() {\n    var json;\n    if (ENV.student_mode) {\n      return {\n        name: this.get('name')\n      };\n    } else {\n      json = Group.__super__.toJSON.apply(this, arguments);\n      json.isFull = this.isFull();\n      return json;\n    }\n  };\n\n  return Group;\n\n})(_canvas_backbone__WEBPACK_IMPORTED_MODULE_0___default.a.Model));\n\n\n//# sourceURL=webpack:///./ui/shared/groups/backbone/models/Group.coffee?");

/***/ }),

/***/ "n7p2":
/*!**************************************************************************!*\
  !*** ./ui/shared/groups/backbone/collections/GroupUserCollection.coffee ***!
  \**************************************************************************/
/*! exports provided: default */
/***/ (function(module, __webpack_exports__, __webpack_require__) {

"use strict";
eval("__webpack_require__.r(__webpack_exports__);\n/* harmony import */ var i18n_GroupUserCollection__WEBPACK_IMPORTED_MODULE_0__ = __webpack_require__(/*! i18n!GroupUserCollection */ \"ZNpY\");\n/* harmony import */ var jquery__WEBPACK_IMPORTED_MODULE_1__ = __webpack_require__(/*! jquery */ \"ouhR\");\n/* harmony import */ var jquery__WEBPACK_IMPORTED_MODULE_1___default = /*#__PURE__*/__webpack_require__.n(jquery__WEBPACK_IMPORTED_MODULE_1__);\n/* harmony import */ var _canvas_pagination_backbone_collections_PaginatedCollection_coffee__WEBPACK_IMPORTED_MODULE_2__ = __webpack_require__(/*! @canvas/pagination/backbone/collections/PaginatedCollection.coffee */ \"TnsN\");\n/* harmony import */ var _models_GroupUser_coffee__WEBPACK_IMPORTED_MODULE_3__ = __webpack_require__(/*! ../models/GroupUser.coffee */ \"WcR+\");\n/* harmony import */ var html_escape__WEBPACK_IMPORTED_MODULE_4__ = __webpack_require__(/*! html-escape */ \"gI0r\");\nvar GroupUserCollection,\n  bind = function(fn, me){ return function(){ return fn.apply(me, arguments); }; },\n  extend = function(child, parent) { for (var key in parent) { if (hasProp.call(parent, key)) child[key] = parent[key]; } function ctor() { this.constructor = child; } ctor.prototype = parent.prototype; child.prototype = new ctor(); child.__super__ = parent.prototype; return child; },\n  hasProp = {}.hasOwnProperty;\n\n\n\n\n\n\n\n\n\n\n\n/* harmony default export */ __webpack_exports__[\"default\"] = (GroupUserCollection = (function(superClass) {\n  extend(GroupUserCollection, superClass);\n\n  function GroupUserCollection() {\n    this.onChangeGroup = bind(this.onChangeGroup, this);\n    return GroupUserCollection.__super__.constructor.apply(this, arguments);\n  }\n\n  GroupUserCollection.prototype.comparator = function(user) {\n    return user.get('sortable_name').toLowerCase();\n  };\n\n  GroupUserCollection.optionProperty('group');\n\n  GroupUserCollection.optionProperty('category');\n\n  GroupUserCollection.optionProperty('markInactiveStudents');\n\n  GroupUserCollection.prototype.url = function() {\n    var params, url_base;\n    url_base = \"/api/v1/groups/\" + this.group.id + \"/users?\";\n    params = {\n      per_page: 50,\n      include: ['sections', 'group_submissions'],\n      exclude: ['pseudonym']\n    };\n    if (this.markInactiveStudents) {\n      params.include.push('active_status');\n    }\n    return url_base + jquery__WEBPACK_IMPORTED_MODULE_1___default.a.param(params);\n  };\n\n  GroupUserCollection.prototype.initialize = function(models) {\n    GroupUserCollection.__super__.initialize.apply(this, arguments);\n    this.loaded = this.loadedAll = models != null;\n    this.on('change:group', this.onChangeGroup);\n    return this.model = _models_GroupUser_coffee__WEBPACK_IMPORTED_MODULE_3__[\"default\"].extend({\n      defaults: {\n        group: this.group,\n        category: this.category\n      }\n    });\n  };\n\n  GroupUserCollection.prototype.load = function(target) {\n    if (target == null) {\n      target = 'all';\n    }\n    this.loadAll = target === 'all';\n    this.loaded = true;\n    if (target !== 'none') {\n      this.fetch();\n    }\n    return this.load = function() {};\n  };\n\n  GroupUserCollection.prototype.onChangeGroup = function(model, group) {\n    var ref;\n    this.removeUser(model);\n    return (ref = this.groupUsersFor(group)) != null ? ref.addUser(model) : void 0;\n  };\n\n  GroupUserCollection.prototype.membershipsLocked = function() {\n    return false;\n  };\n\n  GroupUserCollection.prototype.getUser = function(asset_string) {\n    return this.get(asset_string.replace(\"user_\", \"\"));\n  };\n\n  GroupUserCollection.prototype.addUser = function(user) {\n    var ref;\n    if (this.membershipsLocked()) {\n      if ((ref = this.get(user)) != null) {\n        ref.moved();\n      }\n      return;\n    }\n    if (this.loaded) {\n      if (this.get(user)) {\n        this.flashAlreadyInGroupError(user);\n      } else {\n        this.add(user);\n        this.increment(1);\n      }\n      return user.moved();\n    } else {\n      user.once('ajaxJoinGroupSuccess', (function(_this) {\n        return function(data) {\n          if (data.just_created) {\n            return;\n          }\n          _this.increment(-1);\n          return _this.flashAlreadyInGroupError(user);\n        };\n      })(this));\n      return this.increment(1);\n    }\n  };\n\n  GroupUserCollection.prototype.flashAlreadyInGroupError = function(user) {\n    return jquery__WEBPACK_IMPORTED_MODULE_1___default.a.flashError(i18n_GroupUserCollection__WEBPACK_IMPORTED_MODULE_0__[\"default\"].t('flash.userAlreadyInGroup', \"WARNING: %{user} is already a member of %{group}\", {\n      user: Object(html_escape__WEBPACK_IMPORTED_MODULE_4__[\"default\"])(user.get('name')),\n      group: Object(html_escape__WEBPACK_IMPORTED_MODULE_4__[\"default\"])(this.group.get('name'))\n    }));\n  };\n\n  GroupUserCollection.prototype.removeUser = function(user) {\n    var ref, ref1;\n    if (this.membershipsLocked()) {\n      return;\n    }\n    this.increment(-1);\n    if (((ref = this.group) != null ? (ref1 = ref.get('leader')) != null ? ref1.id : void 0 : void 0) === user.id) {\n      this.group.set('leader', null);\n    }\n    if (this.loaded) {\n      return this.remove(user);\n    }\n  };\n\n  GroupUserCollection.prototype.increment = function(amount) {\n    return this.group.increment('members_count', amount);\n  };\n\n  GroupUserCollection.prototype.groupUsersFor = function(group) {\n    var ref;\n    return (ref = this.category) != null ? ref.groupUsersFor(group) : void 0;\n  };\n\n  return GroupUserCollection;\n\n})(_canvas_pagination_backbone_collections_PaginatedCollection_coffee__WEBPACK_IMPORTED_MODULE_2__[\"default\"]));\n\n\n//# sourceURL=webpack:///./ui/shared/groups/backbone/collections/GroupUserCollection.coffee?");

/***/ }),

/***/ "torl":
/*!*****************************************************!*\
  !*** ./ui/shared/users/backbone/models/User.coffee ***!
  \*****************************************************/
/*! exports provided: default */
/***/ (function(module, __webpack_exports__, __webpack_require__) {

"use strict";
eval("__webpack_require__.r(__webpack_exports__);\n/* harmony import */ var i18n_user__WEBPACK_IMPORTED_MODULE_0__ = __webpack_require__(/*! i18n!user */ \"xXVA\");\n/* harmony import */ var underscore__WEBPACK_IMPORTED_MODULE_1__ = __webpack_require__(/*! underscore */ \"Y/W1\");\n/* harmony import */ var underscore__WEBPACK_IMPORTED_MODULE_1___default = /*#__PURE__*/__webpack_require__.n(underscore__WEBPACK_IMPORTED_MODULE_1__);\n/* harmony import */ var _canvas_backbone__WEBPACK_IMPORTED_MODULE_2__ = __webpack_require__(/*! @canvas/backbone */ \"mX+G\");\n/* harmony import */ var _canvas_backbone__WEBPACK_IMPORTED_MODULE_2___default = /*#__PURE__*/__webpack_require__.n(_canvas_backbone__WEBPACK_IMPORTED_MODULE_2__);\nvar User,\n  extend = function(child, parent) { for (var key in parent) { if (hasProp.call(parent, key)) child[key] = parent[key]; } function ctor() { this.constructor = child; } ctor.prototype = parent.prototype; child.prototype = new ctor(); child.__super__ = parent.prototype; return child; },\n  hasProp = {}.hasOwnProperty;\n\n\n\n\n\n\n\n/* harmony default export */ __webpack_exports__[\"default\"] = (User = (function(superClass) {\n  extend(User, superClass);\n\n  function User() {\n    return User.__super__.constructor.apply(this, arguments);\n  }\n\n  User.prototype.modelType = 'user';\n\n  User.prototype.resourceName = 'users';\n\n  User.prototype.errorMap = {\n    name: {\n      blank: i18n_user__WEBPACK_IMPORTED_MODULE_0__[\"default\"].t(\"errors.required\", \"Required\"),\n      too_long: i18n_user__WEBPACK_IMPORTED_MODULE_0__[\"default\"].t(\"errors.too_long\", \"Can't exceed %{max} characters\", {\n        max: 255\n      })\n    },\n    self_enrollment_code: {\n      blank: i18n_user__WEBPACK_IMPORTED_MODULE_0__[\"default\"].t(\"errors.required\", \"Required\"),\n      invalid: i18n_user__WEBPACK_IMPORTED_MODULE_0__[\"default\"].t(\"errors.invalid_code\", \"Invalid code\"),\n      already_enrolled: i18n_user__WEBPACK_IMPORTED_MODULE_0__[\"default\"].t(\"errors.already_enrolled\", \"You are already enrolled in this course\"),\n      concluded: i18n_user__WEBPACK_IMPORTED_MODULE_0__[\"default\"].t(\"This course has concluded\"),\n      full: i18n_user__WEBPACK_IMPORTED_MODULE_0__[\"default\"].t(\"errors.course_full\", \"This course is full\")\n    },\n    terms_of_use: {\n      accepted: i18n_user__WEBPACK_IMPORTED_MODULE_0__[\"default\"].t(\"errors.terms\", \"You must agree to the terms\")\n    }\n  };\n\n  User.prototype.enrollments = function(attrs, first) {\n    return underscore__WEBPACK_IMPORTED_MODULE_1___default.a.where(this.get('enrollments'), attrs, first);\n  };\n\n  User.prototype.hasEnrollmentType = function(type) {\n    return !!this.enrollments({\n      type: type\n    }, true);\n  };\n\n  User.prototype.hasEnrollmentRole = function(role) {\n    return !!this.enrollments({\n      role: role\n    }, true);\n  };\n\n  User.prototype.findEnrollmentByRole = function(role) {\n    return this.enrollments({\n      role: role\n    }, true);\n  };\n\n  User.prototype.allEnrollmentsByType = function(type) {\n    return this.enrollments({\n      type: type\n    });\n  };\n\n  User.prototype.allEnrollmentsByRole = function(role) {\n    return this.enrollments({\n      role: role\n    });\n  };\n\n  User.prototype.pending = function(role) {\n    return underscore__WEBPACK_IMPORTED_MODULE_1___default.a.some(this.get('enrollments'), function(e) {\n      var ref;\n      return e.role === role && ((ref = e.enrollment_state) === 'creation_pending' || ref === 'invited');\n    });\n  };\n\n  User.prototype.inactive = function() {\n    return underscore__WEBPACK_IMPORTED_MODULE_1___default.a.every(this.get('enrollments'), function(e) {\n      return e.enrollment_state === 'inactive';\n    });\n  };\n\n  User.prototype.sectionEditableEnrollments = function() {\n    return underscore__WEBPACK_IMPORTED_MODULE_1___default.a.select(this.get('enrollments'), function(e) {\n      return e.type !== 'ObserverEnrollment';\n    });\n  };\n\n  return User;\n\n})(_canvas_backbone__WEBPACK_IMPORTED_MODULE_2___default.a.Model));\n\n\n//# sourceURL=webpack:///./ui/shared/users/backbone/models/User.coffee?");

/***/ }),

/***/ "xXVA":
/*!*********************************************************************!*\
  !*** ./frontend_build/i18n.js?user!./ui/shims/dummyI18nResource.js ***!
  \*********************************************************************/
/*! exports provided: default */
/***/ (function(module, __webpack_exports__, __webpack_require__) {

"use strict";
eval("__webpack_require__.r(__webpack_exports__);\n/* harmony import */ var _canvas_i18n_i18nObj__WEBPACK_IMPORTED_MODULE_0__ = __webpack_require__(/*! @canvas/i18n/i18nObj */ \"HGxv\");\n/* harmony import */ var translations_core_en__WEBPACK_IMPORTED_MODULE_1__ = __webpack_require__(/*! translations/_core_en */ \"0sPK\");\n\n    \n    \n    \n\n    /* harmony default export */ __webpack_exports__[\"default\"] = (_canvas_i18n_i18nObj__WEBPACK_IMPORTED_MODULE_0__[\"default\"].scoped('user'));\n  \n\n//# sourceURL=webpack:///./ui/shims/dummyI18nResource.js?./frontend_build/i18n.js?user");

/***/ })

}]);