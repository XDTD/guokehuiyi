(window["canvasWebpackJsonp"] = window["canvasWebpackJsonp"] || []).push([[103],{

/***/ "ESCk":
/*!********************************************!*\
  !*** ./ui/shared/outcomes/find_outcome.js ***!
  \********************************************/
/*! exports provided: default */
/***/ (function(module, __webpack_exports__, __webpack_require__) {

"use strict";
eval("__webpack_require__.r(__webpack_exports__);\n/* harmony import */ var i18n_find_outcome__WEBPACK_IMPORTED_MODULE_0__ = __webpack_require__(/*! i18n!find_outcome */ \"Ta9G\");\n/* harmony import */ var jquery__WEBPACK_IMPORTED_MODULE_1__ = __webpack_require__(/*! jquery */ \"ouhR\");\n/* harmony import */ var jquery__WEBPACK_IMPORTED_MODULE_1___default = /*#__PURE__*/__webpack_require__.n(jquery__WEBPACK_IMPORTED_MODULE_1__);\n/* harmony import */ var _canvas_util_TextHelper_coffee__WEBPACK_IMPORTED_MODULE_2__ = __webpack_require__(/*! @canvas/util/TextHelper.coffee */ \"JOjB\");\n/* harmony import */ var _canvas_jquery_jquery_ajaxJSON__WEBPACK_IMPORTED_MODULE_3__ = __webpack_require__(/*! @canvas/jquery/jquery.ajaxJSON */ \"dhbk\");\n/* harmony import */ var jqueryui_dialog__WEBPACK_IMPORTED_MODULE_4__ = __webpack_require__(/*! jqueryui/dialog */ \"ESjL\");\n/* harmony import */ var _canvas_util_templateData__WEBPACK_IMPORTED_MODULE_5__ = __webpack_require__(/*! @canvas/util/templateData */ \"TvTI\");\n/*\n * Copyright (C) 2011 - present Instructure, Inc.\n *\n * This file is part of Canvas.\n *\n * Canvas is free software: you can redistribute it and/or modify it under\n * the terms of the GNU Affero General Public License as published by the Free\n * Software Foundation, version 3 of the License.\n *\n * Canvas is distributed in the hope that it will be useful, but WITHOUT ANY\n * WARRANTY; without even the implied warranty of MERCHANTABILITY or FITNESS FOR\n * A PARTICULAR PURPOSE. See the GNU Affero General Public License for more\n * details.\n *\n * You should have received a copy of the GNU Affero General Public License along\n * with this program. If not, see <http://www.gnu.org/licenses/>.\n */\n\n\n\n\n\n\n/* fillTemplateData, getTemplateData */\n\nvar find_outcome = function () {\n  return {\n    find(callback, options) {\n      options = options || {};\n      find_outcome.callback = callback;\n      const $dialog = jquery__WEBPACK_IMPORTED_MODULE_1___default()('#find_outcome_criterion_dialog');\n\n      if (!$dialog.hasClass('loaded')) {\n        $dialog.find('.loading_message').text(i18n_find_outcome__WEBPACK_IMPORTED_MODULE_0__[\"default\"].t('messages.loading_outcomes', 'Loading Outcomes...'));\n        jquery__WEBPACK_IMPORTED_MODULE_1___default.a.ajaxJSON($dialog.find('.outcomes_list_url').attr('href'), 'GET', {}, data => {\n          const valids = [];\n\n          for (var idx in data) {\n            var outcome = data[idx].learning_outcome;\n\n            if (!options.for_rubric || outcome.data && outcome.data.rubric_criterion) {\n              valids.push(outcome);\n            }\n          }\n\n          if (valids.length === 0) {\n            let message;\n\n            if (options.for_rubric) {\n              message = i18n_find_outcome__WEBPACK_IMPORTED_MODULE_0__[\"default\"].t('messages.no_rubric_outcomes_found', 'No Rubric-Configured Outcomes found');\n            } else {\n              message = i18n_find_outcome__WEBPACK_IMPORTED_MODULE_0__[\"default\"].t('messages.no_outcomes_found', 'No Outcomes found');\n            }\n\n            $dialog.find('.loading_message').text(message);\n          } else {\n            $dialog.find('.loading_message').hide();\n            $dialog.addClass('loaded');\n\n            for (var idx in valids) {\n              var outcome = valids[idx];\n              outcome.name = outcome.short_description;\n              outcome.mastery_points = outcome.data.rubric_criterion.mastery_points || outcome.data.rubric_criterion.points_possible;\n              const $name = $dialog.find('.outcomes_select.blank:first').clone(true).removeClass('blank');\n              outcome.title = outcome.short_description;\n              const $text = jquery__WEBPACK_IMPORTED_MODULE_1___default()('<div/>');\n              $text.text(outcome.short_description);\n              outcome.title = _canvas_util_TextHelper_coffee__WEBPACK_IMPORTED_MODULE_2__[\"default\"].truncateText(jquery__WEBPACK_IMPORTED_MODULE_1___default.a.trim($text.text()), {\n                max: 35\n              });\n              outcome.display_name = outcome.cached_context_short_name || '';\n              $name.fillTemplateData({\n                data: outcome\n              });\n              $dialog.find('.outcomes_selects').append($name.show());\n              const $outcome = $dialog.find('.outcome.blank:first').clone(true).removeClass('blank');\n              $outcome.find('.mastery_level').attr('id', 'outcome_question_bank_mastery_' + outcome.id).end().find('.mastery_level_text').attr('for', 'outcome_question_bank_mastery_' + outcome.id);\n              outcome.learning_outcome_id = outcome.id;\n              const criterion = outcome.data && outcome.data.rubric_criterion;\n              let pct = criterion.points_possible && criterion.mastery_points != null && criterion.mastery_points / criterion.points_possible || 0;\n              pct = Math.round(pct * 10000) / 100.0 || '';\n              $outcome.find('.mastery_level').val(pct);\n              $outcome.fillTemplateData({\n                data: outcome,\n                htmlValues: ['description']\n              });\n              $outcome.addClass('outcome_' + outcome.id);\n\n              if (outcome.data && outcome.data.rubric_criterion) {\n                for (const jdx in outcome.data.rubric_criterion.ratings) {\n                  const rating = outcome.data.rubric_criterion.ratings[jdx];\n                  const $rating = $outcome.find('.rating.blank').clone(true).removeClass('blank');\n                  $rating.fillTemplateData({\n                    data: rating\n                  });\n                  $outcome.find('tr').append($rating.show());\n                }\n              }\n\n              $dialog.find('.outcomes_list').append($outcome);\n            }\n\n            $dialog.find('.outcomes_select:not(.blank):first').click();\n          }\n        }, data => {\n          $dialog.find('.loading_message').text(i18n_find_outcome__WEBPACK_IMPORTED_MODULE_0__[\"default\"].t('errors.outcome_retrieval_failed', 'Outcomes Retrieval failed unexpected.  Please try again.'));\n        });\n      }\n\n      $dialog.dialog({\n        modal: true,\n        title: i18n_find_outcome__WEBPACK_IMPORTED_MODULE_0__[\"default\"].t('titles.find_outcome', 'Find Outcome'),\n        width: 700,\n        height: 400\n      });\n    }\n\n  };\n}();\n\nwindow.find_outcome = find_outcome;\njquery__WEBPACK_IMPORTED_MODULE_1___default()(document).ready(function () {\n  jquery__WEBPACK_IMPORTED_MODULE_1___default()('#find_outcome_criterion_dialog .outcomes_select').click(function (event) {\n    event.preventDefault();\n    jquery__WEBPACK_IMPORTED_MODULE_1___default()('#find_outcome_criterion_dialog .outcomes_select.selected_side_tab').removeClass('selected_side_tab');\n    jquery__WEBPACK_IMPORTED_MODULE_1___default()(this).addClass('selected_side_tab');\n    const id = jquery__WEBPACK_IMPORTED_MODULE_1___default()(this).getTemplateData({\n      textValues: ['id']\n    }).id;\n    jquery__WEBPACK_IMPORTED_MODULE_1___default()('#find_outcome_criterion_dialog .outcomes_list .outcome').hide();\n    jquery__WEBPACK_IMPORTED_MODULE_1___default()('#find_outcome_criterion_dialog .outcomes_list .outcome_' + id).show();\n  });\n  jquery__WEBPACK_IMPORTED_MODULE_1___default()('#find_outcome_criterion_dialog .select_outcome_link').click(function (event) {\n    event.preventDefault();\n    const $outcome = jquery__WEBPACK_IMPORTED_MODULE_1___default()(this).parents('.outcome');\n    jquery__WEBPACK_IMPORTED_MODULE_1___default()('#find_outcome_criterion_dialog').dialog('close');\n\n    if (jquery__WEBPACK_IMPORTED_MODULE_1___default.a.isFunction(find_outcome.callback)) {\n      find_outcome.callback($outcome);\n    }\n  });\n});\n/* harmony default export */ __webpack_exports__[\"default\"] = (find_outcome);\n\n//# sourceURL=webpack:///./ui/shared/outcomes/find_outcome.js?");

/***/ }),

/***/ "Ta9G":
/*!*****************************************************************************!*\
  !*** ./frontend_build/i18n.js?find_outcome!./ui/shims/dummyI18nResource.js ***!
  \*****************************************************************************/
/*! exports provided: default */
/***/ (function(module, __webpack_exports__, __webpack_require__) {

"use strict";
eval("__webpack_require__.r(__webpack_exports__);\n/* harmony import */ var _canvas_i18n_i18nObj__WEBPACK_IMPORTED_MODULE_0__ = __webpack_require__(/*! @canvas/i18n/i18nObj */ \"HGxv\");\n/* harmony import */ var translations_core_en__WEBPACK_IMPORTED_MODULE_1__ = __webpack_require__(/*! translations/_core_en */ \"0sPK\");\n\n    \n    \n    \n\n    /* harmony default export */ __webpack_exports__[\"default\"] = (_canvas_i18n_i18nObj__WEBPACK_IMPORTED_MODULE_0__[\"default\"].scoped('find_outcome'));\n  \n\n//# sourceURL=webpack:///./ui/shims/dummyI18nResource.js?./frontend_build/i18n.js?find_outcome");

/***/ }),

/***/ "TvTI":
/*!****************************************!*\
  !*** ./ui/shared/util/templateData.js ***!
  \****************************************/
/*! no exports provided */
/***/ (function(module, __webpack_exports__, __webpack_require__) {

"use strict";
eval("__webpack_require__.r(__webpack_exports__);\n/* harmony import */ var jquery__WEBPACK_IMPORTED_MODULE_0__ = __webpack_require__(/*! jquery */ \"ouhR\");\n/* harmony import */ var jquery__WEBPACK_IMPORTED_MODULE_0___default = /*#__PURE__*/__webpack_require__.n(jquery__WEBPACK_IMPORTED_MODULE_0__);\n/* harmony import */ var html_escape__WEBPACK_IMPORTED_MODULE_1__ = __webpack_require__(/*! html-escape */ \"gI0r\");\n/* harmony import */ var _canvas_jquery_jquery_instructure_misc_helpers__WEBPACK_IMPORTED_MODULE_2__ = __webpack_require__(/*! @canvas/jquery/jquery.instructure_misc_helpers */ \"8JEM\");\n/*\n * Copyright (C) 2011 - present Instructure, Inc.\n *\n * This file is part of Canvas.\n *\n * Canvas is free software: you can redistribute it and/or modify it under\n * the terms of the GNU Affero General Public License as published by the Free\n * Software Foundation, version 3 of the License.\n *\n * Canvas is distributed in the hope that it will be useful, but WITHOUT ANY\n * WARRANTY; without even the implied warranty of MERCHANTABILITY or FITNESS FOR\n * A PARTICULAR PURPOSE. See the GNU Affero General Public License for more\n * details.\n *\n * You should have received a copy of the GNU Affero General Public License along\n * with this program. If not, see <http://www.gnu.org/licenses/>.\n */\n\n\n\n/* replaceTags */\n// Fills the selected object(s) with data values as specified.  Plaintext values should be specified in the\n//  data: data used to fill template.\n//  id: set the id attribute of the template object\n//  textValues: a list of strings, which values should be plaintext\n//  htmlValues: a list of strings, which values should be html\n//  hrefValues: List of string.  Searches for all anchor tags in the template\n//    and globally replaces \"{{ value }}\" with data[value].  Useful for adding\n//    new elements asynchronously, when you don't know what their URL will be\n//    until they're created.\n\njquery__WEBPACK_IMPORTED_MODULE_0___default.a.fn.fillTemplateData = function (options) {\n  if (this.length && options) {\n    if (options.iterator) {\n      //  todo: replace .andSelf with .addBack when JQuery is upgraded.\n      this.find('*').andSelf().each(function () {\n        const $el = jquery__WEBPACK_IMPORTED_MODULE_0___default()(this);\n        jquery__WEBPACK_IMPORTED_MODULE_0___default.a.each(['name', 'id', 'class'], (i, attr) => {\n          if ($el.attr(attr)) {\n            $el.attr(attr, $el.attr(attr).replace(/-iterator-/, options.iterator));\n          }\n        });\n      });\n    }\n\n    if (options.id) {\n      this.attr('id', options.id);\n    }\n\n    let contentChange = false;\n\n    if (options.data) {\n      for (var item in options.data) {\n        if (options.except && jquery__WEBPACK_IMPORTED_MODULE_0___default.a.inArray(item, options.except) != -1) {\n          continue;\n        }\n\n        if (options.data[item] && options.dataValues && jquery__WEBPACK_IMPORTED_MODULE_0___default.a.inArray(item, options.dataValues) != -1) {\n          this.data(item, options.data[item].toString());\n        }\n\n        const $found_all = this.find('.' + item);\n        var avoid = options.avoid || '';\n        $found_all.each(function () {\n          const $found = jquery__WEBPACK_IMPORTED_MODULE_0___default()(this);\n\n          if ($found.length > 0 && $found.closest(avoid).length === 0) {\n            if (typeof options.data[item] === 'undefined' || options.data[item] === null) {\n              options.data[item] = '';\n            }\n\n            if (options.htmlValues && jquery__WEBPACK_IMPORTED_MODULE_0___default.a.inArray(item, options.htmlValues) != -1) {\n              $found.html(jquery__WEBPACK_IMPORTED_MODULE_0___default.a.raw(options.data[item].toString()));\n\n              if ($found.hasClass('user_content')) {\n                contentChange = true;\n                $found.removeClass('enhanced');\n                $found.data('unenhanced_content_html', options.data[item].toString());\n              }\n            } else if ($found[0].tagName.toUpperCase() == 'INPUT') {\n              $found.val(options.data[item]);\n            } else {\n              try {\n                const str = options.data[item].toString();\n                $found.html(Object(html_escape__WEBPACK_IMPORTED_MODULE_1__[\"default\"])(str));\n              } catch (e) {}\n            }\n          }\n        });\n      }\n    }\n\n    if (options.hrefValues && options.data) {\n      this.find('a,span[rel]').each(function () {\n        let $obj = jquery__WEBPACK_IMPORTED_MODULE_0___default()(this),\n            oldHref,\n            oldRel,\n            oldName;\n\n        for (const i in options.hrefValues) {\n          if (!options.hrefValues.hasOwnProperty(i)) {\n            continue;\n          }\n\n          const name = options.hrefValues[i];\n\n          if (oldHref = $obj.attr('href')) {\n            const newHref = jquery__WEBPACK_IMPORTED_MODULE_0___default.a.replaceTags(oldHref, name, encodeURIComponent(options.data[name]));\n            const orig = $obj.text() === $obj.html() ? $obj.text() : null;\n\n            if (oldHref !== newHref) {\n              $obj.attr('href', newHref);\n\n              if (orig) {\n                $obj.text(orig);\n              }\n            }\n          }\n\n          if (oldRel = $obj.attr('rel')) {\n            $obj.attr('rel', jquery__WEBPACK_IMPORTED_MODULE_0___default.a.replaceTags(oldRel, name, options.data[name]));\n          }\n\n          if (oldName = $obj.attr('name')) {\n            $obj.attr('name', jquery__WEBPACK_IMPORTED_MODULE_0___default.a.replaceTags(oldName, name, options.data[name]));\n          }\n        }\n      });\n    }\n\n    if (contentChange) {\n      jquery__WEBPACK_IMPORTED_MODULE_0___default()(document).triggerHandler('user_content_change');\n    }\n  }\n\n  return this;\n};\n\njquery__WEBPACK_IMPORTED_MODULE_0___default.a.fn.fillTemplateData.defaults = {\n  htmlValues: null,\n  hrefValues: null\n}; // Reverse version of fillTemplateData.  Lets you pull out the string versions of values held in divs, spans, etc.\n// Based on the usage of class names within an object to specify an object's sub-parts.\n\njquery__WEBPACK_IMPORTED_MODULE_0___default.a.fn.getTemplateData = function (options) {\n  if (!this.length || !options) {\n    return {};\n  }\n\n  var result = {},\n      item,\n      val;\n\n  if (options.textValues) {\n    const _this = this;\n\n    options.textValues.forEach(item => {\n      const $item = _this.find('.' + item.replace(/\\[/g, '\\\\[').replace(/\\]/g, '\\\\]') + ':first');\n\n      val = jquery__WEBPACK_IMPORTED_MODULE_0___default.a.trim($item.text());\n\n      if ($item.html() === '&nbsp;') {\n        val = '';\n      }\n\n      if (val.length === 1 && val.charCodeAt(0) === 160) {\n        val = '';\n      }\n\n      result[item] = val;\n    });\n  }\n\n  if (options.dataValues) {\n    for (item in options.dataValues) {\n      var val = this.data(options.dataValues[item]);\n\n      if (val) {\n        result[options.dataValues[item]] = val;\n      }\n    }\n  }\n\n  if (options.htmlValues) {\n    for (item in options.htmlValues) {\n      const $elem = this.find('.' + options.htmlValues[item].replace(/\\[/g, '\\\\[').replace(/\\]/g, '\\\\]') + ':first');\n      val = null;\n\n      if ($elem.hasClass('user_content') && $elem.data('unenhanced_content_html')) {\n        val = $elem.data('unenhanced_content_html');\n      } else {\n        val = jquery__WEBPACK_IMPORTED_MODULE_0___default.a.trim($elem.html());\n      }\n\n      result[options.htmlValues[item]] = val;\n    }\n  }\n\n  return result;\n};\n\njquery__WEBPACK_IMPORTED_MODULE_0___default.a.fn.getTemplateValue = function (value, options) {\n  const opts = jquery__WEBPACK_IMPORTED_MODULE_0___default.a.extend({}, options, {\n    textValues: [value]\n  });\n  return this.getTemplateData(opts)[value];\n};\n\n//# sourceURL=webpack:///./ui/shared/util/templateData.js?");

/***/ })

}]);