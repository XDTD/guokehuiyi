(window["canvasWebpackJsonp"] = window["canvasWebpackJsonp"] || []).push([["ldap_settings_test"],{

/***/ "836p":
/*!*************************************************!*\
  !*** ./ui/features/ldap_settings_test/index.js ***!
  \*************************************************/
/*! no exports provided */
/***/ (function(module, __webpack_exports__, __webpack_require__) {

"use strict";
eval("__webpack_require__.r(__webpack_exports__);\n/* harmony import */ var _jquery_index__WEBPACK_IMPORTED_MODULE_0__ = __webpack_require__(/*! ./jquery/index */ \"ERA7\");\n/*\n * Copyright (C) 2013 - present Instructure, Inc.\n *\n * This file is part of Canvas.\n *\n * Canvas is free software: you can redistribute it and/or modify it under\n * the terms of the GNU Affero General Public License as published by the Free\n * Software Foundation, version 3 of the License.\n *\n * Canvas is distributed in the hope that it will be useful, but WITHOUT ANY\n * WARRANTY; without even the implied warranty of MERCHANTABILITY or FITNESS FOR\n * A PARTICULAR PURPOSE. See the GNU Affero General Public License for more\n * details.\n *\n * You should have received a copy of the GNU Affero General Public License along\n * with this program. If not, see <http://www.gnu.org/licenses/>.\n */\n\n\n//# sourceURL=webpack:///./ui/features/ldap_settings_test/index.js?");

/***/ }),

/***/ "ERA7":
/*!********************************************************!*\
  !*** ./ui/features/ldap_settings_test/jquery/index.js ***!
  \********************************************************/
/*! no exports provided */
/***/ (function(module, __webpack_exports__, __webpack_require__) {

"use strict";
eval("__webpack_require__.r(__webpack_exports__);\n/* harmony import */ var i18n_accounts__WEBPACK_IMPORTED_MODULE_0__ = __webpack_require__(/*! i18n!accounts */ \"zRWO\");\n/* harmony import */ var jquery__WEBPACK_IMPORTED_MODULE_1__ = __webpack_require__(/*! jquery */ \"ouhR\");\n/* harmony import */ var jquery__WEBPACK_IMPORTED_MODULE_1___default = /*#__PURE__*/__webpack_require__.n(jquery__WEBPACK_IMPORTED_MODULE_1__);\n/* harmony import */ var html_escape__WEBPACK_IMPORTED_MODULE_2__ = __webpack_require__(/*! html-escape */ \"gI0r\");\n/* harmony import */ var _canvas_authenticity_token__WEBPACK_IMPORTED_MODULE_3__ = __webpack_require__(/*! @canvas/authenticity-token */ \"3PZ/\");\n/* harmony import */ var _canvas_jquery_jquery_ajaxJSON__WEBPACK_IMPORTED_MODULE_4__ = __webpack_require__(/*! @canvas/jquery/jquery.ajaxJSON */ \"dhbk\");\n/* harmony import */ var jqueryui_dialog__WEBPACK_IMPORTED_MODULE_5__ = __webpack_require__(/*! jqueryui/dialog */ \"ESjL\");\n/*\n * Copyright (C) 2013 - present Instructure, Inc.\n *\n * This file is part of Canvas.\n *\n * Canvas is free software: you can redistribute it and/or modify it under\n * the terms of the GNU Affero General Public License as published by the Free\n * Software Foundation, version 3 of the License.\n *\n * Canvas is distributed in the hope that it will be useful, but WITHOUT ANY\n * WARRANTY; without even the implied warranty of MERCHANTABILITY or FITNESS FOR\n * A PARTICULAR PURPOSE. See the GNU Affero General Public License for more\n * details.\n *\n * You should have received a copy of the GNU Affero General Public License along\n * with this program. If not, see <http://www.gnu.org/licenses/>.\n */\n\n\n\n\n\n\n\nfunction testLDAP() {\n  clearTestLDAP();\n  jquery__WEBPACK_IMPORTED_MODULE_1___default()('#test_ldap_dialog').dialog({\n    title: i18n_accounts__WEBPACK_IMPORTED_MODULE_0__[\"default\"].t('test_ldap_dialog_title', 'Test LDAP Settings'),\n    width: 600\n  });\n  ENV.LDAP_TESTS[0].js_function();\n}\n\nfunction clearTestLDAP() {\n  jquery__WEBPACK_IMPORTED_MODULE_1___default.a.each(ENV.LDAP_TESTS, (i, test) => {\n    jquery__WEBPACK_IMPORTED_MODULE_1___default()('#ldap_' + test.test_type + '_result').html('');\n    jquery__WEBPACK_IMPORTED_MODULE_1___default()('#ldap_' + test.test_type + '_help .server_error').remove();\n    jquery__WEBPACK_IMPORTED_MODULE_1___default()('#ldap_' + test.test_type + '_help').hide();\n  });\n  jquery__WEBPACK_IMPORTED_MODULE_1___default()('#ldap_login_result').html('');\n  jquery__WEBPACK_IMPORTED_MODULE_1___default()('#ldap_login_form').hide();\n}\n\njquery__WEBPACK_IMPORTED_MODULE_1___default.a.each(ENV.LDAP_TESTS, (i, test) => {\n  test.js_function = function () {\n    jquery__WEBPACK_IMPORTED_MODULE_1___default()('#ldap_' + test.test_type + '_result').html(\"<img src='/images/ajax-loader.gif'/>\");\n    jquery__WEBPACK_IMPORTED_MODULE_1___default.a.getJSON(test.url, data => {\n      let success = true;\n      let server_error = '';\n      jquery__WEBPACK_IMPORTED_MODULE_1___default.a.each(data, (i, config) => {\n        if (!config['ldap_' + test.test_type + '_test']) {\n          success = false;\n\n          if (config.errors[0] && config.errors[0]['ldap_' + test.test_type + '_test']) {\n            server_error = config.errors[0]['ldap_' + test.test_type + '_test'];\n          }\n        }\n      });\n\n      if (success) {\n        jquery__WEBPACK_IMPORTED_MODULE_1___default()('#ldap_' + test.test_type + '_result').html(\"<h4 style='color:green'>\" + Object(html_escape__WEBPACK_IMPORTED_MODULE_2__[\"default\"])(i18n_accounts__WEBPACK_IMPORTED_MODULE_0__[\"default\"].t('test_ldap_result_ok', 'OK')) + '</h4>');\n\n        if (ENV.LDAP_TESTS[i + 1]) {\n          // proceed to the next test\n          ENV.LDAP_TESTS[i + 1].js_function();\n        } else {\n          // show login test tool\n          jquery__WEBPACK_IMPORTED_MODULE_1___default()('#ldap_login_form').show('blind');\n        }\n      } else {\n        jquery__WEBPACK_IMPORTED_MODULE_1___default()('#ldap_' + test.test_type + '_result').html(\"<h4 style='color:red'>\" + Object(html_escape__WEBPACK_IMPORTED_MODULE_2__[\"default\"])(i18n_accounts__WEBPACK_IMPORTED_MODULE_0__[\"default\"].t('test_ldap_result_failed', 'Failed')) + '</h4>');\n        jquery__WEBPACK_IMPORTED_MODULE_1___default()('#ldap_' + test.test_type + '_help').show();\n        const $server_error = jquery__WEBPACK_IMPORTED_MODULE_1___default()('<p></p>').addClass('server_error').css('color', 'red').text(server_error);\n        jquery__WEBPACK_IMPORTED_MODULE_1___default()('#ldap_' + test.test_type + '_help').append($server_error);\n        jquery__WEBPACK_IMPORTED_MODULE_1___default.a.each(ENV.LDAP_TESTS.slice(i + 1), (i, next_test) => {\n          jquery__WEBPACK_IMPORTED_MODULE_1___default()('#ldap_' + next_test.test_type + '_result').html(\"<h4 style='color:red'>\" + Object(html_escape__WEBPACK_IMPORTED_MODULE_2__[\"default\"])(i18n_accounts__WEBPACK_IMPORTED_MODULE_0__[\"default\"].t('test_ldap_result_canceled', 'Canceled')) + '</h4>');\n        });\n        jquery__WEBPACK_IMPORTED_MODULE_1___default()('#ldap_login_result').html(\"<h4 style='color:red'>\" + Object(html_escape__WEBPACK_IMPORTED_MODULE_2__[\"default\"])(i18n_accounts__WEBPACK_IMPORTED_MODULE_0__[\"default\"].t('test_ldap_result_canceled', 'Canceled')) + '</h4>');\n      }\n    });\n  };\n});\n\nfunction testLDAPLogin() {\n  jquery__WEBPACK_IMPORTED_MODULE_1___default()('#ldap_test_login').attr('disabled', 'true').attr('value', i18n_accounts__WEBPACK_IMPORTED_MODULE_0__[\"default\"].t('testing', 'Testing...'));\n  jquery__WEBPACK_IMPORTED_MODULE_1___default()('#ldap_login_result').html(\"<img src='/images/ajax-loader.gif'/>\");\n  const username = jquery__WEBPACK_IMPORTED_MODULE_1___default()('#ldap_test_login_user').val();\n  const password = jquery__WEBPACK_IMPORTED_MODULE_1___default()('#ldap_test_login_pass').val();\n  jquery__WEBPACK_IMPORTED_MODULE_1___default.a.post(ENV.LOGIN_TEST_URL, {\n    username,\n    password,\n    authenticity_token: Object(_canvas_authenticity_token__WEBPACK_IMPORTED_MODULE_3__[\"default\"])()\n  }, data => {\n    let success = true;\n    let message = '';\n    jquery__WEBPACK_IMPORTED_MODULE_1___default.a.each(data, (i, config) => {\n      if (!config.ldap_login_test) {\n        success = false;\n      }\n\n      if (config.errors) {\n        jquery__WEBPACK_IMPORTED_MODULE_1___default.a.each(config.errors, (i, m) => {\n          jquery__WEBPACK_IMPORTED_MODULE_1___default.a.each(m, (err, msg) => {\n            message += msg;\n          });\n        });\n      }\n    });\n\n    if (success) {\n      jquery__WEBPACK_IMPORTED_MODULE_1___default()('#ldap_login_help_error').hide();\n      jquery__WEBPACK_IMPORTED_MODULE_1___default()('#ldap_login_result').html(\"<h4 style='color:green'>\" + Object(html_escape__WEBPACK_IMPORTED_MODULE_2__[\"default\"])(i18n_accounts__WEBPACK_IMPORTED_MODULE_0__[\"default\"].t('test_ldap_result_ok', 'OK')) + '</h4>');\n      jquery__WEBPACK_IMPORTED_MODULE_1___default()('#ldap_test_login').attr('disabled', '').attr('value', i18n_accounts__WEBPACK_IMPORTED_MODULE_0__[\"default\"].t('test_login', 'Test Login'));\n    } else {\n      jquery__WEBPACK_IMPORTED_MODULE_1___default()('#ldap_login_result').html(\"<h4 style='color:red'>\" + Object(html_escape__WEBPACK_IMPORTED_MODULE_2__[\"default\"])(i18n_accounts__WEBPACK_IMPORTED_MODULE_0__[\"default\"].t('test_ldap_result_failed', 'Failed')) + '</h4>');\n      jquery__WEBPACK_IMPORTED_MODULE_1___default()('#ldap_login_help').show();\n      jquery__WEBPACK_IMPORTED_MODULE_1___default()('#ldap_test_login').attr('disabled', '').attr('value', i18n_accounts__WEBPACK_IMPORTED_MODULE_0__[\"default\"].t('retry_login', 'Retry Login'));\n      jquery__WEBPACK_IMPORTED_MODULE_1___default()('#ldap_login_help_error').text(message);\n    }\n  });\n}\n\njquery__WEBPACK_IMPORTED_MODULE_1___default()(document).ready(() => {\n  jquery__WEBPACK_IMPORTED_MODULE_1___default()('.test_ldap_link').click(event => {\n    event.preventDefault(); // kick off our test\n\n    testLDAP();\n  });\n  jquery__WEBPACK_IMPORTED_MODULE_1___default()('.ldap_test_close').click(event => {\n    event.preventDefault();\n    jquery__WEBPACK_IMPORTED_MODULE_1___default()('#test_ldap_dialog').dialog('close');\n  });\n  jquery__WEBPACK_IMPORTED_MODULE_1___default()('#ldap_test_login_form').submit(event => {\n    event.preventDefault();\n    testLDAPLogin();\n  });\n});\n\n//# sourceURL=webpack:///./ui/features/ldap_settings_test/jquery/index.js?");

/***/ }),

/***/ "zRWO":
/*!*************************************************************************!*\
  !*** ./frontend_build/i18n.js?accounts!./ui/shims/dummyI18nResource.js ***!
  \*************************************************************************/
/*! exports provided: default */
/***/ (function(module, __webpack_exports__, __webpack_require__) {

"use strict";
eval("__webpack_require__.r(__webpack_exports__);\n/* harmony import */ var _canvas_i18n_i18nObj__WEBPACK_IMPORTED_MODULE_0__ = __webpack_require__(/*! @canvas/i18n/i18nObj */ \"HGxv\");\n/* harmony import */ var translations_core_en__WEBPACK_IMPORTED_MODULE_1__ = __webpack_require__(/*! translations/_core_en */ \"0sPK\");\n\n    \n    \n    \n\n    /* harmony default export */ __webpack_exports__[\"default\"] = (_canvas_i18n_i18nObj__WEBPACK_IMPORTED_MODULE_0__[\"default\"].scoped('accounts'));\n  \n\n//# sourceURL=webpack:///./ui/shims/dummyI18nResource.js?./frontend_build/i18n.js?accounts");

/***/ })

}]);