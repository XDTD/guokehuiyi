(window["canvasWebpackJsonp"] = window["canvasWebpackJsonp"] || []).push([["submissions"],{

/***/ "4BsA":
/*!***************************************************************************************!*\
  !*** ./frontend_build/i18n.js?closedCaptionLanguages!./ui/shims/dummyI18nResource.js ***!
  \***************************************************************************************/
/*! exports provided: default */
/***/ (function(module, __webpack_exports__, __webpack_require__) {

"use strict";
eval("__webpack_require__.r(__webpack_exports__);\n/* harmony import */ var _canvas_i18n_i18nObj__WEBPACK_IMPORTED_MODULE_0__ = __webpack_require__(/*! @canvas/i18n/i18nObj */ \"HGxv\");\n/* harmony import */ var translations_core_en__WEBPACK_IMPORTED_MODULE_1__ = __webpack_require__(/*! translations/_core_en */ \"0sPK\");\n\n    \n    \n    \n\n    /* harmony default export */ __webpack_exports__[\"default\"] = (_canvas_i18n_i18nObj__WEBPACK_IMPORTED_MODULE_0__[\"default\"].scoped('closedCaptionLanguages'));\n  \n\n//# sourceURL=webpack:///./ui/shims/dummyI18nResource.js?./frontend_build/i18n.js?closedCaptionLanguages");

/***/ }),

/***/ "4C5l":
/*!********************************************************************************!*\
  !*** ./frontend_build/i18n.js?lib.text_helper!./ui/shims/dummyI18nResource.js ***!
  \********************************************************************************/
/*! exports provided: default */
/***/ (function(module, __webpack_exports__, __webpack_require__) {

"use strict";
eval("__webpack_require__.r(__webpack_exports__);\n/* harmony import */ var _canvas_i18n_i18nObj__WEBPACK_IMPORTED_MODULE_0__ = __webpack_require__(/*! @canvas/i18n/i18nObj */ \"HGxv\");\n/* harmony import */ var translations_core_en__WEBPACK_IMPORTED_MODULE_1__ = __webpack_require__(/*! translations/_core_en */ \"0sPK\");\n\n    \n    \n    \n\n    /* harmony default export */ __webpack_exports__[\"default\"] = (_canvas_i18n_i18nObj__WEBPACK_IMPORTED_MODULE_0__[\"default\"].scoped('lib.text_helper'));\n  \n\n//# sourceURL=webpack:///./ui/shims/dummyI18nResource.js?./frontend_build/i18n.js?lib.text_helper");

/***/ }),

/***/ "Aoce":
/*!******************************************!*\
  !*** ./ui/features/submissions/index.js ***!
  \******************************************/
/*! no exports provided */
/***/ (function(module, __webpack_exports__, __webpack_require__) {

"use strict";
eval("__webpack_require__.r(__webpack_exports__);\n/* harmony import */ var _jquery_index__WEBPACK_IMPORTED_MODULE_0__ = __webpack_require__(/*! ./jquery/index */ \"xp+O\");\n/* harmony import */ var _canvas_grading_status_pill__WEBPACK_IMPORTED_MODULE_1__ = __webpack_require__(/*! @canvas/grading-status-pill */ \"bt35\");\n/* harmony import */ var _instructure_ready__WEBPACK_IMPORTED_MODULE_2__ = __webpack_require__(/*! @instructure/ready */ \"3lLS\");\n/* harmony import */ var _instructure_ready__WEBPACK_IMPORTED_MODULE_2___default = /*#__PURE__*/__webpack_require__.n(_instructure_ready__WEBPACK_IMPORTED_MODULE_2__);\n/*\n * Copyright (C) 2012 - present Instructure, Inc.\n *\n * This file is part of Canvas.\n *\n * Canvas is free software: you can redistribute it and/or modify it under\n * the terms of the GNU Affero General Public License as published by the Free\n * Software Foundation, version 3 of the License.\n *\n * Canvas is distributed in the hope that it will be useful, but WITHOUT ANY\n * WARRANTY; without even the implied warranty of MERCHANTABILITY or FITNESS FOR\n * A PARTICULAR PURPOSE. See the GNU Affero General Public License for more\n * details.\n *\n * You should have received a copy of the GNU Affero General Public License along\n * with this program. If not, see <http://www.gnu.org/licenses/>.\n */\n\n\n\n_instructure_ready__WEBPACK_IMPORTED_MODULE_2___default()(() => {\n  Object(_jquery_index__WEBPACK_IMPORTED_MODULE_0__[\"setup\"])();\n  _canvas_grading_status_pill__WEBPACK_IMPORTED_MODULE_1__[\"default\"].renderPills();\n});\n\n//# sourceURL=webpack:///./ui/features/submissions/index.js?");

/***/ }),

/***/ "JOjB":
/*!******************************************!*\
  !*** ./ui/shared/util/TextHelper.coffee ***!
  \******************************************/
/*! exports provided: default */
/***/ (function(module, __webpack_exports__, __webpack_require__) {

"use strict";
eval("__webpack_require__.r(__webpack_exports__);\n/* harmony import */ var jquery__WEBPACK_IMPORTED_MODULE_0__ = __webpack_require__(/*! jquery */ \"ouhR\");\n/* harmony import */ var jquery__WEBPACK_IMPORTED_MODULE_0___default = /*#__PURE__*/__webpack_require__.n(jquery__WEBPACK_IMPORTED_MODULE_0__);\n/* harmony import */ var i18n_lib_text_helper__WEBPACK_IMPORTED_MODULE_1__ = __webpack_require__(/*! i18n!lib.text_helper */ \"4C5l\");\n/* harmony import */ var html_escape__WEBPACK_IMPORTED_MODULE_2__ = __webpack_require__(/*! html-escape */ \"gI0r\");\nvar AUTO_LINKIFY_PLACEHOLDER, AUTO_LINKIFY_REGEX, th;\n\n\n\n\n\n\n\nAUTO_LINKIFY_PLACEHOLDER = \"LINK-PLACEHOLDER\";\n\nAUTO_LINKIFY_REGEX = /\\b((?:https?:\\/\\/|www\\d{0,3}[.]|[a-z0-9.\\-]+[.][a-z]{2,4}\\/)(?:[^\\s()<>]+|\\([^\\s()<>]*\\))+(?:\\([^\\s()<>]*\\)|[^\\s`!()\\[\\]{};:'\".,<>?«»“”‘’]))|(LINK-PLACEHOLDER)/gi;\n\n/* harmony default export */ __webpack_exports__[\"default\"] = (th = {\n  quoteClump: function(lines) {\n    return \"<div class='quoted_text_holder'> <a href='#' class='show_quoted_text_link'>\" + (Object(html_escape__WEBPACK_IMPORTED_MODULE_2__[\"default\"])(i18n_lib_text_helper__WEBPACK_IMPORTED_MODULE_1__[\"default\"].t(\"quoted_text_toggle\", \"show quoted text\"))) + \"</a> <div class='quoted_text' style='display: none;'> \" + (jquery__WEBPACK_IMPORTED_MODULE_0___default.a.raw(lines.join(\"\\n\"))) + \" </div> </div>\";\n  },\n  formatMessage: function(message) {\n    var j, len, line, links, placeholderBlocks, processedLines, quoteBlock, ref;\n    links = [];\n    placeholderBlocks = [];\n    message = message.replace(AUTO_LINKIFY_REGEX, function(match, i) {\n      var link;\n      placeholderBlocks.push(match === AUTO_LINKIFY_PLACEHOLDER ? AUTO_LINKIFY_PLACEHOLDER : (link = match, !(link.slice(0, 7) === 'http://' || link.slice(0, 8) === 'https://') ? link = \"http://\" + link : void 0, links.push(link), \"<a href='\" + (Object(html_escape__WEBPACK_IMPORTED_MODULE_2__[\"default\"])(link)) + \"'>\" + (Object(html_escape__WEBPACK_IMPORTED_MODULE_2__[\"default\"])(match)) + \"</a>\"));\n      return AUTO_LINKIFY_PLACEHOLDER;\n    });\n    message = Object(html_escape__WEBPACK_IMPORTED_MODULE_2__[\"default\"])(message);\n    message = message.replace(new RegExp(AUTO_LINKIFY_PLACEHOLDER, 'g'), function(match, i) {\n      return placeholderBlocks.shift();\n    });\n    message = message.replace(/\\n/g, '<br />\\n');\n    processedLines = [];\n    quoteBlock = [];\n    ref = message.split(\"\\n\");\n    for (j = 0, len = ref.length; j < len; j++) {\n      line = ref[j];\n      if (line.match(/^(&gt;|>)/)) {\n        quoteBlock.push(line);\n      } else {\n        if (quoteBlock.length) {\n          processedLines.push(th.quoteClump(quoteBlock));\n        }\n        quoteBlock = [];\n        processedLines.push(line);\n      }\n    }\n    if (quoteBlock.length) {\n      processedLines.push(th.quoteClump(quoteBlock));\n    }\n    return message = processedLines.join(\"\\n\");\n  },\n  delimit: function(number) {\n    var abs, integer, mod, result, sign;\n    if (isNaN(number)) {\n      return String(number);\n    }\n    sign = number < 0 ? '-' : '';\n    abs = Math.abs(number);\n    if (abs === 2e308) {\n      return String(number);\n    }\n    integer = Math.floor(abs);\n    result = abs === integer ? '' : String(abs).replace(/^\\d+\\./, '.');\n    while (integer >= 1000) {\n      mod = String(integer).replace(/\\d+(\\d\\d\\d)$/, ',$1');\n      integer = Math.floor(integer / 1000);\n      result = mod + result;\n    }\n    return sign + String(integer) + result;\n  },\n  truncateText: function(string, options) {\n    var ellipsis, max, pos, ref, truncateAt, wordSeparator;\n    if (options == null) {\n      options = {};\n    }\n    max = (ref = options.max) != null ? ref : 30;\n    ellipsis = i18n_lib_text_helper__WEBPACK_IMPORTED_MODULE_1__[\"default\"].t('ellipsis', '...');\n    wordSeparator = i18n_lib_text_helper__WEBPACK_IMPORTED_MODULE_1__[\"default\"].t('word_separator', ' ');\n    string = (string != null ? string : \"\").replace(/\\s+/g, wordSeparator).trim();\n    if (!string || string.length <= max) {\n      return string;\n    }\n    truncateAt = 0;\n    while (true) {\n      pos = string.indexOf(wordSeparator, truncateAt + 1);\n      if (pos < 0 || pos > max - ellipsis.length) {\n        break;\n      }\n      truncateAt = pos;\n    }\n    truncateAt || (truncateAt = max - ellipsis.length);\n    return string.substring(0, truncateAt) + ellipsis;\n  },\n  plainText: function(message) {\n    return message.replace(/(<([^>]+)>)/ig, '');\n  }\n});\n\n\n//# sourceURL=webpack:///./ui/shared/util/TextHelper.coffee?");

/***/ }),

/***/ "MJ1T":
/*!*******************************************************!*\
  !*** ./ui/shared/rubrics/jquery/rubric_assessment.js ***!
  \*******************************************************/
/*! exports provided: default */
/***/ (function(module, __webpack_exports__, __webpack_require__) {

"use strict";
eval("__webpack_require__.r(__webpack_exports__);\n/* harmony import */ var i18n_rubric_assessment__WEBPACK_IMPORTED_MODULE_0__ = __webpack_require__(/*! i18n!rubric_assessment */ \"SHOu\");\n/* harmony import */ var jquery__WEBPACK_IMPORTED_MODULE_1__ = __webpack_require__(/*! jquery */ \"ouhR\");\n/* harmony import */ var jquery__WEBPACK_IMPORTED_MODULE_1___default = /*#__PURE__*/__webpack_require__.n(jquery__WEBPACK_IMPORTED_MODULE_1__);\n/* harmony import */ var lodash__WEBPACK_IMPORTED_MODULE_2__ = __webpack_require__(/*! lodash */ \"LvDl\");\n/* harmony import */ var lodash__WEBPACK_IMPORTED_MODULE_2___default = /*#__PURE__*/__webpack_require__.n(lodash__WEBPACK_IMPORTED_MODULE_2__);\n/* harmony import */ var react__WEBPACK_IMPORTED_MODULE_3__ = __webpack_require__(/*! react */ \"q1tI\");\n/* harmony import */ var react__WEBPACK_IMPORTED_MODULE_3___default = /*#__PURE__*/__webpack_require__.n(react__WEBPACK_IMPORTED_MODULE_3__);\n/* harmony import */ var react_dom__WEBPACK_IMPORTED_MODULE_4__ = __webpack_require__(/*! react-dom */ \"i8i4\");\n/* harmony import */ var react_dom__WEBPACK_IMPORTED_MODULE_4___default = /*#__PURE__*/__webpack_require__.n(react_dom__WEBPACK_IMPORTED_MODULE_4__);\n/* harmony import */ var html_escape__WEBPACK_IMPORTED_MODULE_5__ = __webpack_require__(/*! html-escape */ \"gI0r\");\n/* harmony import */ var _canvas_util_TextHelper_coffee__WEBPACK_IMPORTED_MODULE_6__ = __webpack_require__(/*! @canvas/util/TextHelper.coffee */ \"JOjB\");\n/* harmony import */ var round__WEBPACK_IMPORTED_MODULE_7__ = __webpack_require__(/*! round */ \"xvQv\");\n/* harmony import */ var _canvas_i18n_numberHelper__WEBPACK_IMPORTED_MODULE_8__ = __webpack_require__(/*! @canvas/i18n/numberHelper */ \"FdVj\");\n/* harmony import */ var _canvas_forms_jquery_jquery_instructure_forms__WEBPACK_IMPORTED_MODULE_9__ = __webpack_require__(/*! @canvas/forms/jquery/jquery.instructure_forms */ \"Dhso\");\n/* harmony import */ var jqueryui_dialog__WEBPACK_IMPORTED_MODULE_10__ = __webpack_require__(/*! jqueryui/dialog */ \"ESjL\");\n/* harmony import */ var _canvas_jquery_jquery_instructure_misc_plugins__WEBPACK_IMPORTED_MODULE_11__ = __webpack_require__(/*! @canvas/jquery/jquery.instructure_misc_plugins */ \"aq8L\");\n/* harmony import */ var _canvas_util_templateData__WEBPACK_IMPORTED_MODULE_12__ = __webpack_require__(/*! @canvas/util/templateData */ \"TvTI\");\n/* harmony import */ var jquery_scroll_to_visible_jquery_scrollTo__WEBPACK_IMPORTED_MODULE_13__ = __webpack_require__(/*! jquery-scroll-to-visible/jquery.scrollTo */ \"w2hD\");\n/* harmony import */ var _canvas_rails_flash_notifications__WEBPACK_IMPORTED_MODULE_14__ = __webpack_require__(/*! @canvas/rails-flash-notifications */ \"r2Yr\");\n/* harmony import */ var _react_Rubric__WEBPACK_IMPORTED_MODULE_15__ = __webpack_require__(/*! ../react/Rubric */ \"kv/t\");\n/* harmony import */ var _react_helpers__WEBPACK_IMPORTED_MODULE_16__ = __webpack_require__(/*! ../react/helpers */ \"aLXX\");\n/*\n * Copyright (C) 2011 - present Instructure, Inc.\n *\n * This file is part of Canvas.\n *\n * Canvas is free software: you can redistribute it and/or modify it under\n * the terms of the GNU Affero General Public License as published by the Free\n * Software Foundation, version 3 of the License.\n *\n * Canvas is distributed in the hope that it will be useful, but WITHOUT ANY\n * WARRANTY; without even the implied warranty of MERCHANTABILITY or FITNESS FOR\n * A PARTICULAR PURPOSE. See the GNU Affero General Public License for more\n * details.\n *\n * You should have received a copy of the GNU Affero General Public License along\n * with this program. If not, see <http://www.gnu.org/licenses/>.\n */\n\n\n\n\n\n\n\n\n\n\n/* fillFormData */\n\n\n\n/* showIf */\n\n\n\n\n\n // TODO: stop managing this in the view and get it out of the global scope submissions/show.html.erb\n\n/* global rubricAssessment */\n\nwindow.rubricAssessment = {\n  init() {\n    const $rubric_criterion_comments_dialog = jquery__WEBPACK_IMPORTED_MODULE_1___default()('#rubric_criterion_comments_dialog');\n    jquery__WEBPACK_IMPORTED_MODULE_1___default()('.rubric').delegate('.rating', 'click', function (event) {\n      jquery__WEBPACK_IMPORTED_MODULE_1___default()(this).parents('.criterion').find('.criterion_points').val(jquery__WEBPACK_IMPORTED_MODULE_1___default()(this).find('.points').text()).change();\n    }).delegate('.long_description_link', 'click', function (event) {\n      event.preventDefault();\n\n      if (!jquery__WEBPACK_IMPORTED_MODULE_1___default()(this).parents('.rubric').hasClass('editing')) {\n        const data = jquery__WEBPACK_IMPORTED_MODULE_1___default()(this).parents('.criterion').getTemplateData({\n          textValues: ['long_description', 'description']\n        }),\n              is_learning_outcome = jquery__WEBPACK_IMPORTED_MODULE_1___default()(this).parents('.criterion').hasClass('learning_outcome_criterion');\n        jquery__WEBPACK_IMPORTED_MODULE_1___default()('#rubric_long_description_dialog').fillTemplateData({\n          data,\n          htmlValues: is_learning_outcome ? ['long_description'] : []\n        }).find('.editing').hide().end().find('.displaying').show().end().dialog({\n          title: i18n_rubric_assessment__WEBPACK_IMPORTED_MODULE_0__[\"default\"].t('Criterion Long Description'),\n          width: 400\n        });\n      }\n    }).delegate('.criterion .saved_custom_rating', 'change', function () {\n      if (jquery__WEBPACK_IMPORTED_MODULE_1___default()(this).parents('.rubric').hasClass('assessing')) {\n        const val = jquery__WEBPACK_IMPORTED_MODULE_1___default()(this).val();\n\n        if (val && val.length > 0) {\n          jquery__WEBPACK_IMPORTED_MODULE_1___default()(this).parents('.custom_ratings_entry').find('.custom_rating_field').val(val);\n        }\n      }\n    }).delegate('.criterion_comments_link', 'click', function (event) {\n      event.preventDefault();\n      const $rubric_criterion_comments_link = jquery__WEBPACK_IMPORTED_MODULE_1___default()(this);\n      const $criterion = jquery__WEBPACK_IMPORTED_MODULE_1___default()(this).parents('.criterion');\n      const comments = $criterion.getTemplateData({\n        textValues: ['custom_rating']\n      }).custom_rating;\n      const editing = jquery__WEBPACK_IMPORTED_MODULE_1___default()(this).parents('.rubric.assessing').length > 0;\n      const data = {\n        criterion_comments: comments,\n        criterion_description: $criterion.find('.description:first').text()\n      };\n      $rubric_criterion_comments_dialog.data('current_rating', $criterion);\n      $rubric_criterion_comments_dialog.fillTemplateData({\n        data\n      });\n      $rubric_criterion_comments_dialog.fillFormData(data);\n      $rubric_criterion_comments_dialog.find('.editing').showIf(editing);\n      $rubric_criterion_comments_dialog.find('.displaying').showIf(!editing);\n      $rubric_criterion_comments_dialog.dialog({\n        title: i18n_rubric_assessment__WEBPACK_IMPORTED_MODULE_0__[\"default\"].t('Additional Comments'),\n        width: 400,\n\n        close() {\n          $rubric_criterion_comments_link.focus();\n        }\n\n      });\n      $rubric_criterion_comments_dialog.find('textarea.criterion_comments').focus();\n    }) // cant use a .delegate because up above when we delegate '.rating' 'click' it calls .change() and that doesnt bubble right so it doesen't get caught\n    .find('.criterion_points').bind('keyup change blur', function (event) {\n      const $obj = jquery__WEBPACK_IMPORTED_MODULE_1___default()(event.target);\n\n      if ($obj.parents('.rubric').hasClass('assessing')) {\n        let val = _canvas_i18n_numberHelper__WEBPACK_IMPORTED_MODULE_8__[\"default\"].parse($obj.val());\n\n        if (isNaN(val)) {\n          val = null;\n        }\n\n        const $criterion = $obj.parents('.criterion');\n        $criterion.find('.rating.selected').removeClass('selected');\n\n        if (val || val === 0) {\n          $criterion.find('.criterion_description').addClass('completed');\n          rubricAssessment.highlightCriterionScore($criterion, val);\n        } else {\n          $criterion.find('.criterion_description').removeClass('completed');\n        }\n\n        let total = 0;\n        $obj.parents('.rubric').find('.criterion:visible:not(.ignore_criterion_for_scoring) .criterion_points').each(function () {\n          let criterionPoints = _canvas_i18n_numberHelper__WEBPACK_IMPORTED_MODULE_8__[\"default\"].parse(jquery__WEBPACK_IMPORTED_MODULE_1___default()(this).val(), 10);\n\n          if (isNaN(criterionPoints)) {\n            criterionPoints = 0;\n          }\n\n          total += criterionPoints;\n        });\n        total = window.rubricAssessment.roundAndFormat(total);\n        $obj.parents('.rubric').find('.rubric_total').text(total);\n      }\n    });\n    jquery__WEBPACK_IMPORTED_MODULE_1___default()('.rubric_summary').delegate('.rating_comments_dialog_link', 'click', function (event) {\n      event.preventDefault();\n      const $rubric_rating_comments_link = jquery__WEBPACK_IMPORTED_MODULE_1___default()(this);\n      const $criterion = jquery__WEBPACK_IMPORTED_MODULE_1___default()(this).parents('.criterion');\n      const comments = $criterion.getTemplateData({\n        textValues: ['rating_custom']\n      }).rating_custom;\n      const data = {\n        criterion_comments: comments,\n        criterion_description: $criterion.find('.description_title:first').text()\n      };\n      $rubric_criterion_comments_dialog.data('current_rating', $criterion);\n      $rubric_criterion_comments_dialog.fillTemplateData({\n        data\n      });\n      $rubric_criterion_comments_dialog.fillFormData(data);\n      $rubric_criterion_comments_dialog.find('.editing').hide();\n      $rubric_criterion_comments_dialog.find('.displaying').show();\n      $rubric_criterion_comments_dialog.dialog({\n        title: i18n_rubric_assessment__WEBPACK_IMPORTED_MODULE_0__[\"default\"].t('Additional Comments'),\n        width: 400,\n\n        close() {\n          $rubric_rating_comments_link.focus();\n        }\n\n      });\n      $rubric_criterion_comments_dialog.find('.criterion_description').focus();\n    });\n    $rubric_criterion_comments_dialog.find('.save_button').click(() => {\n      const comments = $rubric_criterion_comments_dialog.find('textarea.criterion_comments').val(),\n            $criterion = $rubric_criterion_comments_dialog.data('current_rating');\n\n      if ($criterion) {\n        $criterion.find('.custom_rating').text(comments);\n        $criterion.find('.criterion_comments').toggleClass('empty', !comments);\n      }\n\n      $rubric_criterion_comments_dialog.dialog('close');\n    });\n    $rubric_criterion_comments_dialog.find('.cancel_button').click(event => {\n      $rubric_criterion_comments_dialog.dialog('close');\n    });\n    setInterval(rubricAssessment.sizeRatings, 2500);\n  },\n\n  checkScoreAdjustment: ($criterion, rating, rawData) => {\n    const rawPoints = rawData[`rubric_assessment[criterion_${rating.criterion_id}][points]`];\n    const points = rubricAssessment.roundAndFormat(rating.points);\n\n    if (rawPoints > points) {\n      const criterionDescription = Object(html_escape__WEBPACK_IMPORTED_MODULE_5__[\"default\"])($criterion.find('.description_title').text());\n      jquery__WEBPACK_IMPORTED_MODULE_1___default.a.flashWarning(i18n_rubric_assessment__WEBPACK_IMPORTED_MODULE_0__[\"default\"].t('Extra credit not permitted on outcomes, ' + 'score adjusted to maximum possible for %{outcome}', {\n        outcome: criterionDescription\n      }));\n    }\n  },\n\n  highlightCriterionScore($criterion, val) {\n    $criterion.find('.rating').each(function () {\n      const rating_val = _canvas_i18n_numberHelper__WEBPACK_IMPORTED_MODULE_8__[\"default\"].parse(jquery__WEBPACK_IMPORTED_MODULE_1___default()(this).find('.points').text());\n      const use_range = $criterion.find('.criterion_use_range').attr('checked');\n\n      if (rating_val === val) {\n        jquery__WEBPACK_IMPORTED_MODULE_1___default()(this).addClass('selected');\n      } else if (use_range) {\n        const $nextRating = jquery__WEBPACK_IMPORTED_MODULE_1___default()(this).next('.rating');\n        let min_value = 0;\n\n        if ($nextRating.find('.points').text()) {\n          min_value = _canvas_i18n_numberHelper__WEBPACK_IMPORTED_MODULE_8__[\"default\"].parse($nextRating.find('.points').text());\n        }\n\n        if (rating_val > val && min_value < val) {\n          jquery__WEBPACK_IMPORTED_MODULE_1___default()(this).addClass('selected');\n        }\n      }\n    });\n  },\n\n  sizeRatings() {\n    const $visibleCriteria = jquery__WEBPACK_IMPORTED_MODULE_1___default()('.rubric .criterion:visible');\n\n    if ($visibleCriteria.length) {\n      const scrollTop = jquery__WEBPACK_IMPORTED_MODULE_1___default.a.windowScrollTop();\n      jquery__WEBPACK_IMPORTED_MODULE_1___default()('.rubric .criterion:visible').each(function () {\n        const $this = jquery__WEBPACK_IMPORTED_MODULE_1___default()(this),\n              $ratings = $this.find('.ratings:visible');\n\n        if ($ratings.length) {\n          const $ratingsContainers = $ratings.find('.rating .container').css('height', ''),\n                maxHeight = Math.max($ratings.height(), $this.find('.criterion_description .container').height()); // the -10 here is the padding on the .container.\n\n          $ratingsContainers.css('height', maxHeight - 10 + 'px');\n        }\n      });\n      jquery__WEBPACK_IMPORTED_MODULE_1___default()('html,body').scrollTop(scrollTop);\n    }\n  },\n\n  // Ideally, we should investigate why criteriaAssessment id ends up being \"null\" string\n  // Due to the complexity of the code, this method is used to handle the situation and to\n  // test the change properly.\n  //\n  // For reference, see bug EVAL-1621\n  getCriteriaAssessmentId(criteriaAssessmentId) {\n    return ['null', null].includes(criteriaAssessmentId) ? void 0 : criteriaAssessmentId;\n  },\n\n  assessmentData($rubric) {\n    $rubric = rubricAssessment.findRubric($rubric);\n    const data = {};\n\n    if (ENV.RUBRIC_ASSESSMENT.assessment_user_id || $rubric.find('.user_id').length > 0) {\n      data['rubric_assessment[user_id]'] = ENV.RUBRIC_ASSESSMENT.assessment_user_id || $rubric.find('.user_id').text();\n    } else {\n      data['rubric_assessment[anonymous_id]'] = ENV.RUBRIC_ASSESSMENT.anonymous_id || $rubric.find('.anonymous_id').text();\n    }\n\n    data['rubric_assessment[assessment_type]'] = ENV.RUBRIC_ASSESSMENT.assessment_type || $rubric.find('.assessment_type').text();\n\n    if (ENV.nonScoringRubrics && this.currentAssessment !== void 0) {\n      const assessment = this.currentAssessment;\n      assessment.data.forEach(criteriaAssessment => {\n        const pre = `rubric_assessment[criterion_${criteriaAssessment.criterion_id}]`;\n\n        const section = key => `${pre}${key}`;\n\n        const points = criteriaAssessment.points.value;\n        data[section('[rating_id]')] = rubricAssessment.getCriteriaAssessmentId(criteriaAssessment.id);\n        data[section('[points]')] = !Number.isNaN(points) ? points : void 0;\n        data[section('[description]')] = criteriaAssessment.description;\n        data[section('[comments]')] = criteriaAssessment.comments || '';\n        data[section('[save_comment]')] = criteriaAssessment.saveCommentsForLater === true ? '1' : '0';\n      });\n    } else {\n      $rubric.find('.criterion:not(.blank)').each(function () {\n        const id = jquery__WEBPACK_IMPORTED_MODULE_1___default()(this).attr('id');\n        const pre = 'rubric_assessment[' + id + ']';\n        const points = _canvas_i18n_numberHelper__WEBPACK_IMPORTED_MODULE_8__[\"default\"].parse(jquery__WEBPACK_IMPORTED_MODULE_1___default()(this).find('.criterion_points').val());\n        data[pre + '[points]'] = !isNaN(points) ? points : void 0;\n\n        if (jquery__WEBPACK_IMPORTED_MODULE_1___default()(this).find('.rating.selected')) {\n          data[pre + '[description]'] = jquery__WEBPACK_IMPORTED_MODULE_1___default()(this).find('.rating.selected .description').text();\n          data[pre + '[comments]'] = jquery__WEBPACK_IMPORTED_MODULE_1___default()(this).find('.custom_rating').text();\n        }\n\n        if (jquery__WEBPACK_IMPORTED_MODULE_1___default()(this).find('.custom_rating_field:visible').length > 0) {\n          data[pre + '[comments]'] = jquery__WEBPACK_IMPORTED_MODULE_1___default()(this).find('.custom_rating_field:visible').val();\n          data[pre + '[save_comment]'] = jquery__WEBPACK_IMPORTED_MODULE_1___default()(this).find('.save_custom_rating').attr('checked') ? '1' : '0';\n        }\n      });\n    }\n\n    return data;\n  },\n\n  findRubric($rubric) {\n    if (!$rubric.hasClass('rubric')) {\n      let $new_rubric = $rubric.closest('.rubric');\n\n      if ($new_rubric.length === 0) {\n        $new_rubric = $rubric.find('.rubric:first');\n      }\n\n      $rubric = $new_rubric;\n    }\n\n    return $rubric;\n  },\n\n  updateRubricAssociation($rubric, data) {\n    const summary_data = data.summary_data;\n\n    if (ENV.nonScoringRubrics && this.currentAssessment !== void 0) {\n      const assessment = this.currentAssessment;\n      Object(_react_helpers__WEBPACK_IMPORTED_MODULE_16__[\"updateAssociationData\"])(this.currentAssociation, assessment);\n    } else if (summary_data && summary_data.saved_comments) {\n      for (const id in summary_data.saved_comments) {\n        const comments = summary_data.saved_comments[id],\n              $holder = $rubric.find('#criterion_' + id).find('.saved_custom_rating_holder').hide(),\n              $saved_custom_rating = $holder.find('.saved_custom_rating');\n        $saved_custom_rating.find('.comment').remove();\n        $saved_custom_rating.empty().append('<option value=\"\">' + Object(html_escape__WEBPACK_IMPORTED_MODULE_5__[\"default\"])(i18n_rubric_assessment__WEBPACK_IMPORTED_MODULE_0__[\"default\"].t('[ Select ]')) + '</option>');\n\n        for (const jdx in comments) {\n          if (comments[jdx]) {\n            $saved_custom_rating.append('<option value=\"' + Object(html_escape__WEBPACK_IMPORTED_MODULE_5__[\"default\"])(comments[jdx]) + '\">' + Object(html_escape__WEBPACK_IMPORTED_MODULE_5__[\"default\"])(_canvas_util_TextHelper_coffee__WEBPACK_IMPORTED_MODULE_6__[\"default\"].truncateText(comments[jdx], {\n              max: 50\n            })) + '</option>');\n            $holder.show();\n          }\n        }\n      }\n    }\n  },\n\n  fillAssessment: _react_helpers__WEBPACK_IMPORTED_MODULE_16__[\"fillAssessment\"],\n\n  populateNewRubric(container, assessment, rubricAssociation) {\n    if (ENV.nonScoringRubrics && ENV.rubric) {\n      const assessing = container.hasClass('assessing');\n\n      const setCurrentAssessment = currentAssessment => {\n        rubricAssessment.currentAssessment = currentAssessment;\n        render(currentAssessment);\n      };\n\n      const association = rubricAssessment.currentAssociation || rubricAssociation;\n      rubricAssessment.currentAssociation = association;\n\n      const render = currentAssessment => {\n        react_dom__WEBPACK_IMPORTED_MODULE_4___default.a.render( /*#__PURE__*/react__WEBPACK_IMPORTED_MODULE_3___default.a.createElement(_react_Rubric__WEBPACK_IMPORTED_MODULE_15__[\"default\"], {\n          allowExtraCredit: ENV.outcome_extra_credit_enabled,\n          onAssessmentChange: assessing ? setCurrentAssessment : null,\n          rubric: ENV.rubric,\n          rubricAssessment: currentAssessment,\n          customRatings: ENV.outcome_proficiency ? ENV.outcome_proficiency.ratings : [],\n          rubricAssociation: rubricAssociation\n        }, null), container.get(0));\n      };\n\n      setCurrentAssessment(rubricAssessment.fillAssessment(ENV.rubric, assessment || {}, ENV.RUBRIC_ASSESSMENT));\n      const header = container.find('th').first();\n      header.attr('tabindex', -1).focus();\n    } else {\n      rubricAssessment.populateRubric(container, assessment);\n    }\n  },\n\n  populateRubric($rubric, data, submitted_data = null) {\n    $rubric = rubricAssessment.findRubric($rubric);\n    const id = $rubric.attr('id').substring(7);\n\n    if (ENV.RUBRIC_ASSESSMENT.assessment_user_id || data.user_id) {\n      $rubric.find('.user_id').text(ENV.RUBRIC_ASSESSMENT.assessment_user_id || data.user_id);\n    } else {\n      $rubric.find('.anonymous_id').text(ENV.RUBRIC_ASSESSMENT.anonymous_id || data.anonymous_id);\n    }\n\n    $rubric.find('.assessment_type').text(ENV.RUBRIC_ASSESSMENT.assessment_type || data.assessment_type);\n    $rubric.find('.criterion_description').removeClass('completed').removeClass('original_completed').end().find('.rating').removeClass('selected').removeClass('original_selected').end().find('.custom_rating_field').val('').end().find('.custom_rating_comments').text('').end().find('.criterion_points').val('').change().end().find('.criterion_rating_points').text('').end().find('.custom_rating').text('').end().find('.save_custom_rating').attr('checked', false);\n    $rubric.find('.criterion_comments').addClass('empty');\n\n    if (data) {\n      const assessment = data;\n      let total = 0;\n\n      for (const idx in assessment.data) {\n        var rating = assessment.data[idx];\n        const comments = rating.comments_enabled ? rating.comments : rating.description;\n\n        if (rating.comments_enabled && rating.comments_html) {\n          var comments_html = rating.comments_html;\n        } else {\n          var comments_html = Object(html_escape__WEBPACK_IMPORTED_MODULE_5__[\"default\"])(comments);\n        }\n\n        const $criterion = $rubric.find('#criterion_' + rating.criterion_id);\n\n        if (!rating.id) {\n          $criterion.find('.rating').each(function () {\n            const rating_val = parseFloat(jquery__WEBPACK_IMPORTED_MODULE_1___default()(this).find('.points').text(), 10);\n\n            if (rating_val == rating.points) {\n              rating.id = jquery__WEBPACK_IMPORTED_MODULE_1___default()(this).find('.rating_id').text();\n            }\n          });\n        }\n\n        if (submitted_data && $criterion.hasClass('learning_outcome_criterion')) {\n          rubricAssessment.checkScoreAdjustment($criterion, rating, submitted_data);\n        }\n\n        $criterion.find('.custom_rating_field').val(comments).end().find('.custom_rating_comments').html(comments_html).end().find('.criterion_points').val(window.rubricAssessment.roundAndFormat(rating.points)).change().end().find('.criterion_rating_points_holder').showIf(rating.points || rating.points === 0).end().find('.criterion_rating_points').text(window.rubricAssessment.roundAndFormat(rating.points)).end().find('.custom_rating').text(comments).end().find('.criterion_comments').toggleClass('empty', !comments).end().find('.save_custom_rating').attr('checked', false);\n\n        if (ratingHasScore(rating)) {\n          $criterion.find('.criterion_description').addClass('original_completed').end().find('#rating_' + rating.id).addClass('original_selected').addClass('selected').end();\n          rubricAssessment.highlightCriterionScore($criterion, rating.points);\n\n          if (!rating.ignore_for_scoring) {\n            total += rating.points;\n          }\n        }\n\n        if (comments) $criterion.find('.criterion_comments').show();\n      }\n\n      total = window.rubricAssessment.roundAndFormat(total);\n      $rubric.find('.rubric_total').text(total);\n    }\n  },\n\n  populateNewRubricSummary(container, assessment, rubricAssociation, editData) {\n    const el = container.get(0);\n\n    if (ENV.nonScoringRubrics && ENV.rubric) {\n      react_dom__WEBPACK_IMPORTED_MODULE_4___default.a.unmountComponentAtNode(el);\n\n      if (assessment) {\n        const filled = rubricAssessment.fillAssessment(ENV.rubric, assessment || {}, ENV.RUBRIC_ASSESSMENT);\n        react_dom__WEBPACK_IMPORTED_MODULE_4___default.a.render( /*#__PURE__*/react__WEBPACK_IMPORTED_MODULE_3___default.a.createElement(_react_Rubric__WEBPACK_IMPORTED_MODULE_15__[\"default\"], {\n          customRatings: ENV.outcome_proficiency ? ENV.outcome_proficiency.ratings : [],\n          rubric: ENV.rubric,\n          rubricAssessment: filled,\n          rubricAssociation: rubricAssociation,\n          isSummary: true\n        }, null), el);\n      } else {\n        el.innerHTML = '';\n      }\n    } else {\n      rubricAssessment.populateRubricSummary(container, assessment, editData);\n    }\n  },\n\n  populateRubricSummary($rubricSummary, data, editing_data) {\n    $rubricSummary.find('.criterion_points').text('').end().find('.rating_custom').text('');\n\n    if (data) {\n      const assessment = data;\n      let total = 0;\n      let $criterion = null;\n\n      for (let idx = 0; idx < assessment.data.length; idx++) {\n        const rating = assessment.data[idx];\n        $criterion = $rubricSummary.find('#criterion_' + rating.criterion_id);\n\n        if (editing_data && $criterion.hasClass('learning_outcome_criterion')) {\n          rubricAssessment.checkScoreAdjustment($criterion, rating, editing_data);\n        }\n\n        $criterion.find('.rating').hide().end().find('.rating_' + rating.id).show().end().find('.criterion_points').text(window.rubricAssessment.roundAndFormat(rating.points)).end().find('.ignore_for_scoring').showIf(rating.ignore_for_scoring);\n\n        if (ratingHasScore(rating) && !$rubricSummary.hasClass('free_form')) {\n          $criterion.find('.rating.description').show().text(rating.description).end();\n        }\n\n        if (rating.comments_enabled && rating.comments) {\n          $criterion.find('.rating_custom').show().text(rating.comments);\n        }\n\n        if (rating.points && !rating.ignore_for_scoring) {\n          total += rating.points;\n        }\n      }\n\n      total = window.rubricAssessment.roundAndFormat(total, round__WEBPACK_IMPORTED_MODULE_7__[\"default\"].DEFAULT);\n      $rubricSummary.show().find('.rubric_total').text(total);\n      $rubricSummary.closest('.edit').show();\n    } else {\n      $rubricSummary.hide();\n    }\n  },\n\n  /**\n   * Returns n rounded and formatted with I18n.n.\n   * If n is null, undefined or empty string, empty string is returned.\n   */\n  roundAndFormat(n) {\n    if (n == null || n === '') {\n      return '';\n    }\n\n    return i18n_rubric_assessment__WEBPACK_IMPORTED_MODULE_0__[\"default\"].n(Object(round__WEBPACK_IMPORTED_MODULE_7__[\"default\"])(n, round__WEBPACK_IMPORTED_MODULE_7__[\"default\"].DEFAULT));\n  }\n\n};\n\nfunction ratingHasScore(rating) {\n  return rating.points || rating.points === 0;\n}\n\njquery__WEBPACK_IMPORTED_MODULE_1___default()(rubricAssessment.init);\n/* harmony default export */ __webpack_exports__[\"default\"] = (rubricAssessment);\n\n//# sourceURL=webpack:///./ui/shared/rubrics/jquery/rubric_assessment.js?");

/***/ }),

/***/ "SHOu":
/*!**********************************************************************************!*\
  !*** ./frontend_build/i18n.js?rubric_assessment!./ui/shims/dummyI18nResource.js ***!
  \**********************************************************************************/
/*! exports provided: default */
/***/ (function(module, __webpack_exports__, __webpack_require__) {

"use strict";
eval("__webpack_require__.r(__webpack_exports__);\n/* harmony import */ var _canvas_i18n_i18nObj__WEBPACK_IMPORTED_MODULE_0__ = __webpack_require__(/*! @canvas/i18n/i18nObj */ \"HGxv\");\n/* harmony import */ var translations_core_en__WEBPACK_IMPORTED_MODULE_1__ = __webpack_require__(/*! translations/_core_en */ \"0sPK\");\n\n    \n    \n    \n\n    /* harmony default export */ __webpack_exports__[\"default\"] = (_canvas_i18n_i18nObj__WEBPACK_IMPORTED_MODULE_0__[\"default\"].scoped('rubric_assessment'));\n  \n\n//# sourceURL=webpack:///./ui/shims/dummyI18nResource.js?./frontend_build/i18n.js?rubric_assessment");

/***/ }),

/***/ "THgR":
/*!**********************************************************************************!*\
  !*** ./frontend_build/i18n.js?gradingStatusPill!./ui/shims/dummyI18nResource.js ***!
  \**********************************************************************************/
/*! exports provided: default */
/***/ (function(module, __webpack_exports__, __webpack_require__) {

"use strict";
eval("__webpack_require__.r(__webpack_exports__);\n/* harmony import */ var _canvas_i18n_i18nObj__WEBPACK_IMPORTED_MODULE_0__ = __webpack_require__(/*! @canvas/i18n/i18nObj */ \"HGxv\");\n/* harmony import */ var translations_core_en__WEBPACK_IMPORTED_MODULE_1__ = __webpack_require__(/*! translations/_core_en */ \"0sPK\");\n\n    \n    \n    \n\n    /* harmony default export */ __webpack_exports__[\"default\"] = (_canvas_i18n_i18nObj__WEBPACK_IMPORTED_MODULE_0__[\"default\"].scoped('gradingStatusPill'));\n  \n\n//# sourceURL=webpack:///./ui/shims/dummyI18nResource.js?./frontend_build/i18n.js?gradingStatusPill");

/***/ }),

/***/ "bt35":
/*!******************************************************!*\
  !*** ./ui/shared/grading-status-pill/react/index.js ***!
  \******************************************************/
/*! exports provided: default */
/***/ (function(module, __webpack_exports__, __webpack_require__) {

"use strict";
eval("__webpack_require__.r(__webpack_exports__);\n/* harmony import */ var react__WEBPACK_IMPORTED_MODULE_0__ = __webpack_require__(/*! react */ \"q1tI\");\n/* harmony import */ var react__WEBPACK_IMPORTED_MODULE_0___default = /*#__PURE__*/__webpack_require__.n(react__WEBPACK_IMPORTED_MODULE_0__);\n/* harmony import */ var react_dom__WEBPACK_IMPORTED_MODULE_1__ = __webpack_require__(/*! react-dom */ \"i8i4\");\n/* harmony import */ var react_dom__WEBPACK_IMPORTED_MODULE_1___default = /*#__PURE__*/__webpack_require__.n(react_dom__WEBPACK_IMPORTED_MODULE_1__);\n/* harmony import */ var _instructure_ui_pill__WEBPACK_IMPORTED_MODULE_2__ = __webpack_require__(/*! @instructure/ui-pill */ \"nJOR\");\n/* harmony import */ var i18n_gradingStatusPill__WEBPACK_IMPORTED_MODULE_3__ = __webpack_require__(/*! i18n!gradingStatusPill */ \"THgR\");\n/*\n * Copyright (C) 2017 - present Instructure, Inc.\n *\n * This file is part of Canvas.\n *\n * Canvas is free software: you can redistribute it and/or modify it under\n * the terms of the GNU Affero General Public License as published by the Free\n * Software Foundation, version 3 of the License.\n *\n * Canvas is distributed in the hope that it will be useful, but WITHOUT ANY\n * WARRANTY; without even the implied warranty of MERCHANTABILITY or FITNESS FOR\n * A PARTICULAR PURPOSE. See the GNU Affero General Public License for more\n * details.\n *\n * You should have received a copy of the GNU Affero General Public License along\n * with this program. If not, see <http://www.gnu.org/licenses/>.\n */\n\n\n\n\n\nfunction forEachNode(nodeList, fn) {\n  for (let i = 0; i < nodeList.length; i += 1) {\n    fn(nodeList[i]);\n  }\n}\n\n/* harmony default export */ __webpack_exports__[\"default\"] = ({\n  renderPills() {\n    const missMountPoints = document.querySelectorAll('.submission-missing-pill');\n    const lateMountPoints = document.querySelectorAll('.submission-late-pill');\n    const excusedMountPoints = document.querySelectorAll('.submission-excused-pill');\n    forEachNode(missMountPoints, mountPoint => {\n      react_dom__WEBPACK_IMPORTED_MODULE_1___default.a.render( /*#__PURE__*/react__WEBPACK_IMPORTED_MODULE_0___default.a.createElement(_instructure_ui_pill__WEBPACK_IMPORTED_MODULE_2__[\"Pill\"], {\n        variant: \"danger\",\n        text: i18n_gradingStatusPill__WEBPACK_IMPORTED_MODULE_3__[\"default\"].t('missing')\n      }), mountPoint);\n    });\n    forEachNode(lateMountPoints, mountPoint => {\n      react_dom__WEBPACK_IMPORTED_MODULE_1___default.a.render( /*#__PURE__*/react__WEBPACK_IMPORTED_MODULE_0___default.a.createElement(_instructure_ui_pill__WEBPACK_IMPORTED_MODULE_2__[\"Pill\"], {\n        variant: \"danger\",\n        text: i18n_gradingStatusPill__WEBPACK_IMPORTED_MODULE_3__[\"default\"].t('late')\n      }), mountPoint);\n    });\n    forEachNode(excusedMountPoints, mountPoint => {\n      react_dom__WEBPACK_IMPORTED_MODULE_1___default.a.render( /*#__PURE__*/react__WEBPACK_IMPORTED_MODULE_0___default.a.createElement(_instructure_ui_pill__WEBPACK_IMPORTED_MODULE_2__[\"Pill\"], {\n        variant: \"danger\",\n        text: i18n_gradingStatusPill__WEBPACK_IMPORTED_MODULE_3__[\"default\"].t('excused')\n      }), mountPoint);\n    });\n  }\n\n});\n\n//# sourceURL=webpack:///./ui/shared/grading-status-pill/react/index.js?");

/***/ }),

/***/ "lBOK":
/*!*************************************************!*\
  !*** ./ui/shared/loading-image/jquery/index.js ***!
  \*************************************************/
/*! no exports provided */
/***/ (function(module, __webpack_exports__, __webpack_require__) {

"use strict";
eval("__webpack_require__.r(__webpack_exports__);\n/* harmony import */ var jquery__WEBPACK_IMPORTED_MODULE_0__ = __webpack_require__(/*! jquery */ \"ouhR\");\n/* harmony import */ var jquery__WEBPACK_IMPORTED_MODULE_0___default = /*#__PURE__*/__webpack_require__.n(jquery__WEBPACK_IMPORTED_MODULE_0__);\n/*\n * Copyright (C) 2011 - present Instructure, Inc.\n *\n * This file is part of Canvas.\n *\n * Canvas is free software: you can redistribute it and/or modify it under\n * the terms of the GNU Affero General Public License as published by the Free\n * Software Foundation, version 3 of the License.\n *\n * Canvas is distributed in the hope that it will be useful, but WITHOUT ANY\n * WARRANTY; without even the implied warranty of MERCHANTABILITY or FITNESS FOR\n * A PARTICULAR PURPOSE. See the GNU Affero General Public License for more\n * details.\n *\n * You should have received a copy of the GNU Affero General Public License along\n * with this program. If not, see <http://www.gnu.org/licenses/>.\n */\n // Shows an ajax-loading image on the given object.\n\njquery__WEBPACK_IMPORTED_MODULE_0___default.a.fn.loadingImg = function (options) {\n  if (!this || this.length === 0) {\n    return this;\n  }\n\n  const dir = window.getComputedStyle(this[0]).direction || 'ltr';\n  const $obj = this.filter(':first');\n  let list;\n\n  if (options === 'hide' || options === 'remove') {\n    $obj.children('.loading_image').remove();\n    list = $obj.data('loading_images') || [];\n    list.forEach(item => {\n      if (item) {\n        item.remove();\n      }\n    });\n    $obj.data('loading_images', null);\n    this.css('margin-inline-end', '');\n    return this;\n  } else if (options === 'remove_once') {\n    $obj.children('.loading_image').remove();\n    list = $obj.data('loading_images') || [];\n    const img = list.pop();\n\n    if (img) {\n      img.remove();\n    }\n\n    $obj.data('loading_images', list);\n    return this;\n  } else if (options === 'register_image' && arguments.length === 3) {\n    jquery__WEBPACK_IMPORTED_MODULE_0___default.a.fn.loadingImg.image_files[arguments[1]] = arguments[2];\n    return this;\n  }\n\n  options = jquery__WEBPACK_IMPORTED_MODULE_0___default.a.extend({}, jquery__WEBPACK_IMPORTED_MODULE_0___default.a.fn.loadingImg.defaults, options);\n  let image = jquery__WEBPACK_IMPORTED_MODULE_0___default.a.fn.loadingImg.image_files.normal;\n\n  if (options.image_size && jquery__WEBPACK_IMPORTED_MODULE_0___default.a.fn.loadingImg.image_files[options.image_size]) {\n    image = jquery__WEBPACK_IMPORTED_MODULE_0___default.a.fn.loadingImg.image_files[options.image_size];\n  }\n\n  if (options.paddingTop) {\n    options.vertical = options.paddingTop;\n  }\n\n  let paddingTop = 0;\n\n  if (options.vertical) {\n    if (options.vertical === 'top') {// nothing to do\n    } else if (options.vertical === 'bottom') {\n      paddingTop = $obj.outerHeight();\n    } else if (options.vertical === 'middle') {\n      paddingTop = $obj.outerHeight() / 2 - image.height / 2;\n    } else {\n      paddingTop = parseInt(options.vertical, 10); // eslint-disable-next-line no-restricted-globals\n\n      if (isNaN(paddingTop)) {\n        paddingTop = 0;\n      }\n    }\n  }\n\n  let paddingLeft = 0;\n\n  if (options.horizontal) {\n    if (options.horizontal === 'left') {// nothing to do\n    } else if (options.horizontal === 'right') {\n      paddingLeft = $obj.outerWidth() - image.width;\n    } else if (options.horizontal === 'right!') {\n      paddingLeft = dir === 'ltr' ? $obj.outerWidth() + 5 : -5 - (image.width || 16);\n      this.css({\n        'margin-inline-end': '16px'\n      });\n    } else if (options.horizontal === 'middle') {\n      paddingLeft = $obj.outerWidth() / 2 - image.width / 2;\n    } else {\n      paddingLeft = parseInt(options.horizontal, 10); // eslint-disable-next-line no-restricted-globals\n\n      if (isNaN(paddingLeft)) {\n        paddingLeft = 0;\n      }\n    }\n  }\n\n  const zIndex = $obj.zIndex() + 1;\n  const $imageHolder = jquery__WEBPACK_IMPORTED_MODULE_0___default()(document.createElement('div')).addClass('loading_image_holder');\n  const $image = jquery__WEBPACK_IMPORTED_MODULE_0___default()(document.createElement('img')).attr('src', image.url);\n  $imageHolder.append($image);\n  list = $obj.data('loading_images') || [];\n  list.push($imageHolder);\n  $obj.data('loading_images', list);\n\n  if (!$obj.css('position') || $obj.css('position') === 'static') {\n    const offset = $obj.offset();\n    let top = offset.top,\n        left = offset.left;\n\n    if (options.vertical) {\n      top += paddingTop;\n    }\n\n    if (options.horizontal) {\n      left += paddingLeft;\n    }\n\n    $imageHolder.css({\n      zIndex,\n      position: 'absolute',\n      top,\n      left\n    });\n    jquery__WEBPACK_IMPORTED_MODULE_0___default()('body').append($imageHolder);\n  } else {\n    $imageHolder.css({\n      zIndex,\n      position: 'absolute',\n      top: paddingTop,\n      left: paddingLeft\n    });\n    $obj.append($imageHolder);\n  }\n\n  return jquery__WEBPACK_IMPORTED_MODULE_0___default()(this);\n};\n\njquery__WEBPACK_IMPORTED_MODULE_0___default.a.fn.loadingImg.defaults = {\n  paddingTop: 0,\n  image_size: 'normal',\n  vertical: 0,\n  horizontal: 0\n};\njquery__WEBPACK_IMPORTED_MODULE_0___default.a.fn.loadingImg.image_files = {\n  normal: {\n    url: '/images/ajax-loader.gif',\n    width: 32,\n    height: 32\n  },\n  small: {\n    url: '/images/ajax-loader-small.gif',\n    width: 16,\n    height: 16\n  }\n};\njquery__WEBPACK_IMPORTED_MODULE_0___default.a.fn.loadingImage = jquery__WEBPACK_IMPORTED_MODULE_0___default.a.fn.loadingImg;\n\n//# sourceURL=webpack:///./ui/shared/loading-image/jquery/index.js?");

/***/ }),

/***/ "stQK":
/*!**************************************************!*\
  !*** ./ui/shared/util/closedCaptionLanguages.js ***!
  \**************************************************/
/*! exports provided: default */
/***/ (function(module, __webpack_exports__, __webpack_require__) {

"use strict";
eval("__webpack_require__.r(__webpack_exports__);\n/* harmony import */ var i18n_closedCaptionLanguages__WEBPACK_IMPORTED_MODULE_0__ = __webpack_require__(/*! i18n!closedCaptionLanguages */ \"4BsA\");\n/*\n * Copyright (C) 2018 - present Instructure, Inc.\n *\n * This file is part of Canvas.\n *\n * Canvas is free software: you can redistribute it and/or modify it under\n * the terms of the GNU Affero General Public License as published by the Free\n * Software Foundation, version 3 of the License.\n *\n * Canvas is distributed in the hope that it will be useful, but WITHOUT ANY\n * WARRANTY; without even the implied warranty of MERCHANTABILITY or FITNESS FOR\n * A PARTICULAR PURPOSE. See the GNU Affero General Public License for more\n * details.\n *\n * You should have received a copy of the GNU Affero General Public License along\n * with this program. If not, see <http://www.gnu.org/licenses/>.\n */\n\nconst closedCaptionLanguages = {\n  get af() {\n    return i18n_closedCaptionLanguages__WEBPACK_IMPORTED_MODULE_0__[\"default\"].t('Afrikaans');\n  },\n\n  get sq() {\n    return i18n_closedCaptionLanguages__WEBPACK_IMPORTED_MODULE_0__[\"default\"].t('Albanian');\n  },\n\n  get ar() {\n    return i18n_closedCaptionLanguages__WEBPACK_IMPORTED_MODULE_0__[\"default\"].t('Arabic');\n  },\n\n  get be() {\n    return i18n_closedCaptionLanguages__WEBPACK_IMPORTED_MODULE_0__[\"default\"].t('Belarusian');\n  },\n\n  get bg() {\n    return i18n_closedCaptionLanguages__WEBPACK_IMPORTED_MODULE_0__[\"default\"].t('Bulgarian');\n  },\n\n  get ca() {\n    return i18n_closedCaptionLanguages__WEBPACK_IMPORTED_MODULE_0__[\"default\"].t('Catalan');\n  },\n\n  get zh() {\n    return i18n_closedCaptionLanguages__WEBPACK_IMPORTED_MODULE_0__[\"default\"].t('Chinese');\n  },\n\n  get hr() {\n    return i18n_closedCaptionLanguages__WEBPACK_IMPORTED_MODULE_0__[\"default\"].t('Croatian');\n  },\n\n  get cs() {\n    return i18n_closedCaptionLanguages__WEBPACK_IMPORTED_MODULE_0__[\"default\"].t('Czech');\n  },\n\n  get da() {\n    return i18n_closedCaptionLanguages__WEBPACK_IMPORTED_MODULE_0__[\"default\"].t('Danish');\n  },\n\n  get nl() {\n    return i18n_closedCaptionLanguages__WEBPACK_IMPORTED_MODULE_0__[\"default\"].t('Dutch');\n  },\n\n  get en() {\n    return i18n_closedCaptionLanguages__WEBPACK_IMPORTED_MODULE_0__[\"default\"].t('English');\n  },\n\n  get et() {\n    return i18n_closedCaptionLanguages__WEBPACK_IMPORTED_MODULE_0__[\"default\"].t('Estonian');\n  },\n\n  get fl() {\n    return i18n_closedCaptionLanguages__WEBPACK_IMPORTED_MODULE_0__[\"default\"].t('Filipino');\n  },\n\n  get fi() {\n    return i18n_closedCaptionLanguages__WEBPACK_IMPORTED_MODULE_0__[\"default\"].t('Finnish');\n  },\n\n  get fr() {\n    return i18n_closedCaptionLanguages__WEBPACK_IMPORTED_MODULE_0__[\"default\"].t('French');\n  },\n\n  get gl() {\n    return i18n_closedCaptionLanguages__WEBPACK_IMPORTED_MODULE_0__[\"default\"].t('Galician');\n  },\n\n  get de() {\n    return i18n_closedCaptionLanguages__WEBPACK_IMPORTED_MODULE_0__[\"default\"].t('German');\n  },\n\n  get el() {\n    return i18n_closedCaptionLanguages__WEBPACK_IMPORTED_MODULE_0__[\"default\"].t('Greek');\n  },\n\n  get ht() {\n    return i18n_closedCaptionLanguages__WEBPACK_IMPORTED_MODULE_0__[\"default\"].t('Haitian Creole');\n  },\n\n  get hi() {\n    return i18n_closedCaptionLanguages__WEBPACK_IMPORTED_MODULE_0__[\"default\"].t('Hindi');\n  },\n\n  get hu() {\n    return i18n_closedCaptionLanguages__WEBPACK_IMPORTED_MODULE_0__[\"default\"].t('Hungarian');\n  },\n\n  get is() {\n    return i18n_closedCaptionLanguages__WEBPACK_IMPORTED_MODULE_0__[\"default\"].t('Icelandic');\n  },\n\n  get id() {\n    return i18n_closedCaptionLanguages__WEBPACK_IMPORTED_MODULE_0__[\"default\"].t('Indonesian');\n  },\n\n  get ga() {\n    return i18n_closedCaptionLanguages__WEBPACK_IMPORTED_MODULE_0__[\"default\"].t('Irish');\n  },\n\n  get it() {\n    return i18n_closedCaptionLanguages__WEBPACK_IMPORTED_MODULE_0__[\"default\"].t('Italian');\n  },\n\n  get ja() {\n    return i18n_closedCaptionLanguages__WEBPACK_IMPORTED_MODULE_0__[\"default\"].t('Japanese');\n  },\n\n  get ko() {\n    return i18n_closedCaptionLanguages__WEBPACK_IMPORTED_MODULE_0__[\"default\"].t('Korean');\n  },\n\n  get lv() {\n    return i18n_closedCaptionLanguages__WEBPACK_IMPORTED_MODULE_0__[\"default\"].t('Latvian');\n  },\n\n  get lt() {\n    return i18n_closedCaptionLanguages__WEBPACK_IMPORTED_MODULE_0__[\"default\"].t('Lithuanian');\n  },\n\n  get mk() {\n    return i18n_closedCaptionLanguages__WEBPACK_IMPORTED_MODULE_0__[\"default\"].t('Macedonian');\n  },\n\n  get ms() {\n    return i18n_closedCaptionLanguages__WEBPACK_IMPORTED_MODULE_0__[\"default\"].t('Malay');\n  },\n\n  get mt() {\n    return i18n_closedCaptionLanguages__WEBPACK_IMPORTED_MODULE_0__[\"default\"].t('Maltese');\n  },\n\n  get no() {\n    return i18n_closedCaptionLanguages__WEBPACK_IMPORTED_MODULE_0__[\"default\"].t('Norwegian');\n  },\n\n  get fa() {\n    return i18n_closedCaptionLanguages__WEBPACK_IMPORTED_MODULE_0__[\"default\"].t('Persian');\n  },\n\n  get pl() {\n    return i18n_closedCaptionLanguages__WEBPACK_IMPORTED_MODULE_0__[\"default\"].t('Polish');\n  },\n\n  get pt() {\n    return i18n_closedCaptionLanguages__WEBPACK_IMPORTED_MODULE_0__[\"default\"].t('Portuguese');\n  },\n\n  get ro() {\n    return i18n_closedCaptionLanguages__WEBPACK_IMPORTED_MODULE_0__[\"default\"].t('Romanian');\n  },\n\n  get ru() {\n    return i18n_closedCaptionLanguages__WEBPACK_IMPORTED_MODULE_0__[\"default\"].t('Russian');\n  },\n\n  get sr() {\n    return i18n_closedCaptionLanguages__WEBPACK_IMPORTED_MODULE_0__[\"default\"].t('Serbian');\n  },\n\n  get sk() {\n    return i18n_closedCaptionLanguages__WEBPACK_IMPORTED_MODULE_0__[\"default\"].t('Slovak');\n  },\n\n  get sl() {\n    return i18n_closedCaptionLanguages__WEBPACK_IMPORTED_MODULE_0__[\"default\"].t('Slovenian');\n  },\n\n  get es() {\n    return i18n_closedCaptionLanguages__WEBPACK_IMPORTED_MODULE_0__[\"default\"].t('Spanish');\n  },\n\n  get sw() {\n    return i18n_closedCaptionLanguages__WEBPACK_IMPORTED_MODULE_0__[\"default\"].t('Swahili');\n  },\n\n  get sv() {\n    return i18n_closedCaptionLanguages__WEBPACK_IMPORTED_MODULE_0__[\"default\"].t('Swedish');\n  },\n\n  get tl() {\n    return i18n_closedCaptionLanguages__WEBPACK_IMPORTED_MODULE_0__[\"default\"].t('Tagalog');\n  },\n\n  get th() {\n    return i18n_closedCaptionLanguages__WEBPACK_IMPORTED_MODULE_0__[\"default\"].t('Thai');\n  },\n\n  get tr() {\n    return i18n_closedCaptionLanguages__WEBPACK_IMPORTED_MODULE_0__[\"default\"].t('Turkish');\n  },\n\n  get uk() {\n    return i18n_closedCaptionLanguages__WEBPACK_IMPORTED_MODULE_0__[\"default\"].t('Ukrainian');\n  },\n\n  get vi() {\n    return i18n_closedCaptionLanguages__WEBPACK_IMPORTED_MODULE_0__[\"default\"].t('Vietnamese');\n  },\n\n  get cy() {\n    return i18n_closedCaptionLanguages__WEBPACK_IMPORTED_MODULE_0__[\"default\"].t('Welsh');\n  },\n\n  get yi() {\n    return i18n_closedCaptionLanguages__WEBPACK_IMPORTED_MODULE_0__[\"default\"].t('Yiddish');\n  },\n\n  get 'en-CA'() {\n    return i18n_closedCaptionLanguages__WEBPACK_IMPORTED_MODULE_0__[\"default\"].t('English (Canada)');\n  },\n\n  // added when we expanded CC languages to all\n  // those supported in canvas\n  get 'en-AU'() {\n    return i18n_closedCaptionLanguages__WEBPACK_IMPORTED_MODULE_0__[\"default\"].t('English (Australia)');\n  },\n\n  get 'en-GB'() {\n    return i18n_closedCaptionLanguages__WEBPACK_IMPORTED_MODULE_0__[\"default\"].t('English (United Kingdom)');\n  },\n\n  get 'fr-CA'() {\n    return i18n_closedCaptionLanguages__WEBPACK_IMPORTED_MODULE_0__[\"default\"].t('French (Canada)');\n  },\n\n  get he() {\n    return i18n_closedCaptionLanguages__WEBPACK_IMPORTED_MODULE_0__[\"default\"].t('Hebrew');\n  },\n\n  get hy() {\n    return i18n_closedCaptionLanguages__WEBPACK_IMPORTED_MODULE_0__[\"default\"].t('Armenian');\n  },\n\n  get mi() {\n    return i18n_closedCaptionLanguages__WEBPACK_IMPORTED_MODULE_0__[\"default\"].t('Māori (New Zealand)');\n  },\n\n  get nb() {\n    return i18n_closedCaptionLanguages__WEBPACK_IMPORTED_MODULE_0__[\"default\"].t('Norwegian Bokmål');\n  },\n\n  get nn() {\n    return i18n_closedCaptionLanguages__WEBPACK_IMPORTED_MODULE_0__[\"default\"].t('Norwegian Nynorsk');\n  },\n\n  get 'zh-Hans'() {\n    return i18n_closedCaptionLanguages__WEBPACK_IMPORTED_MODULE_0__[\"default\"].t('Chinese Simplified');\n  },\n\n  get 'zh-Hant'() {\n    return i18n_closedCaptionLanguages__WEBPACK_IMPORTED_MODULE_0__[\"default\"].t('Chinese Traditional');\n  }\n\n};\n/* harmony default export */ __webpack_exports__[\"default\"] = (closedCaptionLanguages);\n\n//# sourceURL=webpack:///./ui/shared/util/closedCaptionLanguages.js?");

/***/ }),

/***/ "xp+O":
/*!*************************************************!*\
  !*** ./ui/features/submissions/jquery/index.js ***!
  \*************************************************/
/*! exports provided: setup, teardown */
/***/ (function(module, __webpack_exports__, __webpack_require__) {

"use strict";
eval("__webpack_require__.r(__webpack_exports__);\n/* harmony export (binding) */ __webpack_require__.d(__webpack_exports__, \"setup\", function() { return setup; });\n/* harmony export (binding) */ __webpack_require__.d(__webpack_exports__, \"teardown\", function() { return teardown; });\n/* harmony import */ var round__WEBPACK_IMPORTED_MODULE_0__ = __webpack_require__(/*! round */ \"xvQv\");\n/* harmony import */ var i18n_submissions__WEBPACK_IMPORTED_MODULE_1__ = __webpack_require__(/*! i18n!submissions */ \"zakt\");\n/* harmony import */ var jquery__WEBPACK_IMPORTED_MODULE_2__ = __webpack_require__(/*! jquery */ \"ouhR\");\n/* harmony import */ var jquery__WEBPACK_IMPORTED_MODULE_2___default = /*#__PURE__*/__webpack_require__.n(jquery__WEBPACK_IMPORTED_MODULE_2__);\n/* harmony import */ var _canvas_grading_GradeFormatHelper__WEBPACK_IMPORTED_MODULE_3__ = __webpack_require__(/*! @canvas/grading/GradeFormatHelper */ \"5Pfy\");\n/* harmony import */ var _canvas_jquery_jquery_ajaxJSON__WEBPACK_IMPORTED_MODULE_4__ = __webpack_require__(/*! @canvas/jquery/jquery.ajaxJSON */ \"dhbk\");\n/* harmony import */ var _canvas_forms_jquery_jquery_instructure_forms__WEBPACK_IMPORTED_MODULE_5__ = __webpack_require__(/*! @canvas/forms/jquery/jquery.instructure_forms */ \"Dhso\");\n/* harmony import */ var _canvas_datetime__WEBPACK_IMPORTED_MODULE_6__ = __webpack_require__(/*! @canvas/datetime */ \"7AEQ\");\n/* harmony import */ var _canvas_jquery_jquery_instructure_misc_plugins__WEBPACK_IMPORTED_MODULE_7__ = __webpack_require__(/*! @canvas/jquery/jquery.instructure_misc_plugins */ \"aq8L\");\n/* harmony import */ var _canvas_loading_image__WEBPACK_IMPORTED_MODULE_8__ = __webpack_require__(/*! @canvas/loading-image */ \"lBOK\");\n/* harmony import */ var _canvas_util_templateData__WEBPACK_IMPORTED_MODULE_9__ = __webpack_require__(/*! @canvas/util/templateData */ \"TvTI\");\n/* harmony import */ var _canvas_media_comments__WEBPACK_IMPORTED_MODULE_10__ = __webpack_require__(/*! @canvas/media-comments */ \"Dh7j\");\n/* harmony import */ var _canvas_media_comments_jquery_mediaCommentThumbnail__WEBPACK_IMPORTED_MODULE_11__ = __webpack_require__(/*! @canvas/media-comments/jquery/mediaCommentThumbnail */ \"bbn0\");\n/* harmony import */ var jquery_scroll_to_visible_jquery_scrollTo__WEBPACK_IMPORTED_MODULE_12__ = __webpack_require__(/*! jquery-scroll-to-visible/jquery.scrollTo */ \"w2hD\");\n/* harmony import */ var _canvas_rubrics_jquery_rubric_assessment__WEBPACK_IMPORTED_MODULE_13__ = __webpack_require__(/*! @canvas/rubrics/jquery/rubric_assessment */ \"MJ1T\");\n/*\n * Copyright (C) 2012 - present Instructure, Inc.\n *\n * This file is part of Canvas.\n *\n * Canvas is free software: you can redistribute it and/or modify it under\n * the terms of the GNU Affero General Public License as published by the Free\n * Software Foundation, version 3 of the License.\n *\n * Canvas is distributed in the hope that it will be useful, but WITHOUT ANY\n * WARRANTY; without even the implied warranty of MERCHANTABILITY or FITNESS FOR\n * A PARTICULAR PURPOSE. See the GNU Affero General Public License for more\n * details.\n *\n * You should have received a copy of the GNU Affero General Public License along\n * with this program. If not, see <http://www.gnu.org/licenses/>.\n */\n\n\n\n\n\n\n/* ajaxJSONFiles */\n\n\n/* datetimeString */\n\n\n/* fragmentChange, showIf */\n\n\n\n\n\n\n\n/* global rubricAssessment */\n\nconst rubricAssessments = ENV.rubricAssessments;\njquery__WEBPACK_IMPORTED_MODULE_2___default()('#content').addClass('padless');\nlet fileIndex = 1;\n\nfunction submissionLoaded(data) {\n  if (data.submission) {\n    const d = [];\n    d.push(data);\n    data = d;\n  }\n\n  for (var jdx in data) {\n    const submission = data[jdx].submission;\n    const comments = submission.visible_submission_comments || submission.submission_comments;\n    const anonymizableId = ENV.SUBMISSION.user_id ? 'user_id' : 'anonymous_id'; // Be sure not to compare numeric and stringified user IDs\n\n    if (submission[anonymizableId].toString() !== ENV.SUBMISSION[anonymizableId]) {\n      continue;\n    }\n\n    for (const idx in comments) {\n      const comment = comments[idx].submission_comment || comments[idx];\n\n      if (jquery__WEBPACK_IMPORTED_MODULE_2___default()('#submission_comment_' + comment.id).length > 0) {\n        continue;\n      }\n\n      const $comment = jquery__WEBPACK_IMPORTED_MODULE_2___default()('#comment_blank').clone(true).removeAttr('id');\n      comment.posted_at = jquery__WEBPACK_IMPORTED_MODULE_2___default.a.datetimeString(comment.created_at);\n      $comment.fillTemplateData({\n        data: comment,\n        id: 'submission_comment_' + comment.id\n      });\n\n      if (comment.media_comment_id) {\n        const $media_comment_link = jquery__WEBPACK_IMPORTED_MODULE_2___default()('#comment_media_blank').clone(true).removeAttr('id');\n        $media_comment_link.fillTemplateData({\n          data: comment\n        });\n        $comment.find('.comment').empty().append($media_comment_link.show());\n      } else {\n        for (var jdx in comment.attachments) {\n          const attachment = comment.attachments[jdx].attachment;\n          const $attachment = jquery__WEBPACK_IMPORTED_MODULE_2___default()('#comment_attachment_blank').clone(true).removeAttr('id');\n          attachment.comment_id = comment.id;\n          $attachment.fillTemplateData({\n            data: attachment,\n            hrefValues: ['comment_id', 'id']\n          });\n          $comment.find('.comment_attachments').append($attachment.show());\n        }\n      }\n\n      jquery__WEBPACK_IMPORTED_MODULE_2___default()('.comments .comment_list').append($comment.show()).scrollTop(10000);\n\n      if (jquery__WEBPACK_IMPORTED_MODULE_2___default()('.grading_comment').val() === comment.comment) {\n        jquery__WEBPACK_IMPORTED_MODULE_2___default()('.grading_comment').val('');\n      }\n    }\n\n    jquery__WEBPACK_IMPORTED_MODULE_2___default()('.comments .comment_list .play_comment_link').mediaCommentThumbnail('small');\n    jquery__WEBPACK_IMPORTED_MODULE_2___default()('.save_comment_button').attr('disabled', null);\n\n    if (submission) {\n      showGrade(submission);\n      jquery__WEBPACK_IMPORTED_MODULE_2___default()('.submission_details').fillTemplateData({\n        data: submission\n      });\n      jquery__WEBPACK_IMPORTED_MODULE_2___default()('#add_comment_form .comment_attachments').empty();\n    }\n  }\n\n  jquery__WEBPACK_IMPORTED_MODULE_2___default()('.submission_header').loadingImage('remove');\n}\n\nfunction callIfSet(value, fn) {\n  return value == null ? '' : fn.call(this, value);\n}\n\nfunction roundAndFormat(value) {\n  return i18n_submissions__WEBPACK_IMPORTED_MODULE_1__[\"default\"].n(Object(round__WEBPACK_IMPORTED_MODULE_0__[\"default\"])(value, round__WEBPACK_IMPORTED_MODULE_0__[\"default\"].DEFAULT));\n}\n\nfunction showGrade(submission) {\n  if (['pass', 'fail', 'complete', 'incomplete'].indexOf(submission.entered_grade) > -1) {\n    jquery__WEBPACK_IMPORTED_MODULE_2___default()('.grading_box').val(submission.entered_grade);\n  } else {\n    jquery__WEBPACK_IMPORTED_MODULE_2___default()('.grading_box').val(callIfSet(submission.entered_grade, _canvas_grading_GradeFormatHelper__WEBPACK_IMPORTED_MODULE_3__[\"default\"].formatGrade));\n  }\n\n  jquery__WEBPACK_IMPORTED_MODULE_2___default()('.late_penalty').text(callIfSet(-submission.points_deducted, roundAndFormat));\n  jquery__WEBPACK_IMPORTED_MODULE_2___default()('.published_grade').text(callIfSet(submission.published_grade, _canvas_grading_GradeFormatHelper__WEBPACK_IMPORTED_MODULE_3__[\"default\"].formatGrade));\n  jquery__WEBPACK_IMPORTED_MODULE_2___default()('.grade').text(callIfSet(submission.grade, _canvas_grading_GradeFormatHelper__WEBPACK_IMPORTED_MODULE_3__[\"default\"].formatGrade));\n\n  if (submission.excused) {\n    jquery__WEBPACK_IMPORTED_MODULE_2___default()('.entered_grade').text(i18n_submissions__WEBPACK_IMPORTED_MODULE_1__[\"default\"].t('Excused'));\n  } else {\n    jquery__WEBPACK_IMPORTED_MODULE_2___default()('.entered_grade').text(callIfSet(submission.entered_grade, _canvas_grading_GradeFormatHelper__WEBPACK_IMPORTED_MODULE_3__[\"default\"].formatGrade));\n  }\n\n  if (!submission.excused && submission.points_deducted) {\n    jquery__WEBPACK_IMPORTED_MODULE_2___default()('.late-penalty-display').show();\n  } else {\n    jquery__WEBPACK_IMPORTED_MODULE_2___default()('.late-penalty-display').hide();\n  }\n}\n\nfunction makeRubricAccessible($rubric) {\n  $rubric.show();\n  const $tabs = $rubric.find(':tabbable');\n  const tabBounds = [$tabs.first()[0], $tabs.last()[0]];\n  const keyCodes = {\n    9: 'tab',\n    13: 'enter',\n    27: 'esc'\n  };\n  jquery__WEBPACK_IMPORTED_MODULE_2___default()('.hide_rubric_link').keydown(function (e) {\n    if (keyCodes[e.which] == 'enter') {\n      e.preventDefault();\n      jquery__WEBPACK_IMPORTED_MODULE_2___default()(this).click();\n    }\n  });\n  $tabs.each(function () {\n    jquery__WEBPACK_IMPORTED_MODULE_2___default()(this).bind('keydown', e => {\n      if (keyCodes[e.which] == 'esc') jquery__WEBPACK_IMPORTED_MODULE_2___default()('.hide_rubric_link').click();\n    });\n  });\n  jquery__WEBPACK_IMPORTED_MODULE_2___default()(tabBounds).each(function (e) {\n    jquery__WEBPACK_IMPORTED_MODULE_2___default()(this).bind('keydown', function (e) {\n      if (keyCodes[e.which] == 'tab') {\n        const isLeavingHolder = jquery__WEBPACK_IMPORTED_MODULE_2___default()(this).is(jquery__WEBPACK_IMPORTED_MODULE_2___default()(tabBounds).first()) ? e.shiftKey : !e.shiftKey;\n\n        if (isLeavingHolder) {\n          e.preventDefault();\n          const thisEl = this;\n          const target = jquery__WEBPACK_IMPORTED_MODULE_2___default.a.grep(tabBounds, el => el != thisEl);\n          jquery__WEBPACK_IMPORTED_MODULE_2___default()(target).focus();\n        }\n      }\n    });\n  });\n  $rubric.siblings().attr('data-hide_from_rubric', true).end().parentsUntil('#application').siblings().not('#aria_alerts').attr('data-hide_from_rubric', true);\n  $rubric.hide();\n}\n\nfunction toggleRubric($rubric) {\n  const ariaSetting = $rubric.is(':visible');\n  jquery__WEBPACK_IMPORTED_MODULE_2___default()('#application').find('[data-hide_from_rubric]').attr('aria-hidden', ariaSetting);\n}\n\nfunction closeRubric() {\n  jquery__WEBPACK_IMPORTED_MODULE_2___default()('#rubric_holder').fadeOut(function () {\n    toggleRubric(jquery__WEBPACK_IMPORTED_MODULE_2___default()(this));\n    jquery__WEBPACK_IMPORTED_MODULE_2___default()('.assess_submission_link').focus();\n  });\n}\n\nfunction openRubric() {\n  jquery__WEBPACK_IMPORTED_MODULE_2___default()('#rubric_holder').fadeIn(function () {\n    toggleRubric(jquery__WEBPACK_IMPORTED_MODULE_2___default()(this));\n    jquery__WEBPACK_IMPORTED_MODULE_2___default()(this).find('.hide_rubric_link').focus();\n  });\n}\n\nfunction windowResize() {\n  const $frame = jquery__WEBPACK_IMPORTED_MODULE_2___default()('#preview_frame');\n  const top = $frame.offset().top;\n  const height = jquery__WEBPACK_IMPORTED_MODULE_2___default()(window).height() - top;\n  $frame.height(height);\n  jquery__WEBPACK_IMPORTED_MODULE_2___default()('#rubric_holder').css({\n    maxHeight: height - 50,\n    overflow: 'auto',\n    zIndex: 5\n  });\n  jquery__WEBPACK_IMPORTED_MODULE_2___default()('.comments').height(height);\n} // This `setup` function allows us to control when the setup is triggered.\n// submissions.coffee requires this file and then immediately triggers it,\n// while submissionsSpec.jsx triggers it after setup is complete.\n\n\nfunction setup() {\n  jquery__WEBPACK_IMPORTED_MODULE_2___default()(document).ready(function () {\n    jquery__WEBPACK_IMPORTED_MODULE_2___default()('.comments .comment_list .play_comment_link').mediaCommentThumbnail('small');\n    jquery__WEBPACK_IMPORTED_MODULE_2___default()(window).bind('resize', windowResize).triggerHandler('resize');\n    jquery__WEBPACK_IMPORTED_MODULE_2___default()('.comments_link').click(event => {\n      event.preventDefault();\n      jquery__WEBPACK_IMPORTED_MODULE_2___default()('.comments').slideToggle(() => {\n        jquery__WEBPACK_IMPORTED_MODULE_2___default()('.comments .media_comment_content').empty();\n        jquery__WEBPACK_IMPORTED_MODULE_2___default()('.comments textarea:visible').focus().select();\n      });\n    });\n    jquery__WEBPACK_IMPORTED_MODULE_2___default()('.save_comment_button').click(event => {\n      jquery__WEBPACK_IMPORTED_MODULE_2___default()(document).triggerHandler('comment_change');\n    }); // post new comment but no grade\n\n    jquery__WEBPACK_IMPORTED_MODULE_2___default()(document).bind('comment_change', event => {\n      jquery__WEBPACK_IMPORTED_MODULE_2___default()('.save_comment_button').attr('disabled', 'disabled');\n      jquery__WEBPACK_IMPORTED_MODULE_2___default()('.submission_header').loadingImage();\n      const url = jquery__WEBPACK_IMPORTED_MODULE_2___default()('.update_submission_url').attr('href');\n      const method = jquery__WEBPACK_IMPORTED_MODULE_2___default()('.update_submission_url').attr('title');\n      const formData = {\n        'submission[assignment_id]': ENV.SUBMISSION.assignment_id,\n        'submission[group_comment]': jquery__WEBPACK_IMPORTED_MODULE_2___default()('#submission_group_comment').attr('checked') ? '1' : '0'\n      };\n      const anonymizableIdKey = ENV.SUBMISSION.user_id ? 'user_id' : 'anonymous_id';\n      formData[`submission[${anonymizableIdKey}]`] = ENV.SUBMISSION[anonymizableIdKey];\n\n      if (jquery__WEBPACK_IMPORTED_MODULE_2___default()('#media_media_recording:visible').length > 0) {\n        const comment_id = jquery__WEBPACK_IMPORTED_MODULE_2___default()('#media_media_recording').data('comment_id');\n        const comment_type = jquery__WEBPACK_IMPORTED_MODULE_2___default()('#media_media_recording').data('comment_type');\n        formData['submission[media_comment_type]'] = comment_type || 'video';\n        formData['submission[media_comment_id]'] = comment_id;\n        formData['submission[comment]'] = '';\n      } else {\n        if (jquery__WEBPACK_IMPORTED_MODULE_2___default()('.grading_comment').val() && jquery__WEBPACK_IMPORTED_MODULE_2___default()('.grading_comment').val != '') {\n          formData['submission[comment]'] = jquery__WEBPACK_IMPORTED_MODULE_2___default()('.grading_comment').val();\n        }\n\n        if (!formData['submission[comment]'] && jquery__WEBPACK_IMPORTED_MODULE_2___default()(\"#add_comment_form input[type='file']\").length > 0) {\n          formData['submission[comment]'] = i18n_submissions__WEBPACK_IMPORTED_MODULE_1__[\"default\"].t('see_attached_files', 'See attached files');\n        }\n      }\n\n      if (!formData['submission[comment]'] && !formData['submission[media_comment_id]']) {\n        jquery__WEBPACK_IMPORTED_MODULE_2___default()('.submission_header').loadingImage('remove');\n        jquery__WEBPACK_IMPORTED_MODULE_2___default()('.save_comment_button').attr('disabled', null);\n        return;\n      }\n\n      if (jquery__WEBPACK_IMPORTED_MODULE_2___default()(\"#add_comment_form input[type='file']\").length > 0) {\n        jquery__WEBPACK_IMPORTED_MODULE_2___default.a.ajaxJSONFiles(url + '.text', method, formData, jquery__WEBPACK_IMPORTED_MODULE_2___default()(\"#add_comment_form input[type='file']\"), submissionLoaded);\n      } else {\n        jquery__WEBPACK_IMPORTED_MODULE_2___default.a.ajaxJSON(url, method, formData, submissionLoaded);\n      }\n    });\n    jquery__WEBPACK_IMPORTED_MODULE_2___default()('.cancel_comment_button').click(event => {\n      jquery__WEBPACK_IMPORTED_MODULE_2___default()('.grading_comment').val('');\n      jquery__WEBPACK_IMPORTED_MODULE_2___default()('.comments_link').click();\n    });\n    jquery__WEBPACK_IMPORTED_MODULE_2___default()('.grading_value').change(event => {\n      jquery__WEBPACK_IMPORTED_MODULE_2___default()(document).triggerHandler('grading_change');\n    }); // post new grade but no comments\n\n    jquery__WEBPACK_IMPORTED_MODULE_2___default()(document).bind('grading_change', event => {\n      jquery__WEBPACK_IMPORTED_MODULE_2___default()('.save_comment_button').attr('disabled', 'disabled');\n      jquery__WEBPACK_IMPORTED_MODULE_2___default()('.submission_header').loadingImage();\n      const url = jquery__WEBPACK_IMPORTED_MODULE_2___default()('.update_submission_url').attr('href');\n      const method = jquery__WEBPACK_IMPORTED_MODULE_2___default()('.update_submission_url').attr('title');\n      const formData = {\n        'submission[assignment_id]': ENV.SUBMISSION.assignment_id,\n        'submission[user_id]': ENV.SUBMISSION.user_id,\n        'submission[group_comment]': jquery__WEBPACK_IMPORTED_MODULE_2___default()('#submission_group_comment').attr('checked') ? '1' : '0'\n      };\n\n      if (jquery__WEBPACK_IMPORTED_MODULE_2___default()('.grading_value:visible').length > 0) {\n        formData['submission[grade]'] = _canvas_grading_GradeFormatHelper__WEBPACK_IMPORTED_MODULE_3__[\"default\"].delocalizeGrade(jquery__WEBPACK_IMPORTED_MODULE_2___default()('.grading_value').val());\n        jquery__WEBPACK_IMPORTED_MODULE_2___default.a.ajaxJSON(url, method, formData, submissionLoaded);\n      } else {\n        jquery__WEBPACK_IMPORTED_MODULE_2___default()('.submission_header').loadingImage('remove');\n        jquery__WEBPACK_IMPORTED_MODULE_2___default()('.save_comment_button').attr('disabled', null);\n      }\n    });\n    jquery__WEBPACK_IMPORTED_MODULE_2___default()('.attach_comment_file_link').click(event => {\n      event.preventDefault();\n      const $attachment = jquery__WEBPACK_IMPORTED_MODULE_2___default()('#comment_attachment_input_blank').clone(true).removeAttr('id');\n      $attachment.find('input').attr('name', 'attachments[' + fileIndex++ + '][uploaded_data]');\n      jquery__WEBPACK_IMPORTED_MODULE_2___default()('#add_comment_form .comment_attachments').append($attachment.slideDown());\n    });\n    jquery__WEBPACK_IMPORTED_MODULE_2___default()('.delete_comment_attachment_link').click(function (event) {\n      event.preventDefault();\n      jquery__WEBPACK_IMPORTED_MODULE_2___default()(this).parents('.comment_attachment_input').slideUp(function () {\n        jquery__WEBPACK_IMPORTED_MODULE_2___default()(this).remove();\n      });\n    });\n    jquery__WEBPACK_IMPORTED_MODULE_2___default()('.save_rubric_button').click(function () {\n      const $rubric = jquery__WEBPACK_IMPORTED_MODULE_2___default()(this).parents('#rubric_holder').find('.rubric');\n      const submitted_data = rubricAssessment.assessmentData($rubric);\n      const url = jquery__WEBPACK_IMPORTED_MODULE_2___default()('.update_rubric_assessment_url').attr('href');\n      const method = 'POST';\n      $rubric.loadingImage();\n      jquery__WEBPACK_IMPORTED_MODULE_2___default.a.ajaxJSON(url, method, submitted_data, data => {\n        $rubric.loadingImage('remove');\n        const assessment = data;\n        let found = false;\n\n        if (assessment.rubric_association) {\n          rubricAssessment.updateRubricAssociation($rubric, data.rubric_association);\n          delete assessment.rubric_association;\n        }\n\n        for (const idx in rubricAssessments) {\n          const a = rubricAssessments[idx].rubric_assessment;\n\n          if (a && assessment && assessment.id == a.id) {\n            rubricAssessments[idx].rubric_assessment = assessment;\n            found = true;\n          }\n        }\n\n        if (!found) {\n          if (!data.rubric_assessment) {\n            data = {\n              rubric_assessment: data\n            };\n          }\n\n          rubricAssessments.push(data);\n          const $option = jquery__WEBPACK_IMPORTED_MODULE_2___default()(document.createElement('option'));\n          $option.val(assessment.id).text(assessment.assessor_name).attr('id', 'rubric_assessment_option_' + assessment.id);\n          jquery__WEBPACK_IMPORTED_MODULE_2___default()('#rubric_assessments_select').prepend($option).val(assessment.id);\n        }\n\n        jquery__WEBPACK_IMPORTED_MODULE_2___default()('#rubric_assessment_option_' + assessment.id).text(assessment.assessor_name);\n        jquery__WEBPACK_IMPORTED_MODULE_2___default()('#new_rubric_assessment_option').remove();\n        jquery__WEBPACK_IMPORTED_MODULE_2___default()('#rubric_assessments_list').show();\n\n        if (assessment.assessment_type === 'peer_review') {\n          jquery__WEBPACK_IMPORTED_MODULE_2___default()('.save_rubric_button').remove();\n        }\n        /* the 500 timeout is due to the fadeOut in the closeRubric function, which defaults to 400.\n          We need to ensure any warning messages are read out after the fadeOut manages the page focus\n          so that any messages are not interrupted in voiceover utilities */\n\n\n        setTimeout(() => {\n          rubricAssessment.populateRubric($rubric, assessment, submitted_data);\n          const submission = assessment.artifact;\n\n          if (submission) {\n            showGrade(submission);\n          }\n        }, 500);\n        closeRubric();\n      });\n    });\n    jquery__WEBPACK_IMPORTED_MODULE_2___default()('#rubric_holder .rubric').css({\n      width: 'auto',\n      marginTop: 0\n    });\n    makeRubricAccessible(jquery__WEBPACK_IMPORTED_MODULE_2___default()('#rubric_holder'));\n    jquery__WEBPACK_IMPORTED_MODULE_2___default()('.hide_rubric_link').click(event => {\n      event.preventDefault();\n      closeRubric();\n    });\n    jquery__WEBPACK_IMPORTED_MODULE_2___default()('.assess_submission_link').click(event => {\n      event.preventDefault();\n      jquery__WEBPACK_IMPORTED_MODULE_2___default()('#rubric_assessments_select').change();\n\n      if (ENV.mark_rubric_comments_read_url) {\n        jquery__WEBPACK_IMPORTED_MODULE_2___default.a.ajaxJSON(ENV.mark_rubric_comments_read_url, 'PUT', {}, () => {});\n        jquery__WEBPACK_IMPORTED_MODULE_2___default()('.rubric_comment.unread_indicator').hide();\n        jquery__WEBPACK_IMPORTED_MODULE_2___default()('.submission-details-header__rubric .assess_submission_link').attr('title', '');\n      }\n\n      openRubric();\n    });\n    jquery__WEBPACK_IMPORTED_MODULE_2___default()('#rubric_assessments_select').change(function () {\n      const id = jquery__WEBPACK_IMPORTED_MODULE_2___default()(this).val();\n      let found = null;\n\n      for (const idx in rubricAssessments) {\n        const assessment = rubricAssessments[idx].rubric_assessment;\n\n        if (assessment.id == id) {\n          found = assessment;\n        }\n      }\n\n      const container = jquery__WEBPACK_IMPORTED_MODULE_2___default()('#rubric_holder .rubric');\n      rubricAssessment.populateNewRubric(container, found, ENV.rubricAssociation);\n      const current_user = !found || found.assessor_id == ENV.RUBRIC_ASSESSMENT.assessor_id;\n      jquery__WEBPACK_IMPORTED_MODULE_2___default()('#rubric_holder .save_rubric_button').showIf(current_user);\n    }).change();\n    jquery__WEBPACK_IMPORTED_MODULE_2___default()('.media_comment_link').click(event => {\n      event.preventDefault();\n      jquery__WEBPACK_IMPORTED_MODULE_2___default()('#media_media_recording').show();\n      const $recording = jquery__WEBPACK_IMPORTED_MODULE_2___default()('#media_media_recording').find('.media_recording');\n      $recording.mediaComment('create', 'any', (id, type) => {\n        jquery__WEBPACK_IMPORTED_MODULE_2___default()('#media_media_recording').data('comment_id', id).data('comment_type', type);\n        jquery__WEBPACK_IMPORTED_MODULE_2___default()(document).triggerHandler('comment_change');\n        jquery__WEBPACK_IMPORTED_MODULE_2___default()('#add_comment_form').show();\n        jquery__WEBPACK_IMPORTED_MODULE_2___default()('#media_media_recording').hide();\n        $recording.empty();\n      }, () => {\n        jquery__WEBPACK_IMPORTED_MODULE_2___default()('#add_comment_form').show();\n        jquery__WEBPACK_IMPORTED_MODULE_2___default()('#media_media_recording').hide();\n      });\n    });\n    jquery__WEBPACK_IMPORTED_MODULE_2___default()('#media_recorder_container a').live('click', event => {\n      jquery__WEBPACK_IMPORTED_MODULE_2___default()('#add_comment_form').show();\n      jquery__WEBPACK_IMPORTED_MODULE_2___default()('#media_media_recording').hide();\n    });\n    jquery__WEBPACK_IMPORTED_MODULE_2___default()('.comments .comment_list').delegate('.play_comment_link', 'click', function (event) {\n      event.preventDefault();\n      const comment_id = jquery__WEBPACK_IMPORTED_MODULE_2___default()(this).parents('.comment_media').getTemplateData({\n        textValues: ['media_comment_id']\n      }).media_comment_id;\n\n      if (comment_id) {\n        jquery__WEBPACK_IMPORTED_MODULE_2___default()(this).parents('.comment_media').find('.media_comment_content').mediaComment('show', comment_id, 'video', this);\n      }\n    }) // this is to prevent the default behavior of loading the video inline from happening\n    // the .delegate(\".play_comment_link\"... and the .delegate('a.instructure_inline_media_comment'...\n    // are actually selecting the same links I just wanted to use the different selectors because\n    // instructure.js uses 'a.instructure_inline_media_comment' as the selector for its .live handler\n    // to show things inline.\n    .delegate('a.instructure_inline_media_comment', 'click', e => {\n      // dont let it bubble past this so it doesnt get to the .live handler to show the video inline\n      e.preventDefault();\n      e.stopPropagation();\n    });\n    showGrade(ENV.SUBMISSION.submission);\n  });\n} // necessary for tests\n\nfunction teardown() {\n  jquery__WEBPACK_IMPORTED_MODULE_2___default()(window).unbind('resize', windowResize);\n  jquery__WEBPACK_IMPORTED_MODULE_2___default()(document).unbind('comment_change');\n  jquery__WEBPACK_IMPORTED_MODULE_2___default()(document).unbind('grading_change');\n}\njquery__WEBPACK_IMPORTED_MODULE_2___default()(document).fragmentChange((event, hash) => {\n  if (hash == '#rubric') {\n    jquery__WEBPACK_IMPORTED_MODULE_2___default()('.assess_submission_link:visible:first').click();\n  } else if (hash.match(/^#comment/)) {\n    let params = null;\n\n    try {\n      params = JSON.parse(hash.substring(8));\n    } catch (e) {}\n\n    if (params && params.comment) {\n      jquery__WEBPACK_IMPORTED_MODULE_2___default()('.grading_comment').val(params.comment);\n    }\n\n    jquery__WEBPACK_IMPORTED_MODULE_2___default()('.grading_comment').focus().select();\n  }\n});\n\nINST.refreshGrades = function () {\n  const url = jquery__WEBPACK_IMPORTED_MODULE_2___default()('.submission_data_url').attr('href');\n  setTimeout(() => {\n    jquery__WEBPACK_IMPORTED_MODULE_2___default.a.ajaxJSON(url, 'GET', {}, submissionLoaded);\n  }, 500);\n};\n\njquery__WEBPACK_IMPORTED_MODULE_2___default()(document).ready(() => {\n  window.addEventListener('message', event => {\n    if (event.data === 'refreshGrades') {\n      INST.refreshGrades();\n    }\n  }, false);\n});\n\n//# sourceURL=webpack:///./ui/features/submissions/jquery/index.js?");

/***/ }),

/***/ "zakt":
/*!****************************************************************************!*\
  !*** ./frontend_build/i18n.js?submissions!./ui/shims/dummyI18nResource.js ***!
  \****************************************************************************/
/*! exports provided: default */
/***/ (function(module, __webpack_exports__, __webpack_require__) {

"use strict";
eval("__webpack_require__.r(__webpack_exports__);\n/* harmony import */ var _canvas_i18n_i18nObj__WEBPACK_IMPORTED_MODULE_0__ = __webpack_require__(/*! @canvas/i18n/i18nObj */ \"HGxv\");\n/* harmony import */ var translations_core_en__WEBPACK_IMPORTED_MODULE_1__ = __webpack_require__(/*! translations/_core_en */ \"0sPK\");\n\n    \n    \n    \n\n    /* harmony default export */ __webpack_exports__[\"default\"] = (_canvas_i18n_i18nObj__WEBPACK_IMPORTED_MODULE_0__[\"default\"].scoped('submissions'));\n  \n\n//# sourceURL=webpack:///./ui/shims/dummyI18nResource.js?./frontend_build/i18n.js?submissions");

/***/ })

}]);